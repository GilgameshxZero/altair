edge = [(0,85,0.17337565233314),(0,89,-0.25754570146794),(0,90,-0.67345194860683),(0,93,-0.171819208349864),(0,98,0.0799890133365886),(0,101,-0.311777092806787),(0,105,-0.233924375133518),(0,108,0.257637256996368),(0,113,-0.278115176854762),(0,114,0.491225928525651),(0,117,0.945707571642201),(0,118,-0.917447431867428),(1,86,0.3519394512772),(1,92,-0.752128666035951),(1,98,0.754631183812983),(1,102,0.480758079775384),(1,104,0.475783562730796),(1,107,0.925290688802759),(1,108,-0.266273995178075),(1,109,-0.0806299020355846),(1,113,-0.465956602679525),(2,87,0.433759575182348),(2,88,-0.994537186803797),(2,100,0.0714438306833094),(2,106,-0.124179815057833),(2,108,0.153050325022126),(2,110,0.760155034028138),(2,113,-0.38624225592822),(2,118,0.215216528824732),(3,89,-0.132694479201636),(3,92,-0.833796197393719),(3,97,-0.802056947538682),(3,99,0.923551133762627),(3,101,0.397900326548051),(3,103,-0.917020172734764),(3,105,-0.582598345896786),(3,108,0.131778923917356),(3,109,0.549913022247993),(3,111,0.554490798669393),(3,112,0.466322824793237),(3,116,0.365672780541398),(4,90,0.384197515793329),(4,91,0.0720542008728294),(4,97,-0.469008453627125),(4,99,-0.748313852351451),(4,101,0.244758445997497),(4,108,-0.63365581225013),(4,113,-0.469618823816645),(4,118,-0.808282723471786),(5,86,0.333597827082125),(5,87,-0.511215552232429),(5,89,-0.0480056154057436),(5,92,0.484786523026215),(5,93,-0.693899349955748),(5,99,-0.161198767052217),(5,104,0.543504135258034),(5,114,0.174047059541612),(5,118,-0.0859706411938841),(6,89,-0.201635792107913),(6,92,-0.802728354747154),(6,94,-0.160222174748985),(6,100,-0.474501785332804),(6,101,-0.883022553178503),(6,103,-0.585711233863338),(6,107,0.275063325907163),(6,110,-0.345622119815668),(6,113,-0.147312845240638),(7,85,0.0991546372875149),(7,86,-0.129520554216132),(7,90,0.573198644978179),(7,95,-0.868739890743736),(7,99,0.624988555558947),(7,100,0.761833552049318),(7,104,0.0523087252418592),(7,106,0.369426557206946),(7,108,0.713736381115146),(7,112,0.0448927274391919),(7,116,-0.819421979430525),(8,92,0.80489516891995),(8,93,0.910855433820612),(8,95,0.697592089602344),(8,99,0.877346110415967),(8,106,-0.511795403912473),(8,107,0.485305337687307),(8,115,0.242866298409986),(8,116,-0.444135868404187),(8,118,-0.9127780999176),(9,85,-0.128482924893948),(9,87,-0.757499923703726),(9,98,-0.84469130527665),(9,101,-0.0713522751548814),(9,103,-0.0928678243354595),(9,105,0.755882442701499),(9,106,0.763389996032594),(9,113,0.491409039582507),(10,89,-0.738670003357036),(10,96,-0.0529190954313791),(10,106,0.0770897549363689),(10,108,0.253791924802393),(10,109,0.957640308847316),(10,111,0.948973052156133),(10,112,-0.986907559434797),(10,114,-0.0855739005706961),(10,115,0.442426831873531),(10,116,-0.580584124271371),(10,117,0.667195654164251),(11,89,-0.453779717398602),(11,97,0.270455030976287),(11,105,-0.781548509170812),(11,112,0.151585436567278),(11,115,0.27881710257271),(12,92,-0.771050141911069),(12,93,0.296792504654073),(12,94,0.67345194860683),(12,97,-0.360576189458907),(12,98,-0.144260994293039),(12,99,-0.694143498031556),(12,108,-0.180364391003143),(12,116,0.111209448530534),(13,86,0.800866725669118),(13,87,0.816675313577685),(13,90,0.24146244697409),(13,99,0.688406018250069),(13,102,0.891262550737022),(13,104,0.120029297769097),(13,113,0.065523239844966),(13,116,-0.122562334055605),(13,118,0.993072298348949),(14,90,0.7383342997528),(14,93,-0.849909970397046),(14,95,0.532090212714011),(14,102,0.425305948057497),(14,104,0.622058778649251),(14,106,0.177434614093448),(14,109,0.0202337717825861),(14,110,0.158574175237281),(14,111,0.592242194891202),(15,85,0.681722464674825),(15,92,-0.347331156346324),(15,99,-0.789422284615619),(15,101,-0.654286324655904),(15,104,-0.69808038575396),(15,108,-0.972197637867367),(15,117,0.547990356151006),(16,86,-0.415234839930418),(16,87,0.120120853297525),(16,88,0.556321909237953),(16,90,0.807855464339122),(16,91,0.948667867061373),(16,95,-0.179692983794671),(16,97,-0.524918362987152),(16,98,0.0661336100344859),(16,99,-0.949949644459365),(16,101,0.369762260811182),(16,108,0.778099917600024),(16,110,-0.863612781151769),(17,89,0.526902066103092),(17,96,-0.228370006408887),(17,99,0.146397289956359),(17,101,-0.612323374126408),(17,106,0.468733787041841),(17,107,0.202826013977477),(17,109,0.684102908413953),(18,90,0.800836207159642),(18,91,0.337076937162389),(18,93,-0.312601092562639),(18,99,0.394116031373028),(18,102,0.54475539414655),(18,103,0.223273415326395),(18,104,0.830011902218696),(18,110,0.478560747093112),(18,111,0.95196386608478),(18,116,0.515366069521165),(18,117,0.696920682393872),(18,118,-0.708029419843135),(19,87,0.270729697561571),(19,89,0.518509475997192),(19,93,-0.896816919461654),(19,95,0.00408948026978362),(19,101,0.290231025116733),(19,105,-0.272774437696463),(19,115,-0.500442518387402),(20,88,0.828424939725944),(20,101,-0.961302529984436),(20,103,-0.41193884090701),(20,104,0.604419080172124),(20,105,-0.472029786065249),(20,106,0.706991790520951),(20,111,-0.406903286843471),(20,116,0.880550553910947),(21,86,-0.839045381023591),(21,87,-0.39112521744438),(21,94,0.0378124332407605),(21,96,0.955961790826136),(21,101,0.817957090975677),(21,102,-0.413953062532426),(21,105,0.438489944151128),(21,107,0.341349528489029),(21,108,-0.834955900753807),(22,86,0.903408917508469),(22,88,0.556505020294809),(22,91,0.12747581408124),(22,92,-0.682180242316965),(22,93,0.470717490157781),(22,98,-0.373424481948302),(22,106,0.167394024475845),(22,115,0.215521713919492),(22,117,0.499588000122074),(23,85,0.728446302682577),(23,86,0.964201788384655),(23,88,0.0151371807000946),(23,90,-0.436902981658376),(23,97,-0.0891445661793878),(23,104,0.98223822748497),(23,112,-0.602526932584613),(23,114,0.054353465376751),(23,115,0.113589892269662),(23,116,-0.601336710715049),(24,89,-0.308053834650716),(24,90,0.149601733451338),(24,91,0.346659749137852),(24,101,0.431958983123264),(24,107,0.382793664357433),(24,108,0.655415509506516),(24,110,-0.895596179082614),(24,112,0.210547196874905),(25,90,-0.448072756126591),(25,92,0.625843073824274),(25,94,-0.427045503097629),(25,98,0.993896298104801),(25,105,-0.876613666188543),(25,108,0.0682393871883297),(25,109,-0.330851161229286),(25,115,0.870723593859676),(26,85,-0.199102755821406),(26,87,0.0896023438215278),(26,89,0.393169957579272),(26,95,0.910061952574236),(26,98,0.13022247993408),(26,100,-0.32609027375103),(26,101,0.823053682058168),(26,102,0.56419568468276),(26,103,-0.307016205328532),(26,104,0.124515518662069),(26,107,-0.976622821741386),(26,109,0.245887630848109),(26,112,-0.334269234290597),(26,113,-0.444746238593707),(26,117,-0.621997741630299),(27,85,-0.297860652485733),(27,87,-0.230231635486923),(27,94,0.951078829309976),(27,100,0.0891445661793878),(27,102,0.0737632374034852),(27,103,-0.866389965514084),(27,104,-0.262337107455672),(27,105,-0.14813684499649),(27,108,0.349253822443312),(27,110,-0.495132297738578),(27,114,-0.82876064333018),(28,87,-0.959685048982208),(28,88,0.781701101718192),(28,97,0.959318826868496),(28,99,0.404278695028535),(28,104,-0.941679128391369),(28,113,0.637623218482009),(28,114,0.676625873592334),(29,88,0.58378856776635),(29,91,0.895718253120518),(29,102,0.506637775811029),(29,105,-0.993896298104801),(29,116,-0.37305825983459),(30,95,-0.236701559495834),(30,96,-0.22003845332194),(30,99,-0.00347911008026368),(30,101,0.261146885586108),(30,104,-0.670278023621326),(30,109,-0.693533127842036),(30,110,-0.417035431989502),(30,114,-0.763054292428358),(30,118,-0.160588396862697),(31,85,0.91247291482284),(31,92,0.588946195867794),(31,94,0.902066103091525),(31,96,0.533555101168859),(31,99,0.77843562120426),(31,103,-0.284585100863674),(31,107,0.600360118411817),(31,108,-0.558030945768609),(31,109,0.0358592486342967),(31,111,0.286019470809046),(31,112,-0.446333201086459),(31,117,0.849665822321238),(32,86,0.997497482222968),(32,87,-0.429486983855708),(32,89,0.80779442732017),(32,92,-0.440443128757592),(32,98,0.287331766716514),(32,99,-0.168156987212745),(32,104,0.759636219367046),(32,106,0.358287301248207),(32,109,0.320261238441115),(32,116,0.254463332010865),(32,118,0.794549394207587),(33,96,0.0599688711203345),(33,98,0.736167485580004),(33,108,0.634601886043886),(33,110,-0.78591265602588),(33,111,0.0614337595751824),(33,114,0.508468886379589),(34,85,-0.150303659169286),(34,90,-0.17108676412244),(34,99,-0.608966338084048),(34,104,0.944883571886349),(34,109,0.140751365703299),(35,86,-0.824671163060396),(35,87,0.735251930295724),(35,97,-0.299569689016388),(35,98,-0.538590655232398),(35,100,-0.58912930692465),(35,104,0.543931394390698),(35,107,-0.215430158391064),(35,109,-0.553910946989349),(35,110,-0.933378093813898),(35,112,-0.0664693136387219),(36,85,0.715262306588946),(36,87,0.539811395611438),(36,90,-0.706228827784051),(36,91,-0.534897915585803),(36,104,0.960234382152776),(36,107,0.133457441938536),(36,109,-0.45478682821131),(36,112,-0.414471877193518),(36,115,-0.495132297738578),(36,117,-0.266212958159123),(36,118,-0.275826288644063),(37,85,0.0397045808282723),(37,86,-0.198248237556078),(37,87,-0.136570329905087),(37,91,0.669270912808618),(37,99,0.197790459913938),(37,105,-0.655354472487564),(37,111,0.739951780755028),(37,112,-0.362071596423231),(37,118,0.503036591692862),(38,87,0.17612231818598),(38,90,0.0485244300668355),(38,103,0.572130497146519),(38,105,-0.905911435285501),(38,106,-0.172093874935148),(38,111,-0.435743278298288),(38,115,0.679586169011505),(39,87,-0.180730613116855),(39,89,-0.114291817987609),(39,91,-0.438154240546892),(39,94,-0.775994140446181),(39,97,-0.735831781975768),(39,98,0.790215765861995),(39,107,0.449262977996155),(39,108,0.0583208716086306),(39,109,-0.589098788415174),(39,111,-0.0779137546922208),(39,113,-0.438489944151128),(39,116,0.538163396099735),(39,118,0.854091006195257),(40,88,-0.956877346110416),(40,92,-0.289681691946165),(40,99,-0.0335093234046449),(40,104,-0.578966643269143),(40,110,0.973296304208502),(40,116,-0.852046266060366),(40,118,-0.912961210974456),(41,88,0.283150730918302),(41,93,-0.880031739249855),(41,96,0.297982726523637),(41,97,0.560350352488784),(41,100,0.0349131748405408),(41,101,0.668507950071718),(41,104,0.881344035157323),(41,105,-0.0289315469832453),(41,106,0.413434247871334),(41,107,0.71217993713187),(41,109,0.689687795648061),(41,110,0.853938413647877),(41,111,-0.199713126010926),(41,112,0.239997558519242),(42,85,0.484481337931455),(42,86,0.491500595110935),(42,87,-0.139713736381115),(42,99,-0.858851893673513),(42,100,0.222968230231635),(42,103,-0.354106265449995),(42,109,0.623310037537767),(42,113,0.343333231604968),(43,85,0.355449079866939),(43,88,0.909939878536332),(43,89,-0.623126926480911),(43,93,0.412152470473342),(43,97,-0.491561632129887),(43,98,0.815363017670217),(43,101,0.737052522354808),(43,102,0.709402752769555),(43,103,0.529679250465407),(43,105,-0.549913022247993),(43,110,0.677663502914518),(43,112,0.709555345316935),(43,114,-0.842738120670186),(43,116,-0.521469771416364),(44,89,0.0530411694692831),(44,98,0.765465254676962),(44,99,0.614551225318155),(45,87,-0.11093478194525),(45,88,0.782067323831904),(45,90,-0.0172124393444624),(45,91,0.920285653248695),(45,95,-0.625537888729514),(45,98,-0.988341929380169),(45,108,-0.381389812921537),(45,109,-0.644734031189917),(45,112,-0.628498184148686),(45,115,0.716391491439558),(46,85,-0.338847010711997),(46,89,0.832422864467299),(46,91,-0.614795373393963),(46,94,-0.313974425489059),(46,97,-0.740562150944548),(46,100,-0.562791833246864),(46,101,-0.501419110690634),(46,108,-0.823908200323496),(46,112,-0.349131748405408),(47,86,-0.944883571886349),(47,91,-0.900418103579821),(47,92,0.229529709768975),(47,94,-0.336039307840205),(47,95,-0.32456434827723),(47,100,-0.644398327585681),(47,101,-0.897640919217505),(47,104,0.452314828943754),(47,105,-0.298776207770013),(47,108,0.532334360789819),(47,112,0.0619830927457503),(47,114,-0.0917691579943236),(47,118,0.629718924527726),(48,86,-0.765129551072726),(48,91,0.692159794915616),(48,98,0.965941343424787),(48,99,-0.653614917447432),(48,100,-0.0391247291482284),(48,103,0.59019745475631),(48,105,0.608508560441908),(48,106,0.277077547532579),(48,111,0.766808069093905),(48,115,0.0603045747245705),(49,87,0.429273354289377),(49,89,0.155247657704398),(49,93,-0.392895290993988),(49,94,0.993957335123753),(49,95,0.534958952604755),(49,102,0.145237586596271),(49,113,-0.275307473982971),(49,114,0.714987640003662),(50,89,0.0370189519943846),(50,105,-0.628864406262398),(50,107,-0.0990020447401349),(51,87,0.428296761986145),(51,92,-0.0639667958616901),(51,97,0.797997985778375),(51,98,0.291787469100009),(51,103,0.615680410168767),(51,106,0.197882015442366),(51,112,0.496902371288186),(51,118,-0.411053804132206),(52,89,-0.222693563646352),(52,97,0.553453169347209),(52,106,0.714712973418378),(52,110,-0.969756157109287),(52,111,-0.98040711691641),(52,113,-0.218146305734428),(52,114,-0.322092349009674),(52,118,-0.670613727225562),(53,88,0.705343791009247),(53,90,-0.272682882168035),(53,92,-0.145908993804743),(53,94,-0.517471846675008),(53,104,-0.922238837855159),(53,105,-0.110232856227302),(53,109,0.975432599871822),(54,85,-0.772118289742729),(54,91,-0.652211066011536),(54,94,0.273232215338603),(54,96,-0.593798638874477),(54,111,0.225531785027619),(54,112,0.711142307809687),(54,113,-0.526383251442),(54,118,0.428998687704093),(55,87,0.752677999206519),(55,95,-0.361369670705283),(55,107,0.385052034058657),(55,110,-0.917477950376904),(55,117,0.618884853663747),(56,107,0.660695211645863),(56,111,0.817163609729301),(56,113,0.174169133579516),(56,114,0.507003997924741),(57,87,-0.352305673390912),(57,90,-0.337748344370861),(57,91,-0.0636005737479781),(57,92,-0.734336375011444),(57,93,0.639728995635853),(57,94,0.215094454786828),(57,95,-0.264351329081088),(57,96,0.627185888241218),(57,100,0.689931943723869),(57,102,-0.0065004425183874),(57,103,0.421948912015137),(57,115,-0.522904141361736),(58,86,-0.209082308420057),(58,87,0.143284401989807),(58,89,0.98315378276925),(58,90,0.367442854091006),(58,95,-0.933988464003418),(58,96,-0.783196508682516),(58,101,0.80565813165685),(58,103,0.377178258613849),(58,109,0.383404034546953),(58,110,-0.649006622516556),(58,113,-0.137089144566179),(58,114,-0.734244819483016),(58,115,0.71309549241615),(58,118,-0.0725424970244453),(59,85,0.0567339091158788),(59,86,-0.783562730796228),(59,90,0.0177312540055544),(59,91,-0.962218085268715),(59,93,-0.973937192907498),(59,97,0.700827051606799),(59,98,-0.924161503952147),(59,100,0.913205359050264),(59,102,-0.276741843928343),(59,112,0.0996429334391308),(59,114,-0.819299905392621),(60,85,0.179143650624104),(60,87,-0.725272377697073),(60,90,0.547227393414106),(60,91,-0.556443983275857),(60,96,0.723776970732749),(60,100,-0.682027649769585),(60,101,-0.456678975798822),(60,105,-0.984191412091433),(60,107,0.0711386455885495),(60,109,-0.774803918576617),(60,110,0.32517471846675),(60,114,0.140812402722251),(61,89,-0.17398602252266),(61,94,0.0842310861537523),(61,96,-0.786706137272256),(61,98,-0.459120456556902),(61,100,-0.0179143650624104),(61,102,0.451094088564715),(61,103,-0.447737052522355),(61,114,0.824060792870876),(61,115,-0.180852687154759),(62,93,-0.995910519730216),(62,95,-0.975096896267586),(62,107,-0.828211310159612),(62,109,-0.0663472396008179),(62,110,0.445661793877987),(62,111,-0.404309213538011),(63,87,0.0679342020935697),(63,90,0.0294808801538133),(63,93,-0.360759300515763),(63,97,-0.137730033265175),(63,100,-0.824518570513016),(63,103,0.11398663289285),(63,104,0.855952635273293),(63,108,-0.600482192449721),(63,111,0.973570970793786),(63,114,-0.619556260872219),(63,117,0.909360026856288),(64,87,0.0235602893154698),(64,94,-0.466902676473281),(64,99,-0.21774956511124),(64,110,-0.853114413892025),(64,112,0.32273323770867),(64,116,-0.230475783562731),(65,87,-0.836054567094943),(65,88,-0.139347514267403),(65,90,-0.54170354319895),(65,97,-0.821802423169652),(65,99,0.0274056215094455),(65,107,0.975280007324442),(65,110,0.82845545823542),(65,111,-0.69106112857448),(65,114,0.0456556901760918),(65,116,0.921201208532975),(65,117,0.413861507003998),(66,85,0.389660328989532),(66,102,0.344218268379772),(66,105,-0.0452589495529038),(66,108,-0.560655537583544),(66,111,0.569505905331584),(66,115,-0.717703787347026),(66,118,0.728446302682577),(67,86,-0.951872310556352),(67,90,-0.117038483840449),(67,92,0.510666219061861),(67,104,0.032227546006653),(67,109,0.713736381115146),(67,111,-0.315591906491287),(68,87,0.187078463087863),(68,88,0.266212958159123),(68,90,0.400555436872463),(68,93,0.116855372783593),(68,95,-0.493240150151067),(68,96,0.515701773125401),(68,97,0.857936338389233),(68,103,-0.033051545762505),(68,107,0.953398236030152),(68,112,-0.725333414716025),(68,114,-0.627002777184362),(69,87,-0.286080507827998),(69,88,-0.728080080568865),(69,92,0.817011017181921),(69,94,-0.293465987121189),(69,95,0.748710592974639),(69,97,0.086886196478164),(69,108,-0.943601794488357),(69,113,-0.772759178441725),(69,114,0.511215552232429),(69,118,0.506118961149937),(70,85,-0.368053224280526),(70,86,-0.220099490340892),(70,87,0.0726340525528733),(70,90,-0.391369365520188),(70,96,0.967192602313303),(70,97,0.565843684194464),(70,99,-0.157261879329814),(70,105,-0.425153355510117),(70,107,-0.360576189458907),(70,109,0.675466170232246),(70,110,-0.156010620441298),(70,111,-0.539689321573534),(71,85,0.664540543839839),(71,93,-0.134739219336528),(71,96,-0.19281594286935),(71,100,0.514481032746361),(71,104,0.87099826044496),(71,106,0.660054322946867),(71,111,0.816034424878689),(71,113,0.198889126255074),(72,94,0.851374858851894),(72,96,-0.133304849391156),(72,99,0.314859462263863),(72,110,-0.360026856288339),(72,112,0.985534226508377),(72,114,0.26227607043672),(72,115,-0.660847804193243),(72,116,-0.155125583666494),(73,88,0.415631580553606),(73,94,0.865749076815088),(73,99,0.0740073854792932),(73,100,0.229438154240547),(73,106,0.925168614764855),(73,110,0.783501693777276),(73,115,-0.214636677144688),(74,90,-0.438734092226936),(74,94,-0.442579424420911),(74,99,-0.411664174321726),(74,102,0.999359111301004),(74,106,-0.196966460158086),(74,107,-0.170567949461348),(74,110,0.862819299905393),(74,113,-0.0426648762474441),(74,116,0.449110385448775),(75,85,-0.339701528977325),(75,86,-0.751091036713767),(75,93,-0.723441267128513),(75,98,0.268501846369823),(75,103,-0.587389751884518),(75,105,-0.602343821527757),(75,111,0.876186407055879),(75,117,-0.0798364207892087),(76,86,-0.961790826136051),(76,89,0.889431440168462),(76,92,-0.10742515335551),(76,94,-0.506576738792077),(76,99,-0.550767540513321),(76,101,-0.692098757896664),(76,103,-0.737357707449568),(76,106,-0.843684194463942),(76,110,-0.735831781975768),(76,113,-0.982451857051302),(77,88,-0.365947447126682),(77,91,-0.15530869472335),(77,93,0.0708029419843135),(77,98,0.534897915585803),(77,101,-0.0644856105227821),(77,102,-0.997497482222968),(77,103,0.786126285592212),(77,104,-0.46134830774865),(77,105,-0.192083498641926),(77,109,-0.765617847224342),(78,88,0.917355876339),(78,93,0.371471297341838),(78,94,-0.836909085360271),(78,101,-0.667256691183203),(78,104,-0.0592669454023865),(78,110,-0.157719656971954),(78,114,-0.882625812555315),(78,116,-0.319833979308451),(78,117,-0.74489577929014),(78,118,-0.405529953917051),(79,87,-0.699850459303568),(79,92,0.973174230170598),(79,94,-0.449110385448775),(79,107,0.428510391552477),(79,108,0.462599566637165),(79,114,0.357127597888119),(79,118,-0.217810602130192),(80,87,0.928586687826167),(80,88,-0.0896023438215278),(80,91,0.154423657948546),(80,99,-0.921689504684591),(80,101,0.281075472273934),(80,107,0.810785241248817),(80,113,0.098208563493759),(81,85,0.135166478469192),(81,86,0.445020905178991),(81,90,-0.358561967833491),(81,93,-0.694601275673696),(81,96,-0.640400402844325),(81,97,0.498153630176702),(81,106,0.78438673055208),(81,107,0.57045197912534),(81,110,0.555925168614765),(81,115,-0.797204504531999),(82,86,-0.900051881466109),(82,92,-0.446119571520127),(82,110,0.0908230842005676),(82,112,-0.762901699880978),(83,87,-0.344096194341868),(83,91,-0.732902005066073),(83,93,-0.923642689291055),(83,101,0.290292062135685),(83,103,-0.273354289376507),(83,105,-0.75579088717307),(83,108,0.205938901944029),(84,85,-0.783837397381512),(84,86,-0.679189428388318),(84,89,-0.601153599658193),(84,95,-0.191686758018738),(84,99,0.817438276314585),(84,104,-0.328928495132298),(84,111,0.589403973509934),(84,113,0.490829187902463),(84,114,-0.419843134861293)]
orgname='BHNEAT_1_15'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()