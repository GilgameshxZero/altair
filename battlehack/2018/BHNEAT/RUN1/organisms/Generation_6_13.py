edge = [(0,85,1.91956846827601),(0,89,1.16698202459792),(0,90,-3.6581011383404),(0,93,1.19457075716422),(0,98,3.019394512772),(0,101,2.85131382183294),(0,105,0.442045350505082),(0,108,-0.293053987243263),(0,113,3.37255470442824),(0,114,-2.77426984466079),(0,117,2.46681112094485),(0,118,2.22623371074557),(1,86,0.156117435224464),(1,92,0.85079500717185),(1,98,3.10190130314035),(1,102,-3.34479812005982),(1,104,-0.622318185979797),(1,107,-2.25225074007385),(1,108,1.42757957701346),(1,109,-4.56993316446425),(1,113,-0.901028473769341),(2,87,-0.295388653218177),(2,88,-2.37632374034852),(2,100,0.671758171330912),(2,106,0.563188573870052),(2,108,2.63089388714255),(2,110,-1.71393475142674),(2,113,-0.410779137546922),(2,118,0.824732200079348),(3,89,-0.169362468337046),(3,92,-0.229712820825831),(3,97,-0.429395428327281),(3,99,2.52531510361034),(3,101,0.133991515854366),(3,103,1.01542710654012),(3,105,1.77556688131352),(3,108,-1.56176946317942),(3,109,-1.10461745048372),(3,111,0.642445142979217),(3,112,2.04945524460585),(3,116,-3.67638172551653),(4,90,1.08861049226356),(4,91,0.884899441511277),(4,97,-1.32168034913175),(4,99,1.3015839106418),(4,101,-2.36361278115177),(4,108,-2.29514450514237),(4,113,0.700750755333109),(4,118,1.02801599169897),(5,86,1.40844447157201),(5,87,0.746635334330271),(5,89,0.580034791100803),(5,92,-1.15620899075289),(5,93,2.2686544389172),(5,99,2.45541245765557),(5,104,3.56411938840907),(5,114,1.73184911648915),(5,118,-0.888134403515732),(6,89,3.10650959807123),(6,92,-2.29552598651082),(6,94,-0.680715353862117),(6,100,1.31907101657155),(6,101,-2.26410718100528),(6,103,0.582934049501022),(6,107,1.03491317484054),(6,110,0.852488784447768),(6,113,-0.547227393414106),(7,85,-3.51130710776086),(7,86,0.363536484878079),(7,90,-1.06060975981933),(7,95,-2.17394024475845),(7,99,3.73398541215247),(7,100,-1.74108096560564),(7,104,-0.356364635151219),(7,106,2.44270149845882),(7,108,-4.25116733298746),(7,112,-1.01411481063265),(7,116,-0.442442091128269),(8,92,-0.299722281563768),(8,93,-2.21082186346019),(8,95,1.65059358500931),(8,99,-5.43418683431501),(8,106,-2.11301004058962),(8,107,-0.588702047791986),(8,115,-1.63930173650319),(8,116,-1.43304239020966),(8,118,-1.72406689657277),(9,85,1.91380046998505),(9,87,-1.87287514877773),(9,98,-2.3581652272103),(9,101,3.39584032715842),(9,103,0.714285714285714),(9,105,-1.91109958189642),(9,106,-0.886715292825099),(9,113,1.95637379070406),(10,89,0.651921140171514),(10,96,-0.943433942686239),(10,106,1.30390331736198),(10,108,3.39742728965117),(10,111,0.17131565294351),(10,112,-1.78830835901975),(10,114,1.28397473067415),(10,115,1.55075228125858),(10,116,-2.45780816064943),(10,117,-1.37040314951018),(11,89,1.4778740806299),(11,97,1.99439985351115),(11,105,-0.584459974974822),(11,112,-1.14537491988891),(11,115,2.14796899319437),(12,92,-4.30634479812006),(12,93,0.238425855281228),(12,94,-1.70720542008728),(12,97,-2.27665028839991),(12,98,4.48356578264718),(12,99,0.940794091616565),(12,108,-1.10406811731315),(12,116,2.34414197210608),(13,86,-0.398449659718619),(13,87,-0.0573747978148747),(13,90,-2.91700491348003),(13,99,-3.13370159001434),(13,102,1.49121066927091),(13,104,-2.65517136143071),(13,113,0.823145237586596),(13,116,-0.185201574755089),(13,118,1.59825434125797),(14,90,0.919339579454939),(14,93,1.78826258125553),(14,95,0.694677571947386),(14,102,-2.59009063997314),(14,104,-1.89291055024873),(14,106,3.31402020325327),(14,109,3.27382732627339),(14,110,-0.292901394695883),(14,111,-0.778832361827448),(15,85,1.17484054078799),(15,92,-1.75141148106326),(15,99,2.36307870723594),(15,101,-1.90466017639699),(15,104,-2.69496749778741),(15,108,-1.66449476607562),(15,117,3.40829187902463),(16,86,1.00985747856075),(16,87,-1.50175481429487),(16,88,3.55282753990295),(16,90,3.23149815363018),(16,91,-1.25316629535813),(16,95,-2.92356639301737),(16,97,-4.66815698721275),(16,98,-0.641376995147557),(16,99,1.5733664967803),(16,101,-2.19278542435987),(16,108,0.989471114230781),(16,110,-1.17555772576067),(17,89,2.26877651295511),(17,96,-2.7037568285165),(17,99,-1.70430616168706),(17,101,-0.0614185003204443),(17,106,1.63399151585437),(17,107,-1.00134281441694),(17,109,-1.49439985351115),(18,90,-0.406765953550829),(18,91,-0.970717490157781),(18,93,-1.56338694418165),(18,99,0.838496047853023),(18,102,-0.315897091586047),(18,103,1.45179601428266),(18,104,-0.32151249732963),(18,110,0.987243263039033),(18,111,-1.81395916623432),(18,116,2.76749473555712),(18,117,1.55568102053896),(18,118,1.22498245185705),(19,87,-4.24144718771935),(19,89,2.24489577929014),(19,93,0.43794061098056),(19,95,0.611896114993744),(19,101,2.19594409009064),(19,105,0.444486831263161),(19,115,0.187871944334239),(20,88,1.45329142124699),(20,101,1.1758476516007),(20,103,-3.69956053346355),(20,104,-2.53956724753563),(20,105,-0.0881221961119419),(20,106,1.33413190099796),(20,111,-0.843531601916563),(20,116,-2.9790795617542),(21,86,1.8099765007477),(21,87,-0.300149540696432),(21,94,-2.80501724295785),(21,96,-3.44149601733451),(21,101,-0.10544145023957),(21,102,1.36011841181677),(21,105,-5.25199133274331),(21,107,-2.16216010010071),(21,108,-3.50592059083834),(22,86,-0.487731559190649),(22,88,-1.17096469008454),(22,91,0.685995056001465),(22,92,-0.561250648518326),(22,93,-0.577089754936369),(22,98,0.536973174230171),(22,106,-0.672856837672048),(22,115,3.67332987456893),(22,117,0.272148808252205),(23,85,-3.55806146427808),(23,86,-0.624118778038881),(23,88,4.39671010467849),(23,90,-0.257011627552111),(23,97,-0.856639301736503),(23,104,0.728080080568865),(23,112,-3.0474257637257),(23,114,-0.381466109195227),(23,115,1.17865535447249),(23,116,0.310357982116154),(24,89,-0.868984038819544),(24,90,-1.7049623096408),(24,91,-1.66129032258065),(24,101,-0.607089449751274),(24,107,-0.11101107821894),(24,108,-1.37055574205756),(24,110,-0.395535142063662),(24,112,-1.57966856898709),(25,90,-0.394070253608814),(25,92,-2.16193121127964),(25,94,3.61961729789117),(25,98,-0.0269783623767815),(25,105,-0.554445020905179),(25,108,0.790047914059877),(25,109,0.462065492721336),(25,115,-1.890331736198),(26,85,0.918897061067538),(26,87,1.48451185644093),(26,89,-0.657368694112979),(26,95,2.5553758354442),(26,98,-1.00984221930601),(26,100,-1.01458784752953),(26,101,0.631778923917356),(26,102,1.50924710837123),(26,103,1.69710379345073),(26,104,-1.99858088930937),(26,107,1.30596331675161),(26,109,4.7822656941435),(26,112,-0.606997894222846),(26,113,-0.545655690176092),(26,117,-3.66396069215979),(27,85,-1.76358836634419),(27,87,1.15659047212134),(27,94,1.56645405438398),(27,100,0.575762199774163),(27,102,-5.37308877834407),(27,103,-2.16841639454329),(27,104,-0.0568865016632585),(27,105,1.2279732657857),(27,108,-0.0357066560869166),(27,110,1.25765251625111),(27,114,1.1372569963683),(28,87,-2.89062166203803),(28,88,1.56021301919614),(28,97,-0.169835505233924),(28,99,-0.989043855098117),(28,104,-1.1299478133488),(28,113,-1.27642139957884),(28,114,2.40629291665395),(29,88,-0.506530961027863),(29,91,-0.0408642841883604),(29,102,-0.874217963194678),(29,105,1.82622760704367),(29,116,2.98094119083224),(30,95,2.28237250892666),(30,96,-3.24675740836818),(30,99,-5.10072634052553),(30,101,-4.41554002502518),(30,104,-0.388042847987304),(30,109,-0.249610889004181),(30,110,1.18529313028352),(30,114,1.60744041261025),(30,118,3.94409009063997),(31,85,-2.23526718955046),(31,92,0.629749443037202),(31,94,-1.56225775933103),(31,96,1.68831446272164),(31,99,3.15179906613361),(31,103,-0.65218054750206),(31,107,0.523850215155492),(31,108,1.37006744590594),(31,109,1.26334421826838),(31,111,-0.397137363811151),(31,112,2.19420453505051),(31,117,2.42675557725761),(32,86,3.00050355540635),(32,87,0.00679036835840937),(32,89,1.34743797112949),(32,92,-1.77945799127171),(32,98,0.988341929380169),(32,99,0.421933652760399),(32,104,-0.840601825006867),(32,106,2.83213293862728),(32,109,-1.52203436384167),(32,116,-0.686849574266793),(32,118,2.29546494949187),(33,96,3.95371868037965),(33,98,-3.28269295327616),(33,108,2.23143711661122),(33,110,-2.52459791863765),(33,111,3.52974028748436),(33,114,0.731162450025941),(34,85,0.643009735404523),(34,90,-3.07876827295755),(34,99,-2.03093050935392),(34,104,0.762062440870388),(34,109,0.14943388164922),(35,86,2.74262215033418),(35,87,1.18988616595965),(35,97,4.01196325571459),(35,98,-4.08711508529923),(35,100,-1.50791955320902),(35,104,0.396328623310038),(35,107,-0.893658253730888),(35,109,-0.949217200231941),(35,110,-2.65596484267708),(35,112,1.17816705832087),(36,85,0.148533585619679),(36,87,-0.821436201055941),(36,90,0.858867152928251),(36,91,1.18739890743736),(36,104,2.06633198034608),(36,107,3.07094027527696),(36,109,-1.84636982329783),(36,112,0.426282540360729),(36,115,0.1075014496292),(36,117,-0.411130100405896),(36,118,3.07284768211921),(37,85,1.30138554033021),(37,86,1.60863063447981),(37,87,1.45802179021577),(37,91,0.98208563493759),(37,99,1.67796868800928),(37,105,0.388119144260994),(37,111,-1.78089236121708),(37,112,2.14639728995636),(37,118,-2.36864833521531),(38,87,1.04814294869839),(38,90,-2.52237006744591),(38,103,-0.37031159398175),(38,105,0.982131412701804),(38,106,-0.751747184667501),(38,111,0.844569231238746),(38,115,-1.51034577471236),(39,87,0.361583300271615),(39,89,-3.1488235114597),(39,91,-3.2677694021424),(39,94,1.26641132847072),(39,97,3.37369914853359),(39,98,-2.90365306558428),(39,107,-3.84550004577776),(39,108,-0.680593279824213),(39,109,-0.166264839625233),(39,111,3.999359111301),(39,113,0.0640736106448561),(39,116,-0.794259468367565),(39,118,0.120136112552263),(40,88,-1.55151524399548),(40,92,1.97386089663381),(40,99,2.2615436262093),(40,104,-1.33826715903195),(40,110,2.03819391460921),(40,116,-1.98759422589801),(40,118,2.03779717398602),(41,88,0.932493057039094),(41,93,4.46182134464553),(41,96,3.57750175481429),(41,97,-0.346156193731498),(41,100,-2.102038636433),(41,101,-1.30321665089877),(41,104,2.42252876369518),(41,105,1.24796288949248),(41,106,0.621631519516587),(41,107,-2.21282082583087),(41,109,2.85720389416181),(41,110,-1.52705465865047),(41,111,1.04585406048769),(41,112,-0.965514084292123),(42,85,-1.51666310617389),(42,86,-1.70110171819208),(42,87,-0.724234748374889),(42,99,2.94076357310709),(42,100,2.66263313699759),(42,103,0.501419110690634),(42,109,-0.941038239692373),(42,113,-2.03840754417554),(43,85,1.40293588061159),(43,88,-0.0640125736259041),(43,89,-2.19663075655385),(43,93,-2.4887539292581),(43,97,1.14711447492904),(43,98,1.0596331675161),(43,101,-2.35424359874264),(43,102,1.43003631702628),(43,103,1.2260048219245),(43,105,-1.6140476699118),(43,110,1.06732383190405),(43,112,3.43006683553575),(43,114,-3.29056672872097),(43,116,-0.0189214758751184),(44,89,-1.85811944944609),(44,98,-0.603732413708914),(44,99,0.150227362895596),(45,87,-0.926145207068087),(45,88,4.10612811670278),(45,90,-3.03573717459639),(45,91,-0.00311288796655118),(45,95,-3.2443159276101),(45,98,1.95463423566393),(45,108,-2.21300393688772),(45,109,1.36437574388867),(45,112,-1.19603564561907),(45,115,-1.32184820093387),(46,85,-0.469206823938719),(46,89,2.77365947447127),(46,91,-3.82393871883297),(46,94,-1.0907162694174),(46,97,1.3102969450972),(46,100,-0.947660756248665),(46,101,-0.355540635395367),(46,108,1.97744682149724),(46,112,-0.776726584673604),(47,86,-2.22438734092227),(47,91,0.605182042909024),(47,92,0.249870296334727),(47,94,-1.2977690969573),(47,95,2.12858973967711),(47,100,3.93301187170019),(47,101,-0.668584246345409),(47,104,2.86317026276437),(47,105,1.74434644611957),(47,108,-2.8484450819422),(47,112,-3.09062471388897),(47,114,-0.781121250038148),(47,118,-0.833918271431623),(48,86,3.69620349742119),(48,91,1.73323770867031),(48,98,0.597033600878933),(48,99,0.306604205450606),(48,100,-1.09399700918607),(48,103,1.84969634083071),(48,105,0.406338694418165),(48,106,-2.12190618610187),(48,111,-0.503494369335001),(48,115,1.08348338267159),(49,87,-4.40386669515061),(49,89,0.881572923978393),(49,93,2.26187932981353),(49,94,-2.11622974333934),(49,95,4.09259315775018),(49,102,-1.04226813562426),(49,113,2.31885738700522),(49,114,-0.0466170232245857),(50,89,-1.37073885311441),(50,105,3.96536149174474),(50,107,0.480315561387982),(51,87,1.61922055726798),(51,92,2.01676992095706),(51,97,-0.310419019135106),(51,98,-2.56016724143193),(51,103,-1.56321909237953),(51,106,0.227561265907773),(51,112,-3.31637012848293),(51,118,-2.30860316782128),(52,89,2.27504806665242),(52,97,1.45554979094821),(52,106,-3.17667165135655),(52,110,-3.35070345164342),(52,111,1.43653675954466),(52,113,3.63362529374065),(52,114,0.176412244026002),(52,118,0.468962675862911),(53,88,2.43224890896329),(53,90,-0.550172429578539),(53,92,1.13794366283151),(53,94,0.822931608020264),(53,104,-0.746971037934507),(53,105,1.4528946806238),(53,109,-3.61699270607624),(54,85,1.57266457106235),(54,91,4.29898983733634),(54,94,0.43397320474868),(54,96,2.39089632862331),(54,111,1.80204168828394),(54,112,1.1904660176397),(54,113,1.46171452986236),(54,118,-0.751884517960143),(55,87,-0.111987670522172),(55,95,1.30596331675161),(55,107,-1.53813287759026),(55,110,-2.74895474105045),(55,117,-1.38911099581896),(56,107,-2.31739249855037),(56,111,-1.03672902615436),(56,113,0.0509964293343912),(56,114,-1.45983764152959),(57,87,1.47459334086123),(57,90,-2.20740379039888),(57,91,0.503631702627644),(57,92,0.724158452101199),(57,93,2.07580797753838),(57,94,0.80420850245674),(57,95,1.99993896298105),(57,96,-1.72124393444624),(57,100,1.24983977782525),(57,102,-1.1756492812891),(57,103,2.08548234504227),(57,115,-0.847422711874752),(58,86,-0.249702444532609),(58,87,-0.115634632404553),(58,89,0.224555192724387),(58,90,-0.805993835261086),(58,95,-1.21732230597858),(58,96,-1.75168614764855),(58,101,1.65150914029359),(58,103,3.15952024903104),(58,109,-2.14064455092013),(58,110,2.6534012878811),(58,113,-1.28516495254372),(58,114,2.20603045747246),(58,115,0.545457319864498),(58,118,-2.93038727988525),(59,85,0.352061525315103),(59,86,0.773339030121769),(59,90,2.15791802728355),(59,91,4.40519425031281),(59,93,0.0748161259804071),(59,97,-3.47996459852901),(59,98,-1.6071810052797),(59,100,0.875621814630574),(59,102,4.32145146031068),(59,112,3.2204657124546),(59,114,-3.59183019501328),(60,85,1.81318094424268),(60,87,-0.665517136143071),(60,90,-1.47363200781274),(60,91,0.86886196478164),(60,96,1.27053132724998),(60,100,-0.983870967741935),(60,101,1.03085421308023),(60,105,-1.92609942930387),(60,107,0.391781365398114),(60,109,1.66795861690115),(60,110,0.811578722495193),(60,114,-0.74436170537431),(61,89,-0.129581591235084),(61,94,-2.73470259712516),(61,96,1.72299874874111),(61,98,-1.97431867427595),(61,100,-1.26247444074831),(61,102,0.773186437574389),(61,103,2.55882442701498),(61,114,-0.663914914395581),(61,115,-1.49098178044984),(62,93,0.920560319833979),(62,95,-2.55661183507797),(62,107,-1.74581133457442),(62,109,3.29129917294839),(62,110,1.34853663747063),(62,111,1.44125186925871),(63,87,-0.162327951902829),(63,90,1.46194341868343),(63,93,-0.895031586657308),(63,97,4.82561723685415),(63,100,3.10011597033601),(63,103,0.341425824762719),(63,104,-2.50201422162542),(63,108,-0.487151707510605),(63,111,-1.33091219824824),(63,114,0.592089602343822),(63,117,0.784813989684744),(64,87,0.163274025696585),(64,94,-0.827723014007996),(64,99,0.56175420392468),(64,110,-1.00704977568896),(64,112,-3.13641773735771),(64,116,1.90279854731895),(65,87,0.214514603106784),(65,88,-2.54954680013428),(65,90,-1.69728690450758),(65,97,1.12022766808069),(65,99,-1.31533249916074),(65,107,-0.556535538804285),(65,110,-1.17429120761742),(65,111,-3.01487777336955),(65,114,-1.11551255836665),(65,116,1.71138645588549),(65,117,1.82897427289651),(66,85,-2.35152745139927),(66,102,-1.82157353434858),(66,105,-0.00569170201727354),(66,108,2.83831293679617),(66,111,-1.5165868099002),(66,115,-2.09120456556902),(66,118,1.2203436384167),(67,86,1.34464552751244),(67,90,-1.97441022980438),(67,92,1.23920407727287),(67,104,-0.967253639332255),(67,109,-1.15877254554888),(67,111,1.63840144047365),(68,87,0.493118076113163),(68,88,1.40401928769799),(68,90,1.45992919705802),(68,93,1.64661091952269),(68,95,0.935850093081454),(68,96,-1.463133640553),(68,97,1.27478865932188),(68,103,-1.05487228003784),(68,107,0.386745811334574),(68,112,3.95084994048891),(68,114,0.755790887173071),(69,87,-1.67415387432478),(69,88,-3.02165288247322),(69,92,0.475402081362346),(69,94,1.42643513290811),(69,95,2.36945707571642),(69,97,-1.02917569505905),(69,108,1.84765160069582),(69,113,-0.165059358500931),(69,114,-2.27523117770928),(69,118,-0.0632648701437422),(70,85,1.60370189519944),(70,86,-2.4511703848384),(70,87,1.27990050965911),(70,90,1.80611590929899),(70,96,1.4532151249733),(70,97,-0.179769280068361),(70,99,1.9035004730369),(70,105,-0.9743797112949),(70,107,0.187292092654195),(70,109,2.39289529099399),(70,110,2.25554673909726),(70,111,2.07831049531541),(71,85,-2.97050386059145),(71,93,-0.584353160191656),(71,96,-3.62857448042238),(71,100,-3.68300424207282),(71,104,0.718405713064974),(71,106,2.19864497817927),(71,111,-1.28666035950804),(71,113,-1.52691732535783),(72,94,2.11671803949095),(72,96,2.20329905087436),(72,99,0.392452772606586),(72,110,2.02398754844813),(72,112,-0.856685079500717),(72,114,4.04950102237007),(72,115,-0.122684408093509),(72,116,3.81189916684469),(73,88,2.81423383281961),(73,94,-1.77077547532579),(73,99,2.32322153386029),(73,100,0.0133671071504868),(73,106,-2.13423566393017),(73,110,5.04432813501389),(73,115,3.6456495864742),(74,90,-1.29557176427503),(74,94,-0.466048158207953),(74,99,-1.83545945616016),(74,102,-1.87557603686636),(74,106,1.76778466139714),(74,107,2.00376903592029),(74,110,2.33100375377667),(74,113,-2.05546739097263),(74,116,-4.10664693136387),(75,85,4.25859859004486),(75,86,-1.75328836939604),(75,93,-0.784371471297342),(75,98,-0.891979735709708),(75,103,-1.6170995208594),(75,105,0.0459761345255898),(75,111,1.44444105349895),(75,117,-0.286049989318522),(76,86,-0.785027619251076),(76,89,-0.241981261635182),(76,92,0.106540116580706),(76,94,0.883053071687979),(76,99,1.09253212073122),(76,101,1.07951597643971),(76,103,0.860469374675741),(76,106,1.30207220679342),(76,110,1.48870815149388),(76,113,0.86832789086581),(77,88,-0.700064088869899),(77,91,0.277916806543168),(77,93,2.23708304086428),(77,98,0.458388012329478),(77,101,-0.0702688680684835),(77,102,2.09788811914426),(77,103,-0.143360698263497),(77,104,-0.774025696584979),(77,105,0.954847865230262),(77,109,-0.950422681356242),(78,88,-0.934705648976104),(78,93,4.43267616809595),(78,94,-1.54725791192358),(78,101,0.413098544267098),(78,104,-2.63583788567766),(78,110,0.683339945677053),(78,114,0.530030213324381),(78,116,-1.49700918607135),(78,117,-2.45034638508255),(78,118,2.58169804986724),(79,87,0.896404919583728),(79,92,-3.30423902096622),(79,94,-0.625659962767418),(79,107,-0.732840968047121),(79,108,-1.02456740012818),(79,114,1.42944120609149),(79,118,-0.402081362346263),(80,87,0.430906094546342),(80,88,-0.785546433912168),(80,91,2.20328379161962),(80,99,0.625659962767418),(80,101,0.353740043336283),(80,107,-0.996520889919736),(80,113,-1.08836634418775),(81,85,-4.73479415265358),(81,86,-1.83715323343608),(81,90,1.6038087099826),(81,93,0.0108951078829311),(81,96,2.88993499557482),(81,97,-2.22563859981079),(81,106,1.72788171025727),(81,107,0.13556321909238),(81,110,2.02671895504624),(81,115,-2.96748252815333),(82,86,-1.2183751945555),(82,92,-2.29360332041383),(82,110,2.14920499282815),(82,112,3.17960142826624),(83,87,0.770668660542619),(83,91,-2.43171483504746),(83,93,1.34945219275491),(83,101,1.51124607074191),(83,103,-2.68242439039277),(83,105,0.695852534562212),(83,108,-0.283898434400464),(84,85,1.22943815424055),(84,86,1.82354197820978),(84,89,-1.43559068575091),(84,95,2.12190618610187),(84,99,2.37273781548509),(84,104,-3.35871456038087),(84,111,-0.0246436964018677),(84,113,1.36794640949736),(84,114,1.89077425458541),(10,119,-0.610538041322062),(119,109,0.637913144322031)]
orgname='BHNEAT_6_13'
cnodes = 120

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()