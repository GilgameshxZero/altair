edge = [(0,85,1.24480422376171),(0,89,1.44752342295602),(0,90,0.354167302468947),(0,93,1.81548509170812),(0,98,-0.355494857631153),(0,101,-1.20688497573778),(0,105,-1.19878231147191),(0,108,-0.151448103274636),(0,113,-0.926740318002869),(0,114,-0.961180455946532),(0,117,-1.73406170842616),(0,118,2.06028931546983),(1,86,1.92222357860042),(1,92,2.12929166539506),(1,98,2.03344828638569),(1,102,-2.22881252479629),(1,104,1.27379680776391),(1,107,-2.50288399914548),(1,108,-3.09915463728751),(1,109,1.56848353526414),(1,113,2.06968901638844),(2,87,-1.52291940061647),(2,88,-2.38120670186468),(2,100,1.07860042115543),(2,106,0.656880397961364),(2,108,-1.21504867702261),(2,110,-0.0782952360606708),(2,113,0.878353221228675),(2,118,-0.486236152226325),(3,89,-0.927686391796625),(3,92,-0.883648182622761),(3,97,-0.740150151066622),(3,99,0.101840266121403),(3,101,0.161442915128025),(3,103,1.19138157292398),(3,105,0.0558030945768609),(3,108,-2.50830103457747),(3,109,2.3010193182165),(3,111,-0.69060335093234),(3,112,-1.01422162541581),(3,116,-1.53878902554399),(4,90,-2.1924344615009),(4,91,1.23899044770653),(4,97,0.515121921445357),(4,99,1.99496444593646),(4,101,-0.569200720236824),(4,108,0.508743552964873),(4,113,0.738593707083346),(4,118,0.924542985320597),(5,86,1.6422772911771),(5,87,-2.51185644093143),(5,89,1.54792931913205),(5,92,-0.76425977355266),(5,93,2.17305520798364),(5,99,-1.90942106387524),(5,104,-0.785699026459548),(5,114,2.34618671224097),(5,118,-1.08703878902554),(6,89,0.476042970061342),(6,92,-2.28835413678396),(6,94,0.387890255439924),(6,100,0.054307687612537),(6,101,-0.885891293069247),(6,103,1.53724784081545),(6,107,0.955717642750328),(6,110,-1.61546678060244),(6,113,2.41184728537858),(7,85,-0.233085116122929),(7,86,0.435712759788812),(7,90,0.820322275460067),(7,95,-0.194051942503128),(7,99,-1.57898190252388),(7,100,1.80935087130345),(7,104,-1.10116885891293),(7,106,-0.239799188207648),(7,108,2.00474562822352),(7,112,1.02024903103732),(7,116,1.89344462416456),(8,92,1.30562761314737),(8,93,1.68959624011963),(8,95,-0.711752677999206),(8,99,1.65686513870663),(8,106,0.237830744346446),(8,107,-0.490966521195105),(8,115,0.952299569689016),(8,116,-0.14912869655446),(8,118,-1.70766319772942),(9,85,-0.74237800225837),(9,87,-0.0355845820490127),(9,98,-1.68053224280526),(9,101,1.34034241767632),(9,103,-0.65485091708121),(9,105,-0.471083712271493),(9,106,1.1239661854915),(9,113,1.79271828363903),(10,89,-1.69960631122776),(10,96,-1.51901303140355),(10,106,-0.50038148136845),(10,108,0.750633259071627),(10,111,2.14949491866817),(10,112,-0.744651631214331),(10,114,2.01886043885617),(10,115,-0.890270699179052),(10,116,-1.37333292641987),(10,117,-1.93133335367901),(11,89,1.01489303262429),(11,97,0.291619617297891),(11,105,-0.153920102542192),(11,112,0.133442182683798),(11,115,1.3975188451796),(12,92,-0.562257759331034),(12,93,0.304528946806238),(12,94,-1.57620471816157),(12,97,-1.86327707754753),(12,98,2.92918179876095),(12,99,0.21530808435316),(12,108,1.59901730399487),(12,116,-0.0682699056978057),(13,86,1.2413861507004),(13,87,-1.28400524918363),(13,90,1.38503677480392),(13,99,2.43272194586016),(13,102,-0.170674764244514),(13,104,0.753440961943419),(13,113,0.628971221045564),(13,116,-0.421033356730857),(13,118,-2.13904232917264),(14,90,-1.61064485610523),(14,93,0.313425092318491),(14,95,0.779824213385418),(14,102,-1.45136875515),(14,104,-2.34405041657765),(14,106,0.540955839716788),(14,109,1.77739799188208),(14,110,-0.328852198858608),(14,111,-0.0679342020935697),(15,85,-0.0293435468611714),(15,92,0.22255623035371),(15,99,0.696539201025422),(15,101,1.39568773461104),(15,104,2.00430310983612),(15,108,-2.47079378643147),(15,117,2.03878902554399),(16,86,-1.36638996551408),(16,87,-2.77132480849635),(16,88,1.36907559434797),(16,90,0.287713248084964),(16,91,-2.59056367687002),(16,95,0.252571184423353),(16,97,-2.15892513809626),(16,98,-3.31350138859218),(16,99,-1.98760948515275),(16,101,1.85926389355144),(16,108,-0.294503616443373),(16,110,1.75124362926115),(17,89,-2.26500747703482),(17,96,-2.27329325235756),(17,99,0.501281777397992),(17,101,-2.36660359508042),(17,106,-0.553193762016663),(17,107,1.05224768822291),(17,109,0.430326242866298),(18,90,0.738822595904416),(18,91,-2.16292306283761),(18,93,0.498535111545152),(18,99,0.369808038575396),(18,102,0.91605883968627),(18,103,-2.07477034821619),(18,104,0.570085757011628),(18,110,1.41183202612384),(18,111,0.410840174565874),(18,116,-1.83874019592883),(18,117,-1.45786919766839),(18,118,0.354670857875301),(19,87,-2.40232551042207),(19,89,0.0807519760734886),(19,93,-0.197836237678152),(19,95,2.26096377452925),(19,101,-1.16130558183538),(19,105,-2.41769157994324),(19,115,0.528687398907437),(20,88,2.31002227851192),(20,101,-0.107455671864986),(20,103,-2.42167424542985),(20,104,-0.386516922513504),(20,105,1.59730826746422),(20,106,-0.167607654042177),(20,111,-1.03473006378368),(20,116,-2.39342936490982),(21,86,2.33474227118748),(21,87,2.09164708395642),(21,94,-0.712668233283486),(21,96,-1.56552323984497),(21,101,1.74958037049471),(21,102,-0.237449262977996),(21,105,-3.27057710501419),(21,107,1.95513779107028),(21,108,-2.67558824427015),(22,86,-1.96238593707083),(22,88,-2.3164006469924),(22,91,-0.287102877895444),(22,92,1.90557573168126),(22,93,1.89155247657704),(22,98,-0.525818659016694),(22,106,1.54741050447096),(22,115,2.80629902035585),(22,117,0.463728751487777),(23,85,-0.0284432508316294),(23,86,1.42153691213721),(23,88,1.54483169042024),(23,90,-1.69804986724448),(23,97,-0.621051667836543),(23,104,-0.75853755302591),(23,112,-0.87206640827662),(23,114,2.44981231116672),(23,115,-0.564363536484878),(23,116,-1.8408154545732),(24,89,-1.02340769676809),(24,90,0.27896969512009),(24,91,-0.510971404156621),(24,101,0.591891232032228),(24,107,1.22353282265694),(24,108,-0.722876674703207),(24,110,0.269539475692007),(24,112,0.0288857692190313),(25,90,0.701803643910031),(25,92,0.432477797784356),(25,94,-1.35764641254921),(25,98,-1.32660908841212),(25,105,-1.37043366801965),(25,108,2.76329844050417),(25,109,0.506759849848933),(25,115,-1.22319711905271),(26,85,1.8844264046144),(26,87,-0.554124576555681),(26,89,1.90458388012329),(26,95,-0.249488814966277),(26,98,-0.224616229743339),(26,100,2.26783043916135),(26,101,-1.40304269539476),(26,102,2.09520249031037),(26,103,-0.616046632282479),(26,104,0.873958555864132),(26,107,-0.0425733207190161),(26,109,2.01873836481826),(26,112,0.526841029084139),(26,113,1.55684072389904),(26,117,-1.13216040528581),(27,85,0.603885006256294),(27,87,-2.11493270668661),(27,94,1.74353770561846),(27,100,-1.28472243415632),(27,102,1.28589739677114),(27,103,1.17137668996246),(27,104,1.10205389568773),(27,105,0.0105899227881709),(27,108,0.75777459028901),(27,110,0.447996459852901),(27,114,-1.609027375103),(28,87,-0.721976378673666),(28,88,-1.09218115787225),(28,97,0.986129337443159),(28,99,-1.63037507248146),(28,104,2.36559648426771),(28,113,0.634861293374432),(28,114,-1.00086977752007),(29,88,0.789132358775597),(29,91,0.298043763542589),(29,102,-1.48069704275643),(29,105,-0.464735862300485),(29,116,2.17090365306558),(30,95,0.622547074800867),(30,96,0.273934141056551),(30,99,-1.35580004272591),(30,101,-1.23932615131077),(30,104,-2.3612170781579),(30,109,0.410275582140568),(30,110,2.48759422589801),(30,114,-0.878292184209723),(30,118,2.17439802240059),(31,85,1.67545091097751),(31,92,0.153843806268502),(31,94,0.34598834192938),(31,96,0.340998565630055),(31,99,-0.251853999450667),(31,103,-0.40789513840144),(31,107,0.165410321359905),(31,108,-1.53033539841914),(31,109,0.452772606585894),(31,111,-2.24686422315134),(31,112,2.08800012207404),(31,117,-0.999069185460982),(32,86,-1.41338847010712),(32,87,-0.690725424970244),(32,89,-1.92765587328715),(32,92,2.21755119479965),(32,98,1.26369518112735),(32,99,1.68082216864528),(32,104,-1.20278023621326),(32,106,0.506317331461531),(32,109,1.86317026276437),(32,116,-2.84878078554643),(32,118,-0.303949095126194),(33,96,-2.21198156682028),(33,98,0.272560808130131),(33,108,0.0117191076387828),(33,110,-0.164677877132481),(33,111,1.56472975859859),(33,114,-2.6216772972808),(34,85,1.15640736106449),(34,90,0.934949797051912),(34,99,0.635319071016572),(34,104,-2.28688924832911),(34,109,-1.38869899594104),(35,86,-0.960798974578082),(35,87,-0.103793450727866),(35,97,0.0778221991637928),(35,98,2.95686208685568),(35,100,-0.136326181829279),(35,104,1.62889492477187),(35,107,-0.12923062837611),(35,109,0.463942381054109),(35,110,-0.775261696218757),(35,112,1.70064394054994),(36,85,-1.50274666585284),(36,87,-0.751167332987457),(36,90,0.173116245002594),(36,91,-0.501113925595874),(36,104,-1.33228553117466),(36,107,3.2024750511185),(36,109,-0.246055482650227),(36,112,0.992629779961547),(36,115,-1.67691579943236),(36,117,0.806176946317942),(36,118,1.65739921262246),(37,85,-0.273323770867031),(37,86,0.187536240730003),(37,87,-2.00689718314158),(37,91,0.454573198644978),(37,99,-0.796395764030885),(37,105,1.48380993072298),(37,111,0.770531327249977),(37,112,1.47697378460036),(37,118,-0.591402935880612),(38,87,1.51850947599719),(38,90,3.21243934446242),(38,103,0.615558336130863),(38,105,-1.09877315591907),(38,106,-1.05891598254341),(38,111,1.35750907925657),(38,115,-0.562150944547868),(39,87,0.677907650990326),(39,89,0.470900601214637),(39,91,-0.100329599902341),(39,94,-1.52836695455794),(39,97,-0.676107058931242),(39,98,1.77892391735588),(39,107,-0.0298318430127873),(39,108,0.868984038819544),(39,109,0.885418256172368),(39,111,0.214529862361522),(39,113,-0.354182561723685),(39,116,0.502471999267556),(39,118,-2.11561937314982),(40,88,2.44915616321299),(40,92,-2.07403790398877),(40,99,0.658558915982543),(40,104,-2.0706350901822),(40,110,1.62627033295694),(40,116,-0.775994140446181),(40,118,-1.14474929044465),(41,88,-2.28606524857326),(41,93,2.11767937253945),(41,96,-0.463759269997253),(41,97,1.822946867275),(41,100,0.377590258491775),(41,101,2.47738578447829),(41,104,-0.827127903073214),(41,105,-0.904889065218055),(41,106,2.07690664387951),(41,107,-0.455107272560808),(41,109,-1.28896450697348),(41,110,-0.402920621356853),(41,111,0.162877285073397),(41,112,-0.971312601092563),(42,85,0.740867336039308),(42,86,-1.5818811609241),(42,87,1.08185064241462),(42,99,-2.13995788445692),(42,100,-2.57777642139958),(42,103,1.0140537736137),(42,109,0.123020111697745),(42,113,-0.666035950804163),(43,85,-0.746635334330271),(43,88,0.347682119205298),(43,89,-0.576708273567919),(43,93,1.01377910702841),(43,97,-1.70720542008728),(43,98,-3.01115451521348),(43,101,1.86211737418744),(43,102,2.20442823572497),(43,103,0.0376140629291665),(43,105,-0.334177678762169),(43,110,-0.529572435682241),(43,112,-0.414593951231422),(43,114,-1.22698141422773),(43,116,-0.32830286568804),(44,89,-0.131534775841548),(44,98,-0.246436964018677),(44,99,0.806161687063204),(45,87,1.22724082155828),(45,88,-2.20160527359844),(45,90,-1.13229773857845),(45,91,-0.514831995605335),(45,95,0.738807336649678),(45,98,-1.26181829279458),(45,108,0.0550859096041749),(45,109,2.51034577471236),(45,112,-0.327097384563738),(45,115,-2.40844447157201),(46,85,-0.45211645863216),(46,89,-1.25234229560228),(46,91,-0.136082033753471),(46,94,2.28705710013123),(46,97,-1.97477645191809),(46,100,0.351893673512986),(46,101,0.826380199591052),(46,108,-1.12041077913755),(46,112,-2.10954618976409),(47,86,-0.541367839594714),(47,91,2.32627338480789),(47,92,-1.84179204687643),(47,94,1.58195745719779),(47,95,-2.07144383068331),(47,100,0.980117191076388),(47,101,1.72437208166753),(47,104,-2.12385937070833),(47,105,-0.541489913632618),(47,108,0.740684224982452),(47,112,1.4757835627308),(47,114,0.931501205481124),(47,118,-0.615558336130863),(48,86,2.83726004821925),(48,91,2.07182531205176),(48,98,1.55935850093081),(48,99,-1.26075014496292),(48,100,0.885204626606036),(48,103,-1.95435956907865),(48,105,-2.13196203497421),(48,106,1.13335062715537),(48,111,0.770195623645741),(48,115,1.16389965514084),(49,87,-1.99481185338908),(49,89,-1.86658833582568),(49,93,-0.523804437391278),(49,94,-0.589007232886746),(49,95,1.17847224341563),(49,102,0.949980162968841),(49,113,-0.54162724692526),(49,114,-0.0431379131443221),(50,89,1.33304849391156),(50,105,1.12111270485549),(50,107,1.65672780541398),(51,87,1.90182195501572),(51,92,1.6460921048616),(51,97,0.914975432599872),(51,98,-1.1438032166509),(51,103,-1.89838862269967),(51,106,1.70465712454604),(51,112,1.77373577074496),(51,118,0.423642689291055),(52,89,2.84498123111667),(52,97,-1.1695455793939),(52,106,-2.45902890102847),(52,110,-2.22945341349528),(52,111,-0.537400433362834),(52,113,0.532547990356151),(52,114,1.04641865291299),(52,118,2.04211554307688),(53,88,2.33375041962951),(53,90,0.75807977538377),(53,92,-1.89094210638752),(53,94,0.65561387981811),(53,104,-0.351069673757134),(53,105,-1.80472731711783),(53,109,-3.11641285439619),(54,85,-0.459486678670614),(54,91,1.92915128025147),(54,94,-0.875362407300027),(54,96,-0.688268684957426),(54,111,0.933408612323374),(54,112,-0.738151188695944),(54,113,-2.53865169225135),(54,118,1.73902096621601),(55,87,0.505859553819391),(55,95,-2.13721121860408),(55,107,-2.8492080446791),(55,110,0.512482070375683),(55,117,-1.98483230079043),(56,107,-0.448698385570849),(56,111,0.292428357799005),(56,113,-0.785973693044832),(56,114,-2.06196783349101),(57,87,-2.13773003326518),(57,90,1.01545762504959),(57,91,-0.250633259071627),(57,92,1.93192846461379),(57,93,0.312448500015259),(57,94,1.2871639149144),(57,95,2.59642323068941),(57,96,0.713644825586718),(57,100,0.860957670827357),(57,102,-1.15901669362468),(57,103,-0.636387218848232),(57,115,-0.862147892696921),(58,86,-0.418561357463301),(58,87,0.792718283639027),(58,89,-1.75603503524888),(58,90,-1.89016388439589),(58,95,-0.340220343638417),(58,96,-0.608996856593524),(58,101,-2.3411358989227),(58,103,2.46192815942869),(58,109,0.730765709402753),(58,110,-0.801293984801782),(58,113,-1.42417676320689),(58,114,-1.75374614703818),(58,115,-1.67941831720939),(59,85,-0.573335978270821),(59,86,2.15514084292123),(59,90,-1.58616901150548),(59,91,0.837427900021363),(59,93,2.15076143681143),(59,97,0.412366100039674),(59,98,2.64056825464644),(59,100,-0.372203741569262),(59,102,1.08183538315989),(59,112,1.24858851893674),(59,114,1.08917508468886),(60,85,-0.157963805047761),(60,87,0.267113254188665),(60,90,-0.607928708761864),(60,91,-0.54582354197821),(60,96,0.772927030243843),(60,100,-1.3249153111362),(60,101,-2.5477462080752),(60,105,-0.535447248756371),(60,107,-1.14490188299203),(60,109,-0.297433393353069),(60,110,-0.491958372753075),(60,114,-0.19190038758507),(61,89,1.3403729361858),(61,94,1.69437238685263),(61,96,-0.292764061403241),(61,98,-2.92138431958983),(61,100,1.76320688497574),(61,102,-0.0531022064882351),(61,103,-0.0339518417920469),(61,114,0.938825647755364),(61,115,-0.151066621906186),(62,93,-2.24481948301645),(62,95,-1.02969450972015),(62,107,-2.17574083681753),(62,109,1.4767906735435),(62,110,0.355693227942747),(62,111,-0.0133365886410108),(63,87,-0.449766533402509),(63,90,-0.37397381511887),(63,93,0.152439954832606),(63,97,0.837916196172979),(63,100,1.56671346171453),(63,103,-2.62819299905393),(63,104,-0.794045838801233),(63,108,-1.70538956877346),(63,111,1.60937833796197),(63,114,1.11407818842128),(63,117,2.42869350260933),(64,87,-1.33388775292215),(64,94,-0.795068208868679),(64,99,2.23607593005158),(64,110,-0.372264778588214),(64,112,-0.266914883877071),(64,116,-1.74729148228401),(65,87,0.6939603869747),(65,88,0.612552262947478),(65,90,-0.0259407330545976),(65,97,-0.667622913296914),(65,99,-0.995208594012268),(65,107,-2.95323038422803),(65,110,1.78266243476669),(65,111,0.845866267891476),(65,114,-0.0902432325205237),(65,116,-2.32703634754479),(65,117,1.87391277809992),(66,85,-0.960341196935942),(66,102,0.799951170384838),(66,105,-0.882335886715293),(66,108,0.838969084749901),(66,111,0.93794061098056),(66,115,1.14503921628468),(66,118,1.5771813104648),(67,86,-0.690588091677602),(67,90,1.07324442274239),(67,92,-1.67714468825343),(67,104,-0.793176061281167),(67,109,-1.83376567888424),(67,111,2.0581072420423),(68,87,2.64047669911802),(68,88,1.67088839381085),(68,90,2.47260963774529),(68,93,0.915845210119938),(68,95,0.665929136020997),(68,96,-0.571611682485427),(68,97,1.3943449201941),(68,103,2.28354747154149),(68,107,0.629444257942442),(68,112,0.951261940366833),(68,114,1.90885647144993),(69,87,-0.385128330332347),(69,88,-0.589785454878384),(69,92,1.8961912900174),(69,94,-1.11397137363811),(69,95,0.625705740531632),(69,97,0.521469771416364),(69,108,-0.182729575487533),(69,113,-2.34408093508713),(69,114,-2.19946897793512),(69,118,2.82050538651692),(70,85,1.84502700888089),(70,86,-2.84789574877163),(70,87,2.06434827723014),(70,90,0.690435499130222),(70,96,-0.87023529770806),(70,97,0.398022400585955),(70,99,2.77373577074496),(70,105,0.878170110171819),(70,107,0.750511185033723),(70,109,0.699560533463546),(70,110,-1.07585375530259),(70,111,-0.10864589373455),(71,85,0.250343333231605),(71,93,0.51928769798883),(71,96,0.95959349345378),(71,100,-0.514038514358959),(71,104,2.52281258583331),(71,106,0.399578844569231),(71,111,-0.908795434430982),(71,113,-0.600985747856075),(72,94,-0.0407879879146702),(72,96,-0.0193792535172582),(72,99,2.40827661976989),(72,110,-1.06807153538621),(72,112,1.61058381908628),(72,114,1.26586199530015),(72,115,0.147251808221686),(72,116,-2.1973326822718),(73,88,0.0945768608661154),(73,94,1.48669392986847),(73,99,0.903424176763207),(73,100,-0.293649098178045),(73,106,-2.45437482833338),(73,110,0.158848841822565),(73,115,-1.53569139683218),(74,90,0.984008301034577),(74,94,-2.54985198522904),(74,99,-1.31717886898404),(74,102,-0.901806695760979),(74,106,2.13226722006897),(74,107,0.555543687246315),(74,110,-0.279915768913846),(74,113,-1.73426007873775),(74,116,-1.65507980590228),(75,85,-0.140415662099063),(75,86,0.857493820001831),(75,93,-1.20567949461348),(75,98,-0.778618732261116),(75,103,-3.18762779625843),(75,105,-0.126270332956938),(75,111,2.93142490920743),(75,117,-2.39068269905698),(76,86,1.66951506088443),(76,89,-2.04603717154454),(76,92,-0.37000640888699),(76,94,0.386822107608264),(76,99,1.97752311777093),(76,101,-0.343333231604968),(76,103,-0.936124759666738),(76,106,0.0621814630573443),(76,110,1.47543259987182),(76,113,0.151066621906186),(77,88,-0.363826410718101),(77,91,1.02615436262093),(77,93,-2.11294900357067),(77,98,-0.266685995056002),(77,101,-0.831965086825159),(77,102,0.458815271462142),(77,103,-1.2678914761803),(77,104,0.423749504074221),(77,105,0.234015930661946),(77,109,-1.2831507309183),(78,88,0.7398602252266),(78,93,0.358531449324015),(78,94,0.272072511978515),(78,101,-0.579592272713401),(78,104,1.26918851283303),(78,110,0.505005035554064),(78,114,0.0167088839381085),(78,116,-1.53111362041078),(78,117,0.501724295785394),(78,118,1.85749382000183),(79,87,-1.35850093081454),(79,92,1.73482467116306),(79,94,-1.18521683400983),(79,107,-0.855983153782769),(79,108,-0.759666737876522),(79,114,-0.456221198156682),(79,118,-0.599597155674917),(80,87,2.76900540177618),(80,88,-1.67134617145299),(80,91,0.43755912961211),(80,99,0.479476302377392),(80,101,-1.22254097109897),(80,107,-0.233787041840877),(80,113,1.89199499496445),(81,85,-2.071520126957),(81,86,-0.263695181127354),(81,90,-1.20633564256722),(81,93,-2.45339823603015),(81,96,-1.73863948484756),(81,97,0.0956755272072512),(81,106,1.14108706930754),(81,107,-2.28676717429121),(81,110,2.78800317392499),(81,115,0.24420911282693),(82,86,-1.3368022705771),(82,92,1.08159123508408),(82,110,-1.13054292428358),(82,112,0.602999969481491),(83,87,-3.46263008514664),(83,91,-0.876018555253761),(83,93,1.80361339152196),(83,101,0.896526993621631),(83,103,0.226752525406659),(83,105,2.47515793328654),(83,108,0.291497543259987),(84,85,1.52691732535783),(84,86,-0.988814966277047),(84,89,-1.07873775444807),(84,95,-0.711966307565538),(84,99,1.41293069246498),(84,104,-1.60084841456343),(84,111,-0.588946195867794),(84,113,-0.465834528641621),(84,114,2.27723014007996),(10,119,-1.4298837244789),(119,109,1.98132267220069),(58,120,2.05114902188177),(120,118,-1.69293801690725)]
orgname='BHNEAT_7_9'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()