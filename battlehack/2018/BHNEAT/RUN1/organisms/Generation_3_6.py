edge = [(0,85,0.815103610339671),(0,89,-2.01275673696097),(0,90,-2.01519821771905),(0,93,-1.17648854029969),(0,98,0.437452314828944),(0,101,-1.90247810296945),(0,105,-3.00471510971404),(0,108,1.79148228400525),(0,113,-0.749351481673635),(0,114,3.48179570909757),(0,117,-0.963469344157231),(0,118,2.08563493758965),(1,86,-3.74903103732414),(1,92,1.73200170903653),(1,98,2.2519455549791),(1,102,0.710242011780145),(1,104,-0.940015869624928),(1,107,-1.94357127597888),(1,108,2.40606402783288),(1,109,0.24085207678457),(1,113,-4.46513260292367),(2,87,-1.59111301004059),(2,88,3.05732902005066),(2,100,0.757225257118443),(2,106,4.71065401165807),(2,108,-1.00698873867),(2,110,-2.59372234260079),(2,113,-0.0824762718588825),(2,118,-2.53543198950163),(3,89,-1.52941984313486),(3,92,2.83281960509049),(3,97,-1.00181585131382),(3,99,-1.35915707876827),(3,101,0.485702078310495),(3,103,0.621677297280801),(3,105,-1.28405102694784),(3,108,-0.520722067934202),(3,109,-0.663243507187109),(3,111,1.58882412182989),(3,112,-0.828363902706992),(3,116,-0.0487228003784295),(4,90,1.81197546311838),(4,91,1.73262733848079),(4,97,-2.50537125766778),(4,99,0.86939603869747),(4,101,-1.79143650624104),(4,108,0.76021607104709),(4,113,-1.11627552110355),(4,118,-0.0161748100222785),(5,86,0.573915829950865),(5,87,3.05929746391186),(5,89,-2.92347483748894),(5,92,2.5983458967864),(5,93,-2.43762016663106),(5,99,-0.776879177220985),(5,104,-1.76206244087039),(5,114,1.42399365215003),(5,118,-2.37693411053804),(6,89,-1.66353343302713),(6,92,-0.705618457594531),(6,94,-0.798821985534226),(6,100,0.642551957762383),(6,101,1.14877773369549),(6,103,4.50764488662374),(6,107,-0.543397320474868),(6,110,-2.07487716299936),(6,113,3.2390972624897),(7,85,-0.327082125309),(7,86,1.87748344370861),(7,90,-3.57863093966491),(7,95,-2.12630085146641),(7,99,-1.37607959227271),(7,100,-1.89756462294382),(7,104,2.3321024201178),(7,106,0.475554673909726),(7,108,-1.39973143711661),(7,112,0.374782555619984),(7,116,-4.06088442640461),(8,92,0.0693227942747279),(8,93,3.19678334910123),(8,95,-0.0746940519425031),(8,99,1.39921262245552),(8,106,4.49417096469008),(8,107,1.15323343607898),(8,115,-2.68276009399701),(8,116,-0.681447798089541),(8,118,3.07092501602222),(9,85,-0.904889065218055),(9,87,-0.666158024842067),(9,98,2.03569139683218),(9,101,-2.36880092776269),(9,103,1.25202185125278),(9,105,0.831095309305093),(9,106,1.17549668874172),(9,113,0.520081179235206),(10,89,2.97906430249947),(10,96,-3.43725394451735),(10,106,-0.996459852900784),(10,108,2.18541520432142),(10,109,1.86954863124485),(10,111,1.83648182622761),(10,112,1.72902615436262),(10,114,-1.65121921445357),(10,115,-0.25807977538377),(10,116,1.71590319528794),(10,117,0.161503952146977),(11,89,0.601596118045595),(11,97,2.09511093478195),(11,105,1.92182683797723),(11,112,1.7998138370922),(11,115,-0.551850947599719),(12,92,-0.901486251411481),(12,93,0.887813959166234),(12,94,-0.375087740714743),(12,97,2.46543778801843),(12,98,-0.860103152562029),(12,99,-0.971724600970489),(12,108,-2.82134464552751),(12,116,-1.37119663075655),(13,86,-0.775048066652425),(13,87,-1.06451612903226),(13,90,-2.19112216559343),(13,99,2.38946195867794),(13,102,-1.42361217078158),(13,104,-0.60773033845027),(13,113,2.46101260414441),(13,116,0.578402050843837),(13,118,-1.29657887508774),(14,90,1.45451216162603),(14,93,-1.00405896176031),(14,95,0.643330179754021),(14,102,-1.45254371776482),(14,104,-2.41058076723533),(14,106,1.38065736869411),(14,109,-2.19690542313913),(14,110,0.24207281716361),(14,111,-0.251960814233833),(15,85,2.24941251869259),(15,92,1.34073915829951),(15,99,-0.163960692159795),(15,101,-1.68774987029633),(15,104,0.861842707602161),(15,108,-3.36910611285745),(15,117,-0.441282387768181),(16,86,0.275734733115635),(16,87,-2.20850245674001),(16,88,1.03161717581713),(16,90,1.45979186376537),(16,91,-1.68187505722221),(16,95,-3.60573137607959),(16,97,-0.824427014984589),(16,98,-2.24001281777398),(16,99,3.30040894802698),(16,101,-3.40734580523087),(16,108,3.28873561815241),(16,110,2.07174901577807),(17,89,1.95916623432112),(17,96,1.21048615985595),(17,99,-4.06390575884274),(17,101,-0.206350901821955),(17,106,-1.26267281105991),(17,107,-1.17496261482589),(17,109,1.57782219916379),(18,90,-1.18376720480972),(18,91,-2.48817407757805),(18,93,-0.97369304483169),(18,99,0.282219916379284),(18,102,2.02322458571123),(18,103,1.30462050233467),(18,104,0.728553117465743),(18,110,1.67337565233314),(18,111,3.5396740623188),(18,116,1.08836634418775),(18,117,2.79282509842219),(18,118,1.2031159398175),(19,87,2.00042725913266),(19,89,-2.9980315561388),(19,93,-1.88532670064394),(19,95,-0.919141209143345),(19,101,-0.972029786065248),(19,105,1.093768120365),(19,115,-0.961165196691794),(20,88,2.86169011505478),(20,101,-2.0401165807062),(20,103,-2.3185674611652),(20,104,-0.712302011169774),(20,105,-4.01762443922239),(20,106,-1.06242561113315),(20,111,-0.565813165684988),(20,116,0.93671987060152),(21,86,-2.01086458937346),(21,87,0.606463820307016),(21,94,1.7474898525956),(21,96,1.95921201208533),(21,101,0.93481246375927),(21,102,0.479064302499466),(21,105,0.0560777611621449),(21,107,1.65540025025178),(21,108,2.48132267220069),(22,86,0.222357860042115),(22,88,2.70627460554826),(22,91,-1.92571794793542),(22,92,0.854823450422681),(22,93,0.332056642353588),(22,98,0.00886562700277724),(22,106,0.132984405041658),(22,115,-1.0123294778283),(22,117,2.20023194067202),(23,85,0.233176671651357),(23,86,1.13330484939116),(23,88,3.10478530228584),(23,90,-0.908307138279366),(23,97,0.988219855342265),(23,104,-0.90926847132786),(23,112,-2.29052095095676),(23,114,0.783913693655202),(23,115,-2.81591235084078),(23,116,-1.72132023071993),(24,89,-3.12457655568102),(24,90,1.97923215430158),(24,91,-0.830118717001862),(24,101,-0.943662831507309),(24,107,-0.789880062257759),(24,108,1.10530411694693),(24,110,1.75457014679403),(24,112,-5.08792382580035),(25,90,-2.83004242072817),(25,92,2.27010406811731),(25,94,-1.98904385509812),(25,98,2.07754753257851),(25,105,-3.97538682210761),(25,108,1.28693502609333),(25,109,-1.98866237372967),(25,115,1.92806787316507),(26,85,2.33816034424879),(26,87,1.04618976409192),(26,89,-1.97462385937071),(26,95,2.34029663991211),(26,98,-1.68591875972777),(26,100,-2.57066560869167),(26,101,0.0960570085757011),(26,102,3.30663472396008),(26,103,2.49702444532609),(26,104,0.112140263069552),(26,107,-0.166905728324229),(26,109,0.696966460158086),(26,112,0.179464094973602),(26,113,-0.812540055543688),(26,117,-2.17542039246803),(27,85,0.832697531052583),(27,87,2.28647724845119),(27,94,-1.79090243232521),(27,100,-1.02890102847377),(27,102,-2.16368602557451),(27,103,4.5226905117954),(27,104,-1.61668752098148),(27,105,2.35239722891934),(27,108,-0.0135044404431288),(27,110,2.03373821222571),(27,114,2.23937192907498),(28,87,0.801736503189184),(28,88,0.783349101229896),(28,97,-1.62358470412305),(28,99,-0.813562425611133),(28,104,2.54383983886227),(28,113,0.817667165135655),(28,114,4.31850642414624),(29,88,-1.72959074678793),(29,91,-3.77861873226112),(29,102,-0.490981780449843),(29,105,1.91463972899564),(29,116,0.457884456923124),(30,95,-0.489928891872921),(30,96,-0.182805871761223),(30,99,0.280617694631794),(30,101,0.0359660634174627),(30,104,0.606936857203894),(30,109,1.27195043794061),(30,110,2.97415082247383),(30,114,-0.499404889065218),(30,118,-0.533127842036195),(31,85,-2.45796075319681),(31,92,1.22493667409284),(31,94,1.52539139988403),(31,96,-1.99191259498886),(31,99,-0.396130252998444),(31,103,3.27607043671987),(31,107,1.78681295205542),(31,108,0.00964384899441484),(31,109,0.114169743949705),(31,111,-2.69159520249031),(31,112,-1.61287270729698),(31,117,3.82940153202918),(32,86,-2.07747123630482),(32,87,1.9425336466567),(32,89,1.72302926725059),(32,92,-3.1235236671041),(32,98,1.64568010498367),(32,99,0.124439222388379),(32,104,-1.61775566881314),(32,106,0.118640705587939),(32,109,-3.02330088198492),(32,116,-3.93649098178045),(32,118,0.662038026062807),(33,96,0.0447706534012879),(33,98,1.73699148533586),(33,108,-3.11375774407178),(33,110,-4.99819940794092),(33,111,-2.45902890102847),(33,114,-0.627216406750694),(34,85,-0.0836054567094943),(34,90,2.59958189642018),(34,99,2.57898190252388),(34,104,0.831339457380901),(34,109,2.77600939970092),(35,86,-0.0515762810144353),(35,87,-1.44192327646718),(35,97,2.12195196386608),(35,98,-0.305185094759972),(35,100,-1.3441877498703),(35,104,3.26903592028565),(35,107,-1.46708578753014),(35,109,1.80187383648183),(35,110,-0.195089571825312),(35,112,2.08977019562365),(36,85,0.786568803979614),(36,87,0.491958372753075),(36,90,0.0367900631733145),(36,91,-2.60109256263924),(36,104,0.714438306833094),(36,107,0.878872035889767),(36,109,-1.472975859859),(36,112,-1.69412823877682),(36,115,2.12591937009796),(36,117,1.67969298379467),(36,118,-0.410092471083712),(37,85,4.29369487594226),(37,86,1.08236945707572),(37,87,3.46339304788354),(37,91,-1.81818597979675),(37,99,-3.01478621784112),(37,105,0.362224188970611),(37,111,-1.08870204779199),(37,112,-2.35320596942045),(37,118,-2.88174077578051),(38,87,-0.475569933164464),(38,90,2.65013580736717),(38,103,-2.45097201452681),(38,105,1.82035279396954),(38,106,1.4066743980224),(38,111,1.99443037202063),(38,115,-0.896176030762658),(39,87,2.38274788659322),(39,89,-1.37668996246223),(39,91,-1.31986449781793),(39,94,-0.17200231940672),(39,97,0.639133884701071),(39,98,-1.82270271919919),(39,107,0.646137882625813),(39,108,0.275200659199805),(39,109,3.06625568407239),(39,111,0.22072511978515),(39,113,-1.39310892056032),(39,116,0.548631244850002),(39,118,-4.00054933317057),(40,88,-2.55317850276193),(40,92,1.5045777764214),(40,99,-1.44227423932615),(40,104,0.607165746024964),(40,110,-1.36301767021699),(40,116,1.79392376476333),(40,118,-0.937223426007874),(41,88,-0.00857570116275524),(41,93,1.44705038605914),(41,96,1.04049806207465),(41,97,0.0550096133304849),(41,100,-0.942320017090365),(41,101,0.707266457106235),(41,104,-1.30748924222541),(41,105,-1.0903958250679),(41,106,1.7354045228431),(41,107,-0.32471694082461),(41,109,-2.64772484511856),(41,110,-3.24188970610675),(41,111,1.97862178411206),(41,112,-1.54086428418836),(42,85,2.04042176580096),(42,86,1.23413800469985),(42,87,-3.94332712790307),(42,99,2.32375560777612),(42,100,-1.95847956785791),(42,103,-3.03163243507187),(42,109,-2.21587267677847),(42,113,3.04875331888791),(43,85,-2.07864619891964),(43,88,1.96813867610706),(43,89,0.181524094363231),(43,93,-0.986480300302133),(43,97,-0.0225074007385479),(43,98,-4.4359874263741),(43,101,3.04226813562426),(43,102,-1.88628803369243),(43,103,-2.74216437269204),(43,105,-0.937376018555254),(43,110,-1.25591296121097),(43,112,2.42921231727042),(43,114,-1.44151127658925),(43,116,0.477309488204596),(44,89,2.21594897305216),(44,98,-4.57924130985443),(44,99,0.185171056245613),(45,87,-0.708105716116825),(45,88,-1.83027130954924),(45,90,0.66080202642903),(45,91,-1.20081179235206),(45,95,2.16008484145634),(45,98,3.3952299569689),(45,108,1.29816583758049),(45,109,0.181112094485306),(45,112,-3.34525589770196),(45,115,2.75205236976226),(46,85,0.700018311105685),(46,89,0.204886013367107),(46,91,0.28530228583636),(46,94,1.09479049043245),(46,97,-1.58383434553056),(46,100,-2.17955565050203),(46,101,0.551637318033387),(46,108,0.697271645252846),(46,112,2.43946653645436),(47,86,1.56636249885556),(47,91,0.380092776268807),(47,92,-1.57826471755119),(47,94,-4.58259834589679),(47,95,1.70491653187658),(47,100,-3.34054078798791),(47,101,-2.00254829554125),(47,104,0.749229407635731),(47,105,1.62280648213141),(47,108,1.09352397228919),(47,112,2.35763115329447),(47,114,0.197454756309702),(47,118,-2.31437116611225),(48,86,2.06665242469558),(48,91,-0.731513412884915),(48,98,1.19190038758507),(48,99,1.78678243354595),(48,100,0.206030457472457),(48,103,-4.62697225867489),(48,105,1.25385296182134),(48,106,-1.08883938108463),(48,111,0.493865779595325),(48,115,0.446089053010651),(49,87,-1.09271523178808),(49,89,2.15700247199927),(49,93,-0.0640125736259041),(49,94,0.032090212714011),(49,95,-1.30582598345897),(49,102,-2.51721243934446),(49,113,2.47993408001953),(49,114,1.41145054475539),(50,89,-0.223609118930632),(50,105,-3.02258369701224),(50,107,2.67696157719657),(51,87,2.05732902005066),(51,92,0.755882442701499),(51,97,0.789208655049287),(51,98,-1.9968260750145),(51,103,-1.13977477340007),(51,106,3.67548142948698),(51,112,0.336039307840205),(51,118,3.20418408764916),(52,89,-0.793710135196997),(52,97,2.12318796349986),(52,106,1.1391033661916),(52,110,-3.68678853724784),(52,111,0.776955473494675),(52,113,3.50704977568896),(52,114,2.1709494308298),(52,118,-1.75986510818812),(53,88,0.352214117862484),(53,90,-1.10911893063143),(53,92,1.49159215063936),(53,94,-1.40224921414838),(53,104,-0.24321726126896),(53,105,-1.16818750572222),(53,109,-1.28128910184027),(54,85,0.104159672841578),(54,91,-1.90656758323923),(54,94,1.36240730002747),(54,96,2.16437269203772),(54,111,4.62530899990844),(54,112,-1.50050355540635),(54,113,-2.81690420239875),(54,118,-3.27904599139378),(55,87,-4.13486129337443),(55,95,-1.49075289162877),(55,107,-1.41010773033845),(55,110,-3.15364543595691),(55,117,-1.15446943571276),(56,107,0.353251747184668),(56,111,-1.84337900936918),(56,113,2.30312509537034),(56,114,2.16461684011353),(57,87,0.0463118381298257),(57,90,-0.426007873775445),(57,91,-0.553895687734611),(57,92,-1.08110293893246),(57,93,2.89309366130558),(57,94,-4.37516403698843),(57,95,1.8717764824366),(57,96,-4.53736991485336),(57,100,-3.28109073152867),(57,102,-3.605533005768),(57,103,-0.761879329813532),(57,115,3.44950712607196),(58,86,-1.0422070986053),(58,87,-3.04837183751946),(58,89,-1.5626850184637),(58,90,3.58490249336222),(58,95,-3.13319803460799),(58,96,4.69397564622944),(58,101,-0.961165196691794),(58,103,2.06048768578143),(58,109,-2.46482741782891),(58,110,-0.672582171086764),(58,113,-0.599490340891751),(58,114,-2.31925412762841),(58,115,-2.40733054597613),(58,118,-0.0943784905545211),(59,85,1.40102847376934),(59,86,-2.3055970946379),(59,90,-0.825357829523606),(59,91,1.90237128818628),(59,93,-1.08088930936613),(59,97,-1.79012421033357),(59,98,0.508621478926969),(59,100,-2.69035920285653),(59,102,1.48045289468062),(59,112,-0.0396740623187964),(59,114,-0.233802301095615),(60,85,-1.88244270149846),(60,87,1.25759147923215),(60,90,0.60971404156621),(60,91,-0.528733176671651),(60,96,-1.81153294473098),(60,100,-0.895413068025757),(60,101,-0.296700949125645),(60,105,-0.531479842524491),(60,107,2.67484054078799),(60,109,0.687093722342601),(60,110,-0.407757805108798),(60,114,4.14177373577074),(61,89,-0.0225379192480237),(61,94,0.531998657185583),(61,96,1.88421277504807),(61,98,-1.69324320200201),(61,100,-2.9702444532609),(61,102,-3.04141361735893),(61,103,-2.48669392986847),(61,114,4.09688100833155),(61,115,0.562608722190008),(62,93,-0.504501480147709),(62,95,-1.49090548417615),(62,107,-1.78800317392499),(62,109,-1.54370250556963),(62,110,1.98879970702231),(62,111,1.32799768059328),(63,87,-0.666814172795801),(63,90,2.78026673177282),(63,93,1.59584337900937),(63,97,-1.62080751976074),(63,100,-0.349620044557024),(63,103,-1.6044495986816),(63,104,0.878780480361339),(63,108,1.36004211554308),(63,111,-2.76837977233192),(63,114,1.61491744743187),(63,117,0.675634022034364),(64,87,1.60052797021393),(64,94,0.579866939298684),(64,99,-0.311975463118381),(64,110,-1.08134708700827),(64,112,2.92188787499619),(64,116,3.17877742851039),(65,87,1.50018311105686),(65,88,0.773247474593341),(65,90,1.80013428144169),(65,97,-0.0892208624530778),(65,99,0.914944914090396),(65,107,-1.27248451185644),(65,110,-0.547853022858364),(65,111,-3.70487075411237),(65,114,-4.39342936490982),(65,116,-1.48091067232276),(65,117,-3.31447798089541),(66,85,-1.23099459822382),(66,102,-4.77056184575945),(66,105,2.46307260353404),(66,108,4.45648060548723),(66,111,-1.10214545121616),(66,115,1.92236091189306),(66,118,-1.4329355754265),(67,86,3.10972930082095),(67,90,-2.48077333903012),(67,92,0.748313852351451),(67,104,-0.229911191137425),(67,109,-2.79715872676778),(67,111,-0.0565355388042848),(68,87,-3.58763389996033),(68,88,1.53746147038179),(68,90,-2.42339854121525),(68,93,0.89341410565508),(68,95,-0.916928617206336),(68,96,-2.8335062715537),(68,97,-1.63731803338725),(68,103,2.12579729606006),(68,107,2.79754020813624),(68,112,2.99145481734672),(68,114,-0.846049378948332),(69,87,2.34176152836695),(69,88,0.67268898586993),(69,92,0.404980620746483),(69,94,-2.56871242408521),(69,95,3.17445905941954),(69,97,0.384304330576495),(69,108,1.11125522629475),(69,113,-1.29436628315073),(69,114,1.57757805108798),(69,118,-0.066774498733482),(70,85,1.59993285927915),(70,86,0.739570299386578),(70,87,-0.784752952665792),(70,90,-0.837580492568743),(70,96,-4.07399212622455),(70,97,-0.13365581225013),(70,99,-0.799508651997436),(70,105,-0.946790978728599),(70,107,-1.37327188940092),(70,109,-0.435972167119358),(70,110,0.206091494491409),(70,111,1.52356028931547),(71,85,-3.8022247993408),(71,93,0.0985747856074709),(71,96,2.67084261604663),(71,100,0.84774315622425),(71,104,-0.371654408398694),(71,106,-0.289757988219855),(71,111,1.63061922055727),(71,113,2.12569048127689),(72,94,-0.514587847529526),(72,96,1.45809808648946),(72,99,-0.73902096621601),(72,110,-1.56021301919614),(72,112,0.428174687948241),(72,114,1.20822779015473),(72,115,2.35137485885189),(72,116,-0.731254005554369),(73,88,-3.20395519882809),(73,94,1.7452009643849),(73,99,-0.944700460829493),(73,100,-3.66856898709067),(73,106,0.0722067934202094),(73,110,0.978453932309946),(73,115,1.63806573686941),(74,90,1.84516434217353),(74,94,-1.7268898586993),(74,99,-1.85460982085635),(74,102,-1.32171086764122),(74,106,-1.65057832575457),(74,107,0.161961729789117),(74,110,1.62404248176519),(74,113,2.85790581987976),(74,116,-1.16579180272835),(75,85,-1.95947141941588),(75,86,0.223624378185369),(75,93,-2.34951322977386),(75,98,0.710470900601215),(75,103,-0.389996032593768),(75,105,-2.12187566759239),(75,111,-1.86582537308878),(75,117,1.96235541856136),(76,86,-1.07013153477584),(76,89,3.58096560563982),(76,92,-2.39536729026154),(76,94,0.198065126499222),(76,99,-0.285592211676382),(76,101,-2.64387951292459),(76,103,0.600451673940245),(76,106,0.748832667012543),(76,110,0.0672170171208837),(76,113,-1.33091219824824),(77,88,-0.462202826013978),(77,91,1.53878902554399),(77,93,0.211203344828639),(77,98,0.889309366130558),(77,101,3.65234839930418),(77,102,1.77538377025666),(77,103,-1.22629474776452),(77,104,3.44703512680441),(77,105,0.925046540726951),(77,109,0.0595416119876705),(78,88,1.84145634327219),(78,93,-1.42980742820521),(78,94,2.47752311777093),(78,101,-1.3228247932371),(78,104,1.01051362651448),(78,110,-2.35355693227943),(78,114,1.60112308114872),(78,116,3.74416333506272),(78,117,2.59920041505173),(78,118,0.594561601611377),(79,87,-0.557435834833827),(79,92,1.32024597918638),(79,94,-1.2639545884579),(79,107,-3.4057893612476),(79,108,1.00666829432051),(79,114,-1.82149723807489),(79,118,-0.517517624439222),(80,87,2.29673146763512),(80,88,0.260170293282876),(80,91,1.57225257118442),(80,99,0.0732444227423933),(80,101,-1.68443861201819),(80,107,-0.527512436292611),(80,113,-0.872890408032472),(81,85,-0.364543595690786),(81,86,-2.2376934110538),(81,90,1.47692800683615),(81,93,2.02330088198492),(81,96,-1.47087008270516),(81,97,1.53080843531602),(81,106,-0.733924375133518),(81,107,1.35311441389203),(81,110,2.47320474868007),(81,115,-2.50251777703177),(82,86,2.49839777825251),(82,92,-2.41035187841426),(82,110,-1.80631427961058),(82,112,0.112643818475906),(83,87,-0.464110232856227),(83,91,-2.14557329020051),(83,93,-0.255760368663594),(83,101,0.120365001373333),(83,103,0.266045106357006),(83,105,-1.21912289803766),(83,108,0.468810083315531),(84,85,0.573107089449751),(84,86,-1.99134800256356),(84,89,0.830713827936644),(84,95,-0.468459120456557),(84,99,0.383312479018525),(84,104,0.722449415570544),(84,111,0.856959746086001),(84,113,1.89588610492264),(84,114,2.89202551347392)]
orgname='BHNEAT_3_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()