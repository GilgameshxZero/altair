edge = [(0,85,-0.46073793755913),(0,89,0.489974669637135),(0,90,-0.223029267250587),(0,93,0.427533799249245),(0,98,0.141850032044435),(0,101,0.12732322153386),(0,105,-0.226233710745567),(0,108,0.186895352031007),(0,113,0.502548295541246),(0,114,-0.688375499740593),(0,117,-0.312997833185827),(0,118,0.134830774864956),(1,86,0.991180150761437),(1,92,0.77904599139378),(1,98,-0.0704367198706015),(1,102,-0.750968962675863),(1,104,0.682241279335917),(1,107,-0.890346995452742),(1,108,0.299691763054292),(1,109,0.690816980498672),(1,113,0.483413190099796),(2,87,-0.261329996642964),(2,88,0.785424359874264),(2,100,0.711630603961303),(2,106,0.467482528153325),(2,108,-0.867580187383648),(2,110,0.190313425092318),(2,113,-0.723075045014801),(2,118,-0.329477828302866),(3,89,-0.534318063905759),(3,92,0.0746787926877651),(3,97,0.963103122043519),(3,99,0.968596453749199),(3,101,0.174871059297464),(3,103,0.0409253212073122),(3,105,0.298623615222633),(3,108,0.19525742362743),(3,109,0.153813287759026),(3,111,-0.00311288796655171),(3,112,-0.651478621784112),(3,116,0.563310647907956),(4,90,0.775322733237709),(4,91,0.581469161046175),(4,97,-0.54902798547319),(4,99,-0.326792199468978),(4,101,0.896359141819513),(4,108,0.621906186101871),(4,113,-0.799951170384838),(4,118,-0.52211066011536),(5,86,-0.665120395519883),(5,87,0.840601825006867),(5,89,0.295175023651845),(5,92,-0.175115207373272),(5,93,-0.384136478774377),(5,99,-0.593493453779717),(5,104,-0.933530686361278),(5,114,-0.633014923551134),(5,118,0.498733481856746),(6,89,0.770867030854213),(6,92,-0.672505874813074),(6,94,-0.021393475142674),(6,100,-0.710135196996979),(6,101,-0.816766869106113),(6,103,-0.704184087649159),(6,107,0.826532792138432),(6,110,-0.213843195898312),(6,113,0.873653370769372),(7,85,0.755882442701499),(7,86,-0.601947080904569),(7,90,0.0629291665395062),(7,95,-0.0518509475997192),(7,99,-0.515915402691733),(7,100,-0.800836207159642),(7,104,0.656270027771844),(7,106,-0.82418286690878),(7,108,-0.184575945310831),(7,112,0.732963042085025),(7,116,0.351878414258248),(8,92,-0.545274208807642),(8,93,0.14966277047029),(8,95,0.646687215796381),(8,99,0.205084383678701),(8,106,-0.0964384899441511),(8,107,-0.787408062990204),(8,115,0.935941648609882),(8,116,0.831995605334635),(8,118,0.654866176335948),(9,85,-0.388256477553636),(9,87,-0.472334971160009),(9,98,-0.397564622943815),(9,101,0.588335825678274),(9,103,-0.207556382946257),(9,105,0.0622272408215583),(9,106,0.729026154362621),(9,113,0.474715414899136),(10,89,0.641529587694937),(10,96,-0.0286873989074374),(10,106,0.554155095065157),(10,108,0.246498001037629),(10,109,0.527756584368419),(10,111,-0.918546098208563),(10,112,-0.86443678090762),(10,114,-0.460341196935942),(10,115,-0.571214941862239),(10,116,0.334269234290597),(10,117,0.403515732291635),(11,89,-0.69151890621662),(11,97,-0.895046845912046),(11,105,-0.89135410626545),(11,112,-0.28034302804651),(11,115,0.0535294656208991),(12,92,-0.716116824854274),(12,93,0.300027466658528),(12,94,0.707541123691519),(12,97,-0.842677083651235),(12,98,-0.146031067842647),(12,99,-0.572466200750755),(12,108,-0.864619891964476),(12,116,0.30741294595172),(13,86,0.116855372783593),(13,87,0.354655598620563),(13,90,-0.88631855220191),(13,99,0.543137913144322),(13,102,-0.431806390575884),(13,104,0.383617664113285),(13,113,-0.975798821985534),(13,116,-0.511459700308237),(13,118,0.941099276711325),(14,90,0.0692770165105136),(14,93,0.643055513168737),(14,95,-0.184942167424543),(14,102,0.842799157689138),(14,104,-0.201666310617389),(14,106,-0.0681173131504257),(14,109,-0.816461684011353),(14,110,0.108401745658742),(14,111,0.782769249549852),(15,85,0.589312417981506),(15,92,0.333872493667409),(15,99,-0.0339060640278329),(15,101,0.98361156041139),(15,104,-0.316568498794519),(15,108,-0.859523300881985),(15,117,-0.915341654713584),(16,86,-0.226355784783471),(16,87,0.869747001556444),(16,88,-0.354625080111087),(16,90,0.849635303811762),(16,91,0.391369365520188),(16,95,-0.24176763206885),(16,97,-0.389080477309488),(16,98,0.660359508041627),(16,99,0.149082918790246),(16,101,0.787224951933348),(16,108,0.0356761375774407),(16,110,-0.948728904080325),(17,89,0.41712698751793),(17,96,-0.335154271065401),(17,99,0.889919736320078),(17,101,0.268959624011963),(17,106,-0.942411572618793),(17,107,-0.427838984344005),(17,109,-0.214300973540452),(18,90,-0.429486983855708),(18,91,0.00799584948271126),(18,93,-0.683736686300241),(18,99,-0.208105716116825),(18,102,0.918515579699087),(18,103,-0.265419476912748),(18,104,-0.285897396771142),(18,110,0.401684621723075),(18,111,-0.454725791192358),(18,116,0.691305276650288),(18,117,0.595294045838801),(18,118,-0.17612231818598),(19,87,-0.663319803460799),(19,89,-0.66978972746971),(19,93,0.88891262550737),(19,95,0.407757805108798),(19,101,-0.876613666188543),(19,105,-0.199316385387738),(19,115,0.223273415326395),(20,88,-0.237678151799066),(20,101,0.0597552415540025),(20,103,0.224768822290719),(20,104,-0.422559282204657),(20,105,-0.966338084047975),(20,106,-0.861812189092685),(20,111,0.0944547868282113),(20,116,0.19190038758507),(21,86,-0.0729087191381573),(21,87,0.791100802636799),(21,94,0.142155217139195),(21,96,-0.355754264961699),(21,101,0.360026856288339),(21,102,0.516403698843348),(21,105,0.394207586901456),(21,107,-0.221045564134648),(21,108,0.223181859797967),(22,86,-0.292458876308481),(22,88,-0.401409955137791),(22,91,-0.065553758354442),(22,92,0.0452894680623798),(22,93,-0.510971404156621),(22,98,0.196142460402234),(22,106,-0.751274147770623),(22,115,-0.716269417401654),(22,117,0.376110110782189),(23,85,-0.37443159276101),(23,86,0.462355418561357),(23,88,0.277413251136814),(23,90,-0.705557420575579),(23,97,0.302926725058748),(23,104,-0.568865016632588),(23,112,-0.691183202612384),(23,114,-0.856105227820673),(23,115,-0.450849940488907),(23,116,-0.614642780846583),(24,89,-0.735496078371532),(24,90,-0.774590289010285),(24,91,0.847254860072634),(24,101,0.430799279763176),(24,107,-0.0233771782586139),(24,108,0.17352824488052),(24,110,0.662770470290231),(24,112,-0.374065370647298),(25,90,-0.147465437788018),(25,92,0.832026123844111),(25,94,-0.91689809869686),(25,98,0.689840388195441),(25,105,0.949583422345653),(25,108,0.021393475142674),(25,109,0.3098544267098),(25,115,0.000579851680043947),(26,85,-0.915128025147252),(26,87,-0.0561845759453108),(26,89,0.179754020813623),(26,95,-0.919278542435987),(26,98,-0.692800683614612),(26,100,-0.969725638599811),(26,101,0.584490493484298),(26,102,0.787377544480728),(26,103,-0.739005706961272),(26,104,-0.314951017792291),(26,107,0.508835108493301),(26,109,0.538285470137638),(26,112,0.087435529648732),(26,113,-0.0903653065584277),(26,117,-0.19647816400647),(27,85,0.685659352397229),(27,87,-0.243568224127934),(27,94,0.790612506485183),(27,100,0.607104709006012),(27,102,-0.436628315073092),(27,103,0.204199346903897),(27,104,-0.58226264229255),(27,105,0.998290963469344),(27,108,0.930051576281014),(27,110,-0.602038636432997),(27,114,-0.604846339304788),(28,87,0.632679219946898),(28,88,-0.599841303750725),(28,97,0.975157933286538),(28,99,0.396252327036348),(28,104,-0.60994293038728),(28,113,-0.663228247932371),(28,114,-0.161503952146977),(29,88,-0.443861201818903),(29,91,0.823786126285592),(29,102,0.734092226935636),(29,105,-0.818628498184149),(29,116,0.860133671071505),(30,95,0.0440382091738639),(30,96,0.56114383373516),(30,99,-0.0679036835840938),(30,101,-0.183324686422315),(30,104,-0.123661000396741),(30,109,-0.891323587755974),(30,110,0.264320810571612),(30,114,-0.303567613757744),(30,118,0.330790124210334),(31,85,0.457930234687338),(31,92,0.890926847132786),(31,94,-0.513321329386273),(31,96,0.805688650166326),(31,99,0.0941190832239753),(31,103,0.578295236060671),(31,107,-0.683370464186529),(31,108,-0.142887661366619),(31,109,0.970976897488327),(31,111,0.249122592852565),(31,112,-0.563402203436384),(31,117,-0.098239082003235),(32,86,-0.960844752342296),(32,87,-0.387829218420972),(32,89,-0.208075197607349),(32,92,-0.420758690145573),(32,98,-0.125705740531632),(32,99,-0.434919278542436),(32,104,0.527542954802087),(32,106,-0.809869685964537),(32,109,0.330454420606098),(32,116,0.30664998321482),(32,118,0.963377788628803),(33,96,-0.997283852656636),(33,98,0.98101748710593),(33,108,-0.0394909512619404),(33,110,-0.289223914304025),(33,111,-0.954130680257576),(33,114,-0.887752922147282),(34,85,0.55977050080874),(34,90,-0.536759544663839),(34,99,-0.222907193212683),(34,104,0.253730887783441),(34,109,0.577959532456435),(35,86,0.0462965788750877),(35,87,0.374645222327342),(35,97,0.788079470198676),(35,98,0.608478041932432),(35,100,-0.642780846583453),(35,104,-0.590777306436354),(35,107,-0.944090090639973),(35,109,0.114108706930754),(35,110,0.936246833704642),(35,112,-0.370220038453322),(36,85,-0.282601397747734),(36,87,-0.775505844294565),(36,90,-0.747886593218787),(36,91,0.361461226233711),(36,104,0.960386974700156),(36,107,-0.885708182012391),(36,109,0.660725730155339),(36,112,0.319620349742119),(36,115,0.343150120548112),(36,117,-0.86977752006592),(36,118,-0.695455793939024),(37,85,-0.188268684957427),(37,86,-0.744193853572192),(37,87,0.929227576525163),(37,91,0.11108737449263),(37,99,-0.306772057252724),(37,105,-0.287270729697562),(37,111,0.811639759514145),(37,112,-0.330912198248238),(37,118,-0.74199652088992),(38,87,0.895290993987854),(38,90,-0.705069124423963),(38,103,-0.993102816858425),(38,105,-0.745628223517563),(38,106,-0.403210547196875),(38,111,-0.257728812524796),(38,115,0.126529740287484),(39,87,0.335978270821253),(39,89,0.796655171361431),(39,91,0.72240363780633),(39,94,-0.451826532792138),(39,97,-0.00521866512039552),(39,98,0.574907681508835),(39,107,0.226020081179235),(39,108,-0.806665242469558),(39,109,-0.551225318155461),(39,111,-0.239387188329722),(39,113,-0.164220099490341),(39,116,0.696951200903348),(39,118,0.0346995452742088),(40,88,-0.906979583117161),(40,92,0.720847193823054),(40,99,-0.972441785943175),(40,104,-0.861262855922117),(40,110,-0.0479445783867916),(40,116,0.512436292611469),(40,118,-0.627521591845454),(41,88,0.988311410870693),(41,93,-0.349742118594928),(41,96,0.357799005096591),(41,97,-0.727072969756157),(41,100,0.257179479354228),(41,101,-0.704886013367107),(41,104,0.17261268959624),(41,105,-0.457106234931486),(41,106,-0.850245674001282),(41,107,0.324350718710898),(41,109,-0.988891262550737),(41,110,0.300698873867),(41,111,0.872737815485092),(41,112,0.975951414532914),(42,85,-0.0993377483443709),(42,86,-0.338694418164617),(42,87,0.0599078341013825),(42,99,0.347483748893704),(42,100,-0.32731101413007),(42,103,-0.67543565172277),(42,109,-0.609149449140904),(42,113,0.535111545152135),(43,85,-0.420941801202429),(43,88,0.989715262306589),(43,89,0.136753440961943),(43,93,-0.65660573137608),(43,97,-0.572801904354991),(43,98,-0.210272530289621),(43,101,0.760307626575518),(43,102,-0.589617603076266),(43,103,0.0644856105227821),(43,105,0.316995757927183),(43,110,0.305307168797876),(43,112,-0.834925382244331),(43,114,-0.0361949522385327),(43,116,-0.266243476668599),(44,89,0.637623218482009),(44,98,0.504776146732994),(44,99,0.381054109317301),(45,87,-0.0419324320200201),(45,88,-0.120120853297525),(45,90,-0.436231574449904),(45,91,-0.764824365977966),(45,95,-0.831263161107212),(45,98,0.19510483108005),(45,108,-0.429242835779901),(45,109,-0.770409253212073),(45,112,0.325357829523606),(45,115,-0.0909146397289956),(46,85,0.610126041444136),(46,89,0.167271950437941),(46,91,0.145237586596271),(46,94,0.654377880184332),(46,97,-0.919797357097079),(46,100,-0.306161687063204),(46,101,0.392468031861324),(46,108,-0.307443464461196),(46,112,0.726889858699301),(47,86,-0.638477736747337),(47,91,0.32502212591937),(47,92,-0.129551072725608),(47,94,-0.566362498855556),(47,95,-0.360850856044191),(47,100,-0.157994323557237),(47,101,0.0644856105227821),(47,104,0.00247199926755577),(47,105,0.184667500839259),(47,108,-0.989471114230781),(47,112,0.252418591875973),(47,114,0.617236854152043),(47,118,-0.230719931638539),(48,86,-0.85110019226661),(48,91,0.486983855708487),(48,98,0.123599963377789),(48,99,0.0484633930478835),(48,100,0.884243293557543),(48,103,-0.797296060060427),(48,105,-0.603808709982604),(48,106,0.760917996765038),(48,111,-0.640369884334849),(48,115,-0.154911954100162),(49,87,-0.872615741447188),(49,89,-0.333780938138981),(49,93,-0.507095553453169),(49,94,0.3060396130253),(49,95,-0.965636158330027),(49,102,-0.970366527298807),(49,113,0.258857997375408),(49,114,0.728354747154149),(50,89,-0.752586443678091),(50,105,0.630817590868862),(50,107,0.732718894009217),(51,87,0.713187047944578),(51,92,-0.675527207251198),(51,97,-0.676870021668142),(51,98,-0.629108554338206),(51,103,0.572435682241279),(51,106,-0.612292855616932),(51,112,-0.641163365581225),(51,118,0.437696462904752),(52,89,-0.970763267921995),(52,97,0.864558854945524),(52,106,-0.122013000885037),(52,110,0.488082522049623),(52,111,0.382396923734245),(52,113,-0.271248512222663),(52,114,0.802728354747154),(52,118,-0.125583666493728),(53,88,-0.673390911587878),(53,90,-0.446882534257027),(53,92,-0.596270638142033),(53,94,0.0121768852809229),(53,104,-0.808526871547594),(53,105,-0.144657734916227),(53,109,0.914731284524064),(54,85,0.551988280892361),(54,91,-0.683309427167577),(54,94,-0.744956816309091),(54,96,0.0638447218237861),(54,111,0.442304757835627),(54,112,-0.0811792352061525),(54,113,0.8684041871395),(54,118,-0.762688070314646),(55,87,-0.349314859462264),(55,95,-0.75533310953093),(55,107,-0.114352855006561),(55,110,0.787926877651296),(55,117,0.708792382580035),(56,107,0.635853144932402),(56,111,-0.924069948423719),(56,113,0.743552964873196),(56,114,0.651997436445204),(57,87,-0.161748100222785),(57,90,-0.568956572161016),(57,91,-0.955351420636616),(57,92,0.0563676870021668),(57,93,-0.73802911465804),(57,94,0.2639545884579),(57,95,-0.490462965788751),(57,96,0.721427045503098),(57,100,0.317575609607227),(57,102,0.405743583483383),(57,103,-0.301858577227088),(57,115,-0.669362468337046),(58,86,-0.10834070863979),(58,87,0.936094241157262),(58,89,-0.497970519119846),(58,90,-0.570940275276955),(58,95,0.405316324350719),(58,96,0.830011902218696),(58,101,0.73711355937376),(58,103,0.296365245521409),(58,109,-0.547532578508866),(58,110,0.709158604693747),(58,113,-0.747001556443983),(58,114,0.590868861964782),(58,115,-9.15555284279916e-05),(58,118,-0.580095828119755),(59,85,0.969420453505051),(59,86,-0.875576036866359),(59,90,0.56129642628254),(59,91,-0.697561571092868),(59,93,-0.329660939359722),(59,97,0.173345133823664),(59,98,0.69457075716422),(59,100,0.552720725119785),(59,102,-0.131076998199408),(59,112,-0.159550767540513),(59,114,-0.985534226508377),(60,85,-0.986449781792657),(60,87,-0.0745262001403851),(60,90,-0.337687307351909),(60,91,-0.723990600299081),(60,96,0.427686391796625),(60,100,0.403118991668447),(60,101,-0.340372936185797),(60,105,-0.611102633747368),(60,107,-0.256599627674184),(60,109,0.171452986236152),(60,110,-0.354991302224799),(60,114,0.591204565569018),(61,89,-0.293038727988525),(61,94,-0.640430921353801),(61,96,-0.674550614947966),(61,98,0.809045686208686),(61,100,0.409588915677358),(61,102,0.796624652851955),(61,103,0.37336344492935),(61,114,0.691671498764),(61,115,-0.270027771843623),(62,93,0.996765037995544),(62,95,-0.107974486526078),(62,107,0.15546128727073),(62,109,0.192571794793542),(62,110,0.737479781487472),(62,111,0.0428174687948241),(63,87,-0.93832209234901),(63,90,-0.138096255378887),(63,93,0.549607837153233),(63,97,0.901120029297769),(63,100,-0.0564592425305948),(63,103,-0.823541978209784),(63,104,-0.0178838465529344),(63,108,0.140446180608539),(63,111,-0.386730552079836),(63,114,-0.959959715567492),(63,117,0.925412762840663),(64,87,-0.253791924802393),(64,94,0.373332926419874),(64,99,0.616046632282479),(64,110,0.523056733909116),(64,112,-0.195135349589526),(64,116,-0.860133671071505),(65,87,-0.706350901821955),(65,88,0.924283577990051),(65,90,-0.930356761375774),(65,97,0.0473647267067476),(65,99,-0.604480117191076),(65,107,0.624439222388379),(65,110,-0.112826929532762),(65,111,-0.574144718771935),(65,114,0.881435590685751),(65,116,-0.145298623615223),(65,117,0.884517960142827),(66,85,0.724967192602313),(66,102,-0.168858912930692),(66,105,-0.804834131900998),(66,108,0.801416058839686),(66,111,-0.762138737144078),(66,115,0.147404400769066),(66,118,-0.611346781823176),(67,86,0.884548478652303),(67,90,0.382580034791101),(67,92,0.659932248908963),(67,104,0.28339487899411),(67,109,-0.795678579058199),(67,111,0.299996948149052),(68,87,0.949797051911985),(68,88,0.394085512863552),(68,90,0.138096255378887),(68,93,-0.951780755027924),(68,95,-0.0241096224860378),(68,96,-0.640644550920133),(68,97,0.882412182988983),(68,103,0.331156346324046),(68,107,-0.142185735648671),(68,112,0.238990447706534),(68,114,-0.917294839320048),(69,87,0.944181646168401),(69,88,0.428571428571429),(69,92,0.443342387157811),(69,94,0.725333414716025),(69,95,-0.891720328379162),(69,97,0.611529892880032),(69,108,-0.190466017639698),(69,113,0.183690908536027),(69,114,-0.076479384746849),(69,118,0.886196478164006),(70,85,-0.86962492751854),(70,86,0.490127262184515),(70,87,0.535203100680563),(70,90,0.902890102847377),(70,96,-0.21668141727958),(70,97,-0.213385418256172),(70,99,-0.89547410504471),(70,105,0.880458998382519),(70,107,0.333933530686361),(70,109,-0.469405194250313),(70,110,-0.957884456923124),(70,111,0.844477675710318),(71,85,-0.834589678640095),(71,93,0.221808526871548),(71,96,0.403027436140019),(71,100,0.990630817590869),(71,104,0.112094485305338),(71,106,-0.707815790276803),(71,111,-0.623523667104099),(71,113,-0.172826319162572),(72,94,-0.735038300729392),(72,96,0.988921781060213),(72,99,-0.681081575975829),(72,110,0.516678365428632),(72,112,-0.966246528519547),(72,114,-0.626819666127506),(72,115,0.388439588610492),(72,116,0.157628101443525),(73,88,-0.407666249580371),(73,94,0.484084597308267),(73,99,-0.51661732840968),(73,100,0.104281746879482),(73,106,0.769768364513077),(73,110,0.649952696310312),(73,115,0.126621295815912),(74,90,-0.226752525406659),(74,94,-0.765984069338054),(74,99,-0.491164891506699),(74,102,0.0267647328104495),(74,106,0.369792779320658),(74,107,0.132419812616352),(74,110,0.827661976989044),(74,113,0.354533524582659),(74,116,-0.591296121097446),(75,85,-0.772301400799585),(75,86,-0.233436078981903),(75,93,-0.28370006408887),(75,98,-0.525284585100864),(75,103,0.0253608813745537),(75,105,-0.462324900051881),(75,111,0.856318857387005),(75,117,0.87054048280282),(76,86,0.0627155369731742),(76,89,0.998718222602008),(76,92,-0.93969542527543),(76,94,0.00350962858973968),(76,99,-0.406018250068667),(76,101,0.733329264198737),(76,103,0.308542130802332),(76,106,0.716971343119602),(76,110,0.572252571184423),(76,113,-0.764122440260018),(77,88,0.852046266060366),(77,91,-0.0829493087557604),(77,93,0.843104342783898),(77,98,0.321939756462294),(77,101,0.905575731681265),(77,102,0.441328165532395),(77,103,0.159642323068941),(77,104,-0.821375164036988),(77,105,-0.708120975371563),(77,109,-0.512802514725181),(78,88,0.141727958006531),(78,93,-0.0364391003143406),(78,94,-0.984160893581957),(78,101,-0.637501144444105),(78,104,-0.232581560716575),(78,110,-0.401532029175695),(78,114,-0.65050202948088),(78,116,0.137913144322031),(78,117,-0.968321787163915),(78,118,-0.43702505569628),(79,87,-0.64867091891232),(79,92,0.807550279244362),(79,94,-0.37244788964507),(79,107,-0.300180059205908),(79,108,0.901699880977813),(79,114,0.523880733664968),(79,118,0.475569933164464),(80,87,0.46089053010651),(80,88,0.39616077150792),(80,91,0.986846522415845),(80,99,0.959624011963256),(80,101,-0.50236518448439),(80,107,-0.389324625385296),(80,113,-0.581987975707266),(81,85,0.927579577013459),(81,86,-0.0470900601214637),(81,90,-0.741142002624592),(81,93,0.368877224036378),(81,96,-0.798089541306803),(81,97,0.807519760734886),(81,106,-0.371166112247078),(81,107,-0.194219794305246),(81,110,0.324747459334086),(81,115,-0.761772515030366),(82,86,-0.840784936063723),(82,92,-0.930356761375774),(82,110,-0.740867336039308),(82,112,-0.454573198644978),(83,87,0.0599993896298105),(83,91,0.838282418286691),(83,93,-0.0287789544358654),(83,101,-0.422894985808893),(83,103,0.119754631183813),(83,105,-0.0561540574358348),(83,108,0.314676351207007),(84,85,-0.746910000915555),(84,86,-0.248695333719901),(84,89,0.212530899990844),(84,95,-0.38776818140202),(84,99,0.725486007263405),(84,104,0.895382549516282),(84,111,0.164494766075625),(84,113,-0.345133823664052),(84,114,0.677327799310282)]
orgname='BHNEAT_1_8'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()