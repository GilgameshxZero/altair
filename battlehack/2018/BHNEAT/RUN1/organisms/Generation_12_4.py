edge = [(0,85,-0.852809228797266),(0,89,-0.0831629383220922),(0,90,-1.65890987884152),(0,93,0.919003875850704),(0,98,1.12366100039674),(0,101,-2.70259712515641),(0,105,-0.62533951841792),(0,108,0.427030243842891),(0,113,-1.55793939024018),(0,114,-1.56392101809748),(0,117,2.77321695608386),(0,118,0.311883907589953),(1,86,1.70346690267647),(1,92,0.968214972380749),(1,98,3.00157170323801),(1,102,0.855235450300607),(1,104,3.28023621326334),(1,107,-0.442350535599841),(1,108,-3.22641682180242),(1,109,0.709555345316935),(1,113,2.38657795953246),(2,87,-0.626972258674886),(2,88,-1.76145207068087),(2,100,-2.5234534745323),(2,106,0.108615375225074),(2,108,-1.4492019409772),(2,110,-0.919080172124393),(2,113,-1.66200750755333),(2,118,4.69844660786767),(3,89,-1.52789391766106),(3,92,-1.7471694082461),(3,97,0.469908749656667),(3,99,2.24385814996796),(3,101,1.72553178502762),(3,103,-0.903866695150609),(3,105,1.06741538743248),(3,108,0.398190252388073),(3,109,-2.47656178472243),(3,111,-3.82683797723319),(3,112,1.15686513870663),(3,116,-3.33060701315348),(4,90,-2.26567888424329),(4,91,-0.0392773216956084),(4,97,1.07567064424574),(4,99,-0.93015839106418),(4,101,0.836481826227607),(4,108,2.54898220770898),(4,113,-0.0256660664693134),(4,118,-0.669133579515976),(5,86,-3.61001922666097),(5,87,0.876689962462233),(5,89,-0.714560380870998),(5,92,0.849391155735954),(5,93,-0.136890774254585),(5,99,1.2955565050203),(5,104,-0.377269814142277),(5,114,3.16042054506058),(5,118,2.37734611041597),(6,89,-0.662526322214423),(6,92,1.26461073641163),(6,94,1.94959868160039),(6,100,0.255119479964599),(6,101,-3.4037446211127),(6,103,1.65871150852992),(6,107,-1.41267128513443),(6,110,0.159337137974181),(6,113,-2.14929654835658),(7,85,2.20664082766198),(7,86,2.57536545915098),(7,90,0.651326029236732),(7,95,-0.549745170445875),(7,99,1.19125949888607),(7,100,0.924390392773217),(7,104,-2.17481002227851),(7,106,2.0738090151677),(7,108,1.78417310098575),(7,112,-0.207358012634663),(7,116,-0.942182683797723),(8,92,-1.02964873195593),(8,93,-1.92539750358592),(8,95,1.78954435865352),(8,99,0.879634998626667),(8,106,2.63330484939116),(8,107,-1.15826899014252),(8,115,1.91424298837245),(8,116,-1.75341044343394),(8,118,0.76067384868923),(9,85,0.56251716666158),(9,87,0.390606402783288),(9,98,-2.36361278115177),(9,101,1.5806756797998),(9,103,1.01512192144536),(9,105,-1.43467513046663),(9,106,-1.58592486342967),(9,113,-2.07130649739067),(10,89,-0.28461561937315),(10,96,-1.89484847560045),(10,106,2.11864070558794),(10,108,0.145985290078433),(10,109,1.02250740073855),(10,111,-1.87556077761162),(10,112,0.273903622547075),(10,114,-0.0908078249458296),(10,115,0.911313211462752),(10,116,-0.0253303628650777),(10,117,-1.27068391979736),(11,89,-2.48052919095431),(11,97,0.244392223883786),(11,105,0.504364146855068),(11,112,-1.70119327372051),(11,115,-0.500198370311594),(12,92,-1.16309091463973),(12,93,1.55723746452223),(12,94,-3.18559831537828),(12,97,-0.349024933622242),(12,98,1.86301767021699),(12,99,0.688253425702689),(12,108,-1.83063753166295),(12,116,1.66777550584429),(13,86,1.39329203161718),(13,87,1.84002197332682),(13,90,0.132328257087924),(13,99,2.31965086825159),(13,102,1.40346995452742),(13,104,-0.186529129917295),(13,113,1.38155766472365),(13,116,-0.464217047639393),(13,118,5.85703604235969),(14,90,0.332010864589373),(14,93,0.680364391003143),(14,95,2.1332438123722),(14,102,2.16499832148198),(14,104,-1.27193517868587),(14,106,-2.01071199682608),(14,109,0.28698080385754),(14,110,1.91662343211158),(14,111,-0.699133274330882),(15,85,-2.05317850276193),(15,92,-0.383648182622761),(15,99,-2.29473250526444),(15,101,1.4989165929136),(15,104,-3.02960295419172),(15,108,0.97346415601062),(15,117,-1.22182378612629),(16,86,1.04251228370006),(16,87,1.91624195074313),(16,88,0.510284737693411),(16,90,2.50912503433332),(16,91,-0.331431012909329),(16,95,-2.97186193426313),(16,97,-1.88250373851741),(16,98,-1.89652699362163),(16,99,0.315240943632313),(16,101,-1.29630420850246),(16,108,1.4063539536729),(16,110,1.06762901699881),(17,89,-1.25473799859615),(17,96,0.694784386730552),(17,99,-0.180578020569475),(17,101,-0.724707785271767),(17,106,1.62681966612751),(17,107,-1.74759666737877),(17,109,-1.07057405316324),(18,90,2.72336497085482),(18,91,1.62427137058626),(18,93,-2.03617969298379),(18,99,-1.5630054628132),(18,102,-0.135456404309214),(18,103,-2.05592516861476),(18,104,2.72934659871212),(18,110,0.0518509475997192),(18,111,-1.47909482100894),(18,116,1.64822840052492),(18,117,0.514923551133763),(18,118,-1.13745536667989),(19,87,-1.3865169225135),(19,89,1.94627216406751),(19,93,-0.578707235938597),(19,95,-2.35374004333628),(19,101,-0.755577257606738),(19,105,-1.73918881801813),(19,115,-1.71808526871548),(20,88,0.402233954893643),(20,101,-2.66849269081698),(20,103,-0.60490737632374),(20,104,-2.88686788537248),(20,105,-2.29319132053591),(20,106,-1.35721915341655),(20,111,-1.16389965514084),(20,116,1.56176946317942),(21,86,0.843760490737632),(21,87,-1.68898586993011),(21,94,-1.45808282723472),(21,96,-1.74512466811121),(21,101,2.90272225104526),(21,102,2.31916257209998),(21,105,-3.4549851985229),(21,107,0.795739616077151),(21,108,-2.75302896206549),(22,86,-1.37505722220527),(22,88,1.37954344309824),(22,91,1.62627033295694),(22,92,-1.15590380565813),(22,93,-1.43198950163274),(22,98,0.791589098788415),(22,106,0.229773857844783),(22,115,2.41749320963164),(22,117,2.51686147648549),(23,85,-0.798348948637349),(23,86,-1.84257026886807),(23,88,-0.41262550737022),(23,90,0.324823755607776),(23,97,3.27013458662679),(23,104,-1.78046510208441),(23,112,2.23563341166417),(23,114,0.656392101809748),(23,115,0.804574724570452),(23,116,-2.32712790307321),(24,89,-2.47441022980438),(24,90,-1.04724265266884),(24,91,-1.20183416241951),(24,101,0.317835016937773),(24,107,4.31376079592273),(24,108,-0.317361980040895),(24,110,2.00924710837123),(24,112,1.04751731925413),(25,90,-0.946653645435957),(25,92,2.74822229682302),(25,94,1.19797357097079),(25,98,0.807702871791742),(25,105,0.472426526688437),(25,108,1.29421369060335),(25,109,0.647465437788018),(25,115,-1.57332071901608),(26,85,2.0132908108768),(26,87,1.63924069948424),(26,89,-2.01162755211036),(26,95,2.62053285317545),(26,98,0.443830683309427),(26,100,2.08914456617939),(26,101,-0.613345744193853),(26,102,-2.0876644184698),(26,103,0.395794549394208),(26,104,2.94311349833674),(26,107,0.12533951841792),(26,109,-1.62524796288949),(26,112,0.430555131687368),(26,113,0.0797448652607806),(26,117,-2.4448225348674),(27,85,-0.793252357554857),(27,87,1.94396801660207),(27,94,1.98272652363659),(27,100,-1.44921720023194),(27,102,-2.259056367687),(27,103,-0.0711844233527635),(27,104,-2.01289407025361),(27,105,-0.436811426129948),(27,108,-0.342188787499618),(27,110,2.33320108645894),(27,114,-0.508224738303781),(28,87,2.32728049562059),(28,88,-2.21477401043733),(28,97,-0.503021332438124),(28,99,-1.23647267067476),(28,104,-1.90524002807703),(28,113,-1.44808801538133),(28,114,-1.28324228644673),(29,88,-1.14333017975402),(29,91,-0.00729392376476334),(29,102,1.53552354503006),(29,105,2.18335520493179),(29,116,-2.74898525955992),(30,95,1.17473372600482),(30,96,-1.72380748924223),(30,99,1.92532120731224),(30,101,1.50901821955016),(30,104,1.16435743278298),(30,109,-0.920209356975005),(30,110,-0.637272255623035),(30,114,-2.74098941007721),(30,118,2.20178838465529),(31,85,0.939954832605976),(31,92,0.696157719656972),(31,94,1.96881008331553),(31,96,2.36162907803583),(31,99,2.3558763389996),(31,103,-0.996749778740806),(31,107,0.821329386272774),(31,108,0.621906186101871),(31,109,-0.0947294534134953),(31,111,0.932859279152806),(31,112,1.5591906491287),(31,117,-4.00910977507858),(32,86,-0.270699179052095),(32,87,-0.669515060884426),(32,89,1.30028687398907),(32,92,-3.10408337656789),(32,98,1.71816156498917),(32,99,2.39121677297281),(32,104,1.76125370036927),(32,106,-1.5835291604358),(32,109,1.77298806726279),(32,116,0.989608447523423),(32,118,0.349070711386456),(33,96,0.394268623920408),(33,98,1.4690389721366),(33,108,-1.77208777123325),(33,110,-1.57638782921842),(33,111,-0.633030182805872),(33,114,-2.57376323740349),(34,85,-3.30425428022095),(34,90,-1.3888058107242),(34,99,-2.9673909726249),(34,104,1.42126224555193),(34,109,3.50715659047212),(35,86,1.31626331369976),(35,87,-0.915280617694632),(35,97,-0.444120609149449),(35,98,0.43549913022248),(35,100,-2.31504257332072),(35,104,1.61149937437056),(35,107,-0.292046876430555),(35,109,0.0659962767418441),(35,110,0.428006836146123),(35,112,-2.01017792291024),(36,85,0.712515640736107),(36,87,-2.06308175908689),(36,90,-0.987350077822199),(36,91,-0.132068849757378),(36,104,2.62108218634602),(36,107,0.612903225806452),(36,109,1.12598040711692),(36,112,-1.23689992980743),(36,115,0.155873287148656),(36,117,0.0947904904324472),(36,118,1.47167882320627),(37,85,-1.88615070039979),(37,86,-0.287560655537584),(37,87,-0.836664937284463),(37,91,1.70056764427625),(37,99,0.89143040253914),(37,105,-1.46034119693594),(37,111,2.29538865321818),(37,112,2.06506546220283),(37,118,-2.57930234687338),(38,87,2.17816705832087),(38,90,3.02490310373241),(38,103,0.778405102694784),(38,105,0.80260628070925),(38,106,-1.10889004181036),(38,111,-0.528504287850581),(38,115,0.340907010101627),(39,87,-1.25421918393506),(39,89,0.153050325022126),(39,91,-0.391781365398114),(39,94,0.820459608752709),(39,97,1.4484389782403),(39,98,2.21643726920377),(39,107,-3.01448103274636),(39,108,-0.197485274819178),(39,109,0.0247810296945097),(39,111,-2.12234870448927),(39,113,2.11438337351604),(39,116,0.700079348124638),(39,118,1.42182683797723),(40,88,-3.16495254371776),(40,92,-2.69653920102542),(40,99,-1.15042573320719),(40,104,-0.650227362895596),(40,110,0.472136600848415),(40,116,-0.618594927823725),(40,118,0.353175450910978),(41,88,-1.52226325266274),(41,93,0.672185430463576),(41,96,0.0395672475356304),(41,97,1.45123142185736),(41,100,-1.5477462080752),(41,101,1.60821863460189),(41,104,-1.78688924832911),(41,105,-1.71935178685873),(41,106,2.04264961699271),(41,107,0.0802636799218726),(41,109,-0.948454237495041),(41,110,2.64726706747642),(41,111,-1.98524430066836),(41,112,0.0863063447981203),(42,85,1.54281746879482),(42,86,-2.30265205847346),(42,87,0.652607806634724),(42,99,-1.04838709677419),(42,100,-1.9303262428663),(42,103,-1.40301217688528),(42,109,0.458647419660024),(42,113,-0.149922177800836),(43,85,0.0448316904202399),(43,88,2.04550309762871),(43,89,2.67847224341563),(43,93,-1.38238166447951),(43,97,-1.62466811120945),(43,98,3.16751609851375),(43,101,3.90800195318461),(43,102,-0.403973509933775),(43,103,0.931424909207434),(43,105,-2.23784600360118),(43,110,2.28981902523881),(43,112,-1.0343333231605),(43,114,-1.40009765923032),(43,116,-2.1668141727958),(44,89,0.621280556657613),(44,98,0.75685903500473),(44,99,-2.41361735892819),(45,87,-1.4116946928312),(45,88,-2.17366557817316),(45,90,-0.0678121280556658),(45,91,3.10237434003723),(45,95,2.63026825769829),(45,98,-0.238990447706534),(45,108,1.1010773033845),(45,109,1.53611865596484),(45,112,1.80339976195563),(45,115,-2.10731833857234),(46,85,-2.86155278176214),(46,89,-1.13797418134098),(46,91,2.15158543656728),(46,94,2.29699087496567),(46,97,-1.31543931394391),(46,100,0.544083986938078),(46,101,-0.649494918668172),(46,108,-1.18770409253212),(46,112,-2.25031281472213),(47,86,-2.109027375103),(47,91,1.85367900631733),(47,92,-1.90757469405194),(47,94,1.35589159825434),(47,95,-1.69980468153935),(47,100,0.252632221442305),(47,101,-0.642643513290811),(47,104,-3.46896267586291),(47,105,-0.841181676686911),(47,108,-1.71605578783532),(47,112,-0.397900326548051),(47,114,1.75931577501755),(47,118,2.37739188818018),(48,86,0.861110263374737),(48,91,0.753135776848659),(48,98,1.67448957792901),(48,99,-0.160176396984771),(48,100,2.58752708517716),(48,103,-4.49502548295541),(48,105,0.915311136204108),(48,106,-3.88164922025208),(48,111,-0.701483199560533),(48,115,-1.11209448530534),(49,87,1.0062257759331),(49,89,0.963515121921445),(49,93,-0.941984313486129),(49,94,-1.30695516830958),(49,95,1.08896145512253),(49,102,2.93124179815058),(49,113,1.2988525040437),(49,114,0.756599627674184),(50,89,1.65343180639058),(50,105,4.54483169042024),(50,107,0.0476393932920316),(51,87,2.991729483932),(51,92,0.425305948057497),(51,97,1.60766930143132),(51,98,0.889797662282174),(51,103,0.913434247871334),(51,106,-0.790581987975707),(51,112,1.20586260567034),(51,118,-0.142704550309763),(52,89,0.15477462080752),(52,97,-0.405850398266549),(52,106,-0.795007171849727),(52,110,-1.96905423139134),(52,111,-0.708838160344249),(52,113,1.05510116885891),(52,114,0.293603320413831),(52,118,-1.59134189886166),(53,88,-1.63637195959349),(53,90,-2.57637256996368),(53,92,1.71382793664357),(53,94,2.14934232612079),(53,104,1.64880825220496),(53,105,1.07126071962645),(53,109,-2.2837916196173),(54,85,-0.0247505111850337),(54,91,-0.152211066011536),(54,94,1.86857203894162),(54,96,-1.21066927091281),(54,111,-0.813394573809015),(54,112,-1.28542435987426),(54,113,-0.0487228003784295),(54,118,1.86111026337474),(55,87,1.27538377025666),(55,95,-0.518280587176122),(55,107,1.04541154210028),(55,110,-0.0241859187597278),(55,117,-3.39143040253914),(56,107,-0.530304879909665),(56,111,-0.980880153813288),(56,113,0.369991149632252),(56,114,-0.940183721427045),(57,87,-2.16161076693014),(57,90,1.95794549394208),(57,91,-2.22457045197913),(57,92,2.79995117038484),(57,93,-1.96865749076815),(57,94,-0.39288003173925),(57,95,0.840235602893155),(57,96,0.878826258125553),(57,100,1.24518570513016),(57,102,-1.81112094485305),(57,103,-1.65822321237831),(57,115,-2.2758415478988),(58,86,0.773354289376507),(58,87,-0.882946256904813),(58,89,1.17490157780694),(58,90,-0.382091738639485),(58,95,0.598681600390637),(58,96,0.478835413678396),(58,101,-0.0846736045411542),(58,103,-0.175084688863796),(58,109,-2.17467268898587),(58,110,-0.255699331644642),(58,113,-2.12022766808069),(58,114,-2.31810968352306),(58,115,-0.725791192358165),(58,118,1.64006469924009),(59,85,-0.818552201910459),(59,86,0.700552385021516),(59,90,-0.0521561326944792),(59,91,-1.59688100833155),(59,93,-0.273323770867031),(59,97,0.813913388470107),(59,98,0.0143742179631947),(59,100,-1.36115604113895),(59,102,2.78301339762566),(59,112,-0.784173100985748),(59,114,-2.3443098239082),(60,85,0.888286996063112),(60,87,-1.06134220404675),(60,90,0.17612231818598),(60,91,0.363322855311746),(60,96,4.09418012024293),(60,100,0.625064851832636),(60,101,-1.96575823236793),(60,105,-2.98074282052065),(60,107,-0.883617664113285),(60,109,0.122119815668203),(60,110,-0.206747642445143),(60,114,2.13650929288614),(61,89,-1.8168431653798),(61,94,-1.38601336710715),(61,96,-2.02055421613208),(61,98,1.77411725211341),(61,100,0.9827723014008),(61,102,-0.748313852351451),(61,103,-2.52502517777032),(61,114,-0.506820886867885),(61,115,-2.30117191076388),(62,93,0.756828516495255),(62,95,0.958662678914762),(62,107,-1.38882106997894),(62,109,-1.29540391247291),(62,110,-0.797906430249947),(62,111,0.670659504989776),(63,87,-0.340861232337413),(63,90,3.10505996887112),(63,93,-0.410550248725852),(63,97,-0.0149235511337626),(63,100,-0.111041596728416),(63,103,-0.905652027954955),(63,104,0.000503555406353952),(63,108,-2.60492263557848),(63,111,-1.47657704397717),(63,114,-0.236945707571642),(63,117,-0.661534470656453),(64,87,-1.8359172338023),(64,94,-1.32761619922483),(64,99,0.744804223761711),(64,110,0.483474227118748),(64,112,-2.91973632007813),(64,116,-1.65688039796136),(65,87,0.0829035309915465),(65,88,-1.37427900021363),(65,90,-1.92899868770409),(65,97,0.69640186773278),(65,99,-0.381771294289987),(65,107,-3.35752433851131),(65,110,0.826120792260506),(65,111,-2.24497207556383),(65,114,-1.05142368846706),(65,116,0.24344615009003),(65,117,1.36349070711386),(66,85,0.661610766930143),(66,102,0.46043275246437),(66,105,2.66254158146916),(66,108,-1.29085665456099),(66,111,2.20354319895016),(66,115,-0.619693594164861),(66,118,-1.7980895413068),(67,86,-0.742469557786798),(67,90,2.94151127658925),(67,92,-1.11474959562975),(67,104,0.855464339121677),(67,109,1.13507492294076),(67,111,3.34194463942381),(68,87,1.78069399090548),(68,88,2.19368572038942),(68,90,-0.208960234382153),(68,93,-0.675923947874386),(68,95,-1.36585589159825),(68,96,-1.87079989013337),(68,97,-0.611865596484268),(68,103,-1.04098635822626),(68,107,-2.31994079409162),(68,112,-2.36976226081118),(68,114,-0.8894466994232),(69,87,-0.00877407147434919),(69,88,-0.910000915555284),(69,92,0.673085726493118),(69,94,0.248146000549333),(69,95,1.23767815179907),(69,97,1.03425702688681),(69,108,-0.559953611865597),(69,113,-2.06442457350383),(69,114,2.72392956328013),(69,118,-0.947676015503403),(70,85,-1.11946470534379),(70,86,-0.603411969359416),(70,87,-0.622928556169317),(70,90,0.121646778771325),(70,96,-0.00350962858973968),(70,97,2.38273262733848),(70,99,-1.98669392986847),(70,105,-1.13304544206061),(70,107,0.750511185033723),(70,109,0.611224707785272),(70,110,-0.87237159337138),(70,111,1.89696951200903),(71,85,0.136051515243995),(71,93,-0.46134830774865),(71,96,-0.831385235145116),(71,100,-0.132023071993164),(71,104,0.160451063570055),(71,106,1.57950071718497),(71,111,0.767967772453993),(71,113,-1.02137821588794),(72,94,0.951902829065828),(72,96,-0.502243110446486),(72,99,0.766533402508621),(72,110,1.53691213721122),(72,112,-1.40868861964782),(72,114,0.623676259651479),(72,115,-1.13406781212806),(72,116,0.800790429395428),(73,88,-0.0599688711203345),(73,94,0.381542405468917),(73,99,-0.311136204107791),(73,100,-1.86298715170751),(73,106,-0.0984984893337809),(73,110,0.158848841822565),(73,115,0.545136875515),(74,90,-0.860911893063143),(74,94,-0.730185857722709),(74,99,-1.44947660756249),(74,102,-1.39674062318796),(74,106,0.751991332743309),(74,107,1.34243293557543),(74,110,-0.820551164281137),(74,113,1.23950926236763),(74,116,-0.780892361217078),(75,85,0.0268257698294015),(75,86,0.680562761314737),(75,93,-1.56946012756737),(75,98,-0.97468489638966),(75,103,-1.56099124118778),(75,105,0.606067079683828),(75,111,-1.18430127872555),(75,117,-0.725363933225501),(76,86,-0.686590166936247),(76,89,2.73014007995849),(76,92,-0.341776787621693),(76,94,0.744651631214332),(76,99,0.0525376140629292),(76,101,-2.00338755455184),(76,103,-0.678624835963012),(76,106,3.06564531388287),(76,110,-1.34127323221534),(76,113,-0.195623645741142),(77,88,1.97152623065889),(77,91,0.0854213080233161),(77,93,0.463881344035157),(77,98,-2.09016693624683),(77,101,-0.655186620685446),(77,102,0.207037568285165),(77,103,0.097659230323191),(77,104,-1.15947447126682),(77,105,-1.32944730979339),(77,109,-1.12495803704947),(78,88,2.2133548997467),(78,93,0.661275063325907),(78,94,0.521897030549028),(78,101,-0.930127872554704),(78,104,-1.71921445356609),(78,110,-1.14006469924009),(78,114,2.29880672627949),(78,116,0.918912320322275),(78,117,0.852687154759362),(78,118,0.250541703543199),(79,87,-2.06358531449324),(79,92,-0.250022888882107),(79,94,-1.60950041199988),(79,107,-2.34482863856929),(79,108,0.85003204443495),(79,114,-1.47744682149724),(79,118,0.942335276345103),(80,87,2.60161137730033),(80,88,-1.13567003387555),(80,91,-0.367961668752098),(80,99,1.90102847376934),(80,101,0.314798425244911),(80,107,0.390545365764336),(80,113,-1.75099948118534),(81,85,-0.969801934873501),(81,86,-1.87475203711051),(81,90,-2.97350993377483),(81,93,-1.45109408856471),(81,96,1.13811151463363),(81,97,-0.612292855616932),(81,106,-0.807596057008576),(81,107,0.754325998718223),(81,110,-0.166570024719993),(81,115,-0.754280220954009),(82,86,1.22171697134312),(82,92,3.01438947721793),(82,110,-2.09036530655843),(82,112,-1.88192388683737),(83,87,-1.17313150425733),(83,91,0.232947782830287),(83,93,1.29181798760949),(83,101,-0.454908902249214),(83,103,0.226752525406659),(83,105,0.75655384990997),(83,108,-1.87551499984741),(84,85,-0.752616962187567),(84,86,2.41225928525651),(84,89,1.24401074251534),(84,95,0.344431897946104),(84,99,-0.0178533280434584),(84,104,0.336771752067629),(84,111,-3.49894711142308),(84,113,-0.913495284890286),(84,114,-1.78279976805933),(35,105,-0.716040528580584)]
orgname='BHNEAT_12_4'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()