edge = [(0,85,3.3759117404706),(0,89,-3.440244758446),(0,90,2.22418897061068),(0,93,-2.79555650502029),(0,98,-0.702414014099552),(0,101,-1.73444318979461),(0,105,-1.25508896145512),(0,108,0.162205877864925),(0,113,2.49404889065218),(0,114,-2.2918637653737),(0,117,4.3015839106418),(0,118,-0.30916776024659),(1,86,3.38909573656423),(1,92,1.83829767754143),(1,98,-0.0381481368449965),(1,102,2.28629413739433),(1,104,-4.79450361644337),(1,107,-2.92983794671468),(1,108,-0.731070894497513),(1,109,-1.08136234626301),(1,113,0.230750450148015),(2,87,-2.63882869960631),(2,88,-0.198065126499222),(2,100,1.43482772301401),(2,106,0.336848048341319),(2,108,3.84636982329783),(2,110,-3.65895565660573),(2,113,2.60455641346477),(2,118,1.59054841761528),(3,89,-1.29634998626667),(3,92,1.68745994445631),(3,97,0.575273903622547),(3,99,0.135731070894498),(3,101,-1.8005767998291),(3,103,-3.46658223212378),(3,105,4.3921781060213),(3,108,1.04847865230262),(3,109,-5.24405652027955),(3,111,-2.05404828028199),(3,112,0.32197027497177),(3,116,0.526169621875667),(4,90,3.16951506088443),(4,91,-1.18799401837214),(4,97,-0.532807397686697),(4,99,0.629718924527726),(4,101,3.67981505783258),(4,108,0.32753990295114),(4,113,3.59588915677358),(4,118,-0.65424054689169),(5,86,-1.6460921048616),(5,87,-2.3115024262215),(5,89,-1.08795434430982),(5,92,4.76766258735923),(5,93,4.52504043702506),(5,99,-0.596896267586291),(5,104,3.46501052888577),(5,114,-0.307550279244362),(5,118,0.155949583422346),(6,89,-2.9492019409772),(6,92,-7.86469618823817),(6,94,-0.146870326853237),(6,100,5.28434095278787),(6,101,0.7788933988464),(6,103,0.714133121738334),(6,107,-1.59852900784326),(6,110,1.55339213232826),(6,113,-2.36877040925321),(7,85,0.449842829676199),(7,86,0.054017761772515),(7,90,2.05716116824854),(7,95,-0.00320444349497971),(7,99,-1.36173589281899),(7,100,4.61713003936888),(7,104,-1.11123996704001),(7,106,-0.442594683675649),(7,108,-1.02298043763543),(7,112,-0.609744560075686),(7,116,3.27242347483749),(8,92,2.34954374828333),(8,93,0.29848628192999),(8,95,1.80404065065462),(8,99,-1.0064241462447),(8,106,1.68501846369823),(8,107,2.80013428144169),(8,115,1.929120761742),(8,116,-0.832667012543108),(8,118,-0.076448866237373),(9,85,-3.56419568468276),(9,87,-1.80924405652028),(9,98,-3.19631031220435),(9,101,-0.797860652485733),(9,103,-0.963698232978301),(9,105,-0.239066743980224),(9,106,-1.07458723715934),(9,113,0.920651875362407),(10,89,-1.67256691183203),(10,96,0.191122165593432),(10,106,1.76813562425611),(10,108,3.56443983275857),(10,111,0.632267220068972),(10,112,-3.95481734672079),(10,114,-0.888103885006256),(10,115,5.21022675252541),(10,116,-2.78519547105319),(10,117,2.49000518814661),(11,89,2.88767662587359),(11,97,1.84653767509995),(11,105,-0.137287514877773),(11,112,-1.21076082644124),(11,115,-1.4905240028077),(12,92,-0.730872524185919),(12,93,-0.535416730246895),(12,94,1.57620471816156),(12,97,-0.68884853663747),(12,98,4.46121097445601),(12,99,2.17236854152043),(12,108,-1.11444441053499),(12,116,-0.227271340067751),(13,86,-0.10948515274514),(13,87,1.97384563737907),(13,90,3.90693380535295),(13,99,-1.70429090243233),(13,102,2.29628894924772),(13,104,3.10161137730033),(13,113,0.138386181218909),(13,116,1.32477797784356),(13,118,1.05410931730094),(14,90,-2.91584521011994),(14,93,0.862712485122227),(14,95,-3.21649830622272),(14,102,6.76871547593615),(14,104,2.87606433301798),(14,106,3.00677510910367),(14,109,-0.663212988677633),(14,110,0.979476302377392),(14,111,-0.637485885189368),(15,85,1.61056855983154),(15,92,1.78034302804651),(15,99,1.86727500228889),(15,101,-2.81685842463454),(15,104,-4.77663502914518),(15,108,-3.33919797357097),(15,117,-2.47796563615833),(16,86,1.61671803949095),(16,87,2.02175969725639),(16,88,-0.593646046327097),(16,90,-0.482757042146062),(16,91,2.17833491012299),(16,95,-4.92428357799005),(16,97,-1.06613361003449),(16,98,0.995590075380718),(16,99,3.42263557847835),(16,101,0.376338999603259),(16,108,-1.33617664113285),(16,110,3.6089053010651),(17,89,1.4379558702353),(17,96,0.711188085573901),(17,99,-2.15291299172948),(17,101,2.86823633533738),(17,106,2.74646748252815),(17,107,-0.559129612109744),(17,109,-5.38634907071139),(18,90,0.522476882229072),(18,91,-1.22463148899808),(18,93,-1.63882869960631),(18,99,0.925092318491165),(18,102,2.1082644123661),(18,103,-1.24378185369427),(18,104,-0.613040559099094),(18,110,-0.904110843226417),(18,111,-1.67471846675008),(18,116,2.12157048249763),(18,117,0.908383434553056),(18,118,-0.27904599139378),(19,87,1.75948362681967),(19,89,-0.955732902005066),(19,93,-2.95693838312937),(19,95,-1.29123813592944),(19,101,0.959791863765374),(19,105,-2.68068483535264),(19,115,-2.8653523361919),(20,88,1.25571459089938),(20,101,2.84200567644276),(20,103,0.419782097842341),(20,104,-1.15997802667318),(20,105,-2.27480391857662),(20,106,-0.012192144535661),(20,111,0.192190313425092),(20,116,-3.28739280373547),(21,86,4.86411633655812),(21,87,6.18074587237159),(21,94,-1.65546128727073),(21,96,3.96847437971129),(21,101,1.12659077730644),(21,102,-0.714896084475234),(21,105,1.04870754112369),(21,107,3.16008484145634),(21,108,1.42999053926206),(22,86,-0.820688497573778),(22,88,1.20238349559008),(22,91,-0.223990600299082),(22,92,0.379711294900357),(22,93,0.805017242957853),(22,98,-1.32723471785638),(22,106,-2.8261970885342),(22,115,-2.81215857417524),(22,117,-2.34496597186193),(23,85,0.652653584398938),(23,86,-2.8075655384991),(23,88,-2.0760979033784),(23,90,3.50363170262764),(23,97,-3.10669270912809),(23,104,-0.927610095522935),(23,112,0.902890102847377),(23,114,0.905957213049715),(23,115,-5.85448774681845),(23,116,-4.10666219061861),(24,89,0.00572222052674947),(24,90,-0.494979705191198),(24,91,0.719611194189276),(24,101,2.62808618427076),(24,107,-1.96592608417005),(24,108,1.6855677968688),(24,110,1.24048585467086),(24,112,0.619647816400647),(25,90,-2.80629902035585),(25,92,7.41007721182898),(25,94,-4.75473799859615),(25,98,1.61171300393689),(25,105,-1.81035798211615),(25,108,4.27915280617695),(25,109,2.3780022583697),(25,115,0.626850184636982),(26,85,6.10330515457625),(26,87,-2.84865871150853),(26,89,1.09385967589343),(26,95,-1.66067995239113),(26,98,-3.42294076357311),(26,100,-0.43450727866451),(26,101,1.77408673360393),(26,102,3.47791985839412),(26,103,-0.778786584063234),(26,104,1.94973601489303),(26,107,-3.8086489455855),(26,109,2.4369945371868),(26,112,-0.851237525559252),(26,113,-4.8761558885464),(26,117,-2.0959349345378),(27,85,0.344706564531388),(27,87,0.717123935666982),(27,94,-3.1538438062685),(27,100,0.478026673177282),(27,102,-2.02032532731101),(27,103,-0.622653889584033),(27,104,2.15005951109348),(27,105,2.08752708517716),(27,108,2.23075045014801),(27,110,2.16626483962523),(27,114,-1.75702688680685),(28,87,-4.07519760734886),(28,88,0.7127140110477),(28,97,3.63132114627522),(28,99,0.723349711600085),(28,104,-3.15153965880306),(28,113,0.827295754875332),(28,114,-0.854289376506851),(29,88,5.02705465865047),(29,91,-2.54986724448378),(29,102,4.9905240028077),(29,105,-2.17314676351207),(29,116,5.05185094759972),(30,95,2.03207495345927),(30,96,2.2894528031251),(30,99,0.817423017059847),(30,101,0.17909787285989),(30,104,-0.365840632343516),(30,109,-1.54992828150273),(30,110,2.41930906094546),(30,114,-1.00669881282998),(30,118,1.63289284951323),(31,85,-1.01779229102451),(31,92,-1.51402325510422),(31,94,2.06099124118778),(31,96,2.66109195226905),(31,99,-2.80518509475997),(31,103,-0.424985503707999),(31,107,-1.62793359172338),(31,108,-0.139835810419019),(31,109,-1.32503738517411),(31,111,1.97201452681051),(31,112,0.641270180364391),(31,117,-2.12149418622394),(32,86,-0.010834070863979),(32,87,2.41239661854915),(32,89,1.41991943113498),(32,92,-0.0328531754509109),(32,98,-1.3165227210303),(32,99,2.3386486404004),(32,104,3.17296365245521),(32,106,-1.5710776085696),(32,109,5.13689077425459),(32,116,-1.35624256111332),(32,118,0.0659352397228921),(33,96,3.85750907925657),(33,98,-1.40977202673421),(33,108,-2.2247993408002),(33,110,-2.77004303109836),(33,111,2.421491134373),(33,114,-2.11661122470779),(34,85,-0.752754295480209),(34,90,1.56186101870785),(34,99,-1.32145146031068),(34,104,-2.37188329721976),(34,109,-0.781991027558214),(35,86,1.92037720877712),(35,87,0.770409253212073),(35,97,-1.64777062288278),(35,98,-1.76068910794397),(35,100,-1.91456343272195),(35,104,-1.06459242530595),(35,107,-2.28940702536088),(35,109,-4.69750053407392),(35,110,-1.73316141239662),(35,112,0.199133274330882),(36,85,-0.620593890194403),(36,87,-2.54626606036561),(36,90,-1.84545426801355),(36,91,0.569017609179967),(36,104,0.65294351023896),(36,107,3.00746177556688),(36,109,2.98547318948943),(36,112,0.989349040192877),(36,115,2.86057618945891),(36,117,-1.50135807367168),(36,118,0.381862849818415),(37,85,4.50579851680044),(37,86,1.20586260567034),(37,87,-0.398800622577593),(37,91,-0.173650318918424),(37,99,6.31929990539262),(37,105,3.19258705404828),(37,111,1.10654011658071),(37,112,1.78742332224494),(37,118,-0.631046479689932),(38,87,2.50906399731437),(38,90,-1.4436170537431),(38,103,2.21823786126286),(38,105,4.98097170934172),(38,106,0.777306436353649),(38,111,1.59799493392743),(38,115,-1.33791619617298),(39,87,4.0769829401532),(39,89,-1.70621356852931),(39,91,-2.96227912228767),(39,94,-1.44581438642537),(39,97,-0.123111667226173),(39,98,-1.01356547746208),(39,107,-1.70790734580523),(39,108,6.93408001953185),(39,109,1.05096591082492),(39,111,-2.96282845545824),(39,113,-1.31994079409162),(39,116,0.34949797051912),(39,118,5.07321390423292),(40,88,1.09454634235664),(40,92,1.57643360698264),(40,99,1.46302682576983),(40,104,0.387173070467238),(40,110,-0.998260444959868),(40,116,-4.40922269356365),(40,118,4.55435346537675),(41,88,-2.38296151615955),(41,93,2.61911374248482),(41,96,0.371410260322886),(41,97,-1.65456099124119),(41,100,0.470290231025117),(41,101,3.53675954466384),(41,104,2.18501846369823),(41,105,-3.61050752281259),(41,106,-0.946028015991699),(41,107,-3.95481734672079),(41,109,1.19981994079409),(41,110,-1.732673116245),(41,111,-2.19879757072665),(41,112,-2.89069795831172),(42,85,4.87360759300516),(42,86,-0.388576921903134),(42,87,2.91250343333232),(42,99,-0.10025330362865),(42,100,-3.29610583819086),(42,103,-2.3993652150029),(42,109,-0.682515945921201),(42,113,2.08841212195196),(43,85,0.983123264259773),(43,88,-0.611972411267434),(43,89,0.544007690664388),(43,93,2.32874538407544),(43,97,-3.52871791741691),(43,98,-2.31769768364513),(43,101,2.91378521073031),(43,102,1.62672811059908),(43,103,2.54402294991913),(43,105,-0.360499893185217),(43,110,0.474257637256996),(43,112,-2.14642780846583),(43,114,-2.67806024353771),(43,116,-3.85013885921812),(44,89,0.682851649525437),(44,98,0.299615466780603),(44,99,2.22405163731803),(45,87,1.1291848506119),(45,88,-1.90746787926878),(45,90,-2.47114474929044),(45,91,1.24776451918088),(45,95,-2.75441755424665),(45,98,-1.64024781029695),(45,108,-0.518234809411908),(45,109,0.250175481429487),(45,112,-2.20091860713523),(45,115,-0.0746177556688131),(46,85,-2.91488387707144),(46,89,-0.279717398602252),(46,91,-1.47350993377483),(46,94,0.532700582903531),(46,97,-0.725959044160283),(46,100,0.84331797235023),(46,101,-3.90612506485183),(46,108,0.500656147953734),(46,112,-2.2886898403882),(47,86,-1.54042176580096),(47,91,-1.06997894222846),(47,92,0.205999938962981),(47,94,-0.602404858546709),(47,95,-0.964537491988891),(47,100,1.26805932798242),(47,101,3.97694326609088),(47,104,0.191732535782952),(47,105,3.49267555772576),(47,108,2.8895687734611),(47,112,0.11108737449263),(47,114,2.3635059663686),(47,118,4.62727744376965),(48,86,4.7635120700705),(48,91,0.681020538956877),(48,98,-1.64813684499649),(48,99,0.789635914181951),(48,100,1.9017761772515),(48,103,-3.35264137699515),(48,105,-0.787697988830226),(48,106,-3.53094576860866),(48,111,-1.27645191808832),(48,115,-0.071718497268593),(49,87,2.06305124057741),(49,89,3.18312631611072),(49,93,-1.94306772057253),(49,94,1.05983153782769),(49,95,-0.730689413129063),(49,102,2.42242194891202),(49,113,-0.963713492233039),(49,114,-1.7305825983459),(50,89,-3.28972746971038),(50,105,1.43736075930052),(50,107,-2.0823236793115),(51,87,-3.84794152653584),(51,92,-3.42208624530778),(51,97,1.0209204382458),(51,98,-1.32404553361614),(51,103,-3.44064149906919),(51,106,2.02250740073855),(51,112,3.11281167027802),(51,118,2.48283333841975),(52,89,-4.44184698019349),(52,97,5.0123294778283),(52,106,4.55603198339793),(52,110,-4.15868099002045),(52,111,1.91117587817011),(52,113,0.880703146458327),(52,114,0.217841120639668),(52,118,0.899197363200781),(53,88,2.12877285073397),(53,90,-4.46050904873806),(53,92,-0.795937986388745),(53,94,2.44895779290139),(53,104,-1.28093813898129),(53,105,-1.53424176763207),(53,109,1.79409161656545),(54,85,0.425931577501755),(54,91,-2.99157689138463),(54,94,-2.24555192724387),(54,96,-1.6262550737022),(54,111,-2.38151188695944),(54,112,0.855662709433271),(54,113,-1.03660695211646),(54,118,0.185247352519303),(55,87,-0.793542283394879),(55,95,3.91621143223365),(55,107,-0.477767265846736),(55,110,1.85079500717185),(55,117,1.49594103823969),(56,107,1.7535935544908),(56,111,0.619129001739555),(56,113,1.49197363200781),(56,114,0.398510696737571),(57,87,-3.08548234504227),(57,90,-2.16296884060183),(57,91,-3.02392651142918),(57,92,3.83048493911557),(57,93,3.71633045442061),(57,94,-0.991576891384624),(57,95,0.661397137363811),(57,96,1.35384685811945),(57,100,2.06155583361309),(57,102,-1.62480544450209),(57,103,-1.1497085482345),(57,115,-0.173879207739494),(58,86,0.331980346079897),(58,87,1.22313608203375),(58,89,0.459013641773735),(58,90,-4.30570390942106),(58,95,-1.77710806604205),(58,96,-3.62964262825404),(58,101,2.09395123142186),(58,103,-2.96310312204352),(58,109,2.24814600054933),(58,110,-1.47236548966948),(58,113,-2.94956816309091),(58,114,5.30091250343333),(58,115,2.48657185583056),(59,85,-2.18112735374004),(59,86,3.16743980224006),(59,90,-1.30669576097903),(59,91,0.679418317209388),(59,93,2.2202215643788),(59,97,-3.75722525711844),(59,98,2.56038087099826),(59,100,-0.0366527298806725),(59,102,-0.680944242683187),(59,112,1.36921292764061),(59,114,-5.48146000549333),(60,85,-0.252265999328593),(60,87,-0.745780816064944),(60,90,6.14065981017487),(60,91,-3.08114871669668),(60,96,0.765678884243294),(60,100,-1.00798059022797),(60,101,2.1263771477401),(60,105,0.842234565263832),(60,107,-1.13837092196417),(60,109,3.81066316721091),(60,110,2.93452253791925),(60,114,1.20805993835261),(61,89,-2.41035187841426),(61,94,-0.933271279030732),(61,96,0.742362743003632),(61,98,2.12141788995025),(61,100,0.737937559129612),(61,102,-0.202490310373241),(61,103,-1.8855098117008),(61,114,1.48512222663045),(61,115,-1.93899349955748),(62,93,0.185781426435133),(62,95,2.39303262428663),(62,107,2.41164891506699),(62,109,-3.6361735892819),(62,110,-2.45666371654408),(62,111,-0.963240455336161),(63,87,2.11355937376019),(63,90,4.9182409131138),(63,93,2.59025849177526),(63,97,-0.555101168858913),(63,100,1.7375713370159),(63,103,1.76273384807886),(63,104,-1.17297891170995),(63,108,-2.07618945890683),(63,111,2.47656178472243),(63,114,-1.6050904873806),(63,117,4.92411572618793),(64,87,0.627765739921262),(64,94,-1.40284432508316),(64,99,1.79058198797571),(64,110,-4.24575029755547),(64,112,-1.0794701986755),(64,116,-5.33031708731346),(65,87,-1.06299020355846),(65,88,0.80649739066744),(65,90,2.29194006164739),(65,97,1.42464980010376),(65,99,0.100177007354961),(65,107,-0.682576982940154),(65,110,-1.46513260292367),(65,111,-2.27195043794061),(65,114,-3.35045930356761),(65,116,0.76197088534196),(65,117,0.494628742332225),(66,85,0.631626331369976),(66,102,2.15346232490005),(66,105,-3.47358623004852),(66,108,5.26338999603259),(66,111,-1.8993652150029),(66,115,2.35778374584185),(66,118,3.03939939573351),(67,86,-1.3097323526719),(67,90,1.00038148136845),(67,92,0.980346079897458),(67,104,1.9683980834376),(67,109,0.699499496444594),(67,111,5.06372264778588),(68,87,3.24573503830073),(68,88,0.285287026581622),(68,90,-2.90710165715506),(68,93,1.72238837855159),(68,95,-0.0406506546220283),(68,96,0.442732016968291),(68,97,-3.19953001495407),(68,103,-0.0782799768059328),(68,107,-1.72727134006775),(68,112,0.116351817377239),(68,114,-2.20992156743065),(69,87,2.98037659840693),(69,88,0.489974669637135),(69,92,2.40760521256142),(69,94,-0.442793053987243),(69,95,-1.00741599780267),(69,97,-0.33112582781457),(69,108,-2.18132572405164),(69,113,4.06068605609302),(69,114,0.60490737632374),(69,118,0.967650379955443),(70,85,0.0609607226783044),(70,86,-1.56811731315043),(70,87,-0.677434614093448),(70,90,2.95925778984954),(70,96,-0.0730918301950133),(70,97,1.82958464308603),(70,99,3.46407971434675),(70,105,-2.23041474654378),(70,107,-0.387829218420972),(70,109,-2.36837366863002),(70,110,0.860927152317881),(70,111,2.13637195959349),(71,85,-1.11911374248482),(71,93,-1.27603991821039),(71,96,-0.361552781762139),(71,100,1.68428601947081),(71,104,-3.46926786095767),(71,106,1.5045777764214),(71,111,3.58592486342967),(71,113,1.44932401501511),(72,94,0.17879268776513),(72,96,0.570101016266366),(72,99,-1.55781731620228),(72,110,-4.09329508346812),(72,112,0.208288827173681),(72,114,-0.0275887325663015),(72,115,-1.26338999603259),(72,116,-0.352580339976196),(73,88,-1.9143040253914),(73,94,-2.42904446546831),(73,99,-0.21637623218482),(73,100,-1.27285073397015),(73,106,5.62715536973174),(73,110,-0.288552507095553),(73,115,-0.980117191076388),(74,90,1.51142918179876),(74,94,-0.730185857722709),(74,99,-0.790734580523087),(74,102,-0.284417249061556),(74,106,0.254524369029817),(74,107,-5.03506576738792),(74,110,-0.028519547105319),(74,113,-0.652760399182104),(74,116,-1.89609973448897),(75,85,0.180593279824213),(75,86,1.23508407849361),(75,93,-2.32807397686697),(75,98,1.1398663289285),(75,103,1.63586840418714),(75,105,-1.38103885006256),(75,111,1.0919217505417),(75,117,1.39057588427381),(76,86,-2.10180974761193),(76,89,-1.94792016357921),(76,92,-1.62065492721336),(76,94,0.376598406933805),(76,99,-3.00656147953734),(76,101,-2.51091036713767),(76,103,-2.03062532425916),(76,106,-0.0679036835840938),(76,110,-0.289468062379833),(76,113,-1.07486190374462),(77,88,0.331888790551469),(77,91,2.27690969573046),(77,93,0.521713919492172),(77,98,1.7162083803827),(77,101,-2.6279030732139),(77,102,0.686056093020417),(77,103,-1.34098330637532),(77,104,-2.48794518875698),(77,105,1.85088656270028),(77,109,1.14676351207007),(78,88,1.25225074007385),(78,93,-3.74706259346294),(78,94,-0.931577501754814),(78,101,0.461363567003388),(78,104,-1.9228186895352),(78,110,0.810525833918271),(78,114,0.465559862056337),(78,116,-1.71712393566698),(78,117,0.0742973113193148),(78,118,-1.07556382946257),(79,87,2.23642689291055),(79,92,-0.735114597003082),(79,94,2.65617847224342),(79,107,2.33649708548234),(79,108,1.25270851771599),(79,114,3.36497085482345),(79,118,-1.19539475692007),(80,87,1.33555101168859),(80,88,-1.13841669972838),(80,91,5.3396099734489),(80,99,1.88009277626881),(80,101,-3.35471663563952),(80,107,1.79393902401807),(80,113,1.01382488479263),(81,85,-0.518967253639332),(81,86,0.0839259010589923),(81,90,1.0285500656148),(81,93,1.91908017212439),(81,96,-2.47474593340861),(81,97,-0.451078829309977),(81,106,1.50758384960479),(81,107,2.61641285439619),(81,110,4.42732016968291),(81,115,-2.75957518234809),(82,86,-3.75598925748466),(82,92,1.68784142582476),(82,110,0.142750328073977),(82,112,2.02676473281045),(83,87,0.0805688650166326),(83,91,0.0516525772881252),(83,93,-0.633060701315348),(83,101,-4.26621295815912),(83,103,-2.26729636524552),(83,105,-0.109683523056734),(83,108,1.12086855677969),(84,85,0.26532792138432),(84,86,-0.591387676625874),(84,89,-1.7909787285989),(84,95,-3.17072054200873),(84,99,-1.39950254829554),(84,104,1.81279946287423),(84,111,2.03848384044923),(84,113,-1.40583513901181),(84,114,1.51647999511704),(10,119,2.30726035340434),(119,109,3.28476821192053),(58,120,2.12813196203497),(120,118,-1.9030579546495),(95,104,4.77056184575945)]
orgname='BHNEAT_11_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()