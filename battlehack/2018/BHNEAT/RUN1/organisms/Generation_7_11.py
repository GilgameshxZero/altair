edge = [(0,85,0.135303811761834),(0,89,-2.61944944608905),(0,90,-1.50601214636677),(0,93,-0.825815607165746),(0,98,-0.72118289742729),(0,101,-2.18286690878018),(0,105,1.14610736411634),(0,108,-1.64441358684042),(0,113,0.598269600512711),(0,114,1.30491042817469),(0,117,1.29345072786645),(0,118,1.04722739341411),(1,86,-1.52400280770287),(1,92,1.733314004944),(1,98,3.21718497268593),(1,102,-0.401516769920957),(1,104,0.590563676870022),(1,107,0.676229132969146),(1,108,0.746940519425031),(1,109,-0.268120365001373),(1,113,2.35872981963561),(2,87,-2.18997772148808),(2,88,-0.843073824274422),(2,100,-0.879497665334025),(2,106,1.5951719718009),(2,108,-0.689062166203803),(2,110,-0.441618091372417),(2,113,-0.388393810846278),(2,118,0.435087130344554),(3,89,-0.662541581469161),(3,92,1.8507339701529),(3,97,0.553834650715659),(3,99,0.883648182622761),(3,101,-1.72092349009674),(3,103,-1.66644795068209),(3,105,-1.25420392468032),(3,108,1.90215765861995),(3,109,1.23265785699026),(3,111,-0.26502273628956),(3,112,-0.226691488387707),(3,116,-2.63592944120609),(4,90,-1.24101992858669),(4,91,-0.267403180028687),(4,97,-0.782982879116184),(4,99,-0.302163762321848),(4,101,-2.08795434430982),(4,108,0.493331705679495),(4,113,-0.512741477706229),(4,118,-2.62041077913755),(5,86,-1.45068208868679),(5,87,1.06384472182379),(5,89,-2.45175023651845),(5,92,-2.24175237281411),(5,93,2.29856257820368),(5,99,-2.22589800714133),(5,104,2.50344859157079),(5,114,-0.722602008117924),(5,118,1.4241004669332),(6,89,2.13930173650319),(6,92,-1.91953794976653),(6,94,-0.970107119968261),(6,100,2.00596636860256),(6,101,-1.8956724753563),(6,103,-0.91636402478103),(6,107,0.311853389080477),(6,110,-0.950010681478317),(6,113,-1.33269753105258),(7,85,-1.52821436201056),(7,86,-1.90581987975707),(7,90,-2.05093539231544),(7,95,1.9717703787347),(7,99,-0.507171849726859),(7,100,0.142735068819239),(7,104,-0.588763084810938),(7,106,1.90588091677602),(7,108,-2.69533371990112),(7,112,-0.35361796929838),(7,116,-1.22714926602985),(8,92,0.178350169377728),(8,93,1.76924954985199),(8,95,-0.528489028595843),(8,99,-0.923245948667867),(8,106,-0.407177953428755),(8,107,-2.52366710409864),(8,115,-1.45919675283059),(8,116,-2.46304208502457),(8,118,0.264671773430586),(9,85,-1.60078737754448),(9,87,-0.233802301095614),(9,98,-2.12121951963866),(9,101,1.22643208105716),(9,103,-0.688497573778497),(9,105,-2.40939054536576),(9,106,-0.00987273781548503),(9,113,0.866405224768822),(10,89,0.140888698995941),(10,96,-0.757652516251106),(10,106,1.67238380077517),(10,108,-1.52642902920621),(10,111,0.597354045228431),(10,112,1.30466628009888),(10,114,0.707022309030427),(10,115,1.38862269966735),(10,116,-1.76671651356548),(10,117,-2.04860072634053),(11,89,1.10341196935942),(11,97,2.41921750541704),(11,105,-0.581255531479842),(11,112,-0.490752891628773),(11,115,0.459608752708518),(12,92,-2.59173863948485),(12,93,2.5738090151677),(12,94,1.16023743400372),(12,97,-1.44196905423139),(12,98,-1.72672200689718),(12,99,2.67302468947417),(12,108,1.19481490524003),(12,116,1.91848506118961),(13,86,1.18134098330638),(13,87,-0.281853694265572),(13,90,0.803735465559862),(13,99,1.34328745384075),(13,102,1.13536484878079),(13,104,-2.51699880977813),(13,113,0.213156529435102),(13,116,1.57777642139958),(13,118,-1.34159367656484),(14,90,-1.72325815607166),(14,93,-2.48745689260537),(14,95,-1.21967223120823),(14,102,2.23290200506607),(14,104,-1.38584551530503),(14,106,1.59941404461806),(14,109,-1.15463728751488),(14,110,2.30825220496231),(14,111,-0.554780724509415),(15,85,-2.18288216803491),(15,92,1.13106173894467),(15,99,0.540742210150456),(15,101,1.23775444807276),(15,104,1.41778313547166),(15,108,-1.65663624988556),(15,117,1.65439313943907),(16,86,1.0628070925016),(16,87,0.160969878231147),(16,88,1.33657338175604),(16,90,-1.29355754264962),(16,91,0.0398266548661764),(16,95,0.290337839899899),(16,97,-1.69244972075564),(16,98,-0.426450392162847),(16,99,0.191793572801904),(16,101,-1.39831232642598),(16,108,-0.505859553819392),(16,110,-1.14465773491623),(17,89,-0.790093691824091),(17,96,-2.03410443433943),(17,99,1.33733634449293),(17,101,0.241737113559374),(17,106,-1.10069582201605),(17,107,1.8512985625782),(17,109,0.0818811609241005),(18,90,3.15291299172948),(18,91,-0.494933927426984),(18,93,-0.950102237006745),(18,99,2.29300820947905),(18,102,-1.66313669240394),(18,103,0.996459852900784),(18,104,0.76136051515244),(18,110,3.17313150425733),(18,111,-1.76909695730461),(18,116,0.830179754020814),(18,117,-0.424207281716361),(18,118,-1.17377239295633),(19,87,-2.6079439680166),(19,89,1.0344553971984),(19,93,1.56338694418165),(19,95,-2.52273628955962),(19,101,2.96363719595935),(19,105,-2.07741019928587),(19,115,-2.32662434766686),(20,88,-0.90720847193823),(20,101,-0.39303262428663),(20,103,-0.434385204626606),(20,104,1.43638416699728),(20,105,-2.04210028382214),(20,106,0.445966978972747),(20,111,2.09654530472732),(20,116,0.335154271065401),(21,86,2.98409985656301),(21,87,1.87893307290872),(21,94,0.729712820825831),(21,96,-2.05969420453505),(21,101,-0.486587115085299),(21,102,2.40705587939085),(21,105,-1.3933835871456),(21,107,0.1564531388287),(21,108,-3.13199255348369),(22,86,-2.21324808496353),(22,88,-2.82850123599963),(22,91,0.0827204199346904),(22,92,-2.11502426221503),(22,93,0.682943205053865),(22,98,2.09808648945586),(22,106,-0.832117679372539),(22,115,-0.301248207037568),(22,117,-1.90977202673421),(23,85,-0.384746848963897),(23,86,0.394131290627766),(23,88,0.431974242378002),(23,90,1.55464339121677),(23,97,0.225547044282357),(23,104,1.18402661214026),(23,112,0.618915372173223),(23,114,0.919919431134983),(23,115,-1.65826899014252),(23,116,1.64310129093295),(24,89,0.568666646320994),(24,90,-2.1959288308359),(24,91,0.319742423780023),(24,101,-1.72232734153264),(24,107,-1.83663441877499),(24,108,1.40495010223701),(24,110,-0.0673848689230018),(24,112,1.26862392040773),(25,90,0.601245155186621),(25,92,-1.76943266090884),(25,94,-1.14149906918546),(25,98,-2.11482589190344),(25,105,1.32705160679952),(25,108,-1.77991576891385),(25,109,0.614658040101322),(25,115,-2.31110568559832),(26,85,2.99446089053011),(26,87,-2.37592699972533),(26,89,-2.18626972258675),(26,95,1.44503616443373),(26,98,-0.831003753776666),(26,100,2.22693563646351),(26,101,0.282341990417188),(26,102,-2.45083468123417),(26,103,1.12938322092349),(26,104,-1.28217413861507),(26,107,2.65807061983093),(26,109,-1.1814325388348),(26,112,0.363872188482315),(26,113,-0.530930509353923),(26,117,-2.2945951719718),(27,85,2.83509323404645),(27,87,2.12761314737388),(27,94,1.93496505630665),(27,100,-0.950163274025697),(27,102,1.20639667958617),(27,103,-0.5413220618305),(27,104,1.30767235328227),(27,105,1.09796441541795),(27,108,1.38279366435743),(27,110,-2.43585009308145),(27,114,0.432889797662282),(28,87,-0.156773583178198),(28,88,-2.55017242957854),(28,97,-1.87261574144719),(28,99,-1.43774224066897),(28,104,-1.04812768944365),(28,113,-2.61450544755394),(28,114,-2.05757316812647),(29,88,-0.741630298776208),(29,91,1.07809686574908),(29,102,0.277703176976836),(29,105,1.70925016022217),(29,116,2.16190069277017),(30,95,0.392132328257088),(30,96,-1.85038300729392),(30,99,-2.64650410473952),(30,101,1.39396343882565),(30,104,1.0849330118717),(30,109,-1.17874691000092),(30,110,0.022385326700644),(30,114,-3.1741233558153),(30,118,-0.822290719321269),(31,85,1.21057771538438),(31,92,2.39443647572253),(31,94,-1.32055116428114),(31,96,1.2761619922483),(31,99,-1.4318521683401),(31,103,-1.99027985473189),(31,107,0.76258125553148),(31,108,2.82465590380566),(31,109,2.38886684774316),(31,111,0.466765343180639),(31,112,-0.797601245155187),(31,117,-1.81574449903867),(32,86,-0.0533310953093051),(32,87,1.26253547776727),(32,89,1.80460524307993),(32,92,0.180852687154759),(32,98,0.613391521958068),(32,99,-1.72557756279183),(32,104,1.8525803399762),(32,106,-2.04800561540574),(32,109,2.27433088167974),(32,116,-0.346797082430494),(32,118,-0.492858668782617),(33,96,2.79020050660726),(33,98,0.300027466658528),(33,108,-2.31501205481124),(33,110,-0.922910245063631),(33,111,-1.86921292764061),(33,114,0.52546769615772),(34,85,0.539704580828272),(34,90,-0.858928189947203),(34,99,-0.572527237769707),(34,104,1.14560380870998),(34,109,2.55291909543138),(35,86,2.02597125156407),(35,87,0.106631672109134),(35,97,1.36417737357707),(35,98,-1.04617450483718),(35,100,1.09578234199042),(35,104,3.25530259102145),(35,107,0.482360301522873),(35,109,0.45364238410596),(35,110,-1.12813196203497),(35,112,-1.37913144322031),(36,85,-2.10861537522507),(36,87,-1.99113437299722),(36,90,1.50082399975585),(36,91,0.875957518234809),(36,104,0.608157597582934),(36,107,-0.311044648579363),(36,109,1.28093813898129),(36,112,-1.60388500625629),(36,115,0.947752311777093),(36,117,-1.66086306344798),(36,118,-1.45228431043428),(37,85,2.80111087374493),(37,86,0.998641926328318),(37,87,0.0556962797936949),(37,91,-0.825830866420484),(37,99,-2.39754936368908),(37,105,-1.71082186346019),(37,111,0.270943327127903),(37,112,0.266609698782311),(37,118,0.767357402264473),(38,87,2.27315591906491),(38,90,-1.23189489425336),(38,103,-0.918958098086489),(38,105,-0.686620685445723),(38,106,-1.48709067049165),(38,111,1.07437360759301),(38,115,2.11784722434156),(39,87,1.41523483993042),(39,89,-1.29207739494003),(39,91,0.139851069673757),(39,94,-0.220908230842006),(39,97,-2.14671773430586),(39,98,0.895825067903684),(39,107,1.44656208990753),(39,108,0.755836664937284),(39,109,2.76534318063906),(39,111,2.13055818353832),(39,113,0.289452803125095),(39,116,-2.59904782250435),(39,118,0.757057405316324),(40,88,-0.0991393780327769),(40,92,-0.264366588335826),(40,99,2.08568071535386),(40,104,-2.99153111362041),(40,110,-1.72740867336039),(40,116,0.380809961241493),(40,118,1.72032837916196),(41,88,0.271919919431135),(41,93,2.03605761894589),(41,96,0.3684041871395),(41,97,1.35410626545),(41,100,-0.644474623859371),(41,101,-1.50367748039186),(41,104,0.531678212836085),(41,105,1.57916501358074),(41,106,1.84801782280953),(41,107,0.605334635456404),(41,109,-1.05610827967162),(41,110,2.43516342661824),(41,111,-1.82998138370922),(41,112,0.324503311258278),(42,85,1.48780785546434),(42,86,-0.0232245857112339),(42,87,-2.34072389904477),(42,99,1.65990173039949),(42,100,-1.44073305459761),(42,103,1.22798852504044),(42,109,1.16423535874508),(42,113,0.892544328135014),(43,85,1.18630024109622),(43,88,-2.19870601519822),(43,89,0.245002594073305),(43,93,-0.580660420545061),(43,97,-2.50009155552843),(43,98,0.17894528031251),(43,101,2.1369365520188),(43,102,0.380581072420423),(43,103,-1.99995422223579),(43,105,0.407956175420392),(43,110,1.99493392742698),(43,112,2.4522537919248),(43,114,1.2118289742729),(43,116,-1.76206244087039),(44,89,-0.361491744743187),(44,98,0.502716147343364),(44,99,0.676000244148076),(45,87,-1.46853541673025),(45,88,-0.867625965147862),(45,90,-1.48089541306803),(45,91,3.03454695272683),(45,95,-1.5097964415418),(45,98,1.92851039155248),(45,108,-2.26221503341777),(45,109,0.58745078890347),(45,112,1.98239082003235),(45,115,-0.837443159276101),(46,85,-0.754173406170843),(46,89,0.650028992584002),(46,91,-2.34737693411054),(46,94,-0.303949095126194),(46,97,-0.380657368694113),(46,100,-2.63014618366039),(46,101,1.02063051240577),(46,108,0.168843653675954),(46,112,1.95712149418622),(47,86,-1.36284981841487),(47,91,0.417096469008454),(47,92,-0.845835749382),(47,94,-1.78560747093112),(47,95,-1.30245368816187),(47,100,0.332590716269417),(47,101,-0.055162205877865),(47,104,0.100787377544481),(47,105,2.3380840479751),(47,108,1.21181371501816),(47,112,1.69605090487381),(47,114,-1.92670979949339),(47,118,1.73541978209784),(48,86,1.22573015533921),(48,91,0.235770744956816),(48,98,1.07434308908353),(48,99,0.703344828638569),(48,100,2.89645069734794),(48,103,-1.52526932584613),(48,105,-1.26012451551866),(48,106,0.108767967772454),(48,111,-2.54556413464766),(48,115,-1.97508163701285),(49,87,2.28823206274606),(49,89,-1.78971221045564),(49,93,-0.690435499130222),(49,94,2.44499038666952),(49,95,-1.37815485091708),(49,102,2.65794854579302),(49,113,1.11413922544023),(49,114,3.08447523422956),(50,89,1.19901120029298),(50,105,1.68005920590838),(50,107,-1.76798303170873),(51,87,0.0549943540757469),(51,92,-1.02615436262093),(51,97,1.53595080416272),(51,98,-0.312707907345805),(51,103,-2.22951445051424),(51,106,1.9717703787347),(51,112,-0.97224341563158),(51,118,1.7521897030549),(52,89,0.930555131687368),(52,97,-2.26541947691275),(52,106,1.59100619525742),(52,110,0.408642841883602),(52,111,0.574694051942503),(52,113,-1.17921994689779),(52,114,1.05610827967162),(52,118,-2.53520310068056),(53,88,-1.60875270851772),(53,90,-0.801950132755516),(53,92,-2.66222113711966),(53,94,2.66006958220161),(53,104,-2.09123508407849),(53,105,-1.71248512222663),(53,109,1.03707998901334),(54,85,1.05583361308634),(54,91,0.617694631794183),(54,94,3.09730826746422),(54,96,1.07631153294473),(54,111,0.153126621295816),(54,112,-2.68172246467483),(54,113,-0.543733024079104),(54,118,-0.0414136173589282),(55,87,0.813867610705893),(55,95,0.32601397747734),(55,107,-0.135196996978668),(55,110,1.33602404858547),(55,117,-2.84118167668691),(56,107,1.64085818048647),(56,111,-1.7820673238319),(56,113,-0.879131443220313),(56,114,1.39295632801294),(57,87,-2.78067873165075),(57,90,-1.21140171514023),(57,91,1.39889217810602),(57,92,2.69290749839778),(57,93,0.0212256233405561),(57,94,1.00845362712485),(57,95,1.26444288460952),(57,96,-0.757423627430036),(57,100,0.17764824365978),(57,102,-2.92870876186407),(57,103,3.00065614795373),(57,115,0.308389538254952),(58,86,-0.368343150120548),(58,87,-1.82123783074435),(58,89,-1.69940794091617),(58,90,1.59390545365764),(58,95,0.142277291177099),(58,96,1.63838618121891),(58,101,0.795175023651845),(58,103,0.386989959410382),(58,109,0.808511612292856),(58,110,-1.70166631061739),(58,113,1.65399639881588),(58,114,0.277565843684194),(58,115,1.41668446913053),(59,85,0.845851008636738),(59,86,-1.71079134495071),(59,90,3.30449842829676),(59,91,0.395290993987854),(59,93,1.75966673787652),(59,97,2.14391003143406),(59,98,-1.18462172307504),(59,100,-2.38909573656423),(59,102,-0.648716696676534),(59,112,0.786156804101688),(59,114,0.333994567705313),(60,85,-1.30614642780847),(60,87,-1.89495529038362),(60,90,-0.599047822504349),(60,91,-2.61368144779809),(60,96,-0.752006591998047),(60,100,-1.64459669789727),(60,101,-3.33207190160833),(60,105,-2.11104159672842),(60,107,2.50424207281716),(60,109,-2.08032471694082),(60,110,-2.4349040192877),(60,114,-0.800744651631214),(61,89,-1.29790643024995),(61,94,-0.0951567125461592),(61,96,1.73809015167699),(61,98,-1.33892330698569),(61,100,0.403607287820063),(61,102,0.442823572496719),(61,103,-1.59756767479476),(61,114,-2.8267616809595),(61,115,-0.144962920010987),(62,93,-0.492904446546831),(62,95,1.39118625446333),(62,107,-2.81426435132908),(62,109,0.833185827204199),(62,110,2.87240211188086),(62,111,-1.01480147709586),(63,87,-2.4292428357799),(63,90,-1.15463728751488),(63,93,-0.909833063753166),(63,97,1.05871761223182),(63,100,-0.49870296334727),(63,103,-0.201971495712149),(63,104,-1.08427686391797),(63,108,-0.457945493942076),(63,111,-3.09009063997314),(63,114,-1.10084841456343),(63,117,0.687536240730003),(64,87,0.233085116122929),(64,94,0.121631519516587),(64,99,1.05249183629872),(64,110,-0.3068025757622),(64,112,-0.491454817346721),(64,116,0.759193700979644),(65,87,0.296075319681387),(65,88,-1.24167607654042),(65,90,0.255592516861476),(65,97,-1.32461012604144),(65,99,0.873531296731468),(65,107,-3.37507248146001),(65,110,0.743263039033174),(65,111,-0.984939115573595),(65,114,-0.694662312692648),(65,116,-1.86507766960662),(65,117,1.04335154271065),(66,85,-0.0404675435651722),(66,102,-1.55752739036225),(66,105,-0.139057588427381),(66,108,1.01536606952116),(66,111,-1.25725577562792),(66,115,-0.778542435987426),(66,118,1.94630268257698),(67,86,1.63423566393017),(67,90,-0.463209936826685),(67,92,-0.6736808374279),(67,104,-1.55542161320841),(67,109,-2.62259285256508),(67,111,-0.0901669362468338),(68,87,-1.52255317850276),(68,88,2.43720816675314),(68,90,-0.208960234382153),(68,93,-1.04344309823908),(68,95,0.651051362651448),(68,96,-1.59978026673177),(68,97,2.11233863338115),(68,103,-0.165868099002045),(68,107,-0.140690328684347),(68,112,-2.31391338847011),(68,114,0.725516525772881),(69,87,0.762901699880978),(69,88,-0.910000915555284),(69,92,0.673085726493118),(69,94,-2.59801019318216),(69,95,0.901058992278817),(69,97,-0.595660267952513),(69,108,-2.5239722891934),(69,113,-2.5448164311655),(69,114,-0.272270882290109),(69,118,0.990844447157201),(70,85,1.30512405774102),(70,86,-0.603411969359416),(70,87,-2.66911832026124),(70,90,1.94672994170965),(70,96,-0.00350962858973968),(70,97,1.20897549363689),(70,99,2.86140018921476),(70,105,0.00335703604235969),(70,107,0.750511185033723),(70,109,0.506851405377361),(70,110,1.61366618854335),(70,111,-2.38668477431562),(71,85,0.136051515243995),(71,93,1.52807702871792),(71,96,-0.305703909421064),(71,100,-1.37954344309824),(71,104,0.0820184942167424),(71,106,-0.625766777550584),(71,111,-0.0975371562852869),(71,113,0.171361430707724),(72,94,0.951902829065828),(72,96,1.21753593554491),(72,99,-1.56424146244697),(72,110,-0.184636982329783),(72,112,1.30059205908383),(72,114,2.31363872188482),(72,115,-1.69919431134983),(72,116,-1.61749626148259),(73,88,-0.97430341502121),(73,94,-2.0077517014069),(73,99,-0.475402081362346),(73,100,-0.293649098178045),(73,106,-0.097506637775811),(73,110,1.64746543778802),(73,115,-0.364253669850765),(74,90,1.1378215887936),(74,94,1.75974303415021),(74,99,-0.153279213843196),(74,102,-1.7189397869808),(74,106,-0.933927426984466),(74,107,-1.79026154362621),(74,110,1.07335123752556),(74,113,-0.740348521378216),(74,116,-2.00308236945708),(75,85,1.4226966154973),(75,86,0.253303628650777),(75,93,0.700048829615162),(75,98,0.600970488601337),(75,103,1.1778160954619),(75,105,0.606067079683828),(75,111,0.924375133518479),(75,117,0.00463881344035166),(76,86,-1.88827173680837),(76,89,-1.76958525345622),(76,92,-0.341776787621693),(76,94,0.744651631214332),(76,99,-0.0566423535874508),(76,101,-0.343333231604968),(76,103,-0.936124759666738),(76,106,0.982604449598682),(76,110,-0.633472701193274),(76,113,0.151066621906186),(77,88,-2.46792504654073),(77,91,1.14120914334544),(77,93,1.0452589495529),(77,98,0.0988494521927549),(77,101,-3.15991698965423),(77,102,1.19953001495407),(77,103,0.097659230323191),(77,104,-2.33451338236641),(77,105,0.0155034028138066),(77,109,-0.768303476058229),(78,88,-0.534440137943663),(78,93,0.838053529465621),(78,94,-1.6210364085818),(78,101,0.900860621967223),(78,104,2.45884578997162),(78,110,-2.29282509842219),(78,114,1.66562395092624),(78,116,-0.684835352641377),(78,117,-0.920682393871883),(78,118,0.594561601611377),(79,87,-0.678624835963011),(79,92,0.242164372692038),(79,94,0.329111606189154),(79,107,0.959181493575854),(79,108,1.75458540604877),(79,114,-0.10338145084994),(79,118,-0.646824549089022),(80,87,2.18106631672109),(80,88,-3.01675466170232),(80,91,-0.367961668752098),(80,99,-0.305612353892636),(80,101,2.07968382824183),(80,107,-1.29398480178228),(80,113,0.243079927976318),(81,85,-0.408490249336222),(81,86,-1.89703054902799),(81,90,1.13481551561022),(81,93,-2.02894680623798),(81,96,-0.311075167088839),(81,97,-2.58325449385052),(81,106,-1.09640797143468),(81,107,-0.450453199865719),(81,110,2.77869502853481),(81,115,-1.52792443617054),(82,86,1.8470412305063),(82,92,0.51730399487289),(82,110,-0.852443006683554),(82,112,-1.97447126682333),(83,87,-2.38776818140202),(83,91,2.10373241370891),(83,93,0.0527665028839991),(83,101,-1.69846186712241),(83,103,-1.32374034852138),(83,105,2.72266304513688),(83,108,-1.61221655934324),(84,85,-1.11990722373119),(84,86,0.890758995330668),(84,89,0.73741874446852),(84,95,0.344431897946104),(84,99,2.28675191503647),(84,104,1.93632312997833),(84,111,2.0738090151677),(84,113,-0.465834528641621),(84,114,0.420865504928739),(10,119,2.60481582079531),(119,109,-1.05519272438734),(58,120,-2.27797784356212),(120,118,-0.688497573778497)]
orgname='BHNEAT_7_11'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()