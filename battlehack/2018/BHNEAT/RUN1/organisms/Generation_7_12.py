edge = [(0,85,1.25769829401532),(0,89,-2.37812433240761),(0,90,-1.69904171880245),(0,93,-0.618060853907895),(0,98,0.140278328806421),(0,101,-1.08381908627583),(0,105,1.68994720297861),(0,108,-0.0722525711844234),(0,113,-0.685720389416181),(0,114,0.430249946592608),(0,117,-0.65126499221778),(0,118,1.1418347727897),(1,86,0.430097354045228),(1,92,-1.28519547105319),(1,98,1.18472853785821),(1,102,-0.939481795709098),(1,104,-2.74510940885647),(1,107,-1.44320505386517),(1,108,-2.14766380809961),(1,109,0.987487411114841),(1,113,-2.18753624073),(2,87,-2.08583330790124),(2,88,-0.778221991637928),(2,100,0.732108523819697),(2,106,-1.27837458418531),(2,108,0.516266365550706),(2,110,-1.3657948545793),(2,113,-0.235801263466292),(2,118,-1.85959959715568),(3,89,-1.90784936063723),(3,92,2.21337015900143),(3,97,2.1058534501175),(3,99,-0.511581774346141),(3,101,-0.762413403729362),(3,103,0.560029908139286),(3,105,1.61514633625294),(3,108,0.497161778618732),(3,109,-1.23842585528123),(3,111,-3.03221228675192),(3,112,-1.57400738547929),(3,116,-2.09292886135441),(4,90,0.513946958830531),(4,91,-0.377422406689657),(4,97,1.23162022766808),(4,99,1.79132969145787),(4,101,-2.15990173039949),(4,108,-0.517822809533982),(4,113,-2.94788964506973),(4,118,-3.07429731131931),(5,86,-1.42252876369518),(5,87,0.274178289132359),(5,89,-2.13176366466262),(5,92,-0.762443922238838),(5,93,2.36730552079836),(5,99,-0.0400097659230323),(5,104,0.504181035798212),(5,114,0.663243507187109),(5,118,-2.54887539292581),(6,89,-1.02325510422071),(6,92,-3.13722647785882),(6,94,-0.709250160222175),(6,100,1.2233954893643),(6,101,-0.636860255745109),(6,103,0.573397015289773),(6,107,0.895367290261544),(6,110,-0.0636768700216681),(6,113,-1.18857387005219),(7,85,1.55438398388623),(7,86,1.45968504898221),(7,90,0.226889858699301),(7,95,3.43002105777154),(7,99,-1.31057161168249),(7,100,0.553514206366161),(7,104,-1.13069551683096),(7,106,0.152592547379986),(7,108,0.213232825708792),(7,112,-0.558015686513871),(7,116,-2.48733481856746),(8,92,0.0594042786950285),(8,93,-0.632557145908994),(8,95,0.719946897793512),(8,99,-3.22426526688437),(8,106,-1.5252998443556),(8,107,1.65363017670217),(8,115,0.725394451734977),(8,116,-1.63652455214087),(8,118,-0.65179906613361),(9,85,-1.43377483443709),(9,87,1.37314981536302),(9,98,1.33156834620197),(9,101,0.0282753990295114),(9,103,2.02185125278481),(9,105,0.614841151158178),(9,106,2.72450941496017),(9,113,1.62524796288949),(10,89,-2.85274819177831),(10,96,-0.623447370830409),(10,106,3.02839747306742),(10,108,2.35300759910886),(10,111,0.623447370830409),(10,112,0.76273384807886),(10,114,0.0269936216315195),(10,115,-0.455687124240852),(10,116,-1.57246620075076),(10,117,2.43556016724143),(11,89,-2.35464033936583),(11,97,-0.0925321207312235),(11,105,-0.184057130649739),(11,112,-2.80741294595172),(11,115,0.662099063081759),(12,92,-2.50346385082553),(12,93,1.58249153111362),(12,94,-1.76442762535478),(12,97,-2.24750511185034),(12,98,0.0659352397228919),(12,99,1.53727835932493),(12,108,1.52998443556017),(12,116,-1.70039979247414),(13,86,-1.22244941557054),(13,87,1.4216132084109),(13,90,-1.41915646839808),(13,99,0.937543870357372),(13,102,-0.87458418530839),(13,104,2.1915494247261),(13,113,-0.505020294808802),(13,116,1.11801507614368),(13,118,0.370036927396466),(14,90,-2.59143345439009),(14,93,-0.624988555558947),(14,95,1.1558122501297),(14,102,0.356624042481765),(14,104,1.59291360209967),(14,106,0.981948301644948),(14,109,1.8692892239143),(14,110,-0.827906125064852),(14,111,-1.28623310037538),(15,85,-1.43144016846217),(15,92,2.10528885769219),(15,99,1.37542344431898),(15,101,-2.56752220221564),(15,104,1.38116092410047),(15,108,-1.75688955351421),(15,117,0.584185308389538),(16,86,0.334711752677999),(16,87,-2.45904416028321),(16,88,0.233939634388256),(16,90,2.61990722373119),(16,91,-2.91108432264168),(16,95,-0.531067842646565),(16,97,0.493743705557421),(16,98,-1.04010132145146),(16,99,-1.44071779534288),(16,101,0.139057588427381),(16,108,0.546647541734062),(16,110,2.74141666920988),(17,89,2.4197668385876),(17,96,-2.19714957121494),(17,99,-1.34798730430006),(17,101,1.11342204046754),(17,106,1.93635364848781),(17,107,-2.27159947508164),(17,109,0.747260963774529),(18,90,0.729819635608997),(18,91,-2.40256965849788),(18,93,-0.365596484267708),(18,99,-2.10386974700156),(18,102,-0.254478591265603),(18,103,-3.18335520493179),(18,104,-1.26934110538041),(18,110,-1.43600268562883),(18,111,-0.567659535508286),(18,116,0.850016785180212),(18,117,0.847346415601062),(18,118,0.386562700277718),(19,87,-0.342326120792261),(19,89,2.06002990813929),(19,93,0.224082155827509),(19,95,-0.643330179754021),(19,101,2.7696157719657),(19,105,-2.55967894528031),(19,115,-0.834116641743217),(20,88,2.03950621051668),(20,101,-2.48644978179266),(20,103,-1.81389812921537),(20,104,0.319330423902097),(20,105,-2.02851954710532),(20,106,0.135517441328166),(20,111,-0.181203650013733),(20,116,-2.37572862941374),(21,86,-1.37379070406201),(21,87,1.96095156712546),(21,94,0.261329996642964),(21,96,0.303353984191412),(21,101,0.860805078279977),(21,102,-0.456877346110416),(21,105,-0.204611346781823),(21,107,-1.4195226905118),(21,108,0.494979705191198),(22,86,-0.47315897091586),(22,88,-2.53895687734611),(22,91,-1.16067995239113),(22,92,2.09660634174627),(22,93,-1.17517624439222),(22,98,-0.957731864375744),(22,106,0.772545548875393),(22,115,-1.42638935514389),(22,117,0.097506637775811),(23,85,-2.97569200720237),(23,86,-2.47582934049501),(23,88,0.726783043916135),(23,90,1.12417981505783),(23,97,-2.16863002410962),(23,104,1.09537034211249),(23,112,-1.60954618976409),(23,114,1.54112369151891),(23,115,-0.58310190130314),(23,116,-0.043733024079104),(24,89,1.40495010223701),(24,90,-2.87618640705588),(24,91,-0.656926175725578),(24,101,-2.12303537095248),(24,107,0.445387127292703),(24,108,-0.966185491500595),(24,110,1.99276711325419),(24,112,-0.251503036591693),(25,90,-1.37833796197394),(25,92,2.41267128513443),(25,94,-1.6032441175573),(25,98,-1.73700674459059),(25,105,-0.715323343607898),(25,108,2.42866298409986),(25,109,-2.02221747489853),(25,115,-0.475951414532914),(26,85,-1.10852381969665),(26,87,-0.812005981627857),(26,89,-2.47833185827204),(26,95,-0.840113528855251),(26,98,-1.83315530869472),(26,100,0.54277169103061),(26,101,-1.2219916379284),(26,102,1.12990203558458),(26,103,0.979766228217414),(26,104,2.50601214636677),(26,107,0.700384533219398),(26,109,0.796472060304575),(26,112,-0.99572740867336),(26,113,2.14378795739616),(26,117,1.29125339518418),(27,85,2.7134769737846),(27,87,1.74941251869259),(27,94,-1.31929990539262),(27,100,-0.513214514603107),(27,102,0.98323007904294),(27,103,-0.346537675099948),(27,104,-0.888973662526322),(27,105,1.50500503555406),(27,108,-1.17152928250984),(27,110,0.210867641224403),(27,114,-0.826685384685812),(28,87,0.963789788506729),(28,88,1.31133457441939),(28,97,1.59871211890011),(28,99,-0.0457930234687337),(28,104,-0.0745872371593371),(28,113,0.823709830011902),(28,114,1.05378887295145),(29,88,-2.10145878475295),(29,91,-1.77805413983581),(29,102,0.45524460585345),(29,105,-1.90589617603076),(29,116,-0.873470259712516),(30,95,-1.08725241859188),(30,96,-1.5547349467452),(30,99,-2.95695364238411),(30,101,1.54403820917386),(30,104,0.133594775231178),(30,109,1.29088717307047),(30,110,1.69067964720603),(30,114,1.25853755302591),(30,118,-0.316293832209235),(31,85,0.414197210608234),(31,92,-1.55496383556627),(31,94,-0.103244117557299),(31,96,2.47187719351787),(31,99,0.503173924985504),(31,103,0.817499313333537),(31,107,1.98912015137181),(31,108,0.371044038209174),(31,109,0.227317117831965),(31,111,-1.71011993774224),(31,112,-2.08059938352611),(31,117,-1.2818231757561),(32,86,1.36730552079836),(32,87,-0.479232154301584),(32,89,-1.56425672170171),(32,92,-1.11145359660634),(32,98,0.0849635303811762),(32,99,-0.772484511856441),(32,104,2.37261574144719),(32,106,-0.761497848445082),(32,109,-0.717474898525956),(32,116,-0.556535538804285),(32,118,2.68297372356334),(33,96,0.341547898800623),(33,98,1.8098544267098),(33,108,-2.11511581774346),(33,110,1.37368388927885),(33,111,2.65942869350261),(33,114,-1.87260048219245),(34,85,2.52241584521012),(34,90,1.413861507004),(34,99,-1.39851069673757),(34,104,-0.66940824610126),(34,109,1.05323953978088),(35,86,-0.0274666585283975),(35,87,2.0655384990997),(35,97,-1.62068544572283),(35,98,1.81615649891659),(35,100,1.79152806176946),(35,104,-0.104174932096316),(35,107,-0.0740684224982452),(35,109,-1.44453260902738),(35,110,-1.65892513809626),(35,112,-0.98162785729545),(36,85,1.62936796166875),(36,87,-1.4134189886166),(36,90,-1.2160863063448),(36,91,-0.638752403332621),(36,104,2.21686452833644),(36,107,0.980346079897458),(36,109,-1.37501144444105),(36,112,-0.272438734092227),(36,115,2.63626514481033),(36,117,1.14539017914365),(36,118,0.124454481643117),(37,85,1.8269600512711),(37,86,-0.495468001342814),(37,87,1.49990844447157),(37,91,0.372249519333476),(37,99,-1.8751487777337),(37,105,0.130588702047792),(37,111,-0.859843745231483),(37,112,0.322000793481246),(37,118,2.02983184301279),(38,87,-0.531723990600299),(38,90,-1.07518234809412),(38,103,0.203894161809137),(38,105,0.302865688039796),(38,106,-1.42078920865505),(38,111,-1.00820947904904),(38,115,-2.26033814508499),(39,87,-0.926984466078677),(39,89,1.99789422284616),(39,91,-2.99905392620624),(39,94,2.06828516495254),(39,97,-0.641621143223365),(39,98,1.09236426892911),(39,107,-2.67351298562578),(39,108,2.77036347544786),(39,109,-0.505935850093081),(39,111,0.198812829981384),(39,113,0.908902249214148),(39,116,2.14673299356059),(39,118,-2.94804223761711),(40,88,1.58075197607349),(40,92,-0.496765037995544),(40,99,2.34089175084689),(40,104,-0.370296334727012),(40,110,2.09205908383435),(40,116,1.24875637073885),(40,118,2.24997711111789),(41,88,-2.14308603167821),(41,93,-1.34180730613117),(41,96,-2.57235938596759),(41,97,0.119327372051149),(41,100,0.901440473647267),(41,101,2.20630512405774),(41,104,-1.09038056581317),(41,105,1.69872127445296),(41,106,-0.815103610339671),(41,107,0.0177007354960783),(41,109,0.740668965727714),(41,110,-1.33211767937254),(41,111,-3.12366100039674),(41,112,-2.1428418836024),(42,85,-0.739204077272866),(42,86,1.64201788384655),(42,87,-1.60919522690512),(42,99,-0.170369579149754),(42,100,-2.68070009460738),(42,103,-2.61185033722953),(42,109,-1.72548600726341),(42,113,-1.70007934812464),(43,85,1.55641346476638),(43,88,-1.36875514999847),(43,89,1.85172582171087),(43,93,3.00679036835841),(43,97,1.31670583208716),(43,98,-1.82596819971313),(43,101,2.17134617145299),(43,102,0.331980346079897),(43,103,0.941419721060823),(43,105,-1.60145878475295),(43,110,0.675923947874386),(43,112,0.366847743156224),(43,114,0.551561021759697),(43,116,-2.69402142399365),(44,89,0.0207525864436779),(44,98,-1.60573137607959),(44,99,0.137577440717795),(45,87,-1.24826807458724),(45,88,-2.09241004669332),(45,90,-0.327219458601642),(45,91,-0.298684652241584),(45,95,-1.62630085146641),(45,98,-0.17375713370159),(45,108,-2.66582232123783),(45,109,0.294701986754967),(45,112,-0.404995880001221),(45,115,-0.885662404248177),(46,85,-1.70413830988495),(46,89,-1.65213476973785),(46,91,0.923444318979461),(46,94,-2.00238044373913),(46,97,2.51158177434614),(46,100,1.26195562608722),(46,101,0.547135837885678),(46,108,0.173650318918424),(46,112,1.72914822840053),(47,86,1.02423169652394),(47,91,2.59474471266823),(47,92,2.22455519272439),(47,94,1.684041871395),(47,95,1.23844111453597),(47,100,-0.254051332132939),(47,101,1.18678853724784),(47,104,0.0206762901699881),(47,105,0.0987884151738029),(47,108,0.192800683614612),(47,112,-2.17438276314585),(47,114,1.15192114017151),(47,118,0.722281563768426),(48,86,-0.875698110904264),(48,91,-2.90023499252297),(48,98,0.264305551316874),(48,99,-2.31630909146397),(48,100,-1.86092715231788),(48,103,2.00823999755852),(48,105,-0.732917264320811),(48,106,-1.64925077059236),(48,111,1.9881130405591),(48,115,-0.934018982512894),(49,87,1.23137607959227),(49,89,-0.0278786584063234),(49,93,2.195165868099),(49,94,-1.08050782799768),(49,95,-1.01048310800501),(49,102,2.23488570818201),(49,113,2.8588061159093),(49,114,2.56794946134831),(50,89,1.21686452833644),(50,105,-0.591662343211158),(50,107,-1.65704824976348),(51,87,-1.9498428296762),(51,92,-1.86938077944273),(51,97,0.727744376964629),(51,98,-1.00906399731437),(51,103,0.84896389660329),(51,106,-1.85494552446059),(51,112,-0.636692403942991),(51,118,2.05531479842525),(52,89,0.490478225043489),(52,97,1.93308816797388),(52,106,-1.52439954832606),(52,110,-0.21927549058504),(52,111,0.913144322031312),(52,113,-1.05607776116214),(52,114,-0.139225440229499),(52,118,1.4792779320658),(53,88,1.496505630665),(53,90,-1.0102389599292),(53,92,-0.30497146519364),(53,94,-0.522019104586932),(53,104,0.123493148594623),(53,105,1.52850428785058),(53,109,-0.875896481215857),(54,85,-1.70670186468093),(54,91,-0.855586413159581),(54,94,-0.804101687673574),(54,96,2.62924588763085),(54,111,3.16301461836604),(54,112,1.57995849482711),(54,113,-0.0428479873043),(54,118,2.22801904354991),(55,87,1.54356517227699),(55,95,-1.59489730521561),(55,107,0.010986663411359),(55,110,-0.235297708059938),(55,117,-1.70963164159062),(56,107,1.82900479140599),(56,111,0.23444318979461),(56,113,-1.55504013183996),(56,114,-0.0243232520523698),(57,87,0.643803216650899),(57,90,-0.471938230536821),(57,91,-0.186162907803583),(57,92,3.24735251930296),(57,93,1.52372814111759),(57,94,0.466521195104831),(57,95,1.26757103183081),(57,96,0.924756614886929),(57,100,2.57220679342021),(57,102,-0.340891750846889),(57,103,1.80478835413678),(57,115,-0.602359080782495),(58,86,-1.54216132084109),(58,87,0.841654713583789),(58,89,0.383480330820643),(58,90,2.04443494979705),(58,95,-1.40485854670858),(58,96,-0.628833887752922),(58,101,0.0721915341654714),(58,103,3.3298135319071),(58,109,1.61145359660634),(58,110,-1.03796502578814),(58,113,-2.14220099490341),(58,114,-0.201193273720511),(58,115,-1.71291238135929),(59,85,-0.0996124149296548),(59,86,0.10399182103946),(59,90,0.0662556840723899),(59,91,-1.5926847132786),(59,93,3.17961668752098),(59,97,2.70201727347636),(59,98,0.226325266273995),(59,100,-0.554933317056795),(59,102,2.31203650013733),(59,112,0.946989349040193),(59,114,-2.56968901638844),(60,85,0.36748863185522),(60,87,-0.13357951597644),(60,90,-0.640705587939085),(60,91,-1.20754112369152),(60,96,1.85930967131565),(60,100,-0.0817438276314585),(60,101,-0.533982360301523),(60,105,1.7680898464919),(60,107,0.893627735221412),(60,109,-2.09230323191015),(60,110,-1.59312723166601),(60,114,-2.48101748710593),(61,89,-1.39678640095218),(61,94,0.77935117648854),(61,96,-0.940672017578661),(61,98,1.68225653859066),(61,100,0.0626392406994843),(61,102,-0.149388103885006),(61,103,0.336313974425489),(61,114,-1.15320291756951),(61,115,2.31208227790155),(62,93,0.287606433301798),(62,95,-2.2156437879574),(62,107,-2.26676229132969),(62,109,0.904065065462203),(62,110,2.89399395733512),(62,111,2.31751457258827),(63,87,-2.69048127689444),(63,90,-1.61088900418104),(63,93,0.160756248664815),(63,97,2.37498092593158),(63,100,-0.256538590655232),(63,103,0.0577410199285867),(63,104,1.24550614947966),(63,108,-0.729789117099521),(63,111,-1.05305642872402),(63,114,-2.26314584795679),(63,117,0.599871822260201),(64,87,1.13788262581256),(64,94,1.1035645619068),(64,99,-0.600695822016053),(64,110,-0.583758049256874),(64,112,-2.7376934110538),(64,116,-1.82045960875271),(65,87,2.90800195318461),(65,88,-0.711951048310801),(65,90,1.98835718863491),(65,97,-1.59653004547258),(65,99,-2.46832178716391),(65,107,-2.56801049836726),(65,110,-2.53671376689962),(65,111,2.26932584612568),(65,114,0.545533616138188),(65,116,0.252296517838069),(65,117,-1.14734336375011),(66,85,3.36043885616626),(66,102,2.74321726126896),(66,105,0.255012665181433),(66,108,-0.913480025635548),(66,111,1.73355815301981),(66,115,-0.0351115451521348),(66,118,-0.296426282540361),(67,86,-0.293694875942259),(67,90,1.31945249794),(67,92,1.43537705618458),(67,104,0.512665181432539),(67,109,1.15758232367931),(67,111,0.149861140781884),(68,87,-0.936368907742546),(68,88,-0.78331858272042),(68,90,-0.208960234382153),(68,93,-0.675923947874386),(68,95,0.651051362651448),(68,96,1.46342356639302),(68,97,-0.547090060121464),(68,103,2.37914670247505),(68,107,1.3830225531785),(68,112,-0),(68,114,1.78077028717917),(69,87,0.814325388348033),(69,88,-0.678044984282968),(69,92,0.673085726493118),(69,94,1.57409894100772),(69,95,1.56620990630818),(69,97,-1.95121616260262),(69,108,-2.77216406750694),(69,113,-0.82448805200354),(69,114,0.917157506027406),(69,118,1.19859920041505),(70,85,-2.12894070253609),(70,86,-0.148625141148106),(70,87,-0.25693533127842),(70,90,2.23169652394177),(70,96,-0.00350962858973968),(70,97,0.375591296121097),(70,99,1.51896725363933),(70,105,-1.83062227240822),(70,107,0.148991363261818),(70,109,2.45811334574419),(70,110,0.159382915738395),(70,111,0.915723136082034),(71,85,0.136051515243995),(71,93,0.62579729606006),(71,96,-0.831385235145116),(71,100,-1.39259010589923),(71,104,0.121616260261849),(71,106,-0.206213568529313),(71,111,-0.801644947660756),(71,113,0.171361430707724),(72,94,-1.24077578051088),(72,96,-2.68744468520157),(72,99,1.35172582171087),(72,110,1.07486190374462),(72,112,0.448133793145543),(72,114,0.325663014618366),(72,115,0.0231940672017579),(72,116,0.150440992461928),(73,88,0.835520493179113),(73,94,0.381542405468917),(73,99,0.835520493179113),(73,100,-1.37400433362835),(73,106,0.0778221991637928),(73,110,0.158848841822565),(73,115,-0.52088991973632),(74,90,-1.04028443250832),(74,94,-1.4242225409711),(74,99,-0.736564226203192),(74,102,-2.49990844447157),(74,106,0.383785515915403),(74,107,0.792443617053743),(74,110,2.71585741752373),(74,113,-0.740348521378216),(74,116,-0.0118869594409009),(75,85,-1.26906643879513),(75,86,-0.76639606921598),(75,93,1.33063753166295),(75,98,-1.72048097170934),(75,103,-0.976485488448744),(75,105,0.606067079683828),(75,111,2.11406292916654),(75,117,-0.725363933225501),(76,86,0.35178685872982),(76,89,0.0530564287240211),(76,92,-0.341776787621693),(76,94,-0.490661336100345),(76,99,-1.82549516281625),(76,101,-0.343333231604968),(76,103,0.846812341685232),(76,106,1.07675405133213),(76,110,-1.30549027985473),(76,113,0.623645741142003),(77,88,-0.969847712637715),(77,91,-0.192373424481948),(77,93,0.463881344035157),(77,98,0.0988494521927549),(77,101,-2.29967650379955),(77,102,-1.23381756035035),(77,103,-1.05731376079592),(77,104,0.423749504074221),(77,105,0.234015930661946),(77,109,2.34194463942381),(78,88,-0.144810327463607),(78,93,0.161152989288003),(78,94,0.273857844782861),(78,101,-2.85291604358043),(78,104,0.102511673329875),(78,110,1.37534714804529),(78,114,-2.04962309640797),(78,116,-0.684835352641377),(78,117,-0.962950529496139),(78,118,-1.50595110934782),(79,87,-0.752204962309641),(79,92,0.117419965208899),(79,94,2.47138889736625),(79,107,0.364299447614979),(79,108,2.62247077852718),(79,114,2.55275124362926),(79,118,-0.766228217413861),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,-1.55781731620228),(80,99,0.858287301248207),(80,101,0.38624225592822),(80,107,0.473097933896908),(80,113,0.620746482741783),(81,85,2.0501571703238),(81,86,1.39323099459822),(81,90,0.395977660451064),(81,93,-1.65930661946471),(81,96,-1.94053468428602),(81,97,-2.18216498306223),(81,106,0.517944883571886),(81,107,0.13556321909238),(81,110,2.113162633137),(81,115,-2.39791558580279),(82,86,0.272743919186987),(82,92,-2.29270302438429),(82,110,0.697439497054964),(82,112,0.838831751457259),(83,87,-0.0419629505294961),(83,91,-0.511017181920835),(83,93,-2.3168431653798),(83,101,-0.454908902249214),(83,103,0.226752525406659),(83,105,-1.51101718192084),(83,108,-0.982726523636586),(84,85,-2.01104770043031),(84,86,0.152500991851558),(84,89,1.46229438154241),(84,95,0.344431897946104),(84,99,1.41575365459151),(84,104,-0.257347331156346),(84,111,-1.7467268898587),(84,113,0.39539780877102),(84,114,2.24968718527787),(10,119,0.969405194250313),(119,109,2.62190618610187),(58,120,2.78647724845119),(120,118,1.15840632343516)]
orgname='BHNEAT_7_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()