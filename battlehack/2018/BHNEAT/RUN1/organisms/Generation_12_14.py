edge = [(0,85,2.79026154362621),(0,89,-1.99423200170904),(0,90,-2.55211035493027),(0,93,-0.159718619342631),(0,98,2.05224005859554),(0,101,-1.80691702017273),(0,105,0.413449507126072),(0,108,3.0821024201178),(0,113,1.83991515854366),(0,114,2.1713919492172),(0,117,0.388462477492599),(0,118,-3.26736503189184),(1,86,-2.95052949613941),(1,92,2.78543198950163),(1,98,-1.48937955870235),(1,102,-0.495086519974364),(1,104,-0.680265205847347),(1,107,1.61791589098788),(1,108,-0.676442762535478),(1,109,1.6605883968627),(1,113,-2.47666096987823),(2,87,0.598155156102176),(2,88,-0.963011566515092),(2,100,-0.752281258583331),(2,106,2.6311532944731),(2,108,0.32364879299295),(2,110,-0.171056245612964),(2,113,3.39540543839839),(2,118,-0.450376903592029),(3,89,2.00766777550584),(3,92,1.1801278725547),(3,97,-1.59638508255257),(3,99,0.826235236671041),(3,101,-2.64667195654164),(3,103,-1.86298715170751),(3,105,4.46874141666921),(3,108,1.47778252510147),(3,109,0.561204870754113),(3,111,2.07017731254006),(3,112,-3.46272164067507),(3,116,2.2720267342143),(4,90,4.13676107058931),(4,91,0.876461073641164),(4,97,2.06350901821955),(4,99,1.06776635029145),(4,101,-0.251274147770623),(4,108,-0.253532517471847),(4,113,-0.418713950010682),(4,118,-1.51625110629597),(5,86,-1.47106845301675),(5,87,-2.34369945371868),(5,89,-0.247817926572466),(5,92,1.75895718253121),(5,93,-0.402462843714713),(5,99,-2.36342967009491),(5,104,3.05972472304453),(5,114,3.96713919492172),(5,118,-1.97836237678152),(6,89,-0.605258339182714),(6,92,-3.86085848567156),(6,94,-1.29726554155095),(6,100,0.8955504013184),(6,101,1.99799340800195),(6,103,-1.52349162266915),(6,107,1.16339609973449),(6,110,1.43070009460738),(6,113,-1.51611377300333),(7,85,1.68496505630665),(7,86,-1.86660359508042),(7,90,1.55898464918973),(7,95,2.82939390240181),(7,99,0.102542191839351),(7,100,4.16457869197668),(7,104,-2.70472579119236),(7,106,0.119937742240669),(7,108,-2.44679860835597),(7,112,-0.501365703299051),(7,116,0.289582506790368),(8,92,0.742057557908872),(8,93,-2.18476668599506),(8,95,2.08228553117466),(8,99,2.64091921750542),(8,106,-3.184682760094),(8,107,0.970793786431471),(8,115,1.38501388592181),(8,116,-2.91135898922697),(8,118,0.478911709952086),(9,85,-0.916371654408399),(9,87,-1.0391552476577),(9,98,-1.07027649769585),(9,101,2.46482741782891),(9,103,5.23575548570208),(9,105,-0.716956083864864),(9,106,3.01443525498215),(9,113,0.537148655659658),(10,89,-1.28058717612232),(10,96,2.10952330088198),(10,106,2.2636341441084),(10,108,3.5429700613422),(10,111,-1.89260536515397),(10,112,0.452131717886898),(10,114,-2.10463270973846),(10,115,-1.17329172643208),(10,116,-3.47540971098972),(10,117,-1.59825434125797),(11,89,1.93250831629383),(11,97,1.05477309488205),(11,105,-1.02793206579791),(11,112,0.904896694845424),(11,115,-3.44336527603992),(12,92,3.33442182683798),(12,93,1.53378398998993),(12,94,3.67969298379467),(12,97,1.45924253059481),(12,98,-0.947294534134953),(12,99,1.5964995269631),(12,108,1.62165440839869),(12,116,-2.65425580614643),(13,86,0.847087008270516),(13,87,-1.31046479689932),(13,90,-2.05085146641438),(13,99,2.91113773003327),(13,102,4.04210028382214),(13,104,-2.48840296639912),(13,113,-4.4498428296762),(13,116,-3.28313547166356),(13,118,-0.281609546189764),(14,90,-1.24607074190497),(14,93,0.504013183996094),(14,95,1.52211066011536),(14,102,1.00344859157079),(14,104,-0.825754570146794),(14,106,-1.52836695455794),(14,109,1.25090792565691),(14,110,0.54460280159917),(14,111,0.393086031678213),(15,85,4.60715048677023),(15,92,1.06913968321787),(15,99,-1.04423657948546),(15,101,2.41943113498337),(15,104,0.53712576677755),(15,108,2.78156376842555),(15,117,-1.76862392040773),(16,86,0.792184209723197),(16,87,-2.62658314767907),(16,88,0.769463179418317),(16,90,1.48484756004517),(16,91,-1.46557512131108),(16,95,0.138622699667348),(16,97,-1.93777275917844),(16,98,1.75810266426588),(16,99,1.34128849147008),(16,101,-0.182683797723319),(16,108,3.46425519577624),(16,110,-2.39145329142125),(17,89,0.397656178472243),(17,96,0.347300637836848),(17,99,0.387279885250404),(17,101,2.20366527298807),(17,106,-1.35883663441878),(17,107,-0.134731589709159),(17,109,-3.08845789971618),(18,90,-0.716193121127964),(18,91,-1.51345103305155),(18,93,-0.82578508865627),(18,99,-2.38475447859127),(18,102,1.35128330332347),(18,103,0.10879848628193),(18,104,2.49603259376812),(18,110,-1.91087069307535),(18,111,2.36761070589312),(18,116,2.13282418286691),(18,117,0.756134220404675),(18,118,1.71192052980132),(19,87,-1.34907071138646),(19,89,-1.78601947080905),(19,93,-1.59531693472091),(19,95,0.8691671498764),(19,101,3.74761955626087),(19,105,-0.914616840113529),(19,115,-1.84588152714621),(20,88,-0.166707358012635),(20,101,0.165532395397809),(20,103,1.25975066377758),(20,104,-0.282418286690878),(20,105,2.23781548509171),(20,106,2.04139835810419),(20,111,0.10635700552385),(20,116,0.888698995941038),(21,86,3.23747978148747),(21,87,0.475554673909726),(21,94,2.85493789483322),(21,96,0.155034028138066),(21,101,4.3956495864742),(21,102,1.31023590807825),(21,105,-0.143589587084567),(21,107,-2.10303048799097),(21,108,2.05394146549883),(22,86,1.40026551103244),(22,88,0.0609378337961974),(22,91,0.35612811670278),(22,92,-2.79527420880764),(22,93,-1.15237891781365),(22,98,-1.59848323007904),(22,106,1.22684408093509),(22,115,0.117137668996246),(22,117,-1.93235572374645),(23,85,-2.48908963286233),(23,86,-0.774712363048189),(23,88,-0.505966368602557),(23,90,0.815637684255501),(23,97,-0.907238990447707),(23,104,5.43449201940977),(23,112,0.81053346354564),(23,114,-2.29066591387677),(23,115,-0.997497482222968),(23,116,0.0683462019714954),(24,89,1.84270760216071),(24,90,-3.61576433606983),(24,91,-0.498458815271462),(24,101,5.14376506851405),(24,107,-0.453115939817499),(24,108,5.20473342081973),(24,110,-3.01500747703482),(24,112,-2.74414044618061),(25,90,-3.50444044312876),(25,92,-0.781815546128727),(25,94,-4.05430768761254),(25,98,-0.748771629993591),(25,105,-0.462324900051881),(25,108,2.27538377025666),(25,109,-0.375682851649525),(25,115,1.40308847315897),(26,85,-0.877384258552812),(26,87,-0.572832422864467),(26,89,-2.12565233314005),(26,95,-1.99522385326701),(26,98,-0.18824579607532),(26,100,-0.10650959807123),(26,101,-1.98537400433363),(26,102,-0.308435316019166),(26,103,1.07231360820338),(26,104,4.87994018372143),(26,107,-1.76305429242836),(26,109,2.04336680196539),(26,112,1.37913144322031),(26,113,-1.2298425244911),(26,117,-3.30399487289041),(27,85,-0.208288827173681),(27,87,-3.54083376567888),(27,94,3.35734122745445),(27,100,-1.59680471205786),(27,102,4.66753898739586),(27,103,2.18695638904996),(27,104,-1.24919888912626),(27,105,-2.72363963744011),(27,108,-1.23950926236763),(27,110,3.65018921475875),(27,114,0.506752220221564),(28,87,-0.192632831812494),(28,88,1.86820581682791),(28,97,3.07237464522233),(28,99,0.0728476821192054),(28,104,-0.231559190649129),(28,113,-1.06807153538621),(28,114,-2.46017334513382),(29,88,-1.52980895413068),(29,91,-0.259544663838618),(29,102,-0.0163274025696585),(29,105,-0.0705740531632433),(29,116,1.38355662709433),(30,95,2.74817651905881),(30,96,-1.06903286843471),(30,99,3.67991424298837),(30,101,-1.61305581835383),(30,104,-2.46539963988159),(30,109,-2.24407177953429),(30,110,-0.00786614581743816),(30,114,-4.42492446668905),(30,118,0.424275948362682),(31,85,2.01638080996124),(31,92,2.49669637134922),(31,94,-1.62099063081759),(31,96,1.22775963621937),(31,99,1.36356700338755),(31,103,-1.09257789849544),(31,107,-0.419248023926512),(31,108,1.56613361003449),(31,109,-1.346476638081),(31,111,-2.16266365550706),(31,112,2.28934598834193),(31,117,-0.175862910855434),(32,86,-0.399563585314493),(32,87,3.54070406201361),(32,89,0.799516281624805),(32,92,-0.355388042847987),(32,98,2.22232734153264),(32,99,-2.68576616718039),(32,104,4.8542283394879),(32,106,2.38831751457259),(32,109,-0.0645466475417341),(32,116,-0.931196020386364),(32,118,-0.151127658925138),(33,96,1.70369579149754),(33,98,-0.762207403790399),(33,108,4.12088381603442),(33,110,-3.99513229773858),(33,111,0.32662434766686),(33,114,-1.29131443220313),(34,85,-2.47548600726341),(34,90,3.10012359996338),(34,99,1.09065523239845),(34,104,1.19077120273446),(34,109,-0.0497222815637685),(35,86,0.482078005310221),(35,87,-0.574312570574053),(35,97,-2.10463270973846),(35,98,2.53604998931852),(35,100,2.16323587755974),(35,104,0.880077517014069),(35,107,-2.85972167119358),(35,109,-1.82029175695059),(35,110,1.49005096591082),(35,112,-0.258339182714316),(36,85,-2.80394146549883),(36,87,-4.38946958830531),(36,90,-1.24351481673635),(36,91,2.52559739982299),(36,104,-2.11642048402356),(36,107,2.30971709341716),(36,109,1.85739463484603),(36,112,0.740272225104526),(36,115,-3.42379528183844),(36,117,-3.72376171147801),(36,118,4.04924924466689),(37,85,-0.702841273232215),(37,86,-0.152020325327311),(37,87,0.0150303659169286),(37,91,0.137676625873592),(37,99,0.0241859187597278),(37,105,-1.35642567217017),(37,111,2.97080141605884),(37,112,-2.49229407635731),(37,118,1.31112094485305),(38,87,-1.67349772637104),(38,90,5.1068376720481),(38,103,4.11907559434797),(38,105,4.26187932981353),(38,106,-2.00697347941527),(38,111,1.94739371929075),(38,115,-3.21461378826258),(39,87,5.03247932370983),(39,89,-0.414822840052492),(39,91,-3.46179082613605),(39,94,-1.10712759788812),(39,97,-0.601062044129765),(39,98,-1.76839503158666),(39,107,2.3040711691641),(39,108,-0.503555406353954),(39,109,-1.08475753044221),(39,111,-0.678212836085086),(39,113,-1.54593035676138),(39,116,1.28576769310587),(39,118,-0.120929593798639),(40,88,-1.88695944090091),(40,92,-0.599383526108585),(40,99,-0.730384228034303),(40,104,0.80970183416242),(40,110,-1.35256508072146),(40,116,-0.153263954588458),(40,118,-0.993530075991089),(41,88,-2.23586230048524),(41,93,1.71233252967925),(41,96,0.925710318308054),(41,97,1.3399533066805),(41,100,1.52718436231574),(41,101,0.373935666982025),(41,104,2.12565996276742),(41,105,-2.1210364085818),(41,106,1.34098330637532),(41,107,-0.97560045167394),(41,109,0.857493820001831),(41,110,-1.2473677785577),(41,111,-0.141308328501236),(41,112,5.14672536393323),(42,85,0.924100466933195),(42,86,1.13716544083987),(42,87,1.49241615039521),(42,99,1.22413556321909),(42,100,1.01360362559893),(42,103,-4.55835901974548),(42,109,-3.08039338358715),(42,113,-0.937192907498398),(43,85,1.61790826136052),(43,88,-3.47998748741111),(43,89,-1.20298623615223),(43,93,-3.21101260414441),(43,97,-4.36870174260689),(43,98,-1.3061616870632),(43,101,1.79676961577197),(43,102,3.92519150364696),(43,103,1.7589342936491),(43,105,-1.26911221655934),(43,110,-0.847521897030549),(43,112,1.88281655323954),(43,114,-2.89493240150151),(43,116,2.37632374034852),(44,89,1.62129581591235),(44,98,3.22347941526536),(44,99,0.0857722708822901),(45,87,0.635471663563951),(45,88,-2.05567339091159),(45,90,-1.40156254768517),(45,91,-1.20365001373333),(45,95,-0.826601458784753),(45,98,-0.367748039185766),(45,108,-2.15422528763695),(45,109,2.71504867702261),(45,112,-1.21639149143956),(45,115,0.578402050843837),(46,85,-1.24042481765191),(46,89,-1.57175664540544),(46,91,2.42684713278603),(46,94,0.0575807977538376),(46,97,3.50737022003845),(46,100,-0.187994018372143),(46,101,1.72103030487991),(46,108,-4.03820917386395),(46,112,1.00517288735618),(47,86,-0.449690237128819),(47,91,1.47305215613269),(47,92,-1.80182042909024),(47,94,0.214766380809961),(47,95,-3.19116794335765),(47,100,0.368869594409009),(47,101,1.82515945921201),(47,104,-4.27488021485031),(47,105,1.5439313943907),(47,108,-2.25035859248634),(47,112,-0.823931089205603),(47,114,1.71277504806665),(47,118,0.17962431714835),(48,86,3.63871425519578),(48,91,-3.35976744895779),(48,98,-1.20509201330607),(48,99,1.83191930906095),(48,100,-3.89156773583178),(48,103,-1.78128910184027),(48,105,-3.40717795342875),(48,106,-4.79593798638874),(48,111,-1.73358104190191),(48,115,-1.8835642567217),(49,87,1.38221381267739),(49,89,-1.41668446913053),(49,93,1.83263649403363),(49,94,4.03832361827448),(49,95,1.53469954527421),(49,102,-2.13475447859127),(49,113,-2.23679311502426),(49,114,1.32321390423292),(50,89,-1.46748252815333),(50,105,-2.21327860347301),(50,107,1.42890713217566),(51,87,-0.826837977233192),(51,92,-0.837427900021363),(51,97,-0.619525742362743),(51,98,0.537957396160772),(51,103,-2.61771752067629),(51,106,-1.44557786797693),(51,112,-3.14874721518601),(51,118,-0.74413281655324),(52,89,-2.30459761345256),(52,97,-1.82210760826441),(52,106,-0.0331507309183018),(52,110,2.09456160161138),(52,111,0.670850245674001),(52,113,-0.872966704306162),(52,114,-1.18006683553575),(52,118,4.4938962981048),(53,88,-0.691251869258705),(53,90,-2.94198431348613),(53,92,-0.205977050080874),(53,94,-0.370265816217536),(53,104,0.646389660328989),(53,105,1.89041566209906),(53,109,-1.21392712179937),(54,85,-2.52135532700583),(54,91,-1.87108981597339),(54,94,-0.859218115787225),(54,96,0.949583422345653),(54,111,0.91589861751152),(54,112,2.22832422864467),(54,113,0.335985900448622),(54,118,0.443861201818903),(55,87,1.44451734977264),(55,95,2.06488235114597),(55,107,-2.07758568071535),(55,110,-0.587252418591876),(55,117,-2.22167119357891),(56,107,-0.422727134006775),(56,111,1.30519272438734),(56,113,-4.16343424787133),(56,114,-1.58217871639149),(57,87,-3.76978362376782),(57,90,-0.655941953794977),(57,91,0.513740958891568),(57,92,-2.32006286812952),(57,93,3.60108493301187),(57,94,-0.891094698934904),(57,95,2.10196234015931),(57,96,-2.67932676168096),(57,100,1.81447798089541),(57,102,-0.628910184026612),(57,103,0.0610751670888392),(57,115,-1.76393169957579),(58,86,-2.20693838312937),(58,87,2.32164983062227),(58,89,0.671941282387768),(58,90,2.82086397900327),(58,95,2.14242225409711),(58,96,-0.475096896267586),(58,101,0.297608874782556),(58,103,2.0046998504593),(58,109,-2.46986297189245),(58,110,3.42267372661519),(58,113,-2.23638874477371),(58,114,0.443205053865169),(58,115,2.04322183904538),(58,118,-1.02214117862484),(59,85,-0.822626422925504),(59,86,0.242316965239418),(59,90,1.12168492690817),(59,91,-0.87672048097171),(59,93,1.58503982665487),(59,97,-4.58800012207404),(59,98,0.55184331797235),(59,100,2.01247444074831),(59,102,-0.890530106509598),(59,112,2.95884578997162),(59,114,-1.93389690847499),(60,85,0.424001281777398),(60,87,-0.83531449324015),(60,90,-2.0600756859035),(60,91,-1.43696401867733),(60,96,0.963240455336161),(60,100,-0.86718344676046),(60,101,0.941038239692373),(60,105,1.08500930814539),(60,107,-2.87338633381146),(60,109,-2.79396191290017),(60,110,4.12289803765984),(60,114,4.67909787285989),(61,89,1.08951841792047),(61,94,-1.95556505020295),(61,96,-2.03758354441969),(61,98,0.680639057588427),(61,100,0.571039460432753),(61,102,0.661297952208014),(61,103,-0.923184911648915),(61,114,2.43886379589221),(61,115,-2.4260689107944),(62,93,-1.04851680043947),(62,95,-1.36844996490371),(62,107,0.834604937894833),(62,109,-2.53071687978759),(62,110,-2.94190801721244),(62,111,-0.834910122989593),(63,87,1.68452253791925),(63,90,-1.57788323618274),(63,93,-1.8420209356975),(63,97,2.54270302438429),(63,100,1.06491286965545),(63,103,1.97874385814997),(63,104,1.00791955320902),(63,108,-4.48194830164495),(63,111,3.03432569353313),(63,114,2.77374340037233),(63,117,-2.39844965971862),(64,87,0.165562913907285),(64,94,-2.32354960783715),(64,99,1.1494644001587),(64,110,2.17467268898587),(64,112,-3.92213965269936),(64,116,-1.3729819635609),(65,87,1.186109500412),(65,88,-0.402081362346263),(65,90,2.43690298165838),(65,97,-0.219954527420881),(65,99,0.753883480330821),(65,107,-3.76101718192084),(65,110,-2.96794030579546),(65,111,0.711218604083377),(65,114,-5.8307748649556),(65,116,1.17381817072054),(65,117,-2.79953917050691),(66,85,1.89419232764672),(66,102,-0.2127140110477),(66,105,2.13766899624622),(66,108,2.62086855677969),(66,111,-0.169156468398083),(66,115,-0.665547654652547),(66,118,0.628055665761284),(67,86,3.16599017303995),(67,90,1.12865077669607),(67,92,2.05879390850551),(67,104,-2.33031708731346),(67,109,-1.72344126712851),(67,111,-1.16100039674062),(68,87,1.08780175176244),(68,88,-3.59514145329142),(68,90,0.672101504562517),(68,93,-4.3922772911771),(68,95,0.0264900662251657),(68,96,0.086672566911832),(68,97,3.79283272804956),(68,103,-0.243232520523698),(68,107,-1.92300943021943),(68,112,-1.13513595995972),(68,114,1.10634937589648),(69,87,5.85888241218299),(69,88,-1.49964903714103),(69,92,-1.92144535660878),(69,94,1.54789880062258),(69,95,3.60492263557848),(69,97,-3.17062135685293),(69,108,-0.749275185399945),(69,113,-1.15855128635517),(69,114,1.17426831873531),(69,118,1.01779229102451),(70,85,1.53255561998352),(70,86,-0.0359660634174626),(70,87,-3.22334971160009),(70,90,-0.0922116763817256),(70,96,-0.729125339518418),(70,97,-1.13658558915983),(70,99,1.82431257057405),(70,105,2.83623004852443),(70,107,-1.05664235358745),(70,109,1.24142429883724),(70,110,-4.43956572161016),(70,111,1.75357066560869),(71,85,3.53901791436506),(71,93,-1.2756202887051),(71,96,3.25984221930601),(71,100,-1.33991515854366),(71,104,0.178228095339824),(71,106,-1.31847590563677),(71,111,1.07652516251106),(71,113,-0.907353434858242),(72,94,-2.25806451612903),(72,96,2.37099826044496),(72,99,1.04190191351054),(72,110,1.71685689870907),(72,112,-2.3162785729545),(72,114,0.0675222022156438),(72,115,1.480605487228),(72,116,-0.52691732535783),(73,88,3.9724112674337),(73,94,-2.12601092562639),(73,99,0.345393230994598),(73,100,-0.0435651722769861),(73,106,2.99626911221656),(73,110,-0.254982146671957),(73,115,-4.79859309671316),(74,90,3.01142155217139),(74,94,-0.335581530198065),(74,99,-2.12405011139256),(74,102,-0.718253120517594),(74,106,0.729468672750023),(74,107,-1.16631061738945),(74,110,-1.0827433088168),(74,113,-1.60615863521226),(74,116,-4.86177404095584),(75,85,-2.43914609210486),(75,86,-2.68250068666646),(75,93,-2.01247444074831),(75,98,2.92260505996887),(75,103,3.14899136326182),(75,105,-0.526673177282022),(75,111,-3.2546998504593),(75,117,0.757499923703726),(76,86,0.53895687734611),(76,89,0.781136509292886),(76,92,-1.29848628192999),(76,94,-3.94611957152013),(76,99,-0.012237922299875),(76,101,0.100138859218116),(76,103,0.787148655659658),(76,106,-0.906018250068667),(76,110,1.7383342997528),(76,113,-0.145001068147832),(77,88,2.69348735007782),(77,91,2.21324808496353),(77,93,3.55719931638539),(77,98,1.24235511337626),(77,101,-2.26027710806604),(77,102,-3.88246559038057),(77,103,-1.26720480971709),(77,104,0.0926236762596514),(77,105,3.14376506851405),(77,109,-2.06572923978393),(78,88,-1.76956236457411),(78,93,-1.59092989898373),(78,94,3.33091982787561),(78,101,1.24646748252815),(78,104,-0.316415906247139),(78,110,-1.01379436628315),(78,114,3.87924588763085),(78,116,0.948248237556078),(78,117,3.17003387554552),(78,118,-1.40125736259041),(79,87,2.24327829828791),(79,92,3.17976165044099),(79,94,-0.459227271340068),(79,107,1.84841456343272),(79,108,-1.70509964293344),(79,114,4.56142612994781),(79,118,-3.46646778771325),(80,87,-1.27973265785699),(80,88,-3.55731376079592),(80,91,2.41586046937468),(80,99,2.39906002990814),(80,101,-0.766853846858119),(80,107,1.06904812768944),(80,113,-0.231749931333354),(81,85,-3.64906002990814),(81,86,0.583208716086306),(81,90,-2.48825800347911),(81,93,-0.909314249092074),(81,96,2.83595538193915),(81,97,0.711004974517045),(81,106,0.377521591845454),(81,107,1.63769188512833),(81,110,2.43425550096133),(81,115,1.46361430707724),(82,86,-2.08281197546312),(82,92,1.35923337504196),(82,110,-1.02144688253426),(82,112,-1.69682912686544),(83,87,-1.5980254524369),(83,91,-1.80631427961058),(83,93,1.39157536545915),(83,101,-0.267334513382366),(83,103,-1.17267372661519),(83,105,0.962050233466598),(83,108,-1.06546983245338),(84,85,1.3820383312479),(84,86,-1.79967650379955),(84,89,-0.156178472243416),(84,95,-0.117419965208899),(84,99,-1.14322336497085),(84,104,1.84518723105564),(84,111,4.20834223456526),(84,113,0.249565111239967),(84,114,-1.03617969298379),(10,119,-0.244834742271188),(119,109,0.0615710928678243),(58,120,2.22970519119846),(120,118,0.3247932370983),(95,104,1.69505905331584)]
orgname='BHNEAT_12_14'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()