edge = [(0,85,0.167851802117985),(0,89,0.124698629718925),(0,90,0.130466628009888),(0,93,-0.645710623493149),(0,98,0.143070772423475),(0,101,-0.138126773888363),(0,105,0.909939878536332),(0,108,0.798913541062655),(0,113,-0.848078859828486),(0,114,-0.739219336527604),(0,117,-0.879116183965575),(0,118,-0.843134861293374),(1,86,-0.810449537644581),(1,92,-0.185033722952971),(1,98,0.977233191930906),(1,102,-0.121585741752373),(1,104,0.264015625476852),(1,107,0.097933896908475),(1,108,0.682119205298013),(1,109,-0.67894528031251),(1,113,-0.968382824182867),(2,87,-0.458418530838954),(2,88,-0.823053682058168),(2,100,0.438642536698508),(2,106,-0.0382702108829005),(2,108,0.334574419385357),(2,110,0.512680440687277),(2,113,-0.163945432905057),(2,118,-0.626880703146458),(3,89,0.566576128421888),(3,92,-0.291970580156865),(3,97,-0.670583208716086),(3,99,0.805688650166326),(3,101,0.124881740775781),(3,103,-0.0817896053956725),(3,105,0.260231330301828),(3,108,0.486037781914731),(3,109,0.361125522629475),(3,111,-0.0347605822931608),(3,112,-0.843501083407086),(3,116,0.725058748130741),(4,90,0.870357371745964),(4,91,0.881435590685751),(4,97,-0.720969267860958),(4,99,-0.260231330301828),(4,101,-0.183111056855983),(4,108,0.864040040284432),(4,113,-0.491378521073031),(4,118,0.616107669301431),(5,86,-0.00677510910367138),(5,87,0.85232093264565),(5,89,-0.0552995391705069),(5,92,0.627338480788598),(5,93,0.23398541215247),(5,99,0.734427930539872),(5,104,0.183538315988647),(5,114,0.720969267860958),(5,118,0.437818536942656),(6,89,0.677053132724998),(6,92,-0.618335520493179),(6,94,0.80291146580401),(6,100,0.0717795342875454),(6,101,-0.348460341196936),(6,103,-0.176915799432356),(6,107,0.0909756767479476),(6,110,-0.0936918240913114),(6,113,0.69808038575396),(7,85,-0.825647755363628),(7,86,-0.739524521622364),(7,90,-0.232184820093387),(7,95,-0.386669515060884),(7,99,-0.193395794549394),(7,100,0.598376415295877),(7,104,0.614612262337107),(7,106,-0.460493789483322),(7,108,0.493453779717399),(7,112,-0.950804162724692),(7,116,0.974730674153874),(8,92,0.363292336802271),(8,93,-0.322153386028626),(8,95,-0.573107089449751),(8,99,-0.159520249031037),(8,106,-0.880184331797235),(8,107,0.303323465681936),(8,115,0.960875270851772),(8,116,0.153599658192694),(8,118,0.106601153599658),(9,85,0.0470900601214637),(9,87,0.0643940549943541),(9,98,-0.339640491958373),(9,101,0.0367137668996246),(9,103,0.392010254219184),(9,105,0.378307443464461),(9,106,0.214117862483596),(9,113,0.864467299417096),(10,89,-0.399029511398663),(10,96,-0.727652821436201),(10,106,-0.276985992004151),(10,108,-0.591357158116398),(10,109,-0.0662556840723899),(10,111,0.595660267952513),(10,112,0.313577684865871),(10,114,0.0346995452742088),(10,115,-0.233130893887143),(10,116,0.335947752311777),(10,117,0.788171025727104),(11,89,-0.829950865199744),(11,97,-0.642780846583453),(11,105,0.113345744193854),(11,112,0.567369609668264),(11,115,-0.520706808679464),(12,92,0.631336405529954),(12,93,0.916989654225288),(12,94,0.692678609576708),(12,97,0.330912198248238),(12,98,-0.412976470229194),(12,99,-0.489211706900235),(12,108,-0.420117801446577),(12,116,0.711813715018158),(13,86,0.429486983855708),(13,87,-0.514633625293741),(13,90,-0.246742149113437),(13,99,0.258400219733268),(13,102,0.732840968047121),(13,104,0.912411877803888),(13,113,-0.141788995025483),(13,116,0.0887478255561998),(13,118,0.869899594103824),(14,90,-0.575792718283639),(14,93,-0.701925717947935),(14,95,-0.279915768913846),(14,102,-0.237739188818018),(14,104,-0.402844325083163),(14,106,-0.448774681844539),(14,109,-0.454206976531266),(14,110,0.378521073030793),(14,111,-0.961912900173955),(15,85,-0.988402966399121),(15,92,0.109591967528306),(15,99,-0.182378612628559),(15,101,0.635364848780786),(15,104,-0.249916074098941),(15,108,-0.788171025727104),(15,117,0.467452009643849),(16,86,0.585955381939146),(16,87,0.523911252174444),(16,88,-0.675984984893338),(16,90,-0.905514694662313),(16,91,0.388897366252632),(16,95,0.51768547624134),(16,97,0.728537858211005),(16,98,-0.762108218634602),(16,99,0.673970763267922),(16,101,-0.147251808221686),(16,108,0.915128025147252),(16,110,0.419873653370769),(17,89,-0.620746482741783),(17,96,-0.284249397259438),(17,99,0.676412244026002),(17,101,-0.153721732230598),(17,106,-0.65172276985992),(17,107,0.1767326883755),(17,109,0.188390758995331),(18,90,0.126926480910672),(18,91,0.165746024964141),(18,93,-0.762565996276742),(18,99,-0.526779992065188),(18,102,-0.076540421765801),(18,103,0.656697286904508),(18,104,0.593981749931333),(18,110,0.32563249610889),(18,111,0.65691091647084),(18,116,0.0605182042909024),(18,117,0.592425305948058),(18,118,-0.0238044373912778),(19,87,0.910367137668996),(19,89,-0.674550614947966),(19,93,0.35224463637196),(19,95,0.293038727988525),(19,101,-0.833429975280007),(19,105,0.492721335489975),(19,115,-0.211676381725517),(20,88,-0.741447187719352),(20,101,0.507614368114261),(20,103,-0.300881984923856),(20,104,-0.810419019135105),(20,105,0.486098818933683),(20,106,-0.763389996032594),(20,111,0.375194555497909),(20,116,0.352153080843532),(21,86,0.688680684835353),(21,87,-0.845973082674642),(21,94,-0.128116702780236),(21,96,-0.291146580401013),(21,101,0.647541734061708),(21,102,0.0519730216376232),(21,105,-0.545243690298166),(21,107,-0.660939359721671),(21,108,0.540269173253578),(22,86,0.80550553910947),(22,88,0.75701162755211),(22,91,0.764824365977966),(22,92,-0.410443433942686),(22,93,-0.142307809686575),(22,98,0.588793603320414),(22,106,0.446211127048555),(22,115,-0.492080446790979),(22,117,-0.0711081270790735),(23,85,-0.433454390087588),(23,86,0.657918027283547),(23,88,-0.466048158207953),(23,90,-0.7804193243202),(23,97,-0.289681691946165),(23,104,0.548722800378429),(23,112,-0.74153874324778),(23,114,0.159855952635273),(23,115,-0.310251167332987),(23,116,0.786736655781732),(24,89,0.356822412793359),(24,90,-0.604968413342692),(24,91,0.703817865535447),(24,101,-0.337473677785577),(24,107,0.593096713156529),(24,108,0.573320719016083),(24,110,-0.333780938138981),(24,112,0.415936765648366),(25,90,0.894436475722526),(25,92,-0.862208929715873),(25,94,-0.858455153050325),(25,98,-0.831110568559832),(25,105,-0.188756981109043),(25,108,0.0748619037446211),(25,109,0.755699331644642),(25,115,0.442091128269295),(26,85,-0.202581865901669),(26,87,-0.245735038300729),(26,89,-0.076326792199469),(26,95,-0.943876461073641),(26,98,-0.863612781151769),(26,100,0.0920743430890835),(26,101,0.269661549729911),(26,102,0.702352977080599),(26,103,0.385143589587085),(26,104,0.861507003997925),(26,107,0.925016022217475),(26,109,0.856715598010193),(26,112,-0.125980407116916),(26,113,-0.24405652027955),(26,117,-0.773094882045961),(27,85,0.408032471694082),(27,87,-0.819116794335765),(27,94,-0.317361980040895),(27,100,0.790948210089419),(27,102,0.513382366405225),(27,103,0.263405255287332),(27,104,0.993804742576373),(27,105,-0.753868221076083),(27,108,0.703207495345927),(27,110,0.0723593859675893),(27,114,0.938230536820582),(28,87,-0.0787682729575487),(28,88,-0.241645558030946),(28,97,0.572618793298135),(28,99,-0.425458540604877),(28,104,0.301980651264992),(28,113,-0.348185674611652),(28,114,-0.446943571275979),(29,88,0.105655079805902),(29,91,-0.0356456190679647),(29,102,-0.49916074098941),(29,105,-0.215247047334208),(29,116,-0.146824549089022),(30,95,-0.746421704763939),(30,96,0.528305917538987),(30,99,0.146824549089022),(30,101,-0.722952970976897),(30,104,-0.200231940672018),(30,109,0.74474318674276),(30,110,-0.698355052339244),(30,114,-0.316537980285043),(30,118,0.916714987640004),(31,85,-0.787377544480728),(31,92,0.0708639790032655),(31,94,0.804712057863094),(31,96,-0.477095858638264),(31,99,-0.434339426862392),(31,103,0.979705191198462),(31,107,-0.796563615833003),(31,108,0.0296639912106693),(31,109,-0.0863063447981201),(31,111,-0.230933561204871),(31,112,0.191930906094546),(31,117,0.835871456038087),(32,86,0.142277291177099),(32,87,0.198370311593982),(32,89,0.429273354289377),(32,92,-0.201300088503677),(32,98,0.986816003906369),(32,99,-0.794701986754967),(32,104,-0.3917355876339),(32,106,-0.635425885799738),(32,109,-0.807214575640126),(32,116,-0.0302133243812372),(32,118,0.440198980681783),(33,96,0.583208716086306),(33,98,-0.95974608600116),(33,108,-0.753746147038179),(33,110,0.542191839350566),(33,111,-0.573137607959227),(33,114,0.103213599047822),(34,85,0.668263801995911),(34,90,-0.965025788140507),(34,99,-0.124607074190497),(34,104,0.818994720297861),(34,109,-0.216406750694296),(35,86,0.502243110446486),(35,87,-0.259163182470168),(35,97,-0.936063722647786),(35,98,0.428205206457717),(35,100,-0.702047791985839),(35,104,0.958891567735832),(35,107,-0.27988525040437),(35,109,-0.325907162694174),(35,110,-0.0664082766197699),(35,112,-0.415570543534654),(36,85,0.0640278328806421),(36,87,-0.978972746971038),(36,90,0.689596240119633),(36,91,-0.415265358439894),(36,104,-0.642811365092929),(36,107,0.803186132389294),(36,109,-0.304849391155736),(36,112,0.700582903530992),(36,115,-0.844294564653462),(36,117,-0.197912533951842),(36,118,0.208258308664205),(37,85,-0.655751213110752),(37,86,0.601886043885617),(37,87,-0.114810632648701),(37,91,0.0280159916989654),(37,99,0.157719656971954),(37,105,0.10376293221839),(37,111,0.651753288369396),(37,112,0.808343760490738),(37,118,-0.93664357432783),(38,87,-0.178441724906156),(38,90,-0.266212958159123),(38,103,0.376506851405377),(38,105,-0.290231025116733),(38,106,0.135410626545),(38,111,0.701498458815272),(38,115,0.462019714957122),(39,87,-0.495254371776482),(39,89,-0.779747917111728),(39,91,-0.219367046113468),(39,94,0.536088137455367),(39,97,0.760093997009186),(39,98,-0.819147312845241),(39,107,0.233375041962951),(39,108,-0.840968047120579),(39,109,0.0618305001983703),(39,111,0.382396923734245),(39,113,-0.936002685628834),(39,116,0.577257606738487),(39,118,-0.71233252967925),(40,88,-0.868007446516312),(40,92,0.0139774773400067),(40,99,0.718375194555498),(40,104,0.996063112277596),(40,110,-0.841242713705863),(40,116,-0.0452284310434278),(40,118,-0.420392468031861),(41,88,-0.724234748374889),(41,93,-0.199285866878262),(41,96,-0.670979949339274),(41,97,-0.496658223212378),(41,100,-0.0487990966521195),(41,101,0.322519608142338),(41,104,0.136997589037751),(41,105,-0.925382244331187),(41,106,-0.379558702352977),(41,107,0.430646687215796),(41,109,0.298318430127873),(41,110,-0.859431745353557),(41,111,-0.749015778069399),(41,112,-0.863002410962249),(42,85,-0.679647206030457),(42,86,0.106479079561754),(42,87,-0.467757194738609),(42,99,-0.501083407086398),(42,100,0.687002166814173),(42,103,0.549089022492142),(42,109,-0.415173802911466),(42,113,-0.0529801324503311),(43,85,0.563035981322672),(43,88,-0.472334971160009),(43,89,-0.808160649433882),(43,93,0.41712698751793),(43,97,0.180303353984191),(43,98,-0.269112216559343),(43,101,-0.792321543015839),(43,102,0.845484786523026),(43,103,-0.266487624744407),(43,105,-0.490585039826655),(43,110,-0.699240089114048),(43,112,-0.123905148472549),(43,114,-0.15439313943907),(43,116,0.711355937376019),(44,89,-0.313394573809015),(44,98,0.489272743919187),(44,99,0.651844843897824),(45,87,-0.177831354716636),(45,88,0.992797631763665),(45,90,0.501235999633778),(45,91,-0.123691518906217),(45,95,-0.708456678975799),(45,98,-0.986419263283181),(45,108,-0.587969603564562),(45,109,-0.381267738883633),(45,112,-0.814569536423841),(45,115,-0.793237098300119),(46,85,-0.484694967497787),(46,89,0.471449934385205),(46,91,-0.511032441175573),(46,94,-0.905728324228645),(46,97,-0.283211767937254),(46,100,-0.960448011719108),(46,101,0.784783471175268),(46,108,0.781731620227668),(46,112,0.311777092806787),(47,86,0.805108798486282),(47,91,-0.190282906582842),(47,92,-0.389019440290536),(47,94,-0.56358531449324),(47,95,0.406201361125523),(47,100,-0.541062654499954),(47,101,-0.165410321359905),(47,104,0.893002105777154),(47,105,0.936826685384686),(47,108,0.165105136265145),(47,112,0.739036225470748),(47,114,-0.697988830225532),(47,118,-0.539902951139866),(48,86,0.694235053559984),(48,91,0.251686147648549),(48,98,-0.307779168065432),(48,99,-0.488967558824427),(48,100,-0.854579302346873),(48,103,0.630115665150914),(48,105,0.794305246131779),(48,106,-0.905087435529649),(48,111,0.228370006408887),(48,115,0.647419660023804),(49,87,0.425916318247017),(49,89,-0.124546037171545),(49,93,-0.45509201330607),(49,94,0.120059816278573),(49,95,0.483016449476608),(49,102,0.310525833918271),(49,113,0.840510269478439),(49,114,-0.0829798272652364),(50,89,-0.653279213843196),(50,105,-0.402691732535783),(50,107,0.843043305764946),(51,87,0.28690450758385),(51,92,-0.725821710867641),(51,97,-0.998352000488296),(51,98,-0.405529953917051),(51,103,0.861873226111637),(51,106,0.803155613879818),(51,112,-0.259102145451216),(51,118,0.601825006866665),(52,89,-0.490401928769799),(52,97,-0.749168370616779),(52,106,-0.43671987060152),(52,110,-0.566087832270272),(52,111,0.934415723136082),(52,113,-0.0922879726554155),(52,114,0.111575670644246),(52,118,-0.174474318674276),(53,88,-0.258949552903836),(53,90,0.102786339915159),(53,92,-0.738120670186468),(53,94,0.447279274880215),(53,104,-0.597430341502121),(53,105,0.262001403851436),(53,109,-0.590380565813166),(54,85,-0.140720847193823),(54,91,0.801263466292306),(54,94,0.843531601916562),(54,96,-0.702017273476363),(54,111,0.496688741721854),(54,112,0.818201239051485),(54,113,0.824152348399304),(54,118,-0.89379558702353),(55,87,0.619617297891171),(55,95,-0.142979216895047),(55,107,-0.843653675954466),(55,110,0.48307748649556),(55,117,-0.449049348429823),(56,107,0.183782464064455),(56,111,0.432325205236976),(56,113,-0.768578142643513),(56,114,0.796624652851955),(57,87,-0.888637958922086),(57,90,-0.224585711233863),(57,91,0.884060182500687),(57,92,-0.41621143223365),(57,93,-0.475203711050752),(57,94,0.377971739860225),(57,95,0.115359965819269),(57,96,-0.576158940397351),(57,100,-0.608050782799768),(57,102,-0.915616321298868),(57,103,0.273659474471267),(57,115,-0.101931821649831),(58,86,-0.866664632099368),(58,87,-0.211493270668661),(58,89,-0.21927549058504),(58,90,-0.358775597399823),(58,95,0.84835352641377),(58,96,-0.337168492690817),(58,101,-0.129673146763512),(58,103,0.141758476516007),(58,109,0.749748222296823),(58,110,0.488204596087527),(58,113,0.605273598437452),(58,114,-0.943693350016785),(58,115,-0.770470290231025),(58,118,0.209753715628529),(59,85,0.206854457228309),(59,86,-0.567827387310404),(59,90,0.182714316232795),(59,91,0.639576403088473),(59,93,0.51860103152562),(59,97,0.555894650105289),(59,98,-0.410962248603778),(59,100,-0.487350077822199),(59,102,-0.329874568926054),(59,112,-0.398663289284951),(59,114,-0.964690084536271),(60,85,0.969267860957671),(60,87,-0.0303353984191412),(60,90,0.998809778130436),(60,91,0.56877346110416),(60,96,0.41605883968627),(60,100,0.811334574419385),(60,101,-0.354197820978423),(60,105,-0.334727011932737),(60,107,-0.774163029877621),(60,109,-0.767876216925565),(60,110,0.931211279641102),(60,114,0.316812646870327),(61,89,-0.717612231818598),(61,94,-0.494705038605914),(61,96,-0.695425275429548),(61,98,-0.296365245521409),(61,100,0.590594195379498),(61,102,0.270302438428907),(61,103,-0.269997253334147),(61,114,0.138798181096835),(61,115,-0.898190252388073),(62,93,-0.422376171147801),(62,95,0.189336832789087),(62,107,0.566454054383984),(62,109,0.565355388042848),(62,110,-0.968962675862911),(62,111,-0.717337565233314),(63,87,0.690969573046052),(63,90,0.681722464674825),(63,93,0.128421887874996),(63,97,0.19876705221717),(63,100,-0.14966277047029),(63,103,0.9518112735374),(63,104,-0.792779320657979),(63,108,-0.41285439619129),(63,111,0.188695944090091),(63,114,-0.568742942594684),(63,117,0.556901760917997),(64,87,-0.897183141575365),(64,94,0.537583544419691),(64,99,-0.730948820459609),(64,110,0.398968474379711),(64,112,-0.711325418866543),(64,116,-0.418317209387494),(65,87,-0.519760734885708),(65,88,-0.6044495986816),(65,90,-0.608600115970336),(65,97,0.532975249488815),(65,99,-0.357524338511307),(65,107,-0.0282601397747734),(65,110,0.0847193823053682),(65,111,0.373790704062014),(65,114,-0.764091921750542),(65,116,0.288521988586077),(65,117,-0.272347178563799),(66,85,0.698965422528764),(66,102,-0.63121433149205),(66,105,0.985564745017853),(66,108,0.149754325998718),(66,111,-0.51844843897824),(66,115,0.733207190160833),(66,118,0.540269173253578),(67,86,0.033021027253029),(67,90,-0.43321024201178),(67,92,-0.970397045808283),(67,104,0.189886165959655),(67,109,0.745231482894375),(67,111,-0.98055970946379),(68,87,0.41056550798059),(68,88,0.671712393566698),(68,90,-0.777794732505264),(68,93,0.679769280068361),(68,95,0.622455519272439),(68,96,-0.239539780877102),(68,97,-0.352366710409864),(68,103,0.667317728202155),(68,107,0.623096407971435),(68,112,-0.148808252204962),(68,114,0.681691946165349),(69,87,0.0842005676442762),(69,88,-0.720297860652486),(69,92,0.520767845698416),(69,94,-0.0209662160100101),(69,95,0.704824976348155),(69,97,0.172521134067812),(69,108,-0.283883175145726),(69,113,-0.140873439741203),(69,114,0.190801721243934),(69,118,-0.474349192785424),(70,85,0.740348521378216),(70,86,0.424848170415357),(70,87,-0.970213934751427),(70,90,-0.266396069215979),(70,96,-0.757377849665822),(70,97,0.591998046815394),(70,99,-0.741050447096164),(70,105,-0.87054048280282),(70,107,0.58363597521897),(70,109,-0.0445265053254799),(70,110,-0.600512710959197),(70,111,-0.450117496261483),(71,85,-0.290688802758873),(71,93,-0.840693380535295),(71,96,0.798669392986846),(71,100,-0.795098727378155),(71,104,-0.839442121646779),(71,106,0.292123172704245),(71,111,0.117496261482589),(71,113,0.732078005310221),(72,94,-0.771385845515305),(72,96,0.186773277993103),(72,99,0.874721518601032),(72,110,0.159642323068941),(72,112,-0.52516251106296),(72,114,-0.636432996612445),(72,115,-0.552659688100833),(72,116,0.708456678975799),(73,88,0.377910702841273),(73,94,0.549302652058474),(73,99,-0.0524002807702872),(73,100,-0.0262764366588336),(73,106,0.0116580706198309),(73,110,-0.727866451002533),(73,115,0.572344126712851),(74,90,-0.688375499740593),(74,94,0.704794457838679),(74,99,0.591326639606922),(74,102,0.112338633381146),(74,106,0.732413708914457),(74,107,0.148350474562822),(74,110,0.523453474532304),(74,113,0.602557451094089),(74,116,0.818842127750481),(75,85,0.887569811090426),(75,86,-0.845118564409314),(75,93,-0.657307657094027),(75,98,0.0158391064180425),(75,103,0.388134403515732),(75,105,-0.411969359416486),(75,111,-0.954130680257576),(75,117,0.209723197119053),(76,86,-0.727774895474105),(76,89,0.837092196417127),(76,92,-0.237403485213782),(76,94,0.139805291909543),(76,99,-0.91247291482284),(76,101,-0.338694418164617),(76,103,0.947660756248665),(76,106,-0.0588396862697226),(76,110,-0.817957090975677),(76,113,0.212744529557176),(77,88,-0.47499008148442),(77,91,-0.0179143650624104),(77,93,0.756218146305734),(77,98,-0.930661946470534),(77,101,-0.0384533219397565),(77,102,0.776879177220985),(77,103,-0.666737876522111),(77,104,0.861812189092685),(77,105,0.189642017883847),(77,109,0.339182714316233),(78,88,0.932920316171758),(78,93,0.621448408459731),(78,94,-0.941740165410321),(78,101,0.112338633381146),(78,104,-0.823664052247688),(78,110,0.043061616870632),(78,114,-0.523270363475448),(78,116,-0.692953276161992),(78,117,0.559495834223457),(78,118,0.776329844050417),(79,87,0.757286294137394),(79,92,0.276741843928343),(79,94,-0.0043031098361156),(79,107,-0.509506515701773),(79,108,-0.064943388164922),(79,114,-0.694021423993652),(79,118,0.981505783257546),(80,87,0.817255165257729),(80,88,-0.0947599719229713),(80,91,-0.0694296090578936),(80,99,0.215399639881588),(80,101,0.63319803460799),(80,107,0.976195562608722),(80,113,0.107516708883938),(81,85,-0.897854548783837),(81,86,-0.347697378460036),(81,90,0.198644978179266),(81,93,0.00259407330545976),(81,96,-0.879512924588763),(81,97,-0.530411694692831),(81,106,-0.115573595385601),(81,107,-0.974089785454878),(81,110,0.486129337443159),(81,115,-0.277932065797906),(82,86,0.0730918301950133),(82,92,-0.426435132908109),(82,110,-0.960264900662252),(82,112,-0.186498611407819),(83,87,0.164067506942961),(83,91,-0.734611041596728),(83,93,-0.527359843745231),(83,101,-0.949736014893033),(83,103,0.60704367198706),(83,105,0.653920102542192),(83,108,0.08737449262978),(84,85,-0.581011383404035),(84,86,0.749931333353679),(84,89,0.355418561357463),(84,95,0.531083101901303),(84,99,-0.261543626209296),(84,104,0.699179052095096),(84,111,0.0859096041749321),(84,113,0.681539353617969),(84,114,0.812616351817377)]
orgname='BHNEAT_1_11'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()