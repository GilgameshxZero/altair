edge = [(0,85,-1.64471877193518),(0,89,0.288857692190313),(0,90,0.631733146153142),(0,93,-2.2927259132664),(0,98,0.551095614490188),(0,101,-2.04915768913846),(0,105,-1.85958433790094),(0,108,0.456938383129368),(0,113,0.45059816278573),(0,114,-1.9149449140904),(0,117,-0.32715842158269),(0,118,-1.57109286782434),(1,86,-0.240508743552965),(1,92,0.11024811548204),(1,98,-1.8717764824366),(1,102,1.44531083101901),(1,104,-1.75577562791833),(1,107,-3.5289925840022),(1,108,0.852076784569841),(1,109,-0.779953917050691),(1,113,-1.19476912747581),(2,87,-1.32397686696982),(2,88,-2.44308297982727),(2,100,-2.09905545213172),(2,106,-0.542573320719016),(2,108,-1.39026306955168),(2,110,0.436399426252022),(2,113,-0.64005706961272),(2,118,1.7697378460036),(3,89,-0.0445799127170629),(3,92,2.21241645558031),(3,97,2.01738792077395),(3,99,1.77379680776391),(3,101,-2.23943296609394),(3,103,1.25466933194983),(3,105,3.83231604968413),(3,108,1.53326517532884),(3,109,-2.23222296823023),(3,111,1.18445387127293),(3,112,1.04676961577197),(3,116,-0.466063417462691),(4,90,2.12913907284768),(4,91,-1.45285653248695),(4,97,-1.50738547929319),(4,99,2.85043641468551),(4,101,-0.620899075289163),(4,108,1.25095370342112),(4,113,-2.56682790612506),(4,118,-1.24642933439131),(5,86,-1.93890194402905),(5,87,2.67033906064028),(5,89,-2.89018677327799),(5,92,2.61332285531175),(5,93,-0.753517258217109),(5,99,-2.39443647572253),(5,104,-0.532837916196173),(5,114,-0.0630207220679343),(5,118,-1.67020172734764),(6,89,2.74658192693869),(6,92,1.12628559221168),(6,94,0.839030121768853),(6,100,-2.16742454298532),(6,101,1.2111880855739),(6,103,1.27089754936369),(6,107,0.560502945036165),(6,110,0.764023255104221),(6,113,-0.762039551988281),(7,85,2.47291482284005),(7,86,0.508056886501663),(7,90,0.982184820093387),(7,95,0.977439191869869),(7,99,1.57579271828364),(7,100,3.31971190527055),(7,104,2.03861354411451),(7,106,-1.14726706747642),(7,108,1.45186468092898),(7,112,3.20537430951872),(7,116,-1.18839075899533),(8,92,-0.0348216193121126),(8,93,-1.86109500412),(8,95,2.24179052095096),(8,99,0.703276161992249),(8,106,1.38067262794885),(8,107,-0.363338114566485),(8,115,-2.297204504532),(8,116,-0.652150028992584),(8,118,-0.423749504074221),(9,85,0.0156254768517106),(9,87,0.117542039246803),(9,98,0.53019043549913),(9,101,-0.302240058595538),(9,103,1.97450941496017),(9,105,-0.304795983764153),(9,106,3.3842051454207),(9,113,0.174321726126896),(10,89,-2.34282967619861),(10,96,-0.980246894741661),(10,106,1.53561510055849),(10,108,2.27999206518754),(10,109,-1.83104953154088),(10,111,0.102153080843532),(10,112,-1.98797570726646),(10,114,2.03286080507828),(10,115,-1.24787133396405),(10,116,-1.11487929929502),(10,117,-0.355777153843806),(11,89,-2.4482177190466),(11,97,1.33695486312448),(11,105,0.224509414960174),(11,112,1.46781060213019),(11,115,0.537812433240761),(12,92,-1.98689992980743),(12,93,-1.02546769615772),(12,94,0.143627735221412),(12,97,-3.22859889522996),(12,98,-1.09220404675436),(12,99,0.0504928739280373),(12,108,-1.89916684469131),(12,116,3.50296792504654),(13,86,1.33945738090152),(13,87,-2.63246559038057),(13,90,0.020897549363689),(13,99,1.35158848841823),(13,102,-1.0406811731315),(13,104,-2.74634540849025),(13,113,0.518723105563524),(13,116,1.21266060365612),(13,118,-0.984336375011444),(14,90,-0.685476241340373),(14,93,-1.07120731223487),(14,95,-0.841395306253243),(14,102,-1.0574663533433),(14,104,1.68359172338023),(14,106,-0.147633289590136),(14,109,-0.393238624225593),(14,110,0.18595690786462),(14,111,-2.38272499771111),(15,85,-1.88505966368603),(15,92,0.361415448469497),(15,99,-0.31152531510361),(15,101,-0.507446516312143),(15,104,0.480826746421705),(15,108,-0.43420209356975),(15,117,2.46378215887936),(16,86,-3.59363078707236),(16,87,-3.0435117648854),(16,88,3.08806878872036),(16,90,1.56308175908689),(16,91,-0.0574129459517197),(16,95,-1.42437513351848),(16,97,-1.28102206488235),(16,98,-1.02537614062929),(16,99,-0.768776512955107),(16,101,1.45402386547441),(16,108,-2.48199407940916),(16,110,-0.0151066621906186),(17,89,2.28590502639851),(17,96,2.51967680898465),(17,99,-1.10357219153417),(17,101,-0.938375499740593),(17,106,-1.36174352244636),(17,107,-0.393986327707755),(17,109,1.11817529831843),(18,90,-0.616695150608844),(18,91,0.153851435895871),(18,93,-1.61311685537278),(18,99,-2.7116077150792),(18,102,-2.89371929074984),(18,103,-0.997886593218787),(18,104,-0.81060975981933),(18,110,2.07923368022706),(18,111,1.84110538041322),(18,116,1.73665578173162),(18,117,-1.7841120639668),(18,118,-1.17140720847194),(19,87,0.960089419232764),(19,89,1.43539231543931),(19,93,0.837542344431898),(19,95,-1.2862025818659),(19,101,-2.22466200750755),(19,105,1.3747291482284),(19,115,1.28390606402783),(20,88,1.59710226752525),(20,101,0.52874080629902),(20,103,0.245452742088076),(20,104,1.74878688924833),(20,105,2.17528305917539),(20,106,2.05993835261086),(20,111,-0.716650898770104),(20,116,-0.639683217871639),(21,86,1.78434095278787),(21,87,-0.267052217169713),(21,94,-1.00572222052675),(21,96,1.01695303201392),(21,101,1.20814386425367),(21,102,-0.46355327005829),(21,105,-1.79309976500748),(21,107,-1.82988982818079),(21,108,1.09741508224738),(22,86,-1.22150334177679),(22,88,-3.8698309274575),(22,91,1.7012695699942),(22,92,-0.585016937772759),(22,93,-0.279114658040101),(22,98,-1.67449720755638),(22,106,0.47735526596881),(22,115,2.42909024323252),(22,117,-1.15485854670858),(23,85,0.543702505569628),(23,86,-0.176335947752312),(23,88,-0.809121982482376),(23,90,-0.919064912869655),(23,97,0.68755912961211),(23,104,-1.52142399365215),(23,112,2.10818048646504),(23,114,-0.83844264046144),(23,115,0.511795403912473),(23,116,-0.893902401806696),(24,89,-1.15855891598254),(24,90,-1.99897000030519),(24,91,0.556833094271676),(24,101,2.06620227668081),(24,107,-1.57013153477584),(24,108,-2.38827173680837),(24,110,0.712172307504501),(24,112,-0.179670094912564),(25,90,-1.83462782677694),(25,92,1.72806482131413),(25,94,0.25754570146794),(25,98,3.23068178350169),(25,105,0.183713797418134),(25,108,1.31225775933103),(25,109,-0.0518814661091952),(25,115,1.63112277596362),(26,85,0.448797570726646),(26,87,-0.628513443403424),(26,89,0.49039429914243),(26,95,0.655636768700217),(26,98,2.11162907803583),(26,100,-2.37804040650655),(26,101,-0.672925504318369),(26,102,-1.43887142551958),(26,103,2.01293221839045),(26,104,-0.843836787011322),(26,107,-1.06791894283883),(26,109,3.06159398174993),(26,112,0.470748008667257),(26,113,0.0457777642139958),(26,117,-1.29248176519059),(27,85,-0.711310159611805),(27,87,-1.10666219061861),(27,94,0.657040620136112),(27,100,-1.72147282326731),(27,102,-0.417340617084262),(27,103,-2.75753807184057),(27,104,-1.30993835261086),(27,105,-1.00899533066805),(27,108,-1.7768257698294),(27,110,1.12653736991485),(27,114,-2.07245094149602),(28,87,0.582766197698904),(28,88,-1.11721396526994),(28,97,-2.74231696523942),(28,99,1.64548173467208),(28,104,2.82284005249184),(28,113,0.845110934781945),(28,114,-1.48798333689383),(29,88,1.74489577929014),(29,91,-1.2191381572924),(29,102,-0.674687948240608),(29,105,2.46679586169012),(29,116,0.782959990234077),(30,95,0.891758476516007),(30,96,0.11443678090762),(30,99,0.377895443586535),(30,101,-1.53432569353313),(30,104,-0.862681966612751),(30,109,0.636532181768243),(30,110,-0.875774407177953),(30,114,-0.840144047364727),(30,118,1.41750846888638),(31,85,0.664143803216651),(31,92,0.305406353953673),(31,94,0.958265938291574),(31,96,0.0706427198095645),(31,99,-1.61461989196448),(31,103,2.4962843714713),(31,107,-0.449118015076144),(31,108,2.28344828638569),(31,109,-2.75766014587848),(31,111,-0.346461378826258),(31,112,-2.27912228766747),(31,117,-0.569704275643178),(32,86,0.846926786095767),(32,87,-0.883678701132237),(32,89,0.477240821558275),(32,92,-0.681791131321146),(32,98,0.299699392681661),(32,99,-1.10082552568133),(32,104,1.47621082186346),(32,106,-0.847422711874752),(32,109,-1.38399914548173),(32,116,-0.345927304910428),(32,118,3.74978637043367),(33,96,-0.0974608600115969),(33,98,0.987960448011719),(33,108,-0.669949949644459),(33,110,0.531861323892941),(33,111,0.54147465437788),(33,114,-1.01503036591693),(34,85,0.706984160893582),(34,90,0.535081026642659),(34,99,-3.54537339396344),(34,104,-0.960097048860134),(34,109,-2.26896725363933),(35,86,-1.18610187078463),(35,87,1.88952299569689),(35,97,-1.58696249275185),(35,98,-0.486770226142155),(35,100,-1.70558793908506),(35,104,1.33198797570727),(35,107,-2.36402478102969),(35,109,-0.283150730918302),(35,110,-2.6931974242378),(35,112,0.975180822168645),(36,85,1.7551194799646),(36,87,0.903279213843196),(36,90,-0.644550920133061),(36,91,1.58371990112003),(36,104,2.04374828333384),(36,107,-0.481147190771203),(36,109,2.14285714285714),(36,112,-1.60605945005646),(36,115,-1.57643360698264),(36,117,-1.85465559862056),(36,118,0.32357249671926),(37,85,3.32610553300577),(37,86,1.82416760765404),(37,87,0.54200872829371),(37,91,-2.40062410351878),(37,99,-3.14170506912442),(37,105,-0.876903592028565),(37,111,1.30704672383801),(37,112,-0.922620319223609),(37,118,0.344866786706137),(38,87,1.83666493728446),(38,90,2.26401562547685),(38,103,-0.575968199713126),(38,105,0.766556291390728),(38,106,0.627842036194952),(38,111,-0.328257087923826),(38,115,-0.693060090945158),(39,87,1.19103823969237),(39,89,0.38533433027131),(39,91,-1.53122806482131),(39,94,0.356158635212256),(39,97,0.638935514389477),(39,98,0.600070192571795),(39,107,1.93783379619739),(39,108,0.611407818842128),(39,109,2.18484298226875),(39,111,1.10605182042909),(39,113,1.25864436780908),(39,116,-0.830195013275552),(39,118,-1.67538224433119),(40,88,-0.934621723075045),(40,92,-2.48142185735649),(40,99,-0.714278084658345),(40,104,-0.712752159184545),(40,110,1.89460432752464),(40,116,-3.58144627216407),(40,118,1.54702139347514),(41,88,-0.86855677968688),(41,93,-0.0662862025818658),(41,96,-1.92563402203436),(41,97,-1.20338297677541),(41,100,0.858256782738731),(41,101,-1.07237464522233),(41,104,-0.0511871700186162),(41,105,-0.281739249855037),(41,106,0.76006347849971),(41,107,0.0479903561510057),(41,109,2.73791467024751),(41,110,-1.04352702414014),(41,111,-0.967184972685934),(41,112,0.596881008331553),(42,85,-0.514397106845302),(42,86,-1.05890835291604),(42,87,2.23059785760063),(42,99,2.32963042085025),(42,100,-1.83332316049684),(42,103,0.716956083864864),(42,109,-1.66021454512162),(42,113,-0.788872951445052),(43,85,-1.21577349162267),(43,88,0.792947172460097),(43,89,-0.855418561357463),(43,93,0.512016663106174),(43,97,2.13780632953886),(43,98,1.02152317880795),(43,101,-0.837359233375042),(43,102,3.62668233283486),(43,103,1.56636249885556),(43,105,-2.94595171971801),(43,110,0.0489593188268684),(43,112,2.99388103885006),(43,114,-2.11096530045473),(43,116,-2.28221228675192),(44,89,4.03008362071596),(44,98,2.02883236182745),(44,99,-1.22217474898526),(45,87,0.978438673055208),(45,88,2.67904446546831),(45,90,-0.889538254951628),(45,91,1.10955381939146),(45,95,-0.554986724448378),(45,98,0.473311563463241),(45,108,0.374317148350475),(45,109,-0.99451429792169),(45,112,0.254509109775079),(45,115,1.21326334421827),(46,85,1.60634174626911),(46,89,1.42821283608509),(46,91,2.33291116061892),(46,94,-0.0136417737357707),(46,97,3.63016144291513),(46,100,-0.78553117465743),(46,101,-0.45356608783227),(46,108,0.249183629871517),(46,112,-2.98290963469344),(47,86,1.93113498336741),(47,91,1.65562913907285),(47,92,3.61040070802942),(47,94,-0.701590014343699),(47,95,-0.532052064577166),(47,100,1.9128772850734),(47,101,0.532204657124546),(47,104,0.171704763939329),(47,105,-2.01332132938627),(47,108,2.12538529618213),(47,112,0.616321298867763),(47,114,-0.367442854091006),(47,118,0.485076448866237),(48,86,3.02349925229652),(48,91,-0.99908444471572),(48,98,1.34771263771477),(48,99,-0.351725821710868),(48,100,2.01416058839686),(48,103,-3.03360850856044),(48,105,0.551454206976531),(48,106,-1.28573717459639),(48,111,-0.00791192358165205),(48,115,2.07907345805231),(49,87,-2.45284890285958),(49,89,0.5864589373455),(49,93,-1.54369487594226),(49,94,0.337000640888699),(49,95,-1.57574694051942),(49,102,4.29805139316996),(49,113,0.0825373088778343),(49,114,1.50701162755211),(50,89,0.242088076418348),(50,105,2.1572161015656),(50,107,1.51470992156743),(51,87,-1.77938169499802),(51,92,3.84196752830592),(51,97,0.289498580889309),(51,98,-3.25446333201086),(51,103,-1.10315256202887),(51,106,1.06350138859218),(51,112,-1.75725577562792),(51,118,-0.955221716971343),(52,89,2.02334665974914),(52,97,-0.0928525650807215),(52,106,-0.981055635242775),(52,110,-1.68527024140141),(52,111,-0.723220007934813),(52,113,0.548394726401563),(52,114,0.830729087191381),(52,118,1.38680684835353),(53,88,-0.778267769402142),(53,90,0.317545091097751),(53,92,-0.925931577501755),(53,94,0.661793877986999),(53,104,1.82837153233436),(53,105,3.99199652088992),(53,109,-2.34273049104282),(54,85,-1.78048036133915),(54,91,0.0598544267097996),(54,94,1.21343882564776),(54,96,-0.150608844264046),(54,111,-0.38144322031312),(54,112,0.521004364146855),(54,113,0.763260292367321),(54,118,-2.18270668660543),(55,87,-2.50227362895596),(55,95,2.4199652088992),(55,107,-0.59530167546617),(55,110,1.94135868404187),(55,117,-1.65912350840785),(56,107,1.55681783501694),(56,111,-0.0147785882137516),(56,113,-1.58543656727805),(56,114,-0.431821649830622),(57,87,0.860866115298929),(57,90,3.47940763573107),(57,91,0.608806115909299),(57,92,-0.744651631214332),(57,93,2.04921872615741),(57,94,1.11740470595416),(57,95,-0.0996200445570238),(57,96,0.374011963255715),(57,100,-0.897022919400617),(57,102,1.63747062593463),(57,103,-0.601748710592975),(57,115,-1.65440839869381),(58,86,-0.0999481185338908),(58,87,-1.03808709982604),(58,89,3.84572893459883),(58,90,-1.60126804406873),(58,95,0.781830805383465),(58,96,-1.66241950743126),(58,101,0.73398541215247),(58,103,0.404919583727531),(58,109,-0.802179021576586),(58,110,3.46736808374279),(58,113,-0.356715598010193),(58,114,-0.767120883816034),(58,115,0.404652546769616),(58,118,-0.97705008087405),(59,85,-0.422498245185705),(59,86,-2.10516678365429),(59,90,0.00228888821069979),(59,91,-1.01298562578204),(59,93,-1.6178624835963),(59,97,-0.441923276467178),(59,98,-0.856318857387005),(59,100,1.35769981994079),(59,102,-0.0558183538315989),(59,112,-1.81203650013733),(59,114,-1.39385662404248),(60,85,1.66174047059542),(60,87,-0.42977690969573),(60,90,-0.991096224860378),(60,91,-0.273903622547075),(60,96,-2.23242896816919),(60,100,1.83386486404004),(60,101,0.917668691061129),(60,105,0.205618457594531),(60,107,-0.794160283211768),(60,109,0.00706503494369337),(60,110,-3.2678685872982),(60,114,-0.779366435743278),(61,89,2.80919827875607),(61,94,-0.676458021790216),(61,96,0.737556077761162),(61,98,-0.703222754600665),(61,100,0.967360454115421),(61,102,-0.620250556962798),(61,103,-1.1581011383404),(61,114,-1.65244758445997),(61,115,2.27134006775109),(62,93,-2.83558153019806),(62,95,-2.40325632496109),(62,107,0.515381328775903),(62,109,1.72704245124668),(62,110,-1.47400585955382),(62,111,2.15338602862636),(63,87,0.150677510910367),(63,90,-0.0301370281075472),(63,93,-2.70668660542619),(63,97,-0.170834986419263),(63,100,3.29295480208747),(63,103,-0.0728019043549913),(63,104,-0.266762291329691),(63,108,-0.74375133518479),(63,111,-2.60351115451521),(63,114,-0.272995696890164),(63,117,-1.32702871791742),(64,87,0.783448286385693),(64,94,-0.269920957060457),(64,99,1.17567217017121),(64,110,-1.13919492172002),(64,112,-2.61024048585467),(64,116,2.64664906765954),(65,87,1.06868190557573),(65,88,0.593249305703909),(65,90,-0.811410870693075),(65,97,0.0364009521774957),(65,99,-1.95133823664052),(65,107,-0.659611804559465),(65,110,-2.07248908963286),(65,111,1.52676473281045),(65,114,-2.35025330362865),(65,116,0.539971617786187),(65,117,0.733130893887143),(66,85,2.79817346720786),(66,102,-2.37260048219245),(66,105,-0.86748863185522),(66,108,2.19176305429243),(66,111,3.04562517166662),(66,115,-2.36184270760216),(66,118,2.93514053773614),(67,86,0.120212408825953),(67,90,2.55602435377056),(67,92,2.09678945280313),(67,104,-1.35540330210273),(67,109,-1.31152531510361),(67,111,2.49959562974944),(68,87,-1.49777214880825),(68,88,-2.04039124729148),(68,90,0.95234534745323),(68,93,0.795449690237129),(68,95,0.882915738395337),(68,96,2.4562669759209),(68,97,-1.44818720053713),(68,103,0.237739188818018),(68,107,-2.1081423383282),(68,112,-1.87028870509964),(68,114,1.44838557084872),(69,87,0.52371288186285),(69,88,-1.3820383312479),(69,92,1.43604846339305),(69,94,0.751319925534837),(69,95,0.0201803643910032),(69,97,-1.66930143131809),(69,108,0.201300088503677),(69,113,0.144550920133061),(69,114,1.55117954039125),(69,118,1.09620960112308),(70,85,-1.44093142490921),(70,86,0.161366618854335),(70,87,-0.25693533127842),(70,90,3.14465773491623),(70,96,-2.32181005279702),(70,97,1.81270790734581),(70,99,-2.25501266518143),(70,105,-3.62305063020722),(70,107,0.0542313913388469),(70,109,-1.10309152500992),(70,110,2.46978667561876),(70,111,-0.274117252113407),(71,85,2.6005355998413),(71,93,-0.809869685964538),(71,96,-2.22920926541948),(71,100,-0.262688070314646),(71,104,1.37218848231452),(71,106,-2.11476485488449),(71,111,2.63005462813196),(71,113,1.02153080843532),(72,94,0.479476302377392),(72,96,-1.64951017792291),(72,99,-2.45835749382),(72,110,0.368663594470046),(72,112,-1.79960020752586),(72,114,2.13396099734489),(72,115,1.58059175389874),(72,116,-0.645390179143651),(73,88,1.40054017761773),(73,94,-1.07029938657796),(73,99,-0.911473433637501),(73,100,-0.404553361613819),(73,106,-1.42906735435041),(73,110,-1.64742728965117),(73,115,-0.846430860316782),(74,90,2.51175725577563),(74,94,-0.385296182134465),(74,99,-1.15367595446638),(74,102,-2.10202337717826),(74,106,0.143833735160375),(74,107,2.39211706900235),(74,110,2.02414777062288),(74,113,0.304261909848323),(74,116,0.612170781579028),(75,85,-1.41857661671804),(75,86,0.572679830317087),(75,93,-0.490661336100345),(75,98,0.977988525040437),(75,103,-1.47664571062349),(75,105,1.32312997833186),(75,111,2.25353251747185),(75,117,1.30022583697012),(76,86,0.618915372173223),(76,89,1.09148686178167),(76,92,-1.6626560258797),(76,94,-0.480933561204871),(76,99,0.897442548905911),(76,101,0.235030671102023),(76,103,1.263191625721),(76,106,3.43438520462661),(76,110,1.16173284096805),(76,113,-0.987617114780114),(77,88,-0.665540025025178),(77,91,-0.0407345805230872),(77,93,-2.23715933713797),(77,98,0.742637409588916),(77,101,-2.34147160252693),(77,102,0.861735892818995),(77,103,-1.47648548844874),(77,104,0.232512894070254),(77,105,-0.226317636646626),(77,109,-0.146954252754296),(78,88,1.14678640095218),(78,93,-1.76587725455489),(78,94,3.15650654622028),(78,101,1.31778923917356),(78,104,-0.23323007904294),(78,110,0.55710776085696),(78,114,-1.71864986114078),(78,116,-0.684835352641377),(78,117,0.287316507461776),(78,118,-1.84363841669973),(79,87,0.566377758110294),(79,92,-1.63068025757622),(79,94,-0.483634449293497),(79,107,-1.14270455030976),(79,108,1.35866115298929),(79,114,-1.58532975249489),(79,118,1.41164891506699),(80,87,0.0857417523728141),(80,88,-2.09124271370586),(80,91,-0.492820520645772),(80,99,-0.944700460829493),(80,101,2.06323435163427),(80,107,2.12274544511246),(80,113,0.21713919492172),(81,85,0.483184301278726),(81,86,0.514755699331645),(81,90,-0.761833552049318),(81,93,-0.464735862300485),(81,96,-1.3535874507889),(81,97,-0.0733741264076663),(81,106,-1.03600421155431),(81,107,0.13556321909238),(81,110,1.57088686788537),(81,115,0.260773033845027),(82,86,2.91461684011353),(82,92,-2.19450972014527),(82,110,0.636509292886135),(82,112,0.946600238044374),(83,87,-0.182576982940153),(83,91,2.44186223944823),(83,93,-0.408406323435163),(83,101,-0.837382122257149),(83,103,1.34296700949126),(83,105,1.19566942350536),(83,108,-0.508056886501663),(84,85,-0.273903622547075),(84,86,-0.957419049653615),(84,89,-0.351977599414045),(84,95,1.46743675038911),(84,99,-0.497756889553514),(84,104,0.232512894070254),(84,111,-0.649250770592364),(84,113,0.680104983672597),(84,114,-2.16218298898282)]
orgname='BHNEAT_5_11'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()