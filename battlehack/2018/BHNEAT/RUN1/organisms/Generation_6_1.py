edge = [(0,85,2.48026978362377),(0,89,-3.03011413922544),(0,90,0.868900112918485),(0,93,0.127620777001251),(0,98,-0.156552323984497),(0,101,2.33234656819361),(0,105,-0.234550004577776),(0,108,-0.120357371745964),(0,113,1.87451551866207),(0,114,-0.0668965727713858),(0,117,2.05046235541856),(0,118,1.68441572313608),(1,86,-1.1410718100528),(1,92,-0.380741294595172),(1,98,2.72453993346965),(1,102,-2.93066194647053),(1,104,-1.65220343638417),(1,107,1.18642231513413),(1,108,1.3041703543199),(1,109,-2.16572313608203),(1,113,0.499885555589465),(2,87,-2.94611194189276),(2,88,2.85283211767937),(2,100,-0.688642536698508),(2,106,-1.71959593493454),(2,108,-1.56292153691214),(2,110,-0.402096621601001),(2,113,2.08284249397259),(2,118,2.09140293588061),(3,89,3.19316690572832),(3,92,0.0358363597521898),(3,97,-1.95280312509537),(3,99,0.89066743980224),(3,101,-2.43997772148808),(3,103,-0.949224829859309),(3,105,0.405163731803339),(3,108,-0.29773094882046),(3,109,1.67555772576067),(3,111,0.837229529709769),(3,112,-0.665166173284097),(3,116,-2.59007538071841),(4,90,-0.574037903988769),(4,91,0.52424695577868),(4,97,0.394192327646718),(4,99,-2.37467574083682),(4,101,0.630596331675161),(4,108,-1.50158696249275),(4,113,-1.1606112857448),(4,118,-2.99678029725028),(5,86,-0.528031250953703),(5,87,-0.457998901333659),(5,89,-2.41776024658956),(5,92,0.913708914456618),(5,93,1.2058473464156),(5,99,3.51604510635701),(5,104,2.30423902096622),(5,114,3.1880779442732),(5,118,-0.20730460524308),(6,89,-0.260177922910245),(6,92,-1.36574144718772),(6,94,-1.81291390728477),(6,100,-0.397976622821741),(6,101,-1.4413281655324),(6,103,-0.401898251289407),(6,107,1.72299111911374),(6,110,1.28287606433302),(6,113,-1.94169438764611),(7,85,-1.88459425641652),(7,86,3.19687490462966),(7,90,0.567743461409345),(7,95,2.23762474440748),(7,99,0.268532364879299),(7,100,3.47722556230354),(7,104,-1.05710776085696),(7,106,1.57429731131932),(7,108,-1.64358958708457),(7,112,1.73297067171239),(7,116,1.5934476760155),(8,92,2.01285592211676),(8,93,0.104121524704733),(8,95,0.616451002533036),(8,99,0.283989989928892),(8,106,0.856097598193304),(8,107,-0.678098391674551),(8,115,-2.76161229285562),(8,116,-2.31170842616047),(8,118,1.95993682668538),(9,85,2.57776879177221),(9,87,-0.263824884792627),(9,98,-1.0470061342204),(9,101,-1.39896084475234),(9,103,-1.34144108401746),(9,105,-3.04814294869839),(9,106,-0.410046693319498),(9,113,-1.85016174810022),(10,89,-1.64181188390759),(10,96,-0.742889187292093),(10,106,0.877224036378063),(10,108,2.29052095095676),(10,111,-2.3160573137608),(10,112,0.693342387157811),(10,114,-0.584711752677999),(10,115,0.601321451460311),(10,116,-1.40892513809626),(10,117,-0.235152745139927),(11,89,0.205023346659749),(11,97,0.459814752647481),(11,105,0.707388531144139),(11,112,-2.03735465559862),(11,115,-0.0926236762596515),(12,92,-2.26374095889157),(12,93,1.49749748222297),(12,94,-2.04901272621845),(12,97,0.360873744926298),(12,98,3.26137577440718),(12,99,4.02812280648213),(12,108,0.174695577867977),(12,116,0.502159184545427),(13,86,0.0913724173711356),(13,87,-1.98818170720542),(13,90,-1.43659016693625),(13,99,1.81876583147679),(13,102,-1.09076967680898),(13,104,-1.97800378429517),(13,113,-1.50205999938963),(13,116,1.7834711752678),(13,118,-0.6579790643025),(14,90,-0.245246742149113),(14,93,-0.0648213141270181),(14,95,1.44501327555162),(14,102,-0.568773461104159),(14,104,-1.77892391735588),(14,106,0.835154271065401),(14,109,-0.183538315988647),(14,110,-1.34069338053529),(14,111,-2.25840021973327),(15,85,0.427060762352367),(15,92,1.45551164281137),(15,99,0.982612079226051),(15,101,1.22054963835566),(15,104,-0.128551591540269),(15,108,-1.26496932889798),(15,117,1.97674489577929),(16,86,-2.08048493911557),(16,87,0.666699728385265),(16,88,1.12824640644551),(16,90,1.58613086336863),(16,91,0.517975402081362),(16,95,-0.996436964018677),(16,97,-1.46703238013855),(16,98,-2.05518509475997),(16,99,-2.68682668538469),(16,101,0.7530518509476),(16,108,2.66611987670522),(16,110,-2.09958189642018),(17,89,-1.32222205267495),(17,96,-2.37392803735466),(17,99,-2.68050172429579),(17,101,2.04557176427503),(17,106,0.704931791131321),(17,107,-2.29631946775719),(17,109,0.778122806482132),(18,90,-1.91640217291787),(18,91,-0.256126590777306),(18,93,1.98226874599445),(18,99,2.52922147282327),(18,102,0.291230506302072),(18,103,-1.48477126377148),(18,104,2.49259926145207),(18,110,1.59883419293802),(18,111,-2.52038636432997),(18,116,0.623226111636708),(18,117,-0.133632923368023),(18,118,-1.33357493820002),(19,87,-0.539628284554583),(19,89,-1.34568315683462),(19,93,-0.0918225653859066),(19,95,-1.07451857051302),(19,101,2.21280556657613),(19,105,-1.7150028992584),(19,115,-0.301911984618671),(20,88,-0.619800408948027),(20,101,2.32685323648793),(20,103,-2.76859340189825),(20,104,0.590983306375317),(20,105,-2.44212164677877),(20,106,-1.49649800103763),(20,111,0.776924954985198),(20,116,-1.55138554033021),(21,86,3.41650898770104),(21,87,0.231810968352306),(21,94,-3.63462477492599),(21,96,-0.122646259956664),(21,101,4.49616992706076),(21,102,-1.15449232459487),(21,105,-0.130642109439375),(21,107,-0.341151158177435),(21,108,0.806840723899045),(22,86,-3.60851619006928),(22,88,-1.70259712515641),(22,91,-0.777710806604206),(22,92,1.14439069795831),(22,93,1.93919949949644),(22,98,-1.31918546098209),(22,106,-2.65926084170049),(22,115,2.47872096926786),(22,117,0.484862819299906),(23,85,0.150662251655629),(23,86,-1.61440626239814),(23,88,-0.708082827234718),(23,90,1.7412640766625),(23,97,-1.58336130863369),(23,104,-3.32210760826441),(23,112,-2.33958708456679),(23,114,1.41107669301431),(23,115,-0.210242011780145),(23,116,-0.965353862117374),(24,89,-2.42107913449507),(24,90,-1.98680074465163),(24,91,0.13136692403943),(24,101,-1.27629932554094),(24,107,-2.30787835322123),(24,108,0.385135959959716),(24,110,0.0474791711172826),(24,112,0.170300912503433),(25,90,-1.95323038422803),(25,92,1.83709219641713),(25,94,-0.245284890285958),(25,98,-0.757591479232154),(25,105,1.56654560991241),(25,108,-1.21356852931303),(25,109,1.04336680196539),(25,115,1.22953733939634),(26,85,2.09641560106204),(26,87,2.56364635151219),(26,89,0.631466109195227),(26,95,2.78136539811396),(26,98,0.168591875972778),(26,100,2.46768852809229),(26,101,-0.544366283150731),(26,102,-1.25637836848048),(26,103,-1.67248298593097),(26,104,1.82449568163091),(26,107,-0.399273659474471),(26,109,1.94171727652821),(26,112,-0.516357921079134),(26,113,-2.5553758354442),(26,117,0.0827204199346903),(27,85,2.02082125309),(27,87,2.1789223914304),(27,94,1.30693227942747),(27,100,-0.415440839869381),(27,102,-3.23637348551897),(27,103,-0.608386486404004),(27,104,-0.676831873531297),(27,105,-0.963408307138279),(27,108,-2.99466689046907),(27,110,-0.664822840052492),(27,114,-0.0359889522995697),(28,87,-0.432432020020142),(28,88,1.86627552110355),(28,97,2.26565599536119),(28,99,-2.87707144383068),(28,104,-0.228743858149968),(28,113,1.89536729026154),(28,114,3.86301767021699),(29,88,-1.72173223059786),(29,91,-0.326441236610004),(29,102,2.06166264839625),(29,105,-2.70826593829157),(29,116,0.147259437849056),(30,95,1.49465163121433),(30,96,-2.24979400006104),(30,99,-2.16640980254524),(30,101,0.465666676839503),(30,104,-0.828653828547014),(30,109,-2.19501327555162),(30,110,-1.845194860683),(30,114,0.331919309060945),(30,118,2.73273415326395),(31,85,-3.17294839320048),(31,92,0.869884334849086),(31,94,-1.76268807031465),(31,96,3.03463850825526),(31,99,0.227973265785699),(31,103,0.223303933835872),(31,107,0.571916867580188),(31,108,-0.975966673787652),(31,109,-2.16376995147557),(31,111,-1.56084627826777),(31,112,1.82164983062227),(31,117,2.69824823755608),(32,86,0.222060304574724),(32,87,0.317415387432478),(32,89,-2.4537568285165),(32,92,-0.21165349284341),(32,98,-2.03012176885281),(32,99,2.05242316965239),(32,104,-0.75411999877926),(32,106,0.782853175450911),(32,109,-0.877391888180181),(32,116,-2.85644856105228),(32,118,-0.327066866054262),(33,96,2.18650624103519),(33,98,-1.66460158085879),(33,108,-3.20161290322581),(33,110,0.702543717764824),(33,111,-0.849208044679098),(33,114,-0.287240211188086),(34,85,1.99581896420179),(34,90,-0.729148228400525),(34,99,-1.99747459334086),(34,104,-1.74903866695151),(34,109,0.692091128269295),(35,86,0.43740653706473),(35,87,-2.30726798303171),(35,97,0.572489089632862),(35,98,0.410664693136387),(35,100,2.01450392162847),(35,104,0.698118533890805),(35,107,-0.157918027283548),(35,109,-2.57676931058687),(35,110,0.0437788018433181),(35,112,2.02249977111118),(36,85,0.368419446394239),(36,87,-1.87478255561998),(36,90,-2.05202642902921),(36,91,2.76734214300973),(36,104,1.44089327677236),(36,107,2.39609973448897),(36,109,1.49536881618702),(36,112,1.50877407147435),(36,115,0.245559556871242),(36,117,1.02659688100833),(36,118,3.09474471266823),(37,85,-1.08400982696005),(37,86,0.518852809228797),(37,87,-0.396092104861599),(37,91,2.46509445478683),(37,99,-2.0001220740379),(37,105,1.46089053010651),(37,111,-1.64203314310129),(37,112,2.31096835230567),(37,118,-1.45515305032502),(38,87,-0.19594409009064),(38,90,1.68060090945158),(38,103,1.25334940641499),(38,105,0.392857142857143),(38,106,-0.132641071810053),(38,111,2.64928128910184),(38,115,-2.04159672841578),(39,87,-0.709349345377972),(39,89,-2.62188329721976),(39,91,0.429319132053591),(39,94,-0.907460249641408),(39,97,-0.365466780602435),(39,98,0.336420789208655),(39,107,-0.703314310129093),(39,108,0.396328623310037),(39,109,0.586817529831843),(39,111,-1.07537308877834),(39,113,1.19104586931974),(39,116,1.92005676442763),(39,118,-2.22650837733085),(40,88,2.17857142857143),(40,92,-2.09459974974822),(40,99,-0.615054780724509),(40,104,-0.315095980712302),(40,110,-0.558015686513871),(40,116,-0.957693716238899),(40,118,-0.852420117801447),(41,88,-2.34538560136723),(41,93,2.29889828180792),(41,96,1.42896053956725),(41,97,-1.7055269020661),(41,100,-3.28176976836451),(41,101,1.65205084383679),(41,104,0.180791650135807),(41,105,3.26729636524552),(41,106,2.2996154667806),(41,107,0.345660267952513),(41,109,3.7740943632313),(41,110,-1.73709830011902),(41,111,-0.602374340037233),(41,112,0.0119937742240668),(42,85,1.32693716238899),(42,86,-1.35676900540178),(42,87,-1.25502792443617),(42,99,2.48386333811457),(42,100,1.52669606616413),(42,103,-1.29284035767693),(42,109,-1.54733420819727),(42,113,-3.38538773766289),(43,85,2.20496993926817),(43,88,-0.376445814386425),(43,89,0.147801141392254),(43,93,0.0746482741782891),(43,97,1.73900570696127),(43,98,-0.135700552385021),(43,101,1.61701559495834),(43,102,0.189344462416456),(43,103,3.23736533707694),(43,105,1.58181249427778),(43,110,-1.98788415173803),(43,112,1.61074404126102),(43,114,-0.798348948637349),(43,116,-1.5317239906003),(44,89,-0.724623859370708),(44,98,2.13126010925626),(44,99,-1.41280098879971),(45,87,0.511352885525071),(45,88,0.549806207464827),(45,90,-2.92873165074618),(45,91,2.59733115634632),(45,95,0.162312692648091),(45,98,2.11329996642964),(45,108,1.92210150456252),(45,109,-1.45755638294626),(45,112,1.94641712698752),(45,115,-0.235999633777886),(46,85,1.25951414532914),(46,89,2.31538590655232),(46,91,-1.42499313333537),(46,94,-2.25247962889492),(46,97,-0.0753959776604511),(46,100,0.0916470839564196),(46,101,-0.196943571275979),(46,108,-0.411008026367992),(46,112,-1.57470931119724),(47,86,-0.993461409344768),(47,91,2.57235175634022),(47,92,2.07558671834468),(47,94,1.47647785882138),(47,95,1.95558793908506),(47,100,-0.45951719718009),(47,101,-1.17652668843654),(47,104,3.62102114932707),(47,105,1.35710470900601),(47,108,0.826631977294229),(47,112,1.19230475783563),(47,114,0.948553422650838),(47,118,2.19953001495407),(48,86,-0.233130893887142),(48,91,0.84568315683462),(48,98,1.08922086245308),(48,99,-0.713171788689841),(48,100,-2.1001922666097),(48,103,-2.23242133854183),(48,105,-2.3100756859035),(48,106,0.505508590960417),(48,111,1.10265663624989),(48,115,1.97061830500198),(49,87,-3.09565263832514),(49,89,0.874591814935759),(49,93,-0.77241584521012),(49,94,0.461401715140233),(49,95,-1.00788903469955),(49,102,0.367496261482589),(49,113,-1.68436994537187),(49,114,-1.03464613788263),(50,89,-1.34871211890011),(50,105,1.3284859767449),(50,107,-1.4819101535081),(51,87,-0.402592547379986),(51,92,0.303155613879818),(51,97,-0.916020691549425),(51,98,1.26563310647908),(51,103,-3.39989928891873),(51,106,-0.779206213568529),(51,112,1.40148625141148),(51,118,-0.372737815485092),(52,89,1.97104556413465),(52,97,-2.65094454786828),(52,106,-0.481963560899686),(52,110,-0.296182134464553),(52,111,1.99067659535508),(52,113,1.65942106387524),(52,114,0.044190801721244),(52,118,1.74940488906522),(53,88,2.19694357127598),(53,90,-1.56132694479202),(53,92,-0.746574297311319),(53,94,-1.41392254402295),(53,104,-2.62252418591876),(53,105,1.37816248054445),(53,109,-2.0904950102237),(54,85,-0.615627002777184),(54,91,-0.339480269783623),(54,94,1.47799615466781),(54,96,2.4538789025544),(54,111,0.528504287850581),(54,112,1.02215643787957),(54,113,0.939809869685964),(54,118,-2.13063447981201),(55,87,2.77918332468642),(55,95,-1.97138126773888),(55,107,0.70204016235847),(55,110,0.796342356639302),(55,117,-3.60017700735496),(56,107,-2.05474257637257),(56,111,-1.81643879512925),(56,113,-2.48215430158391),(56,114,-2.70579393902402),(57,87,-1.96194341868343),(57,90,-1.48099459822382),(57,91,0.211302529984436),(57,92,0.72331919309061),(57,93,-0.460776085695974),(57,94,3.04869228186895),(57,95,-2.02526169621876),(57,96,0.181707205420087),(57,100,0.491836298715171),(57,102,-0.195127719962157),(57,103,-0.725997192297128),(57,115,1.31427961058382),(58,86,1.93267616809595),(58,87,0.731711783196509),(58,89,-0.536194952238533),(58,90,0.0704596087527085),(58,95,-0.563882869960631),(58,96,0.81534012878811),(58,101,-0.807046723838008),(58,103,4.05058442945647),(58,109,-2.60525070955535),(58,110,2.59556871242409),(58,113,1.89814447462386),(58,114,-1.69614246040223),(58,115,0.597376934110538),(58,118,-4.10138248847926),(59,85,-0.465872676778466),(59,86,1.11262855922117),(59,90,-0.711966307565538),(59,91,1.49727622302927),(59,93,1.72155674916837),(59,97,-1.6059755241554),(59,98,0.481612598040712),(59,100,-0.194280831324198),(59,102,-0.0137791070284126),(59,112,1.36196478164006),(59,114,-1.81302072206793),(60,85,-1.22141941587573),(60,87,1.33012634662923),(60,90,-1.37578203680532),(60,91,1.73764763328959),(60,96,3.54061250648518),(60,100,2.61651203955199),(60,101,-0.909474471266823),(60,105,-2.87373729667043),(60,107,0.019959105197302),(60,109,0.445844904934843),(60,110,-2.09729300820948),(60,114,-0.116710409863582),(61,89,2.34138767662587),(61,94,-0.484992522965178),(61,96,1.48085726493118),(61,98,-2.99855800042726),(61,100,-1.61412396618549),(61,102,1.96234015930662),(61,103,-0.201956236457412),(61,114,1.14548936429945),(61,115,-0.073473311563463),(62,93,-3.07213812677389),(62,95,-3.51920377208777),(62,107,-2.12694936979278),(62,109,1.6608096560564),(62,110,-0.775208288827174),(62,111,1.73609881893368),(63,87,-2.65889461958678),(63,90,1.35112308114872),(63,93,3.54216895046846),(63,97,-0.861812189092685),(63,100,-0.94099246192816),(63,103,1.48593096713157),(63,104,-2.53039643543809),(63,108,0.673032319101535),(63,111,1.03589739677114),(63,114,-0.91376995147557),(63,117,0.0620593890194403),(64,87,-1.84720908230842),(64,94,-2.19403668324839),(64,99,0.565225684377575),(64,110,1.10845515305033),(64,112,-3.00312814722129),(64,116,-1.32430494094668),(65,87,3.7398602252266),(65,88,0.708609271523179),(65,90,-0.940084536271248),(65,97,-0.0689642017883846),(65,99,-1.79973754081851),(65,107,-2.50334940641499),(65,110,0.736625263222144),(65,111,1.49644459364605),(65,114,-0.567438276314585),(65,116,-1.80125583666494),(65,117,0.787224951933348),(66,85,-1.30801568651387),(66,102,2.21154667806024),(66,105,2.06128879665517),(66,108,1.74826807458724),(66,111,-2.28954435865352),(66,115,3.56805627613147),(66,118,2.80146946623127),(67,86,-0.940458388012329),(67,90,-0.560563982055116),(67,92,0.570329905087436),(67,104,-0.755455183568834),(67,109,-1.15400402844325),(67,111,0.237754448072756),(68,87,1.44247260963775),(68,88,1.17448194830164),(68,90,-0.874004333628346),(68,93,-0.675923947874386),(68,95,0.651051362651448),(68,96,-0.685995056001465),(68,97,-0.562387462996307),(68,103,-0.482840968047121),(68,107,-0.806642353587451),(68,112,0.784897915585803),(68,114,-2.40443128757591),(69,87,-1.58091982787561),(69,88,-2.03033539841914),(69,92,0.472121341593676),(69,94,-0.795892208624531),(69,95,2.96975615710929),(69,97,0.45356608783227),(69,108,-0.752143925290689),(69,113,-1.95471053193762),(69,114,-0.733802301095615),(69,118,0.990844447157201),(70,85,-0.422147282326731),(70,86,-0.603411969359416),(70,87,-0.253006073183386),(70,90,0.140034180730613),(70,96,-0.776161992248299),(70,97,0.375591296121097),(70,99,-0.22080141605884),(70,105,1.74504837183752),(70,107,0.468901638843959),(70,109,2.06840723899045),(70,110,-2.15804010132145),(70,111,0.780053102206488),(71,85,1.60204626606037),(71,93,-0.320352793969543),(71,96,-2.10036011841182),(71,100,-0.723593859675893),(71,104,0.537507248146),(71,106,0.815912350840785),(71,111,2.81890316476943),(71,113,-0.956259346293527),(72,94,-0.886867885372479),(72,96,0.256408886989959),(72,99,1.47360911893063),(72,110,0.0825525681325724),(72,112,-0.261154515213477),(72,114,2.11380352183599),(72,115,1.05235450300607),(72,116,1.64929654835658),(73,88,0.847773674733726),(73,94,-0.352809228797266),(73,99,-0.882328257087924),(73,100,-1.82477797784356),(73,106,-0.246246223334452),(73,110,1.39996032593768),(73,115,2.95295571764275),(74,90,1.64540543839839),(74,94,-2.03286843470565),(74,99,1.95776238288522),(74,102,-2.95177312540056),(74,106,-1.17293313394574),(74,107,1.76557206946013),(74,110,-0.624698629718925),(74,113,-0.740348521378216),(74,116,-1.03862117374187),(75,85,1.0488525040437),(75,86,0.253303628650777),(75,93,-0.782540360728782),(75,98,0.980018005920591),(75,103,0.694677571947386),(75,105,-2.42667928098392),(75,111,0.570894497512741),(75,117,-1.71941282387768),(76,86,1.68041016876736),(76,89,-0.293557542649617),(76,92,2.56663716544084),(76,94,0.744651631214332),(76,99,-0.884121219519639),(76,101,-0.343333231604968),(76,103,-0.333643604846339),(76,106,1.60855433820612),(76,110,0.145588549455245),(76,113,1.92819757683035),(77,88,0.908986175115208),(77,91,0.0630970183416242),(77,93,0.239303262428663),(77,98,-2.21159245582446),(77,101,-0.831965086825159),(77,102,0.883175145725883),(77,103,-0.995971556749168),(77,104,-1.02980895413068),(77,105,-2.73807489242225),(77,109,0.384548478652303),(78,88,-0.534440137943663),(78,93,3.68882564775536),(78,94,1.14691610461745),(78,101,-0.593325601977599),(78,104,0.033272804956206),(78,110,1.52577288125248),(78,114,-0.250556962797937),(78,116,-0.829416791283914),(78,117,0.709845271156957),(78,118,-1.55401776177252),(79,87,-1.82714316232795),(79,92,-1.04815820795312),(79,94,2.38506729331339),(79,107,-0.170079653309732),(79,108,-1.54673909726249),(79,114,1.50440229499191),(79,118,-1.88831751457259),(80,87,0.265152439954832),(80,88,-0.941343424787133),(80,91,-0.800752281258583),(80,99,2.77259895626698),(80,101,0.353740043336283),(80,107,-0.969588305307169),(80,113,0.243079927976318),(81,85,0.854937894833216),(81,86,-1.76984466078677),(81,90,-1.91581469161046),(81,93,-0.0332422864467299),(81,96,0.291741691335795),(81,97,0.22202215643788),(81,106,-0.8745078890347),(81,107,1.87611011078219),(81,110,1.47643208105716),(81,115,-0.814462721640675),(82,86,0.159566026795251),(82,92,-1.65683462019715),(82,110,0.283074434644612),(82,112,-0.195287942136906),(83,87,-1.83034760582293),(83,91,-0.405507065034944),(83,93,0.0349131748405408),(83,101,0.917241431928465),(83,103,-2.00189977721488),(83,105,-0.428220465712455),(83,108,1.56926175725578),(84,85,-0.752616962187567),(84,86,0.170545060579241),(84,89,1.27591784417249),(84,95,1.24415570543535),(84,99,-1.48678548539689),(84,104,-3.21508682515946),(84,111,-1.1380428479873),(84,113,1.71509445478683),(84,114,-1.39301736503189),(35,105,0.576815088351085)]
orgname='BHNEAT_6_1'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()