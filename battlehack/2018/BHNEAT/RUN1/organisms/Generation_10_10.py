edge = [(0,85,-1.77732169560839),(0,89,0.292207098605304),(0,90,2.44533371990112),(0,93,0.128604998931852),(0,98,-1.55092776268807),(0,101,-0.846659749137852),(0,105,-2.34940641499069),(0,108,-0.214201788384655),(0,113,2.24565874202704),(0,114,2.46055482650227),(0,117,-0.589617603076266),(0,118,-1.00746940519425),(1,86,-1.45046082949309),(1,92,-1.31411938840907),(1,98,-0.0467696157719656),(1,102,0.3372219000824),(1,104,-1.30246131778924),(1,107,-0.972266304513688),(1,108,-1.86750389110996),(1,109,-0.511200292977691),(1,113,-0.395451216162603),(2,87,-0.31534012878811),(2,88,-0.228202154606769),(2,100,0.219740897854549),(2,106,1.61478011413923),(2,108,-1.57124546037172),(2,110,-1.73154393139439),(2,113,1.18030335398419),(2,118,1.29136020996735),(3,89,-0.401844843897824),(3,92,-1.17658772545549),(3,97,0.441526535843989),(3,99,-1.53180028687399),(3,101,0.0310220648823512),(3,103,-2.39027069917905),(3,105,0.847575304422132),(3,108,-2.56102175969726),(3,109,1.84087649159215),(3,111,-1.29047517319254),(3,112,1.11947996459853),(3,116,0.0951414532914212),(4,90,2.19204535050508),(4,91,-1.67877742851039),(4,97,-0.814325388348033),(4,99,-2.26713614307077),(4,101,2.96705526902066),(4,108,-1.08706930753502),(4,113,-0.372547074800866),(4,118,0.900585955381939),(5,86,-2.66997283852657),(5,87,0.501541184728538),(5,89,2.35365611743522),(5,92,0.170392468031861),(5,93,2.15062410351878),(5,99,3.20265816217536),(5,104,3.15334025086215),(5,114,1.96848200933866),(5,118,-1.67387157811212),(6,89,-1.21847437971129),(6,92,-1.23947111423078),(6,94,-1.47011474959563),(6,100,-1.19183935056612),(6,101,1.38678395947142),(6,103,0.238494521927549),(6,107,0.518356883449812),(6,110,-0.587870418408765),(6,113,-0.838373973815119),(7,85,-1.85613574633015),(7,86,-1.90047914059877),(7,90,1.71475875118259),(7,95,-1.27519302957244),(7,99,1.52185125278481),(7,100,1.31140324106571),(7,104,0.13814966277047),(7,106,1.26499221778008),(7,108,0.511261329996643),(7,112,2.78326517532884),(7,116,1.10148930326243),(8,92,-1.82759331034272),(8,93,2.41950743125706),(8,95,0.138027588732566),(8,99,0.149311807611316),(8,106,1.67300180059206),(8,107,-3.30619220557268),(8,115,-0.602282784508805),(8,116,2.67810602130192),(8,118,-1.17137668996246),(9,85,-2.72360148930326),(9,87,-1.72356334116642),(9,98,-1.57627338480789),(9,101,-2.32016205328532),(9,103,1.49761955626087),(9,105,-2.10722678304392),(9,106,0.340937528611103),(9,113,1.83487197485275),(10,89,-1.97709585863826),(10,96,-1.42207861568041),(10,106,4.04596087527085),(10,108,0.488296151615955),(10,111,-0.328920865504928),(10,112,0.686056093020417),(10,114,0.033021027253029),(10,115,0.979026154362621),(10,116,-1.63113803521836),(10,117,0.359126560258797),(11,89,-1.3167210913419),(11,97,0.412968840601825),(11,105,0.63570818201239),(11,112,1.11204107791375),(11,115,-3.00122837000641),(12,92,0.335139011810663),(12,93,1.31969664601581),(12,94,-1.75653096102786),(12,97,-2.71680349131748),(12,98,2.06289864803003),(12,99,1.17818994720298),(12,108,0.0236289559617908),(12,116,-0.852290414136174),(13,86,0.69960631122776),(13,87,-0.710676900540178),(13,90,1.60168004394665),(13,99,-0.229750968962676),(13,102,-1.06334116641743),(13,104,0.344828638569292),(13,113,1.07470931119724),(13,116,-3.34623249000519),(13,118,0.692312387462996),(14,90,-1.64471877193518),(14,93,-0.472273934141057),(14,95,-1.06318857387005),(14,102,-0.27950376903592),(14,104,2.03596606341746),(14,106,1.76043733024079),(14,109,1.4629352702414),(14,110,1.70482497634816),(14,111,-2.19854579302347),(15,85,0.365459150975066),(15,92,1.30097354045228),(15,99,1.64032410657064),(15,101,-2.67769402142399),(15,104,-3.07290108951079),(15,108,0.509460737937559),(15,117,2.91480758079775),(16,86,-1.11644337290567),(16,87,-2.36114841151158),(16,88,1.96311838129826),(16,90,-2.16829432050539),(16,91,0.084765160069582),(16,95,0.625621814630573),(16,97,-3.22463148899808),(16,98,1.13583025605029),(16,99,1.29680776390881),(16,101,2.14328440198981),(16,108,-1.75092318491165),(16,110,-0.18565172276986),(17,89,-2.195806756798),(17,96,1.51264229255043),(17,99,0.516693624683371),(17,101,0.300431836909085),(17,106,2.65334788048952),(17,107,-0.66254921109653),(17,109,-0.56595049897763),(18,90,-0.410542619098483),(18,91,-1.85243537705618),(18,93,0.664128543961913),(18,99,2.52025666066469),(18,102,2.21778771324808),(18,103,0.266266365550707),(18,104,-0.587710196234016),(18,110,1.29540391247291),(18,111,-1.40751365703299),(18,116,0.222060304574724),(18,117,-1.90584276863918),(18,118,1.93180639057588),(19,87,-0.497054963835566),(19,89,-0.454191717276528),(19,93,-0.946417126987518),(19,95,-0.337534714804529),(19,101,0.575907162694174),(19,105,-1.73373363444929),(19,115,0.334940641499069),(20,88,-0.73071230201117),(20,101,-0.326883754997406),(20,103,3.48935666982025),(20,104,1.1244087038789),(20,105,-0.701269569994202),(20,106,-0.158452101199377),(20,111,-2.18146305734428),(20,116,1.37470625934629),(21,86,3.88851588488418),(21,87,1.19280068361461),(21,94,-1.22554704428236),(21,96,-0.893581957457198),(21,101,1.9083223975341),(21,102,1.33078249458296),(21,105,2.8300347911008),(21,107,1.45509201330607),(21,108,-2.1056550798059),(22,86,-0.230567339091159),(22,88,-1.38457136753441),(22,91,-1.15705587939085),(22,92,-0.120937223426008),(22,93,2.93363750114444),(22,98,-0.708365123447371),(22,106,-3.96758934293649),(22,115,1.19291512802515),(22,117,-2.02902310251167),(23,85,-1.68174535355693),(23,86,-3.90519425031281),(23,88,-3.0719626453444),(23,90,1.52664265877255),(23,97,1.88911099581896),(23,104,1.77272865993225),(23,112,-1.12151707510605),(23,114,-0.236007263405255),(23,115,0.0720236823633534),(23,116,0.318140202032533),(24,89,2.24715414899136),(24,90,-4.7085558641316),(24,91,2.40919217505417),(24,101,1.56768242439039),(24,107,1.77008117923521),(24,108,-0.474410229804376),(24,110,0.838877529221473),(24,112,-2.37753685110019),(25,90,1.47949156163213),(25,92,0.981772820215461),(25,94,0.648350474562822),(25,98,-3.07215338602863),(25,105,-1.76740318002869),(25,108,1.90267647328104),(25,109,0.849307229834895),(25,115,0.344042786950285),(26,85,1.45003357036042),(26,87,0.685155796990875),(26,89,-0.353213599047822),(26,95,-2.75728629413739),(26,98,-0.968756675923948),(26,100,1.82210760826441),(26,101,-1.69735557115391),(26,102,-2.49432355723746),(26,103,0.904995880001221),(26,104,2.42602313303018),(26,107,2.08684804834132),(26,109,-0.560045167394024),(26,112,2.20509201330607),(26,113,-0.968657490768151),(26,117,-0.916165654469436),(27,85,-0.76097903378399),(27,87,-1.04467909787286),(27,94,2.05534531693472),(27,100,4.03343302713096),(27,102,2.62783440656758),(27,103,1.34281441694388),(27,104,0.805146946623127),(27,105,-2.0291146580401),(27,108,2.22914822840053),(27,110,0.490836817529832),(27,114,-1.29094058046205),(28,87,-1.26444288460952),(28,88,-0.405514694662313),(28,97,-1.53466139713736),(28,99,0.376430555131687),(28,104,-0.586169011505478),(28,113,2.26836451307718),(28,114,0.899555955687124),(29,88,-1.13162633136998),(29,91,-2.33457441938536),(29,102,2.84568315683462),(29,105,0.00292214728232687),(29,116,-1.18819238868374),(30,95,-0.759468367564928),(30,96,0.904599139378033),(30,99,1.52370525223548),(30,101,0.937528611102634),(30,104,2.02383495590075),(30,109,-2.85871456038087),(30,110,-0.325106051820429),(30,114,0.347178563798944),(30,118,-0.832857753227332),(31,85,1.71638386181219),(31,92,1.67094180120243),(31,94,-1.50736259041108),(31,96,-1.22269356364635),(31,99,-0.394680623798334),(31,103,-0.328699606311228),(31,107,-0.32418286690878),(31,108,2.05566576128422),(31,109,1.97534104434339),(31,111,1.19151890621662),(31,112,-0.0294885097811823),(31,117,-1.76695303201392),(32,86,1.81478316599017),(32,87,0.193510238959929),(32,89,2.11775566881314),(32,92,-1.16176335947752),(32,98,3.17511520737327),(32,99,-1.28069399090548),(32,104,-1.66788232062746),(32,106,0.0406811731315042),(32,109,0.708120975371563),(32,116,0.440580462050233),(32,118,-0.67307046723838),(33,96,0.347003082369457),(33,98,-2.13348033082064),(33,108,2.69185460982086),(33,110,-2.30196539201025),(33,111,-0.162579729606006),(33,114,0.10498367259743),(34,85,1.76101718192083),(34,90,1.2548982207709),(34,99,-1.20532853175451),(34,104,1.11127048554949),(34,109,-2.13383129367962),(35,86,0.21691030610065),(35,87,0.438978240302744),(35,97,-2.18993194372387),(35,98,1.13608966338084),(35,100,0.609538560136723),(35,104,-0.870609149449141),(35,107,0.747245704519791),(35,109,-0.334879604480117),(35,110,-0.19350260933256),(35,112,0.75724051637318),(36,85,-1.13473158970916),(36,87,-0.679723502304147),(36,90,-1.01172673726615),(36,91,1.19193853572191),(36,104,-1.22573778496658),(36,107,1.59060182500687),(36,109,-1.39549699392682),(36,112,-0.771309549241615),(36,115,2.59937589648122),(36,117,-1.13151951658681),(36,118,1.35011597033601),(37,85,0.370113223670156),(37,86,0.187955870235298),(37,87,1.65116580706198),(37,91,-1.16393780327769),(37,99,1.96142460402234),(37,105,2.19577623828852),(37,111,2.56955931272317),(37,112,-0.466788232062746),(37,118,-0.834788048951689),(38,87,1.24071474349193),(38,90,3.14007232886746),(38,103,-0.601672414319285),(38,105,2.90891750846889),(38,106,0.607509079256569),(38,111,0.290925321207312),(38,115,-0.487075411236915),(39,87,1.62974181340983),(39,89,-1.30428479873043),(39,91,1.18297372356334),(39,94,1.15825373088778),(39,97,1.35337382122257),(39,98,-1.35115359965819),(39,107,0.0592059083834345),(39,108,0.522408215582751),(39,109,0.996604815820795),(39,111,-0.139790032654805),(39,113,3.94465468306528),(39,116,-1.78584398937956),(39,118,-0.352938932462538),(40,88,1.78469191564684),(40,92,-3.17651905880917),(40,99,0.364589373455),(40,104,1.65868099002045),(40,110,-0.463637195959349),(40,116,-1.7746360667745),(40,118,-0.910748619037447),(41,88,-1.73329874568926),(41,93,0.295190282906583),(41,96,-0.528725547044282),(41,97,-1.76499984740745),(41,100,-0.443472090823084),(41,101,-1.80737479781487),(41,104,-1.01850947599719),(41,105,1.01625873592334),(41,106,0.408108767967772),(41,107,-1.93414868617817),(41,109,-1.14899899288919),(41,110,-0.473555711539048),(41,111,0.643627735221412),(41,112,0.823625904110843),(42,85,-0.0998413037507249),(42,86,-0.61383404034547),(42,87,0.804605243079928),(42,99,1.22413556321909),(42,100,-1.197233497116),(42,103,-3.79402294991913),(42,109,-0.379428998687704),(42,113,-0.942487868892483),(43,85,1.64934232612079),(43,88,-0.689603869747002),(43,89,-2.46574297311319),(43,93,-0.543237098300119),(43,97,-4.19016846217231),(43,98,-0.668782616657003),(43,101,1.36608478041932),(43,102,3.93297372356334),(43,103,-1.70148319956053),(43,105,-0.86886196478164),(43,110,-1.25517288735618),(43,112,-0.0665303506576739),(43,114,-3.90234839930418),(43,116,0.717261268959624),(44,89,-0.673543504135258),(44,98,1.26762443922239),(44,99,-1.97041230506302),(45,87,-0.252906888027589),(45,88,1.45657216101566),(45,90,-2.4808038575396),(45,91,-0.032143620105594),(45,95,1.91351054414502),(45,98,-3.11947996459853),(45,108,-1.39949491866817),(45,109,-1.96279793694876),(45,112,2.84739982299265),(45,115,0.0202795495468002),(46,85,-2.61908322397534),(46,89,3.24391155735954),(46,91,3.79361857966857),(46,94,-1.14843440046388),(46,97,1.97396771141697),(46,100,-2.40137180700095),(46,101,0.562547685171056),(46,108,1.26583147679067),(46,112,-0.172917874691),(47,86,-1.84690389721366),(47,91,-3.42144535660878),(47,92,1.19433423871578),(47,94,1.98773918881802),(47,95,0.11276589251381),(47,100,-0.817667165135655),(47,101,0.751594592120121),(47,104,-2.81006805627613),(47,105,-1.64038514358959),(47,108,0.632190923795282),(47,112,-0.864902188177129),(47,114,0.468382824182867),(47,118,-1.00304422132023),(48,86,-2.16788995025483),(48,91,-0.384517960142827),(48,98,0.490897854548784),(48,99,0.455458235419782),(48,100,1.56405072176275),(48,103,-3.78371532334361),(48,105,-3.08131656849879),(48,106,-1.80878627887814),(48,111,-0.423116245002594),(48,115,-0.429967650379955),(49,87,-1.48927274391919),(49,89,-0.359202856532487),(49,93,0.00254066591387678),(49,94,3.1712927640614),(49,95,2.20334482863857),(49,102,-0.762031922360912),(49,113,-0.41460921048616),(49,114,2.80961790826136),(50,89,0.73581652272103),(50,105,1.81922360911893),(50,107,-1.55771050141911),(51,87,-2.48948637348552),(51,92,-0.965224158452101),(51,97,0.374156926175726),(51,98,2.43858149967956),(51,103,-2.85408337656789),(51,106,3.29135258033998),(51,112,-0.525452436902982),(51,118,-1.29277932065798),(52,89,2.03521073030793),(52,97,-0.0504242072817165),(52,106,-1.14978484450819),(52,110,-2.00678273873104),(52,111,-1.05054628131962),(52,113,-1.62694174016541),(52,114,0.819727164525285),(52,118,0.226569414349803),(53,88,1.60572374645222),(53,90,-0.421918393505661),(53,92,-1.20181890316477),(53,94,0.934705648976104),(53,104,0.205618457594531),(53,105,2.33453627124851),(53,109,2.22113711966308),(54,85,-1.97072511978515),(54,91,1.75382244331187),(54,94,1.26601458784753),(54,96,2.27103488265633),(54,111,2.36713003936888),(54,112,-1.52270577105014),(54,113,-1.95702230903043),(54,118,-0.484740745262002),(55,87,2.53827784051027),(55,95,-1.26873073519089),(55,107,-2.05206457716605),(55,110,0.165562913907285),(55,117,-1.54828028199103),(56,107,-2.11383404034547),(56,111,-0.177701651051363),(56,113,-2.86861018707846),(56,114,-1.98011719107639),(57,87,0.981872005371258),(57,90,3.01017029328288),(57,91,0.381633960997345),(57,92,-2.692312387463),(57,93,2.53911709952086),(57,94,-2.34336375011444),(57,95,0.344172490615558),(57,96,-0.446745200964385),(57,100,3.09974211859493),(57,102,-1.62770470290231),(57,103,-1.90195165868099),(57,115,-2.45281075472274),(58,86,-0.242996002075259),(58,87,1.93810846278268),(58,89,2.22206793420209),(58,90,1.8740653706473),(58,95,-2.15816980498672),(58,96,-0.371944334238716),(58,101,-0.435522019104587),(58,103,0.330988494521928),(58,109,-0.923032319101535),(58,110,1.2518692587054),(58,113,-2.53783532212287),(58,114,2.69402142399365),(58,115,0.1044495986816),(59,85,-0.257354960783715),(59,86,-0.782570879238258),(59,90,-0.0149006622516556),(59,91,2.63473921933653),(59,93,-0.670812097537156),(59,97,-1.47646259956664),(59,98,2.06609546189764),(59,100,1.55645161290323),(59,102,0.0730460524307994),(59,112,-0.667668691061129),(59,114,-0.355784783471175),(60,85,0.962324900051881),(60,87,1.24017303994873),(60,90,-0.903904843287454),(60,91,-0.454992828150273),(60,96,-0.739082003234962),(60,100,-1.49679555650502),(60,101,-2.23631244850002),(60,105,0.528008362071596),(60,107,-0.77775658436842),(60,109,-0.289765617847224),(60,110,0.0357600634784998),(60,114,-2.99372081667531),(61,89,-2.49076052125614),(61,94,-4.52095095675527),(61,96,-0.136280404065066),(61,98,1.46996215704825),(61,100,1.57998138370922),(61,102,-0.598696859645375),(61,103,-2.43812372203742),(61,114,1.42503891109958),(61,115,1.51844843897824),(62,93,0.887577440717795),(62,95,1.96462904751732),(62,107,-3.68007446516312),(62,109,-3.62175359355449),(62,110,1.3769188512833),(62,111,-0.551263466292306),(63,87,-0.325884273812067),(63,90,1.13887447737053),(63,93,0.299768059327982),(63,97,3.6123004852443),(63,100,0.524124881740776),(63,103,-1.69615771965697),(63,104,-1.55781731620228),(63,108,1.06615649891659),(63,111,-1.53551591540269),(63,114,0.850619525742363),(63,117,-0.700178533280434),(64,87,2.76669362468337),(64,94,-1.74491866817225),(64,99,0.869762260811182),(64,110,-0.103205969420454),(64,112,-1.0582064271981),(64,116,-0.101886043885617),(65,87,1.85065004425184),(65,88,1.10588396862697),(65,90,0.409329508346812),(65,97,0.42223120822779),(65,99,-0.477904599139378),(65,107,0.559945982238228),(65,110,-4.32296212652974),(65,111,-1.86071352275155),(65,114,-1.84299752800073),(65,116,-0.098780785546434),(65,117,1.8862727744377),(66,85,-0.463118381298257),(66,102,1.23724326303903),(66,105,0.760322885830256),(66,108,1.42873928037355),(66,111,-2.29377880184332),(66,115,3.39982299264504),(66,118,0.0691091647083957),(67,86,-1.8855098117008),(67,90,0.989318521683401),(67,92,-1.41781365398114),(67,104,3.63425092318491),(67,109,0.975997192297128),(67,111,0.968482009338664),(68,87,2.48471022675253),(68,88,1.86484878078555),(68,90,2.19779808954131),(68,93,0.135830256050295),(68,95,1.89223914304025),(68,96,-0.584444715720084),(68,97,0.697645496993927),(68,103,0.149922177800836),(68,107,0.181508835108493),(68,112,-0.00816370128482935),(68,114,0.812990203558458),(69,87,-2.15758232367931),(69,88,-1.18538468581195),(69,92,-2.33245338297678),(69,94,-0.21248512222663),(69,95,2.78767509994812),(69,97,0.284760582293161),(69,108,-0.15820795312357),(69,113,1.57506027405621),(69,114,0.965140232551042),(69,118,0.607013153477584),(70,85,-1.98508407849361),(70,86,2.14934232612079),(70,87,-1.69315164647359),(70,90,2.22849208044679),(70,96,-0.860736411633656),(70,97,-1.86140018921476),(70,99,2.18580431531724),(70,105,-0.891148106326487),(70,107,1.16663106173894),(70,109,-1.60541856135746),(70,110,-3.24118015076144),(70,111,-3.2198019348735),(71,85,2.42057557908872),(71,93,0.452436902981658),(71,96,2.40669728690451),(71,100,0.832399975585192),(71,104,3.04319132053591),(71,106,-0.282296212652974),(71,111,1.19638660847804),(71,113,-1.48239844965972),(72,94,0.847300637836848),(72,96,0.881008331553087),(72,99,1.47945341349528),(72,110,-0.559327982421339),(72,112,-1.35898922696615),(72,114,1.70067445905942),(72,115,-0.800653096102786),(72,116,-2.09662160100101),(73,88,1.38573870052187),(73,94,1.97140415662099),(73,99,-1.62789544358654),(73,100,-1.82140568254646),(73,106,0.670453505050813),(73,110,-0.0915936765648364),(73,115,-1.44895779290139),(74,90,-2.24562059389019),(74,94,-2.77233191930906),(74,99,1.07261116367077),(74,102,0.54551835688345),(74,106,1.1046708578753),(74,107,-1.42098757896664),(74,110,-2.47865993224891),(74,113,-0.244117557298502),(74,116,-2.93819238868374),(75,85,-0.659306619464705),(75,86,0.415128025147252),(75,93,-2.49413281655324),(75,98,-0.406506546220283),(75,103,2.19223609118931),(75,105,1.32334360789819),(75,111,-3.69218268379772),(75,117,-2.55192724387341),(76,86,-3.35856959746086),(76,89,0.11299478133488),(76,92,-2.56249427777947),(76,94,-0.163197729422895),(76,99,0.0827509384441665),(76,101,-0.905674916837062),(76,103,1.23084963530381),(76,106,-0.748207037568285),(76,110,-1.90797143467513),(76,113,-0.682660908841212),(77,88,1.01583910641804),(77,91,0.375957518234809),(77,93,-1.11629078035829),(77,98,1.58500167851802),(77,101,-2.56175420392468),(77,102,-0.752563554795984),(77,103,0.826822717978454),(77,104,-0.349513229773858),(77,105,0.566400646992401),(77,109,1.10758537553026),(78,88,-1.67190313425092),(78,93,-2.22348704489273),(78,94,1.42694631794183),(78,101,0.976226081118198),(78,104,0.02363658558916),(78,110,-1.30898464918973),(78,114,3.57787560655538),(78,116,-1.68565172276986),(78,117,-0.90233314004944),(78,118,0.578119754631184),(79,87,1.49809259315775),(79,92,-1.404805139317),(79,94,3.23764000366222),(79,107,0.119998779259621),(79,108,-1.60820337534715),(79,114,-2.22945341349528),(79,118,-2.23893704031495),(80,87,-1.50259407330546),(80,88,-1.17763298440504),(80,91,-1.55650502029481),(80,99,3.0663014618366),(80,101,-1.94048890652181),(80,107,2.95501571703238),(80,113,-0.546014282662435),(81,85,-1.77568132572405),(81,86,-0.222907193212683),(81,90,-0.713904232917264),(81,93,1.13940855128636),(81,96,2.32459486678671),(81,97,-0.616779076509903),(81,106,-0.224921414838099),(81,107,-0.526375621814631),(81,110,0.833155308694723),(81,115,0.493125705740532),(82,86,1.49944303720206),(82,92,-0.322107608264412),(82,110,-3.71913052766503),(82,112,2.08230842005676),(83,87,-1.5385906552324),(83,91,-2.22945341349528),(83,93,-0.629970702230903),(83,101,-0.419705801568651),(83,103,0.857951597643971),(83,105,1.66122928556169),(83,108,-2.4649037141026),(84,85,-2.51792199468978),(84,86,-1.90610980559709),(84,89,-1.66443372905667),(84,95,-0.120113223670156),(84,99,-0.443014313180944),(84,104,3.1552705465865),(84,111,2.03550065614795),(84,113,0.330050050355541),(84,114,0.594195379497665),(10,119,1.80626850184637),(119,109,2.0449156163213),(58,120,-1.93836024048585),(120,118,-1.97756126590777),(95,104,0.0402691732535784)]
orgname='BHNEAT_10_10'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()