edge = [(0,85,3.50325022125919),(0,89,-2.55494094668416),(0,90,-1.40575884273812),(0,93,1.68391216772973),(0,98,1.92053743095187),(0,101,-4.8751716666158),(0,105,-1.12190618610187),(0,108,2.83875545518357),(0,113,0.765243995483261),(0,114,-0.0739921262245558),(0,117,-1.82302316354869),(0,118,-0.716345713675344),(1,86,2.74514755699332),(1,92,-0.379444257942442),(1,98,-1.05590227973266),(1,102,0.377201147495956),(1,104,-2.35981322672201),(1,107,-2.94200720236824),(1,108,-0.459532456434828),(1,109,-2.98403881954405),(1,113,-1.93746757408368),(2,87,2.10014648884548),(2,88,2.91581469161046),(2,100,-0.560869167149876),(2,106,-0.833834345530564),(2,108,4.42267372661519),(2,110,2.42233039338359),(2,113,0.677999206518754),(2,118,1.84462263863033),(3,89,-2.12271492660298),(3,92,-3.31693472090823),(3,97,-1.54583880123295),(3,99,2.55861842707602),(3,101,-1.17969298379467),(3,103,0.68473616748558),(3,105,1.45797601245155),(3,108,-0.515945921201209),(3,109,0.00474562822351765),(3,111,1.16858424634541),(3,112,-0.759689626758629),(3,116,-1.42079683828242),(4,90,-1.78037354655599),(4,91,-1.88222144230476),(4,97,-2.490302743614),(4,99,0.740424817651906),(4,101,-2.41553239539781),(4,108,0.545861690115055),(4,113,-1.51669362468337),(4,118,1.14886165959655),(5,86,0.434179204687643),(5,87,-0.463263344218268),(5,89,2.3485671559801),(5,92,0.593203527939695),(5,93,-1.2225104525895),(5,99,-0.227362895596179),(5,104,0.656468398083438),(5,114,1.9510483108005),(5,118,-0.712500381481368),(6,89,2.28293710135197),(6,92,2.46345408490249),(6,94,-1.99545274208808),(6,100,1.75811792352062),(6,101,-2.29130680257576),(6,103,-3.75778984954375),(6,107,2.53415784173101),(6,110,2.52990050965911),(6,113,-1.5439313943907),(7,85,1.16634113589892),(7,86,-1.17611468855861),(7,90,0.0559862056337166),(7,95,1.58764915921506),(7,99,1.43662831507309),(7,100,-0.367725150303659),(7,104,-1.70796075319681),(7,106,-0.408261360515152),(7,108,0.644459364604633),(7,112,2.11387218848231),(7,116,-0.342608417004913),(8,92,-3.28710287789544),(8,93,1.74769585253456),(8,95,1.00536362804041),(8,99,-2.80063020722068),(8,106,-1.37644581438643),(8,107,2.20685445722831),(8,115,2.8897671437727),(8,116,0.851611377300333),(8,118,0.799890133365886),(9,85,-2.1259346293527),(9,87,0.396824549089022),(9,98,-1.0353175450911),(9,101,-2.06938383129368),(9,103,-1.37619403668325),(9,105,-0.419415875728629),(9,106,0.577265236365856),(9,113,0.67047639393292),(10,89,-1.71582689901425),(10,96,-0.947004608294931),(10,106,1.6686605426191),(10,108,-1.53614917447432),(10,109,-2.08769493697928),(10,111,1.17089602343822),(10,112,0.753807184057131),(10,114,-0.420819727164525),(10,115,-0.878635517441328),(10,116,0.280961027863399),(10,117,-0.374355296487319),(11,89,-1.34899441511277),(11,97,2.6135059663686),(11,105,2.52823725089267),(11,112,-2.06167790765099),(11,115,-1.15634632404553),(12,92,1.63962981048006),(12,93,-0.719550157170324),(12,94,0.48657948545793),(12,97,0.841624195074313),(12,98,-0.133007293923765),(12,99,-0.489974669637135),(12,108,1.60158848841823),(12,116,1.44689779351177),(13,86,2.21485030671102),(13,87,1.48532059694205),(13,90,-2.49015778069399),(13,99,0.793572801904355),(13,102,1.82546464430677),(13,104,-1.5596331675161),(13,113,-2.58378856776635),(13,116,-3.44606616412854),(13,118,1.84274575029756),(14,90,-2.36582537308878),(14,93,-1.48373363444929),(14,95,-0.698416089358196),(14,102,0.666920987578967),(14,104,-0.681974242378002),(14,106,1.00360118411817),(14,109,1.63449507126072),(14,110,-0.315942869350261),(14,111,-4.20143742179632),(15,85,0.156407361064486),(15,92,-0.66903439436018),(15,99,0.332758568071535),(15,101,1.23424481948302),(15,104,-2.53878902554399),(15,108,-1.82807397686697),(15,117,0.773438215277566),(16,86,1.43574327829829),(16,87,-1.02688680684835),(16,88,0.789719840083011),(16,90,1.98820459608753),(16,91,1.67336802270577),(16,95,0.218123416852321),(16,97,1.12742240668966),(16,98,1.99446089053011),(16,99,-1.71549882503739),(16,101,0.528397473067415),(16,108,-2.07121494186224),(16,110,0.537484359263893),(17,89,2.42532120731223),(17,96,-0.879436628315073),(17,99,-2.15661336100345),(17,101,0.690206610309153),(17,106,1.73157444990387),(17,107,-1.16389202551347),(17,109,-1.24439222388379),(18,90,1.08070619830927),(18,91,1.08386486404004),(18,93,2.31285287026582),(18,99,-2.04897457808161),(18,102,-0.856265449995422),(18,103,-1.80229346598712),(18,104,4.29757835627308),(18,110,0.598475600451674),(18,111,-3.87937559129612),(18,116,-2.01502273628956),(18,117,4.1917935728019),(18,118,-3.83304086428419),(19,87,0.032273323770867),(19,89,-0.504020813623463),(19,93,-1.01268044068728),(19,95,1.19304483169042),(19,101,0.0257881405072176),(19,105,1.29671620838038),(19,115,-2.4778740806299),(20,88,2.46002075258644),(20,101,1.73406170842616),(20,103,-0.06122013000885),(20,104,0.746177556688131),(20,105,-2.21266060365612),(20,106,1.98921170690024),(20,111,-3.49017303994873),(20,116,2.41401409955138),(21,86,1.48545030060732),(21,87,-0.515968810083316),(21,94,-0.218001342814417),(21,96,1.15302743614002),(21,101,2.70786156804102),(21,102,-1.67131565294351),(21,105,-0.618373668630024),(21,107,3.21250038148137),(21,108,-2.09154026917325),(22,86,-0.953550828577532),(22,88,-2.29080324716941),(22,91,0.0971022675252541),(22,92,1.21660512100589),(22,93,-2.01155125583667),(22,98,-2.60069582201605),(22,106,-0.23094119083224),(22,115,-0.807443464461196),(22,117,-0.750526444288461),(23,85,0.635624256111331),(23,86,-3.25614947965941),(23,88,1.25400555436872),(23,90,-1.16653950621052),(23,97,-0.800195318460646),(23,104,-0.170216986602374),(23,112,-1.2416074098941),(23,114,-0.500602740562151),(23,115,-0.790429395428327),(23,116,-0.512649922177801),(24,89,1.65443891720328),(24,90,2.304834131901),(24,91,-1.65746024964141),(24,101,-1.03341013824885),(24,107,-2.434682760094),(24,108,2.00576799829096),(24,110,1.44672994170965),(24,112,-1.31448561052278),(25,90,0.186239204077273),(25,92,-2.31904812768944),(25,94,-1.07615894039735),(25,98,-0.391788995025483),(25,105,-0.830416272469253),(25,108,0.605792413098544),(25,109,1.61234626300851),(25,115,-0.15660573137608),(26,85,0.208548234504227),(26,87,0.562204351939451),(26,89,-1.68156987212745),(26,95,-0.770187994018372),(26,98,-3.25268562883389),(26,100,-0.892437513351848),(26,101,1.51525162511063),(26,102,-0.942190313425092),(26,103,-3.25460066530351),(26,104,3.48970000305185),(26,107,2.7424924466689),(26,109,-1.13298440504166),(26,112,-4.45564897610401),(26,113,0.396717734305856),(26,117,-1.13215277565844),(27,85,2.43606372264779),(27,87,0.720252082888272),(27,94,1.60504470961638),(27,100,0.0311593981749931),(27,102,0.168233283486435),(27,103,-3.61415448469497),(27,104,-2.47749259926145),(27,105,1.18303476058229),(27,108,-1.78128910184027),(27,110,-0.21668141727958),(27,114,-1.43895535142064),(28,87,0.459204382457961),(28,88,-2.27130954924162),(28,97,-1.20731223487045),(28,99,-3.39752647480697),(28,104,1.85757774590289),(28,113,0.392208624530778),(28,114,1.19886623737297),(29,88,-1.95709097567675),(29,91,2.46957304605243),(29,102,0.213881344035157),(29,105,-2.33513901181066),(29,116,-2.31591235084078),(30,95,1.20281838435011),(30,96,2.40725424970244),(30,99,1.92197943052461),(30,101,3.48100985747856),(30,104,-0.838724936674093),(30,109,2.20258949552904),(30,110,0.439497054963836),(30,114,-1.96592608417005),(30,118,2.26034577471236),(31,85,-2.4322946867275),(31,92,-0.954664754173406),(31,94,-0.165959654530473),(31,96,0.459486678670614),(31,99,-2.18691824091311),(31,103,0.423123874629963),(31,107,-0.197721793267617),(31,108,0.796967986083559),(31,109,-2.34426404614399),(31,111,-0.296960356456191),(31,112,-0.224997711111789),(31,117,-0.458777123325297),(32,86,-0.103228858302561),(32,87,-1.83111056855983),(32,89,0.0184484389782403),(32,92,-0.403912472914823),(32,98,-0.975936155278176),(32,99,-0.0754417554246651),(32,104,0.162656025879695),(32,106,-1.63228247932371),(32,109,-1.09784997100742),(32,116,-1.40704824976348),(32,118,2.03314310129093),(33,96,-2.12439344462416),(33,98,0.0835749382000183),(33,108,-1.13620410779138),(33,110,-3.53756828516495),(33,111,-1.93589587084567),(33,114,-1.28195287942137),(34,85,0.707670827356792),(34,90,-0.396046327097384),(34,99,0.80877864925077),(34,104,0.757599108859523),(34,109,-0.581331827753532),(35,86,2.22087008270516),(35,87,-1.48017822809534),(35,97,0.108073671681875),(35,98,1.85518204290902),(35,100,-0.110957670827357),(35,104,1.34579760124516),(35,107,0.85216834009827),(35,109,0.680700094607379),(35,110,-2.53114413892026),(35,112,0.457625049592578),(36,85,1.97721793267617),(36,87,-2.65609454634236),(36,90,0.608462782677694),(36,91,-1.50753807184057),(36,104,-2.17177343058565),(36,107,1.05492568742943),(36,109,-0.717070528275399),(36,112,-1.16155735953856),(36,115,0.0896481215857419),(36,117,1.96211127048555),(36,118,1.29705191198462),(37,85,2.11050752281259),(37,86,-1.85716574602496),(37,87,2.26966154972991),(37,91,3.16381572923978),(37,99,0.0534073915829951),(37,105,0.969176305429243),(37,111,-2.80467390972625),(37,112,2.30437635425886),(37,118,-0.845126194036683),(38,87,-1.82437360759301),(38,90,-0.184156315805536),(38,103,-0.661343729972228),(38,105,0.889713736381115),(38,106,0.912617877742851),(38,111,0.331759086886197),(38,115,-1.75962096011231),(39,87,1.04840235602893),(39,89,1.73093356120487),(39,91,-0.096972563859981),(39,94,1.60249641407514),(39,97,-1.7055269020661),(39,98,1.26952421643727),(39,107,0.694090090639973),(39,108,-0.55085146641438),(39,109,-0.461516159550768),(39,111,0.911648915066988),(39,113,2.68126468703269),(39,116,0.413754692220832),(39,118,-1.0397961363567),(40,88,-0.99268318735313),(40,92,1.00272377697073),(40,99,1.64335306863613),(40,104,-1.37649159215064),(40,110,-0.375858333079012),(40,116,0.516083254493851),(40,118,1.74489577929014),(41,88,-2.22087008270516),(41,93,-2.17249061555834),(41,96,0.870395519882809),(41,97,1.29135258033998),(41,100,2.28740043336283),(41,101,-1.82732627338481),(41,104,-0.564531388286996),(41,105,2.06063264870144),(41,106,1.98797570726646),(41,107,-1.27563554795984),(41,109,-1.68486587115085),(41,110,0.658452101199378),(41,111,0.730445265053255),(41,112,-1.00072481460005),(42,85,-0.575243385113071),(42,86,4.04878383739738),(42,87,-0.765167699209571),(42,99,0.106242561113315),(42,100,-2.81673635059664),(42,103,-1.67878505813776),(42,109,-2.72161015655995),(42,113,2.91205328531754),(43,85,1.56057161168249),(43,88,1.08165227210303),(43,89,1.53501998962371),(43,93,-0.319879757072665),(43,97,-1.71007415997803),(43,98,-3.61736655781732),(43,101,0.596652119510483),(43,102,0.367572557756279),(43,103,1.02381969664602),(43,105,-3.82602923673208),(43,110,-1.96935178685873),(43,112,0.541032135990478),(43,114,-3.11592455824458),(43,116,0.338984344004639),(44,89,0.632419812616352),(44,98,-0.0576418347727898),(44,99,-1.07661671803949),(45,87,1.03329569383831),(45,88,1.82956175420392),(45,90,-1.06199072237312),(45,91,-0.895290993987854),(45,95,0.485015411847285),(45,98,0.410901211584826),(45,108,-0.900822473830378),(45,109,1.07585375530259),(45,112,3.06396679586169),(45,115,-2.03327280495621),(46,85,-0.120578630939665),(46,89,-0.585581530198065),(46,91,0.403180028687399),(46,94,-2.27334665974914),(46,97,-0.783082064271981),(46,100,-1.8218634601886),(46,101,-0.554063539536729),(46,108,-0.672627948850978),(46,112,-0.742927335428938),(47,86,-0.140621662038026),(47,91,0.407902768028809),(47,92,0.257637256996369),(47,94,0.468611713003937),(47,95,0.464758751182592),(47,100,-0.361949522385327),(47,101,-1.06276894436476),(47,104,1.51295510727256),(47,105,-2.17841120639668),(47,108,-0.282525101474044),(47,112,0.440404980620746),(47,114,-3.12765129551073),(47,118,1.85659352397229),(48,86,-2.52945799127171),(48,91,0.306833094271676),(48,98,2.36465804010132),(48,99,0.117572557756279),(48,100,2.28583635975219),(48,103,-0.256767479476302),(48,105,-0.633793145542772),(48,106,-3.93859675893429),(48,111,-0.00459303567613772),(48,115,-1.67744987334819),(49,87,-0.279725028229621),(49,89,2.39868617816706),(49,93,-2.00923947874386),(49,94,0.0936155278176216),(49,95,1.25144199957274),(49,102,0.511314737388226),(49,113,1.43084505752739),(49,114,-1.85372478408155),(50,89,2.08937345500046),(50,105,0.286950285348064),(50,107,-0.291146580401013),(51,87,3.88232062746055),(51,92,-1.38502914517655),(51,97,1.03033539841914),(51,98,-0.54857020783105),(51,103,1.16501358073672),(51,106,-0.328791161839656),(51,112,0.0517288735618151),(51,118,2.04703665272988),(52,89,-0.544251838740196),(52,97,0.447309793389691),(52,106,-2.25226599932859),(52,110,-0.064775536362804),(52,111,0.968657490768151),(52,113,0.85330515457625),(52,114,0.158024842066713),(52,118,-0.218909268471328),(53,88,-0.219435712759789),(53,90,0.693990905484176),(53,92,-1.90234839930418),(53,94,0.519005401776177),(53,104,0.699110385448775),(53,105,0.24146244697409),(53,109,-1.75099948118534),(54,85,1.00747703482162),(54,91,-0.0021362956633198),(54,94,0.860034485915708),(54,96,0.554521317178869),(54,111,1.42014069032868),(54,112,1.33508560441908),(54,113,-0.711157567064425),(54,118,-1.65916165654469),(55,87,1.92031617175817),(55,95,0.850817896053957),(55,107,1.88840907010102),(55,110,-1.40087588122196),(55,117,0.792413098544267),(56,107,-1.5753349406415),(56,111,-2.57542649616993),(56,113,-1.8592486342967),(56,114,-2.12517929624317),(57,87,-2.07640308847316),(57,90,1.95443586535234),(57,91,2.08662678914762),(57,92,-0.232863856929227),(57,93,-0.492324594866787),(57,94,-0.290375988036744),(57,95,-0.0677587206640828),(57,96,-2.29017761772515),(57,100,3.45785393841365),(57,102,0.951948606830042),(57,103,0.999824518570513),(57,115,0.466895046845912),(58,86,0.997016815698721),(58,87,0.564775536362804),(58,89,0.511566515091403),(58,90,-0.828844569231239),(58,95,-0.751991332743309),(58,96,2.76745658742027),(58,101,-0.486762596514786),(58,103,1.91264076662496),(58,109,-1.21814630573443),(58,110,-0.572824793237098),(58,113,1.07036805322428),(58,114,-0.507293923764763),(58,115,2.5184331797235),(58,118,0.332613605151524),(59,85,1.53972746971038),(59,86,0.694601275673696),(59,90,2.05603198339793),(59,91,0.268562883388775),(59,93,0.0425809503463852),(59,97,1.42546617023225),(59,98,-1.2379909665212),(59,100,-1.89801477095859),(59,102,2.21689504684591),(59,112,1.67226172673727),(59,114,1.89879299295022),(60,85,0.104876857814264),(60,87,-0.155400250251778),(60,90,0.55283516953032),(60,91,0.896176030762658),(60,96,0.20539719840083),(60,100,-1.84411145359661),(60,101,-3.71832178716391),(60,105,1.90321054719687),(60,107,-0.109553819391461),(60,109,-1.13093966490677),(60,110,0.91155735953856),(60,114,1.59835352641377),(61,89,-1.04631946775719),(61,94,-2.7686544389172),(61,96,2.65922269356365),(61,98,-0.712721640675069),(61,100,0.704748680074465),(61,102,-0.011711478011414),(61,103,0.0840021973326823),(61,114,-0.922139652699362),(61,115,0.21797845393231),(62,93,0.737327188940092),(62,95,-2.29216895046846),(62,107,-0.619678334910123),(62,109,-0.463049714651936),(62,110,-2.12302011169774),(62,111,0.74809259315775),(63,87,-0.0503555406353954),(63,90,0.678342539750359),(63,93,-0.302056947538682),(63,97,0.0691930906094544),(63,100,-0.575952940458388),(63,103,-0.626087221900082),(63,104,-1.56154820398572),(63,108,-1.26401562547685),(63,111,-0.430433057649464),(63,114,0.201567125461593),(63,117,-2.1849040192877),(64,87,-1.58337656788842),(64,94,-2.45170445875423),(64,99,1.33070619830927),(64,110,0.416447950682089),(64,112,-1.41246528519547),(64,116,2.0644322031312),(65,87,-1.15403454695273),(65,88,-0.961363567003388),(65,90,1.29657887508774),(65,97,-0.821321756645405),(65,99,0.0255363628040404),(65,107,-0.586642048402356),(65,110,3.30178991058077),(65,111,-1.87947477645192),(65,114,1.69263283181249),(65,116,-2.6249504074221),(65,117,2.67807550279244),(66,85,-1.18619342631306),(66,102,2.73810541093173),(66,105,0.100283822138127),(66,108,0.632320627460555),(66,111,-1.2996154667806),(66,115,-0.129184850611896),(66,118,-0.338915677358318),(67,86,2.03907895138401),(67,90,-0.2134769737846),(67,92,0.747444074831385),(67,104,2.07477797784356),(67,109,2.05726035340434),(67,111,1.14991454817347),(68,87,-2.00071718497269),(68,88,-1.70914334543901),(68,90,-2.09939115573595),(68,93,-4.57432020020142),(68,95,-0.276100955229347),(68,96,0.363956114383373),(68,97,-1.52307199316385),(68,103,0.718253120517594),(68,107,-0.32853175450911),(68,112,1.96962645344401),(68,114,-0.0577867976928007),(69,87,3.00738547929319),(69,88,-2.21878719443342),(69,92,2.5495925778985),(69,94,-0.774811548203986),(69,95,0.470748008667257),(69,97,-0.546212652974029),(69,108,0.0668279061250648),(69,113,-1.94066438795129),(69,114,0.0733741264076662),(69,118,0.0359965819269388),(70,85,-1.34159367656484),(70,86,-2.4030579546495),(70,87,0.477767265846736),(70,90,-1.89031647694327),(70,96,-0.204779198583941),(70,97,-0.766945402386547),(70,99,-0.962141788995025),(70,105,0.339915158543657),(70,107,-0.244125186925871),(70,109,1.19313638721885),(70,110,0.415776543473617),(70,111,2.46391186254463),(71,85,0.966414380321665),(71,93,1.18070009460738),(71,96,-2.5797143467513),(71,100,-0.315118869594409),(71,104,-1.33800775170141),(71,106,1.11286507766961),(71,111,0.658726767784661),(71,113,-0.065424054689169),(72,94,-0.20059053315836),(72,96,0.675771355327006),(72,99,-0.500366222113712),(72,110,0.269707327494125),(72,112,-1.14022492141484),(72,114,1.3074663533433),(72,115,0.398876918851283),(72,116,0.690084536271249),(73,88,1.04797509689627),(73,94,-0.504516739402447),(73,99,0.210654011658071),(73,100,1.51882992034669),(73,106,1.06147190771203),(73,110,0.140232551042207),(73,115,3.11600085451827),(74,90,-1.35090182195502),(74,94,1.07635731070895),(74,99,-1.1950666829432),(74,102,-2.71728415784173),(74,106,0.490447706534013),(74,107,3.12659840693381),(74,110,1.270180364391),(74,113,-2.45582445753349),(74,116,-1.08217871639149),(75,85,1.41797387615589),(75,86,-0.0918225653859065),(75,93,-0.253059480574969),(75,98,-0.420255134739219),(75,103,0.572824793237098),(75,105,-1.3680608539079),(75,111,2.7741935483871),(75,117,-0.172521134067812),(76,86,2.03657643360698),(76,89,2.12599566637165),(76,92,-0.0802865688039796),(76,94,0.514961699270608),(76,99,0.0856807153538621),(76,101,-2.35831781975768),(76,103,0.496459852900784),(76,106,-1.78273873104038),(76,110,-0.50213629566332),(76,113,-0.210043641468551),(77,88,0.300912503433332),(77,91,0.985770744956816),(77,93,-0.384266182439649),(77,98,-2.76838740195929),(77,101,2.13634144108402),(77,102,1.30360576189459),(77,103,2.09082308420057),(77,104,-2.58312479018525),(77,105,-1.45786156804102),(77,109,1.9220557267983),(78,88,-2.70758690145573),(78,93,2.87375255592517),(78,94,2.19753868221076),(78,101,-0.64448225348674),(78,104,2.98025452436903),(78,110,1.07661671803949),(78,114,1.31641590624714),(78,116,-0.342036194952239),(78,117,0.0695822016052736),(78,118,-0.191557054353465),(79,87,2.35039826654866),(79,92,-1.93968016602069),(79,94,2.63943906979583),(79,107,-3.26667836542863),(79,108,0.349986266670735),(79,114,1.24349192785424),(79,118,-0.366817224646748),(80,87,-0.880687887203589),(80,88,-2.00647755363628),(80,91,0.122882778405103),(80,99,1.0127491073336),(80,101,0.109019745475631),(80,107,-0.032273323770867),(80,113,-0.769219031342509),(81,85,1.18621631519517),(81,86,-0.568155461287271),(81,90,-1.76226844080935),(81,93,0.560876796777245),(81,96,0.312150944547869),(81,97,3.32284005249184),(81,106,1.31468398083438),(81,107,0.18267616809595),(81,110,0.903828547013764),(81,115,-1.36540574358348),(82,86,-1.72446363719596),(82,92,-3.461851863155),(82,110,-0.325624866481521),(82,112,-2.89855647450179),(83,87,-2.11428418836024),(83,91,0.329844050416578),(83,93,-0.536187322611164),(83,101,1.34316537980285),(83,103,-1.88638721884823),(83,105,-1.57490768150883),(83,108,-0.733924375133518),(84,85,-0.888294625690481),(84,86,-0.218909268471328),(84,89,0.321787163914914),(84,95,-0.702826013977477),(84,99,-0.837199011200293),(84,104,-1.46435438093204),(84,111,-0.661656544694357),(84,113,1.07693716238899),(84,114,-0.273049104281747),(35,105,-0.708868678853725)]
orgname='BHNEAT_15_5'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()