edge = [(0,85,-2.31685842463454),(0,89,-4.19756157109287),(0,90,2.20824304940947),(0,93,2.6928769798883),(0,98,2.03398236030152),(0,101,2.61642811365093),(0,105,-0.420010986663411),(0,108,-2.25959044160283),(0,113,1.61209448530534),(0,114,0.159535508285775),(0,117,-0.359050263985107),(0,118,-4.44114505447554),(1,86,-0.941328165532395),(1,92,-3.73430585650197),(1,98,2.54760887478256),(1,102,-0.0657368694112979),(1,104,-1.8557542649617),(1,107,-2.47335734122745),(1,108,0.341578417310098),(1,109,1.67035431989502),(1,113,3.32616657002472),(2,87,0.82891323587756),(2,88,2.22983489486373),(2,100,2.66072573015534),(2,106,-0.223395489364299),(2,108,1.17249061555834),(2,110,1.34311960203864),(2,113,-2.15628528702658),(2,118,-1.50891140476699),(3,89,2.60925626392407),(3,92,1.21358378856777),(3,97,-0.245597705008087),(3,99,-0.188467055269021),(3,101,-1.02861110263375),(3,103,2.03720206305124),(3,105,-1.06521805475021),(3,108,-0.0791039765617846),(3,109,1.70964690084536),(3,111,-1.99346903897214),(3,112,-2.32230597857601),(3,116,-1.63156529435102),(4,90,-0.572130497146519),(4,91,3.01165807061983),(4,97,1.22577593310343),(4,99,-0.781685842463454),(4,101,0.332773827326273),(4,108,-0.101474044007691),(4,113,-1.69052705465865),(4,118,-2.15683462019715),(5,86,-2.38784447767571),(5,87,3.69888912625507),(5,89,0.555360576189459),(5,92,1.09292886135441),(5,93,-1.34182256538591),(5,99,-1.91293069246498),(5,104,0.972167119357891),(5,114,-0.584582049012726),(5,118,0.687078463087863),(6,89,-0.502792443617054),(6,92,-1.15268410290841),(6,94,2.29010895107883),(6,100,1.7977690969573),(6,101,-1.80204168828394),(6,103,-5.15118869594409),(6,107,0.43450727866451),(6,110,3.17365031891842),(6,113,-0.685399945066683),(7,85,-1.22547074800867),(7,86,2.29825739310892),(7,90,1.4654225287637),(7,95,-0.586443678090762),(7,99,1.37856685079501),(7,100,2.09929197058016),(7,104,-0.362773522141179),(7,106,4.54107791375469),(7,108,3.02201910458693),(7,112,-1.3766747032075),(7,116,-1.58436841944639),(8,92,-0.381633960997345),(8,93,-2.45840327158422),(8,95,0.186941129795221),(8,99,0.345088045899838),(8,106,-0.637684255500961),(8,107,-2.53137302774133),(8,115,-1.7640766624958),(8,116,1.06466872157964),(8,118,-0.852687154759362),(9,85,2.09218115787225),(9,87,2.66148869289224),(9,98,-2.3519394512772),(9,101,-1.49429303872799),(9,103,1.39347514267403),(9,105,0.528702658162175),(9,106,-1.38462477492599),(9,113,2.09057893612476),(10,89,-1.44553971984008),(10,96,1.20529801324503),(10,106,-0.962508011108737),(10,108,1.48297067171239),(10,109,1.12331003753777),(10,111,-2.0585497604297),(10,112,-0.278252510147404),(10,114,1.11375774407178),(10,115,-3.47949156163213),(10,116,-1.07799005096591),(10,117,-1.60992767113254),(11,89,-0.135868404187139),(11,97,-1.39162877285073),(11,105,0.349177526169622),(11,112,1.26354258857997),(11,115,2.29956968901639),(12,92,-1.50219733268227),(12,93,-0.309152500991852),(12,94,-1.90237128818628),(12,97,0.453733939634388),(12,98,0.265205847346416),(12,99,1.81493575853755),(12,108,-4.05360576189459),(12,116,1.51152073732719),(13,86,5.55105746635334),(13,87,-1.60513626514481),(13,90,-0.442213202307199),(13,99,-1.04869228186895),(13,102,2.08052308725242),(13,104,-2.01611377300333),(13,113,-0.342036194952238),(13,116,-0.0466933194982757),(13,118,2.35473189489425),(14,90,0.454649494918668),(14,93,1.35456404309214),(14,95,2.6174199652089),(14,102,-1.31891842402417),(14,104,-1.62572099978637),(14,106,-1.69093905453658),(14,109,-2.20561845759453),(14,110,4.12234870448927),(14,111,-0.86817529831843),(15,85,-2.33791619617298),(15,92,1.22635578478347),(15,99,-0.299615466780602),(15,101,-2.05442976165044),(15,104,1.81589709158605),(15,108,-4.00053407391583),(15,117,-0.419568468276009),(16,86,-0.508590960417493),(16,87,0.855418561357463),(16,88,0.235679189428388),(16,90,0.525681325724052),(16,91,1.9922482985931),(16,95,-3.28856776635029),(16,97,-0.198721274452956),(16,98,-2.69595934934538),(16,99,1.51440473647267),(16,101,3.59375286111026),(16,108,3.22457045197913),(16,110,-0.379039887691885),(17,89,0.588961455122532),(17,96,2.35155796990875),(17,99,3.30951872310556),(17,101,-2.43366801965392),(17,106,-3.8502914517655),(17,107,-0.0424512466811121),(17,109,-3.03581347087008),(18,90,2.61810663167211),(18,91,-1.80066835535752),(18,93,-1.35555589465011),(18,99,1.84850611896115),(18,102,-1.20207831049532),(18,103,-3.95577867976928),(18,104,-0.65782647175512),(18,110,1.67001861629078),(18,111,-4.10345774712363),(18,116,-3.10823389385662),(18,117,-1.94830164494766),(18,118,0.0382702108829005),(19,87,1.22997222815638),(19,89,1.22302926725059),(19,93,1.229819635609),(19,95,-3.22244941557054),(19,101,1.92005676442763),(19,105,-0.792199468977935),(19,115,-3.71918393505661),(20,88,0.577715384380627),(20,101,2.39600817896054),(20,103,0.235602893154698),(20,104,1.87368388927885),(20,105,-2.41088595233009),(20,106,0.257728812524796),(20,111,-0.10551774651326),(20,116,-0.917462691122166),(21,86,0.500274666585284),(21,87,3.10394604327525),(21,94,3.00837733085116),(21,96,-1.2435529648732),(21,101,3.13252662739952),(21,102,-1.04052858058412),(21,105,-0.181356242561113),(21,107,0.0286873989074374),(21,108,-0.38891262550737),(22,86,2.25916318247017),(22,88,-1.49110385448775),(22,91,-2.16048158207953),(22,92,-0.558122501297037),(22,93,2.07817316202277),(22,98,-0.145954771568956),(22,106,-2.37205114902188),(22,115,1.63255714590899),(22,117,1.58185064241462),(23,85,1.01054414502396),(23,86,-1.5129703665273),(23,88,-1.7470473342082),(23,90,-0.556093020416883),(23,97,-2.15811639759514),(23,104,-1.39728995635853),(23,112,-0.0513473921933653),(23,114,0.54734946745201),(23,115,2.18413342692343),(23,116,1.12680440687277),(24,89,-0.65256202887051),(24,90,-1.4327372051149),(24,91,-0.97926267281106),(24,101,-0.454969939268166),(24,107,2.47563097018342),(24,108,-0.25830866420484),(24,110,-1.76610614337596),(24,112,3.10217596972564),(25,90,1.32178716391491),(25,92,1.99327066866054),(25,94,-2.97306741538743),(25,98,0.913068025757622),(25,105,0.82341990417188),(25,108,-1.52768028809473),(25,109,-3.21312601092563),(25,115,0.229499191259499),(26,85,1.37974181340983),(26,87,-1.92982268745994),(26,89,2.18108157597583),(26,95,-3.3824579607532),(26,98,-0.475539414654988),(26,100,0.415814691610462),(26,101,-0.983489486373486),(26,102,0.316476943266091),(26,103,3.29912717062899),(26,104,0.977187414166692),(26,107,1.00589007232887),(26,109,1.59710989715262),(26,112,-2.44199957274087),(26,113,-1.09323404644917),(26,117,2.4080782494583),(27,85,-1.34380626850185),(27,87,-0.65454573198645),(27,94,2.48199407940916),(27,100,0.54315317239906),(27,102,-4.17424542985321),(27,103,-4.04148991363262),(27,104,2.8429059724723),(27,105,1.00869777520066),(27,108,-4.08619953001495),(27,110,-2.47665334025086),(27,114,-2.0669423505356),(28,87,-1.81324198126164),(28,88,-1.86739707632679),(28,97,-2.71774956511124),(28,99,-2.45414593951231),(28,104,-1.32638019959105),(28,113,-1.06790368358409),(28,114,-0.137180700094607),(29,88,1.3275246436964),(29,91,2.37548448133793),(29,102,1.78975798821986),(29,105,2.80806909390545),(29,116,-1.39274269844661),(30,95,1.6217993713187),(30,96,2.6591845454268),(30,99,-2.27623828852199),(30,101,0.871639149143956),(30,104,1.65715506454665),(30,109,0.97842341380047),(30,110,-2.87385174108097),(30,114,0.43694875942259),(30,118,0.623950926236763),(31,85,2.21677297280801),(31,92,-1.19350260933256),(31,94,-1.73032319101535),(31,96,3.70482497634815),(31,99,-1.59482100894192),(31,103,-0.5428479873043),(31,107,-1.42521439252907),(31,108,3.47079378643147),(31,109,1.62938322092349),(31,111,-2.24585711233863),(31,112,1.77480391857662),(31,117,0.911923581652272),(32,86,2.33268227179785),(32,87,-1.32863856929228),(32,89,0.342875453962828),(32,92,1.72666096987823),(32,98,0.599047822504349),(32,99,-0.162419507431257),(32,104,0.899334696493423),(32,106,-3.27340006714072),(32,109,1.1713919492172),(32,116,-2.24474318674276),(32,118,-1.32671590319529),(33,96,3.39126255073702),(33,98,1.92628254036073),(33,108,-2.05438398388623),(33,110,-1.10744041261025),(33,111,0.105945005645924),(33,114,2.99678029725028),(34,85,0.810098574785607),(34,90,-0.43954283272805),(34,99,-1.73177282021546),(34,104,1.26180303353984),(34,109,-0.290185247352519),(35,86,-2.63580736716819),(35,87,2.2293771172216),(35,97,0.333719901120029),(35,98,1.19006927701651),(35,100,1.41926328318125),(35,104,0.949934385204627),(35,107,-3.67059846797082),(35,109,1.21217993713187),(35,110,-1.93235572374645),(35,112,1.26804406872768),(36,85,0.491409039582507),(36,87,1.03785821100497),(36,90,-4.12564470351268),(36,91,-2.17184972685934),(36,104,0.636158330027162),(36,107,-2.36051515243995),(36,109,2.45979186376537),(36,112,-2.22974333933531),(36,115,-1.35624256111332),(36,117,-1.8596911526841),(36,118,3.95933408612323),(37,85,-0.525406659138767),(37,86,-1.0834070863979),(37,87,-1.84484389782403),(37,91,1.92930387279885),(37,99,-1.72338023010956),(37,105,-1.31446272164068),(37,111,-1.24576555681021),(37,112,0.00865199743644518),(37,118,4.05453657643361),(38,87,-0.538438062685018),(38,90,2.87261574144719),(38,103,1.02339243751335),(38,105,2.0884273812067),(38,106,0.581987975707267),(38,111,0.632694479201636),(38,115,-2.19077120273446),(39,87,-3.97357097079379),(39,89,-1.92785424359874),(39,91,-2.32703634754479),(39,94,1.29093295083468),(39,97,1.80784020508438),(39,98,2.60409863582263),(39,107,-1.82273323770867),(39,108,4.04313791314432),(39,109,2.56537064729759),(39,111,-3.76338999603259),(39,113,-0.947981200598163),(39,116,0.519714957121494),(39,118,-2.09825434125797),(40,88,-2.13560899685659),(40,92,-0.33196508682516),(40,99,1.12236396374401),(40,104,-0.144352549821467),(40,110,2.25135044404431),(40,116,1.67830439161351),(40,118,-1.01397747734001),(41,88,-1.64693136387219),(41,93,-1.51568651387066),(41,96,3.69080172124393),(41,97,2.19443342387158),(41,100,1.29444257942442),(41,101,1.1743217261269),(41,104,2.00399792474136),(41,105,-2.78635517441328),(41,106,-1.0466628009888),(41,107,-2.02887050996429),(41,109,2.17503891109958),(41,110,2.21320230719932),(41,111,-0.510055848872341),(41,112,-1.41199987792596),(42,85,2.79476302377392),(42,86,2.46189764091922),(42,87,-1.53515732291635),(42,99,-0.955687124240852),(42,100,-0.739692373424482),(42,103,1.33167516098514),(42,109,0.61047700430311),(42,113,1.66870632038331),(43,85,-4.33217871639149),(43,88,-1.10446485793634),(43,89,-2.25804925687429),(43,93,-2.44903408917508),(43,97,-1.10293893246254),(43,98,-1.58105716116825),(43,101,-1.03965880306406),(43,102,-2.30787072359386),(43,103,-1.21089815973388),(43,105,3.73889889217811),(43,110,-2.36463515121921),(43,112,0.695608386486404),(43,114,-0.0254676961577198),(43,116,1.19762260811182),(44,89,1.54911954100162),(44,98,1.47259437849055),(44,99,3.08885464033937),(45,87,2.28241828669088),(45,88,1.34992522965178),(45,90,-1.22927030243843),(45,91,4.97155674916837),(45,95,1.7800988799707),(45,98,-0.0476393932920315),(45,108,3.89672536393323),(45,109,0.0884731589709158),(45,112,1.33144627216407),(45,115,-1.78090762047182),(46,85,-0.711523789178137),(46,89,4.42654194769128),(46,91,-1.6935178685873),(46,94,-4.18155461287271),(46,97,-1.74918362987152),(46,100,0.0304574724570452),(46,101,-1.88344981231117),(46,108,-1.691030610065),(46,112,-1.94715720084231),(47,86,-1.75832392345958),(47,91,1.61838129825739),(47,92,-0.872692037720878),(47,94,-2.12340159306619),(47,95,0.878322702719199),(47,100,-0.930341502121036),(47,101,2.84958952604755),(47,104,-1.71918393505661),(47,105,1.54063539536729),(47,108,2.3231452375866),(47,112,-0.153813287759026),(47,114,-2.47741630298776),(47,118,-1.74513992736595),(48,86,-1.78377636036256),(48,91,1.84301278725547),(48,98,0.0472426526688436),(48,99,1.34011352885525),(48,100,1.25707266457106),(48,103,4.50331125827815),(48,105,-0.669042023987549),(48,106,1.14525284585101),(48,111,-1.59437849055452),(48,115,-1.03579821161534),(49,87,-0.613467818231758),(49,89,-4.59489730521561),(49,93,1.71297341837825),(49,94,0.391933957945494),(49,95,-1.17397076326792),(49,102,3.37749870296335),(49,113,1.22820215460677),(49,114,2.53392132328257),(50,89,0.376674703207495),(50,105,-3.65955076754051),(50,107,-1.61409344767602),(51,87,0.2165288247322),(51,92,-0.892513809625538),(51,97,-0.742103335673086),(51,98,-1.06949064607685),(51,103,1.70079653309732),(51,106,-0.999435407574694),(51,112,1.1352885525071),(51,118,-2.20709860530412),(52,89,1.95826593829157),(52,97,0.268227179784539),(52,106,-0.0676747947630238),(52,110,-0.0804925687429425),(52,111,-1.18782616657002),(52,113,-3.52952665791803),(52,114,0.680425428022096),(52,118,2.49905392620624),(53,88,0.167928098391675),(53,90,2.83555101168859),(53,92,0.972151860103152),(53,94,-1.55240028077029),(53,104,1.28540910061953),(53,105,-1.31490524002808),(53,109,-0.143528550065615),(54,85,-1.50878933072909),(54,91,3.30782494582965),(54,94,2.00016785180212),(54,96,-0.890911587878048),(54,111,2.11798455763421),(54,112,-2.98637348551897),(54,113,-1.63975951414533),(54,118,0.414670247505112),(55,87,-2.02656636249886),(55,95,-3.31461531418805),(55,107,1.77350688192389),(55,110,-1.94715720084231),(55,117,-0.410779137546922),(56,107,-0.398388622699667),(56,111,1.92167424542985),(56,113,-2.81659901730399),(56,114,-2.60603656117435),(57,87,-0.748680074465163),(57,90,-1.25191503646962),(57,91,1.07203894161809),(57,92,1.4210486159856),(57,93,-2.52264473403119),(57,94,0.241523483993042),(57,95,0.507812738425855),(57,96,3.09759819330424),(57,100,1.93658253730888),(57,102,0.507446516312143),(57,103,-2.64824365977966),(57,115,1.03328043458357),(58,86,0.00375377666554777),(58,87,-0.127185888241218),(58,89,-0.331568346201972),(58,90,0.0733207190160833),(58,95,0.353556932279428),(58,96,-2.21083712271493),(58,101,-3.00987273781548),(58,103,-0.472411267433698),(58,109,-0.529343546861171),(58,110,2.09707937864315),(58,113,0.505050813318278),(58,114,-0.414670247505112),(58,115,0.465956602679525),(58,118,-0.0156407361064488),(59,85,-0.813898129215369),(59,86,-0.872219000824),(59,90,2.08688619647816),(59,91,1.98866237372967),(59,93,-1.7313455610828),(59,97,1.64548173467208),(59,98,-0.235572374645222),(59,100,-1.76404614398633),(59,102,0.4315317239906),(59,112,0.86748863185522),(59,114,-2.39425336466567),(60,85,2.27927488021485),(60,87,-2.40011291848506),(60,90,-1.25591296121097),(60,91,-0.309228797265542),(60,96,-2.65170751060518),(60,100,-1.9075594347972),(60,101,-2.237449262978),(60,105,2.95434430982391),(60,107,2.33474227118748),(60,109,1.56933805352947),(60,110,0.630283516953032),(60,114,1.24437696462905),(61,89,-2.19008453627125),(61,94,2.05557420575579),(61,96,-0.281319620349742),(61,98,1.27254554887539),(61,100,2.68494216742454),(61,102,2.5533310953093),(61,103,-1.1085848567156),(61,114,1.28370006408887),(61,115,-2.35518967253639),(62,93,-1.0352183599353),(62,95,-0.303125095370342),(62,107,-1.66692098757897),(62,109,-2.03982665486618),(62,110,-3.01423688467055),(62,111,0.30397961363567),(63,87,-1.19988097781304),(63,90,-0.356730857264931),(63,93,1.30916776024659),(63,97,0.674260689107944),(63,100,3.25759147923215),(63,103,-0.232184820093386),(63,104,1.57869197668386),(63,108,-2.18231757560961),(63,111,-1.31666005432295),(63,114,-0.207800531022065),(63,117,2.71404156620991),(64,87,-2.08182012390515),(64,94,0.802041688283944),(64,99,-0.486388744773705),(64,110,-3.20337534714805),(64,112,4.28217413861507),(64,116,1.42526017029328),(65,87,-0.420117801446577),(65,88,2.00823999755852),(65,90,-0.43893246253853),(65,97,1.46305734427931),(65,99,-2.62961210974456),(65,107,1.43772698141423),(65,110,-2.29247413556322),(65,111,-1.85670033875546),(65,114,-3.6502273628956),(65,116,-2.54747154148991),(65,117,1.2564470351268),(66,85,1.12526322214423),(66,102,4.43806268501846),(66,105,-0.659199804681539),(66,108,1.16481521042512),(66,111,-2.32779931028169),(66,115,-0.203955198828089),(66,118,-0.557741019928587),(67,86,-2.34934537797174),(67,90,1.34745323038423),(67,92,-0.903424176763207),(67,104,5.73812067018647),(67,109,1.4524521622364),(67,111,-0.535905026398511),(68,87,-1.51973021637623),(68,88,2.5064241462447),(68,90,-0.712286751915036),(68,93,-0.63068025757622),(68,95,-1.37148655659658),(68,96,3.08899197363201),(68,97,-2.81949827570421),(68,103,2.27561265907773),(68,107,-0.222937711722159),(68,112,-2.04222235786004),(68,114,-2.5095980712302),(69,87,0.762901699880978),(69,88,0.195318460646382),(69,92,3.19666127506333),(69,94,0.505996887112033),(69,95,0.599917600024415),(69,97,-0.914883877071444),(69,108,-2.14058351390118),(69,113,1.39553514206366),(69,114,0.973082674642171),(69,118,-0.601153599658192),(70,85,-2.37525559251686),(70,86,-1.66820276497696),(70,87,-0.625171666615802),(70,90,-1.27373577074496),(70,96,-2.33832819605091),(70,97,-0.125751518295846),(70,99,0.259849848933378),(70,105,-2.50714133121738),(70,107,-1.17290261543626),(70,109,1.79709768974883),(70,110,-2.18878749961852),(70,111,1.25455488753929),(71,85,-2.02000488296152),(71,93,-0.664693136387219),(71,96,2.02934354686117),(71,100,1.5348979155858),(71,104,1.00138859218116),(71,106,1.52258369701224),(71,111,2.69032868434706),(71,113,0.461745048371837),(72,94,2.50659199804682),(72,96,-2.4219336527604),(72,99,0.171575060274056),(72,110,-0.0138096255378892),(72,112,0.0903042695394758),(72,114,-2.56729331339457),(72,115,0.65370647297586),(72,116,3.92176580095828),(73,88,-1.96874904629658),(73,94,-2.2544785912656),(73,99,-1.02519302957244),(73,100,0.841334269234291),(73,106,-1.32778405102695),(73,110,2.58697775200659),(73,115,-0.0992614520706809),(74,90,0.879558702352977),(74,94,2.7425916318247),(74,99,-0.122684408093509),(74,102,-2.72986541337321),(74,106,0.205084383678701),(74,107,-0.054094058046205),(74,110,1.47215186010315),(74,113,-0.740348521378216),(74,116,0.0666982024597917),(75,85,-0.101351969969787),(75,86,3.18155461287271),(75,93,-0.471861934263131),(75,98,0.663777581102939),(75,103,0.428708761864071),(75,105,3.65486617633595),(75,111,3.36875514999847),(75,117,-2.31667531357768),(76,86,-0.379589220862453),(76,89,-0.441572313608203),(76,92,1.28402050843837),(76,94,-1.47190771202734),(76,99,1.2253639332255),(76,101,-0.343333231604968),(76,103,-2.91959898678549),(76,106,3.66122928556169),(76,110,-3.23595385601367),(76,113,-1.52386547441023),(77,88,-0.901333658864101),(77,91,0.405896176030763),(77,93,1.5873439741203),(77,98,0.0988494521927549),(77,101,-1.02095095675527),(77,102,-1.80489516891995),(77,103,3.42509231849116),(77,104,0.228202154606769),(77,105,3.10023804437391),(77,109,0.143696401867733),(78,88,-1.80059205908383),(78,93,1.58299508651997),(78,94,0.306588946195868),(78,101,-2.63325907162694),(78,104,0.612704855494858),(78,110,0.0128482924893949),(78,114,-4.69008453627125),(78,116,0.153050325022126),(78,117,0.621051667836543),(78,118,3.69121372112186),(79,87,-1.18607135227515),(79,92,1.14268929105502),(79,94,4.51457258827479),(79,107,-0.776085695974609),(79,108,1.97799615466781),(79,114,1.84075441755425),(79,118,2.00338755455184),(80,87,1.54101687673574),(80,88,0.568788720358897),(80,91,-2.17229224524674),(80,99,1.68332468642232),(80,101,0.874996185186316),(80,107,1.28923917355876),(80,113,-2.31460005493332),(81,85,1.57567064424573),(81,86,1.21080660420545),(81,90,-1.2689748832667),(81,93,2.27513962218085),(81,96,0.350123599963378),(81,97,0.577394940031129),(81,106,0.500473036896878),(81,107,-1.37159337137974),(81,110,-2.52145451216163),(81,115,0.765312662129582),(82,86,-0.0654774620807519),(82,92,-1.59892574846644),(82,110,0.781426435132908),(82,112,0.838831751457259),(83,87,1.19525742362743),(83,91,-2.12668233283486),(83,93,1.71857356486709),(83,101,0.314874721518601),(83,103,-1.69476912747581),(83,105,1.88978240302744),(83,108,1.84191412091433),(84,85,-1.8321024201178),(84,86,0.11329996642964),(84,89,-0.871288186284982),(84,95,-0.612475966673788),(84,99,2.37624744407483),(84,104,-2.42774742881558),(84,111,-0.430707724234749),(84,113,-1.22627948850978),(84,114,0.902752769554735),(35,105,0.331598864711448)]
orgname='BHNEAT_9_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()