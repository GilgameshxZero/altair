edge = [(0,85,2.9862666707358),(0,89,1.18689535203101),(0,90,0.11398663289285),(0,93,-2.8496505630665),(0,98,-0.530747398297067),(0,101,-4.95196386608478),(0,105,-2.62283700064089),(0,108,2.25012970366527),(0,113,0.669301431318095),(0,114,0.992095706045716),(0,117,-2.2232734153264),(0,118,1.52537614062929),(1,86,1.41880550553911),(1,92,1.17413861507004),(1,98,0.741676076540422),(1,102,-1.06399731437117),(1,104,0.832346568193609),(1,107,-5.10908841212195),(1,108,-0.963393047883541),(1,109,-2.58172856837672),(1,113,2.87762077700125),(2,87,-0.813013092440565),(2,88,1.45977660451064),(2,100,-1.94425794244209),(2,106,0.163777581102939),(2,108,2.43092135380108),(2,110,-3.22910245063631),(2,113,3.2058473464156),(2,118,3.13231299783319),(3,89,1.95678579058199),(3,92,-3.19879757072665),(3,97,-0.534150212103641),(3,99,3.95129245887631),(3,101,-1.19524216437269),(3,103,0.439786980803857),(3,105,3.64775536362804),(3,108,-3.94970549638356),(3,109,-3.06595049897763),(3,111,-0.995635853144933),(3,112,0.990020447401349),(3,116,-0.202536088137455),(4,90,0.474501785332804),(4,91,1.54454176458022),(4,97,-4.51913510544145),(4,99,3.14925077059236),(4,101,-3.27886288033692),(4,108,1.50776696066164),(4,113,1.02134769737846),(4,118,-0.292672505874813),(5,86,0.229438154240547),(5,87,2.03288369396039),(5,89,0.855739005706961),(5,92,0.917920468764306),(5,93,0.618289742728965),(5,99,-0.830866420484024),(5,104,0.888180181279946),(5,114,2.71904660176397),(5,118,-0.959395123142186),(6,89,-0.0351725821710867),(6,92,1.11049226355785),(6,94,-1.83019501327555),(6,100,1.46617023224586),(6,101,1.8279671620838),(6,103,-2.87076937162389),(6,107,-0.233161412396619),(6,110,0.39211706900235),(6,113,3.00405896176031),(7,85,-2.10753196813868),(7,86,-2.60399182103946),(7,90,-2.76354258857997),(7,95,-1.14676351207007),(7,99,1.0911587878048),(7,100,-1.32413708914457),(7,104,-0.9751426740318),(7,106,1.331217383343),(7,108,-0.575670644245735),(7,112,3.94802697836238),(7,116,-1.87681203650014),(8,92,-2.42632831812494),(8,93,2.80497146519364),(8,95,0.4315317239906),(8,99,-3.65137180700095),(8,106,2.06558427686392),(8,107,-0.779534287545396),(8,115,2.51576281014435),(8,116,1.23366496780297),(8,118,-2.60971404156621),(9,85,-4.96629230628376),(9,87,2.87343974120304),(9,98,-1.63274025696585),(9,101,3.93963438825648),(9,103,-0.87458418530839),(9,105,0.622882778405102),(9,106,1.47103793450728),(9,113,0.952848902859584),(10,89,-1.46247749259926),(10,96,-1.87574388866848),(10,106,1.8923764763329),(10,108,0.903912472914823),(10,109,1.37575914792322),(10,111,-1.27376628925443),(10,112,-0.698797570726646),(10,114,-2.23021637623218),(10,115,0.0954008606219671),(10,116,-0.676595355082858),(10,117,-1.31516464735862),(11,89,-0.715048677022614),(11,97,1.41859187597278),(11,105,-1.61644337290567),(11,112,-2.89110995818964),(11,115,1.76969206823939),(12,92,-0.423444318979461),(12,93,1.40075380718406),(12,94,-3.10731833857234),(12,97,1.62407300027467),(12,98,1.09601123081149),(12,99,-0.295052949613941),(12,108,-1.58183538315989),(12,116,2.15591906491287),(13,86,2.29847102267525),(13,87,1.85062715536973),(13,90,0.206640827661977),(13,99,0.19884334849086),(13,102,5.08033997619556),(13,104,-4.77353740043336),(13,113,-0.560258796960357),(13,116,-0.0393230994598222),(13,118,0.206839197973571),(14,90,-2.14807580797754),(14,93,3.96705526902066),(14,95,-1.73200170903653),(14,102,-0.170201727347636),(14,104,2.4108096560564),(14,106,-3.041001617481),(14,109,-0.971068453016755),(14,110,-2.33962523270363),(14,111,-2.85717337565233),(15,85,-4.99073763237404),(15,92,0.444471572008423),(15,99,0.195043794061098),(15,101,-3.44454786828211),(15,104,-3.40368358409375),(15,108,0.89234595782342),(15,117,3.05771050141911),(16,86,-2.78389843440046),(16,87,-2.03796502578814),(16,88,-0.34675130466628),(16,90,0.54605243079928),(16,91,-3.3036286507767),(16,95,-0.337961973937193),(16,97,-1.81849116489151),(16,98,-2.57312234870449),(16,99,-1.74613177892392),(16,101,-1.47766045106357),(16,108,4.6947233497116),(16,110,-1.19875179296243),(17,89,2.28057191686758),(17,96,1.30309457686087),(17,99,2.17346720786157),(17,101,3.02754295480209),(17,106,1.07245094149602),(17,107,2.10361033967101),(17,109,0.612140263069552),(18,90,3.38943144016846),(18,91,0.191045869319742),(18,93,3.60454115421003),(18,99,-4.0355388042848),(18,102,-2.93316446424757),(18,103,-1.35814996795556),(18,104,3.18880275887326),(18,110,-0.659688100833155),(18,111,-1.94541764580218),(18,116,2.95587023529771),(18,117,2.30780968657491),(18,118,-0.336420789208655),(19,87,0.142216254158147),(19,89,-3.22455519272439),(19,93,-1.59535508285775),(19,95,1.75000762962737),(19,101,-1.57492294076357),(19,105,-0.133228553117466),(19,115,-2.81225012970367),(20,88,-2.47840815454573),(20,101,2.31235694448683),(20,103,-2.95811334574419),(20,104,-2.3713339640492),(20,105,1.71327860347301),(20,106,-4.54014709921567),(20,111,-3.44950712607196),(20,116,-0.052583391827143),(21,86,3.48681600390637),(21,87,-0.824472792748802),(21,94,-3.1248512222663),(21,96,-0.928449354533525),(21,101,1.68190557573168),(21,102,3.69846186712241),(21,105,-0.741523483993042),(21,107,3.82844019898068),(21,108,-3.32387768181402),(22,86,2.7827082125309),(22,88,-3.74565874202704),(22,91,3.63064973906674),(22,92,1.28641621143223),(22,93,-2.60122989593188),(22,98,0.207083346049379),(22,106,-5.18825342570269),(22,115,3.87017426068911),(22,117,0.849635303811762),(23,85,-1.66667683950316),(23,86,-1.16109195226905),(23,88,-2.9783165990173),(23,90,-0.0223242896816919),(23,97,3.90995513779107),(23,104,-1.52418591875973),(23,112,2.82746360667745),(23,114,1.32131412701804),(23,115,0.958388012329478),(23,116,-1.98905911435285),(24,89,-0.601718192083499),(24,90,0.157399212622456),(24,91,1.43389690847499),(24,101,-0.0715811639759514),(24,107,-0.945036164433729),(24,108,-0.876567888424329),(24,110,-1.29560228278451),(24,112,2.5693533127842),(25,90,0.797830133976257),(25,92,0.0459303567613758),(25,94,0.42970061342204),(25,98,-0.851588488418226),(25,105,-2.96652119510483),(25,108,1.47946104312265),(25,109,0.747108371227149),(25,115,-2.62092959379864),(26,85,0.333491012298959),(26,87,-2.43696401867733),(26,89,-2.60803552354503),(26,95,1.67270424512467),(26,98,-1.24315622425001),(26,100,2.37914670247505),(26,101,-1.20657979064302),(26,102,0.359996337778863),(26,103,-0.978911709952086),(26,104,3.00498977629933),(26,107,2.87383648182623),(26,109,-1.78547013763848),(26,112,-1.32372508926664),(26,113,1.16269417401654),(26,117,1.35746330149236),(27,85,-0.344782860805078),(27,87,1.1408734397412),(27,94,-1.87435529648732),(27,100,1.56173894466994),(27,102,-0.0742362743003632),(27,103,-2.49168370616779),(27,104,-0.838541825617237),(27,105,2.97248756370739),(27,108,-3.63612781151769),(27,110,-0.264305551316874),(27,114,1.25179296243171),(28,87,-0.316309091463973),(28,88,0.0530564287240209),(28,97,1.12712485122227),(28,99,-1.6380199591052),(28,104,1.00767540513321),(28,113,-0.857112338633381),(28,114,1.9728537858211),(29,88,-0.42962431714835),(29,91,-0.342493972594378),(29,102,-1.73339030121769),(29,105,-0.327631458479568),(29,116,-1.02671895504624),(30,95,1.25756096072268),(30,96,1.03796502578814),(30,99,-1.60544145023957),(30,101,2.56244087038789),(30,104,0.135654774620807),(30,109,2.17104098635823),(30,110,-2.40055543687246),(30,114,-0.553758354441969),(30,118,3.4643391216773),(31,85,-4.42846461378826),(31,92,-0.895687734611042),(31,94,0.99641407513657),(31,96,0.834482863856929),(31,99,-4.47416608172857),(31,103,-1.80426953947569),(31,107,3.71669667653432),(31,108,-1.08751182592242),(31,109,-2.57232886745811),(31,111,-1.35137485885189),(31,112,2.98837244788964),(31,117,-2.16891994994964),(32,86,1.4661854915006),(32,87,-2.44354075746941),(32,89,0.0914792321543016),(32,92,1.78063295388653),(32,98,1.84862819299905),(32,99,4.06714072084719),(32,104,5.63626514481033),(32,106,3.96658223212378),(32,109,1.28186895352031),(32,116,-1.7503433332316),(32,118,-0.651631214331492),(33,96,1.27564317758721),(33,98,1.28478347117527),(33,108,2.93050935392315),(33,110,-2.92146061586352),(33,111,1.98146000549333),(33,114,-1.19508957182531),(34,85,-0.328623310037538),(34,90,0.706427198095645),(34,99,-0.505920590838343),(34,104,-2.66859950560015),(34,109,-0.0033112582781456),(35,86,-2.12813196203497),(35,87,-2.53573717459639),(35,97,-0.0579088717307048),(35,98,0.501800592059084),(35,100,1.58087405011139),(35,104,1.69016083254494),(35,107,1.45826593829157),(35,109,0.771111178930021),(35,110,-2.22672200689718),(35,112,-1.82119205298013),(36,85,2.69522690511795),(36,87,1.26450392162847),(36,90,-0.362483596301157),(36,91,0.10856959746086),(36,104,1.86635944700461),(36,107,2.75408185064241),(36,109,-1.19914853358562),(36,112,2.55792413098544),(36,115,4.34987945188757),(36,117,1.56219672231208),(36,118,0.820047608874783),(37,85,-1.97038178655354),(37,86,-3.06413464766381),(37,87,-0.54368724631489),(37,91,0.844523453474532),(37,99,0.0730765709402753),(37,105,0.668050172429578),(37,111,0.785180211798456),(37,112,0.255470442823573),(37,118,-0.923291726432081),(38,87,-1.00796533097324),(38,90,-3.4228186895352),(38,103,1.68106631672109),(38,105,1.15070039979247),(38,106,2.05763420514542),(38,111,-3.33040864284188),(38,115,-4.30645161290323),(39,87,2.33262123477889),(39,89,-1.60504470961638),(39,91,-3.04101687673574),(39,94,3.98454237495041),(39,97,-1.28624835963012),(39,98,-0.0924405652027955),(39,107,-0.903820917386395),(39,108,0.335978270821253),(39,109,-1.01651051362651),(39,111,-1.43644520401624),(39,113,2.73558763389996),(39,116,-4.42641987365337),(39,118,0.48094119083224),(40,88,1.54008606219672),(40,92,1.10065004425184),(40,99,1.50460829493088),(40,104,1.83787041840877),(40,110,-1.6610309152501),(40,116,-1.37079989013337),(40,118,0.10773033845027),(41,88,0.159688100833155),(41,93,-4.49621570482498),(41,96,2.14557329020051),(41,97,-1.96890163884396),(41,100,-0.950346385082553),(41,101,-2.13914914395581),(41,104,1.7184972685934),(41,105,2.17389446699423),(41,106,-2.92057557908872),(41,107,-2.26561784722434),(41,109,1.02067629016999),(41,110,-1.33722952970977),(41,111,-0.432309945982238),(41,112,-1.09575182348094),(42,85,0.373271889400922),(42,86,3.85239722891934),(42,87,1.8239082003235),(42,99,1.09782708212531),(42,100,-0.615512558366649),(42,103,-0.961867122409742),(42,109,-1.23749504074221),(42,113,0.341883602404859),(43,85,0.721808526871547),(43,88,-2.7782525101474),(43,89,0.897488326670125),(43,93,0.18031861323893),(43,97,1.1809900204474),(43,98,-0.671910763878292),(43,101,-0.469527268288217),(43,102,3.56747642445143),(43,103,-3.78536332285531),(43,105,-3.32918790246284),(43,110,0.0928525650807213),(43,112,1.39211706900235),(43,114,-2.72788171025727),(43,116,-3.26685384685812),(44,89,2.33489486373485),(44,98,1.73467207861568),(44,99,1.13064973906674),(45,87,2.99563585314493),(45,88,1.36823633533738),(45,90,-0.0112002929776907),(45,91,0.65355388042848),(45,95,3.66248054445021),(45,98,0.217413861507004),(45,108,-0.898800622577594),(45,109,2.93404950102237),(45,112,3.03444013794366),(45,115,0.00471510971404165),(46,85,-3.62109744560076),(46,89,2.35869930112613),(46,91,1.97488326670125),(46,94,-3.8621784112064),(46,97,0.715033417767876),(46,100,-2.89039277321696),(46,101,-1.3022247993408),(46,108,2.38135929441206),(46,112,1.36857203894162),(47,86,1.04544206060976),(47,91,-0.30550553910947),(47,92,3.30033265175329),(47,94,-0.15195165868099),(47,95,-1.34060182500687),(47,100,0.730170598467971),(47,101,-3.23854792931913),(47,104,1.37638477736747),(47,105,-0.694463942381054),(47,108,2.21396526993622),(47,112,3.57110812707907),(47,114,0.0190740684224982),(47,118,-1.40926847132786),(48,86,0.952055421613208),(48,91,2.04733420819727),(48,98,2.11310159611805),(48,99,2.29277932065798),(48,100,0.0290841395306252),(48,103,-0.897350993377483),(48,105,-2.53221228675192),(48,106,-2.4037446211127),(48,111,0.308526871547593),(48,115,0.809427167577136),(49,87,-1.79349650563067),(49,89,3.34960478530229),(49,93,-0.419705801568651),(49,94,1.24698629718925),(49,95,2.07296975615711),(49,102,1.1897030549028),(49,113,1.99734488967559),(49,114,-1.25838496047853),(50,89,0.0390026551103245),(50,105,2.89744254890591),(50,107,1.54197820978423),(51,87,1.93508713034455),(51,92,-0.32601397747734),(51,97,1.16301461836604),(51,98,-1.84847560045167),(51,103,2.60773033845027),(51,106,1.34255500961333),(51,112,2.73064363536485),(51,118,-0.775429548020875),(52,89,-3.55574205755791),(52,97,0.838877529221473),(52,106,-0.205771050141911),(52,110,0.98460341196936),(52,111,0.918942838831752),(52,113,-3.32781456953642),(52,114,1.29758598590045),(52,118,-2.35900448622089),(53,88,3.1425977355266),(53,90,-0.698110904263436),(53,92,-1.72988067262795),(53,94,-0.0534836878566853),(53,104,1.37047944578387),(53,105,-0.316797387615589),(53,109,0.522385326700644),(54,85,-0.634479812005982),(54,91,-2.57881405072176),(54,94,-2.75614185003204),(54,96,2.89559617908261),(54,111,3.27501754814295),(54,112,-1.51339762565996),(54,113,2.10478530228584),(54,118,-1.56688131351665),(55,87,-4.10716574602496),(55,95,-0.269859920041505),(55,107,1.75931577501755),(55,110,-1.38500625629444),(55,117,-1.06836146122623),(56,107,1.42883083590197),(56,111,-1.40636921292764),(56,113,2.66838587603381),(56,114,-0.338358714560381),(57,87,1.30834376049074),(57,90,0.797860652485732),(57,91,1.31130405590991),(57,92,5.09044160283212),(57,93,-0.693441572313608),(57,94,1.62157048249763),(57,95,-3.12860499893185),(57,96,-3.73366496780297),(57,100,0.940534684286019),(57,102,-4.40931424909207),(57,103,2.73987548448134),(57,115,1.97431867427595),(58,86,4.20416882839442),(58,87,-3.73596911526841),(58,89,-0.182729575487533),(58,90,-0.550019837031159),(58,95,-0.30214850306711),(58,96,0.700933866389965),(58,101,0.997497482222968),(58,103,-1.37966551713614),(58,109,-3.03102206488235),(58,110,1.81215857417524),(58,113,0.864635151219214),(58,114,-1.22180852687155),(58,115,1.06135746330149),(58,118,-3.86509292886135),(59,85,2.41496017334513),(59,86,2.12828455458235),(59,90,-1.07559434797205),(59,91,-2.79938657795953),(59,93,1.07101657155065),(59,97,2.8359172338023),(59,98,1.2456434827723),(59,100,-2.77187414166692),(59,102,3.20012512588885),(59,112,-0.623264259773552),(59,114,3.42025513473922),(60,85,1.93385113071078),(60,87,-0.147236548966949),(60,90,4.98202459791864),(60,91,2.02185125278481),(60,96,0.721732230597858),(60,100,0.0413220618305004),(60,101,-2.97477645191809),(60,105,1.98011719107639),(60,107,-2.6066164128544),(60,109,-0.10376293221839),(60,110,1.80059205908383),(60,114,-1.05023346659749),(61,89,-0.425992614520707),(61,94,-2.86913663136692),(61,96,0.726416821802423),(61,98,3.39388714255196),(61,100,-0.662480544450209),(61,102,3.43791009247108),(61,103,-5.1609088412122),(61,114,0.130024109622486),(61,115,0.893810846278268),(62,93,-0.705236976226081),(62,95,-1.38813440351573),(62,107,0.792260505996887),(62,109,0.432859279152807),(62,110,-2.05595568712424),(62,111,-0.0463118381298255),(63,87,-0.951155125583666),(63,90,-2.09125034333323),(63,93,1.96241645558031),(63,97,-3.01382488479263),(63,100,-0.0223853267006439),(63,103,-0.786935026093325),(63,104,-2.77042451246681),(63,108,2.23836481826228),(63,111,-2.74048585467086),(63,114,-0.113727225562304),(63,117,-2.76906643879513),(64,87,2.69104586931974),(64,94,-2.6707510605182),(64,99,-3.98542741172521),(64,110,2.40720847193823),(64,112,-3.1479384746849),(64,116,-1.86082033753471),(65,87,1.93952757347331),(65,88,-2.30326242866298),(65,90,1.31778923917356),(65,97,-1.05696279793695),(65,99,-2.10980559709464),(65,107,-0.162083803827021),(65,110,1.11865596484268),(65,111,-0.112414929654836),(65,114,-0.116122928556169),(65,116,0.278847621082186),(65,117,1.21784112063967),(66,85,0.65622425000763),(66,102,2.44886623737297),(66,105,3.15976439710685),(66,108,-1.03463850825526),(66,111,-0.741065706350902),(66,115,-2.99632251960814),(66,118,2.63657032990509),(67,86,1.01413006988739),(67,90,-2.98205511642811),(67,92,-2.51472518082217),(67,104,4.22376171147801),(67,109,1.07867671742912),(67,111,-2.32869960631123),(68,87,2.26677755058443),(68,88,-1.07242042298654),(68,90,0.54277169103061),(68,93,-2.97198400830103),(68,95,-1.20393993957335),(68,96,0.415417950987274),(68,97,0.767342143009735),(68,103,5.07530442213202),(68,107,-1.37447737052522),(68,112,-1.9220557267983),(68,114,-2.77884762108219),(69,87,0.371807000946074),(69,88,-5.11224707785272),(69,92,4.74105044709616),(69,94,-1.73825800347911),(69,95,-1.38080996124149),(69,97,-0.387432477797784),(69,108,0.663243507187109),(69,113,-2.71884823145238),(69,114,0.668507950071719),(69,118,-0.724066896572771),(70,85,-1.82558671834468),(70,86,-2.02002014221625),(70,87,1.73355815301981),(70,90,-0.813898129215369),(70,96,-3.19544053468429),(70,97,-2.59340189825129),(70,99,-1.09706411938841),(70,105,-1.60097048860134),(70,107,1.89335306863613),(70,109,0.746192815942869),(70,110,0.42962431714835),(70,111,-0.385052034058657),(71,85,-3.43514816736351),(71,93,-0.368816187017426),(71,96,0.0627307962279122),(71,100,-0.365230262153996),(71,104,-1.7604602191229),(71,106,2.3490096743675),(71,111,-1.48139896847438),(71,113,-1.82340464491714),(72,94,-1.41373943296609),(72,96,-4.20863979003265),(72,99,-0.466704306161687),(72,110,0.566576128421888),(72,112,0.511032441175573),(72,114,0.127033295693838),(72,115,-1.71460615863521),(72,116,-2.36504715109714),(73,88,0.179189428388318),(73,94,-2.33191930906095),(73,99,1.44032105471969),(73,100,0.537278359324931),(73,106,1.30504776146733),(73,110,4.06567583239235),(73,115,-0.364848780785546),(74,90,-0.759437849055452),(74,94,1.75608081301309),(74,99,-1.03213599047823),(74,102,-4.11632129886776),(74,106,-1.43923764763329),(74,107,-1.29673146763512),(74,110,1.79349650563067),(74,113,0.93725394451735),(74,116,3.09070101016266),(75,85,0.449659718619343),(75,86,0.253303628650777),(75,93,0.97872859889523),(75,98,0.329279457991272),(75,103,-3.33724478896451),(75,105,-1.01957762382885),(75,111,-0.495620593890195),(75,117,-0.41796624652852),(76,86,-3.04889065218055),(76,89,0.824915311136204),(76,92,2.08215582750938),(76,94,-0.901745658742027),(76,99,1.71175267799921),(76,101,0.409253212073122),(76,103,1.29760124515519),(76,106,-1.55354472487564),(76,110,-1.61273537400433),(76,113,2.50907925656911),(77,88,-2.60129093295083),(77,91,-4.45066682943205),(77,93,-3.01202429273354),(77,98,-1.77045503097629),(77,101,-2.81261635181738),(77,102,0.220084231086154),(77,103,2.32100894192328),(77,104,0.463423566393017),(77,105,0.234015930661946),(77,109,-2.27787102877895),(78,88,-1.64571062349315),(78,93,1.3025452436903),(78,94,1.03964354380932),(78,101,-0.432950834681234),(78,104,2.87168492690817),(78,110,1.80173650318918),(78,114,-2.79984435560167),(78,116,1.62457655568102),(78,117,3.74910733359783),(78,118,0.105121005890072),(79,87,1.94082461012604),(79,92,-0.903424176763207),(79,94,3.3472396008179),(79,107,-2.04718161564989),(79,108,2.57074190496536),(79,114,-2.10768456068606),(79,118,-0.299295022431104),(80,87,-1.28514969328898),(80,88,-1.83477278969695),(80,91,-0.884273812067019),(80,99,0.479476302377392),(80,101,-0.338724936674093),(80,107,3.20947904904324),(80,113,-0.420850245674001),(81,85,2.58941923276467),(81,86,-1.77245399334697),(81,90,-3.07856990264596),(81,93,0.258171330912198),(81,96,-1.92596209601123),(81,97,-2.30285042878506),(81,106,-0.561037018951994),(81,107,4.77567369609668),(81,110,0.67650379955443),(81,115,2.17345194860683),(82,86,-1.89803765984069),(82,92,-4.52595599230933),(82,110,1.9762260811182),(82,112,-2.32612079226051),(83,87,-2.20091860713523),(83,91,1.73583178197577),(83,93,3.88767662587359),(83,101,-1.13257240516373),(83,103,-1.7482528153325),(83,105,-0.994109927671133),(83,108,-2.49824518570513),(84,85,2.39284951322977),(84,86,-0.590319528794214),(84,89,2.42461928159429),(84,95,1.90778832361827),(84,99,2.6342051454207),(84,104,1.56689657277139),(84,111,-1.74756614886929),(84,113,-2.97814874721519),(84,114,2.19879757072665),(35,105,-1.60777611621448)]
orgname='BHNEAT_14_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()