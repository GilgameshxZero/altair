edge = [(0,85,3.40147099215674),(0,89,0.547761467329935),(0,90,0.333185827204199),(0,93,1.06556901760918),(0,98,1.10679952391125),(0,101,-4.02946562089908),(0,105,-2.64091921750542),(0,108,1.6856898709067),(0,113,-0.14760277108066),(0,114,2.77422406689657),(0,117,-0.11101107821894),(0,118,-1.33352153080844),(1,86,3.73615222632527),(1,92,3.29906613361003),(1,98,-2.14644306772057),(1,102,-3.94990386669515),(1,104,-2.02349925229652),(1,107,-3.63412884914701),(1,108,-0.710928678243355),(1,109,-3.76226081118198),(1,113,0.466734824671163),(2,87,2.22968230231636),(2,88,2.59788811914426),(2,100,-0.611590929898984),(2,106,1.39443647572253),(2,108,3.95677053132725),(2,110,-0.205328531754509),(2,113,0.904141361735893),(2,118,4.03276161992248),(3,89,1.01139866328928),(3,92,-4.27518539994507),(3,97,-1.46671956541643),(3,99,4.43310342722861),(3,101,-1.6740012817774),(3,103,0.990035706656087),(3,105,0.410046693319498),(3,108,-0.908536027100436),(3,109,-3.14667195654164),(3,111,2.30326242866298),(3,112,3.00813318277535),(3,116,1.59424115726188),(4,90,-1.22278511917478),(4,91,-1.26277962584307),(4,97,-2.4212927640614),(4,99,1.98580889309366),(4,101,-2.41778313547166),(4,108,0.384609515671255),(4,113,-1.50657673879208),(4,118,-0.192342905972472),(5,86,1.55371257667775),(5,87,0.605685598315378),(5,89,3.94054994354076),(5,92,0.350276192510758),(5,93,1.35340433973205),(5,99,-3.20368053224281),(5,104,0.951353495895261),(5,114,4.38200018311106),(5,118,-0.868678853724784),(6,89,-0.450071718497268),(6,92,1.23722037415693),(6,94,0.858943449201941),(6,100,3.08174382763146),(6,101,0.213614307077242),(6,103,-4.12973418378246),(6,107,2.33596301156651),(6,110,1.27791680654317),(6,113,1.18553727835932),(7,85,-0.887783440656758),(7,86,0.136494033631398),(7,90,-3.61394085512864),(7,95,-0.131107516708884),(7,99,0.618884853663747),(7,100,-1.64542069765313),(7,104,-2.21221045564135),(7,106,2.93893246253853),(7,108,-2.81801812799463),(7,112,1.20906704916532),(7,116,1.94196905423139),(8,92,-2.30204168828394),(8,93,2.17567979979858),(8,95,2.36953337199011),(8,99,-1.81492049928282),(8,106,-1.45411542100284),(8,107,2.36127811517685),(8,115,2.07431257057405),(8,116,1.00431836909085),(8,118,-1.57727286599322),(9,85,-1.21655934324168),(9,87,0.453550828577532),(9,98,-2.07670827356792),(9,101,2.68936735129856),(9,103,-0.804544206060976),(9,105,-0.580919827875607),(9,106,3.6018402661214),(9,113,1.84261604663228),(10,89,-1.5125278481399),(10,96,1.33976256599628),(10,106,2.71828363902707),(10,108,1.51771599475082),(10,109,-2.97007660145878),(10,111,0.0693533127842036),(10,112,-0.718482009338664),(10,114,-2.8011413922544),(10,115,0.689367351298562),(10,116,0.833536790063173),(10,117,1.55723746452223),(11,89,-1.96279793694876),(11,97,1.39577929013947),(11,105,0.661687063203833),(11,112,-2.89698477126377),(11,115,-1.0773033845027),(12,92,0.821329386272774),(12,93,3.59121982482376),(12,94,1.72086245307779),(12,97,1.18117313150426),(12,98,0.353114413892026),(12,99,-3.80803857539598),(12,108,-1.5283516953032),(12,116,2.96206549272134),(13,86,-1.18262276070437),(13,87,1.05569627979369),(13,90,1.29775383770257),(13,99,4.15488143559069),(13,102,3.30072939237648),(13,104,-2.32236701559496),(13,113,-1.08410901211585),(13,116,-3.94752342295602),(13,118,-0.697271645252846),(14,90,-0.845545823541978),(14,93,-0.686635944700461),(14,95,-1.46671956541643),(14,102,1.42973113193152),(14,104,0.518890957365642),(14,106,0.490218817712943),(14,109,0.191534165471358),(14,110,-3.61461226233711),(14,111,-3.94912564470351),(15,85,-2.88969084749901),(15,92,-1.51748710592975),(15,99,1.38068788720359),(15,101,-0.928983428449355),(15,104,-0.327341532639546),(15,108,-1.96014282662435),(15,117,-0.880626850184637),(16,86,-2.93671987060152),(16,87,-1.25608081301309),(16,88,-2.25530259102145),(16,90,0.255058442945647),(16,91,-1.13917966246528),(16,95,0.574922940763573),(16,97,-2.03730887783441),(16,98,0.69533371990112),(16,99,-2.74866481521043),(16,101,1.48500015259255),(16,108,0.0246284371471299),(16,110,-2.29070406201361),(17,89,1.3396099734489),(17,96,-1.37665944395276),(17,99,-1.28603473006378),(17,101,1.38740195928831),(17,106,0.667928098391675),(17,107,-0.413174840540788),(17,109,2.21726126895962),(18,90,1.42258980071413),(18,91,-3.76567888424329),(18,93,1.30062257759331),(18,99,-2.45529038361766),(18,102,-1.44256416516617),(18,103,-2.75681325724052),(18,104,3.29622791222877),(18,110,0.754463332010865),(18,111,-3.56404309213538),(18,116,-0.729468672750023),(18,117,2.52510147404401),(18,118,-4.84476760155034),(19,87,-4.20896023438215),(19,89,-4.24166081728568),(19,93,0.580233161412397),(19,95,1.03190710165716),(19,101,-1.51205481124302),(19,105,-0.104922635578478),(19,115,-3.27780999176),(20,88,0.248649555955687),(20,101,1.45730460524308),(20,103,-3.40055543687246),(20,104,0.111423078096866),(20,105,-2.59646900845363),(20,106,0.0515152439954836),(20,111,-2.19931638538774),(20,116,-3.23482467116306),(21,86,3.64825891903439),(21,87,-1.51876888332774),(21,94,-0.871288186284982),(21,96,2.47146519363994),(21,101,2.20529801324503),(21,102,-0.732291634876553),(21,105,-2.42416150395215),(21,107,4.79793694875942),(21,108,0.232215338602863),(22,86,1.17415387432478),(22,88,-1.75104525894955),(22,91,0.868114261299478),(22,92,0.170506912442396),(22,93,-1.95095675527207),(22,98,-3.31482894375439),(22,106,-0.735755485702079),(22,115,0.821604052858058),(22,117,0.241706595049898),(23,85,1.40478225043489),(23,86,-1.00315866573077),(23,88,-1.27690969573046),(23,90,-1.05758842738121),(23,97,0.609759819330424),(23,104,0.693517868587298),(23,112,1.46908474990081),(23,114,-0.12739951780755),(23,115,-1.13090914639729),(23,116,1.64714499343852),(24,89,1.09656056398206),(24,90,0.775322733237709),(24,91,1.87267677846614),(24,101,0.420224616229743),(24,107,-0.486266670735801),(24,108,-0.149082918790246),(24,110,-0.272545548875393),(24,112,2.28133487960448),(25,90,-1.02877895443587),(25,92,-2.9300057985168),(25,94,-0.946607867671743),(25,98,-1.99305703909421),(25,105,-0.865398113956114),(25,108,-1.08737449262978),(25,109,0.19670705282754),(25,115,-0.456862086855678),(26,85,-2.55897701956236),(26,87,-1.43496505630665),(26,89,-0.348368785668508),(26,95,0.464323862422559),(26,98,-1.11177404095584),(26,100,3.1411938840907),(26,101,0.540375988036744),(26,102,-1.71121860408338),(26,103,-2.44578386791589),(26,104,2.10217596972564),(26,107,4.12685018463698),(26,109,-3.91680654316843),(26,112,-3.69959105197302),(26,113,0.95234534745323),(26,117,-1.59848323007904),(27,85,0.567186498611408),(27,87,1.44712668233283),(27,94,0.0896633808404798),(27,100,1.34238715781121),(27,102,1.99102755821406),(27,103,-3.12662129581591),(27,104,-0.14844203009125),(27,105,4.51069673757134),(27,108,-5.12787255470443),(27,110,-2.26364940336314),(27,114,-2.83524582659383),(28,87,-0.506134220404675),(28,88,-3.78609576708274),(28,97,-3.06405835139012),(28,99,-1.16536454359569),(28,104,2.53863643299661),(28,113,-1.12582781456954),(28,114,2.11751152073733),(29,88,1.17252113406781),(29,91,1.17175817133091),(29,102,0.588686788537248),(29,105,-0.096987823114719),(29,116,-2.22586748863186),(30,95,2.49584948271126),(30,96,4.91122165593432),(30,99,-1.66891994994964),(30,101,2.77912228766747),(30,104,1.0414441358684),(30,109,1.77719962157048),(30,110,0.17551194799646),(30,114,-3.21924497207556),(30,118,4.01908932767724),(31,85,-4.0957365642262),(31,92,-2.52201910458693),(31,94,-1.24097415082247),(31,96,0.0198675496688738),(31,99,-3.88981292153691),(31,103,-1.08792382580035),(31,107,0.797372356334117),(31,108,3.27404095583972),(31,109,-1.56727805413984),(31,111,1.00869777520066),(31,112,2.90948210089419),(31,117,-1.17073580126347),(32,86,0.54246650593585),(32,87,0.116580706198309),(32,89,-0.0491348002563554),(32,92,1.86356700338755),(32,98,0.317972350230415),(32,99,2.31949827570421),(32,104,2.33797723319193),(32,106,3.92141483809931),(32,109,-0.496063112277596),(32,116,-2.93995483260598),(32,118,0.0526596881008332),(33,96,-0.551499984740745),(33,98,-0.105410931730094),(33,108,-0.0657979064302499),(33,110,-3.40907010101627),(33,111,0.0851161229285561),(33,114,-2.77137058626057),(34,85,0.495605334635456),(34,90,-1.25514999847407),(34,99,-2.47497482222968),(34,104,1.57019257179479),(34,109,-1.37961973937193),(35,86,1.92457350383007),(35,87,-3.46647541734062),(35,97,-1.4059114352855),(35,98,2.91673024689474),(35,100,-0.382229071932127),(35,104,-1.26097903378399),(35,107,2.2738731040376),(35,109,1.18356883449812),(35,110,-4.67049165318766),(35,112,-1.68034913174841),(36,85,-0.686681722464675),(36,87,-1.17812128055666),(36,90,0.86909085360271),(36,91,-1.58253730887783),(36,104,-0.0981170079653308),(36,107,0.826914273506882),(36,109,-0.564973906674398),(36,112,2.30782494582965),(36,115,4.03988769188513),(36,117,1.33918271431623),(36,118,1.96700949125645),(37,85,1.7300637836848),(37,86,0.54269539475692),(37,87,3.15851313821833),(37,91,3.51916562395093),(37,99,2.53729361857967),(37,105,2.02780236213263),(37,111,-1.61456648457289),(37,112,-3.53820917386395),(37,118,-0.339014862514115),(38,87,0.760505996887112),(38,90,-1.44338816492203),(38,103,2.4525742362743),(38,105,0.199667348246712),(38,106,0.86954863124485),(38,111,0.256126590777307),(38,115,-3.28476821192053),(39,87,3.70229194006165),(39,89,0.347758415478988),(39,91,-1.43330179754021),(39,94,3.3357951597644),(39,97,0.728507339701529),(39,98,0.60322885830256),(39,107,-1.52471999267556),(39,108,-0.457731864375744),(39,109,-1.99035615100559),(39,111,-2.714560380871),(39,113,4.45789971617786),(39,116,-2.70937223426008),(39,118,-0.983947264015625),(40,88,-0.113483077486496),(40,92,-1.12208929715873),(40,99,2.88785973693045),(40,104,1.541001617481),(40,110,-1.47631763664663),(40,116,-2.36249885555589),(40,118,-0.250404370250557),(41,88,-0.940351573229164),(41,93,-0.421002838221381),(41,96,2.20455030976287),(41,97,-1.37936033204138),(41,100,1.30077517014069),(41,101,-3.43244727927488),(41,104,-0.992614520706809),(41,105,-0.558503982665487),(41,106,-2.55458235419782),(41,107,0.640049439985351),(41,109,-1.91100802636799),(41,110,-2.03640858180486),(41,111,-0.975310525833918),(41,112,0.688055055391095),(42,85,-0.285775322733238),(42,86,4.5754570146794),(42,87,0.438138981292154),(42,99,-0.0702688680684835),(42,100,-0.787408062990204),(42,103,-3.15599536118656),(42,109,-0.737296670430616),(42,113,2.09685048982208),(43,85,2.68826868495743),(43,88,-1.66936246833705),(43,89,-0.295937986388745),(43,93,-2.36179692983795),(43,97,-3.31171605578784),(43,98,-2.84055604724265),(43,101,1.75466170232246),(43,102,0.491210669270913),(43,103,-0.117191076387829),(43,105,-2.97448652607807),(43,110,-0.577028717917417),(43,112,0.185186315500351),(43,114,-4.66786706137272),(43,116,-1.5584276863918),(44,89,0.130924405652028),(44,98,2.21190527054659),(44,99,2.52328562273019),(45,87,3.22498245185705),(45,88,0.147724845118564),(45,90,0.0581530198065128),(45,91,0.173955504013184),(45,95,1.38045899838252),(45,98,0.880123294778283),(45,108,-0.279961546678061),(45,109,1.07142857142857),(45,112,4.35871456038087),(45,115,-0.691106906338695),(46,85,-2.84218878749962),(46,89,1.4524521622364),(46,91,0.907193212683493),(46,94,-1.15755180516984),(46,97,-0.865367595446638),(46,100,-2.84743797112949),(46,101,1.83095797601245),(46,108,2.41065706350902),(46,112,-1.34162419507431),(47,86,-0.394650105288858),(47,91,-0.468626972258675),(47,92,-1.16574602496414),(47,94,0.214194158757286),(47,95,-0.443662831507309),(47,100,0.689046906949065),(47,101,-1.11232337412641),(47,104,1.02679525131993),(47,105,1.01495406964324),(47,108,3.10045167394025),(47,112,3.41332743308817),(47,114,-1.95265053254799),(47,118,-0.534379100924711),(48,86,-1.42632831812494),(48,91,1.96798608355968),(48,98,1.05525376140629),(48,99,2.69035920285653),(48,100,-2.53637806329539),(48,103,-3.05935850093081),(48,105,-0.678365428632466),(48,106,-2.954222235786),(48,111,0.0571306497390665),(48,115,1.01443525498215),(49,87,-1.79532761619922),(49,89,3.29879146702475),(49,93,-1.41598254341258),(49,94,1.93075350199896),(49,95,2.23975341044343),(49,102,2.94978179265725),(49,113,0.925229651783807),(49,114,0.308053834650715),(50,89,-1.10330515457625),(50,105,0.554841761528367),(50,107,1.17712942899869),(51,87,2.80761131626331),(51,92,-1.98225348673971),(51,97,5.26523636585589),(51,98,0.544099246192816),(51,103,2.56950590533158),(51,106,-0.814416943876461),(51,112,1.77983947264016),(51,118,2.5092776268807),(52,89,-3.33921323282571),(52,97,1.36844996490371),(52,106,-0.422910245063631),(52,110,3.50924710837123),(52,111,-1.91409039582507),(52,113,-1.59405804620502),(52,114,1.64824365977966),(52,118,-1.52668843653676),(53,88,1.51397747734001),(53,90,-2.86149174474319),(53,92,0.35186315500351),(53,94,0.356685079500717),(53,104,-1.51458784752953),(53,105,-0.0846278267769404),(53,109,3.28377636036256),(54,85,1.29673146763512),(54,91,-0.984832300790429),(54,94,0.757454145939512),(54,96,4.31791131321146),(54,111,1.35326700643941),(54,112,-0.911572618793298),(54,113,1.0391552476577),(54,118,-1.93653675954466),(55,87,0.870784630878628),(55,95,0.313959166234321),(55,107,-0.376903592028565),(55,110,2.1332438123722),(55,117,-1.60831019013031),(56,107,1.59202856532487),(56,111,-2.85042878505814),(56,113,-1.03122043519395),(56,114,-0.198812829981383),(57,87,-2.81371501815851),(57,90,3.22751548814356),(57,91,0.174108096560564),(57,92,2.72495193334758),(57,93,-1.71001312295907),(57,94,1.53787347025971),(57,95,-2.06114383373516),(57,96,-3.80545976134526),(57,100,2.04446546830653),(57,102,-2.02368236335337),(57,103,2.515259254738),(57,115,1.41613513595996),(58,86,0.869945371868038),(58,87,-3.3487655262917),(58,89,-1.82966093935972),(58,90,2.0570238349559),(58,95,-0.801965392010254),(58,96,1.79090243232521),(58,101,1.12102114932707),(58,103,0.394299142429884),(58,109,-2.64969328897977),(58,110,-1.92399365215003),(58,113,0.313470870082705),(58,114,-1.0635700552385),(58,115,0.75670644245735),(58,118,-3.38015381328776),(59,85,3.28557695242164),(59,86,1.63335062715537),(59,90,-0.548768578142643),(59,91,-3.4873500778222),(59,93,2.70383312479019),(59,97,2.43856624042482),(59,98,-0.25426496169927),(59,100,1.2833491012299),(59,102,1.73104037598804),(59,112,-1.61519211401715),(59,114,1.11244544816431),(60,85,-1.49757377849666),(60,87,-3.11310159611805),(60,90,0.253715628528703),(60,91,1.38996551408429),(60,96,2.67773979918821),(60,100,-2.57136753440962),(60,101,-3.37304300057985),(60,105,-1.11453596606342),(60,107,1.08284249397259),(60,109,1.08279671620838),(60,110,4.20163579210791),(60,114,-1.24211859492782),(61,89,1.0401165807062),(61,94,-4.32670064394055),(61,96,1.05906857509079),(61,98,1.71536912137211),(61,100,-1.21448408459731),(61,102,0.0296792504654072),(61,103,-5.42474135563219),(61,114,-0.56900234992523),(61,115,-2.00430310983612),(62,93,1.21498764000366),(62,95,-2.94747764519181),(62,107,-2.46635334330271),(62,109,-0.0819879757072663),(62,110,-1.54423657948546),(62,111,0.87351603747673),(63,87,-1.4136631366924),(63,90,-0.821298867763299),(63,93,1.63373210852382),(63,97,-3.46130252998444),(63,100,-1.21810052797021),(63,103,-0.659215063936277),(63,104,-1.49551377910703),(63,108,-0.262855922116764),(63,111,-1.12140263069552),(63,114,-2.47250282296213),(63,117,-1.20659504989776),(64,87,-0.185705130161443),(64,94,-2.06427198095645),(64,99,-1.09105197302164),(64,110,-1.70767845698416),(64,112,-2.24550614947966),(64,116,0.075426496169927),(65,87,0.055009613330485),(65,88,1.18362987151707),(65,90,2.78473769341105),(65,97,0.543580431531724),(65,99,-3.48046815393536),(65,107,-0.507248146000549),(65,110,3.25731681264687),(65,111,-3.73541978209784),(65,114,-0.748008667256691),(65,116,-3.59601123081149),(65,117,-0.199743644520402),(66,85,-0.458845789971618),(66,102,4.35398419141209),(66,105,0.61192663350322),(66,108,-3.45635853144932),(66,111,-1.95471053193762),(66,115,-0.322061830500198),(66,118,3.42425305948057),(67,86,1.21753593554491),(67,90,-2.65489669484542),(67,92,-1.04846339304788),(67,104,2.26546525467696),(67,109,1.48480178228095),(67,111,-1.16289254432814),(68,87,2.73828852198859),(68,88,-2.67387920773949),(68,90,-3.11836603900266),(68,93,-4.69040498062075),(68,95,-1.20325327311014),(68,96,-4.16716513565478),(68,97,0.183141575365459),(68,103,2.10333567308573),(68,107,-2.81655323953978),(68,112,2.27523117770928),(68,114,-0.841090121158483),(69,87,0.371807000946074),(69,88,-2.04086428418836),(69,92,1.41819513534959),(69,94,2.40081484420301),(69,95,-1.38080996124149),(69,97,-2.77253028962065),(69,108,2.14659566026795),(69,113,-3.14213995788446),(69,114,1.02687154759362),(69,118,0.306772057252724),(70,85,1.78044984282968),(70,86,-0.567491683706168),(70,87,-1.07612842188788),(70,90,1.95005645924253),(70,96,1.43292031617176),(70,97,-1.90948210089419),(70,99,-2.37434003723258),(70,105,-1.46351512192145),(70,107,1.07225257118442),(70,109,-0.141972106082339),(70,110,0.805764946440016),(70,111,-0.88670003357036),(71,85,1.79677724539933),(71,93,-2.12369151890622),(71,96,-0.658345286416211),(71,100,-0.498214667195654),(71,104,-2.69753105258339),(71,106,2.40173039948729),(71,111,-2.30414746543779),(71,113,0.11040070802942),(72,94,-0.507110812707907),(72,96,-2.94769127475814),(72,99,-1.24021118808557),(72,110,0.165868099002045),(72,112,1.97859126560259),(72,114,-0.535828730124821),(72,115,0.147251808221686),(72,116,-0.566667683950316),(73,88,0.195898312326426),(73,94,-2.33191930906095),(73,99,1.55110324411756),(73,100,-0.12961210974456),(73,106,1.41445661793878),(73,110,2.51617481002228),(73,115,1.41520432142094),(74,90,-1.47059541611988),(74,94,2.99627674184393),(74,99,-2.10005493331706),(74,102,0.043870357371746),(74,106,-2.067384868923),(74,107,3.3211004974517),(74,110,1.83684804834132),(74,113,-0.970610675374615),(74,116,1.68317209387494),(75,85,-1.19017609179968),(75,86,-1.34792626728111),(75,93,1.42551957762383),(75,98,0.600207525864437),(75,103,-1.37261574144719),(75,105,-0.781533249916074),(75,111,1.30207220679342),(75,117,0.840083010345775),(76,86,-2.67168187505722),(76,89,-1.72716452528459),(76,92,0.54223761711478),(76,94,-0.901745658742027),(76,99,1.45997497482223),(76,101,-1.01123081148717),(76,103,-0.262535477767266),(76,106,1.54841761528367),(76,110,2.13873714407788),(76,113,3.85311441389203),(77,88,0.253105258339183),(77,91,-2.62115848261971),(77,93,-1.4303262428663),(77,98,-1.51776177251503),(77,101,0.545640430921354),(77,102,0.220084231086154),(77,103,2.99768059327982),(77,104,-1.04075746940519),(77,105,-0.380184331797235),(77,109,-2.0699942014832),(78,88,-1.09582811975463),(78,93,2.92002624591815),(78,94,1.79013946958831),(78,101,0.744605853450118),(78,104,1.69359416486099),(78,110,-1.28289132358776),(78,114,2.34641560106204),(78,116,0.967284157841731),(78,117,2.75908688619648),(78,118,-1.62421033356731),(79,87,1.94082461012604),(79,92,0.291451765495773),(79,94,0.673970763267922),(79,107,-1.7462843714713),(79,108,4.21591845454268),(79,114,1.69652394177068),(79,118,-0.299295022431104),(80,87,1.29497665334025),(80,88,1.30672627948851),(80,91,0.613727225562303),(80,99,-1.57571642200995),(80,101,-0.135700552385022),(80,107,1.99552903836177),(80,113,-0.992156743064669),(81,85,-0.668584246345408),(81,86,-1.34298226874599),(81,90,-4.9636982329783),(81,93,0.258171330912198),(81,96,-1.9658650471511),(81,97,2.44032105471969),(81,106,1.78083132419813),(81,107,2.34380626850185),(81,110,0.010208441419721),(81,115,2.75101474044008),(82,86,0.0690328684347057),(82,92,-2.3228247932371),(82,110,-0.954542680135502),(82,112,-1.91946165349284),(83,87,-4.11748100222785),(83,91,1.70790734580523),(83,93,2.54760887478256),(83,101,-1.7412640766625),(83,103,-0.315790276802881),(83,105,-0.994109927671133),(83,108,-0.485122226630451),(84,85,-1.0239722891934),(84,86,-0.590319528794214),(84,89,1.10827967162084),(84,95,1.40140995513779),(84,99,1.7184972685934),(84,104,-0.191732535782952),(84,111,-1.61650440992462),(84,113,-2.07922605059969),(84,114,-0.468214972380749),(35,105,-1.60777611621448)]
orgname='BHNEAT_14_3'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()