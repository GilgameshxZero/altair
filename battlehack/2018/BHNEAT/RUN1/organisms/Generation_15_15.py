edge = [(0,85,3.709784234138),(0,89,-2.8276238288522),(0,90,-2.43545335245827),(0,93,-2.59817804498428),(0,98,-1.97897274697104),(0,101,1.40972624897),(0,105,-0.734275337992492),(0,108,-1.22642445142979),(0,113,2.05659657582324),(0,114,1.23722037415693),(0,117,3.76724295785394),(0,118,0.0873439741203037),(1,86,-2.99553666798914),(1,92,5.58539078951384),(1,98,2.119510483108),(1,102,-5.06333353679006),(1,104,0.096354564043092),(1,107,-0.791268654438917),(1,108,1.38584551530503),(1,109,-1.85903500473037),(1,113,-0.249534592730491),(2,87,-2.16116824854274),(2,88,2.51338999603259),(2,100,0.422757652516251),(2,106,-1.83294167912839),(2,108,-2.64342936490982),(2,110,-1.62150181585131),(2,113,-0.697527237769707),(2,118,-1.99789422284616),(3,89,2.01261940366832),(3,92,-2.86513870662557),(3,97,-1.6682180242317),(3,99,3.76396603289895),(3,101,-2.04480880153813),(3,103,1.13053529465621),(3,105,3.2328943754387),(3,108,-3.88969084749901),(3,109,-5.34459974974822),(3,111,-0.15073091830195),(3,112,-4.44160283211768),(3,116,-4.43230613116855),(4,90,-0.525742362743004),(4,91,-0.705542161320841),(4,97,-0.337458418530839),(4,99,-1.39766380809961),(4,101,-3.35782952360607),(4,108,-1.64212469862972),(4,113,-2.04458754234443),(4,118,-2.30605487228004),(5,86,0.4165929136021),(5,87,-1.55960264900662),(5,89,1.48055970946379),(5,92,-2.53999450666829),(5,93,-0.286797692800684),(5,99,3.83781701101718),(5,104,1.97563097018342),(5,114,1.08554338206122),(5,118,1.94487975707266),(6,89,-2.55583361308634),(6,92,-3.02188558610797),(6,94,1.9129001739555),(6,100,0.174184392834254),(6,101,-1.92565691091647),(6,103,-1.38417462691122),(6,107,-2.94904934842982),(6,110,2.83699301126133),(6,113,2.41172521134068),(7,85,0.737250892666402),(7,86,1.80890835291604),(7,90,-3.30843150120548),(7,95,0.879146702475051),(7,99,1.53646198919645),(7,100,2.15390484328745),(7,104,-2.41134372997223),(7,106,-0.227782525101474),(7,108,1.54593798638875),(7,112,-1.834070863979),(7,116,-0.415776543473617),(8,92,0.878025147251808),(8,93,-0.197172460097049),(8,95,1.1842402417066),(8,99,1.4074373607593),(8,106,-1.09885708182012),(8,107,0.522057252723777),(8,115,-0.428930021057772),(8,116,0.44678334910123),(8,118,-0.844943082979827),(9,85,-1.14089251380963),(9,87,1.41651661732841),(9,98,-2.1935178685873),(9,101,-2.48294778283029),(9,103,5.24796288949248),(9,105,-0.157124546037172),(9,106,0.957869197668386),(9,113,-1.07472457045198),(10,89,-4.39351329081088),(10,96,0.37420270393994),(10,106,-0.521713919492172),(10,108,1.84522537919248),(10,111,-0.280129398480178),(10,112,2.66621143223365),(10,114,-0.137577440717795),(10,115,-0.855327005829035),(10,116,-0.644398327585681),(10,117,1.18903164769433),(11,89,-0.134281441694388),(11,97,4.35197378460036),(11,105,-2.49179052095096),(11,112,1.48951689199499),(11,115,-0.466322824793237),(12,92,2.10998107852412),(12,93,-0.8714560380871),(12,94,3.38620029297769),(12,97,1.00153355510117),(12,98,1.59498886074404),(12,99,-1.37318033387249),(12,108,4.81028550065615),(12,116,1.5729239783929),(13,86,0.385601367229225),(13,87,3.41417432172613),(13,90,-0.498107852412488),(13,99,4.65698721274453),(13,102,2.53360850856044),(13,104,-2.60448774681845),(13,113,2.28177739799188),(13,116,-1.83552812280648),(13,118,-1.50864436780908),(14,90,-3.58334604937895),(14,93,5.43425550096133),(14,95,1.02870265816218),(14,102,-1.27430036317026),(14,104,1.55507065034944),(14,106,2.44167912839137),(14,109,2.38291573839534),(14,110,2.16351817377239),(14,111,-4.25434888760033),(15,85,-0.611980040894803),(15,92,3.84092989898373),(15,99,-4.52227851191748),(15,101,-2.92870876186407),(15,104,1.10877941221351),(15,108,-0.546327097384564),(15,117,-0.466414380321664),(16,86,-2.2133548997467),(16,87,0.777993102816858),(16,88,0.682241279335917),(16,90,1.88543351542711),(16,91,-2.83207953123569),(16,95,-3.64939191869869),(16,97,-3.97981200598163),(16,98,-1.07142857142857),(16,99,-2.47944578386792),(16,101,-1.94242683187353),(16,108,8),(16,110,0.743465224158452),(17,89,-0.161717581713309),(17,96,1.95020905178991),(17,99,1.23462630085147),(17,101,1.41664632099368),(17,106,-2.74765770439772),(17,107,0.666295358134709),(17,109,-2.10264900662252),(18,90,1.29085665456099),(18,91,-0.290173802911466),(18,93,-2.00308236945708),(18,99,0.613193151646474),(18,102,3.6356318857387),(18,103,-0.0944624164555803),(18,104,-1.00577562791833),(18,110,-3.50515762810144),(18,111,-2.21985534226508),(18,116,4.3954283272805),(18,117,-2.10070345164342),(18,118,0.604060487685781),(19,87,-0.273064363536485),(19,89,-3.2160863063448),(19,93,2.46906186101871),(19,95,-0.16727958006531),(19,101,-0.0636844996490371),(19,105,-6.73373363444929),(19,115,-1.12514114810633),(20,88,-2.79139835810419),(20,101,2.86718344676046),(20,103,0.600474562822352),(20,104,-0.835528122806482),(20,105,1.6012756736961),(20,106,-1.23678548539689),(20,111,0.636730552079836),(20,116,1.15549943540757),(21,86,0.153698843348491),(21,87,1.24744407483139),(21,94,-0.50606173894467),(21,96,1.29352702414014),(21,101,2.99870296334727),(21,102,2.49153111362041),(21,105,1.27961821344646),(21,107,5.40639973143712),(21,108,3.56048768578143),(22,86,-1.12220374156926),(22,88,-2.14394817957091),(22,91,3.86518448438978),(22,92,0.0455793939024018),(22,93,2.27111117893002),(22,98,0.0997573778496658),(22,106,-5.27229377117222),(22,115,4.11674092837306),(22,117,-2.48760185552538),(23,85,-4.66103854487747),(23,86,-0.991821039460433),(23,88,-1.14629047517319),(23,90,1.11815240943632),(23,97,-2.28362376781518),(23,104,5.68863490707114),(23,112,-1.68927579577013),(23,114,1.50288399914548),(23,115,-4.28492080446791),(23,116,-1.98787652211066),(24,89,-3.61111026337474),(24,90,0.573442793053987),(24,91,0.690580462050233),(24,101,2.79118854335154),(24,107,0.427793206579791),(24,108,2.4983520004883),(24,110,-1.9450666829432),(24,112,-2.4964064455092),(25,90,-4.92416913357952),(25,92,2.70374156926176),(25,94,0.915250099185156),(25,98,-2.91307565538499),(25,105,1.03983428449355),(25,108,0.147709585863826),(25,109,2.02543717764824),(25,115,0.506828516495254),(26,85,0.00257881405072191),(26,87,0.274513992736595),(26,89,0.957575457014679),(26,95,0.361796929837947),(26,98,1.86040833765679),(26,100,0.134319589831232),(26,101,1.30204168828394),(26,102,0.246887112033448),(26,103,1.66174047059542),(26,104,3.28378398998993),(26,107,-4.10401470992157),(26,109,0.388752403332621),(26,112,6.72385326700644),(26,113,1.09444715720084),(26,117,-4.46053193762017),(27,85,-2.19618823816645),(27,87,0.519814142277291),(27,94,3.28508865627003),(27,100,0.369861445966979),(27,102,1.9613101596118),(27,103,-2.0532090212714),(27,104,1.28070162053285),(27,105,-3.1647465437788),(27,108,-0.691892757957701),(27,110,2.13246559038057),(27,114,4.03213599047823),(28,87,-3.26088747825556),(28,88,-0.775856807153539),(28,97,0.210673085726493),(28,99,1.67775505844295),(28,104,-3.56145664845729),(28,113,-0.291100802636799),(28,114,-1.80448316904202),(29,88,5.98033845027009),(29,91,1.05800042725913),(29,102,0.633030182805872),(29,105,-4.78138828699606),(29,116,-1.87268440809351),(30,95,6.54840235602893),(30,96,3.2946943571276),(30,99,1.91262550737022),(30,101,-2.52151554918058),(30,104,0.582102420117801),(30,109,-0.563219092379528),(30,110,2.05412457655568),(30,114,-2.77875606555376),(30,118,-1.81101413006989),(31,85,3.07094790490432),(31,92,2.78376110110782),(31,94,-0.841219824823755),(31,96,2.88505966368603),(31,99,-0.566080202642903),(31,103,-2.73580889309366),(31,107,-1.72223578600421),(31,108,-0.816827906125065),(31,109,-2.12126529740287),(31,111,-0.399250770592364),(31,112,-1.63163396099734),(31,117,3.25822473830378),(32,86,-4.48847163304544),(32,87,3.28717154454176),(32,89,-0.0262764366588335),(32,92,-1.6293069246498),(32,98,2.0495925778985),(32,99,0.448850978118229),(32,104,2.011123996704),(32,106,2.73634296700949),(32,109,2.62170781579028),(32,116,1.47523422956023),(32,118,-2.02641376995148),(33,96,-3.7231742301706),(33,98,-4.03726310007019),(33,108,1.10119174779504),(33,110,-0.309488204596087),(33,111,0.878482924893948),(33,114,0.16243095187231),(34,85,-2.91174810022278),(34,90,-1.5972624897),(34,99,1.2080370494705),(34,104,-4.4061326944792),(34,109,-5.46650593585009),(35,86,3.23557237464522),(35,87,0.735045930356762),(35,97,0.32959990234077),(35,98,0.327654347361675),(35,100,-1.50540177617725),(35,104,-3.30632953886532),(35,107,-0.511566515091403),(35,109,-0.590151676992096),(35,110,-1.97376171147801),(35,112,2.21198156682028),(36,85,-1.52525406659139),(36,87,-1.84166997283853),(36,90,1.33152256843776),(36,91,-0.298432874538408),(36,104,-0.92398602252266),(36,107,4.14103366191595),(36,109,-1.41361735892819),(36,112,-0.543603320413831),(36,115,3.39266640217292),(36,117,-5.38896603289895),(36,118,1.17755287331767),(37,85,-1.03537095248268),(37,86,-5.87969603564562),(37,87,2.68471327860347),(37,91,-0.21530808435316),(37,99,1.81966612750633),(37,105,-0.573740348521378),(37,111,4.43202764976959),(37,112,1.86967070528275),(37,118,-1.19113742484817),(38,87,-2.11813715018159),(38,90,-0.978553117465742),(38,103,0.323126163518174),(38,105,5.41597491378521),(38,106,-3.32735679189428),(38,111,2.08625293740654),(38,115,-1.56463057344279),(39,87,-0.319452497940001),(39,89,-3.76171147801141),(39,91,2.3323007904294),(39,94,0.560289315469832),(39,97,-1.63785210730308),(39,98,3.43218787194433),(39,107,-2.92711416974395),(39,108,3.686109500412),(39,109,0.625553147984252),(39,111,-0.731376079592273),(39,113,-0.647350993377483),(39,116,0.287255470442824),(39,118,-3.99448377941221),(40,88,1.66170232245857),(40,92,-3.19029053621021),(40,99,1.42670979949339),(40,104,-1.14058351390118),(40,110,-3.78271584215827),(40,116,1.63229773857845),(40,118,0.662442396313364),(41,88,0.788445692312387),(41,93,2.27301858577227),(41,96,-0.724654377880185),(41,97,1.04045228431043),(41,100,-1.35227515488144),(41,101,-1.34632404553362),(41,104,1.79956968901639),(41,105,1.95547349467452),(41,106,2.08545182653279),(41,107,-7.87499618518632),(41,109,-0.0506607257301552),(41,110,3.8826792199469),(41,111,-2.37659840693381),(41,112,4.73663289284951),(42,85,-2.92356639301736),(42,86,0.357493820001831),(42,87,2.83442182683798),(42,99,0.00387203588976724),(42,100,-5.17375713370159),(42,103,-2.92214728232673),(42,109,1.79738761558885),(42,113,-1.76409192175054),(43,85,-1.67709891048921),(43,88,-0.198408459730827),(43,89,-1.01031525620289),(43,93,1.15314188055055),(43,97,0.941724906155583),(43,98,0.349810785241249),(43,101,2.37556077761162),(43,102,2.42339472640156),(43,103,-1.87910092471084),(43,105,3.69415112765892),(43,110,-0.59366512039552),(43,112,0.295625171666616),(43,114,0.479689931943724),(43,116,-1.61793877986999),(44,89,-0.661450544755394),(44,98,2.20709860530412),(44,99,1.27483443708609),(45,87,-1.84326456495865),(45,88,-5.51899014252144),(45,90,-0.906323435163427),(45,91,0.358607745597705),(45,95,-1.26847132786035),(45,98,-2.37472151860103),(45,108,0.829042939542833),(45,109,6.43369090853603),(45,112,-0.700415051728873),(45,115,-0.252395702993866),(46,85,-1.04039887691885),(46,89,-1.27340006714072),(46,91,0.446821497238075),(46,94,0.630359813226722),(46,97,-0.649517807550279),(46,100,2.91594439527573),(46,101,1.47386852626118),(46,108,-3.08767204809717),(46,112,-1.01438947721793),(47,86,0.755859553819391),(47,91,-2.45185705130161),(47,92,2.9758064516129),(47,94,0.386974700155644),(47,95,-1.3647114474929),(47,100,1.95087282937101),(47,101,1.34166997283853),(47,104,-5.26718955046236),(47,105,-2.32909634693442),(47,108,1.20487075411237),(47,112,1.23160496841334),(47,114,1.75805688650166),(47,118,1.36584063234352),(48,86,2.34751426740318),(48,91,-2.48657185583056),(48,98,-0.0307473982970672),(48,99,-0.943624683370464),(48,100,-0.763889736625263),(48,103,-3.06970427564318),(48,105,1.63180944242683),(48,106,0.536561174352244),(48,111,-2.05641346476638),(48,115,-0.0514999847407453),(49,87,3.60323648792993),(49,89,0.103396710104678),(49,93,0.787530137028107),(49,94,0.490661336100345),(49,95,1.66808832056642),(49,102,-2.03637043366802),(49,113,0.13304544206061),(49,114,0.954008606219672),(50,89,-0.566980498672445),(50,105,0.580156865138707),(50,107,-1.870792260506),(51,87,-1.47169408246101),(51,92,2.35657826471755),(51,97,-0.228740043336284),(51,98,-0.312631611072115),(51,103,-0.0413449507126074),(51,106,-0.2243797112949),(51,112,2.08098086489456),(51,118,-2.60374004333628),(52,89,-1.21729941709647),(52,97,0.489295632801294),(52,106,1.24622333445235),(52,110,-0.261009552293466),(52,111,-0.481490524002808),(52,113,1.56476027710807),(52,114,-1.47502822962127),(52,118,3.80730613116855),(53,88,1.77883999145482),(53,90,-5.80347605822932),(53,92,0.399243140964995),(53,94,0.523010956144902),(53,104,-1.46858119449446),(53,105,-0.0611667226172673),(53,109,1.32658619953001),(54,85,-0.797067171239357),(54,91,-4.941671498764),(54,94,2.31429486983856),(54,96,-1.86429944761498),(54,111,-3.07035279396954),(54,112,-2.05946531571398),(54,113,3.26305429242836),(54,118,-3.7597964415418),(55,87,-2.49603259376812),(55,95,-1.54835657826472),(55,107,1.52710806604205),(55,110,-4.79773857844783),(55,117,-1.92304757835627),(56,107,-1.9325159459212),(56,111,-0.949781792657247),(56,113,-3.03112125003815),(56,114,1.44798501541185),(57,87,-1.86111789300211),(57,90,0.0734122745445109),(57,91,-1.93060090945158),(57,92,0.283509323404645),(57,93,2.18678090762047),(57,94,0.307443464461196),(57,95,-1.15046769615772),(57,96,-0.131717886898404),(57,100,-0.727698599200415),(57,102,-2.672276985992),(57,103,0.634022034363842),(57,115,-1.43459883419294),(58,86,1.55900753807184),(58,87,0.369151890621662),(58,89,1.58848841822565),(58,90,-2.85504470961638),(58,95,-2.87009033478805),(58,96,1.63342692342906),(58,101,-4.98741492965484),(58,103,-0.171536912137212),(58,109,-1.40053254799036),(58,110,4.042428357799),(58,113,-0.317804498428297),(58,114,0.772576067384869),(58,115,-0.633289590136418),(59,85,0.0227362895596182),(59,86,-0.677129428998688),(59,90,-1.27803888058107),(59,91,-0.642376476332896),(59,93,0.605548265022736),(59,97,-1.0765404217658),(59,98,1.74374370555742),(59,100,0.1082644123661),(59,102,1.76903592028565),(59,112,2.21552934354686),(59,114,-2.05379650257881),(60,85,1.31060213019196),(60,87,-1.87504196295053),(60,90,2.27984710226753),(60,91,-2.52803888058107),(60,96,2.2141178624836),(60,100,-1.03219702749718),(60,101,-0.665341654713584),(60,105,-3.4709845271157),(60,107,-0.400318918424024),(60,109,2.2020325327311),(60,110,3.39328440198981),(60,114,-1.38050477614673),(61,89,1.5249794000061),(61,94,-3.43910794396802),(61,96,-0.383060701315348),(61,98,0.134949034089175),(61,100,0.403073213904233),(61,102,-0.300035096285897),(61,103,-2.49946592608417),(61,114,0.265068514053773),(61,115,5.80858790856655),(62,93,1.93990905484176),(62,95,-3.76132999664296),(62,107,0.389873958555864),(62,109,-0.359057893612476),(62,110,-2.8530228583636),(62,111,0.246246223334452),(63,87,0.90088351084933),(63,90,7.85026856288339),(63,93,-2.74441511276589),(63,97,3.66738639484848),(63,100,-0.0534836878566851),(63,103,2.34565263832514),(63,104,-1.91121402630696),(63,108,-3.34185689870907),(63,111,-1.25165562913907),(63,114,2.35707037568285),(63,117,-2.99661244544816),(64,87,2.25726340525529),(64,94,0.384914700766015),(64,99,1.42016357921079),(64,110,-0.651913510544145),(64,112,-1.99693288979766),(64,116,-1.83148442030091),(65,87,0.58363597521897),(65,88,-3.90048677022614),(65,90,-1.308328501236),(65,97,5.60164189580981),(65,99,-1.80516983550523),(65,107,1.1594058046205),(65,110,-2.19448683126316),(65,111,-0.408474990081484),(65,114,-3.063890499588),(65,116,5.66457869197668),(65,117,2.18985564745018),(66,85,-1.99188970610675),(66,102,-1.49000518814661),(66,105,-0.841517380291147),(66,108,1.13854640339366),(66,111,-0.209707937864315),(66,115,1.21295815912351),(66,118,-2.28905606250191),(67,86,1.33333841975158),(67,90,-0.939939573351237),(67,92,-0.817957090975677),(67,104,-1.34194463942381),(67,109,1.8198950163274),(67,111,-1.22150334177679),(68,87,-1.89229255043184),(68,88,1.07510605182043),(68,90,-2.05061113315226),(68,93,-2.65482039857173),(68,95,-5.19358653523362),(68,96,1.09450056459243),(68,97,3.07727286599322),(68,103,-0.60171056245613),(68,107,0.246417889950255),(68,112,-0.655652027954955),(68,114,-0.671277504806665),(69,87,2.64551225318155),(69,88,-1.05732139042329),(69,92,-2.80045472579119),(69,94,-1.01173055207984),(69,95,-1.40335551011689),(69,97,1.56186101870785),(69,108,1.94280831324198),(69,113,-0.595713675344096),(69,114,-0.426236762596515),(69,118,2.12720114749596),(70,85,-0.425046540726951),(70,86,0.865932187871944),(70,87,-0.876476332895901),(70,90,-0.152882473220008),(70,96,0.456289864803003),(70,97,-0.0301789910580767),(70,99,1.31686986907559),(70,105,0.482604449598682),(70,107,-1.62591937009796),(70,109,-2.31059068575091),(70,110,-1.75832392345958),(70,111,-0.192571794793542),(71,85,0.522019104586932),(71,93,1.96334727011933),(71,96,-1.37489700003052),(71,100,-1.20719016083254),(71,104,-0.772633289590136),(71,106,-0.804582354197821),(71,111,2.96612445448164),(71,113,-1.35303811761834),(72,94,-2.0463423566393),(72,96,0.743095187231056),(72,99,-0.987426374095889),(72,110,0),(72,112,1.35551774651326),(72,114,-0.570925016022217),(72,115,-0.806146427808466),(72,116,2.92069765312662),(73,88,-0.562303537095248),(73,94,2.16588335825678),(73,99,-1.10061189611499),(73,100,-0.857951597643971),(73,106,-1.6720328379162),(73,110,-2.11111789300211),(73,115,0.700857570116276),(74,90,0.996124149296548),(74,94,0.771973326822718),(74,99,-1.00978118228706),(74,102,-2.90162358470412),(74,106,2.68723105563524),(74,107,-1.52241584521012),(74,110,2.5929555650502),(74,113,-0.955839716788232),(74,116,-0.973426007873776),(75,85,-2.09761345255898),(75,86,-0.65500350962859),(75,93,-1.7872859889523),(75,98,-4.62569811090426),(75,103,1.13415936765648),(75,105,-2.9124576555681),(75,111,-1.80936613055818),(75,117,-0.87008270516068),(76,86,-2.30487990966521),(76,89,-1.11243781853694),(76,92,-4.05557420575579),(76,94,3.21714682454909),(76,99,0.722891933957946),(76,101,2.11375011444441),(76,103,-0.579508346812342),(76,106,-0.156178472243416),(76,110,-2.14186529129917),(76,113,-0.95299768059328),(77,88,0.675733207190161),(77,91,1.89501632740257),(77,93,-0.450109866634114),(77,98,-1.54660176396985),(77,101,-2.34530167546617),(77,102,-2.15590380565813),(77,103,1.94067201757866),(77,104,-0.830675679799799),(77,105,1.01519440290536),(77,109,-1.29749443037202),(78,88,0.643593401898251),(78,93,0.320307016205329),(78,94,0.85308389538255),(78,101,1.8053758354442),(78,104,2.105533005768),(78,110,-0.233626819666127),(78,114,3.04124576555681),(78,116,-0.846354564043092),(78,117,0.640461439863277),(78,118,-2.85771507919553),(79,87,0.442060609759819),(79,92,-4.2539368877224),(79,94,2.89018677327799),(79,107,0.0804849391155735),(79,108,-0.561494796594134),(79,114,3.178479873043),(79,118,-0.828501235999634),(80,87,3.28690450758385),(80,88,2.37968077639088),(80,91,1.75032807397687),(80,99,1.18460646382031),(80,101,-0.494193853572192),(80,107,-2.33565782647175),(80,113,-0.232531968138676),(81,85,0.673848689230018),(81,86,0.132984405041658),(81,90,-0.75995284890286),(81,93,1.81820123905149),(81,96,-0.933168279061251),(81,97,-1.76290169988098),(81,106,2.04448072756127),(81,107,0.729804376354259),(81,110,2.09547715689566),(81,115,0.386616107669301),(82,86,-2.02513199255348),(82,92,1.58078249458296),(82,110,-3.80408642841884),(82,112,0.965376750999481),(83,87,-0.0298699911496322),(83,91,-1.72055726798303),(83,93,1.53470717490158),(83,101,-4.08523819696646),(83,103,1.66203802606281),(83,105,-0.605395672475356),(83,108,-3.15991698965422),(84,85,-2.72521897030549),(84,86,-2.47085482345042),(84,89,0.225264748069704),(84,95,-2.54562517166662),(84,99,-1.05248802148503),(84,104,2.31547746208075),(84,111,-0.486968596453749),(84,113,-4.89814447462386),(84,114,-1.15550706503494),(10,119,0.705793939024018),(119,109,1.68074205755791),(58,120,-2.59150593585009),(120,118,0.550782799768059),(95,104,-0.739768669698172)]
orgname='BHNEAT_15_15'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()