edge = [(0,85,1.84807885982849),(0,89,-0.621860408337657),(0,90,-1.68012024292734),(0,93,-0.372463148899808),(0,98,3.019394512772),(0,101,0.610034485915708),(0,105,2.69774468214972),(0,108,1.08119449446089),(0,113,2.19591357158116),(0,114,-1.36652729880673),(0,117,2.03146458326975),(0,118,2.39690847499008),(1,86,-0.632709738456374),(1,92,2.55990783410138),(1,98,3.10190130314035),(1,102,-2.56550798059023),(1,104,-0.622318185979797),(1,107,-0.818414868617817),(1,108,0.737250892666402),(1,109,-2.79551072725608),(1,113,0.995773186437575),(2,87,-1.28899502548296),(2,88,1.66760765404218),(2,100,0.671758171330912),(2,106,-0.639240699484237),(2,108,0.731879634998627),(2,110,-2.27860347300638),(2,113,-0.611407818842128),(2,118,-0.191076387829218),(3,89,2.26990569780572),(3,92,1.86515396588031),(3,97,-0.429395428327281),(3,99,2.52531510361034),(3,101,-0.166005432294687),(3,103,2.35421308023316),(3,105,2.1132847071749),(3,108,-1.09575182348094),(3,109,0.932737205114902),(3,111,1.43379009369182),(3,112,2.45893734550005),(3,116,-2.30045472579119),(4,90,1.70073549607837),(4,91,1.15018158513138),(4,97,-1.62575151829585),(4,99,-0.0043031098361156),(4,101,-2.36361278115177),(4,108,-1.49876400036622),(4,113,-1.1686605426191),(4,118,-1.50144962920011),(5,86,0.042970061342204),(5,87,1.01051362651448),(5,89,-1.20888393810846),(5,92,-1.11554307687613),(5,93,2.2686544389172),(5,99,2.45541245765557),(5,104,1.25928525650807),(5,114,1.73184911648915),(5,118,-0.604617450483718),(6,89,1.74988555558947),(6,92,0.844370860927152),(6,94,-1.32518997772149),(6,100,1.31907101657155),(6,101,-2.26410718100528),(6,103,-0.541062654499954),(6,107,-0.990218817712943),(6,110,0.368083742790002),(6,113,-0.521134067812128),(7,85,-2.01879940183721),(7,86,2.25736259041108),(7,90,-2.44821008941923),(7,95,-0.946333201086459),(7,99,1.80269783623768),(7,100,1.85261085848567),(7,104,0.388058107242042),(7,106,0.842310861537522),(7,108,-1.97067171239357),(7,112,-0.99992370372631),(7,116,-0.604266487624744),(8,92,-0.343440046388134),(8,93,-0.436246833704642),(8,95,-1.90266121402631),(8,99,-3.10974456007569),(8,106,-1.0807977538377),(8,107,0.78507339701529),(8,115,-1.27196569719535),(8,116,-1.43304239020966),(8,118,-0.201651051362651),(9,85,1.91380046998505),(9,87,-1.87287514877773),(9,98,-0.401730399487289),(9,101,1.50766014587848),(9,103,-0.00320444349497973),(9,105,-1.91109958189642),(9,106,2.40238654744102),(9,113,0.386654255806146),(10,89,0.651921140171514),(10,96,-0.0307779168065431),(10,106,-1.80275887325663),(10,108,3.23071993163854),(10,111,-1.2482528153325),(10,112,-1.42742698446608),(10,114,-0.556367687002167),(10,115,2.1697439497055),(10,116,-0.909070101016267),(10,117,0.587435529648732),(11,89,0.548814355906857),(11,97,2.972975859859),(11,105,-1.47224341563158),(11,112,-2.99578844569231),(11,115,-0.142979216895047),(12,92,-2.15936765648366),(12,93,-0.932157353434858),(12,94,-1.73726615192114),(12,97,-2.51934873500778),(12,98,2.96801660206915),(12,99,3.03329569383831),(12,108,1.20000305185095),(12,116,2.34414197210608),(13,86,-0.564928128910184),(13,87,0.0794854579302346),(13,90,-1.6332438123722),(13,99,-0.696646015808588),(13,102,1.49121066927091),(13,104,-1.12550737022004),(13,113,0.823145237586596),(13,116,0.454084902493362),(13,118,-0.525986510818812),(14,90,-0.742393261513108),(14,93,1.78826258125553),(14,95,0.86649678029725),(14,102,-1.27954954680013),(14,104,-2.31254005554369),(14,106,2.54365672780541),(14,109,1.0405590990936),(14,110,-1.67998290963469),(14,111,-1.02652058473464),(15,85,1.59584337900937),(15,92,0.566927091280862),(15,99,1.62491225928526),(15,101,0.449156163212989),(15,104,-2.47973570970794),(15,108,-1.66449476607562),(15,117,2.12887966551714),(16,86,-0.479979857783746),(16,87,-0.283989989928892),(16,88,1.40081484420301),(16,90,2.42977690969573),(16,91,1.96234015930662),(16,95,-1.35537278359325),(16,97,-3.01893673512986),(16,98,-2.21712393566698),(16,99,-0.371883297219764),(16,101,-0.955793939024018),(16,108,0.13045136875515),(16,110,-1.24674214911344),(17,89,0.128284554582354),(17,96,-1.71648304696799),(17,99,-2.98019348735008),(17,101,2.29311502426222),(17,106,1.54197820978423),(17,107,-0.228003784295175),(17,109,-0.139912106692709),(18,90,-0.406765953550829),(18,91,-3.19437238685263),(18,93,0.939451277199621),(18,99,1.075014496292),(18,102,1.09794915616321),(18,103,1.56608783227027),(18,104,0.497146519363994),(18,110,0.987243263039033),(18,111,-1.54188665425581),(18,116,0.475096896267586),(18,117,0.940961943418683),(18,118,0.618961149937437),(19,87,-2.63594470046083),(19,89,0.858821375164037),(19,93,1.57635731070895),(19,95,-1.56308175908689),(19,101,2.26606036561174),(19,105,-0.482894375438704),(19,115,-0.857005523850215),(20,88,2.77477340006714),(20,101,1.1758476516007),(20,103,-1.34330271309549),(20,104,-0.129291665395062),(20,105,-2.63026825769829),(20,106,0.405606250190741),(20,111,-2.3650318918424),(20,116,-1.21694082461013),(21,86,1.8099765007477),(21,87,2.3967558824427),(21,94,-3.03138828699606),(21,96,-1.01649525437178),(21,101,3.22629474776452),(21,102,0.853129673146763),(21,105,-3.13789788506729),(21,107,-0.649311807611316),(21,108,-1.08977019562365),(22,86,-1.57098605304117),(22,88,-1.17096469008454),(22,91,2.03666798913541),(22,92,-0.125446333201086),(22,93,-0.577089754936369),(22,98,-1.31212805566576),(22,106,-1.26425977355266),(22,115,1.26793725394452),(22,117,2.47138889736625),(23,85,-1.56665242469558),(23,86,-1.68250068666646),(23,88,2.34411145359661),(23,90,-1.5913571581164),(23,97,1.51762443922239),(23,104,-1.63405255287332),(23,112,-0.939588610492263),(23,114,0.374782555619984),(23,115,0.650837733085116),(23,116,1.32158879360332),(24,89,-1.50544755394147),(24,90,-1.03088473158971),(24,91,0.0713217566454055),(24,101,1.45930356761376),(24,107,-1.56860560930204),(24,108,-0.411740470595416),(24,110,-0.395535142063662),(24,112,-0.864543595690787),(25,90,-1.62797936948759),(25,92,2.03927732169561),(25,94,1.29296243171484),(25,98,-0.354289376506851),(25,105,-0.276467177343059),(25,108,0.246894741660817),(25,109,0.811120944853053),(25,115,-0.657536545915097),(26,85,0.230552079836421),(26,87,1.01757866145817),(26,89,-2.03154087954344),(26,95,2.83446760460219),(26,98,-2.17656483657338),(26,100,0.260704367198706),(26,101,2.2851191747795),(26,102,1.50924710837123),(26,103,1.21498764000366),(26,104,0.271294289986877),(26,107,-0.184728537858211),(26,109,2.86906033509323),(26,112,1.008270516068),(26,113,-1.55742057557909),(26,117,-2.26285592211676),(27,85,-1.25148777733695),(27,87,0.562318796349986),(27,94,0.0689870906704916),(27,100,-1.21117282631916),(27,102,-3.07847834711753),(27,103,-2.00857570116275),(27,104,-2.37942136906033),(27,105,1.0137333292642),(27,108,-2.21938230536821),(27,110,1.25765251625111),(27,114,0.946974089785455),(28,87,-0.840388195440535),(28,88,1.56021301919614),(28,97,2.10264900662252),(28,99,-1.165288247322),(28,104,1.23885311441389),(28,113,-0.580065309610279),(28,114,2.45588549455245),(29,88,0.650471510971404),(29,91,1.00256355479598),(29,102,0.714346751304666),(29,105,-1.09807123020112),(29,116,1.79178746910001),(30,95,-0.120349742118595),(30,96,-2.20615253151036),(30,99,-2.61377300332652),(30,101,-2.05798516800439),(30,104,-0.177312540055544),(30,109,-1.10672322763756),(30,110,-0.620715964232307),(30,114,1.60744041261025),(30,118,3.32441175572985),(31,85,-2.64162114322336),(31,92,0.263710440382092),(31,94,-0.583910641804254),(31,96,1.53770561845759),(31,99,1.78930021057772),(31,103,-2.42814416943876),(31,107,1.84057130649739),(31,108,1.37006744590594),(31,109,-0.622775963621937),(31,111,-2.24816125980407),(31,112,0.861842707602161),(31,117,1.10998870815149),(32,86,1.27285073397015),(32,87,1.01960814233833),(32,89,-0.658543656727805),(32,92,-2.5108035523545),(32,98,-1.20917386394848),(32,99,-0.0552232428968169),(32,104,0.737128818628498),(32,106,2.59454634235664),(32,109,0.597796563615833),(32,116,-1.33452864162114),(32,118,1.35877559739982),(33,96,1.98069704275643),(33,98,-2.06881923886837),(33,108,-2.77820673238319),(33,110,-1.92796105838191),(33,111,1.79064302499466),(33,114,0.731162450025941),(34,85,1.48158207953124),(34,90,-1.71047090060121),(34,99,0.717261268959624),(34,104,-0.432279427472762),(34,109,-1.34002197332682),(35,86,0.65507980590228),(35,87,-1.05314798425245),(35,97,1.89756462294382),(35,98,-1.59634693441572),(35,100,2.10136722922452),(35,104,0.766823328348644),(35,107,-0.738608966338084),(35,109,-0.949217200231941),(35,110,-2.43714712973418),(35,112,-0.373165074617756),(36,85,-1.66365550706503),(36,87,-0.959379863887448),(36,90,-1.33724478896451),(36,91,2.68349253822443),(36,104,0.195089571825312),(36,107,1.56447035126804),(36,109,0.358058412427137),(36,112,-1.17624439222388),(36,115,1.87345500045778),(36,117,-0.634601886043886),(36,118,1.91833246864223),(37,85,-0.982497634815516),(37,86,2.28637043366802),(37,87,-0.912884914700766),(37,91,0.690099795525987),(37,99,-0.252632221442305),(37,105,1.43372905667287),(37,111,-1.08117923520615),(37,112,0.849208044679098),(37,118,-2.18393505661183),(38,87,-0.84987945188757),(38,90,-1.02436902981658),(38,103,-1.05636768700217),(38,105,1.41854609820856),(38,106,0.367824335459456),(38,111,1.78469191564684),(38,115,-0.907376323740349),(39,87,-1.11543626209296),(39,89,-1.8557542649617),(39,91,-1.72704245124668),(39,94,1.26641132847072),(39,97,1.40151676992096),(39,98,-2.24185918759728),(39,107,-1.88140507217627),(39,108,0.37061677907651),(39,109,0.0153965880306406),(39,111,2.37600329599902),(39,113,-0.187017426068911),(39,116,1.57481612598041),(39,118,-2.1170995208594),(40,88,-0.27919858394116),(40,92,0.0460066530350657),(40,99,2.2615436262093),(40,104,0.689458906826991),(40,110,0.968596453749199),(40,116,-0.855723746452223),(40,118,2.4481185338908),(41,88,-1.05494857631153),(41,93,2.34040345469527),(41,96,1.37322611163671),(41,97,1.14810632648701),(41,100,-1.76755577257607),(41,101,2.84330271309549),(41,104,0.864558854945525),(41,105,1.77379680776391),(41,106,0.621631519516587),(41,107,-2.51709036530656),(41,109,2.27254554887539),(41,110,-1.97643971068453),(41,111,0.355754264961699),(41,112,-2.15237891781365),(42,85,0.271568956572161),(42,86,-2.10390026551103),(42,87,-0.0336008789330729),(42,99,0.575350199896237),(42,100,1.94865260780663),(42,103,-0.0151066621906186),(42,109,-2.95797601245155),(42,113,-1.55824457533494),(43,85,0.630252998443556),(43,88,2.02887050996429),(43,89,-1.00289925840022),(43,93,-1.23001800592059),(43,97,1.08728293710135),(43,98,-0.191015350810266),(43,101,-0.859141819513535),(43,102,-0.526886806848354),(43,103,1.94471572008423),(43,105,-1.30520035401471),(43,110,-1.32013916440321),(43,112,2.88996551408429),(43,114,-3.29056672872097),(43,116,1.2617877742851),(44,89,-0.921430097354045),(44,98,1.10797448652608),(44,99,0.00505081331827761),(45,87,-1.6755272072512),(45,88,2.22397534104434),(45,90,-1.54116946928312),(45,91,2.33391827143162),(45,95,-1.20896023438215),(45,98,1.03820917386395),(45,108,-0.0200201422162541),(45,109,1.36437574388867),(45,112,-0.684698019348735),(45,115,0.339426862392041),(46,85,0.30802331614124),(46,89,2.77365947447127),(46,91,-2.14595477156896),(46,94,-1.17288735618152),(46,97,2.23615222632527),(46,100,-3.17947935422834),(46,101,-0.922864467299417),(46,108,-2.55256813257241),(46,112,-0.985320596942045),(47,86,-2.22438734092227),(47,91,2.46252327036348),(47,92,0.492095706045717),(47,94,-1.15135654774621),(47,95,-0.100482192449721),(47,100,1.69737846003601),(47,101,-1.23027741325114),(47,104,2.23181859797967),(47,105,1.70108645893735),(47,108,-1.84156315805536),(47,112,-1.93977172154912),(47,114,-2.22182378612629),(47,118,0.593035676137577),(48,86,2.80651264992218),(48,91,-0.411603137302774),(48,98,0.597033600878933),(48,99,1.24420911282693),(48,100,-0.604480117191077),(48,103,-0.568666646320994),(48,105,-1.53875850703452),(48,106,-2.39970091860713),(48,111,1.49188207647938),(48,115,0.291985839411603),(49,87,-2.38644062623981),(49,89,-0.659916989654225),(49,93,1.22643208105716),(49,94,-0.154805139316996),(49,95,1.98178044984283),(49,102,-0.956587420270394),(49,113,0.433194982757042),(49,114,1.78537858211005),(50,89,-0.0605639820551166),(50,105,2.06863612781152),(50,107,-1.40237128818629),(51,87,-0.422238837855159),(51,92,2.04644917142247),(51,97,-1.08238471633045),(51,98,-1.23123874629963),(51,103,-2.45756401257363),(51,106,2.37560655537584),(51,112,-1.16824854274117),(51,118,-1.73714407788324),(52,89,1.43548387096774),(52,97,-0.867519150364696),(52,106,-0.930661946470534),(52,110,-2.48023926511429),(52,111,1.40693380535295),(52,113,3.27999206518754),(52,114,-2.27887813959166),(52,118,0.387478255561998),(53,88,-0.565401165807062),(53,90,1.04235969115268),(53,92,1.00793481246376),(53,94,0.586260567033906),(53,104,-1.68915372173223),(53,105,-0.51852473525193),(53,109,-2.89957884456923),(54,85,1.57266457106235),(54,91,2.04161198767052),(54,94,1.8676412244026),(54,96,-0.176473281044954),(54,111,1.45252845851009),(54,112,0.877651295510727),(54,113,1.20207831049532),(54,118,-1.36240730002747),(55,87,1.31086153752251),(55,95,-0.0164036988433485),(55,107,0.475707266457106),(55,110,-1.46664326914274),(55,117,-2.00726340525529),(56,107,-0.0946531571398053),(56,111,1.07179479354228),(56,113,-2.38583025605029),(56,114,-1.29793694875942),(57,87,0.905880916776025),(57,90,-0.644138920255135),(57,91,1.10515152439955),(57,92,1.73027741325114),(57,93,2.25045014801477),(57,94,1.76424451429792),(57,95,0.213156529435102),(57,96,-0.71752067629017),(57,100,1.80001220740379),(57,102,-1.97584459974975),(57,103,2.84302804651021),(57,115,1.36265144810327),(58,86,1.67738883632923),(58,87,1.17499313333537),(58,89,1.23853267006439),(58,90,2.09990234076968),(58,95,0.205679494613483),(58,96,1.46588030640584),(58,101,-3.44621112704856),(58,103,2.54518265327921),(58,109,-1.62717062898648),(58,110,0.497878963591418),(58,113,-1.28516495254372),(58,114,-0.916013061922056),(58,115,-0.202627643665883),(58,118,-2.93038727988525),(59,85,-0.518707846308786),(59,86,1.79647206030457),(59,90,2.49507126071963),(59,91,2.10829493087558),(59,93,0.0748161259804071),(59,97,-1.87377544480728),(59,98,1.23374126407666),(59,100,-1.58211004974517),(59,102,2.12732322153386),(59,112,1.21890926847133),(59,114,-1.92078920865505),(60,85,-1.33803827021088),(60,87,-0.822611163670766),(60,90,-1.01432844019898),(60,91,0.86886196478164),(60,96,1.51910458693197),(60,100,0.926740318002869),(60,101,0.750465407269509),(60,105,-1.41293069246498),(60,107,0.579973754081851),(60,109,-0.132786034730064),(60,110,0.811578722495193),(60,114,0.489196447645497),(61,89,-0.565462202826014),(61,94,-2.28463087862789),(61,96,0.121448408459731),(61,98,-1.97431867427595),(61,100,0.841700491348003),(61,102,0.793939024018067),(61,103,1.20563371684927),(61,114,-0.663914914395581),(61,115,-1.3136692403943),(62,93,-0.906201361125523),(62,95,-1.20250556962798),(62,107,-2.22701193273721),(62,109,1.52847376934111),(62,110,0.132679219946898),(62,111,2.31408124027223),(63,87,-0.162327951902829),(63,90,1.91575365459151),(63,93,2.46017334513382),(63,97,2.3733024079104),(63,100,2.53712576677755),(63,103,1.80553605761895),(63,104,-2.38261055330058),(63,108,-1.46673482467116),(63,111,-0.726355784783471),(63,114,-1.04187139500107),(63,117,1.70250556962798),(64,87,-2.04031495101779),(64,94,-0.827723014007996),(64,99,2.51928769798883),(64,110,0.268089846491897),(64,112,-2.36353648487808),(64,116,0.390148625141148),(65,87,2.08865627002777),(65,88,-1.10251167332987),(65,90,-0.278557695242164),(65,97,1.32546464430677),(65,99,1.10165715506455),(65,107,0.26693014313181),(65,110,-1.04840235602893),(65,111,-1.34223456526383),(65,114,1.26088747825556),(65,116,0.193472090823084),(65,117,1.82897427289651),(66,85,-0.377620777001251),(66,102,1.66614276558733),(66,105,-0.00569170201727354),(66,108,2.26715903195288),(66,111,-0.313241981261635),(66,115,2.82988982818079),(66,118,0.56640827661977),(67,86,2.22324289681692),(67,90,0.373760185552538),(67,92,-1.26215399639882),(67,104,-1.52223273415326),(67,109,-1.29534287545396),(67,111,-0.478896450697348),(68,87,0.661122470778527),(68,88,1.58957182531205),(68,90,0.334025086214789),(68,93,-0.675923947874386),(68,95,0.651051362651448),(68,96,-1.64915921506394),(68,97,-0.512909329508347),(68,103,-1.34197515793329),(68,107,0.386745811334574),(68,112,1.56979583117161),(68,114,-0.627307962279122),(69,87,0.762901699880978),(69,88,-3.19248023926511),(69,92,1.78594317453536),(69,94,-0.795892208624531),(69,95,0.371105075228126),(69,97,1.11810663167211),(69,108,-0.542252876369518),(69,113,-1.65436262092959),(69,114,-2.37311929685354),(69,118,0.990844447157201),(70,85,-0.357799005096591),(70,86,-0.603411969359416),(70,87,0.465361491744743),(70,90,1.80611590929899),(70,96,0.954695272682882),(70,97,0.375591296121097),(70,99,-0.0734885708182013),(70,105,0.491805780205695),(70,107,0.187292092654195),(70,109,2.39289529099399),(70,110,0.0257881405072176),(70,111,-0.147389141514328),(71,85,-0.771645252845851),(71,93,-0.46134830774865),(71,96,-2.28324228644673),(71,100,-1.64246040223396),(71,104,0.467696157719657),(71,106,1.66197698904386),(71,111,2.01590014343699),(71,113,-1.52691732535783),(72,94,1.04780724509415),(72,96,1.0150608844264),(72,99,1.11253700369274),(72,110,-0.184636982329783),(72,112,1.49346903897214),(72,114,1.75191503646962),(72,115,-1.7352824488052),(72,116,2.52302621539964),(73,88,0.847773674733726),(73,94,-1.77077547532579),(73,99,-2.54715109714042),(73,100,-0.293649098178045),(73,106,-0.570314645832698),(73,110,2.6410718100528),(73,115,2.30359813226722),(74,90,1.15353862117374),(74,94,-0.466048158207953),(74,99,0.516525772881252),(74,102,-0.522461622974334),(74,106,1.51982177190466),(74,107,2.01475569933164),(74,110,0.748863185522019),(74,113,-0.740348521378216),(74,116,-1.99888607440413),(75,85,2.23812067018647),(75,86,0.253303628650777),(75,93,-2.85283974730674),(75,98,1.35906552323984),(75,103,-0.393917661061434),(75,105,0.0459761345255898),(75,111,0.217413861507004),(75,117,-0.286049989318522),(76,86,-0.379589220862453),(76,89,-1.03897213660085),(76,92,1.79131443220313),(76,94,0.744651631214332),(76,99,-0.0566423535874508),(76,101,-0.343333231604968),(76,103,0.860469374675741),(76,106,0.631107516708884),(76,110,1.83822138126774),(76,113,-0.951185644093143),(77,88,1.38351084933012),(77,91,0.0854213080233161),(77,93,0.732367931150243),(77,98,0.0201879940183721),(77,101,-0.831965086825159),(77,102,1.5593127231666),(77,103,-2.08960234382153),(77,104,1.11842707602161),(77,105,-0.878627887813959),(77,109,0.625171666615802),(78,88,-0.534440137943663),(78,93,2.18971831415754),(78,94,0.521897030549028),(78,101,-0.601947080904569),(78,104,-0.344508194219794),(78,110,-1.52749717703787),(78,114,-0.494399853511155),(78,116,-0.684835352641377),(78,117,-0.962950529496139),(78,118,0.360332041383099),(79,87,-1.31145664845729),(79,92,-2.33848078859828),(79,94,0.238166447950682),(79,107,-0.170079653309732),(79,108,-1.02456740012818),(79,114,1.09526352732933),(79,118,-0.766228217413861),(80,87,2.05723746452223),(80,88,-0.941343424787133),(80,91,1.89735099337748),(80,99,0.406460768456069),(80,101,0.353740043336283),(80,107,0.89150669881283),(80,113,0.243079927976318),(81,85,-2.52655110324412),(81,86,-1.83715323343608),(81,90,-0.883297219763787),(81,93,-0.996139408551286),(81,96,0.89455854976043),(81,97,-0.00335703604235969),(81,106,1.93189794610431),(81,107,0.13556321909238),(81,110,2.02671895504624),(81,115,-1.45712149418622),(82,86,-0.725119785149693),(82,92,-2.86803796502579),(82,110,1.41859187597278),(82,112,2.27381206701865),(83,87,-0.928525650807214),(83,91,-0.696966460158086),(83,93,0.0527665028839991),(83,101,0.510773033845027),(83,103,-2.20061342204047),(83,105,0.661214026306955),(83,108,-0.778984954374828),(84,85,-0.752616962187567),(84,86,1.37789544358654),(84,89,-0.228339487899411),(84,95,-0.344904934842982),(84,99,0.591143528550066),(84,104,-1.84217352824488),(84,111,-2.13621936704611),(84,113,-0.465834528641621),(84,114,0.710257271034883),(10,119,-0.610538041322062),(119,109,-1.31122775963622)]
orgname='BHNEAT_5_15'
cnodes = 120

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()