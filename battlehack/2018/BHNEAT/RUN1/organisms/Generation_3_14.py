edge = [(0,85,2.01300088503677),(0,89,-1.969481490524),(0,90,0.354167302468947),(0,93,-0.76288644062624),(0,98,1.01478621784112),(0,101,1.21361430707724),(0,105,0.817270424512467),(0,108,1.02343821527757),(0,113,2.10473952452162),(0,114,-1.2313455610828),(0,117,0.838648640400403),(0,118,-0.524689474166082),(1,86,2.06549272133549),(1,92,0.3037507248146),(1,98,0.372249519333476),(1,102,-0.115787224951933),(1,104,-1.87014374217963),(1,107,1.13187047944578),(1,108,-1.15695669423505),(1,109,1.17204809717093),(1,113,1.9539780877102),(2,87,-0.0704672383800775),(2,88,2.88056581316568),(2,100,-2.26908169804987),(2,106,-0.696768089846492),(2,108,1.91859187597278),(2,110,1.76992095706046),(2,113,-0.542054506057924),(2,118,-2.05827509384442),(3,89,-0.970320749534593),(3,92,-0.578310495315409),(3,97,2.49916074098941),(3,99,3.35808893093661),(3,101,-1.28437147129734),(3,103,2.022247993408),(3,105,1.12234870448927),(3,108,0.896191290017396),(3,109,-0.598391674550615),(3,111,-2.50180059205908),(3,112,-0.448713644825587),(3,116,-1.72418897061068),(4,90,-2.13284707174902),(4,91,1.32360301522874),(4,97,-0.706839197973571),(4,99,-0.3209784234138),(4,101,0.332926419873653),(4,108,-2.09967345194861),(4,113,1.02966399121067),(4,118,1.68712424085208),(5,86,-1.36280404065065),(5,87,-0.710196234015931),(5,89,-0.0380413220618305),(5,92,0.773857844782861),(5,93,1.13985106967376),(5,99,-1.55883968626972),(5,104,-0.558641315958129),(5,114,0.915707876827296),(5,118,-0.100604266487625),(6,89,0.938901944029054),(6,92,-1.04472487563707),(6,94,1.66089358195746),(6,100,-1.51464888454848),(6,101,2.1307107760857),(6,103,-0.423261207922605),(6,107,-1.60084841456343),(6,110,-0.974883266701254),(6,113,-1.35070345164342),(7,85,2.35641041291543),(7,86,2.06189153721732),(7,90,-0.613513595995972),(7,95,0.48162785729545),(7,99,-1.55945005645924),(7,100,3.14125492110965),(7,104,1.9383983886227),(7,106,-0.412076174199652),(7,108,0.0932950834681234),(7,112,-0.13357951597644),(7,116,1.30085146641438),(8,92,-0.367778557695242),(8,93,-0.13296914578692),(8,95,1.94524979400006),(8,99,0.140308847315897),(8,106,-1.56474501785333),(8,107,2.05099642933439),(8,115,0.294396801660207),(8,116,1.79787591174047),(8,118,0.383159886471145),(9,85,-1.9597613452559),(9,87,0.357493820001831),(9,98,-0.906094546342357),(9,101,-0.599414044618061),(9,103,0.32303842280343),(9,105,0.91483809930723),(9,106,3.08241523483993),(9,113,2.02679525131993),(10,89,-1.67679372539445),(10,96,-0.525910214545122),(10,106,-0.509887997070223),(10,108,1.80733664967803),(10,109,-0.576052125614185),(10,111,-0.225501266518143),(10,112,-1.5903958250679),(10,114,0.264809106723228),(10,115,2.064531388287),(10,116,-2.68623920407727),(10,117,-0.842814416943876),(11,89,-0.544587542344432),(11,97,0.709036530655843),(11,105,-2.60913418988617),(11,112,-0.449537644581439),(11,115,2.05587939085055),(12,92,-2.2680898464919),(12,93,2.37998596148564),(12,94,1.90633869441816),(12,97,-0.335596789452803),(12,98,-0.953535569322794),(12,99,-1.15901669362468),(12,108,-0.0459913937803278),(12,116,-1.5642109439375),(13,86,2.30991546372875),(13,87,-2.43690298165838),(13,90,2.41991943113498),(13,99,-0.150440992461928),(13,102,-2.20397045808283),(13,104,-2.05122531815546),(13,113,-0.817453535569323),(13,116,-2.34438612018189),(13,118,-1.81890316476943),(14,90,-0.810983611560411),(14,93,1.57837153233436),(14,95,-0.97537156285287),(14,102,-0.165868099002045),(14,104,-0.54017761772515),(14,106,0.662495803704947),(14,109,0.662739951780755),(14,110,-0.253608813745537),(14,111,-0.699789422284616),(15,85,0.106769005401776),(15,92,-2.74044007690664),(15,99,-1.64224677266762),(15,101,1.46397289956359),(15,104,0.741645558030946),(15,108,0.97499008148442),(15,117,-0.162831507309183),(16,86,0.65485091708121),(16,87,0.607776116214484),(16,88,1.34733115634632),(16,90,0.883022553178503),(16,91,-1.58185064241462),(16,95,-0.791619617297891),(16,97,-0.523056733909116),(16,98,1.33454390087588),(16,99,-0.994613483077486),(16,101,0.80108035523545),(16,108,-1.52037110507523),(16,110,1.85187841425825),(17,89,-0.616977446821497),(17,96,0.400402844325083),(17,99,0.996215704824976),(17,101,1.60969878231147),(17,106,1.29577013458663),(17,107,0.986098818933683),(17,109,1.45870845667898),(18,90,0.842310861537523),(18,91,0.532090212714011),(18,93,-1.71979430524613),(18,99,1.53279213843196),(18,102,-2.21503341776788),(18,103,-2.37255470442824),(18,104,2.73354289376507),(18,110,0.789635914181951),(18,111,2.26888332773827),(18,116,2.40203558458205),(18,117,1.54278695028535),(18,118,-1.19116794335765),(19,87,0.786477248451186),(19,89,-1.88138981292154),(19,93,0.605105746635334),(19,95,-0.992919705801569),(19,101,0.737846003601184),(19,105,-2.22359385967589),(19,115,-0.234962004455702),(20,88,1.9082003234962),(20,101,1.76256599627674),(20,103,1.97299111911374),(20,104,0.925580614642781),(20,105,-0.252235480819117),(20,106,-0.975508896145512),(20,111,-1.32305368205817),(20,116,-0.780983916745506),(21,86,-0.65042573320719),(21,87,2.80021057771538),(21,94,-2.39303262428663),(21,96,-0.663472396008179),(21,101,2.50148014770959),(21,102,1.43276772362438),(21,105,0.856807153538621),(21,107,-2.07238990447707),(21,108,-1.30954924161504),(22,86,-0.792611468855861),(22,88,1.24556718649861),(22,91,1.47267067476424),(22,92,-2.48680074465163),(22,93,0.315958128604999),(22,98,-0.329966124454482),(22,106,0.0284279915768915),(22,115,-0.0398571733756524),(22,117,0.511871700186163),(23,85,-0.565965758232368),(23,86,-2.5224463637196),(23,88,0.374904629657888),(23,90,-1.73975341044343),(23,97,-1.17174291207617),(23,104,1.68353831598865),(23,112,0.0958281197546312),(23,114,1.647175511948),(23,115,0.768486587115085),(23,116,1.82842493972594),(24,89,-2.32578508865627),(24,90,1.46461378826258),(24,91,0.230094302194281),(24,101,-0.916257209997864),(24,107,0.306176946317942),(24,108,-1.27986999114963),(24,110,-1.91795098727378),(24,112,-0.772759178441725),(25,90,1.2982879116184),(25,92,0.50137333292642),(25,94,-0.484588152714621),(25,98,0.228614154484695),(25,105,0.0236060670796839),(25,108,0.719168675801874),(25,109,-1.38285470137638),(25,115,-0.407284768211921),(26,85,-1.35885189367351),(26,87,0.170155949583422),(26,89,1.4943388164922),(26,95,1.70360423596912),(26,98,0.816919461653493),(26,100,-1.38042847987304),(26,101,2.24269844660787),(26,102,0.0256660664693136),(26,103,-0.801568651387066),(26,104,3.04031495101779),(26,107,-0.494262520218512),(26,109,-0.137318033387249),(26,112,1.36671040986358),(26,113,-2.43757438886685),(26,117,-1.33036286507767),(27,85,-0.383159886471145),(27,87,0.561098055970946),(27,94,0.816522721030305),(27,100,-1.1781365398114),(27,102,-2.19489120151372),(27,103,1.67172765282144),(27,104,0.759254737998596),(27,105,3.31910153508103),(27,108,-0.806146427808466),(27,110,0.585634937589648),(27,114,2.14812158574175),(28,87,2.05215613269448),(28,88,-0.756523331400494),(28,97,0.598620563371685),(28,99,0.606158635212256),(28,104,2.28873561815241),(28,113,0.379741813409833),(28,114,1.10101626636555),(29,88,-0.552491836298715),(29,91,0.570772423474837),(29,102,0.0195928830835902),(29,105,-0.685384685811945),(29,116,0.848231452375866),(30,95,0.4338206122013),(30,96,-2.1097903378399),(30,99,-2.26754051332133),(30,101,0.868129520554216),(30,104,2.20625934629353),(30,109,2.97070223090304),(30,110,0.166508987701041),(30,114,-1.81376079592273),(30,118,0.960753196813868),(31,85,0.320276497695852),(31,92,-1.92164372692038),(31,94,-0.309686574907682),(31,96,1.86791589098788),(31,99,1.93456831568346),(31,103,-0.226996673482467),(31,107,1.57628101443525),(31,108,1.20624408703879),(31,109,-0.551057466353343),(31,111,0.325922421948912),(31,112,-0.641193884090701),(31,117,-1.99130222479934),(32,86,-1.79662465285195),(32,87,0.708868678853725),(32,89,-0.185171056245613),(32,92,-1.99244666890469),(32,98,-2.57899716177862),(32,99,-0.980620746482742),(32,104,0.912381359294412),(32,106,-1.65105136265145),(32,109,1.67113254188665),(32,116,-0.39646595660268),(32,118,1.59842219306009),(33,96,2.24201178014466),(33,98,-0.869289223914304),(33,108,1.05880916776025),(33,110,-1.17519150364696),(33,111,-1.08470412305063),(33,114,1.12949003570666),(34,85,0.919736320078127),(34,90,-0.747383037812433),(34,99,0.346156193731498),(34,104,1.26081118198187),(34,109,0.36634418774987),(35,86,-2.4398022400586),(35,87,-0.577288125247963),(35,97,-2.39570299386578),(35,98,0.817667165135655),(35,100,-1.43664357432783),(35,104,0.670918912320322),(35,107,-2.29085665456099),(35,109,-2.43920712912381),(35,110,2.05313272499771),(35,112,-1.5530869472335),(36,85,-3.03141880550554),(36,87,0.171864986114078),(36,90,-0.206991790520951),(36,91,-2.04000976592303),(36,104,0.0801873836481827),(36,107,0.756492812891018),(36,109,1.8877986999115),(36,112,0.381420331431013),(36,115,-1.8237098300119),(36,117,1.3647114474929),(36,118,-1.35950804162725),(37,85,1.13808099612415),(37,86,1.3075655384991),(37,87,-0.188756981109043),(37,91,0.454573198644978),(37,99,0.23726615192114),(37,105,-1.08832056642354),(37,111,2.34803308206427),(37,112,2.22559282204657),(37,118,-0.207403790398877),(38,87,0.903958250679037),(38,90,3.11149937437056),(38,103,1.22283089693899),(38,105,1.0713980529191),(38,106,2.93061616870632),(38,111,1.97978148747215),(38,115,1.86553544724876),(39,87,0.677907650990326),(39,89,0.470900601214637),(39,91,1.1863307596057),(39,94,-2.13258766441847),(39,97,-0.470564897610401),(39,98,1.20654927213355),(39,107,-0.0385448774681844),(39,108,0.650852992339854),(39,109,-0.673619800408948),(39,111,-0.74352244636372),(39,113,-1.14842677083651),(39,116,0.345393230994598),(39,118,1.33797723319193),(40,88,3.21013519699698),(40,92,0.252082888271737),(40,99,1.40835291604358),(40,104,-0.38670003357036),(40,110,-1.5252998443556),(40,116,1.61961729789117),(40,118,2.3436689352092),(41,88,-2.23479415265358),(41,93,2.41981261635182),(41,96,-0.463759269997253),(41,97,-0.0195318460646382),(41,100,2.30491042817469),(41,101,-1.5887478255562),(41,104,2.58221686452834),(41,105,2.16580706198309),(41,106,2.28209784234138),(41,107,-0.264137699514756),(41,109,0.514221625415815),(41,110,-0.298699911496323),(41,111,1.02372814111759),(41,112,0.0896633808404798),(42,85,-0.0941190832239753),(42,86,2.1273384807886),(42,87,-0.573931089205603),(42,99,1.57574694051942),(42,100,-0.368694112979522),(42,103,0.134205145420698),(42,109,-1.04568620868557),(42,113,1.26944792016358),(43,85,1.63141270180364),(43,88,0.102923673207801),(43,89,-1.83918271431623),(43,93,2.92309335612049),(43,97,1.28643147068697),(43,98,-2.01559495834223),(43,101,0.250358592486343),(43,102,-1.54658650471511),(43,103,0.122684408093509),(43,105,-0.334177678762169),(43,110,1.29819635608997),(43,112,3.27289651173437),(43,114,0.614581743827631),(43,116,-0.693838312936796),(44,89,0.253913998840297),(44,98,2.17307046723838),(44,99,-2.99880977813044),(45,87,-1.23041474654378),(45,88,2.49436933500168),(45,90,-1.12840662862026),(45,91,-1.29976805932798),(45,95,0.365794854579302),(45,98,0.00874355296487317),(45,108,0.942228461561937),(45,109,1.12987151707511),(45,112,0.666737876522111),(45,115,2.35641041291543),(46,85,-1.57116916409803),(46,89,0.333170567949461),(46,91,0.60803552354503),(46,94,0.0291604358043153),(46,97,0.661473433637501),(46,100,-0.0800958281197546),(46,101,2.14522232734153),(46,108,-0.294503616443373),(46,112,0.0466628009887997),(47,86,0.859508041627247),(47,91,2.94204535050508),(47,92,2.09653004547258),(47,94,-1.21811578722495),(47,95,1.9365520187994),(47,100,-1.93440046388134),(47,101,2.6197088534196),(47,104,2.40264595477157),(47,105,0.197302163762322),(47,108,0.54681539353618),(47,112,1.25719473860897),(47,114,-1.20746482741783),(47,118,-1.50555436872463),(48,86,0.120014038514359),(48,91,-0.591357158116398),(48,98,0.673787652211066),(48,99,1.9794000061037),(48,100,0.293374431592761),(48,103,-0.410962248603778),(48,105,1.545136875515),(48,106,0.233054597613453),(48,111,-2.21352275154881),(48,115,0.965224158452101),(49,87,0.17261268959624),(49,89,-2.1399884029664),(49,93,-1.74599444563128),(49,94,-1.65822321237831),(49,95,0.228797265541551),(49,102,0.949980162968841),(49,113,-0.402249214148381),(49,114,2.25882747886593),(50,89,1.04969939268166),(50,105,1.66609698782311),(50,107,-2.28778954435865),(51,87,0.0473647267067477),(51,92,2.02272103030488),(51,97,0.242881557664724),(51,98,-1.60615863521226),(51,103,-2.71529282509842),(51,106,-1.82805871761223),(51,112,2.56485183263649),(51,118,-2.00990325632496),(52,89,-0.919446394238105),(52,97,-1.03849909970397),(52,106,-2.66762291329691),(52,110,-1.15161595507675),(52,111,1.98335215308084),(52,113,-1.73574022644734),(52,114,-0.276787621692557),(52,118,0.383892330698569),(53,88,0.802972502822962),(53,90,0.632648701437422),(53,92,-1.39843440046388),(53,94,2.94709616382336),(53,104,1.06227301858577),(53,105,-1.79068880275887),(53,109,-2.8746299630726),(54,85,1.03927732169561),(54,91,2.63138218329417),(54,94,-0.395306253242592),(54,96,-1.4516891994995),(54,111,-0.551087984862819),(54,112,-0.738151188695944),(54,113,1.56006042664876),(54,118,-0.117191076387829),(55,87,0.372325815607166),(55,95,-0.926236762596515),(55,107,-1.46740623187964),(55,110,2.05153050325022),(55,117,-0.930951872310556),(56,107,-0.429136020996735),(56,111,0.482940153202917),(56,113,-0.785973693044832),(56,114,-0.804147465437788),(57,87,0.260414441358684),(57,90,-0.466673787652211),(57,91,0.506378368480483),(57,92,-0.346919156468398),(57,93,0.312448500015259),(57,94,-0),(57,95,1.16435743278298),(57,96,-2.23856318857387),(57,100,-1.23203222754601),(57,102,-0.670339060640278),(57,103,-0.174718466750084),(57,115,-1.05090487380596),(58,86,0.526383251442),(58,87,-1.43029572435682),(58,89,1.21692556535539),(58,90,1.15337076937162),(58,95,0.65599536118656),(58,96,1.60672322763756),(58,101,-2.5424054689169),(58,103,3.08696249275185),(58,109,1.69354838709677),(58,110,0.778344065675832),(58,113,0.173009430219428),(58,114,0.140232551042207),(58,115,-0.179509872737815),(58,118,0.271385845515305),(59,85,1.22893459883419),(59,86,-1.09317300943022),(59,90,-0.15172276985992),(59,91,1.77625354777673),(59,93,-0.82235175634022),(59,97,-0.369502853480636),(59,98,0.660908841212195),(59,100,1.6301919614246),(59,102,-0.90842921231727),(59,112,-2.92229987487411),(59,114,1.69309060945463),(60,85,-0.447050386059145),(60,87,-1.47631763664663),(60,90,3.15602587969604),(60,91,1.22791222876675),(60,96,3.0811181981872),(60,100,-1.94764549699393),(60,101,-1.28374584185308),(60,105,-3.02407910397656),(60,107,-1.78548539689322),(60,109,-0.297433393353069),(60,110,-2.34076967680898),(60,114,1.35721915341655),(61,89,-0.189931943723869),(61,94,2.25438703573717),(61,96,-0.902600177007355),(61,98,-0.278252510147404),(61,100,-1.65196691793573),(61,102,-0.98071230201117),(61,103,-1.7688528092288),(61,114,-1.42413098544267),(61,115,1.73696096682638),(62,93,0.15225684377575),(62,95,-1.8443098239082),(62,107,-0.728629413739433),(62,109,-2.66995757927183),(62,110,-1.52676473281045),(62,111,1.51242103335673),(63,87,-0.101748710592975),(63,90,0.672811059907834),(63,93,0.152439954832606),(63,97,-0.450727866451002),(63,100,-2.32795190282907),(63,103,1.69652394177068),(63,104,0.445997497482223),(63,108,1.10026856288339),(63,111,-0.602374340037233),(63,114,1.50497451704459),(63,117,-0.91209143345439),(64,87,2.11905270546587),(64,94,-1.39590136417737),(64,99,2.17229224524674),(64,110,2.41821039460433),(64,112,-0.535676137577441),(64,116,2.0830866420484),(65,87,0.6939603869747),(65,88,0.818933683278909),(65,90,-0.0259407330545976),(65,97,-0.648167363505966),(65,99,-1.92310861537523),(65,107,-0.963957640308847),(65,110,0.524063844721824),(65,111,-0.0235297708059938),(65,114,0.746482741782891),(65,116,-1.9109317300943),(65,117,0.10734885708182),(66,85,1.70209356975005),(66,102,1.18684957426679),(66,105,-1.75855281228065),(66,108,0.0244300668355357),(66,111,2.82360301522874),(66,115,0.305475020599994),(66,118,1.70490127262185),(67,86,-2.45468001342814),(67,90,1.29641102328562),(67,92,2.72226630451369),(67,104,2.34817041535691),(67,109,-2.48884548478652),(67,111,0.84179204687643),(68,87,-0.185995056001465),(68,88,-0.266029847102268),(68,90,1.29039887691885),(68,93,1.07171849726859),(68,95,-1.82073427533799),(68,96,-1.41537217322306),(68,97,1.24553666798914),(68,103,1.26735740226447),(68,107,-0.140690328684347),(68,112,-0.682470168156987),(68,114,0.204641865291299),(69,87,-1.6392254402295),(69,88,0.713141270180364),(69,92,-1.43520920438246),(69,94,0.124774925992615),(69,95,0.901058992278817),(69,97,-0.210974456007569),(69,108,0.952772606585894),(69,113,-1.76308481093783),(69,114,0.477416302987762),(69,118,0.750358592486343),(70,85,-0.175328836939604),(70,86,-1.65500350962859),(70,87,-0.446989349040193),(70,90,-1.75928525650807),(70,96,1.42239143040254),(70,97,-2.12416455580309),(70,99,1.51820429090243),(70,105,1.48292489394818),(70,107,1.5809961241493),(70,109,0.119876705221717),(70,110,-0.702917569505905),(70,111,-2.43055513168737),(71,85,2.52710043641469),(71,93,-0.827494125186926),(71,96,-0.831385235145116),(71,100,-1.55357524338511),(71,104,0.931348612933744),(71,106,1.11661122470779),(71,111,0.286767174291208),(71,113,0.132374034852138),(72,94,1.04506057924131),(72,96,0.141773735770745),(72,99,-0.341059602649007),(72,110,-1.19907223731193),(72,112,1.91698965422529),(72,114,-2.46406445509201),(72,115,-0.388271736808374),(72,116,1.21248512222663),(73,88,2.51644947660756),(73,94,0.209341715750603),(73,99,0.162511062959685),(73,100,1.26073488570818),(73,106,0.448164311655019),(73,110,0.811487166966765),(73,115,0.390545365764336),(74,90,0.196996978667562),(74,94,-1.14604632709738),(74,99,-0.43771172215949),(74,102,-0.518723105563524),(74,106,0.674306466872158),(74,107,-0.929944761497848),(74,110,0.505462813196203),(74,113,-1.74245429853206),(74,116,-1.30434583574938),(75,85,-0.140415662099063),(75,86,-1.46900845362712),(75,93,-1.06025879696036),(75,98,1.28275399029511),(75,103,-1.97619556260872),(75,105,1.7415082247383),(75,111,2.66652424695578),(75,117,-2.50665303506577),(76,86,-1.82439649647511),(76,89,1.08160649433882),(76,92,1.04902798547319),(76,94,-1.74962614825892),(76,99,0.629108554338206),(76,101,-0.508667256691183),(76,103,-1.12327951902829),(76,106,2.02856532486953),(76,110,0.916867580187384),(76,113,-0.43496505630665),(77,88,1.52084414197211),(77,91,1.13696707052828),(77,93,2.10379345072787),(77,98,-1.70517593920713),(77,101,-2.0164647358623),(77,102,-1.74993133335368),(77,103,1.93151646473586),(77,104,0.423749504074221),(77,105,0.0314340647602771),(77,109,0.303811761833552),(78,88,1.57644886623737),(78,93,2.14615314188055),(78,94,0.984481337931455),(78,101,0.0233008819849239),(78,104,1.59021271401105),(78,110,-3.03045747245705),(78,114,1.61290322580645),(78,116,-1.66508987701041),(78,117,0.501495406964324),(78,118,2.66173284096805),(79,87,1.33391827143162),(79,92,0.242164372692038),(79,94,0.771706289864803),(79,107,-0.51814325388348),(79,108,-0.773934141056551),(79,114,-0.787041840876492),(79,118,-0.766228217413861),(80,87,1.96285897396771),(80,88,-1.54538102359081),(80,91,0.475493636890774),(80,99,0.8278450880459),(80,101,2.03279213843196),(80,107,3.04886013367107),(80,113,2.43743705557421),(81,85,1.07486190374462),(81,86,-0.309549241615039),(81,90,-0.883297219763787),(81,93,-0.276284066286203),(81,96,1.31228064821314),(81,97,-1.91589098788415),(81,106,2.78394421216468),(81,107,-0.993621631519516),(81,110,2.3571581163976),(81,115,-1.1935178685873),(82,86,-1.48222296823023),(82,92,1.79595324564348),(82,110,-0.987945188756981),(82,112,-1.1666920987579),(83,87,-0.511871700186163),(83,91,0.336390270699179),(83,93,-0.50167851802118),(83,101,1.06231879634999),(83,103,2.64450514236885),(83,105,1.63505966368603),(83,108,-1.31423383281961),(84,85,-2.68718527787103),(84,86,2.42292550431837),(84,89,1.30727561265908),(84,95,2.78072450941496),(84,99,0.948973052156133),(84,104,-0.125583666493728),(84,111,-0.139866328928495),(84,113,1.25846125675222),(84,114,0.710257271034883)]
orgname='BHNEAT_3_14'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()