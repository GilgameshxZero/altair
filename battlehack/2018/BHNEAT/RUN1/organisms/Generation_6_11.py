edge = [(0,85,2.55893124179815),(0,89,-1.67276528214362),(0,90,2.38036744285409),(0,93,-2.2064882351146),(0,98,-0.106540116580706),(0,101,1.5524460585345),(0,105,1.50096133304849),(0,108,-0.701620532853175),(0,113,-0.517639698477126),(0,114,0.289620654927213),(0,117,-2.33016449476608),(0,118,-2.42509231849116),(1,86,0.237678151799066),(1,92,-1.05050813318278),(1,98,0.223776970732749),(1,102,-1.88151188695944),(1,104,-0.427381206701865),(1,107,0.328318124942778),(1,108,-0.971861934263131),(1,109,-2.7503433332316),(1,113,-1.04690694906461),(2,87,-1.59257789849544),(2,88,-0.225913266396069),(2,100,0.990676595355083),(2,106,-2.83634449293497),(2,108,-1.36741233558153),(2,110,-0.811868648335215),(2,113,1.15858943449202),(2,118,-0.674306466872158),(3,89,-0.89272743919187),(3,92,1.24997711111789),(3,97,-0.677892391735588),(3,99,-1.38006225775933),(3,101,-0.200109866634114),(3,103,-1.69978942228462),(3,105,-1.50361644337291),(3,108,1.30819116794336),(3,109,-0.258171330912198),(3,111,-0.69060335093234),(3,112,-1.96708578753014),(3,116,0.334055604724265),(4,90,2.12500381481368),(4,91,0.940061647389142),(4,97,-0.848414563432722),(4,99,1.20224616229743),(4,101,0.285622730185858),(4,108,-1.52722251045259),(4,113,-1.90641499069185),(4,118,-1.31666005432295),(5,86,-0.327448347422712),(5,87,0.916165654469436),(5,89,-0.123722037415693),(5,92,-1.80755027924436),(5,93,0.920041505172887),(5,99,0.846736045411542),(5,104,-0.957060457167272),(5,114,-0.767387920773949),(5,118,1.50703451643422),(6,89,1.54434339426862),(6,92,0.748008667256691),(6,94,0.423368022705771),(6,100,0.370555742057558),(6,101,0.953382976775414),(6,103,0.94114505447554),(6,107,-0.502990813928648),(6,110,-1.14952543717765),(6,113,-2.18790246284371),(7,85,0.11261329996643),(7,86,0.435712759788812),(7,90,0.559465315713981),(7,95,-0.235023041474654),(7,99,0.444120609149449),(7,100,0.210348826563311),(7,104,1.44184698019349),(7,106,0.645771660512101),(7,108,0.285256508072146),(7,112,-0.718771935178686),(7,116,1.30779442732017),(8,92,1.66570024719993),(8,93,-2.21158482619709),(8,95,-1.82111575670644),(8,99,1.73284096804712),(8,106,-1.90740684224982),(8,107,-0.496169927060762),(8,115,-0.602465895565661),(8,116,-1.17188024536882),(8,118,-2.41782891323588),(9,85,-2.30462050233467),(9,87,-1.39854121524705),(9,98,-1.32399975585192),(9,101,0.196890163884396),(9,103,0.958586382641072),(9,105,-2.00875881221961),(9,106,1.84389782403027),(9,113,-0.297952208014161),(10,89,-2.01742606891079),(10,96,2.8143101290933),(10,106,-0.529450361644337),(10,108,2.03530991546373),(10,109,-1.95808282723472),(10,111,-2.71924497207556),(10,112,0.393841364787744),(10,114,-1.24805444502091),(10,115,1.65459150975066),(10,116,-0.642109439374981),(10,117,1.3653523361919),(11,89,-0.170812097537156),(11,97,-0.548097170934172),(11,105,0.660496841334269),(11,112,-2.46911526841029),(11,115,-1.69339579454939),(12,92,-0.903988769188513),(12,93,-0.743934446241645),(12,94,-3.13844721823786),(12,97,1.3592486342967),(12,98,1.28148747215186),(12,99,0.823389385662404),(12,108,-0.143345439008759),(12,116,-1.33509323404645),(13,86,1.9977111117893),(13,87,1.99391155735954),(13,90,0.406079287087619),(13,99,2.4926908169805),(13,102,1.92632831812494),(13,104,-2.37127292703024),(13,113,-2.37289040803247),(13,116,-1.19872127445296),(13,118,-1.86780907620472),(14,90,-0.0167394024475844),(14,93,1.66107669301431),(14,95,-0.564668721579638),(14,102,0.0778221991637928),(14,104,1.86353648487808),(14,106,1.5991088595233),(14,109,1.67310098574786),(14,110,-0.536225470748009),(14,111,-1.6253700369274),(15,85,-2.63577684865871),(15,92,-0.185201574755089),(15,99,0.193487350077822),(15,101,-0.984527115695669),(15,104,-0.253791924802393),(15,108,-0.826227607043672),(15,117,0.831995605334635),(16,86,-0.11383404034547),(16,87,2.27500228888821),(16,88,-0.651631214331492),(16,90,0.375576036866359),(16,91,-2.18924527726066),(16,95,-0.791619617297891),(16,97,-2.99482711264382),(16,98,-0.0233008819849239),(16,99,0.114825891903439),(16,101,0.924298837244789),(16,108,1.40879543443098),(16,110,-1.78159428693503),(17,89,-0.91155735953856),(17,96,-0.171407208471938),(17,99,1.21861934263131),(17,101,0.733695486312449),(17,106,-0.0249183629871517),(17,107,1.73929563280129),(17,109,-1.25070955534532),(18,90,2.4689168980987),(18,91,-0.518814661091952),(18,93,-0.428632465590381),(18,99,1.32778405102695),(18,102,-1.64242988372448),(18,103,-0.847773674733726),(18,104,0.728934598834193),(18,110,0.0782494582964568),(18,111,2.10011597033601),(18,116,0.149769585253456),(18,117,0.497451704458754),(18,118,0.332117679372539),(19,87,1.54210028382214),(19,89,0.0807519760734886),(19,93,1.74207281716361),(19,95,1.59161656544694),(19,101,3.08792382580035),(19,105,2.05633716849269),(19,115,-0.772774437696463),(20,88,-1.52864162114322),(20,101,-2.90943632312998),(20,103,0.271279030732139),(20,104,-3.04663228247932),(20,105,2.21927549058504),(20,106,-1.22026734214301),(20,111,1.37859736930448),(20,116,1.79052095095676),(21,86,0.633869441816462),(21,87,-0.357234412671285),(21,94,-1.9461500900296),(21,96,0.228736228522599),(21,101,0.794122135074923),(21,102,1.00526444288461),(21,105,-0.139912106692709),(21,107,1.03053376873074),(21,108,-1.94306772057253),(22,86,0.377849665822321),(22,88,1.63838618121891),(22,91,2.23250526444288),(22,92,-0.347163304544206),(22,93,2.71547593615528),(22,98,-1.70726645710623),(22,106,-2.02607806634724),(22,115,0.6954863124485),(22,117,1.14032410657064),(23,85,1.15865047151097),(23,86,0.485229041413617),(23,88,0.829706717123936),(23,90,0.49458296456801),(23,97,-0.738380077517014),(23,104,0.882198553422651),(23,112,-1.69263283181249),(23,114,0.148564104129154),(23,115,-0.776970732749413),(23,116,-0.478469191564684),(24,89,-0.230536820581683),(24,90,0.586565752128666),(24,91,0.365367595446638),(24,101,-1.78098391674551),(24,107,1.18373668630024),(24,108,0.507477034821619),(24,110,-2.00836207159642),(24,112,1.48484756004517),(25,90,0.86436048463393),(25,92,2.78766747032075),(25,94,-0.0307016205328532),(25,98,1.04879909665212),(25,105,-2.1568956572161),(25,108,0.102389599291971),(25,109,-0.487594225898007),(25,115,0.0223395489364299),(26,85,0.936231574449904),(26,87,0.683172093874935),(26,89,0.987044892727439),(26,95,2.69431134983367),(26,98,-1.27048554948576),(26,100,0.343485824152348),(26,101,2.87137974181341),(26,102,0.0775170140690329),(26,103,-0.683339945677053),(26,104,0.873958555864132),(26,107,2.5835291604358),(26,109,1.29461043122654),(26,112,1.98020874660482),(26,113,-0.34766685995056),(26,117,-2.85987426374096),(27,85,0.639820551164281),(27,87,-1.81820123905149),(27,94,1.72194586016419),(27,100,0.100360118411817),(27,102,0.906781212805567),(27,103,-2.57080294198431),(27,104,-1.56163212988678),(27,105,0.00617999816888943),(27,108,-0.86581011383404),(27,110,1.91885128330332),(27,114,-2.16170232245857),(28,87,1.45231482894375),(28,88,1.25975829340495),(28,97,2.11737418744469),(28,99,1.23529770805994),(28,104,-0.410748619037446),(28,113,-1.27521591845454),(28,114,-0.485259559923093),(29,88,-0.72103030487991),(29,91,1.83281960509049),(29,102,-0.558427686391797),(29,105,1.93897824030274),(29,116,0.783837397381512),(30,95,-0.677770317697684),(30,96,0.273934141056551),(30,99,1.90075380718406),(30,101,-2.25833918271432),(30,104,-1.2237159337138),(30,109,0.0671712393566698),(30,110,2.74158452101199),(30,114,-0.805536057618946),(30,118,2.30173650318918),(31,85,-1.2628711813715),(31,92,1.83469649342326),(31,94,-0.695303201391644),(31,96,2.63545640430921),(31,99,-1.88955351420637),(31,103,-1.64639728995636),(31,107,0.600756859035005),(31,108,-1.49867244483779),(31,109,0.452772606585894),(31,111,0.900753807184057),(31,112,-0.307931760612812),(31,117,1.3958708456679),(32,86,0.229117709891049),(32,87,0.13426618243965),(32,89,1.29609057893612),(32,92,-1.95582445753349),(32,98,0.387096774193548),(32,99,-1.25156407361064),(32,104,0.275200659199805),(32,106,-1.18944364757225),(32,109,-0.100619525742363),(32,116,-1.77506332590716),(32,118,0.814554277169103),(33,96,0.0623340556047243),(33,98,-0.175756096072268),(33,108,-0.199926755577258),(33,110,-0.0812097537156286),(33,111,0.448438978240303),(33,114,-0.423810541093173),(34,85,0.311197241126743),(34,90,-0.851222266304514),(34,99,0.403225806451613),(34,104,-0.385891293069247),(34,109,-1.12662129581591),(35,86,-0.125507370220038),(35,87,2.7311471907712),(35,97,0.707800531022065),(35,98,-1.62160100100711),(35,100,-0.724112674336985),(35,104,1.61256752220222),(35,107,-0.904858546708579),(35,109,0.0588091677602465),(35,110,0.536347544785913),(35,112,1.33053071687979),(36,85,-0.127430036317026),(36,87,-0.594683675649281),(36,90,1.7230750450148),(36,91,2.59674367503891),(36,104,-1.52974028748436),(36,107,-0.338511307107761),(36,109,2.85348063600574),(36,112,-0.334543900875881),(36,115,0.351344340342418),(36,117,-0.459120456556902),(36,118,-2.03314310129093),(37,85,-1.90275276955474),(37,86,-1.28749961851863),(37,87,1.29718924527726),(37,91,-0.557420575579089),(37,99,-1.34778893398846),(37,105,1.32419812616352),(37,111,-0.245200964384899),(37,112,0.898419141209143),(37,118,-0.75853755302591),(38,87,2.06166264839625),(38,90,2.80509353923154),(38,103,1.45095675527207),(38,105,-0.486419263283181),(38,106,1.41621143223365),(38,111,-1.31420331431013),(38,115,-1.31092257454146),(39,87,-0.858317819757683),(39,89,-1.95448164311655),(39,91,-1.93144016846217),(39,94,-0.130802331614124),(39,97,1.07611316263314),(39,98,-0.703650013733329),(39,107,1.04585406048769),(39,108,2.80881679738762),(39,109,-0.562089907528916),(39,111,-0.619541001617481),(39,113,-0.0448011719107637),(39,116,0.168218024231697),(39,118,1.88253425702689),(40,88,-0.619907223731193),(40,92,0.908307138279367),(40,99,-0.627872554704428),(40,104,-0.799356059450056),(40,110,-1.78638569292276),(40,116,-0.917310098574786),(40,118,1.02114932706687),(41,88,0.451597643971068),(41,93,1.33541367839595),(41,96,-1.96794030579546),(41,97,-0.0195318460646382),(41,100,-1.83378093813898),(41,101,-1.33556627094333),(41,104,-0.108371227149266),(41,105,1.84743797112949),(41,106,0.0501724295785394),(41,107,0.159611804559465),(41,109,0.695883053071688),(41,110,0.608096560563982),(41,111,-1.82395397808771),(41,112,-0.971312601092563),(42,85,-0.704031495101779),(42,86,0.125858333079012),(42,87,-0.150028992584002),(42,99,0.123447370830409),(42,100,1.1474196600238),(42,103,2.08738975188452),(42,109,-0.946043275246437),(42,113,-1.45738090151677),(43,85,0.921735282448805),(43,88,0.476241340372936),(43,89,-1.27108066042054),(43,93,2.76317636646626),(43,97,1.33974730674154),(43,98,-2.41688283944212),(43,101,0.124622333445235),(43,102,0.323892941068758),(43,103,-1.53515732291635),(43,105,0.990173039948729),(43,110,-1.29801324503311),(43,112,0.0448774681844539),(43,114,-0.00227362895596184),(43,116,-1.90969573046052),(44,89,-0.183721427045503),(44,98,-0.0686666463209937),(44,99,-1.21607104709006),(45,87,-1.56398205511643),(45,88,0.999099703970458),(45,90,-0.518570513016144),(45,91,2.39999084444716),(45,95,-0.970992156743065),(45,98,-0.497756889553514),(45,108,-1.50932340464492),(45,109,1.09100619525742),(45,112,2.38264107181005),(45,115,0.575563829462569),(46,85,-0.402752769554735),(46,89,-1.16589861751152),(46,91,1.41761528366955),(46,94,-0.35163426618244),(46,97,2.08203375347148),(46,100,-0.224524674214911),(46,101,-2.37249366740928),(46,108,0.43908505508591),(46,112,0.139820551164281),(47,86,-0.206656086916715),(47,91,3.17719046601764),(47,92,-0.403836176641133),(47,94,-0.971907712027344),(47,95,0.634098330637532),(47,100,1.59842219306009),(47,101,0.917844172490615),(47,104,-0.784325693533128),(47,105,0.748527481917783),(47,108,0.248649555955687),(47,112,0.56968901638844),(47,114,-0.819650868251595),(47,118,1.21141697439497),(48,86,2.16623432111576),(48,91,-0.502014221625416),(48,98,0.499740592669454),(48,99,0.312707907345805),(48,100,-1.26703695791498),(48,103,1.24031800286874),(48,105,2.15071565904721),(48,106,-2.8117007965331),(48,111,0.700003051850948),(48,115,-0.00526444288460953),(49,87,2.06765953550829),(49,89,0.390453810235908),(49,93,0.309732352671896),(49,94,-1.05380413220618),(49,95,-0.212118900112918),(49,102,-0.462721640675069),(49,113,-0.141834772789697),(49,114,3.15619373149815),(50,89,-0.904187139500107),(50,105,1.8003784295175),(50,107,1.45484786523026),(51,87,1.62808618427076),(51,92,0.374767296365246),(51,97,-0.462050233466597),(51,98,1.12117374187445),(51,103,-2.48052919095431),(51,106,0.106479079561754),(51,112,-0.965987121189001),(51,118,-1.08587908566546),(52,89,-0.984099856563005),(52,97,-0.694479201635792),(52,106,1.23142185735649),(52,110,-0.768456068605609),(52,111,2.83504745628223),(52,113,-0.773567918942839),(52,114,-1.3796502578814),(52,118,2.01701406903287),(53,88,-1.00878933072909),(53,90,-0.319681386761071),(53,92,-0.0528122806482131),(53,94,1.62923062837611),(53,104,-0.803201391644032),(53,105,-0.0972167119357891),(53,109,-0.73558763389996),(54,85,1.2962431714835),(54,91,0.0292214728232673),(54,94,-0.146107364116337),(54,96,2.25966673787652),(54,111,2.67471846675008),(54,112,-1.63386944181646),(54,113,0.61146885586108),(54,118,1.67302468947417),(55,87,0.223334452345347),(55,95,-1.30664998321482),(55,107,-0.632343516342662),(55,110,-1.35662404248177),(55,117,-1.2394177068392),(56,107,1.25843073824274),(56,111,-2.68839075899533),(56,113,-0.251167332987457),(56,114,-1.30230109561449),(57,87,1.00964384899442),(57,90,1.29779961546678),(57,91,1.50517288735618),(57,92,2.17795342875454),(57,93,1.3022247993408),(57,94,1.45463423566393),(57,95,-0.975692007202368),(57,96,1.37604907376324),(57,100,0.234839930417798),(57,102,0.779976805932798),(57,103,1.01222266304514),(57,115,-1.16771446882534),(58,86,2.22045045319987),(58,87,-1.99168370616779),(58,89,-1.75128940702536),(58,90,-1.77205725272378),(58,95,0.496765037995544),(58,96,-0.351649525437178),(58,101,-3.43339335306864),(58,103,2.1137272255623),(58,109,0.10406811731315),(58,110,1.62691122165593),(58,113,2.0921201208533),(58,114,-2.41050447096164),(58,115,-0.1323587755974),(58,118,-1.26972258674886),(59,85,1.51580858790857),(59,86,-1.45413068025758),(59,90,0.890865810113834),(59,91,1.6705069124424),(59,93,-0.263679921872616),(59,97,2.26537369914853),(59,98,2.37047944578387),(59,100,-2.58914456617939),(59,102,1.55235450300607),(59,112,-2.71897030549028),(59,114,-2.72319711905271),(60,85,2.29702139347514),(60,87,-2.68454542680136),(60,90,-1.86689352092044),(60,91,-0.54582354197821),(60,96,-0.683950315866573),(60,100,0.0686361278115177),(60,101,-0.271141697439497),(60,105,0.0438703573717459),(60,107,2.39834284493545),(60,109,-2.36407055879391),(60,110,-1.83002716147343),(60,114,0.694906460768456),(61,89,0.921475875118259),(61,94,-0.711249122592853),(61,96,-1.59353923154393),(61,98,0.339442121646779),(61,100,0.737403485213782),(61,102,2.10837122714927),(61,103,0.887173070467238),(61,114,0.727179784539323),(61,115,-0.010681478316599),(62,93,1.05468916898099),(62,95,-0.294427320169683),(62,107,1.65456099124119),(62,109,1.06764427625355),(62,110,1.75069429609058),(62,111,1.4486373485519),(63,87,0.888164922025208),(63,90,-0.79879146702475),(63,93,-1.48266548661763),(63,97,0.896969512009034),(63,100,1.6919919431135),(63,103,-2.44180120242927),(63,104,1.00395214697714),(63,108,-0.779305398724326),(63,111,-0.341044343394269),(63,114,2.20748008667257),(63,117,0.180242316965239),(64,87,1.32938627277444),(64,94,-0.991988891262551),(64,99,-2.4755851924192),(64,110,1.46372875148778),(64,112,-0.539750358592486),(64,116,-2.44857631153294),(65,87,0.6939603869747),(65,88,0.236411633655812),(65,90,-1.86605426190985),(65,97,-0.261925107577746),(65,99,-2.04586931974242),(65,107,-0.841349528489029),(65,110,2.2407452620014),(65,111,-0.0235297708059938),(65,114,-2.31948301644948),(65,116,-0.126209295937986),(65,117,0.751060518204291),(66,85,0.445158238471633),(66,102,0.799951170384838),(66,105,1.19200720236824),(66,108,2.78246406445509),(66,111,2.93362224188971),(66,115,-0.236304818872646),(66,118,0.467757194738609),(67,86,0.446684163945433),(67,90,2.88108462782678),(67,92,0.860942411572619),(67,104,2.76294747764519),(67,109,-0.616229743339335),(67,111,-1.48623615222633),(68,87,0.595126194036683),(68,88,-0.718237861262856),(68,90,0.255302591021455),(68,93,-1.06944486831263),(68,95,2.29056672872097),(68,96,-1.64877773369549),(68,97,-0.611865596484268),(68,103,0.376293221839045),(68,107,1.20654927213355),(68,112,0.6556901760918),(68,114,0.632496108890042),(69,87,2.47125156407361),(69,88,-1.5396740623188),(69,92,3.09343241676077),(69,94,-1.30326242866298),(69,95,2.72789696951201),(69,97,-2.12311166722617),(69,108,1.84765160069582),(69,113,1.5424054689169),(69,114,-0.797570726645711),(69,118,-1.18367564928129),(70,85,-2.19840083010346),(70,86,-1.56917020172735),(70,87,1.13879818109684),(70,90,1.54484694967498),(70,96,0.800042725913266),(70,97,0.975737784966582),(70,99,0.508270516067995),(70,105,1.96989349040193),(70,107,0.0677358317819757),(70,109,0.119876705221717),(70,110,-1.82195501571703),(70,111,-2.74642170476394),(71,85,-1.2343974120304),(71,93,0.0232093264564959),(71,96,-1.31466109195227),(71,100,0.47216711935789),(71,104,2.7767265846736),(71,106,-1.38155766472365),(71,111,2.89136936552019),(71,113,1.12773522141179),(72,94,3.24285103915525),(72,96,1.56469924008911),(72,99,-1.67792291024506),(72,110,-0.517136143070772),(72,112,1.65048677022614),(72,114,0.820871608630634),(72,115,1.34754478591266),(72,116,0.270149845881527),(73,88,0.65141758476516),(73,94,0.381542405468917),(73,99,0.781350138859218),(73,100,-0.261848811304056),(73,106,-1.16885891293069),(73,110,0.180440687276833),(73,115,-2.31469161046174),(74,90,-1.04562517166662),(74,94,-1.95832697531053),(74,99,1.2999359111301),(74,102,0.96180608539079),(74,106,0.346400341807306),(74,107,-1.31287575914792),(74,110,1.32917264320811),(74,113,-0.740348521378216),(74,116,1.748573259682),(75,85,-0.262565996276742),(75,86,-0.915250099185156),(75,93,0.82410657063509),(75,98,-0.362346263008515),(75,103,-0.892178106021302),(75,105,-1.57902768028809),(75,111,3.16512039551988),(75,117,1.57527390362255),(76,86,0.0163121433149205),(76,89,2.2528305917539),(76,92,-1.38070314645833),(76,94,0.489516891994995),(76,99,1.76302377391888),(76,101,-1.83050019837031),(76,103,-0.991744743186743),(76,106,-1.26187932981353),(76,110,0.0225989562669759),(76,113,-0.446256904812769),(77,88,-1.02188177129429),(77,91,-0.510452589495529),(77,93,2.8705710013123),(77,98,0.0988494521927549),(77,101,-0.248527481917783),(77,102,0.299966429639576),(77,103,-1.35319071016572),(77,104,-0.524994659260842),(77,105,0.234015930661946),(77,109,-0.179876094851527),(78,88,-2.87170018616291),(78,93,2.13950010681478),(78,94,-0.360850856044191),(78,101,-2.47463911862545),(78,104,1.97836237678152),(78,110,-2.59022797326579),(78,114,-1.29581591235084),(78,116,-0.684835352641377),(78,117,-1.75811029389325),(78,118,3.00506607257302),(79,87,1.69983520004883),(79,92,-0.694067201757866),(79,94,2.3469191564684),(79,107,0.231864375743889),(79,108,-1.53872798852504),(79,114,-0.465681936094241),(79,118,-0.3263191625721),(80,87,1.06416516617328),(80,88,-0.376216925565355),(80,91,-1.07486190374462),(80,99,-1.73815118869594),(80,101,2.20644245735038),(80,107,0.791863765373699),(80,113,-1.4410077211829),(81,85,-2.23761711478011),(81,86,-0.931730094302194),(81,90,0.23444318979461),(81,93,0.646671956541643),(81,96,0.521698660237434),(81,97,-2.31926938688314),(81,106,-1.01713614307077),(81,107,-1.48764000366222),(81,110,-1.4306466872158),(81,115,1.25749992370373),(82,86,2.64952543717765),(82,92,-0.12984099856563),(82,110,-0.759208960234382),(82,112,2.36693929868465),(83,87,-2.10028382213813),(83,91,0.718649861140782),(83,93,-0.680211798455763),(83,101,-0.454908902249214),(83,103,-1.38439588610492),(83,105,1.84194463942381),(83,108,-2.50331125827815),(84,85,-0.775353251747185),(84,86,-0.21874141666921),(84,89,1.04037598803674),(84,95,1.32399975585192),(84,99,-0.022049623096408),(84,104,-2.142399365215),(84,111,-0.134220404675436),(84,113,1.63719595934935),(84,114,0.710257271034883),(35,105,0.612750633259072)]
orgname='BHNEAT_6_11'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()