edge = [(0,85,-0.375461592455824),(0,89,0.534066286202582),(0,90,0.416348765526292),(0,93,-4.0954924161504),(0,98,-2.84735404522843),(0,101,-2.31131168553728),(0,105,2.5488296151616),(0,108,0.476699118015076),(0,113,0.526245918149358),(0,114,6.12437818536943),(0,117,5.2858821375164),(0,118,-1.7005066072573),(1,86,-3.51313058870205),(1,92,4.9704428235725),(1,98,4.0190969573046),(1,102,-4.53452406384472),(1,104,-0.233855708487198),(1,107,-0.553113650929288),(1,108,-0.839716788232063),(1,109,1.17777031769768),(1,113,0.326807458723716),(2,87,-3.0559404278695),(2,88,5.00091555528428),(2,100,-1.24580370494705),(2,106,1.35155796990875),(2,108,-1.30523087252419),(2,110,-3.53169347209082),(2,113,1.72724463637196),(2,118,1.50105288857692),(3,89,1.02680288094729),(3,92,-3.26031525620289),(3,97,-0.300149540696432),(3,99,2.26092944120609),(3,101,-1.90392773216956),(3,103,-0.120609149449141),(3,105,3.15850550859096),(3,108,-2.00624103518784),(3,109,-6.03164769432661),(3,111,0.688985869930113),(3,112,-2.64032410657064),(3,116,-1.84357356486709),(4,90,-0.570490127262185),(4,91,0.598590044862209),(4,97,2.17929624317148),(4,99,1.70633564256722),(4,101,-0.971053193762017),(4,108,2.33973967711417),(4,113,-0.408833582567827),(4,118,1.07671590319529),(5,86,-0.592883083590197),(5,87,-4.26934110538041),(5,89,0.223616748558),(5,92,-2.33433790093692),(5,93,1.05409405804621),(5,99,1.85163426618244),(5,104,-0.573656422620319),(5,114,-0.301561021759697),(5,118,-1.06771675771355),(6,89,-1.89083529160436),(6,92,-3.30650883510849),(6,94,-2.59146015808588),(6,100,-0.473700674459059),(6,101,-1.76760917996765),(6,103,-0.273529770805994),(6,107,0.579462569048128),(6,110,-0.848879970702231),(6,113,-1.66439558091983),(7,85,6.39778588213752),(7,86,-2.67213965269936),(7,90,1.01569795831172),(7,95,-1.27896969512009),(7,99,3.95951719718009),(7,100,4.43100527970214),(7,104,-4.59885708182012),(7,106,2.30384228034303),(7,108,2.5664006469924),(7,112,-2.10824152348399),(7,116,0.340815454573199),(8,92,-0.746894741660817),(8,93,1.62256996368297),(8,95,-0.936223944822535),(8,99,1.36730552079836),(8,106,0.882404553361614),(8,107,0.949049348429823),(8,115,-0.629398480178228),(8,116,1.67847224341563),(8,118,0.200010681478317),(9,85,1.54706335642567),(9,87,3.37305825983459),(9,98,-5.85712378307444),(9,101,0.499168370616779),(9,103,5.53067873165075),(9,105,2.91521195104831),(9,106,4.80457472457045),(9,113,-1.5236518448439),(10,89,-3.32341990417188),(10,96,3.92117831965087),(10,106,3.75481429486984),(10,108,2.80625324259163),(10,111,-3.72585985900449),(10,112,-0.905560472426526),(10,114,-0.795632801293985),(10,115,-1.71655934324168),(10,116,-2.64728995635853),(10,117,0.356791894283883),(11,89,-3.31849116489151),(11,97,2.77569277016511),(11,105,-1.92788476210822),(11,112,2.75645466475417),(11,115,-4.52661976989044),(12,92,1.87327188940092),(12,93,-0.741988891262551),(12,94,1.12306207464827),(12,97,-1.74593340861232),(12,98,2.63643299661245),(12,99,4.52513199255348),(12,108,0.163117618335521),(12,116,-4.01316873683889),(13,86,2.21965697195349),(13,87,-1.19480727561266),(13,90,2.44349497970519),(13,99,3.02916806543168),(13,102,0.253494369335002),(13,104,-1.35242774742882),(13,113,2.27658925138096),(13,116,-6.02838984344005),(13,118,0.661488692892239),(14,90,-4.45819727164525),(14,93,1.00376903592029),(14,95,-4.15234839930418),(14,102,-2.66621143223365),(14,104,-2.47337260048219),(14,106,2.23873104037599),(14,109,-0.746833704641865),(14,110,3.34275337992492),(14,111,-3.84456160161138),(15,85,0.99260689107944),(15,92,2.8801690725425),(15,99,-1.8254341257973),(15,101,-3.4751426740318),(15,104,2.21042130802332),(15,108,1.5479674672689),(15,117,1.28328806421094),(16,86,-3.16530350657674),(16,87,-2.18684957426679),(16,88,0.865405743583484),(16,90,-0.663197729422895),(16,91,-2.34488967558824),(16,95,-3.93809701834162),(16,97,-3.79784539323099),(16,98,1.94388409070101),(16,99,-1.58342234565264),(16,101,0.875621814630573),(16,108,4.42722861415448),(16,110,0.803739280373547),(17,89,0.781876583147679),(17,96,-2.21538438062685),(17,99,1.32606738486892),(17,101,-1.33139286477248),(17,106,-1.35101626636555),(17,107,1.15002136295663),(17,109,-2.63834803308206),(18,90,1.73072756126591),(18,91,-2.43688390758995),(18,93,4.29049043244728),(18,99,1.22569963682974),(18,102,4.29445020905179),(18,103,1.42680898464919),(18,104,-1.05842005676443),(18,110,-2.78724784081545),(18,111,0.280144657734916),(18,116,1.37283700064089),(18,117,-0.715315713980529),(18,118,3.07655568102054),(19,87,-0.895374919888912),(19,89,-3.16206854457228),(19,93,-1.16828669087802),(19,95,-2.01673940244758),(19,101,1.26211584826197),(19,105,-5.47469252601703),(19,115,-2.38773766289254),(20,88,-2.17873928037355),(20,101,2.82956938383129),(20,103,-1.33249153111362),(20,104,2.51654866176336),(20,105,-1.7541581469161),(20,106,0.674169133579516),(20,111,1.02084414197211),(20,116,0.474936674092837),(21,86,-0.291070284127323),(21,87,1.55007324442274),(21,94,-1.07275231177709),(21,96,1.28608813745537),(21,101,1.34318826868496),(21,102,4.60618152409436),(21,105,0.275139622180853),(21,107,3.69431134983367),(21,108,3.95680867946409),(22,86,-2.01281014435255),(22,88,-0.598033082064272),(22,91,0.156804101687673),(22,92,-3.87944425794244),(22,93,-1.29253517258217),(22,98,0.719016083254494),(22,106,-4.50715659047212),(22,115,2.57643360698264),(22,117,-0.939245277260659),(23,85,0.179387798699911),(23,86,-3.14024781029695),(23,88,-1.57431257057405),(23,90,2.08642841883602),(23,97,-2.58742027039399),(23,104,2.16855372783593),(23,112,-2.48722037415693),(23,114,0.312677388836329),(23,115,0.0529419843134855),(23,116,-1.00331125827815),(24,89,-4.38917966246529),(24,90,-3.70720542008728),(24,91,-1.19222083193457),(24,101,3.06257438886685),(24,107,0.435735648670919),(24,108,3.62685018463698),(24,110,-3.313249610889),(24,112,-3.74240089114048),(25,90,-4.30323191015351),(25,92,-0.925748466444899),(25,94,-6.3241523483993),(25,98,0.830858790856655),(25,105,2.44792016357921),(25,108,6.48472548600726),(25,109,-2.40641499069185),(25,115,2.04049806207465),(26,85,-1.47669148838771),(26,87,-2.07193212683493),(26,89,-2.03636661885434),(26,95,-1.17599261452071),(26,98,-2.51161992248299),(26,100,2.11539048432875),(26,101,-0.767456587420271),(26,102,1.15729239783929),(26,103,0.548081911679433),(26,104,2.63133640552995),(26,107,-2.25241859187597),(26,109,3.30632190923795),(26,112,4.74697866756188),(26,113,-1.66549424726096),(26,117,-4.03121280556658),(27,85,-1.24500259407331),(27,87,-2.8185674611652),(27,94,3.07512131107517),(27,100,-1.12703329569384),(27,102,-2.50377666554765),(27,103,-2.41111484115116),(27,104,2.28949095126194),(27,105,-0.255111850337229),(27,108,-0.0866725669118322),(27,110,-0.943418683431501),(27,114,1.5800119022187),(28,87,-0.907719656971953),(28,88,-1.96170690023499),(28,97,2.77487640003662),(28,99,-2.18735312967315),(28,104,-4.6603900265511),(28,113,1.30742057557909),(28,114,-5.03059480574969),(29,88,4.78916287728507),(29,91,-0.456831568346202),(29,102,0.77912228766747),(29,105,-2.01133762627033),(29,116,1.54615161595508),(30,95,6.25778984954375),(30,96,3.47524948881497),(30,99,0.00609607226783049),(30,101,-0.208899197363201),(30,104,2.83528397473067),(30,109,-0.15599536118656),(30,110,2.1395687734611),(30,114,1.02518539994507),(30,118,1.3862956633198),(31,85,1.18330179754021),(31,92,5.43669698171941),(31,94,1.36824396496475),(31,96,4.54431287575915),(31,99,0.0150303659169283),(31,103,-4.43694875942259),(31,107,1.59257026886807),(31,108,3.30665761284219),(31,109,0.866840113528855),(31,111,1.11782433545946),(31,112,0.859096041749321),(31,117,3.07602923673208),(32,86,-0.752243110446486),(32,87,1.1536225470748),(32,89,-1.6173207800531),(32,92,1.81790368358409),(32,98,0.146687215796381),(32,99,0.924649800103763),(32,104,4.19556260872219),(32,106,3.26572466200751),(32,109,4.80477309488205),(32,116,2.77360606707968),(32,118,-3.14346751304666),(33,96,-0.527886288033693),(33,98,-0.154164250618),(33,108,4.84653767509995),(33,110,-1.53949858088931),(33,111,-1.11822870571001),(33,114,-3.22916730246895),(34,85,-1.6860103152562),(34,90,3.47408978545488),(34,99,2.1675771355327),(34,104,-2.1287652211066),(34,109,-4.7818231757561),(35,86,-0.226027710806604),(35,87,-1.29203161717582),(35,97,1.6296502578814),(35,98,-0.860545670949431),(35,100,0.311452833643605),(35,104,-2.65094454786828),(35,107,-1.63844721823786),(35,109,-0.73436689352092),(35,110,-0.365092928861355),(35,112,1.90847499008148),(36,85,-2.78463850825526),(36,87,-4.89371166112247),(36,90,-0.360385448774682),(36,91,2.19805749687185),(36,104,-2.74273659474471),(36,107,0.673139133884701),(36,109,2.93588061159093),(36,112,2.37713248084964),(36,115,0.895680104983672),(36,117,-4.78386028626362),(36,118,1.34548097170934),(37,85,1.90115817743461),(37,86,-3.25582903530992),(37,87,-0.256469924008911),(37,91,2.63523514511551),(37,99,0.406239509262368),(37,105,-1.62346263008515),(37,111,-0.61619159520249),(37,112,-2.80271309549242),(37,118,1.3656727805414),(38,87,0.572397534104434),(38,90,-3.52627643665883),(38,103,3.29318750572222),(38,105,3.60557878353221),(38,106,-0.7086779381695),(38,111,-0.400700399792474),(38,115,1.0681249427778),(39,87,2.76503036591693),(39,89,-0.253608813745537),(39,91,-4.29189428388318),(39,94,-0.515297402874844),(39,97,-0.704351939451277),(39,98,0.345507675405133),(39,107,-1.33618427076022),(39,108,2.30652027954955),(39,109,0.570566423535874),(39,111,-1.77741325113681),(39,113,-0.0684530167546618),(39,116,-0.646950437940611),(39,118,-4.14638966032899),(40,88,1.4658879360332),(40,92,-3.12227240821558),(40,99,3.00466933194983),(40,104,1.39420758690146),(40,110,0.824053163243507),(40,116,0.213873714407788),(40,118,-1.86597796563616),(41,88,-6.32168034913175),(41,93,1.0871227149266),(41,96,-0.959952085940123),(41,97,0.854251228370006),(41,100,2.04996642963958),(41,101,3.57946638386181),(41,104,0.0552842799157689),(41,105,1.09057893612476),(41,106,3.44150364696188),(41,107,-6.11339152195807),(41,109,-0.135578478347118),(41,110,0.802751243629261),(41,111,-2.91372417371136),(41,112,3.85289315469833),(42,85,-0.773613696707053),(42,86,-0.470549638355663),(42,87,3.35033722952971),(42,99,-1.80434965056307),(42,100,-6.92941068758202),(42,103,-5.67304757835627),(42,109,-2.25688955351421),(42,113,-1.06773583178198),(43,85,-2.61737418744469),(43,88,-3.70654927213355),(43,89,-3.13045899838252),(43,93,1.43008972441786),(43,97,-0.222075563829462),(43,98,2.17405468916898),(43,101,0.223235267189551),(43,102,2.56011764885403),(43,103,-1.54206213568529),(43,105,3.66290780358287),(43,110,-1.00707647938475),(43,112,-2.53855250709555),(43,114,-3.55397961363567),(43,116,-1.19113742484817),(44,89,0.957098605304117),(44,98,1.90946684163945),(44,99,0.381000701925718),(45,87,-2.67073580126347),(45,88,-4.597903378399),(45,90,3.35593737601855),(45,91,-3.48851741080966),(45,95,-2.1010544145024),(45,98,-4.95452742088076),(45,108,2.09701071199683),(45,109,1.24893948179571),(45,112,1.04081850642415),(45,115,0.299493392742698),(46,85,-1.76799829096347),(46,89,0.603526413769952),(46,91,-0.406170842616047),(46,94,-1.68968016602069),(46,97,0.0465712454603717),(46,100,5.29856257820368),(46,101,2.08324686422315),(46,108,-1.79006317331462),(46,112,-1.48002563554796),(47,86,-0.533509323404646),(47,91,-3.69443342387158),(47,92,0.0475936155278176),(47,94,1.16373943296609),(47,95,1.68313394573809),(47,100,2.72978148747215),(47,101,2.37838373973815),(47,104,-1.92602313303018),(47,105,6.67720572527238),(47,108,-1.8816949980163),(47,112,1.93562883388775),(47,114,4.21216467787713),(47,118,-0.159894100772119),(48,86,4.02076784569842),(48,91,-3.24597155674917),(48,98,1.89383754997406),(48,99,-1.66626483962523),(48,100,-5.05322809533982),(48,103,-3.64749595629749),(48,105,-0.1954863124485),(48,106,-0.628559221167638),(48,111,-2.13619647816401),(48,115,0.996658223212378),(49,87,1.46518601031526),(49,89,1.68257698294015),(49,93,2.08136234626301),(49,94,4.44658497878964),(49,95,1.5352183599353),(49,102,0.190107425153355),(49,113,-0.622631000701925),(49,114,1.11826303903317),(50,89,-4.71311075167089),(50,105,-0.172353282265694),(50,107,-1.54813531907102),(51,87,-0.295129245887631),(51,92,3.38257240516373),(51,97,3.4356173894467),(51,98,2.54515976439711),(51,103,0.612819299905392),(51,106,0.938146610919523),(51,112,2.32615894039735),(51,118,-0.426053651539659),(52,89,1.44551683095798),(52,97,2.59827723014008),(52,106,-2.0554979094821),(52,110,-4.79235969115268),(52,111,2.84666737876522),(52,113,0.204565569017609),(52,114,-1.07630390331736),(52,118,1.64415417950987),(53,88,0.0299005096591085),(53,90,-5.90910824915311),(53,92,1.2699362163152),(53,94,-0.615672780541399),(53,104,-1.11552018799402),(53,105,-1.74769585253456),(53,109,2.41415143284402),(54,85,-0.378975035859249),(54,91,-2.81861323892941),(54,94,-0.501846369823298),(54,96,0.996353038117618),(54,111,-0.238616595965453),(54,112,1.08044679097873),(54,113,4.97464674825282),(54,118,-4.76999725333415),(55,87,0.0720999786370435),(55,95,0.615672780541398),(55,107,-1.66489913632618),(55,110,-2.72225104525895),(55,117,1.1342280343028),(56,107,-2.0716422009949),(56,111,-1.54443494979705),(56,113,0.187780388805811),(56,114,2.39989547410504),(57,87,-0.154522843104343),(57,90,3.26377910702841),(57,91,-0.774884029663991),(57,92,1.43600268562883),(57,93,4.10021515549181),(57,94,-2.07918027283547),(57,95,-3.45339442121647),(57,96,-1.38145084994049),(57,100,-0.694433423871578),(57,102,-1.92785424359874),(57,103,-0.985099337748344),(57,115,-3.95195623645741),(58,86,-1.45366527298807),(58,87,1.12273018585772),(58,89,4.39880062257759),(58,90,-1.31744590594195),(58,95,-0.765839106418043),(58,96,-0.195661793877987),(58,101,-0.965075380718406),(58,103,-0.579454939420759),(58,109,-2.1622363963744),(58,110,2.57921842097232),(58,113,-0.0187231055635244),(58,114,-0.740760521256142),(58,115,0.342349009674368),(58,118,6.89344462416456),(59,85,1.28833887752922),(59,86,0.696127201147496),(59,90,-2.72059541611988),(59,91,-0.508590960417493),(59,93,4.4987945188757),(59,97,-1.49853511154515),(59,98,2.34701834162419),(59,100,6.06991027558214),(59,102,1.293710135197),(59,112,3.02079836420789),(59,114,1.28115176854762),(60,85,3.01799829096347),(60,87,-0.586512344737083),(60,90,0.11635181737724),(60,91,0.458197271645253),(60,96,1.46549882503739),(60,100,-0.406071657460249),(60,101,0.494781334879605),(60,105,-0.139049958800012),(60,107,1.68462935270241),(60,109,-0.151402325510422),(60,110,3.07303079317606),(60,114,0.178067873165075),(61,89,3.28646961882382),(61,94,-2.80088961455123),(61,96,-2.09816278572954),(61,98,1.46425901058992),(61,100,-1.10393078402051),(61,102,1.83919797357097),(61,103,2.52883999145482),(61,114,-1.79817346720786),(61,115,5.09907071138646),(62,93,-0.19190038758507),(62,95,-0.839411603137303),(62,107,2.64400921658986),(62,109,-5.13982055116428),(62,110,-4.83134708700827),(62,111,-2.75627918332469),(63,87,3.22891170995209),(63,90,6.30805383465072),(63,93,-1.10774559770501),(63,97,0.191022980437635),(63,100,0.887829218420972),(63,103,2.28323465681936),(63,104,-0.399899288918729),(63,108,-1.21681493575854),(63,111,1.09247108371227),(63,114,1.54611728263192),(63,117,-1.52523880733665),(64,87,5.37419507431257),(64,94,0.491439558091983),(64,99,2.85632648701437),(64,110,0.410473952452162),(64,112,2.04791405987732),(64,116,-4.35494552446059),(65,87,1.28865169225135),(65,88,0.383396404919584),(65,90,2.68868068483535),(65,97,5.36725974303415),(65,99,-0.142353587450789),(65,107,-1.09469130527665),(65,110,-4.19798883022553),(65,111,0.40903958250679),(65,114,-4.63010040589618),(65,116,4.79045228431043),(65,117,-3.2376705221717),(66,85,2.07054353465377),(66,102,-1.85351878414258),(66,105,-2.81286049989319),(66,108,4.41776024658956),(66,111,-0.383320108645893),(66,115,1.36564989165929),(66,118,1.85951567125462),(67,86,4.77079073458052),(67,90,-1.11729026154363),(67,92,-2.87639240699484),(67,104,-1.29181798760949),(67,109,-2.7612231818598),(67,111,0.403530991546373),(68,87,0.731917783135472),(68,88,0.54071169164098),(68,90,-0.231784264656514),(68,93,-2.85799737540818),(68,95,-1.93226416821802),(68,96,-1.77655873287149),(68,97,-1.69695120090335),(68,103,1.19075594347972),(68,107,-2.18562120426038),(68,112,0.676137577440718),(68,114,-1.71134830774865),(69,87,-1.92724387340922),(69,88,1.05243079927976),(69,92,0.0812555314798427),(69,94,1.52614673299356),(69,95,1.64105655079806),(69,97,-2.42767113254189),(69,108,1.59489730521561),(69,113,-0.973838007751701),(69,114,-0.132450331125828),(69,118,0.967650379955443),(70,85,-1.0864589373455),(70,86,0.202414014099551),(70,87,-3.17726676229133),(70,90,1.28400524918363),(70,96,-3.61854152043214),(70,97,-0.0301789910580767),(70,99,2.8698805200354),(70,105,-2.19447920163579),(70,107,1.31076998199408),(70,109,-2.78351313821833),(70,110,-1.40079958494827),(70,111,0.665433210242012),(71,85,1.44032105471969),(71,93,2.19822534867397),(71,96,-1.53180028687399),(71,100,-0.0306711020233772),(71,104,1.30304498428297),(71,106,1.79219946897794),(71,111,0.466963713492233),(71,113,1.77747428815577),(72,94,2.32535019989624),(72,96,2.51797540208136),(72,99,1.23438978240303),(72,110,-0.737269966734825),(72,112,1.50479140598773),(72,114,0.76342051454207),(72,115,0.717795342875454),(72,116,0.495849482711264),(73,88,-0.882267220068972),(73,94,2.44688253425703),(73,99,-0.856883449812311),(73,100,-1.1924344615009),(73,106,2.07495345927305),(73,110,1.49159215063936),(73,115,-3.54580828272347),(74,90,-1.88313699758904),(74,94,-1.86346018860439),(74,99,-1.69934690389721),(74,102,-0.87000640888699),(74,106,-0.54193243202002),(74,107,3.17014069032868),(74,110,1.2968344676046),(74,113,-0.332232123783074),(74,116,-2.20145268105106),(75,85,-2.54390087588122),(75,86,-1.54522843104343),(75,93,0.00239570299386571),(75,98,-2.15339365825373),(75,103,0.752525406659139),(75,105,-4.87243263039033),(75,111,-1.25593966490677),(75,117,0.064546647541734),(76,86,-2.12706381420331),(76,89,2.31200598162786),(76,92,-0.728942228461562),(76,94,-2.09791863765374),(76,99,1.1833780938139),(76,101,-0.277718436231574),(76,103,1.26056703390606),(76,106,-3.1480605487228),(76,110,0.185552537614063),(76,113,-2.12923825800348),(77,88,0.114001892147588),(77,91,-0.743766594439528),(77,93,-0.687086092715232),(77,98,-1.05739005706961),(77,101,-0.834101382488479),(77,102,-1.63556321909238),(77,103,0.194174016541032),(77,104,1.40530106509598),(77,105,1.19235435041353),(77,109,2.40569780571917),(78,88,-3.13978621784112),(78,93,1.34754478591266),(78,94,-0.479979857783746),(78,101,2.17665639210181),(78,104,-2.47398297067171),(78,110,-2.3947874385815),(78,114,4.55065309610279),(78,116,2.0623645741142),(78,117,0.0709555345316935),(78,118,0.352023377178259),(79,87,2.24327829828791),(79,92,-2.95674764244514),(79,94,1.41217535935545),(79,107,2.21693319498276),(79,108,-2.58563493758965),(79,114,3.38783684804834),(79,118,-2.5584276863918),(80,87,0.434873500778222),(80,88,-0.593890194402905),(80,91,-1.5683462019715),(80,99,0.71378215887936),(80,101,-0.517387920773949),(80,107,2.29639576403088),(80,113,-0.920648060548723),(81,85,1.09708319345683),(81,86,3.21161534470656),(81,90,-0.551705984679708),(81,93,0.0174565874202709),(81,96,0.811803796502579),(81,97,-1.8053758354442),(81,106,1.14700766014588),(81,107,-1.94845423749504),(81,110,2.06877346110416),(81,115,-1.17421491134373),(82,86,-0.166020691549425),(82,92,0.862758262886441),(82,110,-1.975684377575),(82,112,-0.0584429456465348),(83,87,-0.169377727591784),(83,91,0.520798364207892),(83,93,2.4623935666982),(83,101,-1.11571092867824),(83,103,0.21614734336375),(83,105,1.77770317697684),(83,108,-4.49784844508194),(84,85,0.0923261207922607),(84,86,-0.0426496169927062),(84,89,1.24549851985229),(84,95,-0.428937650685141),(84,99,0.0837542344431896),(84,104,-0.145611438337352),(84,111,-0.573374126407666),(84,113,-4.1148106326487),(84,114,1.14024781029695),(10,119,1.21573534348582),(119,109,4.12509537034211),(58,120,2.05618457594531),(120,118,1.38374736777856),(95,104,-0.779824213385418)]
orgname='BHNEAT_14_14'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()