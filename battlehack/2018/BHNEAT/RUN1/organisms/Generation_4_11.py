edge = [(0,85,0.387981810968352),(0,89,-0.349330118717002),(0,90,0.354167302468947),(0,93,-0.400616473891415),(0,98,0.357325968199713),(0,101,-0.506942960905789),(0,105,0.397106845301675),(0,108,-0.195623645741142),(0,113,0.795342875453963),(0,114,0.0229804376354259),(0,117,0.563676870021668),(0,118,-0.43725394451735),(1,86,0.237678151799066),(1,92,0.0593585009308146),(1,98,0.95272682882168),(1,102,-0.118686483352153),(1,104,-0.178579058198798),(1,107,-0.403363139744255),(1,108,-0.971861934263131),(1,109,-0.623722037415693),(1,113,0.124088259529405),(2,87,-0.285775322733238),(2,88,0.586565752128666),(2,100,-0.455977050080874),(2,106,-0.696768089846492),(2,108,0.222602008117924),(2,110,-0.704000976592303),(2,113,0.0691396832178716),(2,118,0.00302133243812372),(3,89,0.308755760368664),(3,92,0.549272133548998),(3,97,-0.317682424390393),(3,99,0.896206549272134),(3,101,0.0292367320780053),(3,103,0.52012695699942),(3,105,0.681539353617969),(3,108,-0.467833491012299),(3,109,-0.172795800653096),(3,111,-0.69060335093234),(3,112,-0.25693533127842),(3,116,-0.69479964598529),(4,90,-0.606006042664876),(4,91,0.910748619037446),(4,97,-0.706839197973571),(4,99,-0.232795190282907),(4,101,0.336115604113895),(4,108,0.511612292855617),(4,113,-0.523880733664968),(4,118,-0.585741752372814),(5,86,-0.806833094271676),(5,87,-0.368388927884762),(5,89,0.0227668080690939),(5,92,-0.30787072359386),(5,93,0.920041505172887),(5,99,0.59233375041963),(5,104,0.245078890346995),(5,114,0.716727195043794),(5,118,-0.556321909237953),(6,89,0.2773674733726),(6,92,-0.823847163304544),(6,94,0.438840907010102),(6,100,0.370555742057558),(6,101,-0.180837427900021),(6,103,-0.423261207922605),(6,107,0.523346659749138),(6,110,0.0784936063722648),(6,113,0.0422376171147801),(7,85,-0.230628376110111),(7,86,0.435712759788812),(7,90,-0.422849208044679),(7,95,0.932309945982238),(7,99,0.318735312967315),(7,100,0.754173406170843),(7,104,0.279076509903256),(7,106,0.645771660512101),(7,108,0.128345591601306),(7,112,0.534012878810999),(7,116,-0.0691702017273476),(8,92,-0.0119022186956389),(8,93,-0.13296914578692),(8,95,-0.141468550675985),(8,99,-0.78469191564684),(8,106,-0.223609118930631),(8,107,-0.496169927060762),(8,115,0.679006317331462),(8,116,-0.381145664845729),(8,118,-0.605639820551164),(9,85,-0.324503311258278),(9,87,-0.0355845820490127),(9,98,0.224463637195959),(9,101,-0.479171117282632),(9,103,0.861079744865261),(9,105,-0.471083712271493),(9,106,0.718375194555498),(9,113,-0.297952208014161),(10,89,-0.329386272774438),(10,96,0.438978240302744),(10,106,0.619037446211127),(10,108,0.750633259071627),(10,109,0.19754631183813),(10,111,-0.117999816888943),(10,112,-0.723136082033753),(10,114,-0.0505996887112033),(10,115,-0.117236854152043),(10,116,-0.00476088747825557),(10,117,0.232734153263955),(11,89,-0.482909634693442),(11,97,0.315103610339671),(11,105,-0.60307626575518),(11,112,0.0459761345255898),(11,115,0.316476943266091),(12,92,-0.0612506485183263),(12,93,0.908261360515152),(12,94,-0.747703482161931),(12,97,-0.617664113284707),(12,98,0.709341715750603),(12,99,0.333796197393719),(12,108,-0.0459913937803278),(12,116,-0.0682699056978057),(13,86,0.504058961760308),(13,87,-0.452223273415326),(13,90,0.0796685689870907),(13,99,0.188390758995331),(13,102,0.707998901333659),(13,104,-0.303262428662984),(13,113,-0.219031342509232),(13,116,-0.421033356730857),(13,118,0.301507614368114),(14,90,-0.718070009460738),(14,93,-0.416867580187384),(14,95,-0.97537156285287),(14,102,-0.166814172795801),(14,104,-0.271919919431135),(14,106,-0.0804467909787286),(14,109,-0.0617542039246803),(14,110,0.575807977538377),(14,111,-0.514923551133763),(15,85,-0.655354472487564),(15,92,-0.365489669484542),(15,99,-0.743095187231056),(15,101,0.0170751060518204),(15,104,-0.788735618152409),(15,108,-0.449598681600391),(15,117,0.0732444227423933),(16,86,-0.11383404034547),(16,87,-0.638843958861049),(16,88,-0.272713400677511),(16,90,0.165898617511521),(16,91,-0.169011505478072),(16,95,-0.489562669759209),(16,97,0.102740562150945),(16,98,-0.840662862025819),(16,99,-0.265449995422224),(16,101,0.80108035523545),(16,108,0.0116122928556169),(16,110,0.23467207861568),(17,89,0.182683797723319),(17,96,-0.195516830957976),(17,99,-0.900051881466109),(17,101,0.125766777550584),(17,106,0.143620105594043),(17,107,-0.0424512466811121),(17,109,-0.546494949186682),(18,90,0.738822595904416),(18,91,-0.271065401165807),(18,93,-0.558549760429701),(18,99,0.272530289620655),(18,102,-0.173253578295236),(18,103,-0.847773674733726),(18,104,0.58203375347148),(18,110,0.033051545762505),(18,111,0.410840174565874),(18,116,0.389721366008484),(18,117,0.760780663472396),(18,118,-0.493362224188971),(19,87,0.324686422315134),(19,89,-0.296899319437239),(19,93,0.244544816431166),(19,95,-0.768990142521439),(19,101,0.737846003601184),(19,105,0.106463820307016),(19,115,-0.603274636066775),(20,88,0.362590411084323),(20,101,-0.0522324289681692),(20,103,-0.274086733603931),(20,104,-0.595385601367229),(20,105,-0.336451307718131),(20,106,-0.465498825037385),(20,111,0.00631733146153142),(20,116,-0.651356547746208),(21,86,0.720633564256722),(21,87,0.486831263161107),(21,94,-0.712668233283486),(21,96,-0.165410321359905),(21,101,0.794122135074923),(21,102,0.360789819025239),(21,105,-0.758049256874294),(21,107,-0.311334574419385),(21,108,-0.607364116336558),(22,86,-0.824274422437208),(22,88,0.0485396893215735),(22,91,-0.416333506271554),(22,92,0.114490188299203),(22,93,0.315958128604999),(22,98,-0.329966124454482),(22,106,-0.664418469801935),(22,115,0.299798577837458),(22,117,0.463728751487777),(23,85,-0.482863856929228),(23,86,-0.963408307138279),(23,88,0.333323160496841),(23,90,0.49458296456801),(23,97,0.314706869716483),(23,104,-0.560045167394024),(23,112,0.479445783867916),(23,114,0.511520737327189),(23,115,-0.5436109500412),(23,116,-0.478469191564684),(24,89,-0.103335673085726),(24,90,-0.946043275246437),(24,91,0.294946134830775),(24,101,0.265419476912748),(24,107,0.352061525315104),(24,108,0.157506027405622),(24,110,0.0787377544480728),(24,112,-0.815179906613361),(25,90,0.548295541245766),(25,92,0.547395245216224),(25,94,-0.0787682729575487),(25,98,0.228614154484695),(25,105,0.854396191290017),(25,108,0.719168675801874),(25,109,0.404446546830653),(25,115,0.15424054689169),(26,85,0.541917172765282),(26,87,-0.554124576555681),(26,89,-0.283211767937254),(26,95,0.0594805749687185),(26,98,-0.485000152592547),(26,100,0.217780083620716),(26,101,0.381786553544725),(26,102,0.0256660664693136),(26,103,-0.683339945677053),(26,104,0.867732779931028),(26,107,0.866481521042512),(26,109,0.356196783349101),(26,112,-0.266182439649647),(26,113,-0.34766685995056),(26,117,-0.572893459883419),(27,85,0.523926511429182),(27,87,-0.423688467055269),(27,94,0.320368053224281),(27,100,0.754234443189795),(27,102,-0.218787194433424),(27,103,0.0574663533433027),(27,104,-0.598437452314829),(27,105,0.709372234260079),(27,108,-0.0514694662312692),(27,110,-0.139103366191595),(27,114,-0.371715445417646),(28,87,0.423078096865749),(28,88,-0.756523331400494),(28,97,-0.279549546800134),(28,99,-0.73787652211066),(28,104,0.076479384746849),(28,113,-0.254768517105625),(28,114,-0.0833613086336863),(29,88,-0.72103030487991),(29,91,-0.000915555284279945),(29,102,-0.330042420728172),(29,105,-0.042893765068514),(29,116,0.308511612292856),(30,95,0.0206915494247261),(30,96,0.363948484756004),(30,99,-0.472518082216865),(30,101,-0.0965605639820551),(30,104,-0.0746177556688131),(30,109,-0.142841883602405),(30,110,0.615436262092959),(30,114,-0.597415082247383),(30,118,0.404477065340129),(31,85,-0.0599230933561205),(31,92,0.153843806268502),(31,94,0.0942869350260933),(31,96,0.899105807672353),(31,99,-0.209814752647481),(31,103,-0.226996673482467),(31,107,0.207159642323069),(31,108,0.451063570055239),(31,109,0.1931974242378),(31,111,-0.346583452864162),(31,112,-0.307931760612812),(31,117,0.125431073946348),(32,86,-0.748924222540971),(32,87,0.17467268898587),(32,89,-0.163609729300821),(32,92,-0.278603473006378),(32,98,-0.439039277321696),(32,99,0.0333567308572649),(32,104,0.912381359294412),(32,106,0.174199652088992),(32,109,0.0594042786950285),(32,116,-0.213339640491958),(32,118,0.353587450788903),(33,96,0.538315988647114),(33,98,0.176900540177618),(33,108,-0.767372661519211),(33,110,-0.883236182744835),(33,111,0.301370281075472),(33,114,-0.160298471022675),(34,85,0.919736320078127),(34,90,-0.394970549638356),(34,99,-0.739310892056032),(34,104,-0.0549943540757469),(34,109,0.444532609027375),(35,86,-0.0744651631214332),(35,87,-0.115222632526627),(35,97,-0.0440992461928159),(35,98,0.588793603320414),(35,100,-0.40972624897),(35,104,0.822748496963408),(35,107,-0.56953642384106),(35,109,-0.488479262672811),(35,110,-0.309747611926634),(35,112,0.519272438734092),(36,85,-0.832789086581011),(36,87,-0.545121616260262),(36,90,-0.779595324564348),(36,91,0.708334604937895),(36,104,0.406048768578143),(36,107,0.439283425397504),(36,109,0.180669576097903),(36,112,0.183019501327555),(36,115,0.204931791131321),(36,117,-0.553575243385113),(36,118,0.62709433271279),(37,85,0.419293801690725),(37,86,0.0860621967223121),(37,87,-0.188756981109043),(37,91,0.216391491439558),(37,99,-0.149327066866054),(37,105,-0.320551164281137),(37,111,-0.0716269417401654),(37,112,0.187734611041597),(37,118,-0.207403790398877),(38,87,-0.317667165135655),(38,90,0.34881130405591),(38,103,0.200689718314158),(38,105,0.685110019226661),(38,106,0.955687124240852),(38,111,0.307824945829646),(38,115,-0.112674336985382),(39,87,0.677907650990326),(39,89,0.470900601214637),(39,91,-0.47582934049501),(39,94,-0.131946775719474),(39,97,-0.462172307504502),(39,98,0.135074922940764),(39,107,-0.226187932981353),(39,108,0.123783074434645),(39,109,0.914548173467208),(39,111,0.192144535660878),(39,113,0.904629657887509),(39,116,-0.251258888515885),(39,118,-0.953276161992248),(40,88,0.749656666768395),(40,92,-0.227622302926725),(40,99,0.290993987853633),(40,104,0.159001434369945),(40,110,-0.2811822870571),(40,116,-0.775994140446181),(40,118,0.531327249977111),(41,88,-0.694296090578936),(41,93,0.935178685872982),(41,96,-0.463759269997253),(41,97,0.223822748496963),(41,100,0.163884395886105),(41,101,0.356578264717551),(41,104,0.651387066255684),(41,105,-0.476042970061342),(41,106,0.144367809076205),(41,107,-0.946531571398053),(41,109,0.49710074159978),(41,110,-0.00668355357524339),(41,111,-0.805398724326304),(41,112,-0.917157506027406),(42,85,0.921277504806665),(42,86,-0.0117801446577349),(42,87,-0.150028992584002),(42,99,-0.109164708395642),(42,100,0.10429700613422),(42,103,-0.2150028992584),(42,109,-0.946043275246437),(42,113,-0.666035950804163),(43,85,0.318613238929411),(43,88,0.0901821955015717),(43,89,-0.208258308664205),(43,93,0.812128055665761),(43,97,0.274147770622883),(43,98,-0.477111117893002),(43,101,-0.0121463667714469),(43,102,0.915494247260964),(43,103,0.426938688314463),(43,105,-0.412381359294412),(43,110,0.187017426068911),(43,112,0.703985717337565),(43,114,-0.988708151493881),(43,116,-0.693838312936796),(44,89,0.297112949003571),(44,98,0.370067445905942),(44,99,-0.634083071382794),(45,87,0.112323374126408),(45,88,0.277199621570483),(45,90,-0.00866725669118323),(45,91,0.655171361430708),(45,95,-0.291024506363109),(45,98,-0.298196356089969),(45,108,-0.385174108096561),(45,109,0.165501876888333),(45,112,0.666737876522111),(45,115,-0.56808679464095),(46,85,-0.443723868526261),(46,89,0.461210974456008),(46,91,-0.100833155308695),(46,94,-0.35163426618244),(46,97,0.0273445844904935),(46,100,-0.878368480483413),(46,101,-0.336375011444441),(46,108,-0.511032441175573),(46,112,-0.0509811700796533),(47,86,0.131870479445784),(47,91,0.67589342936491),(47,92,0.0833765678884243),(47,94,-0.560289315469832),(47,95,-0.653538621173742),(47,100,-0.583880123294778),(47,101,0.275658436841945),(47,104,0.331888790551469),(47,105,-0.449400311288797),(47,108,0.487075411236915),(47,112,0.523911252174444),(47,114,0.0601214636677145),(47,118,0.616992706076235),(48,86,0.245429853205969),(48,91,-0.591357158116398),(48,98,-0.0553605761894589),(48,99,-0.180181279946287),(48,100,0.440015869624928),(48,103,-0.286843470564898),(48,105,-0.52699362163152),(48,106,-0.142048402356029),(48,111,-0.0663167210913419),(48,115,-0.282876064333018),(49,87,0.112170781579028),(49,89,0.391781365398114),(49,93,-0.0726798303170873),(49,94,0.180211798455763),(49,95,0.45692312387463),(49,102,0.630252998443556),(49,113,0.143452253791925),(49,114,0.672750022888882),(50,89,0.17238380077517),(50,105,0.26601458784753),(50,107,-0.748130741294595),(51,87,0.224524674214911),(51,92,0.27774895474105),(51,97,0.0908078249458296),(51,98,-0.453306680501724),(51,103,0.296090578936125),(51,106,0.460158085879086),(51,112,0.599703970458083),(51,118,0.517120883816034),(52,89,0.451948606830042),(52,97,-0.473830378124332),(52,106,-0.194067201757866),(52,110,-0.674764244514298),(52,111,0.565996276741844),(52,113,0.914120914334544),(52,114,-0.633777886288034),(52,118,-0.190313425092318),(53,88,-0.0675069429609058),(53,90,-0.304223761711478),(53,92,-0.582888271736808),(53,94,0.564302499465926),(53,104,-0.641392254402295),(53,105,0.56755272072512),(53,109,-0.73558763389996),(54,85,-0.132786034730064),(54,91,0.890911587878048),(54,94,0.962614825891903),(54,96,0.349894711142308),(54,111,0.715048677022614),(54,112,-0.433942686239204),(54,113,0.349375896481216),(54,118,-0.0450453199865719),(55,87,-0.739524521622364),(55,95,-0.365306558427686),(55,107,-0.632343516342662),(55,110,-0.216040528580584),(55,117,-0.806512649922178),(56,107,-0.332316049684133),(56,111,-0.62968840601825),(56,113,-0.33158360545671),(56,114,0.429868465224158),(57,87,-0.35026093325602),(57,90,0.71492660298471),(57,91,0.903805658131657),(57,92,0.764061403241066),(57,93,0.201818903164769),(57,94,0.309747611926634),(57,95,0.188207647938475),(57,96,-0.675527207251198),(57,100,-0.00395214697714164),(57,102,-0.752281258583331),(57,103,0.594500564592425),(57,115,-0.0316934720908231),(58,86,0.577806939909055),(58,87,0.535981322672201),(58,89,0.723075045014801),(58,90,0.32944730979339),(58,95,-0.801507614368114),(58,96,0.294351023895993),(58,101,-0.948423718985565),(58,103,0.558687093722343),(58,109,0.134159367656484),(58,110,0.439130832850124),(58,113,0.173009430219428),(58,114,-0.0770897549363689),(58,115,-0.47499008148442),(58,118,-0.688497573778497),(59,85,-0.206122013000885),(59,86,0.076509903256325),(59,90,0.45768608661153),(59,91,0.746330149235511),(59,93,0.767815179906613),(59,97,0.484130375072481),(59,98,-0.0899533066805017),(59,100,-0.372203741569262),(59,102,-0.106021301919614),(59,112,-0.59088412121952),(59,114,0.227896969512009),(60,85,0.405652027954955),(60,87,-0.309518723105563),(60,90,0.851954710531938),(60,91,-0.54582354197821),(60,96,0.690359202856533),(60,100,-0.209067049165319),(60,101,-0.940183721427046),(60,105,-0.435087130344554),(60,107,0.645130771813105),(60,109,-0.297433393353069),(60,110,-0.423947874385815),(60,114,0.312860499893185),(61,89,0.391674550614948),(61,94,-0.555146946623127),(61,96,0.440595721304971),(61,98,-0.525223548081912),(61,100,-0.708792382580035),(61,102,0.358775597399823),(61,103,-0.372386852626118),(61,114,-0.840998565630055),(61,115,-0.454435865352336),(62,93,-0.486938077944273),(62,95,-0.387752922147282),(62,107,-0.43168431653798),(62,109,-0.240058595538194),(62,110,0.0692312387462996),(62,111,-0.0133365886410108),(63,87,-0.101138340403455),(63,90,0.708777123325297),(63,93,0.434598834192938),(63,97,0.0775475325785089),(63,100,-0.0417340617084262),(63,103,-0.104586931974242),(63,104,-0.213965269936216),(63,108,-0.579638050477615),(63,111,-0.602374340037233),(63,114,-0.162785729544969),(63,117,0.368572038941618),(64,87,-0.0254829554124577),(64,94,0.346812341685232),(64,99,0.0310373241370891),(64,110,-0.450117496261483),(64,112,-0.393551438947722),(64,116,-0.317133091219825),(65,87,0.589709158604694),(65,88,-0.0688497573778497),(65,90,-0.0908688619647817),(65,97,0.0317087313455611),(65,99,-0.168675801873836),(65,107,-0.963957640308847),(65,110,-0.433545945616016),(65,111,-0.0235297708059938),(65,114,-0.663380840479751),(65,116,0.0891293069246498),(65,117,-0.0665761284218879),(66,85,0.10849330118717),(66,102,0.0229651783806879),(66,105,0.911160618915372),(66,108,0.899319437238685),(66,111,0.78759117404706),(66,115,0.597430341502121),(66,118,0.185155796990875),(67,86,0.493148594622639),(67,90,0.796136356700339),(67,92,0.265755180516984),(67,104,0.82311471907712),(67,109,-0.654744102298044),(67,111,0.144566179387799),(68,87,-0.0133213293862728),(68,88,0.759392071291238),(68,90,-0.208960234382153),(68,93,0.00192266609698782),(68,95,0.715338602862636),(68,96,0.277169103061007),(68,97,-0.611865596484268),(68,103,0.614276558732871),(68,107,-0.140690328684347),(68,112,-0.0744041261024811),(68,114,0.703604235969115),(69,87,0.672566911832026),(69,88,-0.910000915555284),(69,92,0.596926786095767),(69,94,-0.40842921231727),(69,95,0.802941984313486),(69,97,-0.0192266609698782),(69,108,-0.542252876369518),(69,113,-0.482680745872372),(69,114,0.518967253639332),(69,118,0.990844447157201),(70,85,-0.357799005096591),(70,86,-0.603411969359416),(70,87,-0.25693533127842),(70,90,0.236396374401074),(70,96,-0.00350962858973968),(70,97,-0.0180822168645283),(70,99,0.561052278206732),(70,105,-0.797067171239357),(70,107,0.750511185033723),(70,109,0.0376750999481185),(70,110,0.442793053987243),(70,111,-0.274117252113407),(71,85,0.136051515243995),(71,93,-0.651020844141972),(71,96,-0.831385235145116),(71,100,-0.132023071993164),(71,104,0.467696157719657),(71,106,-0.206213568529313),(71,111,0.454680013428144),(71,113,0.171361430707724),(72,94,0.951902829065828),(72,96,-0.157734916226692),(72,99,0.820627460554826),(72,110,0.340037232581561),(72,112,0.424649800103763),(72,114,0.690801721243934),(72,115,0.547471541489914),(72,116,0.718008972441786),(73,88,0.847773674733726),(73,94,0.381542405468917),(73,99,-0.311136204107791),(73,100,0.0574510940885647),(73,106,0.0778221991637928),(73,110,-0.141590624713889),(73,115,-0.0560930204168828),(74,90,0.257820368053224),(74,94,-0.730185857722709),(74,99,0.212652974028748),(74,102,-0.203192236091189),(74,106,0.239677114169744),(74,107,-0.315073091830195),(74,110,0.636158330027161),(74,113,-0.814035462508011),(74,116,-0.316232795190283),(75,85,0.373577074495682),(75,86,0.253303628650777),(75,93,-0.858760338145085),(75,98,0.11101107821894),(75,103,-0.213644825586718),(75,105,0.0970488601336711),(75,111,0.924375133518479),(75,117,-0.725363933225501),(76,86,-0.379589220862453),(76,89,0.644474623859371),(76,92,-0.289590136417737),(76,94,0.744651631214332),(76,99,-0.0857417523728141),(76,101,-0.343333231604968),(76,103,0.00576799829096347),(76,106,0.706503494369335),(76,110,-0.633472701193274),(76,113,0.151066621906186),(77,88,-0.644367809076205),(77,91,0.0854213080233161),(77,93,0.610049745170446),(77,98,0.0988494521927549),(77,101,-0.831965086825159),(77,102,0.207037568285165),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,0.211828974272897),(77,109,0.143925290688803),(78,88,-0.564714499343852),(78,93,0.595721304971465),(78,94,-0.209921567430647),(78,101,-0.601947080904569),(78,104,0.102511673329875),(78,110,-0.555558946501053),(78,114,-0.451078829309977),(78,116,-0.688894314401685),(78,117,-0.201727347636341),(78,118,0.685445722830897),(79,87,0.469954527420881),(79,92,-0.0413068025757622),(79,94,-0.300973540452284),(79,107,0.197286904507584),(79,108,0.85003204443495),(79,114,0.268089846491897),(79,118,-0.766228217413861),(80,87,0.184575945310831),(80,88,-0.685918759727775),(80,91,-0.338633381145665),(80,99,0.63342692342906),(80,101,0.493469038972137),(80,107,-0.0195928830835902),(80,113,0.243079927976318),(81,85,-0.658742027039399),(81,86,-0.456648457289346),(81,90,-0.883297219763787),(81,93,-0.136844996490371),(81,96,-0.270302438428907),(81,97,-0.780907620471816),(81,106,0.609042634357738),(81,107,0.45837275307474),(81,110,0.926145207068087),(81,115,-0.396664326914274),(82,86,0.294259468367565),(82,92,-0.445631275368511),(82,110,-0.852443006683554),(82,112,0.838831751457259),(83,87,-0.97460860011597),(83,91,0.0713980529190955),(83,93,0.0527665028839991),(83,101,-0.702322458571123),(83,103,0.41689809869686),(83,105,0.657567064424573),(83,108,-0.982726523636586),(84,85,-0.752616962187567),(84,86,0.152500991851558),(84,89,-0.228339487899411),(84,95,-0.212775048066652),(84,99,-0.186880092776269),(84,104,0.517975402081362),(84,111,-0.418958098086489),(84,113,-0.465834528641621),(84,114,0.168248542741173)]
orgname='BHNEAT_4_11'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()