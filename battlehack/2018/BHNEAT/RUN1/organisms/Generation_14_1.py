edge = [(0,85,1.48422193060091),(0,89,-0.128330332346568),(0,90,-1.55865657521287),(0,93,0.748939481795709),(0,98,0.353373821222571),(0,101,-3.60174871059297),(0,105,-3.73355815301981),(0,108,2.98364207892087),(0,113,-4.13713492233039),(0,114,3.41656239509262),(0,117,1.31275368511002),(0,118,2.59596545304727),(1,86,0.503555406353954),(1,92,-0.0742210150456251),(1,98,0.792718283639027),(1,102,-4.47016815698721),(1,104,-0.04406872768334),(1,107,-2.16176335947752),(1,108,-0.246131778923917),(1,109,-3.09360026856288),(1,113,2.24868007446516),(2,87,-1.19617297891171),(2,88,2.4931333353679),(2,100,1.61229285561693),(2,106,0.4789574877163),(2,108,0.549562059389019),(2,110,-2.7488937040315),(2,113,1.77277443769646),(2,118,1.54741050447096),(3,89,0.358149967955565),(3,92,-3.64238410596026),(3,97,1.78159428693503),(3,99,1.79157383953368),(3,101,-1.04593035676138),(3,103,-0.592883083590197),(3,105,2.48680074465163),(3,108,-3.7915433210242),(3,109,-2.11104159672842),(3,111,-0.774147770622883),(3,112,1.48388622699667),(3,116,0.0279549546800133),(4,90,0.928388317514573),(4,91,0.0581377605517747),(4,97,-5.06534012878811),(4,99,2.30709250160222),(4,101,-4.09279152806177),(4,108,-0.454878383739738),(4,113,0.714178899502548),(4,118,0.489440595721305),(5,86,1.3963133640553),(5,87,2.89800714133122),(5,89,3.43211157567064),(5,92,-2.2575304422132),(5,93,-0.896191290017396),(5,99,-1.84469130527665),(5,104,2.39030121768853),(5,114,1.21639149143956),(5,118,1.26456495864742),(6,89,1.69606616412854),(6,92,-0.823847163304544),(6,94,-0.21332438123722),(6,100,-1.03068636127812),(6,101,1.3819391460921),(6,103,-0.453550828577532),(6,107,2.19771416364025),(6,110,1.88192388683737),(6,113,2.12314218573565),(7,85,-1.17824335459456),(7,86,-2.92321543015839),(7,90,0.952024903103732),(7,95,2.39681691946165),(7,99,2.72130497146519),(7,100,1.56337168492691),(7,104,-0.128635517441328),(7,106,0.924100466933195),(7,108,-3.4655446028016),(7,112,2.65854365672781),(7,116,-1.33678701132237),(8,92,-0.582476271858882),(8,93,2.69388409070101),(8,95,0.419553209021271),(8,99,-1.31739249855037),(8,106,0.656544694357128),(8,107,0.0183111056855983),(8,115,3.34258552812281),(8,116,1.38866847743156),(8,118,0.821787163914914),(9,85,-2.79757072664571),(9,87,3.53675954466384),(9,98,-1.28917813653981),(9,101,2.34794152653584),(9,103,0.953856013672292),(9,105,-1.94311349833674),(9,106,0.514053773613697),(9,113,-0.0998870815149389),(10,89,-0.17505417035432),(10,96,-0.722220526749474),(10,106,1.18907742545854),(10,108,-0.208792382580035),(10,109,0.217734305856502),(10,111,-0.688039796136356),(10,112,-1.90893276772362),(10,114,0.317239906002991),(10,115,-3.20441297647023),(10,116,-1.85796685689871),(10,117,1.10998870815149),(11,89,-3.74530777916807),(11,97,0.0168614764854884),(11,105,-1.85483870967742),(11,112,-2.65039521469771),(11,115,2.57866145817438),(12,92,-0.550706503494369),(12,93,0.688573870052187),(12,94,-0.517059846797082),(12,97,-0.15027314065981),(12,98,-2.73520615253151),(12,99,-1.20641193884091),(12,108,-0.0146336252937407),(12,116,2.13348796044801),(13,86,2.35065767387921),(13,87,2.26247444074831),(13,90,-0.174764244514298),(13,99,2.20093386638997),(13,102,4.34301278725547),(13,104,-3.42049928281503),(13,113,-4.35271767326884),(13,116,-4.32938627277444),(13,118,2.84630878627888),(14,90,2.08899197363201),(14,93,2.99351481673635),(14,95,0.209051789910581),(14,102,1.74382763145848),(14,104,0.0573747978148748),(14,106,1.74764244514298),(14,109,0.763985106967376),(14,110,-2.81197546311838),(14,111,-1.75911740470595),(15,85,-3.28528702658162),(15,92,-0.924481948301645),(15,99,3.27001251258889),(15,101,-2.93481246375927),(15,104,-2.38863795892209),(15,108,-1.81342509231849),(15,117,0.394756920072024),(16,86,1.56170842616047),(16,87,2.18306527909177),(16,88,-1.13512070070498),(16,90,0.987502670369579),(16,91,-4.41640980254524),(16,95,0.659077730643635),(16,97,0.982802819910275),(16,98,-2.56167790765099),(16,99,-0.266197698904385),(16,101,-0.959456160161138),(16,108,2.53286843470565),(16,110,1.17955565050203),(17,89,0.883663441877499),(17,96,-0.0632953886532182),(17,99,2.9859462263863),(17,101,2.16417432172613),(17,106,1.00935392315439),(17,107,3.79258095034638),(17,109,1.25698110904263),(18,90,2.3591265602588),(18,91,-1.58291879024628),(18,93,0.406201361125523),(18,99,0.563982055116428),(18,102,-3.19966734824671),(18,103,-2.15414899136326),(18,104,0.472655415509506),(18,110,2.69734794152654),(18,111,0.569917905209509),(18,116,2.40264595477157),(18,117,0.800958281197546),(18,118,-0.71629993591113),(19,87,-2.40859706411939),(19,89,-0.826181829279458),(19,93,-0.857875301370281),(19,95,-0.356532486953337),(19,101,-1.60414441358684),(19,105,-0.484481337931455),(19,115,-2.70566423535875),(20,88,-0.264519180883206),(20,101,1.17099520859401),(20,103,-2.78713339640492),(20,104,0.997604297006134),(20,105,1.8771172215949),(20,106,-0.905697805719169),(20,111,-0.701391644032106),(20,116,-0.241706595049898),(21,86,-2.46963408307138),(21,87,-3.23787652211066),(21,94,-1.14206366161077),(21,96,-0.231864375743889),(21,101,-0.392284920804468),(21,102,-0.843684194463942),(21,105,-0.967055269020661),(21,107,0.91239661854915),(21,108,-0.17436750389111),(22,86,2.42118594927824),(22,88,-2.87092196417127),(22,91,1.33068330942717),(22,92,3.52731406598102),(22,93,-2.60382396923734),(22,98,2.01261940366832),(22,106,-2.32683797723319),(22,115,4.25211340678121),(22,117,-0.010071108127079),(23,85,-1.1334421826838),(23,86,-5.63182470168157),(23,88,-0.966383861812189),(23,90,2.38825647755364),(23,97,1.03396710104679),(23,104,0.722586748863186),(23,112,0.819879757072665),(23,114,0.19609668263802),(23,115,-2.21320230719932),(23,116,-0.373943296609394),(24,89,0.401043733024079),(24,90,0.489974669637135),(24,91,2.44146549882504),(24,101,0.182271797845393),(24,107,-1.64357432782983),(24,108,-0.00244148075807978),(24,110,-1.25194555497909),(24,112,-0.480285042878506),(25,90,-1.6529587694937),(25,92,-2.04649494918668),(25,94,2.40020447401349),(25,98,-1.68321787163915),(25,105,-0.979766228217414),(25,108,0.0510422070986053),(25,109,-1.14725180822169),(25,115,-1.42155217139195),(26,85,-2.03062532425916),(26,87,-4.56753746147038),(26,89,-2.20603045747246),(26,95,-0.51615955076754),(26,98,-3.05252235480819),(26,100,1.13856929227577),(26,101,-1.75484481337931),(26,102,0.60399182103946),(26,103,-2.759056367687),(26,104,-1.21694082461013),(26,107,3.17757194738609),(26,109,-1.91908017212439),(26,112,-4.65642262031922),(26,113,0.694082461012604),(26,117,-1.22356334116642),(27,85,1.56468398083438),(27,87,2.69991149632252),(27,94,0.0428174687948241),(27,100,1.91084017456587),(27,102,-0.751594592120121),(27,103,-0.0887325663014619),(27,104,0.681279946287423),(27,105,5.03263954588458),(27,108,-5.33791619617298),(27,110,1.18074587237159),(27,114,0.262077700125126),(28,87,-0.0745262001403851),(28,88,-2.13550218207343),(28,97,-0.574358348338267),(28,99,-0.132847071749016),(28,104,-0.747672963652455),(28,113,-0.523316141239662),(28,114,0.486220892971587),(29,88,-2.88827173680837),(29,91,1.71903134250923),(29,102,0.866481521042512),(29,105,2.86681722464675),(29,116,-0.987731559190649),(30,95,3.97332682271798),(30,96,0.115771965697195),(30,99,0.279305398724326),(30,101,-0.430814539017914),(30,104,1.1825159459212),(30,109,1.5795922727134),(30,110,1.10190130314036),(30,114,-0.880077517014069),(30,118,3.75045014801477),(31,85,-1.10713522751549),(31,92,-1.69496749778741),(31,94,0.43038727988525),(31,96,-2.44259468367565),(31,99,-2.47474593340861),(31,103,-0.604739524521622),(31,107,0.97598193304239),(31,108,2.62628559221168),(31,109,-1.23531296731468),(31,111,0.340037232581561),(31,112,-1.18617816705832),(31,117,-5.16454054383984),(32,86,-0.0556962797936948),(32,87,-4.0614795373394),(32,89,-1.53653065584277),(32,92,1.42646565141758),(32,98,1.75412762840663),(32,99,3.67184972685934),(32,104,3.24620807519761),(32,106,-0.624164555803095),(32,109,2.69129001739555),(32,116,-1.28981902523881),(32,118,1.58713034455397),(33,96,-0.451017792291025),(33,98,1.40632343516343),(33,108,-1.72986541337321),(33,110,0.0360118411816768),(33,111,0.130664998321482),(33,114,0.151768547624134),(34,85,0.919736320078127),(34,90,0.643101290932951),(34,99,-0.739310892056032),(34,104,-0.571916867580187),(34,109,-1.16644795068209),(35,86,1.6170995208594),(35,87,0.211157567064424),(35,97,-3.11532944730979),(35,98,1.70987578966643),(35,100,-0.426786095767083),(35,104,0.469603564561907),(35,107,2.94291512802515),(35,109,1.08606219672231),(35,110,-2.89095736564226),(35,112,-1.54911954100162),(36,85,0.718253120517594),(36,87,-1.15973387859737),(36,90,1.40995513779107),(36,91,1.23088778344066),(36,104,1.09080782494583),(36,107,-0.256111331522568),(36,109,1.06463820307016),(36,112,4.05829035309915),(36,115,2.36724448377941),(36,117,3.15343180639058),(36,118,2.02475051118503),(37,85,1.60837122714927),(37,86,1.64082766197699),(37,87,1.06486709189123),(37,91,1.68012024292734),(37,99,2.6415143284402),(37,105,2.51647999511704),(37,111,-2.40232551042207),(37,112,1.21494186223945),(37,118,-2.42953276161992),(38,87,-2.44470046082949),(38,90,-3.56511123996704),(38,103,2.04942472609638),(38,105,-0.0802636799218726),(38,106,0.288399914548173),(38,111,-3.08198797570727),(38,115,-2.54492324594867),(39,87,-1.08020264290292),(39,89,1.27719962157048),(39,91,1.15817743461409),(39,94,1.57029938657796),(39,97,0.100787377544481),(39,98,2.53070162053285),(39,107,-2.10249641407514),(39,108,-0.770012512588885),(39,109,0.872585222937712),(39,111,-0.469924008911405),(39,113,4.99487289040803),(39,116,-2.55807672353282),(39,118,1.19705801568651),(40,88,0.749656666768395),(40,92,0.22095400860622),(40,99,-1.83172093874935),(40,104,0.740043336283456),(40,110,-2.34380626850185),(40,116,0.021362956633198),(40,118,1.37508774071474),(41,88,-1.7375713370159),(41,93,-0.805536057618946),(41,96,1.58883938108463),(41,97,-2.35648670918912),(41,100,-1.3350321970275),(41,101,-0.858485671559801),(41,104,-2.01498458815271),(41,105,2.01275673696097),(41,106,-2.89074373607593),(41,107,-0.837351603747673),(41,109,-1.69608142338328),(41,110,-0.690847499008148),(41,111,2.77098910489212),(41,112,-1.57405316324351),(42,85,-0.0411999877925962),(42,86,3.52844325083163),(42,87,-0.804498428296762),(42,99,-1.0064241462447),(42,100,0.825189977721488),(42,103,-0.606402783288064),(42,109,-1.96658223212378),(42,113,-1.10461745048372),(43,85,1.88196966460158),(43,88,-2.67845698416089),(43,89,0.385692922757652),(43,93,-0.686788537247841),(43,97,0.0833918271431623),(43,98,0.0813318277535325),(43,101,3.70319223609119),(43,102,1.54135258033998),(43,103,-3.92414624469741),(43,105,-4.12518692587054),(43,110,0.177312540055544),(43,112,-1.38148136844996),(43,114,-0.816064943388165),(43,116,-3.51512192144536),(44,89,2.34244819483016),(44,98,1.65532395397809),(44,99,2.55082857753227),(45,87,4.51637318033387),(45,88,0.8653523361919),(45,90,3.13434247871334),(45,91,2.97868282113102),(45,95,2.30097354045228),(45,98,-0.832117679372539),(45,108,-1.84846034119694),(45,109,2.95510727256081),(45,112,2.38615070039979),(45,115,-0.719718008972442),(46,85,-3.16385387737663),(46,89,4.06064027832881),(46,91,4.32496108890042),(46,94,-2.53210547196875),(46,97,-0.0446485793633839),(46,100,-1.54925687429426),(46,101,-0.784630878627888),(46,108,0.856959746086001),(46,112,0.601031525620289),(47,86,3.91845454268014),(47,91,-1.39234595782342),(47,92,-1.02414014099551),(47,94,0.191305276650288),(47,95,-3.55456709494308),(47,100,-2.65303506576739),(47,101,-3.77811517685476),(47,104,2.21190527054659),(47,105,-0.459166234321116),(47,108,0.32761619922483),(47,112,1.66209906308176),(47,114,-0.712454603717154),(47,118,-1.21356852931303),(48,86,1.16499832148198),(48,91,0.367748039185766),(48,98,-0.225226599932859),(48,99,-0.563753166295358),(48,100,-0.111148411511582),(48,103,-2.07055879390851),(48,105,-1.93290505691702),(48,106,-2.67413861507004),(48,111,0.878917813653981),(48,115,0.487838373973815),(49,87,-2.37075411236915),(49,89,-0.249565111239967),(49,93,-1.47618030335398),(49,94,0.0537888729514451),(49,95,1.76343577379681),(49,102,0.360652485732597),(49,113,0.970015564439833),(49,114,0.213599047822504),(50,89,0.643879512924589),(50,105,1.40806299020356),(50,107,2.27861873226112),(51,87,1.96455275124363),(51,92,-2.69875179296243),(51,97,4.29367961668752),(51,98,-1.88090151676992),(51,103,2.31917783135472),(51,106,0.168279061250648),(51,112,-1.07127597888119),(51,118,-0.261040070802942),(52,89,-0.318720053712577),(52,97,3.04712057863094),(52,106,0.814767906735435),(52,110,1.44169438764611),(52,111,1.5873439741203),(52,113,0.076754051332133),(52,114,1.39278847621082),(52,118,-1.54835657826472),(53,88,0.778481398968474),(53,90,0.00732444227423934),(53,92,1.27886288033692),(53,94,0.585268715475936),(53,104,-2.8543504135258),(53,105,-1.48190252388073),(53,109,0.122745445112461),(54,85,0.0908688619647817),(54,91,0.00854518265327919),(54,94,1.4750205999939),(54,96,1.23798333689383),(54,111,0.563219092379528),(54,112,-1.30771813104648),(54,113,-0.777535325174718),(54,118,0.367824335459456),(55,87,0.0598162785729545),(55,95,-2.31200598162786),(55,107,1.38676107058931),(55,110,0.895413068025758),(55,117,1.91091647083956),(56,107,-1.06750694296091),(56,111,-1.26293221839045),(56,113,2.12950529496139),(56,114,-1.6216772972808),(57,87,-0.35026093325602),(57,90,3.74449903866695),(57,91,-2.43453779717399),(57,92,4.55652027954955),(57,93,1.99583422345653),(57,94,-2.15440839869381),(57,95,-1.72658467360454),(57,96,2.16177861873226),(57,100,5.03588976714377),(57,102,-2.54295480208747),(57,103,0.594500564592425),(57,115,0.21294289986877),(58,86,1.85973693044832),(58,87,-2.28412732322153),(58,89,-1.09599597155675),(58,90,-1.59672841578417),(58,95,2.1146885586108),(58,96,-0.845591601306192),(58,101,0.853144932401502),(58,103,-0.0508133182775352),(58,109,-1.13353373821223),(58,110,-1.44851527451399),(58,113,2.4635761589404),(58,114,2.04451124607074),(58,115,-2.30040894802698),(58,118,-2.89086581011383),(59,85,1.12860499893185),(59,86,2.69585253456221),(59,90,-3.07707449568163),(59,91,-3.5110019226661),(59,93,0.136265144810327),(59,97,2.6087069307535),(59,98,2.15471358378857),(59,100,-0.673726615192114),(59,102,3.47738578447829),(59,112,3.03636280404065),(59,114,2.3362376781518),(60,85,0.145313882869961),(60,87,-1.78189947202979),(60,90,0.0847956785790585),(60,91,0.609988708151494),(60,96,-2.31353190710166),(60,100,-0.773293252357555),(60,101,-1.4803613391522),(60,105,-0.300836207159642),(60,107,-1.0771813104648),(60,109,-0.781807916501358),(60,110,2.14156010620441),(60,114,1.32731101413007),(61,89,-1.16164128543962),(61,94,0.681783501693777),(61,96,-0.345164342173528),(61,98,1.27574999237037),(61,100,-1.34449293496506),(61,102,0.64966277047029),(61,103,-2.66205328531755),(61,114,0.996749778740806),(61,115,-1.10957670827357),(62,93,-0.998519852290414),(62,95,-3.21825312051759),(62,107,-0.165410321359905),(62,109,-0.387783440656758),(62,110,0.9820093386639),(62,111,-1.74306466872158),(63,87,-2.06134220404675),(63,90,0.665684987945189),(63,93,2.60147404400769),(63,97,-3.0681478316599),(63,100,1.81131931516465),(63,103,0.716177861873226),(63,104,-2.39661854915006),(63,108,2.64059877315592),(63,111,-2.28164006469924),(63,114,-0.549790948210089),(63,117,-2.30625324259163),(64,87,-1.92617572557756),(64,94,-3.03453169347209),(64,99,0.0296639912106689),(64,110,2.63586840418714),(64,112,-3.98788415173803),(64,116,-0.241889706106754),(65,87,0.183416241950743),(65,88,-2.02592547379986),(65,90,2.22983489486373),(65,97,-3.82758568071535),(65,99,0.624652851954711),(65,107,-2.24626911221656),(65,110,-0.00984221930600926),(65,111,-1.25449385052034),(65,114,1.69385357219153),(65,116,-0.476638080996124),(65,117,2.14896084475234),(66,85,1.24897000030519),(66,102,2.06517227698599),(66,105,-0.115710928678243),(66,108,-3.57713553270058),(66,111,-0.568178350169378),(66,115,-0.185567796868801),(66,118,-0.64775536362804),(67,86,1.24317148350475),(67,90,-0.0280159916989653),(67,92,0.0539414654988251),(67,104,0.552919095431379),(67,109,2.2384563737907),(67,111,-2.76381725516526),(68,87,2.31118198187201),(68,88,1.90382091738639),(68,90,-0.89295632801294),(68,93,-3.60036011841182),(68,95,-0.834208197271645),(68,96,-1.48634296700949),(68,97,-3.87589648121586),(68,103,1.56575212866604),(68,107,-0.740760521256142),(68,112,1.66150395214698),(68,114,-1.18074587237159),(69,87,-0.876323740348521),(69,88,-3.11305581835383),(69,92,4.50788903469955),(69,94,-1.53256324961089),(69,95,-0.180135502182073),(69,97,-0.552842799157689),(69,108,0.707953123569445),(69,113,-2.44860683004242),(69,114,1.04915005951109),(69,118,1.18549150059511),(70,85,-4.43179113132115),(70,86,-0.928296761986145),(70,87,0.0499740592669454),(70,90,-0.69762260811182),(70,96,-1.18488113040559),(70,97,-2.50886562700278),(70,99,-1.23767815179907),(70,105,0.209006012146367),(70,107,3.33451338236641),(70,109,1.14085818048647),(70,110,-1.77297280800806),(70,111,-1.28063295388653),(71,85,1.04962309640797),(71,93,1.61137730033265),(71,96,-1.72429578539384),(71,100,2.42751853999451),(71,104,-3.19780571916868),(71,106,-0.759056367687002),(71,111,-0.477416302987762),(71,113,0.210730307931761),(72,94,-1.54206976531266),(72,96,-5.10931730094302),(72,99,-0.427808465834528),(72,110,-2.90444654683065),(72,112,1.97859126560259),(72,114,-1.61114841151158),(72,115,-0.590151676992096),(72,116,1.24454481643117),(73,88,2.36439100314341),(73,94,-1.01420636616108),(73,99,-2.06198309274575),(73,100,1.86248359630116),(73,106,0.611056855983154),(73,110,0.680944242683187),(73,115,1.99894711142308),(74,90,-2.23577074495682),(74,94,1.54512161626026),(74,99,-0.946607867671743),(74,102,-3.22220526749474),(74,106,1.80854213080233),(74,107,0.863902706991791),(74,110,0.866969817194128),(74,113,1.38503677480392),(74,116,0.376308481093783),(75,85,-3.20500808740501),(75,86,0.253303628650777),(75,93,-0.806756797997986),(75,98,1.13718070009461),(75,103,-1.37261574144719),(75,105,-1.37542344431898),(75,111,-0.121234778893399),(75,117,2.60374767296365),(76,86,-0.826899014252144),(76,89,0.955458235419782),(76,92,1.42452772606586),(76,94,-1.8824579607532),(76,99,1.71175267799921),(76,101,-1.89535203100681),(76,103,1.90263069551683),(76,106,1.67842646565142),(76,110,-0.437696462904752),(76,113,0.200735496078372),(77,88,-3.06997894222846),(77,91,-0.815912350840785),(77,93,-2.29918820764794),(77,98,-3.1877346110416),(77,101,1.72322763756218),(77,102,1.23764763328959),(77,103,0.337611011078219),(77,104,1.99705496383557),(77,105,-2.26653340250862),(77,109,-3.9434186834315),(78,88,-1.25690481276894),(78,93,4.73892941068758),(78,94,5.2064882351146),(78,101,0.598498489333781),(78,104,1.69328897976623),(78,110,-1.28289132358776),(78,114,-0.817056794946135),(78,116,-1.5964995269631),(78,117,0.99725333414716),(78,118,0.846415601062044),(79,87,0.339289529099399),(79,92,3.29462569048128),(79,94,2.26390881069369),(79,107,-1.50953703421125),(79,108,2.29409161656545),(79,114,1.70430616168706),(79,118,0.296411023285623),(80,87,-1.41195410016175),(80,88,1.79647206030457),(80,91,-2.02978606524857),(80,99,2.65140232551042),(80,101,-1.08436841944639),(80,107,-0.420392468031861),(80,113,1.7612231818598),(81,85,0.54116946928312),(81,86,-1.44422742393262),(81,90,-3.10115359965819),(81,93,1.03137302774133),(81,96,-3.969481490524),(81,97,2.75153355510117),(81,106,-0.376247444074831),(81,107,-2.30140079958495),(81,110,-0.63281655323954),(81,115,-0.457167271950438),(82,86,0.321878719443342),(82,92,-4.56479079561754),(82,110,1.06892605365154),(82,112,0.148014770958586),(83,87,-2.20091860713523),(83,91,1.87011322367016),(83,93,3.97335734122745),(83,101,-1.7412640766625),(83,103,1.86536759544664),(83,105,1.43432416760765),(83,108,1.46302682576983),(84,85,-1.3623004852443),(84,86,-2.66069521164586),(84,89,0.196844386120182),(84,95,-1.46633808404797),(84,99,1.67569505905332),(84,104,1.11690115054781),(84,111,-2.46713156529435),(84,113,-1.19739371929075),(84,114,2.24539933469649),(35,105,0.172444837794122)]
orgname='BHNEAT_14_1'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()