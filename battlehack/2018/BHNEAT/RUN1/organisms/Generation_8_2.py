edge = [(0,85,-1.55465865047151),(0,89,-1.86449781792657),(0,90,-0.277489547410504),(0,93,0.186712240974151),(0,98,1.50041199987793),(0,101,-2.7315897091586),(0,105,2.5926847132786),(0,108,-0.200430310983612),(0,113,0.886898403881955),(0,114,1.99302652058473),(0,117,1.0803552354503),(0,118,0.310434278389843),(1,86,1.38074892422254),(1,92,0.249046296578875),(1,98,1.68973357341227),(1,102,-0.504898220770898),(1,104,0.818384350108341),(1,107,-3.17116306039613),(1,108,0.0200659199804681),(1,109,-1.54181035798212),(1,113,-0.640095217749565),(2,87,1.12089907528916),(2,88,-0.641346476638081),(2,100,1.06399731437117),(2,106,-1.08603167821284),(2,108,1.01295510727256),(2,110,-0.694311349833674),(2,113,2.06743064668722),(2,118,-2.13602099673452),(3,89,0.918164616840113),(3,92,1.51022370067446),(3,97,0.0515762810144353),(3,99,-1.46505630664998),(3,101,1.39295632801294),(3,103,2.37061677907651),(3,105,-0.646275215918455),(3,108,1.37975707266457),(3,109,0.804864650410474),(3,111,-1.84580523087252),(3,112,0.586245307779168),(3,116,1.03170873134556),(4,90,-1.06988738670003),(4,91,3.06270027771844),(4,97,1.65193639942625),(4,99,-1.14516129032258),(4,101,-0.652287362285226),(4,108,-1.1261329996643),(4,113,-2.06872768333995),(4,118,1.51301614429151),(5,86,-2.81257057405316),(5,87,-0.105548265022736),(5,89,-1.09527878658406),(5,92,-0.132007812738426),(5,93,-0.41552476577044),(5,99,2.08827478865932),(5,104,-0.627063814203314),(5,114,-1.62900173955504),(5,118,-1.02439954832606),(6,89,-2.25536362804041),(6,92,1.38134403515732),(6,94,1.17099520859401),(6,100,1.74991607409894),(6,101,1.35813470870083),(6,103,1.73805963316752),(6,107,1.98571733756523),(6,110,1.98930326242866),(6,113,2.07705923642689),(7,85,0.22003845332194),(7,86,0.00959807123020107),(7,90,0.680166020691549),(7,95,2.84971160008545),(7,99,0.957182531205176),(7,100,1.21309549241615),(7,104,1.16765343180639),(7,106,-0.534684286019471),(7,108,1.80187383648183),(7,112,-0.447233497116001),(7,116,1.386837366863),(8,92,1.08314767906735),(8,93,0.580629902035585),(8,95,1.43499557481613),(8,99,-1.15602587969604),(8,106,1.49839777825251),(8,107,-0.427732169560839),(8,115,-1.22618793298135),(8,116,0.1698660237434),(8,118,0.632877590258492),(9,85,-2.43119602038636),(9,87,0.827173680837428),(9,98,-0.849589526047548),(9,101,-2.71594897305216),(9,103,2.27858821375164),(9,105,-1.64085818048647),(9,106,1.96612445448164),(9,113,-2.46621601001007),(10,89,-2.61775566881314),(10,96,1.0317239906003),(10,106,2.4261909848323),(10,108,0.620624408703879),(10,109,1.61029389324625),(10,111,-0.351695303201392),(10,112,-2.74575029755547),(10,114,-0.662419507431257),(10,115,1.16675313577685),(10,116,-0.570467238380078),(10,117,-0.757286294137394),(11,89,-1.77127903073214),(11,97,2.16881313516648),(11,105,0.145695364238411),(11,112,-1.97227393414106),(11,115,0.382244331186865),(12,92,-0.690588091677602),(12,93,-0.36497085482345),(12,94,-1.08630634479812),(12,97,-2.4322946867275),(12,98,-1.6854457228309),(12,99,-0.423612170781579),(12,108,-2.41941587572863),(12,116,-0.920041505172887),(13,86,1.41129795220801),(13,87,0.683751945554979),(13,90,2.49842829676199),(13,99,-1.86893826105533),(13,102,-0.86603900265511),(13,104,-0.248176519058809),(13,113,-1.29834894863735),(13,116,1.87578966643269),(13,118,2.52029480880154),(14,90,-2.19583727530747),(14,93,0.93671987060152),(14,95,-1.0567033906064),(14,102,1.4687185277871),(14,104,-2.35633411664174),(14,106,-1.35599841303751),(14,109,2.4609668263802),(14,110,3.0684682760094),(14,111,2.08041627246925),(15,85,1.50764488662374),(15,92,2.06744590594195),(15,99,-0.91178624835963),(15,101,0.074465163121433),(15,104,-0.370677816095462),(15,108,-1.42316965239418),(15,117,-0.804635761589404),(16,86,0.065233314004944),(16,87,-0.289559617908261),(16,88,2.11662648396252),(16,90,1.05034028138066),(16,91,0.169148838770714),(16,95,-0.91453291421247),(16,97,-2.65385906552324),(16,98,-1.19788201544237),(16,99,-1.12591937009796),(16,101,1.48057496871853),(16,108,0.109164708395642),(16,110,-1.58244575334941),(17,89,-0.26479384746849),(17,96,0.134006775109104),(17,99,-1.60243537705618),(17,101,-1.26915799432356),(17,106,-0.809778130436109),(17,107,-0.82593768120365),(17,109,0.287652211066012),(18,90,-0.222815637684255),(18,91,-0.857493820001831),(18,93,1.54325998718223),(18,99,-1.69904171880245),(18,102,-0.515717032380139),(18,103,-1.89455854976043),(18,104,-0.299386577959532),(18,110,0.771477401043733),(18,111,0.67040009765923),(18,116,-0.567644276253548),(18,117,3.13226722006897),(18,118,1.71747489852596),(19,87,-2.75016022217475),(19,89,-0.47705008087405),(19,93,-1.20113223670156),(19,95,-2.02406384472182),(19,101,0.281441694387646),(19,105,0.171956541642506),(19,115,-3.11491744743187),(20,88,1.88340403454695),(20,101,0.670155949583422),(20,103,-0.0423749504074221),(20,104,-2.8059175389874),(20,105,-1.61461226233711),(20,106,2.08091982787561),(20,111,-0.178456984160894),(20,116,-1.65739921262246),(21,86,-0.577791680654317),(21,87,2.84751426740318),(21,94,1.42919705801569),(21,96,-1.93784905545213),(21,101,2.12793359172338),(21,102,-1.04962309640797),(21,105,-3.43697927793207),(21,107,-0.554399243140965),(21,108,1.16371654408399),(22,86,0.71370586260567),(22,88,-2.84955900753807),(22,91,0.0136722922452467),(22,92,0.473097933896908),(22,93,-0.978789635914182),(22,98,-2.11896114993744),(22,106,-0.854091006195257),(22,115,-1.60896633808405),(22,117,2.66960661641285),(23,85,-0.378109073152867),(23,86,0.318750572222053),(23,88,-0.513183996093631),(23,90,0.82692953276162),(23,97,1.16811120944853),(23,104,-2.21771904660176),(23,112,0.946607867671743),(23,114,0.604205450605792),(23,115,-2.72191534165471),(23,116,-0.484038819544053),(24,89,-1.75455488753929),(24,90,-2.97827082125309),(24,91,1.50607318338572),(24,101,2.30962553788873),(24,107,1.12228766747032),(24,108,-2.22927030243843),(24,110,0.587313455610828),(24,112,1.54031495101779),(25,90,0.0228431043427839),(25,92,2.91370891445662),(25,94,-2.02615436262093),(25,98,1.04025391399884),(25,105,0.00376903592028566),(25,108,-0.0230414746543779),(25,109,-0.718924527726066),(25,115,-1.79839472640156),(26,85,1.8752708517716),(26,87,-0.898678548539689),(26,89,-1.14909817804498),(26,95,0.548326059755242),(26,98,-1.02342295602283),(26,100,0.695669423505356),(26,101,-1.02125614185003),(26,102,1.37054048280282),(26,103,-3.10963774529252),(26,104,-0.991637928403577),(26,107,3.01796014282662),(26,109,-1.35569322794275),(26,112,-0.681386761070589),(26,113,-2.43101290932951),(26,117,-1.76837977233192),(27,85,3.02499465926084),(27,87,1.56530961027863),(27,94,0.908398693807794),(27,100,0.837382122257149),(27,102,-2.62649922177801),(27,103,-0.183187353129673),(27,104,-2.89449751274148),(27,105,0.89188818018128),(27,108,-1.65913876766259),(27,110,2.21555223242897),(27,114,0.319666127506332),(28,87,1.05679494613483),(28,88,0.322305978576006),(28,97,-0.000534073915829936),(28,99,1.69101535081027),(28,104,-1.9130985442671),(28,113,0.232795190282907),(28,114,-0.173665578173162),(29,88,1.25824762718589),(29,91,-0.272576067384869),(29,102,0.121601001007111),(29,105,0.987563707388531),(29,116,1.8071230201117),(30,95,3.27216406750694),(30,96,-1.95841853083895),(30,99,-2.83861812189093),(30,101,2.02966399121067),(30,104,-1.96241645558031),(30,109,-1.17912839136937),(30,110,0.305215613269448),(30,114,-1.97833185827204),(30,118,1.63933225501267),(31,85,-0.599475081637013),(31,92,-0.889584032715842),(31,94,0.515366069521165),(31,96,1.89263588366344),(31,99,0.510574663533433),(31,103,0.774697103793451),(31,107,-0.240791039765618),(31,108,-1.21080660420545),(31,109,1.03819391460921),(31,111,-1.16307565538499),(31,112,-2.57805108798486),(31,117,-2.46060060426649),(32,86,-2.96365245521409),(32,87,-1.47604297006134),(32,89,-1.3317819757683),(32,92,0.758644367809076),(32,98,-2.87754448072756),(32,99,-2.1101107821894),(32,104,0.143238624225593),(32,106,2.21115756706442),(32,109,2.4553056428724),(32,116,-2.60524307992798),(32,118,0.482131412701804),(33,96,-0.16933194982757),(33,98,2.53733939634388),(33,108,-2.89226966154973),(33,110,-1.56791894283883),(33,111,0.065584276863918),(33,114,1.06587420270394),(34,85,2.51730399487289),(34,90,1.55958738975188),(34,99,-0.149616992706076),(34,104,-1.73374126407666),(34,109,1.80086672566912),(35,86,-1.53752250740074),(35,87,2.5352183599353),(35,97,-2.54333628345592),(35,98,3.22168645283364),(35,100,-0.989242225409711),(35,104,2.32959990234077),(35,107,1.8034302804651),(35,109,-2.85731070894498),(35,110,-0.681875057222205),(35,112,1.16908780175176),(36,85,-0.872157963805048),(36,87,1.22864467299417),(36,90,-2.31009857478561),(36,91,1.31885738700522),(36,104,1.52394177068392),(36,107,1.10386974700156),(36,109,2.00849940488907),(36,112,1.68715475936155),(36,115,-1.96516312143315),(36,117,0.481994079409162),(36,118,-0.445249794000061),(37,85,-0.961058381908627),(37,86,-2.17642750328074),(37,87,-0.795846430860317),(37,91,2.56584368419446),(37,99,-0.642124698629719),(37,105,-2.0987884151738),(37,111,0.650822473830378),(37,112,-0.786278878139592),(37,118,0.91666920987579),(38,87,-0.0456404309213538),(38,90,2.52645954771569),(38,103,2.56831568346202),(38,105,1.07193212683493),(38,106,0.623645741142003),(38,111,-0.658696249275185),(38,115,-0.875789666432691),(39,87,1.65541550950652),(39,89,-1.56498916592914),(39,91,-0.1128421887875),(39,94,1.76004821924497),(39,97,1.68968779564806),(39,98,0.508468886379589),(39,107,-1.16612750633259),(39,108,0.282876064333018),(39,109,1.81926938688314),(39,111,-2.25106051820429),(39,113,2.41560106204413),(39,116,0.34461500900296),(39,118,-1.98632770775475),(40,88,0.224509414960173),(40,92,0.915707876827296),(40,99,-0.843409527878658),(40,104,-2.80239265114292),(40,110,-0.266869106112857),(40,116,1.02299569689016),(40,118,-0.444883571886349),(41,88,0.792413098544267),(41,93,2.67290261543626),(41,96,-2.09405804620502),(41,97,2.43896298104801),(41,100,2.64084292123173),(41,101,2.01037629322184),(41,104,1.02447584459975),(41,105,-0.575060274056215),(41,106,1.7849971007416),(41,107,-0.985900448622089),(41,109,0.901425214392529),(41,110,-1.84116641743217),(41,111,-1.55233924375134),(41,112,-0.576708273567919),(42,85,3.42184209723197),(42,86,2.11459700308237),(42,87,1.42678609576708),(42,99,-1.2541581469161),(42,100,1.27320169682913),(42,103,-0.620365001373333),(42,109,1.16911832026124),(42,113,0.997680593279824),(43,85,-1.64673299356059),(43,88,-0.683156834620197),(43,89,-1.37461470381787),(43,93,3.22705771050142),(43,97,-2.00790429395428),(43,98,1.80466628009888),(43,101,-0.0871761223181859),(43,102,0.480529190954314),(43,103,-2.00949125644703),(43,105,1.51585436567278),(43,110,2.3211004974517),(43,112,2.33300271614734),(43,114,-1.75502792443617),(43,116,0.554521317178869),(44,89,-1.43612475966674),(44,98,2.01109347819452),(44,99,1.17711416974395),(45,87,-0.337672048097171),(45,88,1.55424665059359),(45,90,-2.96012756736961),(45,91,-1.20371105075228),(45,95,2.470122379223),(45,98,-1.13951536606952),(45,108,-1.15454573198645),(45,109,-1.45133823664052),(45,112,0.260917996765038),(45,115,0.801019318216498),(46,85,1.44758445997497),(46,89,0.329432050538652),(46,91,0.457731864375744),(46,94,-2.28872035889767),(46,97,0.167226172673727),(46,100,0.202200384533219),(46,101,1.0509201330607),(46,108,1.40560625019074),(46,112,-1.30370494705039),(47,86,1.28569902645955),(47,91,2.88993499557482),(47,92,0.0353099154637287),(47,94,-0.810693685720389),(47,95,0.242851039155248),(47,100,-2.38668477431562),(47,101,2.96411023285623),(47,104,2.27645191808832),(47,105,2.11491744743187),(47,108,0.32967619861446),(47,112,-0.682256538590655),(47,114,-1.31275368511002),(47,118,2.93922238837855),(48,86,3.01815851313822),(48,91,-2.113162633137),(48,98,-0.185003204443495),(48,99,-2.16844691305277),(48,100,0.245307779168065),(48,103,1.21407208471938),(48,105,-2.00752281258583),(48,106,-2.89036225470748),(48,111,-1.36587115085299),(48,115,-2.68333994567705),(49,87,2.01181066316721),(49,89,0.439741203039644),(49,93,-0.306283761101108),(49,94,0.746024964140751),(49,95,1.55108798486282),(49,102,-1.26299325540941),(49,113,-1.42255928220466),(49,114,2.3522598956267),(50,89,1.07739494003113),(50,105,0.922666096987823),(50,107,-3.0612811670278),(51,87,-2.24709311197241),(51,92,1.09007538071841),(51,97,1.91857661671804),(51,98,-0.0961027863399151),(51,103,-2.29177220984527),(51,106,1.70046082949309),(51,112,2.51159703360088),(51,118,-0.82341990417188),(52,89,1.35201574755089),(52,97,-1.78597369304483),(52,106,0.0462355418561358),(52,110,1.8244727927488),(52,111,0.792672505874813),(52,113,-0.197286904507584),(52,114,-0.168446913052766),(52,118,0.80176702169866),(53,88,0.861033967101047),(53,90,0.137180700094607),(53,92,-0.0158085879085665),(53,94,2.55912961210974),(53,104,-2.39016388439589),(53,105,-0.140247810296945),(53,109,-1.70035401470992),(54,85,0.0231635486922819),(54,91,0.283822138126774),(54,94,0.708319345683157),(54,96,-1.81943723868526),(54,111,-1.27254554887539),(54,112,-1.98834192938017),(54,113,2.3694875942259),(54,118,-0.45608386486404),(55,87,-3.16750083925901),(55,95,-1.1863307596057),(55,107,-0.191198461867122),(55,110,2.41203039643544),(55,117,-3.033371990112),(56,107,-1.98565630054628),(56,111,-1.80236213263344),(56,113,-2.78295236060671),(56,114,1.67715994750816),(57,87,2.13005462813196),(57,90,3.07972960600604),(57,91,-0.440534684286019),(57,92,1.52603228858303),(57,93,0.225470748008667),(57,94,1.76126895962401),(57,95,-0.121021149327067),(57,96,-2.34171575060274),(57,100,1.73378704184088),(57,102,1.4410077211829),(57,103,0.223014007995849),(57,115,1.22852259895627),(58,86,-1.83597827082125),(58,87,-0.526413769951476),(58,89,1.94198431348613),(58,90,1.55438398388623),(58,95,-0.826609088412122),(58,96,1.26598406933805),(58,101,1.36167485580004),(58,103,-0.575563829462569),(58,109,-0.892590105899228),(58,110,-0.947782830286569),(58,113,2.10917996765038),(58,114,2.02337717825861),(58,115,-0.471343119602039),(58,118,1.76870021668142),(59,85,1.07802056947539),(59,86,2.55951109347819),(59,90,2.22750022888882),(59,91,2.27935117648854),(59,93,-0.231208227790155),(59,97,1.21454512161626),(59,98,1.08671834467605),(59,100,0.0795464949491866),(59,102,0.363887447737053),(59,112,0.924176763206885),(59,114,0.856089968565935),(60,85,-0.562028870509964),(60,87,0.464354380932035),(60,90,2.34110538041322),(60,91,1.68172246467483),(60,96,2.30007324442274),(60,100,1.04492324594867),(60,101,-1.30922879726554),(60,105,-2.4192022461623),(60,107,1.65369121372112),(60,109,-2.75272377697073),(60,110,0.710333567308573),(60,114,-1.43820001831111),(61,89,1.95796075319681),(61,94,1.37987914670247),(61,96,-1.30628376110111),(61,98,0.0711081270790734),(61,100,-1.80242316965239),(61,102,-1.11873226111637),(61,103,0.231940672017579),(61,114,0.238212225714896),(61,115,0.169911801507614),(62,93,0.952070680867946),(62,95,0.346003601184118),(62,107,-1.69881282998138),(62,109,-1.82863856929228),(62,110,1.30123294778283),(62,111,0.877422406689657),(63,87,0.328180791650136),(63,90,-0.556932279427473),(63,93,-1.34960478530229),(63,97,-2.32799768059328),(63,100,-1.48925748466445),(63,103,0.419385357219153),(63,104,0.789330729087191),(63,108,-0.250267036957915),(63,111,-3.09886471144749),(63,114,1.43249305703909),(63,117,1.35184789574877),(64,87,-2.44827112643818),(64,94,0.604663228247932),(64,99,1.90701010162664),(64,110,1.01770073549608),(64,112,0.754844813379315),(64,116,-2.25611133152257),(65,87,1.05262916959136),(65,88,-1.50215155491806),(65,90,0.939207129123814),(65,97,0.292794579912717),(65,99,1.24898525955992),(65,107,0.770027771843623),(65,110,-1.87995544297617),(65,111,-0.902005066072573),(65,114,-2.59527878658406),(65,116,1.39933469649342),(65,117,0.972701193273721),(66,85,2.58137760551775),(66,102,0.45226905117954),(66,105,2.7240363780633),(66,108,2.34925382244331),(66,111,-0.637424848170415),(66,115,-0.279946287423322),(66,118,-1.34488967558824),(67,86,-1.93383587145604),(67,90,1.85016937772759),(67,92,-1.61647389141514),(67,104,-1.42060609759819),(67,109,0.927091280861843),(67,111,-1.29549546800134),(68,87,0.661122470778527),(68,88,2.34833826715903),(68,90,1.78901028473769),(68,93,-0.43603320413831),(68,95,3.09329508346812),(68,96,-1.14139225440229),(68,97,0.0124668111209448),(68,103,2.65076143681143),(68,107,-0.140690328684347),(68,112,1.28131962034974),(68,114,-0.291665395062105),(69,87,0.487014374217963),(69,88,-0.910000915555284),(69,92,1.93258461256752),(69,94,-0.795892208624531),(69,95,1.69194616534928),(69,97,-0.210974456007569),(69,108,-1.09187597277749),(69,113,-1.47933896908475),(69,114,0.905514694662313),(69,118,2.7055269020661),(70,85,-2.56756797997986),(70,86,-2.3535874507889),(70,87,-0.952024903103732),(70,90,-1.0881069368572),(70,96,-0.00350962858973968),(70,97,0.915692617572558),(70,99,-0.979506820886868),(70,105,-0.960997344889676),(70,107,1.52339243751335),(70,109,-0.739295632801294),(70,110,0.0257881405072176),(70,111,-0.274117252113407),(71,85,-1.05722220526749),(71,93,-2.49748222296823),(71,96,0.85048982207709),(71,100,-1.47384563737907),(71,104,0.470442823572497),(71,106,-0.206213568529313),(71,111,0.767967772453993),(71,113,0.517136143070772),(72,94,0.951902829065828),(72,96,-2.13231299783319),(72,99,0.766533402508621),(72,110,-1.24897000030519),(72,112,2.29636524552141),(72,114,0.623676259651479),(72,115,0.147251808221686),(72,116,0.718008972441786),(73,88,1.71823786126286),(73,94,0.381542405468917),(73,99,-2.23807489242225),(73,100,-0.293649098178045),(73,106,0.0778221991637928),(73,110,2.65366069521165),(73,115,0.500488296151616),(74,90,1.40302743614002),(74,94,1.401455732902),(74,99,2.49298074282052),(74,102,2.48344370860927),(74,106,-0.253059480574969),(74,107,0.293435468611713),(74,110,0.394833216345714),(74,113,-0.740348521378216),(74,116,-0.316232795190283),(75,85,-0.2188177129429),(75,86,0.253303628650777),(75,93,-0.172933133945738),(75,98,2.69324320200201),(75,103,-0.14889980773339),(75,105,-0.0472273934141057),(75,111,-0.472045045319987),(75,117,-0.725363933225501),(76,86,1.77288125247963),(76,89,1.65771965697195),(76,92,1.78452406384472),(76,94,-1.24416333506272),(76,99,2.1944029053621),(76,101,0.495544297616504),(76,103,-1.05296487319559),(76,106,0.748832667012543),(76,110,0.756111331522568),(76,113,-0.139088106936857),(77,88,-2.54193243202002),(77,91,0.0854213080233161),(77,93,1.24523148289438),(77,98,-2.19743949705496),(77,101,-0.831965086825159),(77,102,0.207037568285165),(77,103,1.70140690328684),(77,104,-0.686284981841487),(77,105,0.234015930661946),(77,109,-2.18962675862911),(78,88,-0.289620654927213),(78,93,2.20061342204047),(78,94,1.8495284890286),(78,101,-0.601947080904569),(78,104,2.12932218390454),(78,110,0.268745994445631),(78,114,-1.51738029114658),(78,116,-0.684835352641377),(78,117,-0.962950529496139),(78,118,0.610126041444136),(79,87,1.44543290505692),(79,92,2.42469557786798),(79,94,-1.61476485488449),(79,107,2.29285561693167),(79,108,0.513641773735771),(79,114,0.841883602404859),(79,118,-2.86742759483627),(80,87,-0.264381847590564),(80,88,-0.941343424787133),(80,91,-0.367961668752098),(80,99,-1.20555742057558),(80,101,0.82647175511948),(80,107,0.89150669881283),(80,113,0.243079927976318),(81,85,-1.9373149815363),(81,86,0.441434980315561),(81,90,-3.06842249824519),(81,93,-0.276284066286203),(81,96,-1.4778740806299),(81,97,-0.780907620471816),(81,106,1.83268227179785),(81,107,0.812845240638447),(81,110,0.926145207068087),(81,115,-0.515396588030641),(82,86,0.294259468367565),(82,92,-2.0666219061861),(82,110,-0.852443006683554),(82,112,0.489089632862331),(83,87,-1.48571733756523),(83,91,-0.487746818445387),(83,93,-2.31676686910611),(83,101,-0.454908902249214),(83,103,0.226752525406659),(83,105,0.661214026306955),(83,108,0.64912869655446),(84,85,1.89222388378552),(84,86,-0.599688711203345),(84,89,1.18321787163915),(84,95,0.344431897946104),(84,99,-1.17618335520493),(84,104,0.336771752067629),(84,111,1.77030243842891),(84,113,1.76572466200751),(84,114,0.710257271034883),(35,105,0.296349986266671)]
orgname='BHNEAT_8_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()