edge = [(0,85,-0.789605395672476),(0,89,0.812585833307901),(0,90,-1.67592394787439),(0,93,1.45361186559648),(0,98,-0.0155186620685446),(0,101,-1.36922818689535),(0,105,0.835886715292825),(0,108,2.03230384228034),(0,113,-1.33648182622761),(0,114,2.16632587664418),(0,117,1.69621875667592),(0,118,0.00784325693533128),(1,86,1.09707937864315),(1,92,-0.291787469100009),(1,98,0.629291665395062),(1,102,-0.789025543992431),(1,104,0.233481856746117),(1,107,1.04283272804956),(1,108,2.31272316660054),(1,109,1.0129703665273),(1,113,-1.73689992980743),(2,87,-1.70258186590167),(2,88,1.42445142979217),(2,100,1.2800988799707),(2,106,-1.09274575029756),(2,108,-0.143238624225593),(2,110,-0.930448316904202),(2,113,-0.970000305185095),(2,118,-1.93917661061434),(3,89,2.00309762871181),(3,92,2.79360332041383),(3,97,-1.87461470381787),(3,99,2.47328104495376),(3,101,-1.75418866542558),(3,103,0.572389904477065),(3,105,0.949522385326701),(3,108,-0.734275337992492),(3,109,0.0772270882290109),(3,111,-2.5853755302591),(3,112,-1.56866664632099),(3,116,-2.06813257240516),(4,90,0.948835718863491),(4,91,-2.12309640797143),(4,97,1.4327372051149),(4,99,1.8396099734489),(4,101,1.48812829981384),(4,108,-1.4164708395642),(4,113,-0.167973876155889),(4,118,1.91874446852016),(5,86,-2.06784264656514),(5,87,0.924558244575335),(5,89,1.40517899105808),(5,92,0.0851161229285562),(5,93,2.75792718283639),(5,99,-1.98342844935453),(5,104,0.0772270882290109),(5,114,-0.668050172429579),(5,118,0.922070986053041),(6,89,1.83022553178503),(6,92,-1.82889797662282),(6,94,2.50648518326365),(6,100,1.09208960234382),(6,101,-0.536973174230171),(6,103,2.01789910580767),(6,107,-1.37063203833125),(6,110,-1.74069948423719),(6,113,-0.73398541215247),(7,85,-1.89626758629109),(7,86,-0.20014038514359),(7,90,-0.0887478255561999),(7,95,-1.74756614886929),(7,99,2.75777459028901),(7,100,0.139118625446333),(7,104,0.829172643208106),(7,106,1.40195928830836),(7,108,-0.237067781609546),(7,112,1.46507156590472),(7,116,-1.76857814264351),(8,92,1.56862086855678),(8,93,-2.10882900479141),(8,95,-2.17369609668264),(8,99,2.63196203497421),(8,106,-1.65449995422224),(8,107,1.84594256416517),(8,115,-1.179906613361),(8,116,-1.16547135837886),(8,118,1.42362743003632),(9,85,-2.23404644917142),(9,87,-2.22659993285928),(9,98,1.19095431379131),(9,101,0.554734946745201),(9,103,0.00877407147434917),(9,105,2.51736503189184),(9,106,1.37012848292489),(9,113,0.185491500595111),(10,89,-0.195272682882168),(10,96,3.02603228858303),(10,106,1.78266243476669),(10,108,1.93757438886685),(10,109,0.304330576494644),(10,111,0.0410779137546923),(10,112,-1.12125003814814),(10,114,1.491729483932),(10,115,-1.84720908230842),(10,116,2.10541093173009),(10,117,1.1155735953856),(11,89,-0.998535111545152),(11,97,2.00689718314158),(11,105,1.25966673787652),(11,112,0.383129367961669),(11,115,2.15134128849147),(12,92,0.545808282723472),(12,93,-1.44929349650563),(12,94,1.33289590136418),(12,97,-0.942533646656697),(12,98,0.976424451429792),(12,99,-0.762672811059908),(12,108,1.72766808069094),(12,116,-1.89292580950346),(13,86,-0.298409985656301),(13,87,0.364604632709738),(13,90,-1.20932645649587),(13,99,-1.04554887539293),(13,102,-0.536805322428053),(13,104,-2.23427533799249),(13,113,1.00846888637959),(13,116,-2.4922482985931),(13,118,2.48002563554796),(14,90,0.287453840754418),(14,93,1.72692037720878),(14,95,-0.578173162022767),(14,102,-2.14610736411634),(14,104,2.30899990844447),(14,106,2.51184118167669),(14,109,2.79430524613178),(14,110,0.0131382183294169),(14,111,1.35178685872982),(15,85,-2.65355388042848),(15,92,1.19248023926511),(15,99,0.472685934018983),(15,101,-1.78914761803034),(15,104,-0.288659321878719),(15,108,-2.17789239173559),(15,117,1.8037507248146),(16,86,0.350123599963378),(16,87,0.575945310831019),(16,88,-1.73551133762627),(16,90,2.07209997863704),(16,91,1.04536576433607),(16,95,1.23400067140721),(16,97,2.27741325113681),(16,98,2.47224341563158),(16,99,0.788430433057649),(16,101,-1.07460249641408),(16,108,-0.971510971404157),(16,110,1.89988402966399),(17,89,-0.758812219611194),(17,96,2.24558244575335),(17,99,-1.43223364970855),(17,101,2.5654164250618),(17,106,1.51916562395093),(17,107,-1.62170781579028),(17,109,0.0834070863979003),(18,90,-0.454832605975524),(18,91,-0.60986663411359),(18,93,-1.8821375164037),(18,99,0.134968108157598),(18,102,-0.408169804986725),(18,103,0.508560441908017),(18,104,2.41749320963164),(18,110,-1.33187353129673),(18,111,-2.16841639454329),(18,116,1.22386852626118),(18,117,1.96641438032167),(18,118,-1.46392712179937),(19,87,0.692098757896664),(19,89,2.72557756279183),(19,93,0.65546128727073),(19,95,-1.49296548356578),(19,101,2.17557298501541),(19,105,-0.523087252418592),(19,115,-1.45348979155858),(20,88,-0.735541856135746),(20,101,1.80971709341716),(20,103,0.707373271889401),(20,104,1.16983550523392),(20,105,2.16220587786492),(20,106,-1.62422559282205),(20,111,1.06013672292245),(20,116,1.03181554612873),(21,86,-1.5367442854091),(21,87,-1.07312234870449),(21,94,1.09028901028474),(21,96,-2.4717703787347),(21,101,2.24947355571154),(21,102,1.49090548417615),(21,105,-1.78978850672933),(21,107,-0.342341380046998),(21,108,-2.0523239844966),(22,86,0.968260750144963),(22,88,1.75890377513962),(22,91,-0.955671864986114),(22,92,-0.134067812128056),(22,93,-2.09324930570391),(22,98,-1.77661976989044),(22,106,0.0843226416821802),(22,115,0.107394634846034),(22,117,-1.34907071138646),(23,85,-1.98339793084506),(23,86,0.816812646870327),(23,88,1.03936887722404),(23,90,1.61044648579363),(23,97,2.41045869319742),(23,104,0.707327494125187),(23,112,-0.983489486373486),(23,114,-0.476073488570818),(23,115,1.27370525223548),(23,116,0.143345439008759),(24,89,1.84655293435469),(24,90,1.37365337076937),(24,91,-1.77504806665242),(24,101,0.581743827631458),(24,107,-0.187551499984741),(24,108,-1.87522507400739),(24,110,2.79441206091495),(24,112,-0.910092471083712),(25,90,-1.8955504013184),(25,92,0.552095095675527),(25,94,1.16104617450484),(25,98,0.351527451399274),(25,105,0.275078585161901),(25,108,2.05148472548601),(25,109,0.206137272255623),(25,115,-1.78179265724662),(26,85,-0.219290749839778),(26,87,-0.419614246040223),(26,89,-1.23474837488937),(26,95,-1.66533402508621),(26,98,-2.15947447126682),(26,100,0.267494735557115),(26,101,1.6119571520127),(26,102,1.12768944364757),(26,103,0.619113742484817),(26,104,3.33466597491379),(26,107,0.840693380535295),(26,109,-1.62578203680532),(26,112,-1.16908780175176),(26,113,-0.402676473281045),(26,117,-2.39425336466567),(27,85,1.20252082888272),(27,87,-3.05565050202948),(27,94,2.43896298104801),(27,100,0.530350657673879),(27,102,1.24645222327342),(27,103,0.064928128910184),(27,104,-2.23133030182806),(27,105,2.09958189642018),(27,108,-0.86741233558153),(27,110,-0.69197668385876),(27,114,-2.21237830744346),(28,87,1.94656208990753),(28,88,-3.09515671254616),(28,97,-2.98525955992309),(28,99,1.92078920865505),(28,104,-1.88937040314951),(28,113,-0.494537186803796),(28,114,-0.989226966154973),(29,88,-0.348246711630604),(29,91,-0.740730002746666),(29,102,2.14650410473952),(29,105,0.24466689046907),(29,116,0.447370830408643),(30,95,-1.78446302682577),(30,96,0.230292672505875),(30,99,-0.3052766502884),(30,101,2.24558244575335),(30,104,0.815149388103885),(30,109,-0.496581926938688),(30,110,-0.440076906643879),(30,114,-0.334452345347453),(30,118,-1.4705648976104),(31,85,1.87777336954863),(31,92,-0.989547410504471),(31,94,1.50408948026978),(31,96,2.23764763328959),(31,99,1.06158635212256),(31,103,-2.05088961455123),(31,107,-0.815301980651265),(31,108,2.67526779992065),(31,109,2.93270668660543),(31,111,-0.418164616840114),(31,112,-1.79052095095676),(31,117,-1.18511001922666),(32,86,0.918973357341228),(32,87,1.76555681020539),(32,89,0.346888637958922),(32,92,-1.68863490707114),(32,98,-3.05368205816828),(32,99,-0.67101046784875),(32,104,0.744956816309091),(32,106,-2.11056855983154),(32,109,1.23044526505325),(32,116,-0.354274117252113),(32,118,2.33292641987365),(33,96,0.502227851191748),(33,98,0.322992645039216),(33,108,1.64294869838557),(33,110,1.37986388744774),(33,111,0.760414441358684),(33,114,1.21771904660176),(34,85,0.153523361919004),(34,90,2.01293984801782),(34,99,0.115024262215033),(34,104,-1.90401928769799),(34,109,2.51942503128147),(35,86,1.0581072420423),(35,87,-2.3249153111362),(35,97,1.1750846888638),(35,98,2.0546128727073),(35,100,2.58272041993469),(35,104,3.26575518051698),(35,107,1.49491866817225),(35,109,-2.22028260139775),(35,110,0.443983275856807),(35,112,-0.920819727164525),(36,85,2.72620319223609),(36,87,-0.0314951017792291),(36,90,1.01666310617389),(36,91,-2.63263344218268),(36,104,-1.27721488082522),(36,107,-1.95597705008087),(36,109,1.68651387066256),(36,112,3.23928037354656),(36,115,-2.00341807306131),(36,117,-1.57945493942076),(36,118,1.32912686544389),(37,85,1.61841181676687),(37,86,0.0183874019592883),(37,87,-0.723639637440107),(37,91,-1.36677144688253),(37,99,1.08262886440626),(37,105,-0.253257850886563),(37,111,-0.424481948301645),(37,112,0.0886867885372478),(37,118,-1.00691244239631),(38,87,-2.13711966307566),(38,90,1.89222388378552),(38,103,-2.40624713888974),(38,105,-1.03527939695425),(38,106,1.64511551255837),(38,111,1.3959929197058),(38,115,-0.626834925382244),(39,87,2.11494796594134),(39,89,-2.17281105990783),(39,91,1.20212408825953),(39,94,0.402691732535783),(39,97,0.926068910794397),(39,98,0.0419934690389721),(39,107,-2.02471999267556),(39,108,3.29734183782464),(39,109,1.51184118167669),(39,111,-0.804300057985168),(39,113,-0.0820337534714803),(39,116,-0.869487594225898),(39,118,-0.841883602404858),(40,88,-0.688695944090091),(40,92,-0.612521744438002),(40,99,0.339274269844661),(40,104,0.124866481521042),(40,110,-1.39640491958373),(40,116,-1.24800866725669),(40,118,2.34115115817743),(41,88,0.834284493545335),(41,93,2.00178533280435),(41,96,0.386562700277718),(41,97,-1.2203436384167),(41,100,0.914029358806116),(41,101,2.11668752098148),(41,104,-0.638325144199957),(41,105,-1.91261024811548),(41,106,2.29821161534471),(41,107,0.158619953001495),(41,109,0.398922696615497),(41,110,1.65213476973785),(41,111,1.69664601580859),(41,112,-1.84722434156316),(42,85,-1.32226020081179),(42,86,-0.400891140476699),(42,87,0.563646351512192),(42,99,1.48098696859645),(42,100,0.158024842066714),(42,103,1.53840754417554),(42,109,-0.80108035523545),(42,113,1.7633136997589),(43,85,-0.895519882808924),(43,88,-0.271004364146855),(43,89,1.52940458388012),(43,93,1.66733298745689),(43,97,-1.52751243629261),(43,98,-2.32425916318247),(43,101,0.725455488753929),(43,102,0.000625629444257925),(43,103,2.77610095522935),(43,105,-1.7253639332255),(43,110,1.55859553819391),(43,112,1.99069185460982),(43,114,-2.22264778588214),(43,116,-0.268425550096133),(44,89,2.08899197363201),(44,98,0.462187566759239),(44,99,-1.99551377910703),(45,87,-1.58075197607349),(45,88,1.18868068483535),(45,90,0.385998107852412),(45,91,2.97419660023804),(45,95,1.5026093325602),(45,98,-0.0297860652485732),(45,108,1.60005493331706),(45,109,0.431730094302194),(45,112,-1.7464064455092),(45,115,0.751121555223243),(46,85,-1.26155888546403),(46,89,2.16679891354106),(46,91,1.87630848109378),(46,94,0.675847651600696),(46,97,-1.6419568468276),(46,100,-1.19394512771996),(46,101,0.977629932554094),(46,108,1.18457594531083),(46,112,0.977095858638264),(47,86,-1.08847315897092),(47,91,-1.03024384289071),(47,92,-2.17712942899869),(47,94,-2.55178991058077),(47,95,-1.2892544328135),(47,100,1.31739249855037),(47,101,1.3069246498001),(47,104,-0.426480910672323),(47,105,1.94172490615558),(47,108,0.465025788140507),(47,112,-0.109958189642018),(47,114,-0.320230719931639),(47,118,1.43111972411267),(48,86,-1.68393505661183),(48,91,1.86133915219581),(48,98,0.797387615588855),(48,99,-0.988296151615955),(48,100,1.54005554368725),(48,103,1.33530686361278),(48,105,-0.822870571001312),(48,106,0.484878078554643),(48,111,0.986114078188421),(48,115,0.794701986754967),(49,87,-0.538209173863949),(49,89,0.683355204931791),(49,93,-1.95977660451064),(49,94,0.673696096682638),(49,95,0.557985168004395),(49,102,0.685308389538255),(49,113,0.0746787926877651),(49,114,2.74221015045625),(50,89,0.718344676046022),(50,105,2.86730552079836),(50,107,-0.66933194982757),(51,87,0.364772484511856),(51,92,-1.36979277932066),(51,97,0.198049867244484),(51,98,-0.654530472731712),(51,103,-1.60576189458907),(51,106,0.569978942228462),(51,112,-1.9197668385876),(51,118,2.11352885525071),(52,89,2.02037110507523),(52,97,-0.900448622089297),(52,106,-0.442136906033509),(52,110,1.72672200689718),(52,111,0.364055299539171),(52,113,1.1217993713187),(52,114,1.17864009521775),(52,118,0.6262550737022),(53,88,1.92735068819239),(53,90,-0.590380565813166),(53,92,-2.58623004852443),(53,94,2.71462141788995),(53,104,-3.1882992034669),(53,105,0.598300119022187),(53,109,-2.14241462446974),(54,85,0.0633716849269081),(54,91,-1.44421216467788),(54,94,0.769966734824671),(54,96,-0.529847102267525),(54,111,2.24158452101199),(54,112,0.0541856135746329),(54,113,-2.40116580706198),(54,118,1.69775994140446),(55,87,0.0664693136387219),(55,95,0.826364940336314),(55,107,-1.52905362102115),(55,110,0.125278481398968),(55,117,2.15958128604999),(56,107,1.74652851954711),(56,111,-2.42580950346385),(56,113,2.67769402142399),(56,114,1.18185979796747),(57,87,-1.10272530289621),(57,90,1.97762993255409),(57,91,-0.0299081392864773),(57,92,-1.50733970152898),(57,93,-2.34469130527665),(57,94,0.71507919553209),(57,95,-0.65607165746025),(57,96,-0.65126499221778),(57,100,1.28882717368084),(57,102,1.20731223487045),(57,103,0.8729819635609),(57,115,-2.52304147465438),(58,86,-2.05435346537675),(58,87,-0.687963499862667),(58,89,-0.810403759880367),(58,90,-0.422376171147801),(58,95,-0.659901730399487),(58,96,0.164204840235603),(58,101,-1.62189092684713),(58,103,1.14253669850764),(58,109,-1.25316629535813),(58,110,1.83298745689261),(58,113,-0.405758842738121),(58,114,1.42043824579608),(58,115,-2.67348246711631),(58,118,0.639744254890591),(59,85,-2.39628284554582),(59,86,-1.33205664235359),(59,90,-2.27326273384808),(59,91,-1.17210913418989),(59,93,1.8557542649617),(59,97,0.0447706534012878),(59,98,-0.726233710745567),(59,100,-2.62149418622394),(59,102,-2.36011841181677),(59,112,1.57527390362255),(59,114,-1.76781517990661),(60,85,1.39547410504471),(60,87,-0.818491164891507),(60,90,1.4656666768395),(60,91,1.57362590411084),(60,96,-0.766380809961241),(60,100,-1.69594409009064),(60,101,-1.12820825830866),(60,105,0.901593066194647),(60,107,2.55978576006348),(60,109,0.4135410626545),(60,110,1.44872890408032),(60,114,-2.15637684255501),(61,89,0.632236701559496),(61,94,-0.559114352855007),(61,96,0.483626819666128),(61,98,1.09482100894192),(61,100,-0.147022919400616),(61,102,-1.45527512436293),(61,103,-2.20099490340892),(61,114,-2.42658772545549),(61,115,-1.71202734458449),(62,93,-1.0022888882107),(62,95,-0.255729850154118),(62,107,0.123828852198859),(62,109,1.28876613666189),(62,110,2.18054750206),(62,111,-0.277779473250526),(63,87,-0.127613147373882),(63,90,1.30195013275552),(63,93,2.21846675008393),(63,97,0.38608966338084),(63,100,2.38888210699789),(63,103,-0.562852870265816),(63,104,-0.756965849787896),(63,108,-0.903576769310587),(63,111,1.8847468489639),(63,114,-0.608890041810358),(63,117,-1.00685140537736),(64,87,2.39104892117069),(64,94,1.02131717886898),(64,99,2.36829737235633),(64,110,-0.30199591051973),(64,112,-1.13402203436384),(64,116,-1.12157048249763),(65,87,0.88708151493881),(65,88,-0.988052003540147),(65,90,-1.02580339976196),(65,97,-0.601916562395093),(65,99,-2.98271126438185),(65,107,-0.594225898007141),(65,110,2.44982757042146),(65,111,0.837488937040315),(65,114,1.73049104281747),(65,116,-1.03239539780877),(65,117,-0.510498367259743),(66,85,-2.44343394268624),(66,102,-2.13138218329417),(66,105,2.11540574358348),(66,108,1.6936399426252),(66,111,1.5460219122898),(66,115,0.653920102542192),(66,118,-1.55569627979369),(67,86,1.924985503708),(67,90,1.10115359965819),(67,92,0.855052339243751),(67,104,1.23851741080966),(67,109,-1.68446913052766),(67,111,-2.13493758964812),(68,87,0.661122470778527),(68,88,-0.10803552354503),(68,90,1.94030579546495),(68,93,0.356913968321787),(68,95,0.651051362651448),(68,96,-1.49113437299722),(68,97,-1.71976378673666),(68,103,-0.393230994598224),(68,107,-0.140690328684347),(68,112,-0.506912442396313),(68,114,2.18878749961852),(69,87,-1.41438032166509),(69,88,-0.700170903653066),(69,92,0.673085726493118),(69,94,-0.658635212256233),(69,95,-2.20450453199866),(69,97,-0.573824274422437),(69,108,0.89417706839198),(69,113,-2.51718192083499),(69,114,0.905514694662313),(69,118,0.576738792077395),(70,85,1.13177892391736),(70,86,0.436323129978332),(70,87,1.64069032868435),(70,90,-0.274758140812403),(70,96,1.07127597888119),(70,97,-1.26348155156102),(70,99,0.00569170201727343),(70,105,0.123065889461959),(70,107,-1.03315836054567),(70,109,2.42728965117344),(70,110,2.15254676961577),(70,111,-1.09913937803278),(71,85,0.136051515243995),(71,93,-2.18291268654439),(71,96,0.323740348521378),(71,100,-0.132023071993164),(71,104,-1.27117221594897),(71,106,-0.0269020661030915),(71,111,2.4559465315714),(71,113,0.171361430707724),(72,94,-0.515335551011689),(72,96,2.10728782006287),(72,99,0.672032837916196),(72,110,-0.184636982329783),(72,112,0.513199255348369),(72,114,0.623676259651479),(72,115,1.22626422925504),(72,116,1.99972533341472),(73,88,-0.787026581621754),(73,94,-1.36091189306314),(73,99,-0.242194891201514),(73,100,0.729087191381573),(73,106,1.94660786767174),(73,110,-0.457487716299936),(73,115,-0.460463270973846),(74,90,-0.740180669576098),(74,94,1.75516525772881),(74,99,0.00708029419843134),(74,102,-0.584521011993774),(74,106,-0.253059480574969),(74,107,0.684331797235023),(74,110,-1.29793694875942),(74,113,-1.26181829279458),(74,116,-0.509857478560747),(75,85,-0.0140385143589587),(75,86,0.253303628650777),(75,93,-0.775597399822993),(75,98,0.424024170659505),(75,103,-0.925168614764855),(75,105,0.382442701498459),(75,111,0.924375133518479),(75,117,-1.15535447248756),(76,86,2.40957365642262),(76,89,0.464247566148869),(76,92,0.364604632709738),(76,94,0.692266609698782),(76,99,-1.90476699118015),(76,101,-0.343333231604968),(76,103,0.208273567918943),(76,106,0.605868709372234),(76,110,2.19170201727348),(76,113,0.102496414075137),(77,88,-0.644367809076205),(77,91,-0.0294503616443373),(77,93,1.68202764976959),(77,98,-0.566515091402936),(77,101,-0.831965086825159),(77,102,-0.0571764275032807),(77,103,1.33068330942717),(77,104,-1.23523667104099),(77,105,0.496017334513382),(77,109,1.31641590624714),(78,88,-0.203299050874355),(78,93,0.661275063325907),(78,94,0.598193304239021),(78,101,-1.37261574144719),(78,104,-0.0174260689107944),(78,110,-0.555558946501053),(78,114,-0.494399853511155),(78,116,-0.815378276924955),(78,117,-0.72240363780633),(78,118,-1.08935819574572),(79,87,3.17326883754997),(79,92,0.406430249946593),(79,94,-0.126041444135868),(79,107,-1.40905484176153),(79,108,-0.182638019959105),(79,114,1.36107974486526),(79,118,-1.09125034333323),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,-0.935758537553026),(80,99,0.479476302377392),(80,101,-0.24146244697409),(80,107,0.954390087588122),(80,113,0.489486373485519),(81,85,0.358973967711417),(81,86,0.386486404004028),(81,90,0.726477858821375),(81,93,0.140293588061159),(81,96,-0.0426801355021821),(81,97,-1.86954863124485),(81,106,-1.71536912137211),(81,107,1.99085970641194),(81,110,0.926145207068087),(81,115,0.795434430982391),(82,86,0.294259468367565),(82,92,1.10219122898038),(82,110,-1.31212805566576),(82,112,3.11574144718772),(83,87,2.09555345316935),(83,91,0.510513626514481),(83,93,1.71076082644124),(83,101,-0.454908902249214),(83,103,-0.209585863826411),(83,105,1.76190984832301),(83,108,-1.72357860042116),(84,85,-0.752616962187567),(84,86,1.37806329538865),(84,89,0.171330912198248),(84,95,-0.903714102603229),(84,99,-0.71874141666921),(84,104,2.27462080751976),(84,111,-2.25011444441053),(84,113,-0.333887752922147),(84,114,-0.0852381969664602)]
orgname='BHNEAT_4_9'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()