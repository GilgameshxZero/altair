edge = [(0,85,2.32912686544389),(0,89,1.0153813287759),(0,90,-1.93472090823084),(0,93,0.261024811548204),(0,98,2.70741904965361),(0,101,2.45864741966002),(0,105,0.783867915890988),(0,108,0.486083559678945),(0,113,1.05754264961699),(0,114,1.82219916379284),(0,117,-1.58192693868831),(0,118,2.56064027832881),(1,86,1.98515274513993),(1,92,2.96732993560595),(1,98,0.858333079012421),(1,102,-1.79354228339488),(1,104,-0.345393230994598),(1,107,-2.84247871333964),(1,108,0.522247993408002),(1,109,0.321420941801202),(1,113,0.71530808435316),(2,87,-2.3063600573748),(2,88,4.14555803094577),(2,100,1.44619586779382),(2,106,1.97119052705466),(2,108,-2.49343852046266),(2,110,-0.0655537583544419),(2,113,-4.42538224433119),(2,118,0.820413830988495),(3,89,-0.102069154942473),(3,92,-0.874492629779961),(3,97,3.00271614734336),(3,99,2.45901364177374),(3,101,-0.0857417523728141),(3,103,-1.90008239997559),(3,105,1.59820856349376),(3,108,1.70157475508896),(3,109,0.315790276802881),(3,111,-1.41285439619129),(3,112,3.8713339640492),(3,116,1.52114932706687),(4,90,1.8705710013123),(4,91,-3.13240455336161),(4,97,2.27649769585253),(4,99,1.88810388500626),(4,101,-0.966551713614307),(4,108,-0.636005737479782),(4,113,0.202002014221625),(4,118,0.232840968047121),(5,86,-2.12475966673788),(5,87,-0.306970427564318),(5,89,0.988296151615955),(5,92,0.0591143528550062),(5,93,-0.977599414044618),(5,99,-1.19902645954772),(5,104,3.32035279396954),(5,114,-0.660802026429029),(5,118,-2.1235236671041),(6,89,1.18666646320994),(6,92,-2.26195562608722),(6,94,1.36310922574541),(6,100,1.33608508560442),(6,101,-0.949964903714103),(6,103,-0.979461043122654),(6,107,0.342646565141758),(6,110,0.448042237617115),(6,113,-0.980666524246956),(7,85,0.862605670339061),(7,86,-0.428342539750359),(7,90,-1.24089785454878),(7,95,1.61561937314982),(7,99,-1.35769219031343),(7,100,-2.4100466933195),(7,104,3.68047120578631),(7,106,1.89878536332286),(7,108,-2.57928708761864),(7,112,0.152516251106296),(7,116,-2.53830072939238),(8,92,1.80147709585864),(8,93,1.43552964873196),(8,95,2.435468611713),(8,99,-2.35914181951353),(8,106,0.120181890316477),(8,107,0.0498062074648274),(8,115,-2.26676229132969),(8,116,-0.417233802301096),(8,118,1.9792779320658),(9,85,0.522461622974334),(9,87,-0.0606555375835444),(9,98,-4.15794854579302),(9,101,1.44322031311991),(9,103,2.40936002685629),(9,105,-0.547990356151006),(9,106,-0.136417737357707),(9,113,-1.77306436353648),(10,89,-2.10672322763756),(10,96,3.88543351542711),(10,106,2.00061037018952),(10,108,2.51063570055239),(10,109,0.288384655293435),(10,111,-5.61842707602161),(10,112,-3.2456434827723),(10,114,-0.286584063234352),(10,115,-0.0224005859553821),(10,116,-0.243919186986908),(10,117,-0.637195959349345),(11,89,-0.606311227759636),(11,97,-0.264885402996917),(11,105,-2.97505111850337),(11,112,-1.71904660176397),(11,115,-0.156102175969726),(12,92,1.02882473220008),(12,93,-1.99331644642476),(12,94,-0.783410138248848),(12,97,-2.71535386211737),(12,98,-0.574587237159337),(12,99,-2.45255897701956),(12,108,-0.0353251747184668),(12,116,2.24449903866695),(13,86,-2.46928312021241),(13,87,-2.56547746208075),(13,90,-2.7158879360332),(13,99,-0.403210547196875),(13,102,-0.950880458998382),(13,104,-0.475096896267586),(13,113,1.72458571123386),(13,116,1.24100466933195),(13,118,-1.22684408093509),(14,90,1.65852839747307),(14,93,-0.534119693594165),(14,95,-3.72730185857723),(14,102,0.437650685140538),(14,104,-2.49961851863155),(14,106,-0.790337839899899),(14,109,-0.462782677694021),(14,110,1.590914639729),(14,111,-2.42034669026765),(15,85,0.896893215735344),(15,92,-0.677846613971374),(15,99,-2.0739310892056),(15,101,0.600909451582385),(15,104,0.406857509079257),(15,108,-3.94750816370128),(15,117,0.166539506210517),(16,86,-0.419476912747581),(16,87,0.648350474562822),(16,88,0.385753959776605),(16,90,-1.14004943998535),(16,91,1.25438703573717),(16,95,-0.789635914181951),(16,97,-0.195059053315836),(16,98,-4.66333506271554),(16,99,0.862208929715873),(16,101,3.09805597094638),(16,108,3.64015625476852),(16,110,-0.374294259468368),(17,89,3.05729850154118),(17,96,1.60435804315317),(17,99,-1.30709250160222),(17,101,-2.64889980773339),(17,106,0.960829493087557),(17,107,0.984267708365123),(17,109,-0.467146824549089),(18,90,-0.858897671437727),(18,91,-1.9510483108005),(18,93,-0.374446852015747),(18,99,-1.31435590685751),(18,102,-0.547837763603626),(18,103,-0.0913724173711357),(18,104,-1.62633136997589),(18,110,0.841975157933286),(18,111,-1.01345866267891),(18,116,0.179067354350414),(18,117,-1.26461073641163),(18,118,1.82111575670644),(19,87,1.02368236335337),(19,89,1.46278267769402),(19,93,0.457167271950438),(19,95,-3.57623523667104),(19,101,-2.87989440595721),(19,105,2.24265266884365),(19,115,-0.757744071779534),(20,88,4.04670857875301),(20,101,-0.0780816064943388),(20,103,1.09016693624683),(20,104,-1.45112460707419),(20,105,-0.424924466689047),(20,106,-0.649800103762933),(20,111,1.03320413830988),(20,116,-1.96195867793817),(21,86,-2.01551866206854),(21,87,0.588167973876156),(21,94,-3.16444898831141),(21,96,-0.164952543717765),(21,101,1.62216559343242),(21,102,0.0492110965300455),(21,105,-0.12533951841792),(21,107,0.774147770622883),(21,108,-2.01376384777367),(22,86,0.440488906521806),(22,88,0.126346629230628),(22,91,1.00170903653066),(22,92,-1.85660878322703),(22,93,-0.12785729544969),(22,98,-0.603564561906796),(22,106,-4.2747581408124),(22,115,-2.14487136448256),(22,117,-0.150914029358806),(23,85,0.41422772911771),(23,86,2.4534592730491),(23,88,-1.66045106357006),(23,90,-0.430967131565294),(23,97,1.65213476973785),(23,104,-2.22884304330576),(23,112,0.346308786278878),(23,114,-0.534821619312113),(23,115,0.0343638416699729),(23,116,-2.75308999908444),(24,89,-0.630817590868862),(24,90,-0.341425824762719),(24,91,1.53071687978759),(24,101,2.50921658986175),(24,107,0.559480574968719),(24,108,0.181539353617969),(24,110,-2.00430310983612),(24,112,0.279396954252754),(25,90,-1.3480025635548),(25,92,2.47741630298776),(25,94,-4.9273964659566),(25,98,3.30098879970702),(25,105,1.57470931119724),(25,108,-1.91709646900845),(25,109,-1.49104281746879),(25,115,0.961470381786553),(26,85,-1.31330301828059),(26,87,-1.51263466292306),(26,89,-3.90316476943266),(26,95,-0.30268257698294),(26,98,-2.28125858333079),(26,100,-2.47749259926145),(26,101,0.022171697134312),(26,102,-1.24042481765191),(26,103,-0.17734305856502),(26,104,-0.52211066011536),(26,107,0.43130283516953),(26,109,2.06230353709525),(26,112,0.493484298226875),(26,113,1.3795281838435),(26,117,-1.51486251411481),(27,85,-0.257118442335276),(27,87,-4.26158940397351),(27,94,-3.74811548203986),(27,100,-0.0275887325663015),(27,102,1.79448835718863),(27,103,-1.17992187261574),(27,104,-5.10518204290902),(27,105,-1.91413617358928),(27,108,1.13277077547533),(27,110,0.738380077517014),(27,114,-0.389660328989532),(28,87,2.26813562425611),(28,88,-1.79850154118473),(28,97,-1.66951506088443),(28,99,-2.30904568620869),(28,104,2.35842463454085),(28,113,1.85157322916349),(28,114,0.902874843592639),(29,88,1.55519272438734),(29,91,0.903073213904233),(29,102,0.302194280831324),(29,105,1.54187139500107),(29,116,-0.4300057985168),(30,95,-3.1403088473159),(30,96,0.0258949552903835),(30,99,-0.583681752983184),(30,101,0.325281533249916),(30,104,-1.27681814020203),(30,109,-0.47766045106357),(30,110,-2.3933835871456),(30,114,-2.52873317667165),(30,118,-2.99299600207526),(31,85,-0.785241248817408),(31,92,-0.43939024018067),(31,94,3.29056672872097),(31,96,-2.31151768547624),(31,99,0.289468062379833),(31,103,1.16518143253883),(31,107,-1.72414319284646),(31,108,2.34955900753807),(31,109,-0.323541978209784),(31,111,2.54004028443251),(31,112,-0.0457777642139956),(31,117,1.95870845667898),(32,86,-2.66350291451765),(32,87,1.19493697927793),(32,89,-1.58989226966155),(32,92,-1.80895413068026),(32,98,0.206122013000885),(32,99,-2.46282845545824),(32,104,0.830133976256599),(32,106,-1.12926114688559),(32,109,-3.73903622547075),(32,116,-1.53770561845759),(32,118,2.26126895962401),(33,96,-0.9353465376751),(33,98,1.49238563188574),(33,108,0.564027832880642),(33,110,-3.25902584917753),(33,111,-3.5550553910947),(33,114,-1.60625019074068),(34,85,0.0627918332468642),(34,90,0.443983275856807),(34,99,-2.26332895901364),(34,104,-0.474852748191778),(34,109,1.54644917142247),(35,86,0.389110995818964),(35,87,-2.22640156254768),(35,97,3.00584429456465),(35,98,0.729621265297403),(35,100,1.26096377452925),(35,104,0.0851161229285562),(35,107,-1.01686147648549),(35,109,-0.342661824396497),(35,110,-1.16696676534318),(35,112,1.50387585070345),(36,85,-2.99235511337626),(36,87,0.606097598193304),(36,90,-0.183034760582293),(36,91,1.43047883541368),(36,104,1.90183721427045),(36,107,-1.08737449262978),(36,109,-1.37401959288308),(36,112,-2.84156315805536),(36,115,-1.16321298867763),(36,117,-0.995056001464888),(36,118,2.38709677419355),(37,85,4.61329996642964),(37,86,2.68723105563524),(37,87,0.928830835901975),(37,91,-1.59604174932096),(37,99,-4.85100863673818),(37,105,-1.17343668935209),(37,111,0.272469252601703),(37,112,1.59881893368328),(37,118,-0.943739127780999),(38,87,2.40675069429609),(38,90,1.51377910702841),(38,103,-0.929334391308329),(38,105,0.600268562883389),(38,106,3.91468550675985),(38,111,0.387783440656758),(38,115,-0.960646382030702),(39,87,2.00988799707022),(39,89,-1.39591662343211),(39,91,-0.736259041108432),(39,94,2.64760277108066),(39,97,-0.523590807824946),(39,98,-1.69145786919767),(39,107,-0.152226325266274),(39,108,-0.216406750694296),(39,109,-0.272164067506943),(39,111,-2.35558641315958),(39,113,1.88283944212165),(39,116,-0.623187963499863),(39,118,-0.934705648976104),(40,88,0.842432935575427),(40,92,1.93769646290475),(40,99,1.23100985747856),(40,104,-1.80932035279397),(40,110,1.34046449171422),(40,116,-2.31298257393109),(40,118,1.38508255256813),(41,88,-2.14827417828913),(41,93,0.41140476699118),(41,96,0.848719748527482),(41,97,2.49916074098941),(41,100,-2.33886226996673),(41,101,4.61230811487167),(41,104,-0.195959349345378),(41,105,0.520783104953154),(41,106,0.11368144779809),(41,107,-1.52226325266274),(41,109,4.09884945219275),(41,110,0.158635212256233),(41,111,-3.08169804986724),(41,112,2.28539384136479),(42,85,-2.21385845515305),(42,86,1.94636371959593),(42,87,-3.08293404950102),(42,99,1.38821069978942),(42,100,-2.44227423932615),(42,103,-1.72650837733085),(42,109,-2.3743858149968),(42,113,-4.40279854731895),(43,85,-0.389645069734794),(43,88,-2.27195043794061),(43,89,-0.159138767662587),(43,93,-1.28002258369701),(43,97,-0.320459608752709),(43,98,-1.24207281716361),(43,101,-2.70581682790612),(43,102,2.23992126224555),(43,103,-2.79313028351695),(43,105,-2.00193792535173),(43,110,-0.216971343119602),(43,112,2.19040498062075),(43,114,-0.597079378643147),(43,116,-1.18106631672109),(44,89,-0.928067873165075),(44,98,-0.361568041016877),(44,99,-3.93244727927488),(45,87,0.010238959929197),(45,88,2.15607165746025),(45,90,1.9985961485641),(45,91,2.72249519333476),(45,95,-1.45924253059481),(45,98,-0.400967436750389),(45,108,-1.61461226233711),(45,109,-2.11282692953276),(45,112,-0.41315958128605),(45,115,-3.00326548051393),(46,85,3.61149937437056),(46,89,1.21225623340556),(46,91,1.22923978392895),(46,94,-1.37949766533403),(46,97,3.79076509903256),(46,100,0.315042573320719),(46,101,-1.93157750175481),(46,108,0.881527146214179),(46,112,-2.51368755149998),(47,86,-0.849681081575976),(47,91,-2.89469588305307),(47,92,-0.199301126133),(47,94,-1.33271279030732),(47,95,0.513245033112583),(47,100,1.60887478255562),(47,101,1.30855739005707),(47,104,1.26338999603259),(47,105,-0.476638080996124),(47,108,1.7551194799646),(47,112,2.12857448042238),(47,114,0.753654591509751),(47,118,-0.947691274758141),(48,86,2.29735709707938),(48,91,1.03665272988067),(48,98,1.39339884640034),(48,99,1.0355388042848),(48,100,1.12904751731925),(48,103,2.28606524857326),(48,105,-0.981566820276498),(48,106,0.0230109561449017),(48,111,-1.74834437086093),(48,115,0.786156804101688),(49,87,-0.231070894497513),(49,89,2.63791314432203),(49,93,-2.71625415814692),(49,94,-1.88070314645833),(49,95,0.229026154362621),(49,102,4.53102206488235),(49,113,1.5558183538316),(49,114,2.34127323221534),(50,89,-1.72292245246742),(50,105,3.85473189489425),(50,107,0.492828150273141),(51,87,0.351878414258248),(51,92,-0.626392406994842),(51,97,-2.13286233100375),(51,98,-1.59410382396924),(51,103,-2.04419080172124),(51,106,4.46757408368175),(51,112,-3.17384868923002),(51,118,0.58279671620838),(52,89,1.88955351420637),(52,97,0.00286873989074321),(52,106,0.693762016663106),(52,110,2.08967864009522),(52,111,-2.18723105563524),(52,113,1.00727866451003),(52,114,-1.20014038514359),(52,118,-1.2792138431959),(53,88,0.561723685415204),(53,90,-1.26224555192724),(53,92,-2.39532151249733),(53,94,2.67265846736045),(53,104,0.864635151219215),(53,105,4.00126651814325),(53,109,-2.14821314127018),(54,85,-2.07834101382488),(54,91,0.254829554124577),(54,94,3.17200231940672),(54,96,0.0394451734977264),(54,111,3.16820276497696),(54,112,-3.51586962492752),(54,113,-1.02099673451949),(54,118,-2.82798242133854),(55,87,0.363643299661244),(55,95,-1.48602252265999),(55,107,-1.80372020630512),(55,110,-0.32418286690878),(55,117,2.96885586107974),(56,107,-1.13422040467544),(56,111,1.40124210333567),(56,113,-1.77111117893002),(56,114,-1.9667500839259),(57,87,1.04680013428144),(57,90,4.53958250679037),(57,91,2.71790215765862),(57,92,3.42764061403241),(57,93,-1.94851527451399),(57,94,4.46932889797662),(57,95,-0.149327066866054),(57,96,-1.55426190984832),(57,100,-2.3690450758385),(57,102,2.26638080996124),(57,103,2.21243934446242),(57,115,0.169454023865474),(58,86,1.13110751670888),(58,87,1.40224921414838),(58,89,-0.133899960325938),(58,90,-0.902508621478927),(58,95,-1.01872310556352),(58,96,-0.807748649555956),(58,101,-0.0939054536576434),(58,103,-0.613788262581255),(58,109,3.21298867763298),(58,110,1.71930600909452),(58,113,-2.48741111484115),(58,114,0.296258430738243),(58,115,-0.274040955839717),(58,118,-2.07716605121006),(59,85,-1.23078096865749),(59,86,0.704290902432326),(59,90,-2.10864589373455),(59,91,1.56926175725578),(59,93,-2.41022980437635),(59,97,-2.11874752037111),(59,98,-0.848414563432722),(59,100,0.58180486465041),(59,102,0.150563066499832),(59,112,2.98135319071017),(59,114,1.34179204687643),(60,85,3.87597277748955),(60,87,-3.66876735740226),(60,90,-0.0726798303170872),(60,91,3.20406201361126),(60,96,-0.102496414075136),(60,100,-3.15991698965423),(60,101,-0.484237189855647),(60,105,-1.14574114200262),(60,107,0.524155400250252),(60,109,2.59465315713981),(60,110,-4.16339609973449),(60,114,-1.76595355082858),(61,89,2.50462355418561),(61,94,-0.578646198919645),(61,96,2.99560533463546),(61,98,-1.4699240089114),(61,100,-1.9144260994293),(61,102,-0.941724906155583),(61,103,-1.0811181981872),(61,114,0.835612048707541),(61,115,-0.374004333628346),(62,93,-3.26085695974609),(62,95,2.68997772148808),(62,107,0.596713156529435),(62,109,-4.39890743736076),(62,110,0.908536027100436),(62,111,0.473662526322215),(63,87,0.692312387462996),(63,90,-2.48982207708976),(63,93,-1.53286843470565),(63,97,2.87067781609546),(63,100,0.813241981261635),(63,103,-0.210745567186499),(63,104,-3.50004577776421),(63,108,-2.56997894222846),(63,111,-4.64470351268044),(63,114,0.0920133060701315),(63,117,2.58586382641072),(64,87,-1.00123599963378),(64,94,-0.00730918301950112),(64,99,-1.38509781182287),(64,110,0.660557878353221),(64,112,-1.81466109195227),(64,116,3.84934537797174),(65,87,-1.17049165318766),(65,88,0.754310739463485),(65,90,-4.16257209997864),(65,97,-2.1940824610126),(65,99,-2.44947660756249),(65,107,2.46345408490249),(65,110,-5.62305063020722),(65,111,2.94187749870296),(65,114,2.19786675618763),(65,116,2.12218085268715),(65,117,-1.11613818781091),(66,85,4.53685110019227),(66,102,-3.43968016602069),(66,105,-0.925092318491165),(66,108,0.257057405316324),(66,111,1.63490707113865),(66,115,-1.43041779839473),(66,118,-1.1904660176397),(67,86,2.5764183477279),(67,90,-1.17709891048921),(67,92,-1.05546739097262),(67,104,1.17923520615253),(67,109,-0.579927976317637),(67,111,4.28710287789544),(68,87,-0.585573900570696),(68,88,-0.947141941587573),(68,90,-0.199362163151952),(68,93,2.27269814142277),(68,95,-0.929975280007324),(68,96,0.277169103061007),(68,97,-1.46417126987518),(68,103,-2.42629779961547),(68,107,-0.500274666585284),(68,112,-1.25102999969481),(68,114,-0.785393841364788),(69,87,2.7724692526017),(69,88,2.24501785332804),(69,92,0.705816827906125),(69,94,-1.00433362834559),(69,95,-0.683385723441267),(69,97,2.17610705893124),(69,108,-0.0334940641499069),(69,113,0.738547929319132),(69,114,-0.663441877498703),(69,118,-0.0521866512039552),(70,85,-2.72713400677511),(70,86,-3.69455549790948),(70,87,-0.608432264168218),(70,90,1.7953581347087),(70,96,-0.738624225592822),(70,97,-1.11981566820277),(70,99,4.49986266670736),(70,105,-4.81006805627613),(70,107,1.58885464033937),(70,109,-1.14406262398145),(70,110,-0.147175511947996),(70,111,0.666463209936827),(71,85,3.37475203711051),(71,93,0.931897946104312),(71,96,-1.78997161778619),(71,100,1.99267555772576),(71,104,3.31095309305094),(71,106,-2.22441785943175),(71,111,1.23093356120487),(71,113,1.75908688619648),(72,94,0.463377788628803),(72,96,1.10394604327525),(72,99,-1.05595568712424),(72,110,0.998260444959868),(72,112,1.21887874996185),(72,114,0.144611957152013),(72,115,1.28048036133915),(72,116,-0.852549821466719),(73,88,-0.729194006164739),(73,94,0.381542405468917),(73,99,0.815836054567095),(73,100,-0.348826563310648),(73,106,-0.227896969512009),(73,110,-1.18739890743736),(73,115,1.35462508011109),(74,90,0.412991729483932),(74,94,-3.37408062990204),(74,99,-0.746253852961821),(74,102,1.04976042970061),(74,106,0.509826960051271),(74,107,-4.15186010315256),(74,110,0.75380718405713),(74,113,0.0936155278176214),(74,116,1.4706869716483),(75,85,-0.140415662099063),(75,86,-1.64067506942961),(75,93,1.2953581347087),(75,98,2.91511276589251),(75,103,-1.07246620075076),(75,105,1.45463423566393),(75,111,3.76709799493393),(75,117,-0.343806268501846),(76,86,-0.142536698507645),(76,89,0.725653859065523),(76,92,-0.122196111941893),(76,94,1.87597277748955),(76,99,-0.71385845515305),(76,101,-0.0859859004486221),(76,103,1.41056550798059),(76,106,-0.894512771996216),(76,110,-1.03541673024689),(76,113,1.67546617023225),(77,88,3.37469100009156),(77,91,-1.16682943205054),(77,93,-0.961180455946531),(77,98,-1.84560686056093),(77,101,-3.20345164342174),(77,102,1.57231360820338),(77,103,-2.06930753501999),(77,104,-0.570238349559008),(77,105,0.363948484756004),(77,109,-1.06929227576525),(78,88,-0.949278237250893),(78,93,0.0293740653706474),(78,94,-0.0251777703176979),(78,101,1.79731131931516),(78,104,-1.77231666005432),(78,110,1.66977446821497),(78,114,-2.28698080385754),(78,116,-0.684835352641377),(78,117,0.176763206884976),(78,118,2.58604693746757),(79,87,-0.896938993499558),(79,92,0.87244788964507),(79,94,3.97950682088687),(79,107,-2.5216834009827),(79,108,3.0972624897),(79,114,0.712637714774011),(79,118,-1.70604571672719),(80,87,-0.587481307412946),(80,88,1.87582018494217),(80,91,-3.96784875026704),(80,99,2.14980010376293),(80,101,0.353740043336283),(80,107,0.00404370250556962),(80,113,1.88451796014283),(81,85,1.70850245674001),(81,86,3.21396526993622),(81,90,0.465254676961577),(81,93,2.07396160771508),(81,96,3.19855342265084),(81,97,-1.09700308236946),(81,106,-0.727408673360393),(81,107,0.904705954161199),(81,110,-0.446577349162267),(81,115,-1.46252327036348),(82,86,0.511719107638783),(82,92,1.90475173192541),(82,110,3.11487166966765),(82,112,2.28289132358776),(83,87,-1.01733451338237),(83,91,5.03259376812036),(83,93,-2.91676076540422),(83,101,-2.33790093691824),(83,103,3.08397167882321),(83,105,-1.34774315622425),(83,108,-0.151219214453566),(84,85,1.70979949339274),(84,86,-0.237449262977996),(84,89,-1.81638538773766),(84,95,0.351298562578204),(84,99,1.85705130161443),(84,104,1.93601794488357),(84,111,1.70979949339274),(84,113,0.259743034150212),(84,114,-0.433500167851802)]
orgname='BHNEAT_5_9'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()