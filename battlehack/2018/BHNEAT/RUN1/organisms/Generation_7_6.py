edge = [(0,85,4.38286996063112),(0,89,-3.176412244026),(0,90,-1.21883297219764),(0,93,1.28942228461562),(0,98,-0.912533951841792),(0,101,0.842127750480667),(0,105,-2.42699972533341),(0,108,-0.11261329996643),(0,113,0.710501419110691),(0,114,-0.801339762565996),(0,117,-0.0212103640858179),(0,118,0.368816187017426),(1,86,-2.16565446943571),(1,92,-0.339045381023591),(1,98,2.16437269203772),(1,102,-0.203222754600665),(1,104,-0.946195867793817),(1,107,0.381191442609943),(1,108,1.18373668630024),(1,109,-2.35419782097842),(1,113,2.60264900662252),(2,87,0.962553788872952),(2,88,0.207296975615711),(2,100,-1.24312570574053),(2,106,1.38795129245888),(2,108,-0.882930997650075),(2,110,-2.00338755455184),(2,113,-0.0113376262703331),(2,118,-2.37945188756981),(3,89,1.44438001648),(3,92,2.34894863734855),(3,97,-3.14554277169103),(3,99,-2.90781884212775),(3,101,0.310846278267769),(3,103,2.62971892452773),(3,105,-0.195516830957976),(3,108,-0.661320841090121),(3,109,2.11555833613086),(3,111,-2.71016571550645),(3,112,-1.98760948515275),(3,116,-0.422193060090945),(4,90,-1.15533921323283),(4,91,1.17223120822779),(4,97,0.852381969664602),(4,99,0.952558977019562),(4,101,-1.13577684865871),(4,108,0.354472487563707),(4,113,-2.43003631702628),(4,118,0.67085787530137),(5,86,-2.70613727225562),(5,87,0.189672536393323),(5,89,-2.17929624317148),(5,92,0.366664632099368),(5,93,3.22411267433699),(5,99,2.29595324564348),(5,104,0.11017181920835),(5,114,0.957060457167272),(5,118,-0.21645252845851),(6,89,2.93346964934233),(6,92,3.78200628681295),(6,94,2.32673116245003),(6,100,-0.930600909451582),(6,101,-2.0436109500412),(6,103,-0.0662709433271278),(6,107,-3.02679525131993),(6,110,-2.11600085451827),(6,113,-3.44183172093875),(7,85,0.054246650593585),(7,86,0.498825037385174),(7,90,0.45631275368511),(7,95,0.342921231727042),(7,99,-0.493102816858425),(7,100,-1.50509659108249),(7,104,1.14186529129917),(7,106,1.01596118045595),(7,108,-1.16811120944853),(7,112,-2.74703207495346),(7,116,-0.928220465712454),(8,92,-1.67386394848476),(8,93,-2.54164250618),(8,95,0.396435438093204),(8,99,-0.396267586291086),(8,106,-4.25670644245735),(8,107,1.04928739280374),(8,115,2.35592211676382),(8,116,-0.0732139042329172),(8,118,-2.86057618945891),(9,85,-4.55749687185278),(9,87,2.04417554246651),(9,98,0.705786309396649),(9,101,1.83046967986084),(9,103,1.88177129428999),(9,105,0.0639057588427381),(9,106,-1.63750114444411),(9,113,-0.728263191625721),(10,89,-1.11041596728416),(10,96,2.9985961485641),(10,106,0.902401806695761),(10,108,1.30332346568194),(10,111,3.64989165929136),(10,112,1.83164464247566),(10,114,-2.05267494735557),(10,115,1.44050416577654),(10,116,1.58719138157292),(10,117,-0.118076113162633),(11,89,0.716284676656392),(11,97,-1.00038148136845),(11,105,-1.61534470656453),(11,112,-1.26340525528733),(11,115,-1.27834406567583),(12,92,-0.786645100253303),(12,93,3.23293252357555),(12,94,-1.24485000152593),(12,97,1.30950346385083),(12,98,0.178624835963012),(12,99,0.0813928647724845),(12,108,-1.26879177220985),(12,116,-1.3789635914182),(13,86,2.55688650166326),(13,87,1.0320444349498),(13,90,-1.02287362285226),(13,99,0.0996581926938688),(13,102,1.90321054719687),(13,104,-0.744178594317453),(13,113,-3.61691640980255),(13,116,3.47709585863826),(13,118,1.52661214026307),(14,90,1.71231727042451),(14,93,2.6104312265389),(14,95,-4.03050325022126),(14,102,0.206244087038789),(14,104,0.382320627460555),(14,106,-2.94143498031556),(14,109,1.09347819452498),(14,110,-1.24959562974944),(14,111,-2.20842616046632),(15,85,-1.27610095522935),(15,92,2.26161992248299),(15,99,0.426725058748131),(15,101,-1.11751152073733),(15,104,-1.1579790643025),(15,108,-1.16162602618488),(15,117,0.34957426679281),(16,86,1.06440931424909),(16,87,-4.20560319833979),(16,88,-1.34318063905759),(16,90,2.39246803186132),(16,91,0.10917996765038),(16,95,-1.08139286477248),(16,97,3.28687398907437),(16,98,-2.65831476790674),(16,99,2.42500076296274),(16,101,2.93020416882839),(16,108,-1.01017792291025),(16,110,0.939374980925932),(17,89,1.56921597949156),(17,96,-1.18362987151707),(17,99,-1.40032654805139),(17,101,2.35903500473037),(17,106,-1.53375347148045),(17,107,2.11856440931425),(17,109,0.783654286324656),(18,90,0.0386516922513502),(18,91,-2.88834803308206),(18,93,0.158024842066714),(18,99,-0.64775536362804),(18,102,0.3684041871395),(18,103,3.52217169713431),(18,104,3.21176793725394),(18,110,-0.635120700704978),(18,111,3.93885616626484),(18,116,-0.628910184026612),(18,117,0.772728659932249),(18,118,-1.24477370525224),(19,87,2.44857631153294),(19,89,-3.45870845667898),(19,93,-0.581072420422987),(19,95,2.13026825769829),(19,101,2.51150547807245),(19,105,-1.45841853083895),(19,115,3.88248847926267),(20,88,4.85689870906705),(20,101,-2.759056367687),(20,103,0.809930722983489),(20,104,-2.70268868068484),(20,105,3.32000183111057),(20,106,-2.16710409863582),(20,111,-0.168996246223334),(20,116,3.0230109561449),(21,86,0.233237708670309),(21,87,1.25597399822993),(21,94,-1.42611468855861),(21,96,4.23787652211066),(21,101,-0.441572313608203),(21,102,2.5949736014893),(21,105,1.25547044282357),(21,107,-1.43230994598224),(21,108,-2.13357951597644),(22,86,2.65823847163305),(22,88,0.833613086336863),(22,91,4.0797143467513),(22,92,0.334467604602191),(22,93,1.90879543443098),(22,98,-1.59022797326579),(22,106,0.119373149815363),(22,115,2.54734946745201),(22,117,-1.30764183477279),(23,85,1.90452284310434),(23,86,-0.0821710867641228),(23,88,2.77861873226112),(23,90,-0.572725608081301),(23,97,3.75789666432691),(23,104,1.72649311807611),(23,112,-0.333338419751579),(23,114,0.380489516891995),(23,115,1.10487685781426),(23,116,-2.68333994567705),(24,89,0.690130314035463),(24,90,0.988906521805475),(24,91,-1.27538377025666),(24,101,0.278176213873714),(24,107,1.99026459547716),(24,108,-0.603350932340464),(24,110,-3.14967802972503),(24,112,-1.35520493179113),(25,90,-0.566728720969268),(25,92,1.72432630390332),(25,94,1.6346476638081),(25,98,2.15730765709403),(25,105,-1.0584276863918),(25,108,0.123752555925169),(25,109,-2.95669423505356),(25,115,1.23522141178625),(26,85,0.509491256447035),(26,87,1.60925626392407),(26,89,0.158391064180425),(26,95,-1.53332621234779),(26,98,-1.95020905178991),(26,100,1.5553758354442),(26,101,0.453856013672292),(26,102,1.16705832087161),(26,103,-1.69861445966979),(26,104,1.66286202581866),(26,107,1.59778130436109),(26,109,0.534318063905759),(26,112,0.030991546372875),(26,113,-2.22394482253487),(26,117,2.01812799462874),(27,85,-1.43681142612995),(27,87,0.112781151768548),(27,94,-1.77671132541887),(27,100,0.762459181493576),(27,102,-1.71079134495071),(27,103,-3.01454206976531),(27,104,-2.64267403180029),(27,105,-0.806451612903226),(27,108,1.2015900143437),(27,110,1.13429670094913),(27,114,0.445097201452681),(28,87,0.924268318735313),(28,88,0.205114902188177),(28,97,-3.48948637348552),(28,99,0.119846186712241),(28,104,-0.0564287240211185),(28,113,-0.471510971404157),(28,114,1.91013824884793),(29,88,-1.70715964232307),(29,91,-0.904538102359081),(29,102,0.719763786736656),(29,105,4.3082064271981),(29,116,2.32273323770867),(30,95,-1.91079439680166),(30,96,0.884304330576495),(30,99,-0.171147801141392),(30,101,-2.23850215155492),(30,104,-2.35152745139927),(30,109,-1.67714468825343),(30,110,3.28679769280068),(30,114,0.565462202826014),(30,118,2.94827112643818),(31,85,-0.567720572527238),(31,92,0.880260628070925),(31,94,-1.77947325052644),(31,96,0.466811120944853),(31,99,-1.14101077303385),(31,103,0.830103457747124),(31,107,1.03106784264657),(31,108,2.60286263618885),(31,109,-4.1294289986877),(31,111,-5.05548265022736),(31,112,-0.0818659016693628),(31,117,3.23392437513352),(32,86,2.5693533127842),(32,87,-2.25754570146794),(32,89,3.04731894894253),(32,92,3.52545243690298),(32,98,-1.14146855067598),(32,99,-2.88186284981841),(32,104,-1.04126102481155),(32,106,-1.50614947965941),(32,109,-1.44289986877041),(32,116,-1.23900570696127),(32,118,-3.31345561082797),(33,96,-1.54423657948546),(33,98,2.23268837549974),(33,108,-0.903683584093753),(33,110,2.89907528916288),(33,111,2.24002807702872),(33,114,3.37002166814173),(34,85,0.980773339030122),(34,90,-3.11836603900266),(34,99,-0.202490310373241),(34,104,1.99485763115329),(34,109,-1.56181524094363),(35,86,-1.25934629352702),(35,87,2.00190740684225),(35,97,-1.23348185674612),(35,98,-1.5530869472335),(35,100,-1.82850123599963),(35,104,3.31702627643666),(35,107,-1.0701162755211),(35,109,2.18091372417371),(35,110,2.87154759361553),(35,112,0.727866451002533),(36,85,1.52552873317667),(36,87,-2.61905270546586),(36,90,1.93632312997833),(36,91,3.19048127689444),(36,104,-0.963927121799371),(36,107,0.359904782250435),(36,109,1.08424634540849),(36,112,0.442991424298837),(36,115,-3.00454725791192),(36,117,-1.30349131748405),(36,118,-1.46526993621632),(37,85,-0.533692434461501),(37,86,-1.36707663197729),(37,87,1.60878322702719),(37,91,2.29659413434248),(37,99,-2.98327585680715),(37,105,-1.11194189275796),(37,111,-2.09675893429365),(37,112,0.772759178441725),(37,118,2.57206946012757),(38,87,-2.06968901638844),(38,90,0.34499649037141),(38,103,-0.69716483046968),(38,105,-2.55992309335612),(38,106,-0.996887112033448),(38,111,-2.57667775505844),(38,115,3.59906308175909),(39,87,0.916791283913694),(39,89,-0.00404370250556962),(39,91,-2.36564226203192),(39,94,1.16951506088443),(39,97,-0.928266243476668),(39,98,0.882549516281625),(39,107,1.0952940458388),(39,108,1.69263283181249),(39,109,-1.12721640675069),(39,111,0.299157689138462),(39,113,0.0586565752128667),(39,116,-1.33252967925047),(39,118,4.23894466994232),(40,88,0.679570909756767),(40,92,1.2717062898648),(40,99,-2.65971861934263),(40,104,2.64554277169103),(40,110,-3.8453932309946),(40,116,2.74683370464187),(40,118,3.2014679403058),(41,88,0.525070955534532),(41,93,-0.179219946897794),(41,96,-4.2229529709769),(41,97,0.250022888882107),(41,100,-0.430845057527391),(41,101,1.22170171208838),(41,104,0.335291604358043),(41,105,2.47596667378765),(41,106,0.665501876888333),(41,107,1.01222266304514),(41,109,2.78327280495621),(41,110,3.01699880977813),(41,111,0.406262398144474),(41,112,-0.903942991424299),(42,85,-0.143330179754021),(42,86,2.42370372631001),(42,87,0.307138279366436),(42,99,-1.57506027405622),(42,100,-0.682119205298013),(42,103,1.31488998077334),(42,109,-2.05424665059359),(42,113,-4.75261696218757),(43,85,-1.93581957457198),(43,88,-3.76842555009613),(43,89,-3.62421033356731),(43,93,1.49246192815943),(43,97,0.797891170995208),(43,98,-3.03267006439405),(43,101,1.34040345469527),(43,102,4.28771324808496),(43,103,0.178685872981964),(43,105,0.636997589037751),(43,110,-2.81768242439039),(43,112,-0.876171147801141),(43,114,0.0417493209631641),(43,116,-3.04322946867275),(44,89,1.38355662709433),(44,98,0.100253303628651),(44,99,-0.972380748924223),(45,87,-2.58513138218329),(45,88,0.230185857722709),(45,90,0.590548417615283),(45,91,0.126819666127506),(45,95,-2.97979674672689),(45,98,0.028305917538987),(45,108,-2.56152531510361),(45,109,0.425473799859615),(45,112,0.0392010254219186),(45,115,0.950788903469955),(46,85,-2.06158635212256),(46,89,0.749824518570513),(46,91,-0.919980468153935),(46,94,0.969512009033479),(46,97,0.942701498458815),(46,100,0.258507034516434),(46,101,-2.88436536759545),(46,108,2.33115634632405),(46,112,2.2623065889462),(47,86,-1.25946836756493),(47,91,3.48107852412488),(47,92,1.55812250129704),(47,94,-0.252052369762261),(47,95,1.42147587511826),(47,100,3.08268990142521),(47,101,1.30596331675161),(47,104,1.86231574449904),(47,105,1.63135166478469),(47,108,-2.16864528336436),(47,112,1.81385235145116),(47,114,0.938444166386914),(47,118,-2.79444257942442),(48,86,3.72626422925504),(48,91,4.25153355510117),(48,98,1.67172765282144),(48,99,-1.50016785180212),(48,100,1.12698751792962),(48,103,-3.27799310281686),(48,105,0.193090609454634),(48,106,-1.39877010406812),(48,111,-3.91460921048616),(48,115,-0.569322794274728),(49,87,1.35200048829615),(49,89,-0.700354014709921),(49,93,-0.129581591235084),(49,94,0.511795403912473),(49,95,-2.65062410351878),(49,102,-0.0383770256660665),(49,113,-2.42744224372082),(49,114,1.97917111728263),(50,89,0.489593188268685),(50,105,3.57441938535722),(50,107,-0.735312967314676),(51,87,1.56093020416883),(51,92,1.17931150242622),(51,97,-2.71759697256386),(51,98,-0.741370891445662),(51,103,-1.38293099765007),(51,106,0.763084810937834),(51,112,2.48496963408307),(51,118,-3.1357310708945),(52,89,-1.01194799645985),(52,97,-0.208471938230537),(52,106,-1.20189519943846),(52,110,-2.22808008056886),(52,111,3.90250862147893),(52,113,0.144123661000397),(52,114,2.72287667470321),(52,118,-4.11076693014313),(53,88,-0.21385845515305),(53,90,0.10620441297647),(53,92,2.32541886654256),(53,94,-0.490813928647725),(53,104,-3.06660664693136),(53,105,-1.54898220770898),(53,109,-0.173818170720542),(54,85,1.26091799676504),(54,91,2.90948210089419),(54,94,1.32610553300577),(54,96,1.12880336924345),(54,111,0.421002838221381),(54,112,-3.49275185399945),(54,113,0.475203711050752),(54,118,1.42223883785516),(55,87,2.01858577227088),(55,95,-1.03198339793085),(55,107,0.571230201116977),(55,110,-0.959273049104282),(55,117,-0.962462233344523),(56,107,0.710318308053835),(56,111,-3.57663197729423),(56,113,-2.11691640980255),(56,114,-2.90086062196722),(57,87,3.34224982451857),(57,90,1.35947752311777),(57,91,2.72049623096408),(57,92,4.13582262642293),(57,93,1.00733970152898),(57,94,-2.1940824610126),(57,95,0.205526902066103),(57,96,-3.29389324625385),(57,100,-0.528351695303201),(57,102,-3.23435163426618),(57,103,1.36112552262947),(57,115,-0.141987365337077),(58,86,1.76657918027284),(58,87,-2.81736198004089),(58,89,-0.269463179418317),(58,90,-1.79761650440992),(58,95,-4.68605609302042),(58,96,-2.63168736838893),(58,101,-0.642323068941313),(58,103,3.05423139133885),(58,109,0.899075289162877),(58,110,1.97734000671407),(58,113,4.44563127536851),(58,114,-2.00224311044649),(58,115,0.994232001709036),(58,118,-0.307702871791742),(59,85,0.885677663502915),(59,86,0.204016235847041),(59,90,1.12735374004334),(59,91,0.0803399761955625),(59,93,-0.82547990356151),(59,97,-0.763893551438948),(59,98,-1.4403668324839),(59,100,-4.07554857020783),(59,102,-3.27971739860225),(59,112,-1.77426984466079),(59,114,-1.94161809137242),(60,85,1.41427350688192),(60,87,-0.56266975920896),(60,90,-0.714972380748924),(60,91,2.82982879116184),(60,96,5.07229834894864),(60,100,1.71915341654714),(60,101,0.202963347270119),(60,105,0.524918362987152),(60,107,1.86411633655812),(60,109,-1.81679738761559),(60,110,1.65892513809626),(60,114,1.37469100009156),(61,89,-1.47956785790582),(61,94,1.560396130253),(61,96,4.02476577043977),(61,98,-1.13711966307566),(61,100,0.621738334299753),(61,102,1.19296853541673),(61,103,-0.11429181798761),(61,114,-2.29108554338206),(61,115,-1.33327738273263),(62,93,0.347880489516892),(62,95,-1.66554765465255),(62,107,-2.75551622058779),(62,109,0.619479964598529),(62,110,2.26683858760338),(62,111,0.847880489516892),(63,87,-0.633228553117466),(63,90,-2.38987395855586),(63,93,3.19200720236824),(63,97,2.81666005432295),(63,100,-1.24617755668813),(63,103,0.398632770775476),(63,104,1.54565569017609),(63,108,-0.710486159855953),(63,111,2.34258552812281),(63,114,0.953581347087008),(63,117,-1.4281594286935),(64,87,-1.10209967345195),(64,94,-0.808191167943358),(64,99,0.870220038453322),(64,110,-2.49131748405408),(64,112,1.3046357615894),(64,116,-0.548875392925809),(65,87,0.613620410779138),(65,88,-0.406384472182378),(65,90,-3.71791741691336),(65,97,-3.02044740134892),(65,99,-3.00178533280435),(65,107,1.23157444990387),(65,110,2.88062685018464),(65,111,-1.07473982970672),(65,114,-0.663930173650319),(65,116,-1.15208899197363),(65,117,-0.877788628803369),(66,85,1.76279488509781),(66,102,1.34760582293161),(66,105,-2.0601977599414),(66,108,2.65009002960295),(66,111,0.921155430768761),(66,115,2.08119449446089),(66,118,-0.32219916379284),(67,86,0.566927091280862),(67,90,3.10486159855953),(67,92,0.456801049836726),(67,104,0.0310068056276133),(67,109,-0.700247199926756),(67,111,-1.69696646015809),(68,87,0.766701254310739),(68,88,-0.718237861262856),(68,90,2.61178930021058),(68,93,-1.89887691885128),(68,95,1.19977416302988),(68,96,-1.64877773369549),(68,97,1.54319895016327),(68,103,-1.08500930814539),(68,107,1.20654927213355),(68,112,0.044557023834956),(68,114,1.37089144566179),(69,87,-0.501037629322184),(69,88,-1.5396740623188),(69,92,3.09343241676077),(69,94,2.2133548997467),(69,95,0.197302163762322),(69,97,1.62532425916318),(69,108,0.820551164281137),(69,113,0.0720236823633533),(69,114,-2.52850428785058),(69,118,-1.86950285348064),(70,85,-1.76412244026002),(70,86,-2.65411847285379),(70,87,1.74581133457442),(70,90,-0.919370097964415),(70,96,0.800042725913266),(70,97,4.74195074312571),(70,99,-0.590990936002686),(70,105,-1.38134403515732),(70,107,0.0558488723410746),(70,109,0.119876705221717),(70,110,0.0823999755851924),(70,111,-2.70522171697134),(71,85,1.07264931180761),(71,93,-1.78685872981964),(71,96,-2.78449354533525),(71,100,-1.83568834498123),(71,104,0.481810968352306),(71,106,0.128025147251808),(71,111,2.89136936552019),(71,113,2.22388378551592),(72,94,0.932416760765404),(72,96,-2.25919370097964),(72,99,-1.67792291024506),(72,110,1.04396191290017),(72,112,3.39838862269967),(72,114,-1.07879879146702),(72,115,1.42384105960265),(72,116,-1.30794701986755),(73,88,-1.95959349345378),(73,94,-2.05046235541856),(73,99,-0.615787224951933),(73,100,0.307031464583269),(73,106,-1.16885891293069),(73,110,0.302743614001892),(73,115,-2.31469161046174),(74,90,-0.205618457594531),(74,94,2.07637256996368),(74,99,1.2999359111301),(74,102,0.505996887112033),(74,106,0.346400341807306),(74,107,-1.31287575914792),(74,110,-0.168767357402264),(74,113,-0.636967070528276),(74,116,0.783272804956206),(75,85,-0.140415662099063),(75,86,-1.45214697714164),(75,93,2.40397350993377),(75,98,1.80021057771538),(75,103,-0.404217658009583),(75,105,-1.68462172307505),(75,111,1.12221137119663),(75,117,1.57527390362255),(76,86,2.04687643055513),(76,89,-2.76052125614185),(76,92,-1.15779595324564),(76,94,-0.791573839533677),(76,99,-1.41697439497055),(76,101,-2.27332377086703),(76,103,1.4836573381756),(76,106,-1.26187932981353),(76,110,-2.48838770714438),(76,113,0.193868831446272),(77,88,-1.40389721366008),(77,91,-0.359736930448317),(77,93,-0.380794701986755),(77,98,-3.59259315775018),(77,101,2.44972075563829),(77,102,0.714941862239448),(77,103,-1.92304757835627),(77,104,0.343943601794488),(77,105,0.234015930661946),(77,109,-1.46664326914274),(78,88,1.33373516037477),(78,93,-0.691457869197669),(78,94,-1.113162633137),(78,101,-2.51568651387066),(78,104,0.935850093081454),(78,110,0.683645130771813),(78,114,-0.343867305520798),(78,116,1.41003143406476),(78,117,-3.37055574205756),(78,118,-2.46475112155522),(79,87,-0.196050904873806),(79,92,-1.19098483230079),(79,94,-1.25232703634754),(79,107,1.7433545945616),(79,108,-3.91283913693655),(79,114,-2.37014374217963),(79,118,-0.378872035889767),(80,87,1.06416516617328),(80,88,-0.915021210364086),(80,91,-0.724585711233863),(80,99,1.20052186651204),(80,101,-2.2363658558916),(80,107,0.149540696432386),(80,113,-1.99949644459365),(81,85,-1.18373668630024),(81,86,-2.07678456984161),(81,90,0.23444318979461),(81,93,-0.952040162358471),(81,96,-1.81585131382183),(81,97,-4.33783989989929),(81,106,-1.62475966673788),(81,107,1.53010650959807),(81,110,-3.09222693563646),(81,115,1.89991454817347),(82,86,0.689092684713279),(82,92,-0.544587542344432),(82,110,-3.42898342844935),(82,112,0.54216132084109),(83,87,-2.10028382213813),(83,91,-1.13132114627522),(83,93,-0.682805871761223),(83,101,1.02203436384167),(83,103,-0.913342692342906),(83,105,-1.02729880672628),(83,108,-1.47277748954741),(84,85,-1.92121646778771),(84,86,-1.28705710013123),(84,89,1.34145634327219),(84,95,-1.32656331064791),(84,99,-0.022049623096408),(84,104,-3.66641743217261),(84,111,-0.134220404675436),(84,113,-0.564745017853328),(84,114,0.0935392315439314),(35,105,-1.03013702810755)]
orgname='BHNEAT_7_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()