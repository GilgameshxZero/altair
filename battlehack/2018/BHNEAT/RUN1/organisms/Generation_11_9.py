edge = [(0,85,-2.63951536606952),(0,89,-2.90239417706839),(0,90,1.73463393047884),(0,93,-1.83602404858547),(0,98,-0.696485793633839),(0,101,-1.56749931333354),(0,105,1.45220801416059),(0,108,3.71398815881832),(0,113,2.97268593401898),(0,114,1.92060609759819),(0,117,-0.862453077791681),(0,118,-0.318590350047304),(1,86,0.338839381084628),(1,92,-1.17953276161992),(1,98,-0.801873836481826),(1,102,-2.28965117343669),(1,104,-5.09728537858211),(1,107,0.599131748405408),(1,108,0.312814722128971),(1,109,1.21553697317423),(1,113,1.34715567491684),(2,87,-0.0590609454634237),(2,88,0.493865779595325),(2,100,-1.85040589617603),(2,106,0.584093752861111),(2,108,1.96257667775506),(2,110,-0.161458174382763),(2,113,-0.31068605609302),(2,118,-0.838755455183569),(3,89,3.19941557054353),(3,92,2.30399487289041),(3,97,0.103190710165715),(3,99,0.712858973967711),(3,101,0.0310220648823512),(3,103,-0.448912015137181),(3,105,4.91499832148198),(3,108,1.42782372508927),(3,109,-2.04362620929594),(3,111,2.25229651783807),(3,112,0.921277504806665),(3,116,0.33059175389874),(4,90,0.745185705130161),(4,91,-3.57908871730705),(4,97,0.635151219214453),(4,99,1.34228797265542),(4,101,1.45405438398389),(4,108,0.630054628131962),(4,113,-0.199354533524582),(4,118,-1.16216010010071),(5,86,-2.3753929258095),(5,87,-1.79741813409833),(5,89,1.06493575853755),(5,92,3.19409009063997),(5,93,1.31212805566576),(5,99,0.91743217261269),(5,104,0.9563890499588),(5,114,-0.32265694143498),(5,118,-0.842318491164892),(6,89,0.972983489486374),(6,92,0.882404553361614),(6,94,-1.62793359172338),(6,100,2.01260414441359),(6,101,-1.40596484267708),(6,103,-0.371112704855495),(6,107,1.0794701986755),(6,110,-2.96541489913633),(6,113,-0.571184423352764),(7,85,2.11657307657094),(7,86,-0.789757988219855),(7,90,3.30029450361644),(7,95,1.13409070101016),(7,99,0.382366405224769),(7,100,0.455336161381878),(7,104,-1.35603656117435),(7,106,2.05526902066103),(7,108,1.45453505050813),(7,112,-1.97462385937071),(7,116,0.272453993346965),(8,92,-1.83354441969054),(8,93,-0.156277657399213),(8,95,0.359668263801996),(8,99,-0.591776787621693),(8,106,-1.43233283486435),(8,107,-0.744087038789025),(8,115,2.59873500778222),(8,116,-0.169804986724448),(8,118,-0.603427228614154),(9,85,-2.98087252418592),(9,87,1.02111880855739),(9,98,-0.272446363719596),(9,101,-1.77792443617054),(9,103,1.49761955626087),(9,105,0.31381420331431),(9,106,0.230307931760613),(9,113,1.24235511337626),(10,89,-2.6645252845851),(10,96,3.05697042756432),(10,106,-2.15880306405835),(10,108,0.76944029053621),(10,111,0.65759758293405),(10,112,-2.08868678853725),(10,114,0.467528305917539),(10,115,2.50334940641499),(10,116,1.93750572222053),(10,117,-0.844187749870296),(11,89,-2.83767204809717),(11,97,2.5555970946379),(11,105,-1.34624011963256),(11,112,0.978675191503647),(11,115,-0.350352488784448),(12,92,0.822519608142338),(12,93,-0.0706579790643026),(12,94,-0.236938077944273),(12,97,-0.0443739127780998),(12,98,1.86454359569079),(12,99,1.93619342631306),(12,108,1.19805749687185),(12,116,1.48466444898831),(13,86,-2.25493636890774),(13,87,-2.16145054475539),(13,90,-0.31595049897763),(13,99,-2.64880062257759),(13,102,1.58597064119388),(13,104,-2.03813287759026),(13,113,0.796823023163548),(13,116,0.176519058809168),(13,118,0.32151249732963),(14,90,-0.779610583819086),(14,93,2.48809778130436),(14,95,-1.5538499099704),(14,102,0.757133701590014),(14,104,-0.381786553544725),(14,106,1.76043733024079),(14,109,0.306024353770562),(14,110,1.00808740501114),(14,111,-1.41788232062746),(15,85,-1.24920651875362),(15,92,0.685338908047731),(15,99,-0.322702719199194),(15,101,-2.29827265236366),(15,104,-4.75675984984893),(15,108,1.51120029297769),(15,117,1.5504776146733),(16,86,1.13719595934935),(16,87,-0.86146885586108),(16,88,0.0850093081453902),(16,90,-0.331003753776666),(16,91,-4.55290383617664),(16,95,-2.70425275429548),(16,97,-2.26734214300974),(16,98,0.368747520371105),(16,99,-1.45780816064943),(16,101,0.481810968352306),(16,108,4.52950376903592),(16,110,1.72076326792199),(17,89,-0.560785241248817),(17,96,-1.18679616687521),(17,99,2.07647938474685),(17,101,2.67477187414167),(17,106,-1.1365169225135),(17,107,1.24806207464827),(17,109,-0.756538590655232),(18,90,-1.62800988799707),(18,91,-1.07367931150243),(18,93,0.21752067629017),(18,99,0.320101016266366),(18,102,0.574976348155156),(18,103,1.51142155217139),(18,104,-2.54661702322459),(18,110,-0.297051911984619),(18,111,0.3465987121189),(18,116,-1.16023743400372),(18,117,0.481086153752251),(18,118,1.40383617664113),(19,87,1.56546220282601),(19,89,-0.726569414349803),(19,93,1.51104770043031),(19,95,-2.1066164128544),(19,101,2.59333323160497),(19,105,-1.73373363444929),(19,115,-0.431501205481124),(20,88,-2.59401989806818),(20,101,0.468810083315531),(20,103,3.01677755058443),(20,104,-1.17046113467818),(20,105,0.623538926358837),(20,106,-0.806360057374798),(20,111,-1.6224402600177),(20,116,0.104518265327922),(21,86,1.60916470839564),(21,87,1.21257667775506),(21,94,1.46900845362712),(21,96,-0.528046510208442),(21,101,-0.32662434766686),(21,102,1.69654683065279),(21,105,1.35599078341014),(21,107,3.3959929197058),(21,108,-0.42947172460097),(22,86,-0.168660542619098),(22,88,0.628048036133915),(22,91,-2.78895687734611),(22,92,-0.232253486739708),(22,93,1.45687734611042),(22,98,-1.39686269722587),(22,106,-0.431409649952696),(22,115,1.85341196935942),(22,117,-2.34756004516739),(23,85,2.25132755516221),(23,86,-3.21501815851314),(23,88,0.0451673940244758),(23,90,2.79750968962676),(23,97,0.347697378460036),(23,104,3.05984679708243),(23,112,-1.52439954832606),(23,114,-1.04833368938261),(23,115,-3.73863948484756),(23,116,0.786156804101688),(24,89,-1.67341380046999),(24,90,-1.50823236793115),(24,91,-0.545075838496048),(24,101,4.30877864925077),(24,107,2.45406964323862),(24,108,2.49705496383557),(24,110,-0.375156407361064),(24,112,-0.997795037690359),(25,90,-0.110980559709464),(25,92,2.26355784783471),(25,94,1.86161381878109),(25,98,-3.52176732688375),(25,105,0.410580767235328),(25,108,3.03147984252449),(25,109,-2.55274361400189),(25,115,1.42355876339),(26,85,3.08826715903195),(26,87,0.464659566026795),(26,89,-0.0695440534684285),(26,95,-0.393551438947722),(26,98,1.17496261482589),(26,100,-1.72467726676229),(26,101,1.71461378826258),(26,102,-0.722418897061068),(26,103,-1.41784417249062),(26,104,1.29790643024995),(26,107,-1.26622058778649),(26,109,1.64400158696249),(26,112,1.88907284768212),(26,113,-0.50830866420484),(26,117,-1.12756736960967),(27,85,1.90733054597613),(27,87,-0.798547318948943),(27,94,1.47973570970794),(27,100,1.21375164036988),(27,102,0.364734336375011),(27,103,2.84592730491043),(27,104,1.65074617755669),(27,105,1.07097079378643),(27,108,-2.53242591631825),(27,110,-0.549638355662709),(27,114,-1.14627521591845),(28,87,-1.71230201116977),(28,88,-0.0632343516342662),(28,97,-0.995170445875423),(28,99,0.99496444593646),(28,104,2.00544755394147),(28,113,-1.05989257484664),(28,114,1.659085360271),(29,88,1.51059755241554),(29,91,-0.742957853938414),(29,102,0.938291573839534),(29,105,1.22692037720878),(29,116,0.632007812738426),(30,95,0.271217993713187),(30,96,2.27716910306101),(30,99,3.95717490157781),(30,101,-3.9373149815363),(30,104,-0.286416211432234),(30,109,0.868663594470046),(30,110,-1.46108127079073),(30,114,-1.19934690389721),(30,118,2.7457426679281),(31,85,-1.22247230445265),(31,92,1.38162633136998),(31,94,-3.71926786095767),(31,96,0.839823603015229),(31,99,0.698034607989746),(31,103,0.844737083040864),(31,107,-1.12979522080142),(31,108,2.44264046143986),(31,109,1.53968932157353),(31,111,3.15846736045412),(31,112,-0.696928312021241),(31,117,1.70979186376537),(32,86,-2.11546678060244),(32,87,2.81329538865322),(32,89,-0.164105655079806),(32,92,-2.70291756950591),(32,98,0.930707724234749),(32,99,0.30901516769921),(32,104,3.3141117587817),(32,106,1.1835993530076),(32,109,0.748252815332499),(32,116,-1.83365886410108),(32,118,-1.44938505203406),(33,96,-0.383007293923765),(33,98,-1.88337351603748),(33,108,2.31147190771203),(33,110,-1.66092410046693),(33,111,-2.37158574175237),(33,114,-1.36297952208014),(34,85,-0.967108676412244),(34,90,1.0772041993469),(34,99,0.663777581102939),(34,104,-0.477675710318308),(34,109,1.27836695455794),(35,86,1.36070589312418),(35,87,0.160878322702719),(35,97,0.485091708120975),(35,98,-0.622005371257668),(35,100,0.669125949888608),(35,104,0.407506027405621),(35,107,-0.802240058595538),(35,109,-2.43806268501846),(35,110,0.0516373180333872),(35,112,-0.331812494277779),(36,85,-1.77587206640828),(36,87,1.19083223975341),(36,90,-2.73770104068117),(36,91,0.806642353587451),(36,104,-0.0527588732566303),(36,107,-1.50428022095401),(36,109,2.91196172978912),(36,112,1.60539567247536),(36,115,2.900669881283),(36,117,-1.65948973052156),(36,118,0.842539750358593),(37,85,0.700254829554125),(37,86,-1.43551438947722),(37,87,2.82193212683493),(37,91,-0.987311929685354),(37,99,0.805917538987396),(37,105,0.43961912900174),(37,111,1.74342326120792),(37,112,0.425725577562792),(37,118,1.46824549089022),(38,87,0.704367198706015),(38,90,2.74089022492142),(38,103,1.47273934141057),(38,105,0.488876003295999),(38,106,-2.11809900204474),(38,111,1.72384563737907),(38,115,-2.53466139713736),(39,87,3.34236426892911),(39,89,0.117648854029969),(39,91,-1.96264534440138),(39,94,-1.16572313608203),(39,97,-1.60364085818049),(39,98,-1.67724387340922),(39,107,-0.317369609668264),(39,108,0.270775475325785),(39,109,1.89484084597308),(39,111,-1.32825708792383),(39,113,0.354762413403729),(39,116,1.74575792718284),(39,118,-0.586252937406537),(40,88,2.89701528977325),(40,92,-0.481200598162786),(40,99,1.95150608844264),(40,104,0.980529190954314),(40,110,0.997650074770348),(40,116,-1.20722067934202),(40,118,1.5172276985992),(41,88,-3.00576799829096),(41,93,-1.45924253059481),(41,96,-0.939504684591205),(41,97,-3.19296090578936),(41,100,-2.01723532822657),(41,101,2.64596240119633),(41,104,1.3137913144322),(41,105,3.11478774376659),(41,106,1.35495315408795),(41,107,-3.59397412030396),(41,109,-0.381305887020478),(41,110,-2.38668477431562),(41,111,-2.10348826563311),(41,112,0.928220465712455),(42,85,1.69197668385876),(42,86,1.72663045136876),(42,87,-0.298562578203681),(42,99,2.44197668385876),(42,100,-1.03770561845759),(42,103,-0.140728476821192),(42,109,-0.715666676839503),(42,113,0.579958494827112),(43,85,1.39332255012665),(43,88,0.15835291604358),(43,89,0.0588778344065675),(43,93,0.612651448103275),(43,97,-3.10935544907987),(43,98,0.476882229071932),(43,101,3.76292458876308),(43,102,1.13694418164617),(43,103,-0.359355449079867),(43,105,0.718024231696524),(43,110,-0.794801171910764),(43,112,-0.565683462019715),(43,114,-3.01311532944731),(43,116,-2.02665791802728),(44,89,1.10831781975768),(44,98,-0.503631702627644),(44,99,2.30307931760613),(45,87,-1.14900662251656),(45,88,0.136165959654531),(45,90,0.754081850642415),(45,91,0.180669576097903),(45,95,-0.659588915677358),(45,98,-2.56266975920896),(45,108,2.19093142490921),(45,109,1.56320383312479),(45,112,0.673490096743675),(45,115,0.337061677907651),(46,85,-1.23957029938658),(46,89,0.270187994018372),(46,91,-0.668416394543291),(46,94,-1.14843440046388),(46,97,-1.18980986968596),(46,100,2.12200537125767),(46,101,1.64381847590564),(46,108,1.97279274880215),(46,112,-2.79178746910001),(47,86,-0.589083529160436),(47,91,-1.09149449140904),(47,92,3.04245887630848),(47,94,1.85490737632374),(47,95,-0.49176763206885),(47,100,-1.93428601947081),(47,101,0.576265755180517),(47,104,2.26248970000305),(47,105,0.603488265633107),(47,108,-1.02427747428816),(47,112,-1.7762611774041),(47,114,0.440153202917569),(47,118,3.013191625721),(48,86,-0.725890377513962),(48,91,-2.91679128391369),(48,98,-0.927449873348186),(48,99,0.747596667378765),(48,100,0.731887264625996),(48,103,1.57116916409803),(48,105,-0.032807397686697),(48,106,0.48117007965331),(48,111,-0.707548753318888),(48,115,0.280808435316019),(49,87,-0.875118259224219),(49,89,-1.84363841669973),(49,93,-1.67063661610767),(49,94,1.48834955900754),(49,95,0.45371868037965),(49,102,1.09791863765374),(49,113,0.495849482711264),(49,114,0.819345683156835),(50,89,0.767021698660237),(50,105,0.603671376689963),(50,107,-1.04998931852168),(51,87,-3.22292245246742),(51,92,0.697248756370739),(51,97,0.391933957945494),(51,98,0.0154805139316996),(51,103,-1.81195257423627),(51,106,0.197996459852901),(51,112,0.395634327219458),(51,118,-2.64558854945524),(52,89,0.459006012146367),(52,97,2.5782876064333),(52,106,-1.07634968108158),(52,110,1.01386303292947),(52,111,-0.0184865871150853),(52,113,1.17282631916257),(52,114,-0.677350688192389),(52,118,-0.701956236457411),(53,88,0.151745658742027),(53,90,-4.31516464735862),(53,92,1.75964384899442),(53,94,1.38904995880001),(53,104,-0.888622699667348),(53,105,-2.45902890102847),(53,109,-3.79365672780541),(54,85,1.26225318155461),(54,91,0.455030976287118),(54,94,-1.35583056123539),(54,96,1.23378704184088),(54,111,-0.295533616138188),(54,112,-1.46212652974029),(54,113,-1.15789513840144),(54,118,1.70079653309732),(55,87,-1.32854701376385),(55,95,-1.71170690023499),(55,107,-3.0607394634846),(55,110,2.39417706839198),(55,117,-0.778481398968474),(56,107,-4.25638599810785),(56,111,0.000831629383220941),(56,113,-1.82396160771508),(56,114,1.04416791283914),(57,87,-1.39696951200903),(57,90,-0.278199102755821),(57,91,-1.8675420392468),(57,92,-2.00300607318339),(57,93,3.99149296548357),(57,94,-0.159260841700491),(57,95,0.0715659047212134),(57,96,0.248695333719901),(57,100,3.33992278817103),(57,102,1.90466017639698),(57,103,1.09397412030396),(57,115,0.0461210974456008),(58,86,-1.00764488662374),(58,87,-0.116397595141453),(58,89,2.22206793420209),(58,90,-2.61608478041932),(58,95,-2.48352000488296),(58,96,1.28948332163457),(58,101,-0.760315256202887),(58,103,0.574221015045625),(58,109,-0.281762138737144),(58,110,-1.1443678090762),(58,113,0.550180059205908),(58,114,3.20986053041169),(58,115,0.473273415326395),(58,118,0.202948088015381),(59,85,1.04464094973601),(59,86,0.503173924985504),(59,90,2.30618457594531),(59,91,1.8893246253853),(59,93,1.79798272652364),(59,97,1.99852748191778),(59,98,1.74077578051088),(59,100,2.42806024353771),(59,102,-0.085955381939146),(59,112,-1.56819360942412),(59,114,2.31206701864681),(60,85,-0.276245918149358),(60,87,1.09330271309549),(60,90,0.740737632374035),(60,91,1.63605914487136),(60,96,-2.97927030243843),(60,100,-2.21260719626453),(60,101,-2.05434583574938),(60,105,1.23699148533586),(60,107,-1.68186742759484),(60,109,-1.74137852107303),(60,110,0.369098483230079),(60,114,-1.62534714804529),(61,89,-1.87703329569384),(61,94,-2.9112521744438),(61,96,0.899288918729209),(61,98,1.6216772972808),(61,100,1.58410138248848),(61,102,1.19205298013245),(61,103,-1.76297799615467),(61,114,3.72865230262154),(61,115,2.4908444471572),(62,93,2.35483108005005),(62,95,0.396664326914274),(62,107,-1.35021515549181),(62,109,-2.06241035187841),(62,110,-0.555436872463149),(62,111,-2.55564287240211),(63,87,0.264954069643239),(63,90,1.78234962004456),(63,93,1.61915952024903),(63,97,2.21775719473861),(63,100,-2.99496444593646),(63,103,1.35035248878445),(63,104,0.638645588549455),(63,108,-0.546212652974029),(63,111,1.62724692526017),(63,114,0.148846400341807),(63,117,-1.15849024933622),(64,87,1.8366801965392),(64,94,2.20610675374615),(64,99,3.05565050202948),(64,110,-2.95317697683645),(64,112,1.43757438886685),(64,116,-1.20558793908506),(65,87,-2.14987640003662),(65,88,-2.45745719779046),(65,90,0.87435529648732),(65,97,-0.757538071840571),(65,99,1.97685171056246),(65,107,-0.998634296700949),(65,110,-0.508377330851161),(65,111,-0.389965514084292),(65,114,-0.375896481215857),(65,116,-0.46469771416364),(65,117,-2.3139896847438),(66,85,0.842234565263832),(66,102,-1.31295968504898),(66,105,2.47505111850337),(66,108,1.64702291940062),(66,111,2.52578051087985),(66,115,1.62579729606006),(66,118,0.581286049989319),(67,86,1.345835749382),(67,90,-0.319391460921049),(67,92,-1.31122775963622),(67,104,1.10563982055116),(67,109,-1.73633533738212),(67,111,2.3360164189581),(68,87,3.56315805536058),(68,88,-0.12656025879696),(68,90,-0.438467055269021),(68,93,-1.25306711020234),(68,95,2.28341013824885),(68,96,2.08630634479812),(68,97,0.195081942197943),(68,103,1.58055360576189),(68,107,-1.35406811731315),(68,112,-0.76494644001587),(68,114,0.405720694601276),(69,87,0.443601794488357),(69,88,-0.164464247566149),(69,92,0.0293740653706473),(69,94,2.1835993530076),(69,95,0.9213919492172),(69,97,-0.493865779595325),(69,108,-1.27617725150304),(69,113,0.842089602343821),(69,114,-0.369052705465865),(69,118,3.63130588702048),(70,85,1.78334147160253),(70,86,-1.72203741569262),(70,87,-3.20816675313578),(70,90,-0.460493789483322),(70,96,-0.585535752433851),(70,97,-0.783799249244667),(70,99,-0.0178533280434584),(70,105,-1.59925382244331),(70,107,-1.48878444776757),(70,109,0.379657887508774),(70,110,-0.252616962187567),(70,111,-0.686460463270974),(71,85,-0.741584521011994),(71,93,1.62684255500961),(71,96,-1.04372539445173),(71,100,1.52097384563738),(71,104,1.89325388348033),(71,106,1.40885647144993),(71,111,1.1273384807886),(71,113,-1.72708059938353),(72,94,0.6082644123661),(72,96,-0.828409680471206),(72,99,-0.667523728141118),(72,110,-2.22018341624195),(72,112,-1.13690603350932),(72,114,0.0418866542558061),(72,115,2.29979857783746),(72,116,-1.38814966277047),(73,88,2.00526444288461),(73,94,-1.5998718222602),(73,99,-1.62606433301798),(73,100,-1.1947233497116),(73,106,3.46022675252541),(73,110,1.74008911404767),(73,115,2.31620227668081),(74,90,0.618160039063692),(74,94,-2.02330088198492),(74,99,-2.17123935666982),(74,102,-0.0749458296456801),(74,106,0.86680196539201),(74,107,-1.20842616046632),(74,110,1.57223731192969),(74,113,-0.246024964140751),(74,116,-2.6083635975219),(75,85,-0.862483596301157),(75,86,1.75885799737541),(75,93,0.846881008331553),(75,98,-0.908307138279366),(75,103,-1.31929990539262),(75,105,1.17746513260292),(75,111,-0.0601748710592973),(75,117,1.31954405346843),(76,86,-1.90115817743461),(76,89,0.271248512222663),(76,92,-2.57058168279061),(76,94,-3.20398571733757),(76,99,-0.606707968382824),(76,101,-1.97157200842311),(76,103,-1.71365245521409),(76,106,0.0340586565752128),(76,110,-0.075258644367809),(76,113,-2.64324625385296),(77,88,-2.40208136234626),(77,91,-2.0019684438612),(77,93,-1.42460402233955),(77,98,-0.283875545518357),(77,101,1.05265968810083),(77,102,0.273163548692282),(77,103,0.351344340342418),(77,104,0.490050965910825),(77,105,-1.28569139683218),(77,109,-1.37143314920499),(78,88,-0.344119083223975),(78,93,-1.15488143559069),(78,94,1.42694631794183),(78,101,0.5195165868099),(78,104,1.45503097628712),(78,110,-1.60608233893857),(78,114,-0.0652714621417889),(78,116,0.8131275368511),(78,117,-1.61381878109073),(78,118,-0.883793145542772),(79,87,1.97463911862545),(79,92,2.65766624958037),(79,94,1.38386181218909),(79,107,1.39513840144047),(79,108,2.53849909970397),(79,114,2.39417706839198),(79,118,0.649334696493423),(80,87,1.94395275734733),(80,88,0.710547196874905),(80,91,-0.549089022492141),(80,99,1.08984649189734),(80,101,1.25693533127842),(80,107,-0.938383129367962),(80,113,-0.105555894650105),(81,85,2.28267006439405),(81,86,-0.559404278695029),(81,90,0.536812952055422),(81,93,1.61351359599597),(81,96,0.609859004486221),(81,97,0.528145695364238),(81,106,1.21609393597217),(81,107,1.75274666585284),(81,110,2.63659321878719),(81,115,-0.0581148716696677),(82,86,-0.173810541093173),(82,92,2.07083346049379),(82,110,0.911671803949095),(82,112,0.478942228461562),(83,87,0.622119815668203),(83,91,2.88084810937834),(83,93,-1.26781517990661),(83,101,-0.33905301065096),(83,103,-3.22328867458113),(83,105,-2.40910061952574),(83,108,0.825304422132023),(84,85,-1.87726218451491),(84,86,-1.1637623218482),(84,89,-1.8174840540788),(84,95,-1.28950621051668),(84,99,-0.446295052949614),(84,104,-1.33644367809076),(84,111,2.10615100558489),(84,113,0.562906277657399),(84,114,3.06464583269753),(10,119,0.316507461775567),(119,109,0.666623432111575),(58,120,-0.0980178228095341),(120,118,1.3124866481521),(95,104,-0.372493667409284)]
orgname='BHNEAT_11_9'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()