edge = [(0,85,-0.197820978423414),(0,89,-0.966765343180639),(0,90,-0.71401104770043),(0,93,-0.183263649403363),(0,98,0.810022278511917),(0,101,-0.444135868404187),(0,105,0.361888485366375),(0,108,-0.943205053865169),(0,113,-0.900387585070345),(0,114,-0.532242805261391),(0,117,0.768272957548753),(0,118,0.387096774193548),(1,86,0.365611743522446),(1,92,-0.464888454847865),(1,98,-0.514145329142125),(1,102,-0.0332956938383129),(1,104,0.472060304574725),(1,107,0.0536820581682791),(1,108,-0.630390331736198),(1,109,-0.698599200415052),(1,113,-0.422284615619373),(2,87,0.785637989440596),(2,88,-0.476577043977172),(2,100,0.408368175298318),(2,106,-0.54643391216773),(2,108,-0.545793023468734),(2,110,-0.244972075563829),(2,113,-0.93176061281167),(2,118,0.118533890804773),(3,89,-0.964995269631031),(3,92,-0.0893276772362438),(3,97,0.941892757957701),(3,99,0.798120059816279),(3,101,0.392376476332896),(3,103,-0.878902554399243),(3,105,-0.80092776268807),(3,108,-0.696340830713828),(3,109,0.493209631641591),(3,111,-0.577288125247963),(3,112,-0.970336008789331),(3,116,-0.0676900540177618),(4,90,0.471388897366253),(4,91,-0.246314889980773),(4,97,0.0458998382518998),(4,99,0.62617877742851),(4,101,-0.917233802301096),(4,108,0.675069429609058),(4,113,0.418073061311686),(4,118,-0.486800744651631),(5,86,0.279915768913846),(5,87,0.63365581225013),(5,89,-0.556871242408521),(5,92,0.732016968291269),(5,93,0.965544602801599),(5,99,0.752128666035951),(5,104,-0.922330393383587),(5,114,-0.60307626575518),(5,118,0.0592364268929106),(6,89,0.0245063631092257),(6,92,-0.499374370555742),(6,94,-0.316415906247139),(6,100,-0.673360393078402),(6,101,0.937650685140538),(6,103,0.958250679036836),(6,107,-0.505172887356181),(6,110,-0.919736320078127),(6,113,0.224921414838099),(7,85,0.439374980925932),(7,86,-0.285409100619526),(7,90,-0.507522812585833),(7,95,0.245521408734397),(7,99,0.963805047761467),(7,100,0.947752311777093),(7,104,0.965880306405835),(7,106,0.988036744285409),(7,108,0.468184453871273),(7,112,-0.273537400433363),(7,116,0.491500595110935),(8,92,0.699514755699332),(8,93,-0.464949491866817),(8,95,-0.476485488448744),(8,99,0.421369060335093),(8,106,-0.139316995757927),(8,107,0.327524643696402),(8,115,0.768883327738273),(8,116,0.330393383587146),(8,118,0.458082827234718),(9,85,-0.200476088747826),(9,87,0.553117465742973),(9,98,0.754020813623463),(9,101,-0.701528977324748),(9,103,-0.534592730491043),(9,105,-0.238013855403302),(9,106,-0.535935544907987),(9,113,0.939481795709098),(10,89,0.247077852717673),(10,96,-0.680349131748405),(10,106,0.800744651631214),(10,108,-0.0196539201025422),(10,109,0.506790368358409),(10,111,0.251045258949553),(10,112,-0.551561021759697),(10,114,0.946714682454909),(10,115,0.144322031311991),(10,116,0.526871547593616),(10,117,-0.892666402172918),(11,89,-0.885982848597675),(11,97,0.687124240852077),(11,105,-0.60658589434492),(11,112,-0.877254554887539),(11,115,0.792535172582171),(12,92,0.0196844386120182),(12,93,-0.0524613177892392),(12,94,0.979979857783746),(12,97,0.664998321481979),(12,98,-0.668813135166478),(12,99,0.456740012817774),(12,108,-0.194677571947386),(12,116,0.424512466811121),(13,86,0.71355327005829),(13,87,0.63289284951323),(13,90,0.757042146061586),(13,99,0.418530838953825),(13,102,0.320535905026399),(13,104,0.432172612689596),(13,113,-0.492202520828883),(13,116,-0.549943540757469),(13,118,0.904141361735893),(14,90,-0.184942167424543),(14,93,0.787408062990204),(14,95,-0.0306711020233772),(14,102,0.911435285500656),(14,104,0.767082735679189),(14,106,-0.189703054902799),(14,109,0.760887478255562),(14,110,-0.232581560716575),(14,111,-0.291390728476821),(15,85,0.628681295205542),(15,92,0.332712790307321),(15,99,-0.235908078249458),(15,101,0.424085207678457),(15,104,-0.263863032929472),(15,108,-0.659199804681539),(15,117,-0.427991576891385),(16,86,-0.326029236732078),(16,87,-0.957670827356792),(16,88,-0.228247932370983),(16,90,0.738853114413892),(16,91,0.219397564622944),(16,95,0.372844630268258),(16,97,0.981505783257546),(16,98,0.432203131199072),(16,99,0.578753013702811),(16,101,0.695303201391644),(16,108,0.818170720542009),(16,110,0.640491958372753),(17,89,-0.947752311777093),(17,96,0.981566820276498),(17,99,-0.724112674336985),(17,101,-0.525101474044008),(17,106,-0.380321665089877),(17,107,0.131626331369976),(17,109,0.525559251686148),(18,90,0.0614642780846583),(18,91,0.507309183019501),(18,93,-0.486495559556871),(18,99,0.268166142765587),(18,102,0.449324015015107),(18,103,-0.227637562181463),(18,104,-0.0508743552964873),(18,110,0.220831934568316),(18,111,-0.147801141392254),(18,116,0.0248725852229377),(18,117,0.340830713827937),(18,118,0.504623554185614),(19,87,-0.535538804284799),(19,89,-0.908597064119388),(19,93,0.856440931424909),(19,95,-0.346659749137852),(19,101,-0.195898312326426),(19,105,0.98071230201117),(19,115,-0.179357280190436),(20,88,0.959105197302164),(20,101,0.827204199346904),(20,103,-0.627002777184362),(20,104,0.695730460524308),(20,105,0.0429395428327281),(20,106,0.777611621448408),(20,111,-0.333506271553697),(20,116,0.943510238959929),(21,86,0.91705069124424),(21,87,0.205664235358745),(21,94,0.127811517685476),(21,96,0.585406048768578),(21,101,0.271858882412183),(21,102,-0.865108188116092),(21,105,-0.645619067964721),(21,107,-0.00634784997100742),(21,108,0.548631244850001),(22,86,-0.515243995483261),(22,88,0.821955015717032),(22,91,-0.536240730002747),(22,92,0.942930387279885),(22,93,-0.955992309335612),(22,98,-0.207800531022065),(22,106,0.297616504409925),(22,115,0.0338145084994049),(22,117,-0.688070314645833),(23,85,-0.911374248481704),(23,86,-0.67818231757561),(23,88,-0.0377819147312845),(23,90,-0.19815668202765),(23,97,-0.164433729056673),(23,104,0.428662984099857),(23,112,0.687398907437361),(23,114,-0.869197668385876),(23,115,-0.513962218085269),(23,116,-0.385265663624989),(24,89,0.735465559862056),(24,90,0.515121921445357),(24,91,-0.638325144199957),(24,101,-0.817468794824061),(24,107,0.0838038270210883),(24,108,-0.54155095065157),(24,110,0.788750877407147),(24,112,0.400646992400891),(25,90,0.537217322305979),(25,92,-0.730552079836421),(25,94,0.855800042725913),(25,98,-0.813715018158513),(25,105,-0.182317575609607),(25,108,-0.650990325632496),(25,109,0.0606402783288064),(25,115,-0.961729789117099),(26,85,0.391552476577044),(26,87,0.693624683370464),(26,89,-0.271706289864803),(26,95,0.823633533738212),(26,98,-0.451948606830042),(26,100,-0.731223487044893),(26,101,0.945738090151677),(26,102,0.924924466689047),(26,103,-0.819238868373669),(26,104,-0.403851435895871),(26,107,0.694479201635792),(26,109,0.43519394512772),(26,112,-0.996520889919736),(26,113,-0.0288705099642933),(26,117,0.475966673787652),(27,85,0.89089632862331),(27,87,0.0383312479018525),(27,94,0.136204107791375),(27,100,0.410992767113254),(27,102,0.54292428357799),(27,103,-0.679555650502029),(27,104,0.628437147129734),(27,105,-0.224402600177007),(27,108,0.329355754264962),(27,110,-0.0891445661793878),(27,114,0.565996276741844),(28,87,-0.311655018768883),(28,88,0.473036896877956),(28,97,0.249336222418897),(28,99,-0.577318643757439),(28,104,0.430066835535752),(28,113,-0.704245124668111),(28,114,0.95928830835902),(29,88,-0.89394817957091),(29,91,-0.0153813287759026),(29,102,0.10834070863979),(29,105,0.464064455092013),(29,116,-0.010742515335551),(30,95,-0.123020111697745),(30,96,0.598559526352733),(30,99,0.708578753013703),(30,101,-0.971129490035707),(30,104,-0.994659260841701),(30,109,0.0133976256599628),(30,110,0.216467787713248),(30,114,0.276985992004151),(30,118,-0.249366740928373),(31,85,-0.839533677175207),(31,92,0.594103823969237),(31,94,-0.424085207678457),(31,96,-0.70036927396466),(31,99,0.559282204657125),(31,103,0.659260841700491),(31,107,-0.0620441297647023),(31,108,-0.796166875209815),(31,109,-0.623432111575671),(31,111,-0.19525742362743),(31,112,0.7796563615833),(31,117,0.687063203833125),(32,86,-0.0487685781426435),(32,87,-0.329783013397626),(32,89,-0.514908291879025),(32,92,0.916531876583148),(32,98,-0.640766624958037),(32,99,-0.538743247779778),(32,104,-0.590166936246834),(32,106,-0.737693411053804),(32,109,-0.841273232215339),(32,116,-0.275185399945067),(32,118,0.372356334116642),(33,96,-0.054567094943083),(33,98,0.201086458937346),(33,108,0.223364970854823),(33,110,-0.558214056825465),(33,111,0.988769188512833),(33,114,0.477797784356212),(34,85,-0.177404095583972),(34,90,0.0842005676442762),(34,99,-0.0704672383800775),(34,104,0.358165227210303),(34,109,-0.54536576433607),(35,86,0.661946470534379),(35,87,-0.0552690206610309),(35,97,0.806054872280038),(35,98,0.478072450941496),(35,100,-0.938108462782678),(35,104,0.365337076937162),(35,107,0.0348826563310648),(35,109,0.623157444990387),(35,110,-0.27973265785699),(35,112,-0.155827509384442),(36,85,0.105380413220618),(36,87,0.503707998901334),(36,90,-0.184453871272927),(36,91,-0.00634784997100742),(36,104,-0.148228400524918),(36,107,0.522446363719596),(36,109,-0.315439313943907),(36,112,0.237403485213782),(36,115,0.211737418744469),(36,117,0.590472121341594),(36,118,-0.161748100222785),(37,85,0.851741080965606),(37,86,0.734458449049348),(37,87,-0.381206701864681),(37,91,0.323313089388714),(37,99,0.100619525742363),(37,105,0.642750328073977),(37,111,-0.209326456495865),(37,112,-0.421277504806665),(37,118,0.675618762779626),(38,87,0.0737327188940092),(38,90,0.534684286019471),(38,103,-0.632984405041658),(38,105,0.52455214087344),(38,106,-0.722647785882138),(38,111,-0.0910672322763756),(38,115,-0.852259895626698),(39,87,0.293252357554857),(39,89,-0.815637684255501),(39,91,-0.640369884334849),(39,94,-0.474440748313852),(39,97,-0.391766106143376),(39,98,0.707327494125187),(39,107,0.3511764885403),(39,108,-0.806695760979034),(39,109,-0.685903500473037),(39,111,0.103640858180486),(39,113,-0.803003021332438),(39,116,0.103030487990967),(39,118,-0.813440351573229),(40,88,-0.909329508346812),(40,92,0.614947965941343),(40,99,0.224616229743339),(40,104,0.125736259041108),(40,110,0.700552385021516),(40,116,-0.699667348246712),(40,118,-0.924680318613239),(41,88,-0.254097109897153),(41,93,-0.82280953398236),(41,96,-0.142368846705527),(41,97,-0.758873256630146),(41,100,0.301095614490188),(41,101,0.113193151646474),(41,104,-0.704641865291299),(41,105,-0.620441297647023),(41,106,-0.657002471999268),(41,107,0.248542741172521),(41,109,-0.953306680501724),(41,110,-0.900234992522965),(41,111,0.441236610003967),(41,112,-0.717612231818598),(42,85,0.0144657734916227),(42,86,-0.271950437940611),(42,87,-0.568742942594684),(42,99,0.419049653614917),(42,100,0.952299569689016),(42,103,0.102298043763543),(42,109,0.441450239570299),(42,113,-0.883938108462783),(43,85,0.773003326517533),(43,88,0.486159855952635),(43,89,0.264534440137944),(43,93,0.123386333811457),(43,97,0.0536820581682791),(43,98,-0.906674398022401),(43,101,0.988036744285409),(43,102,-0.101413006988739),(43,103,0.19632557145909),(43,105,0.52043214209418),(43,110,0.873043000579852),(43,112,0.832331308938871),(43,114,-0.306588946195868),(43,116,0.0676900540177618),(44,89,0.683309427167577),(44,98,0.103518784142582),(44,99,-0.697805719168676),(45,87,0.407483138523515),(45,88,0.501480147709586),(45,90,0.823206274605548),(45,91,-0.0198370311593982),(45,95,0.677755058442946),(45,98,0.170598467970824),(45,108,0.992828150273141),(45,109,0.0130619220557268),(45,112,-0.0804773094882046),(45,115,-0.360576189458907),(46,85,0.305001983703116),(46,89,0.887142551957762),(46,91,-0.292001098666341),(46,94,0.259346293527024),(46,97,-0.366008484145634),(46,100,0.324991607409894),(46,101,-0.49794000061037),(46,108,-0.889584032715842),(46,112,0.543443098239082),(47,86,0.111789300210578),(47,91,-0.0535599841303751),(47,92,0.0498367259743034),(47,94,0.438947721793268),(47,95,0.388775292214728),(47,100,-0.768791772209845),(47,101,0.881221961119419),(47,104,-0.985808893093661),(47,105,-0.532059694204535),(47,108,-0.818445387127293),(47,112,-0.0585039826654866),(47,114,-0.171636097293008),(47,118,-0.656788842432936),(48,86,0.277321695608386),(48,91,-0.606799523911252),(48,98,-0.385998107852413),(48,99,-0.745811334574419),(48,100,0.280465102084414),(48,103,0.342722861415448),(48,105,0.393169957579272),(48,106,0.403729361857967),(48,111,0.80825220496231),(48,115,0.941068758201849),(49,87,0.929654835657826),(49,89,0.235755485702078),(49,93,-0.0964690084536271),(49,94,-0.625934629352702),(49,95,0.926877651295511),(49,102,0.851619006927702),(49,113,0.671651356547746),(49,114,0.487350077822199),(50,89,0.358928189947203),(50,105,0.494369335001679),(50,107,0.011047700430311),(51,87,-0.422559282204657),(51,92,-0.715140232551042),(51,97,0.294564653462325),(51,98,-0.828028199102756),(51,103,-0.702475051118503),(51,106,0.097689748832667),(51,112,-0.148869289223914),(51,118,-0.981841486861782),(52,89,-0.163060396130253),(52,97,-0.944517349772637),(52,106,-0.224127933591723),(52,110,0.0131839960936308),(52,111,-0.021759697256386),(52,113,0.376506851405377),(52,114,0.0862453077791681),(52,118,-0.304177983947264),(53,88,-0.318887905514695),(53,90,-0.170659504989776),(53,92,0.454054383983886),(53,94,0.863460188604389),(53,104,0.984069338053529),(53,105,-0.357432782982879),(53,109,-0.578264717551195),(54,85,0.736442152165288),(54,91,-0.527542954802087),(54,94,0.443464461195715),(54,96,0.245338297677541),(54,111,-0.0404370250556963),(54,112,0.356730857264931),(54,113,0.259285256508072),(54,118,-0.406445509201331),(55,87,-0.624866481521043),(55,95,0.71752067629017),(55,107,0.431897946104312),(55,110,0.431287575914792),(55,117,0.356242561113315),(56,107,-0.260658589434492),(56,111,0.48246711630604),(56,113,0.987090670491653),(56,114,0.0285348063600574),(57,87,0.233283486434523),(57,90,0.549058503982666),(57,91,-0.542435987426374),(57,92,-0.898251289407025),(57,93,-0.295236060670797),(57,94,-0.734092226935636),(57,95,-0.496230964079714),(57,96,0.844508194219794),(57,100,0.960448011719108),(57,102,-0.0771813104647969),(57,103,0.93160802026429),(57,115,-0.154271065401166),(58,86,-0.663380840479751),(58,87,-0.152775658436842),(58,89,0.994750816370129),(58,90,0.932615131076998),(58,95,-0.450483718375195),(58,96,0.292733542893765),(58,101,0.898861659596545),(58,103,-0.137577440717795),(58,109,0.296517838068789),(58,110,0.43397320474868),(58,113,0.553117465742973),(58,114,-0.240638447218238),(58,115,-0.0459913937803278),(58,118,0.591204565569018),(59,85,0.816553239539781),(59,86,-0.511734366893521),(59,90,0.979613635670034),(59,91,0.954588457899716),(59,93,-0.376781517990661),(59,97,-0.929319132053591),(59,98,-0.00552385021515549),(59,100,-0.612262337107456),(59,102,0.254280220954009),(59,112,-0.715720084231086),(59,114,-0.476027710806604),(60,85,0.898251289407025),(60,87,0.930875576036866),(60,90,0.497146519363994),(60,91,-0.628711813715018),(60,96,0.364757225257118),(60,100,-0.10391552476577),(60,101,-0.0889309366130558),(60,105,-0.652882473220008),(60,107,0.380199591051973),(60,109,-0.06518753624073),(60,110,0.905667287209693),(60,114,-0.381084627826777),(61,89,0.35163426618244),(61,94,-0.704672383800775),(61,96,-0.996215704824976),(61,98,-0.605548265022736),(61,100,-0.572435682241279),(61,102,-0.139469588305307),(61,103,0.704123050630207),(61,114,0.0193487350077822),(61,115,0.694998016296884),(62,93,-0.967894528031251),(62,95,-0.952635273293252),(62,107,0.783074434644612),(62,109,0.828424939725944),(62,110,0.148075807977538),(62,111,0.154820398571734),(63,87,-0.716116824854274),(63,90,-0.261085848567156),(63,93,0.50221259193701),(63,97,0.748802148503067),(63,100,-0.112979522080142),(63,103,0.80840479750969),(63,104,-0.845210119937742),(63,108,0.357860042115543),(63,111,0.184972685934019),(63,114,-0.78530228583636),(63,117,0.738670003357036),(64,87,0.575670644245735),(64,94,0.126316110721152),(64,99,0.60414441358684),(64,110,0.869808038575396),(64,112,0.376293221839045),(64,116,0.805719168675802),(65,87,-0.997131260109256),(65,88,0.0553605761894589),(65,90,-0.149540696432386),(65,97,-0.0826136051515244),(65,99,-0.86413159581286),(65,107,-0.870571001312296),(65,110,0.361003448591571),(65,111,0.748924222540971),(65,114,0.745262001403851),(65,116,0.902890102847377),(65,117,0.837214270455031),(66,85,-0.0949736014893033),(66,102,-0.918515579699087),(66,105,0.631000701925718),(66,108,-0.675801873836482),(66,111,0.101321451460311),(66,115,0.122470778527177),(66,118,-0.928861354411451),(67,86,0.78072450941496),(67,90,0.254921109653005),(67,92,0.904019287697989),(67,104,0.19434186834315),(67,109,0.0223090304269539),(67,111,0.990661336100345),(68,87,0.590746787926878),(68,88,-0.103335673085726),(68,90,0.0226142155217139),(68,93,0.75762199774163),(68,95,-0.889004181035798),(68,96,0.988586077455977),(68,97,-0.565233314004944),(68,103,-0.710654011658071),(68,107,0.106143375957518),(68,112,-0.843592638935514),(68,114,-0.630817590868862),(69,87,0.0266121402630696),(69,88,0.998535111545152),(69,92,0.951506088442641),(69,94,-0.0569475386822108),(69,95,0.846003601184118),(69,97,0.24390392773217),(69,108,-0.139103366191595),(69,113,0.823603015228736),(69,114,-0.839106418042543),(69,118,-0.53926206244087),(70,85,0.655659657582324),(70,86,-0.962920010986663),(70,87,0.397534104434339),(70,90,0.323374126407666),(70,96,-0.676747947630238),(70,97,-0.0946073793755913),(70,99,-0.450666829432051),(70,105,0.124515518662069),(70,107,0.433332316049684),(70,109,0.586260567033906),(70,110,0.907010101626637),(70,111,0.533097323526719),(71,85,0.965575121311075),(71,93,0.338023010956145),(71,96,0.720542008728294),(71,100,-0.799279763176367),(71,104,0.501632740256966),(71,106,-0.193182164983062),(71,111,0.582201605273598),(71,113,-0.0556657612842189),(72,94,0.461836603900265),(72,96,0.973204748680074),(72,99,-0.236335337382122),(72,110,0.165044099246193),(72,112,0.087343974120304),(72,114,-0.137730033265175),(72,115,0.421948912015137),(72,116,-0.192907498397778),(73,88,-0.694204535050508),(73,94,0.0700399792474136),(73,99,-0.439283425397504),(73,100,0.505172887356181),(73,106,0.552110354930265),(73,110,-0.986877040925321),(73,115,0.341074861903745),(74,90,-0.490768150883511),(74,94,0.388500625629444),(74,99,-0.47376934110538),(74,102,0.749076815088351),(74,106,-0.909451582384716),(74,107,0.517288735618152),(74,110,0.645313882869961),(74,113,0.295388653218177),(74,116,-0.86428418836024),(75,85,0.592883083590197),(75,86,0.93008209479049),(75,93,0.688924832911161),(75,98,-0.399395733512375),(75,103,0.989013336588641),(75,105,-0.480849635303812),(75,111,-0.406781212805567),(75,117,0.722647785882138),(76,86,0.802728354747154),(76,89,0.209906308175909),(76,92,0.010589922788171),(76,94,-0.0531632435071871),(76,99,0.483169042023988),(76,101,0.449049348429823),(76,103,0.0880764183477279),(76,106,0.0942411572618793),(76,110,0.0856654560991241),(76,113,-0.234717856379894),(77,88,0.819360942411573),(77,91,-0.130619220557268),(77,93,0.15042573320719),(77,98,-0.21835993530076),(77,101,-0.168248542741173),(77,102,-0.751548814355907),(77,103,0.206671346171453),(77,104,-0.201361125522629),(77,105,-0.698934904019288),(77,109,-0.19815668202765),(78,88,-0.901272621845149),(78,93,-0.295236060670797),(78,94,-0.0171208838160344),(78,101,-0.336222418897061),(78,104,-0.752891628772851),(78,110,-0.706961272011475),(78,114,0.836634418774987),(78,116,-0.253822443311869),(78,117,0.530808435316019),(78,118,0.14889980773339),(79,87,0.670644245735038),(79,92,0.483993041779839),(79,94,0.258796960356456),(79,107,-0.874172185430464),(79,108,0.148228400524918),(79,114,-0.852381969664602),(79,118,-0.84408093508713),(80,87,0.336527603991821),(80,88,-0.95577867976928),(80,91,-0.949827570421461),(80,99,0.33112582781457),(80,101,-0.4759056367687),(80,107,0.403118991668447),(80,113,-0.230140079958495),(81,85,0.780755027924436),(81,86,-0.62816248054445),(81,90,-0.615405743583483),(81,93,0.732718894009217),(81,96,0.773827326273385),(81,97,-0.0605487228003784),(81,106,-0.349070711386456),(81,107,0.43015839106418),(81,110,-0.54033021027253),(81,115,0.131717886898404),(82,86,-0.43351542710654),(82,92,0.20090334788049),(82,110,0.713187047944578),(82,112,-0.0769066438795129),(83,87,-0.837458418530839),(83,91,0.427014984588153),(83,93,-0.707113864558855),(83,101,-0.418103579821162),(83,103,0.360148930326243),(83,105,-0.216711935789056),(83,108,0.72270882290109),(84,85,-0.999145481734672),(84,86,0.948118533890805),(84,89,-0.252052369762261),(84,95,0.375102999969481),(84,99,0.645954771568957),(84,104,-0.636249885555589),(84,111,0.261604663228248),(84,113,-0.948149052400281),(84,114,0.451704458754234)]
orgname='BHNEAT_1_1'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()