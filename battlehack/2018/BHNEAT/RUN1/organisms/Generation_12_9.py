edge = [(0,85,1.6931974242378),(0,89,-1.45879238258003),(0,90,-0.635395367290261),(0,93,-0.688604388561663),(0,98,0.870715964232307),(0,101,-1.80691702017273),(0,105,1.80776390881069),(0,108,2.8663365581225),(0,113,1.83991515854366),(0,114,1.97721793267617),(0,117,-0.15934476760155),(0,118,-2.17777794732505),(1,86,-1.02916043580432),(1,92,2.78543198950163),(1,98,2.35694448683126),(1,102,-3.90279091769158),(1,104,-0.891987365337077),(1,107,1.14983825189978),(1,108,-2.39997558519242),(1,109,0.463103122043519),(1,113,-0.0656987212744529),(2,87,0.532311471907712),(2,88,1.28589739677114),(2,100,0.663853877376629),(2,106,2.24509414960173),(2,108,0.119029816583758),(2,110,1.15192114017151),(2,113,1.1621372112186),(2,118,1.5019684438612),(3,89,3.35711996826075),(3,92,-0.18328653828547),(3,97,0.348254341257973),(3,99,2.06643116550188),(3,101,-1.42539750358592),(3,103,0.254081850642415),(3,105,3.71394238105411),(3,108,-0.755638294625691),(3,109,-1.48139896847438),(3,111,1.11807611316263),(3,112,-2.0634479812006),(3,116,-0.850711081270791),(4,90,2.21592608417005),(4,91,0.364589373455001),(4,97,0.153340250862148),(4,99,0.20860164189581),(4,101,-0.854243598742637),(4,108,-0.253532517471847),(4,113,-1.98744163335063),(4,118,0.513840144047365),(5,86,-1.21791741691336),(5,87,-1.77643665883358),(5,89,0.638973662526322),(5,92,0.311540574358348),(5,93,-2.00811792352062),(5,99,2.02101199377422),(5,104,2.06909390545366),(5,114,1.64445173497726),(5,118,-1.80487228003784),(6,89,-1.73164311655019),(6,92,-2.45883816034425),(6,94,-1.29726554155095),(6,100,0.514145329142125),(6,101,1.99799340800195),(6,103,-2.06740775780511),(6,107,0.924512466811121),(6,110,1.43070009460738),(6,113,-0.795190282906583),(7,85,2.54421369060335),(7,86,-1.86660359508042),(7,90,-0.159436323129978),(7,95,0.657391582995087),(7,99,0.622013000885037),(7,100,3.68147068697165),(7,104,-0.332674642170476),(7,106,1.87650685140538),(7,108,-0.179807428205206),(7,112,0.313173314615314),(7,116,0.1643040253914),(8,92,-0.605098117007965),(8,93,-0.682035279396954),(8,95,1.5612582781457),(8,99,1.3449507126072),(8,106,-1.0956144901883),(8,107,0.970793786431471),(8,115,1.59765160069582),(8,116,-1.25344096194342),(8,118,-0.123828852198859),(9,85,-0.916371654408399),(9,87,2.49969481490524),(9,98,-1.3459349345378),(9,101,0.235450300607318),(9,103,3.92567217017121),(9,105,-0.731986449781793),(9,106,0.706930753501999),(9,113,1.70722830896939),(10,89,-0.810068056276131),(10,96,0.393848994415113),(10,106,4.45902890102847),(10,108,1.30840479750969),(10,111,-0.0576876125370036),(10,112,-0.675222022156438),(10,114,0.818948942533647),(10,115,-1.27026429029206),(10,116,-1.17042298654134),(10,117,-0.728904080324717),(11,89,-3.02429273354289),(11,97,1.80934324167608),(11,105,-1.02793206579791),(11,112,1.77528458510086),(11,115,-1.00104525894955),(12,92,2.28077028717917),(12,93,-1.47443311868648),(12,94,2.38120670186468),(12,97,-1.72869045075838),(12,98,2.91712698751793),(12,99,2.04748680074465),(12,108,1.93904690694906),(12,116,-2.65425580614643),(13,86,0.847087008270516),(13,87,1.01985229041414),(13,90,-0.129253517258217),(13,99,0.802995391705069),(13,102,2.20976897488327),(13,104,-1.71231727042451),(13,113,-2.286080507828),(13,116,-1.96366771446883),(13,118,1.44474623859371),(14,90,-3.6645252845851),(14,93,2.48687704092532),(14,95,-0.970030823694571),(14,102,0.33135471663564),(14,104,-2.10570085757012),(14,106,-1.43223364970855),(14,109,-0.108996856593524),(14,110,2.26094851527451),(14,111,-0.595789971617786),(15,85,2.16902676473281),(15,92,1.0505996887112),(15,99,-0.322702719199194),(15,101,-1.34578997161779),(15,104,1.41903439436018),(15,108,1.0268257698294),(15,117,-0.783196508682516),(16,86,1.16252632221442),(16,87,-2.85486159855953),(16,88,0.945631275368511),(16,90,1.00830103457747),(16,91,-1.46557512131108),(16,95,-1.05564287240211),(16,97,-0.621204260383923),(16,98,-0.353320413830989),(16,99,-1.02313303018281),(16,101,-1.07039094210639),(16,108,4.59878078554643),(16,110,-0.40713980529191),(17,89,-0.665692617572558),(17,96,1.34899441511277),(17,99,2.46848963896603),(17,101,2.04364909817805),(17,106,-2.03299050874355),(17,107,0.0781350138859219),(17,109,-4.24472792748802),(18,90,-1.52172917874691),(18,91,0.550897244178594),(18,93,0.192770165105136),(18,99,-1.75912503433332),(18,102,2.34923856318857),(18,103,1.84820093386639),(18,104,1.86239204077273),(18,110,-0.589037751396222),(18,111,0.363841669972839),(18,116,2.13282418286691),(18,117,-0.963278603473006),(18,118,-0.487395855586413),(19,87,0.386288033692434),(19,89,-2.04192480239265),(19,93,-1.91415906247139),(19,95,-0.197302163762322),(19,101,2.21116519669179),(19,105,-3.21067690054018),(19,115,-0.431501205481124),(20,88,-3.61280404065065),(20,101,2.14053773613697),(20,103,0.877735221411786),(20,104,0.628711813715018),(20,105,0.708151493881039),(20,106,-0.380703146458327),(20,111,0.10635700552385),(20,116,1.37851344340342),(21,86,2.47314371166112),(21,87,0.475554673909726),(21,94,1.31924649800104),(21,96,1.72490615558336),(21,101,2.67806787316507),(21,102,0.0766777550584429),(21,105,-0.465277565843684),(21,107,1.67070528275399),(21,108,1.38604388561663),(22,86,-1.65570543534654),(22,88,-1.6530579546495),(22,91,-1.28576769310587),(22,92,-0.31778160954619),(22,93,-0.0747703482161931),(22,98,0.288781395916623),(22,106,0.268944364757225),(22,115,2.49117252113407),(22,117,-1.95394756920072),(23,85,-1.43660542619098),(23,86,0.294198431348613),(23,88,0.27874080629902),(23,90,0.739875484481338),(23,97,-1.2866451002533),(23,104,3.81525620288705),(23,112,-1.58272804956206),(23,114,-1.63497573778497),(23,115,-2.18807031464583),(23,116,0.56305124057741),(24,89,-4.72877437665944),(24,90,-4.0582064271981),(24,91,0.56549272133549),(24,101,2.73615985595264),(24,107,-0.453115939817499),(24,108,3.35859248634297),(24,110,-2.30339213232826),(24,112,-2.30871761223182),(25,90,-2.00972014526811),(25,92,-0.308168279061251),(25,94,-1.93556016724143),(25,98,-1.28727835932493),(25,105,-0.462324900051881),(25,108,0.189977721488082),(25,109,-0.352259895626698),(25,115,1.40308847315897),(26,85,0.571176793725394),(26,87,-1.63289284951323),(26,89,-1.15112002929777),(26,95,0.192876979888302),(26,98,-0.18824579607532),(26,100,-0.10650959807123),(26,101,-0.844286935026093),(26,102,1.43462935270241),(26,103,-1.24144718771935),(26,104,3.69544053468429),(26,107,-1.0345774712363),(26,109,2.04336680196539),(26,112,-0.726340525528733),(26,113,-1.2298425244911),(26,117,-3.30399487289041),(27,85,-0.615176854762413),(27,87,-1.58986175115207),(27,94,0.87458418530839),(27,100,-1.63380840479751),(27,102,2.51056703390606),(27,103,2.18695638904996),(27,104,-0.431310464796899),(27,105,-0.448866237372967),(27,108,-2.19641712698752),(27,110,2.01561784722434),(27,114,0.873203222754601),(28,87,-0.486373485518967),(28,88,2.23900570696127),(28,97,1.53614917447432),(28,99,-1.20503860591449),(28,104,-2.94143498031556),(28,113,-0.562074648274178),(28,114,-2.48672444837794),(29,88,0.179151280251473),(29,91,0.359981078524125),(29,102,-1.50732444227424),(29,105,-1.76717429120762),(29,116,-0.194280831324198),(30,95,1.89144566179388),(30,96,0.302392651142918),(30,99,1.21546830652791),(30,101,-1.61305581835383),(30,104,-1.80001983703116),(30,109,-2.24407177953429),(30,110,-0.00786614581743816),(30,114,-2.44923245948668),(30,118,-1.90009002960295),(31,85,0.83462782677694),(31,92,2.49669637134922),(31,94,-1.2747352519303),(31,96,2.1956083864864),(31,99,1.61435285500656),(31,103,-2.19605090487381),(31,107,-0.769219031342509),(31,108,3.46684163945433),(31,109,0.700857570116276),(31,111,-0.0505539109469895),(31,112,-0.16224402600177),(31,117,0.364001892147587),(32,86,-4.4922482985931),(32,87,1.75575273903623),(32,89,0.706740012817774),(32,92,-2.87961973937193),(32,98,2.22232734153264),(32,99,-1.35470137638478),(32,104,2.93171483504746),(32,106,1.19565416425062),(32,109,2.09099093600269),(32,116,0.406476027710806),(32,118,-2.19891964476455),(33,96,-1.45557267983032),(33,98,-0.762207403790399),(33,108,2.24506363109226),(33,110,-1.82328257087924),(33,111,-1.91342661824396),(33,114,-0.300096133304849),(34,85,-1.42305520798364),(34,90,1.2548982207709),(34,99,-0.478911709952086),(34,104,1.80961027863399),(34,109,-0.25282296212653),(35,86,0.406315805536058),(35,87,-0.574312570574053),(35,97,-1.7856379894406),(35,98,1.41182439649648),(35,100,0.669125949888608),(35,104,-1.86070589312418),(35,107,-2.85972167119358),(35,109,-0.0898922696615494),(35,110,-0.19350260933256),(35,112,-0.258339182714316),(36,85,-1.52254554887539),(36,87,-2.73406933805353),(36,90,-1.20765556810205),(36,91,2.52559739982299),(36,104,-1.31355479598376),(36,107,1.47653889584033),(36,109,-0.38228247932371),(36,112,-0.527237769707327),(36,115,-1.95341349528489),(36,117,-3.79296243171484),(36,118,3.28727835932493),(37,85,1.46047090060121),(37,86,-2.59159367656484),(37,87,-0.232627338480789),(37,91,0.570581682790612),(37,99,0.511795403912473),(37,105,-2.018753624073),(37,111,1.57389294106876),(37,112,-1.91206854457228),(37,118,0.830607013153478),(38,87,-0.389812921536912),(38,90,2.8644901882992),(38,103,2.4125568407239),(38,105,2.90891750846889),(38,106,-0.259369182409131),(38,111,0.164426099429304),(38,115,-0.797013763847773),(39,87,3.06830805383465),(39,89,0.117648854029969),(39,91,-4.08246101260414),(39,94,-0.476157414471877),(39,97,-0.601062044129765),(39,98,0.209509567552721),(39,107,1.67920468764306),(39,108,5.33464308603168),(39,109,1.0987655262917),(39,111,-0.914044618060854),(39,113,-0.30787072359386),(39,116,-1.05431531723991),(39,118,-1.79745628223518),(40,88,-0.747505111850338),(40,92,-0.32204657124546),(40,99,-1.18808557390057),(40,104,-1.01850947599719),(40,110,-0.584871974852748),(40,116,-0.330729087191381),(40,118,-0.465025788140507),(41,88,-1.46282845545824),(41,93,2.67221594897305),(41,96,1.24043244727927),(41,97,-0.91856898709067),(41,100,1.52718436231574),(41,101,-0.133053071687979),(41,104,2.12565996276742),(41,105,-0.10811181981872),(41,106,1.6923352763451),(41,107,0.953398236030152),(41,109,2.3132267220069),(41,110,1.07226783043916),(41,111,-1.1601687673574),(41,112,3.30066072573016),(42,85,1.1664937284463),(42,86,0.782998138370922),(42,87,0.808420056764428),(42,99,1.22413556321909),(42,100,-1.45213934751427),(42,103,-3.27558977019562),(42,109,-0.892979216895047),(42,113,-0.382213812677389),(43,85,1.3977172154912),(43,88,-2.43617816705832),(43,89,-1.43561357463301),(43,93,-0.727950376903592),(43,97,-2.78013702810755),(43,98,0.650990325632496),(43,101,2.8036515396588),(43,102,2.09820093386639),(43,103,-0.227668080690939),(43,105,-0.517670216986602),(43,110,-2.63888210699789),(43,112,0.46362956633198),(43,114,-1.31514175847652),(43,116,-1.17282631916257),(44,89,2.47314371166112),(44,98,2.83803064058351),(44,99,0.0857722708822901),(45,87,-2.12041077913755),(45,88,-2.05567339091159),(45,90,1.59692678609577),(45,91,-1.25608844264046),(45,95,0.674298837244789),(45,98,-1.56559953611866),(45,108,0.886951811273538),(45,109,3.59794915616321),(45,112,1.7810831019013),(45,115,-0.950804162724693),(46,85,-0.638813440351573),(46,89,-0.618434705648976),(46,91,2.47788933988464),(46,94,-1.14843440046388),(46,97,1.01774651326029),(46,100,1.97589800714133),(46,101,0.40919217505417),(46,108,-1.75237281411176),(46,112,1.44837794122135),(47,86,1.73184911648915),(47,91,0.793389690847499),(47,92,-0.682630390331736),(47,94,-0.760834070863979),(47,95,-1.79746391186254),(47,100,1.40398113956114),(47,101,1.32480849635304),(47,104,-1.98377941221351),(47,105,0.559083834345531),(47,108,-0.281838435010834),(47,112,0.647213660084842),(47,114,1.99400311288797),(47,118,-1.09452345347453),(48,86,2.28323465681936),(48,91,-3.03482161931211),(48,98,-0.22788933988464),(48,99,1.07658619953001),(48,100,-1.80524613177892),(48,103,-1.88924832911161),(48,105,-1.82662434766686),(48,106,-3.13809625537889),(48,111,-1.9547639393292),(48,115,0.280808435316019),(49,87,1.0741294595172),(49,89,0.24108096560564),(49,93,-0.54422132023072),(49,94,2.01631977294229),(49,95,1.92265083773309),(49,102,-2.13475447859127),(49,113,-1.99142429883724),(49,114,1.15688802758873),(50,89,1.88895840327158),(50,105,-0.612048707541124),(50,107,2.03767509994812),(51,87,-0.826837977233192),(51,92,2.06089205603198),(51,97,0.0590533158360546),(51,98,0.537957396160772),(51,103,-2.64213232825709),(51,106,0.896412549211097),(51,112,-1.51150547807245),(51,118,-1.29277932065798),(52,89,-2.37860499893185),(52,97,-0.277710806604206),(52,106,-0.609645374919889),(52,110,0.217101046784875),(52,111,2.76396221808527),(52,113,0.0373241370891444),(52,114,-1.20478682821131),(52,118,2.19165623950926),(53,88,1.61793115024262),(53,90,-3.07359538560137),(53,92,0.304979094821009),(53,94,-1.38355662709433),(53,104,-1.66912594988861),(53,105,1.69639423810541),(53,109,-0.165692617572558),(54,85,-0.802552873317667),(54,91,-1.31183812982574),(54,94,-0.408307138279366),(54,96,-0.135120700704978),(54,111,-0.670834986419263),(54,112,1.26477858821375),(54,113,2.60755485702078),(54,118,-1.20513016144292),(55,87,1.44451734977264),(55,95,1.6338847010712),(55,107,-2.07758568071535),(55,110,-0.587252418591876),(55,117,-1.48368785668508),(56,107,-2.11383404034547),(56,111,-0.0489135410626545),(56,113,-3.29556413464766),(56,114,-1.06115146336253),(57,87,-1.39696951200903),(57,90,0.745620593890195),(57,91,-0.991431928464614),(57,92,0.0950193792535173),(57,93,4.4997787408063),(57,94,0.033310953093051),(57,95,-0.706785790581988),(57,96,-0.841349528489029),(57,100,0.208265938291574),(57,102,-0.708716086306345),(57,103,1.77514725180822),(57,115,-0.386478774376659),(58,86,0.20471053193762),(58,87,-0.116397595141453),(58,89,0.938993499557482),(58,90,0.894383068330943),(58,95,-0.299745170445875),(58,96,1.28948332163457),(58,101,0.0497222815637685),(58,103,1.28621784112064),(58,109,-0.395596179082614),(58,110,3.42267372661519),(58,113,-0.532387768181402),(58,114,-0.663396099734489),(58,115,1.88650929288614),(58,118,1.0026093325602),(59,85,1.31847590563677),(59,86,-0.952330088198492),(59,90,1.12168492690817),(59,91,-1.00177007354961),(59,93,1.58503982665487),(59,97,-2.40760521256142),(59,98,0.55184331797235),(59,100,2.1910077211829),(59,102,-2.03074739829707),(59,112,1.9388409070101),(59,114,0.45188756981109),(60,85,2.18270668660543),(60,87,-0.990577410199286),(60,90,-1.28658406323435),(60,91,0.65309610278634),(60,96,1.94029053621021),(60,100,-1.17574083681753),(60,101,0.201574755088961),(60,105,-2.27317117831965),(60,107,-0.77775658436842),(60,109,-0.639660328989532),(60,110,1.88291573839534),(60,114,2.30193487350078),(61,89,0.822099978637043),(61,94,-1.91436506241035),(61,96,0.12633136997589),(61,98,0.102504043702506),(61,100,0.731032746360668),(61,102,-0.562265388958403),(61,103,-0.794701986754967),(61,114,0.57052064577166),(61,115,1.67714468825343),(62,93,-1.56710257271035),(62,95,0.420926541947691),(62,107,0.556657612842189),(62,109,-2.06241035187841),(62,110,-2.27729117709891),(62,111,0.377132480849635),(63,87,1.01181829279458),(63,90,0.937223426007874),(63,93,-1.8420209356975),(63,97,1.78958250679037),(63,100,0.663670766319773),(63,103,1.81096835230567),(63,104,-1.42341380046999),(63,108,-2.4024170659505),(63,111,1.97907193212684),(63,114,0.688337351603748),(63,117,-0.497909482100894),(64,87,1.81680501724296),(64,94,-2.49452955717643),(64,99,0.911572618793298),(64,110,-0.0239570299386578),(64,112,-1.63203070162053),(64,116,0.898052919095431),(65,87,1.186109500412),(65,88,-2.07055879390851),(65,90,0.349894711142308),(65,97,2.07465590380566),(65,99,-1.74739829706717),(65,107,-1.51760155034028),(65,110,-4.55803094576861),(65,111,-0.000320444349497961),(65,114,-4.13829462569048),(65,116,1.46359141819514),(65,117,-1.91969054231391),(66,85,1.02533036286508),(66,102,1.36389507736442),(66,105,-0.405865657521287),(66,108,1.42873928037355),(66,111,0.194853053376873),(66,115,0.624240852076784),(66,118,-0.865749076815088),(67,86,2.06740012817774),(67,90,-0.86672566911832),(67,92,0.636478774376659),(67,104,-0.075685903500473),(67,109,-0.106341746269112),(67,111,-0.0784325693533128),(68,87,1.08780175176244),(68,88,-1.53125095370342),(68,90,-1.69064149906919),(68,93,-2.1842631305887),(68,95,-1.4254280220954),(68,96,0.769203772087771),(68,97,1.69468520157475),(68,103,1.92899868770409),(68,107,-0.0864818262276071),(68,112,-0.903729361857967),(68,114,0.314088869899594),(69,87,3.6454512161626),(69,88,-2.14625995666372),(69,92,-0.0444044312875759),(69,94,0.0714056825464644),(69,95,2.31940672017579),(69,97,-1.8945661793878),(69,108,-1.27617725150304),(69,113,-1.15855128635517),(69,114,0.23071230201117),(69,118,1.72086245307779),(70,85,1.53255561998352),(70,86,1.05140842921232),(70,87,-2.09172338023011),(70,90,2.17806024353771),(70,96,-0.215880306405835),(70,97,-0.455336161381878),(70,99,4.24565111239967),(70,105,1.02816095461898),(70,107,-1.58438367870113),(70,109,0.603358561967833),(70,110,-2.94209875789666),(70,111,0.665433210242012),(71,85,1.59094515823847),(71,93,0.402821436201056),(71,96,2.82235938596759),(71,100,0.151455732902005),(71,104,0.92184972685934),(71,106,0.75769829401532),(71,111,2.65845210119938),(71,113,-0.0928144169438766),(72,94,2.22338023010956),(72,96,2.14600054933317),(72,99,-0.727416302987762),(72,110,0.0847270119327375),(72,112,-0.781517990661336),(72,114,0.0675222022156438),(72,115,1.480605487228),(72,116,-0.52691732535783),(73,88,2.64592425305948),(73,94,-0.961500900296029),(73,99,0.320291756950591),(73,100,-1.84301278725547),(73,106,0.659772026734214),(73,110,0.446790978728599),(73,115,-3.84527115695669),(74,90,0.770676290169988),(74,94,0.756904812768944),(74,99,-2.12405011139256),(74,102,-0.718253120517594),(74,106,1.85621204260384),(74,107,-0.434553056428724),(74,110,-0.297730948820459),(74,113,-2.68483535264138),(74,116,-3.45761741996521),(75,85,-1.97579882198553),(75,86,-1.08165227210303),(75,93,-0.708113345744194),(75,98,1.40270699179052),(75,103,1.23784600360118),(75,105,-1.56079287087619),(75,111,-1.30006561479537),(75,117,-0.548081911679434),(76,86,-1.2546998504593),(76,89,2.25212866603595),(76,92,-1.29848628192999),(76,94,-2.42652668843654),(76,99,-0.843180639057588),(76,101,-0.531060213019196),(76,103,1.52871028778954),(76,106,-1.93685720389416),(76,110,1.88726462599567),(76,113,1.26915036469619),(77,88,0.572908719138157),(77,91,0.335520493179113),(77,93,1.11915189062166),(77,98,2.18537705618458),(77,101,-2.95162816248054),(77,102,-2.69392223883785),(77,103,0.43542283394879),(77,104,0.353633228553117),(77,105,1.34591967528306),(77,109,-2.26135288552507),(78,88,-0.344119083223975),(78,93,-0.285332804345836),(78,94,2.77296517838069),(78,101,1.24646748252815),(78,104,2.03404339732047),(78,110,1.24503311258278),(78,114,1.92285683767205),(78,116,0.948248237556078),(78,117,0.86870937223426),(78,118,-0.258262886440626),(79,87,2.24327829828791),(79,92,1.25022888882107),(79,94,2.78810235908078),(79,107,-0.4082003234962),(79,108,-0.341914120914334),(79,114,2.92708365123447),(79,118,-1.19726401562548),(80,87,0.043244727927488),(80,88,-2.37891781365398),(80,91,1.98165837580493),(80,99,-1.28609576708274),(80,101,1.68713950010681),(80,107,1.05073702200385),(80,113,-0.561120944853053),(81,85,-1.72746208075198),(81,86,1.37302774132511),(81,90,-0.551705984679708),(81,93,-2.27570421460616),(81,96,0.693250831629383),(81,97,-3.79487746818445),(81,106,0.377521591845454),(81,107,0.790116580706198),(81,110,2.43425550096133),(81,115,0.984168523209326),(82,86,-2.20313119907224),(82,92,0.863460188604389),(82,110,-2.19938505203406),(82,112,-2.11836603900266),(83,87,-1.5980254524369),(83,91,0.2461851863155),(83,93,2.33452101199377),(83,101,-0.77623065889462),(83,103,1.9174779503769),(83,105,-0.110065004425184),(83,108,-2.29765465254677),(84,85,-0.566949980162969),(84,86,-1.71842097231971),(84,89,-1.9731742301706),(84,95,-1.67447431867428),(84,99,-0.0202185125278481),(84,104,0.617580187383648),(84,111,3.08922849208045),(84,113,-2.05992309335612),(84,114,-1.65974913785211),(10,119,0.746635334330271),(119,109,2.94620349742119),(58,120,2.22970519119846),(120,118,2.54863887447737),(95,104,1.69505905331584)]
orgname='BHNEAT_12_9'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()