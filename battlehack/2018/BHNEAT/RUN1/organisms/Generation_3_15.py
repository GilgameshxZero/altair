edge = [(0,85,0.872051149021882),(0,89,-1.93565172276986),(0,90,-0.753959776604511),(0,93,0.439558091982788),(0,98,0.120929593798639),(0,101,-1.07007049775689),(0,105,1.83828241828669),(0,108,-1.87722403637806),(0,113,2.20412305063021),(0,114,-2.08001953184607),(0,117,1.0691091647084),(0,118,1.74770348216193),(1,86,2.02131717886898),(1,92,-2.8010193182165),(1,98,0.236548966948454),(1,102,-0.917157506027406),(1,104,0.606265449995422),(1,107,0.308328501236),(1,108,-1.31356242561113),(1,109,1.54080324716941),(1,113,0.0386669515060885),(2,87,-1.89591662343211),(2,88,-0.0961027863399152),(2,100,-0.599612414929655),(2,106,-1.19289223914304),(2,108,-0.995818964201788),(2,110,0.181051057466353),(2,113,0.296060060426649),(2,118,2.27973265785699),(3,89,2.61629078035829),(3,92,2.21449934385205),(3,97,0.214377269814142),(3,99,0.0926999725333415),(3,101,-2.32360301522874),(3,103,-1.36506241035188),(3,105,-0.67307046723838),(3,108,-1.43681142612995),(3,109,0.45959349345378),(3,111,-1.9212927640614),(3,112,1.47189245277261),(3,116,0.897778252510147),(4,90,1.72978911709952),(4,91,-0.010528885769219),(4,97,-1.56572161015656),(4,99,-2.88335825678274),(4,101,1.92780846583453),(4,108,-0.112033448286386),(4,113,2.41592150639363),(4,118,2.18288216803491),(5,86,-0.924405652027955),(5,87,0.527207251197852),(5,89,-1.62816248054445),(5,92,1.06781212805567),(5,93,1.0095980712302),(5,99,-1.44445631275369),(5,104,0.604083376567888),(5,114,-0.0249641407513657),(5,118,-1.76081118198187),(6,89,2.6963713492233),(6,92,-0.169911801507614),(6,94,-1.2084566789758),(6,100,0.506912442396313),(6,101,1.35242774742882),(6,103,-1.75121311075167),(6,107,2.45675527207251),(6,110,0.415433210242012),(6,113,1.24826807458724),(7,85,-0.861796929837947),(7,86,1.20134586626789),(7,90,-0.367168187505722),(7,95,1.21936704611347),(7,99,2.06012146366771),(7,100,-1.98504593035676),(7,104,1.30251472518082),(7,106,-2.37226477858821),(7,108,-2.0916776024659),(7,112,1.49276711325419),(7,116,0.032624286629841),(8,92,-1.03198339793085),(8,93,0.305490279854732),(8,95,0.0993224890896329),(8,99,-0.319711905270546),(8,106,1.64920499282815),(8,107,-2.29972228156377),(8,115,-1.77478865932188),(8,116,0.766579180272835),(8,118,1.31009857478561),(9,85,-1.94534134952849),(9,87,-2.31914731284524),(9,98,-0.263939329203162),(9,101,-1.13408307138279),(9,103,-1.90307321390423),(9,105,-0.539521469771416),(9,106,2.92596209601123),(9,113,-0.735175634022034),(10,89,-1.51474044007691),(10,96,-1.65547654652547),(10,106,0.337611011078219),(10,108,0.573595385601367),(10,109,0.659962767418439),(10,111,2.77384258552812),(10,112,-1.85537278359325),(10,114,-2.14006469924009),(10,115,-0.500045777764214),(10,116,-0.873653370769372),(10,117,-0.54094058046205),(11,89,-2.13385418256172),(11,97,-0.227134006775109),(11,105,1.75382244331187),(11,112,1.5029297769097),(11,115,2.3394116031373),(12,92,-0.282372508926664),(12,93,-1.44833216345714),(12,94,0.355128635517441),(12,97,-1.27959532456435),(12,98,1.74449903866695),(12,99,-0.680227057710501),(12,108,1.02034058656575),(12,116,1.30411694692831),(13,86,1.29190954313791),(13,87,-1.71597949156163),(13,90,-0.195471053193762),(13,99,0.993575853755303),(13,102,1.98348948637349),(13,104,0.174092837305826),(13,113,1.26514481032746),(13,116,0.271904660176397),(13,118,-0.256797997985778),(14,90,-0.492446668904691),(14,93,-1.26642658772546),(14,95,-1.31759086886196),(14,102,2.17513046662801),(14,104,-1.12707907345805),(14,106,0.490295113986633),(14,109,-0.919324320200201),(14,110,1.79519028290658),(14,111,1.69209875789666),(15,85,-0.925244911038545),(15,92,-0.885921811578723),(15,99,1.9785149693289),(15,101,-0.65706350901822),(15,104,-3.14433729056673),(15,108,-1.47457808160649),(15,117,1.9509262367626),(16,86,1.67876216925565),(16,87,1.01416058839686),(16,88,-2.45071260719626),(16,90,0.134250923184912),(16,91,-0.0947294534134953),(16,95,2.23645741142003),(16,97,0.225196081423383),(16,98,2.10731833857234),(16,99,0.790658284249397),(16,101,-0.11322367015595),(16,108,1.59570604571673),(16,110,-0.503753776665548),(17,89,-1.22559282204657),(17,96,-0.369609668263802),(17,99,-1.28330332346568),(17,101,0.298196356089969),(17,106,-1.01954710531938),(17,107,0.84926908169805),(17,109,-2.47985778374584),(18,90,-0.446180608539079),(18,91,-0.121799371318705),(18,93,-2.28823206274606),(18,99,0.329279457991272),(18,102,-1.38964506973479),(18,103,-0.103640858180486),(18,104,0.0990020447401349),(18,110,-2.37316507461776),(18,111,-1.78594317453536),(18,116,0.508163701284829),(18,117,-0.757057405316324),(18,118,0.401516769920957),(19,87,2.72455519272439),(19,89,-0.33051545762505),(19,93,1.593768120365),(19,95,1.98698385570849),(19,101,-0.316553239539781),(19,105,2.1217993713187),(19,115,-0.318414868617817),(20,88,1.20860927152318),(20,101,1.00881984923856),(20,103,-0.26097903378399),(20,104,-1.37737662892544),(20,105,-1.2831507309183),(20,106,0.767281105990783),(20,111,1.4633777886288),(20,116,-0.434385204626606),(21,86,-0.87458418530839),(21,87,-2.32874538407544),(21,94,-2.46340830713828),(21,96,-2.6315958128605),(21,101,0.331949827570421),(21,102,-1.21097445600757),(21,105,-0.580233161412397),(21,107,-2.42973113193152),(21,108,-2.12213507492294),(22,86,-2.03224280526139),(22,88,1.01138340403455),(22,91,2.23187963499863),(22,92,-1.92426831873531),(22,93,-1.69171727652821),(22,98,-1.84665974913785),(22,106,0.143375957518235),(22,115,2.30216376232185),(22,117,2.12813196203497),(23,85,-2.36106448561052),(23,86,-0.414410840174566),(23,88,-2.05125583666494),(23,90,-0.706961272011475),(23,97,0.17566454054384),(23,104,-2.78623310037538),(23,112,-2.04637287514878),(23,114,2.96914578691977),(23,115,0.0387737662892544),(23,116,-1.13914914395581),(24,89,-0.0611896114993744),(24,90,-1.05592516861476),(24,91,0.798211615344707),(24,101,0.996963408307138),(24,107,-0.350444044312876),(24,108,-1.69240394299142),(24,110,1.15085299233985),(24,112,-1.79779961546678),(25,90,-2.22357860042116),(25,92,-2.35122226630451),(25,94,-0.163533433027131),(25,98,0.8737449262978),(25,105,0.164418469801935),(25,108,0.0674001281777398),(25,109,1.26232184820093),(25,115,-2.21523178807947),(26,85,-2.18521683400983),(26,87,0.244102298043764),(26,89,-1.75252540665914),(26,95,-1.4226966154973),(26,98,2.23238319040498),(26,100,-1.39533677175207),(26,101,1.93661305581835),(26,102,0.118579668568987),(26,103,-0.121311075167089),(26,104,0.221732230597858),(26,107,-0.57014679403058),(26,109,-1.93090609454634),(26,112,1.92365794854579),(26,113,-0.411618396557512),(26,117,0.0381481368449965),(27,85,0.864452040162358),(27,87,-2.32015442365795),(27,94,-0.102771080660421),(27,100,0.859721671193579),(27,102,0.210821863460189),(27,103,-0.248893704031495),(27,104,1.10785241248817),(27,105,1.67876216925565),(27,108,0.374156926175726),(27,110,0.349055452131718),(27,114,-1.22806482131413),(28,87,0.329004791405988),(28,88,0.792962431714835),(28,97,0.607303079317606),(28,99,-2.0945310831019),(28,104,2.03733939634388),(28,113,-1.42445142979217),(28,114,-1.72685934018983),(29,88,0.60322885830256),(29,91,-2.42320017090365),(29,102,2.44210638752403),(29,105,-2.47688222907193),(29,116,-0.261116367076632),(30,95,1.67481002227851),(30,96,-1.18419446394238),(30,99,0.098086489455855),(30,101,-1.36359752189703),(30,104,-2.21213415936766),(30,109,1.79772331919309),(30,110,-1.2420270393994),(30,114,-1.99206518753624),(30,118,-0.0471053193762017),(31,85,-1.86860255745109),(31,92,-1.69071016571551),(31,94,-0.863689077425459),(31,96,2.52536088137455),(31,99,2.3760338145085),(31,103,-0.969695120090335),(31,107,0.933271279030732),(31,108,0.860377819147313),(31,109,2.80207220679342),(31,111,-1.06981109042634),(31,112,-1.92655720694601),(31,117,-1.93861201818903),(32,86,1.84864345225379),(32,87,1.12335581530198),(32,89,1.7739951780755),(32,92,0.508636738181707),(32,98,-2.79679250465407),(32,99,-0.813226722006897),(32,104,-0.00785851619006928),(32,106,-0.21828363902707),(32,109,-2.67950987273782),(32,116,-0.420148319956053),(32,118,-0.911084322641682),(33,96,0.372493667409284),(33,98,1.74239326151311),(33,108,-1.22273934141057),(33,110,-1.73329874568926),(33,111,-1.8870357371746),(33,114,-2.88702047791986),(34,85,2.03628650776696),(34,90,-2.4605243079928),(34,99,-0.97949156163213),(34,104,-0.708227790154729),(34,109,0.921582689901425),(35,86,-0.1044495986816),(35,87,-0.219519638660848),(35,97,-1.91224402600177),(35,98,-2.00190740684225),(35,100,-1.05325479903562),(35,104,-1.12468337046419),(35,107,-1.26052125614185),(35,109,-0.00616473891415145),(35,110,1.02389599291971),(35,112,0.858027893917661),(36,85,2.25759147923215),(36,87,0.097903378398999),(36,90,0.830576494644002),(36,91,-1.82335886715293),(36,104,0.0192876979888302),(36,107,0.346110415967284),(36,109,-1.59773552659688),(36,112,1.82078005310221),(36,115,0.666951506088443),(36,117,1.7694174016541),(36,118,2.30925931577502),(37,85,1.98744163335063),(37,86,-0.112063966795862),(37,87,0.752739036225471),(37,91,-1.30825220496231),(37,99,2.64679403057955),(37,105,-0.679143650624104),(37,111,0.857066560869167),(37,112,2.3500930814539),(37,118,-1.57715079195532),(38,87,0.773354289376507),(38,90,-0.242774742881558),(38,103,0.550172429578539),(38,105,2.47740104373302),(38,106,-1.79401532029176),(38,111,-2.01475569933164),(38,115,-2.45010223700674),(39,87,-0.580874050111392),(39,89,-0.547090060121464),(39,91,-0.853816339609973),(39,94,-0.0679036835840937),(39,97,-1.77518539994507),(39,98,-1.80205694753868),(39,107,-1.44410534989471),(39,108,-0.807519760734886),(39,109,2.23166600543229),(39,111,-1.12741477706229),(39,113,-0.0117191076387829),(39,116,1.14821314127018),(39,118,1.84504226813562),(40,88,-0.1526383251442),(40,92,0.741203039643544),(40,99,2.02298043763543),(40,104,-0.703863643299661),(40,110,-1.56624042481765),(40,116,0.828089236121708),(40,118,-1.46533097323527),(41,88,2.25049592577898),(41,93,1.58948026978362),(41,96,0.356227301858577),(41,97,-0.177678762169256),(41,100,1.31882686849574),(41,101,2.25722525711844),(41,104,1.64143803216651),(41,105,-2.49992370372631),(41,106,1.91329691457869),(41,107,-1.65543076876125),(41,109,1.1948454237495),(41,110,-2.34368419446394),(41,111,-0.408825952940458),(41,112,1.4651020844142),(42,85,0.799356059450056),(42,86,0.0678579058198797),(42,87,-2.20064394054994),(42,99,-1.24024170659505),(42,100,-2.39265114291818),(42,103,-1.53213599047823),(42,109,0.531098361156041),(42,113,-2.50791955320902),(43,85,0.793755912961211),(43,88,-2.21819208349864),(43,89,0.438978240302744),(43,93,1.35444196905423),(43,97,0.491592150639363),(43,98,0.976561784722434),(43,101,0.178075502792444),(43,102,1.59266945402387),(43,103,1.68071535386212),(43,105,-0.59126560258797),(43,110,-1.6123996704001),(43,112,-0.728202154606769),(43,114,0.661900692770165),(43,116,1.04846339304788),(44,89,0.357905819879757),(44,98,1.41810357982116),(44,99,-0.263374736777856),(45,87,1.43340861232337),(45,88,1.93211157567064),(45,90,-1.66458632160405),(45,91,0.694753868221076),(45,95,-1.46310312204352),(45,98,-1.33918271431623),(45,108,-0.164036988433485),(45,109,-0.11024811548204),(45,112,1.40264595477157),(45,115,-0.425916318247017),(46,85,2.48115482039857),(46,89,-0.525116733298746),(46,91,-0.187154759361553),(46,94,-0.783120212408826),(46,97,1.63206884975738),(46,100,2.02970976897488),(46,101,1.22547074800867),(46,108,1.02090517899106),(46,112,1.35250404370251),(47,86,0.603091525009918),(47,91,-1.74613177892392),(47,92,1.72093874935148),(47,94,-0.45608386486404),(47,95,0.140125736259041),(47,100,1.70833460493789),(47,101,0.206884975737785),(47,104,-0.992370372631001),(47,105,-1.85399945066683),(47,108,-2.1565752128666),(47,112,0.956785790581988),(47,114,1.36194952238533),(47,118,-0.604342783898434),(48,86,1.76129947813349),(48,91,-0.465697195348979),(48,98,-0.548722800378429),(48,99,0.555635242774743),(48,100,-1.88567766350291),(48,103,1.07985168004395),(48,105,-2.14098025452437),(48,106,2.19017609179968),(48,111,0.418210394604328),(48,115,2.29850154118473),(49,87,-1.6609088412122),(49,89,-0.474288155766472),(49,93,0.122577593310343),(49,94,-0.190862758262886),(49,95,1.37817011017182),(49,102,-0.23787652211066),(49,113,1.11148411511582),(49,114,-2.57974486526078),(50,89,2.12938322092349),(50,105,-0.379299295022431),(50,107,-2.37203588976714),(51,87,0.613956114383373),(51,92,0.155339213232826),(51,97,-0.996826075014496),(51,98,-2.35059663686026),(51,103,2.17192602313303),(51,106,0.26021607104709),(51,112,-1.3106173894467),(51,118,0.421735282448805),(52,89,0.230750450148015),(52,97,0.673543504135258),(52,106,-0.245826593829157),(52,110,2.83149204992828),(52,111,0.769493697927793),(52,113,-0.00579851680043947),(52,114,1.62970366527299),(52,118,0.126056703390606),(53,88,-1.95196386608478),(53,90,-0.337992492446669),(53,92,-1.66530350657674),(53,94,2.75260170293283),(53,104,1.54168828394421),(53,105,0.289681691946165),(53,109,1.72956022827845),(54,85,2.6660512100589),(54,91,-0.186956389049959),(54,94,-1.70142216254158),(54,96,-0.174184392834254),(54,111,2.04771568956572),(54,112,0.265541550950652),(54,113,1.95069734794153),(54,118,1.40079958494827),(55,87,-2.05595568712424),(55,95,-2.12950529496139),(55,107,2.45298623615223),(55,110,0.976912747581408),(55,117,0.665913876766259),(56,107,-2.28795739616077),(56,111,-0.825418866542558),(56,113,2.1179845576342),(56,114,-0.161442915128025),(57,87,0.377422406689657),(57,90,-0.201803643910031),(57,91,1.76671651356548),(57,92,0.892590105899228),(57,93,-0.366100039674062),(57,94,-1.83741264076663),(57,95,-2.35709707937864),(57,96,2.08014160588397),(57,100,2.0768608661153),(57,102,-1.03473006378368),(57,103,-2.25775933103427),(57,115,1.83234656819361),(58,86,0.76128421887875),(58,87,0.240256965849788),(58,89,-0.0262306588946196),(58,90,0.393826105533006),(58,95,-0.00328073976866972),(58,96,0.812646870326853),(58,101,1.29175695059053),(58,103,1.98835718863491),(58,109,1.46176030762658),(58,110,-1.08282723471786),(58,113,0.468749046296579),(58,114,-2.28855250709555),(58,115,-0.13060396130253),(58,118,0.5240943632313),(59,85,-2.01130710776086),(59,86,1.9388409070101),(59,90,0.196600238044374),(59,91,0.17627491073336),(59,93,1.17824335459456),(59,97,0.236762596514786),(59,98,-1.94038209173864),(59,100,-1.93922238837855),(59,102,1.4547410504471),(59,112,0.0175328836939604),(59,114,0.578371532334361),(60,85,1.45519882808924),(60,87,-2.15176854762413),(60,90,-0.824823755607776),(60,91,0.814554277169103),(60,96,-1.06257820368053),(60,100,1.23009430219428),(60,101,-1.27614673299356),(60,105,-1.47877437665944),(60,107,1.51470992156743),(60,109,-1.46624652851955),(60,110,1.47448652607807),(60,114,-0.365382854701376),(61,89,2.37693411053804),(61,94,-0.536545915097507),(61,96,-1.52545243690298),(61,98,0.707312234870449),(61,100,0.415768913846248),(61,102,0.361018707846309),(61,103,0.879528183843501),(61,114,-1.20929593798639),(61,115,0.256035035248878),(62,93,-1.85802789391766),(62,95,1.06099124118778),(62,107,-2.86771752067629),(62,109,2.35813470870083),(62,110,-0.380031739249855),(62,111,1.52760399182104),(63,87,-0.635578478347118),(63,90,-0.0156407361064486),(63,93,1.11021759697256),(63,97,-1.02076784569842),(63,100,-0.115207373271889),(63,103,-0.391247291482284),(63,104,-0.681218909268471),(63,108,0.0806451612903226),(63,111,1.62823877681814),(63,114,2.15742973113193),(63,117,-0.419934690389721),(64,87,1.97262489700003),(64,94,1.86455885494552),(64,99,1.14114810632649),(64,110,-2.62686544389172),(64,112,-0.307397686696982),(64,116,-1.61391033661916),(65,87,-0.311914426099429),(65,88,-0.0710470900601214),(65,90,1.8816949980163),(65,97,-0.385235145115513),(65,99,-1.52751243629261),(65,107,1.34545426801355),(65,110,-0.538468581194494),(65,111,-1.04298532059694),(65,114,-0.548554948576312),(65,116,0.520386364329966),(65,117,-0.0530259102145451),(66,85,-1.41732535782952),(66,102,-2.11368144779809),(66,105,0.131168553727836),(66,108,0.129703665272988),(66,111,-1.67880794701987),(66,115,-1.35856196783349),(66,118,-0.416501358073672),(67,86,1.27181310464797),(67,90,2.3782006286813),(67,92,2.45780816064943),(67,104,-2.32103946043275),(67,109,1.94076357310709),(67,111,2.24204229865413),(68,87,0.178914761803034),(68,88,-1.40537736136967),(68,90,0.878856776635029),(68,93,0.707342753379925),(68,95,2.44235053559984),(68,96,-0.606860560930204),(68,97,-1.84606463820307),(68,103,0.729010895107883),(68,107,-0.739341410565508),(68,112,2.12302011169774),(68,114,-2.94279305398724),(69,87,1.34296700949126),(69,88,2.45582445753349),(69,92,-1.79082613605152),(69,94,0.352275154881436),(69,95,-0.479598376415296),(69,97,-0.353633228553118),(69,108,0.244148075807978),(69,113,-0.788918729209265),(69,114,1.30324716940825),(69,118,1.64923551133763),(70,85,-1.48617511520737),(70,86,0.356746116519669),(70,87,2.23129978331858),(70,90,-1.94251838740196),(70,96,-0.202337717825861),(70,97,2.64900662251656),(70,99,0.598208563493759),(70,105,-0.10773033845027),(70,107,2.7685323648793),(70,109,2.38593707083346),(70,110,1.54008606219672),(70,111,-0.314279610583819),(71,85,-2.66544083986938),(71,93,1.58400219733268),(71,96,-0.352824488052004),(71,100,0.0973540452284311),(71,104,-0.0622577593310343),(71,106,-0.318002868739891),(71,111,-1.16473891415143),(71,113,1.18274483474227),(72,94,-1.72508926664022),(72,96,-2.59080782494583),(72,99,-2.57811212500382),(72,110,-2.12724692526017),(72,112,1.39469588305307),(72,114,1.91908017212439),(72,115,1.87737662892544),(72,116,2.07548753318888),(73,88,0.825205236976226),(73,94,0.409207434308908),(73,99,-0.403637806329539),(73,100,-1.4486373485519),(73,106,-2.35549485763115),(73,110,-1.37212744529557),(73,115,1.35387737662893),(74,90,0.317209387493515),(74,94,-1.00946073793756),(74,99,2.168782616657),(74,102,-2.22473830378124),(74,106,2.39692373424482),(74,107,2.12324900051881),(74,110,0.702139347514268),(74,113,-1.2563249610889),(74,116,-1.25946836756493),(75,85,1.57773064363536),(75,86,1.92799157689138),(75,93,1.01452681051057),(75,98,0.304391613513596),(75,103,0.271538438062685),(75,105,-1.7757194738609),(75,111,-2.14136173589282),(75,117,-1.10911893063143),(76,86,1.95507675405133),(76,89,0.193395794549394),(76,92,-1.06137272255623),(76,94,-1.79868465224158),(76,99,-0.755561998352001),(76,101,-1.21721549119541),(76,103,0.208273567918943),(76,106,-0.641041291543321),(76,110,-0.919507431257058),(76,113,0.0146031067842647),(77,88,-0.0515152439954832),(77,91,-0.162785729544969),(77,93,2.77536851100192),(77,98,-0.994766075624866),(77,101,2.34852137821589),(77,102,0.0959501937925352),(77,103,0.0476088747825556),(77,104,1.59321878719443),(77,105,-0.557786797692801),(77,109,2.43269142735069),(78,88,-0.330790124210333),(78,93,-0.949049348429823),(78,94,-2.16980498672445),(78,101,-1.9304483169042),(78,104,2.14076662495804),(78,110,1.75102999969481),(78,114,-0.900540177617725),(78,116,-0.362941373943297),(78,117,1.12976470229194),(78,118,1.84728537858211),(79,87,1.31437116611225),(79,92,-0.119510483108005),(79,94,-2.16261787774285),(79,107,-1.72490615558336),(79,108,-0.265816217535936),(79,114,0.732764671773431),(79,118,-1.98770104068117),(80,87,2.71355327005829),(80,88,-2.36793115024262),(80,91,-0.762245551927244),(80,99,0.256675923947874),(80,101,-1.15930661946471),(80,107,-2.24115726187933),(80,113,1.47828608050783),(81,85,-1.71300393688772),(81,86,-2.27271340067751),(81,90,-1.73796807763909),(81,93,-1.59187597277749),(81,96,-1.20662556840724),(81,97,1.73589281899472),(81,106,0.700781273842586),(81,107,2.17284157841731),(81,110,1.05403302102725),(81,115,-0.578203680532243),(82,86,-0.815652943510239),(82,92,-0.630878627887814),(82,110,1.89230018005921),(82,112,-0.471663563951537),(83,87,-0.0527970213934751),(83,91,-1.71364482558672),(83,93,-0.00294503616443373),(83,101,0.0939817499313334),(83,103,-2.54283272804956),(83,105,-0.709784234138005),(83,108,0.419278542435987),(84,85,-0.313501388592181),(84,86,0.0579851680043947),(84,89,1.95127719962157),(84,95,1.30626850184637),(84,99,0.634907071138646),(84,104,-1.78371532334361),(84,111,-1.18198187200537),(84,113,-2.26738792077395),(84,114,-1.70783104953154)]
orgname='BHNEAT_3_15'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()