edge = [(0,85,1.40304269539476),(0,89,-1.44971312601093),(0,90,-0.0195318460646381),(0,93,-2.91991943113498),(0,98,-1.52445295571764),(0,101,-1.12688833277383),(0,105,2.45910519730216),(0,108,-0.020142216254158),(0,113,3.40063173314615),(0,114,4.46203497421186),(0,117,3.56952116458632),(0,118,-1.88750877407147),(1,86,-2.59978789635914),(1,92,2.46040986358226),(1,98,1.4813684499649),(1,102,-4.05553605761895),(1,104,-0.605037079989013),(1,107,-3.87186803796503),(1,108,-1.43459883419294),(1,109,0.699926755577257),(1,113,1.89931180761132),(2,87,-1.50544755394147),(2,88,3.75766777550584),(2,100,2.21549119541002),(2,106,-0.408825952940458),(2,108,-1.9032792138432),(2,110,-1.92809839167455),(2,113,-0.086565752128666),(2,118,2.9902035584582),(3,89,4.9936750389111),(3,92,-1.23266548661763),(3,97,1.34430219428083),(3,99,1.3949095126194),(3,101,-1.58378856776635),(3,103,0.815317239906003),(3,105,4.68420209356975),(3,108,-0.604251228370006),(3,109,-6.16533402508621),(3,111,0.82746360667745),(3,112,-1.11279641102329),(3,116,-2.7677694021424),(4,90,0.0381252479628897),(4,91,-0.312540055543687),(4,97,1.35468611713004),(4,99,0.676908169804987),(4,101,-0.423474837488937),(4,108,2.14308603167821),(4,113,-0.927915280617695),(4,118,-2.58409375286111),(5,86,0.822794274727622),(5,87,-3.10116885891293),(5,89,-0.713988158818323),(5,92,-1.50247962889492),(5,93,-0.933347575304422),(5,99,2.67502365184484),(5,104,3.55412457655568),(5,114,3.57100894192328),(5,118,-3.24469740897855),(6,89,-1.62437055574206),(6,92,-6.95654164250618),(6,94,-1.83038575395978),(6,100,0.320123905148473),(6,101,-1.21461378826258),(6,103,-1.0473265785699),(6,107,-0.413953062532426),(6,110,0.973380230109562),(6,113,-0.776726584673605),(7,85,4.20754875331889),(7,86,-3.72975859859004),(7,90,0.276558732871487),(7,95,-1.75891140476699),(7,99,1.48515274513993),(7,100,2.02446821497238),(7,104,-2.34178441724906),(7,106,1.15321817682424),(7,108,1.06374553666799),(7,112,-1.30270546586505),(7,116,-1.89493240150151),(8,92,-0.250663777581103),(8,93,0.161496322519608),(8,95,0.20127719962157),(8,99,-0.966368602557451),(8,106,-3.25075533310953),(8,107,0.0411999877925963),(8,115,2.30285805841243),(8,116,1.0809961241493),(8,118,2.35236671040986),(9,85,-0.010467848750267),(9,87,1.49212622455519),(9,98,-4.19556260872219),(9,101,-2.08578753013703),(9,103,4.56472975859859),(9,105,1.41904202398755),(9,106,3.18511001922666),(9,113,0.0438550981170078),(10,89,-5.70271919919431),(10,96,1.84469893490402),(10,106,1.51574755088961),(10,108,3.30584124271371),(10,111,-1.40790276802881),(10,112,-0.704443494979705),(10,114,-0.840037232581561),(10,115,-2.05428479873043),(10,116,0.422185430463576),(10,117,-0.120670186468093),(11,89,-1.89381084627827),(11,97,1.92962431714835),(11,105,-1.97446363719596),(11,112,2.41060365611744),(11,115,-1.85808130130924),(12,92,3.47328104495376),(12,93,0.855655079805902),(12,94,0.113109225745415),(12,97,-1.67070528275399),(12,98,1.72385326700644),(12,99,2.13950010681478),(12,108,-0.0765099032563248),(12,116,-2.42513809625538),(13,86,3.22806482131413),(13,87,-0.543092135380108),(13,90,0.730948820459609),(13,99,2.81111331522568),(13,102,0.65507980590228),(13,104,-2.88750877407147),(13,113,0.650028992584002),(13,116,-3.67186498611408),(13,118,-1.14215521713919),(14,90,-4.32425916318247),(14,93,-0.246330149235511),(14,95,-4.67772453993347),(14,102,-1.16595965453047),(14,104,-4.0804773094882),(14,106,2.29767754142888),(14,109,-0.48094119083224),(14,110,1.82117679372539),(14,111,-1.90564439832759),(15,85,-0.331133457441938),(15,92,2.57168797875912),(15,99,-1.81460005493332),(15,101,-1.55446028015992),(15,104,-2.41545609912412),(15,108,-0.157216101565599),(15,117,1.79798272652364),(16,86,-1.21242408520768),(16,87,1.10125278481399),(16,88,1.04130680257576),(16,90,-2.20155949583422),(16,91,-3.1991790520951),(16,95,-3.19212927640614),(16,97,-2.10483108005005),(16,98,0.198225348673971),(16,99,-1.1119571520127),(16,101,1.96902371288186),(16,108,5.36822870571001),(16,110,4.14809106723228),(17,89,0.655377361369671),(17,96,-1.07597582934049),(17,99,4.93560594500565),(17,101,-1.43088320566424),(17,106,-2.78450880458998),(17,107,1.28949095126194),(17,109,-1.81797235023042),(18,90,1.0553758354442),(18,91,-3.58470412305063),(18,93,2.0503555406354),(18,99,0.613536484878079),(18,102,4.40626239814448),(18,103,-0.828890346995453),(18,104,-0.903118991668447),(18,110,-0.994781334879604),(18,111,-1.07663197729423),(18,116,3.45892971587268),(18,117,-1.93605609302042),(18,118,-0.30718405713065),(19,87,-2.10539567247536),(19,89,-0.74549851985229),(19,93,1.30455183568834),(19,95,-1.27536851100192),(19,101,1.33536027100436),(19,105,-3.8677404095584),(19,115,-1.19316690572832),(20,88,-2.14646595660268),(20,101,0.220084231086154),(20,103,0.777405621509445),(20,104,-0.988921781060213),(20,105,0.374355296487319),(20,106,-1.31945249794),(20,111,0.200888088625751),(20,116,2.83401745658742),(21,86,-0.414365062410352),(21,87,0.0770592364268929),(21,94,-1.53331095309305),(21,96,3.511764885403),(21,101,4.25831629383221),(21,102,3.76959288308359),(21,105,0.077188940092166),(21,107,2.35294656208991),(21,108,1.81345561082797),(22,86,-1.29352702414014),(22,88,-2.5480895413068),(22,91,0.581774346140934),(22,92,-2.3084276863918),(22,93,-0.148930326242866),(22,98,-0.506607257301553),(22,106,-4.51387066255684),(22,115,2.08161412396619),(22,117,-0.853831598864711),(23,85,-0.994544816431166),(23,86,-0.845484786523026),(23,88,-0.816003906369213),(23,90,0.654576250495926),(23,97,-1.24826807458724),(23,104,3.81884212775048),(23,112,-2.2777871028779),(23,114,2.17415387432478),(23,115,-0.925748466444899),(23,116,0.686117130039369),(24,89,-2.80687124240852),(24,90,-3.05826746421705),(24,91,-0.215704824976348),(24,101,0.096499526963103),(24,107,1.92152928250984),(24,108,2.26976836451308),(24,110,-1.38882869960631),(24,112,-2.89459669789728),(25,90,-3.00436414685507),(25,92,0.457998901333659),(25,94,-5.74666585283975),(25,98,-1.58269753105258),(25,105,2.04423657948546),(25,108,5.21340067751091),(25,109,-1.79355754264962),(25,115,0.13266396069216),(26,85,-1.06286049989319),(26,87,0.63060396130253),(26,89,-0.825830866420484),(26,95,-1.42658772545549),(26,98,-0.774735251930296),(26,100,-0.375759147923216),(26,101,0.449774163029877),(26,102,2.96116519669179),(26,103,0.684575945310831),(26,104,4.84492019409772),(26,107,-2.82219916379284),(26,109,0.452101199377422),(26,112,3.95120853297525),(26,113,1.90990173039949),(26,117,-2.06158635212256),(27,85,-1.5873439741203),(27,87,-0.439497054963836),(27,94,1.46069215979492),(27,100,1.55990783410138),(27,102,-1.33857997375408),(27,103,-1.3167210913419),(27,104,0.897694326609089),(27,105,-2.09945982238227),(27,108,-1.11117893002106),(27,110,1.44194616534928),(27,114,3.17338328196051),(28,87,-3.69638660847804),(28,88,-0.343684194463942),(28,97,0.606822412793359),(28,99,-2.14790795617542),(28,104,-2.35479293191321),(28,113,0.0705130161442915),(28,114,-4.44257942442091),(29,88,2.4822305978576),(29,91,-2.83536790063173),(29,102,-1.19565416425062),(29,105,-2.49261452070681),(29,116,1.72983489486373),(30,95,3.77678762169256),(30,96,2.71350749229408),(30,99,3.23869289223914),(30,101,-2.3596911526841),(30,104,0.395710623493148),(30,109,-0.306909390545366),(30,110,2.02680288094729),(30,114,0.0477156895657214),(30,118,0.802171391949217),(31,85,2.50345622119816),(31,92,3.58765678884243),(31,94,0.648998992889187),(31,96,2.53695791497543),(31,99,-0.013885921811579),(31,103,-3.22429578539384),(31,107,0.285119174779504),(31,108,1.8034302804651),(31,109,-1.06044190801721),(31,111,0.45692312387463),(31,112,-1.92957090975677),(31,117,2.32817316202277),(32,86,-2.84478286080508),(32,87,1.6987594225898),(32,89,0.878177739799188),(32,92,4.71735282448805),(32,98,1.61233863338115),(32,99,0.95448164311655),(32,104,4.23020111697745),(32,106,1.73522141178625),(32,109,3.63232825708792),(32,116,2.79485457930235),(32,118,0.139179662465285),(33,96,-2.3317590868862),(33,98,-2.45178838465529),(33,108,2.9308908352916),(33,110,0.0670339060640279),(33,111,-0.617305520798364),(33,114,-2.71742912076174),(34,85,1.01544999542222),(34,90,2.27150791955321),(34,99,1.08432264168218),(34,104,-5.33278908658101),(34,109,-4.81402020325327),(35,86,2.64568773461104),(35,87,0.422727134006775),(35,97,-2.18802453688162),(35,98,-0.568369090853603),(35,100,0.459929197058016),(35,104,-3.1459929197058),(35,107,-3.95045319986572),(35,109,-2.75370036927396),(35,110,-1.58758812219611),(35,112,1.53798028504288),(36,85,-0.977408673360393),(36,87,-2.50579088717307),(36,90,1.28669850764489),(36,91,0.0391018402661212),(36,104,-0.261886959440901),(36,107,2.49356822412793),(36,109,1.11911374248482),(36,112,-0.401577806939909),(36,115,3.25193792535173),(36,117,-2.53895687734611),(36,118,4.04585406048769),(37,85,1.58246864223151),(37,86,-3.30343791009247),(37,87,1.32568590350047),(37,91,2.37750633259072),(37,99,-1.74680318613239),(37,105,-0.300637836848048),(37,111,1.85145878475295),(37,112,-1.08768730735191),(37,118,-0.941831720938749),(38,87,0.751274147770623),(38,90,-1.87194433423872),(38,103,1.5818811609241),(38,105,3.31107516708884),(38,106,1.83572649311808),(38,111,-0.245513779107028),(38,115,-3.29609820856349),(39,87,2.20036164433729),(39,89,-2.1919919431135),(39,91,-4.88151188695944),(39,94,0.430928983428449),(39,97,-0.405713064973907),(39,98,-1.01664784691916),(39,107,-0.828211310159612),(39,108,2.80862605670339),(39,109,2.41495254371776),(39,111,-2.7038789025544),(39,113,-0.365703299050874),(39,116,-0.697668385876034),(39,118,-4.29600665303507),(40,88,0.654591509750664),(40,92,-1.52439954832606),(40,99,1.71114230780969),(40,104,-0.264168218024232),(40,110,-2.93723868526261),(40,116,-0.410153508102664),(40,118,-0.242011780144658),(41,88,-4.37810907315287),(41,93,0.444212164677877),(41,96,-0.688795129245888),(41,97,0.107387005218665),(41,100,1.66032135990478),(41,101,5.40670491653188),(41,104,0.402279732657857),(41,105,1.10286263618885),(41,106,2.79748680074465),(41,107,-5.81850642414624),(41,109,1.89420758690146),(41,110,-1.16290780358287),(41,111,-1.92297891170995),(41,112,5.41650898770104),(42,85,-0.143787957396161),(42,86,0.815958128604999),(42,87,1.95681630909146),(42,99,-0.446485793633839),(42,100,-4.58871730704672),(42,103,-3.60457930234687),(42,109,-2.78398236030152),(42,113,-2.12825403607288),(43,85,-0.833796197393719),(43,88,0.577143162327952),(43,89,0.735854670857875),(43,93,1.64356669820246),(43,97,-2.5959578234199),(43,98,2.79026154362621),(43,101,2.17893765068514),(43,102,2.02446058534501),(43,103,-1.43307290871914),(43,105,1.34762108218635),(43,110,-0.301583910641804),(43,112,-0.810136722922453),(43,114,-2.05147709585864),(43,116,0.64836573381756),(44,89,-3.22107608264412),(44,98,4.90077669606616),(44,99,-2.09241004669332),(45,87,-3.94053468428602),(45,88,-2.46633808404797),(45,90,1.72136600848415),(45,91,-0.388752403332621),(45,95,-2.2824869533372),(45,98,-2.88712729270302),(45,108,1.65151676992096),(45,109,3.27162999359111),(45,112,0.78972746971038),(45,115,-2.88012329477828),(46,85,0.604358043153172),(46,89,0.0490813928647726),(46,91,1.4476760155034),(46,94,-3.11596270638142),(46,97,2.1872157963805),(46,100,3.04480880153813),(46,101,1.13255714590899),(46,108,-2.36114078188421),(46,112,-4.63136692403943),(47,86,-0.773232215338604),(47,91,-1.7516251106296),(47,92,2.39095736564226),(47,94,1.63326670125431),(47,95,-0.100291451765496),(47,100,2.86413922544023),(47,101,-0.372325815607166),(47,104,-2.9643391216773),(47,105,5.63278603473006),(47,108,0.605716116824854),(47,112,-0.344027527695547),(47,114,2.18985564745018),(47,118,1.13660847804193),(48,86,2.10634174626911),(48,91,-1.04951628162481),(48,98,-0.0133365886410109),(48,99,-0.505111850337229),(48,100,-1.1360744041261),(48,103,-2.28492080446791),(48,105,0.146397289956358),(48,106,-2.77942747276223),(48,111,-2.9840769676809),(48,115,-0.343752861110263),(49,87,2.30799279763176),(49,89,1.51719718008972),(49,93,1.71529282509842),(49,94,3.91357921079135),(49,95,2.45985290078433),(49,102,-2.73802911465804),(49,113,1.63158055360576),(49,114,0.324686422315134),(50,89,-2.60382396923734),(50,105,-0.0939970091860715),(50,107,-1.71175267799921),(51,87,1.15907773064364),(51,92,0.448828089236122),(51,97,2.15726950895718),(51,98,0.159375286111026),(51,103,0.553765984069338),(51,106,0.395069734794153),(51,112,1.04636524552141),(51,118,-1.29209265419477),(52,89,0.0675298318430127),(52,97,1.9683751945555),(52,106,-2.93286690878018),(52,110,-2.59884182256539),(52,111,0.530465102084414),(52,113,0.691717276528214),(52,114,-1.00046540726951),(52,118,-0.147206030457472),(53,88,-0.684995574816126),(53,90,-6.17801446577349),(53,92,-0.104274117252113),(53,94,0.969496749778741),(53,104,-3.63352610858486),(53,105,-1.28747672963652),(53,109,2.04327524643696),(54,85,-0.203970458082827),(54,91,-2.21701712088382),(54,94,-2.172276985992),(54,96,1.96081423383282),(54,111,-1.6594058046205),(54,112,1.44781334879604),(54,113,2.88359477523118),(54,118,-2.99740592669454),(55,87,-0.97125156407361),(55,95,1.73352763451033),(55,107,0.206419568468276),(55,110,-3.21924497207556),(55,117,-2.3977172154912),(56,107,-1.399243140965),(56,111,-1.02817621387371),(56,113,-2.18888668477432),(56,114,1.81830805383465),(57,87,-2.12033448286386),(57,90,2.43550675984985),(57,91,-0.129703665272988),(57,92,-2.26451918088321),(57,93,4.38190099795526),(57,94,0.659016693624683),(57,95,-0.696829126865444),(57,96,-0.223273415326395),(57,100,-0.288041322061831),(57,102,-1.6834772789697),(57,103,-0.340243232520524),(57,115,-2.48279519028291),(58,86,-0.955679494613483),(58,87,-0.675115207373272),(58,89,2.65955076754051),(58,90,-1.91995757927183),(58,95,-2.14168980986969),(58,96,-0.856273079622792),(58,101,-2.83263649403363),(58,103,-4.39709158604694),(58,109,-2.7294991912595),(58,110,4.68514816736351),(58,113,-2.38524277474288),(58,114,3.40716269417402),(58,115,-1.30488753929258),(59,85,1.2122714926603),(59,86,-0.726111636707663),(59,90,-0.973944822534867),(59,91,-1.99926755577258),(59,93,3.63664662617878),(59,97,-2.18291268654439),(59,98,1.43878749961852),(59,100,4.19477675710318),(59,102,1.93520920438246),(59,112,1.5736869411298),(59,114,-1.12698751792962),(60,85,2.06177709280679),(60,87,-1.30072176274911),(60,90,1.16977446821497),(60,91,-1.57300027466658),(60,96,2.66151921140172),(60,100,-0.906811731315042),(60,101,0.485549485763115),(60,105,-3.33735160374767),(60,107,1.66914120914335),(60,109,2.10666219061861),(60,110,2.96145512253182),(60,114,0.805902279732658),(61,89,2.20802179021577),(61,94,-3.0591906491287),(61,96,-0.270485549485763),(61,98,0.727790154728843),(61,100,1.27182073427534),(61,102,1.58040101321451),(61,103,1.4790795617542),(61,114,0.656125064851832),(61,115,3.54159672841578),(62,93,1.07602923673208),(62,95,-1.30443739127781),(62,107,-1.30344553971984),(62,109,-2.68689535203101),(62,110,-2.93717764824366),(62,111,1.1657307657094),(63,87,1.89067506942961),(63,90,5.77993102816858),(63,93,-0.186315500350963),(63,97,1.62813959166234),(63,100,-0.642979216895047),(63,103,-0.782967619861446),(63,104,-0.189245277260659),(63,108,1.45717490157781),(63,111,1.36004211554308),(63,114,1.21504867702261),(63,117,-1.35097811822871),(64,87,3.1613742484817),(64,94,1.27347636341441),(64,99,1.41772209845271),(64,110,2.22060304574725),(64,112,0.207647938474685),(64,116,-2.28243354594562),(65,87,0.53232673116245),(65,88,-3.2356028931547),(65,90,1.93296609393597),(65,97,5.2959990234077),(65,99,1.6235236671041),(65,107,0.721846675008393),(65,110,-5.3426618243965),(65,111,-2.0957365642262),(65,114,-2.46237067781609),(65,116,2.83036286507767),(65,117,-3.25312051759392),(66,85,1.47248756370739),(66,102,-0.381153294473098),(66,105,-0.485137485885189),(66,108,3.55137791070284),(66,111,1.26185644093143),(66,115,-1.02391125217444),(66,118,-0.242027039399396),(67,86,0.852504043702506),(67,90,-1.50083925901059),(67,92,-0.264046143986328),(67,104,-0.0440687276833398),(67,109,-0.765923032319101),(67,111,-0.880382702108829),(68,87,1.88148136844996),(68,88,-0.194006164738914),(68,90,1.00932340464492),(68,93,-1.35683004242073),(68,95,-1.70253608813746),(68,96,-0.64844203009125),(68,97,-0.797570726645711),(68,103,1.92899868770409),(68,107,-0.791764580217902),(68,112,0.972777489547411),(68,114,0.314088869899594),(69,87,3.29776909695731),(69,88,-2.96667378765221),(69,92,-0.510574663533433),(69,94,-0.683469649342326),(69,95,0.732329783013398),(69,97,-0.87290566728721),(69,108,1.59489730521561),(69,113,0.321062349314859),(69,114,0.716109195226905),(69,118,0.967650379955443),(70,85,-1.3449507126072),(70,86,-1.24304940946684),(70,87,-1.84917752616962),(70,90,2.17806024353771),(70,96,-2.57084109012116),(70,97,-1.05777916806543),(70,99,1.94975127414777),(70,105,-1.56034272286142),(70,107,1.11713003936888),(70,109,-2.39761040070803),(70,110,-1.15554521317179),(70,111,0.665433210242012),(71,85,1.44032105471969),(71,93,0.439138462477493),(71,96,-1.53180028687399),(71,100,0.236068300424207),(71,104,0.92184972685934),(71,106,0.75769829401532),(71,111,1.58818323313089),(71,113,1.11667226172674),(72,94,2.22338023010956),(72,96,2.36207159642323),(72,99,-0.727416302987762),(72,110,-0.173268837549974),(72,112,-0.95883053071688),(72,114,-1.64136173589282),(72,115,2.01536606952116),(72,116,2.345194860683),(73,88,0.294244209112827),(73,94,1.33082064271981),(73,99,-0.750450148014771),(73,100,-1.84301278725547),(73,106,1.94334238715781),(73,110,1.10103152562029),(73,115,-3.24634540849025),(74,90,-2.59185308389538),(74,94,-0.771309549241615),(74,99,-2.02623828852199),(74,102,-0.718253120517594),(74,106,2.65045625171667),(74,107,1.93597216711936),(74,110,2.39921262245552),(74,113,-1.8450727866451),(74,116,-2.20145268105106),(75,85,-2.54390087588122),(75,86,-2.53212073122349),(75,93,-1.53783532212287),(75,98,-1.88711966307566),(75,103,0.267204809717093),(75,105,-4.11381878109073),(75,111,-0.98040711691641),(75,117,-1.23180333872494),(76,86,-0.466635639515366),(76,89,0.304422132023072),(76,92,-2.93214972380749),(76,94,0.399029511398663),(76,99,0.222220526749473),(76,101,0.931501205481124),(76,103,0.444158757286294),(76,106,-3.1480605487228),(76,110,-0.075258644367809),(76,113,-1.14562669759209),(77,88,-0.344904934842982),(77,91,-0.110965300454726),(77,93,-0.192686239204077),(77,98,-0.168996246223334),(77,101,-0.834101382488479),(77,102,3.19212927640614),(77,103,1.56163212988678),(77,104,-0.234305856501968),(77,105,1.19023712881863),(77,109,-2.26135288552507),(78,88,0.0938596758934294),(78,93,-0.285332804345836),(78,94,-0.40210425122837),(78,101,1.00804162724693),(78,104,2.03404339732047),(78,110,0.520523697622608),(78,114,0.38266396069216),(78,116,1.14993743705557),(78,117,2.04091006195257),(78,118,1.10956144901883),(79,87,2.24327829828791),(79,92,-2.07163457136753),(79,94,2.78810235908078),(79,107,2.41149632251961),(79,108,-0.442548905911435),(79,114,4.16628772850734),(79,118,0.0618533890804773),(80,87,0.043244727927488),(80,88,-0.593890194402905),(80,91,0.616107669301431),(80,99,-0.274712363048189),(80,101,-2.61265907773064),(80,107,1.56100650044252),(80,113,-0.0123599963377789),(81,85,-0.401814325388348),(81,86,3.18300424207282),(81,90,-0.551705984679708),(81,93,1.17548142948698),(81,96,-1.07188634907071),(81,97,-3.79487746818445),(81,106,0.377521591845454),(81,107,1.17327646717734),(81,110,2.0455793939024),(81,115,-0.229781487472152),(82,86,-0.472655415509507),(82,92,0.928525650807215),(82,110,-2.23776207770013),(82,112,-1.20853297524949),(83,87,0.625095370342112),(83,91,1.89359721671194),(83,93,2.4623935666982),(83,101,-2.98764000366222),(83,103,0.21614734336375),(83,105,1.28638569292276),(83,108,-4.45569475386822),(84,85,-0.566949980162969),(84,86,-1.71842097231971),(84,89,2.42370372631001),(84,95,-1.45123142185736),(84,99,2.41092410046693),(84,104,2.06942197943052),(84,111,1.05425428022095),(84,113,-3.8914151432844),(84,114,0.522095400860622),(10,119,1.21573534348582),(119,109,2.73371837519456),(58,120,-0.0320978423413801),(120,118,-2.12771233252968),(95,104,1.00427259132664)]
orgname='BHNEAT_12_11'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()