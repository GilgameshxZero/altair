edge = [(0,85,-1.54008606219672),(0,89,-0.776818140202033),(0,90,0.0562303537095248),(0,93,-2.34023560289315),(0,98,0.571581163975951),(0,101,-1.30645161290323),(0,105,0.397106845301675),(0,108,-1.92350535599841),(0,113,0.326349681081576),(0,114,1.53471480452895),(0,117,2.09616382335887),(0,118,-0.0313730277413251),(1,86,-1.51606799523911),(1,92,-1.57435834833827),(1,98,1.53050325022126),(1,102,-0.851512192144536),(1,104,-1.80620746482742),(1,107,0.764732810449538),(1,108,-0.971861934263131),(1,109,1.90975676747948),(1,113,1.527024140141),(2,87,-1.36223944822535),(2,88,-0.790353099154637),(2,100,-0.455977050080874),(2,106,-2.69939268166143),(2,108,2.11398663289285),(2,110,-2.16339609973449),(2,113,-1.04293954283273),(2,118,2.37446211127049),(3,89,-2.37180700094607),(3,92,-1.42519913327433),(3,97,0.0401318399609363),(3,99,0.285103915524766),(3,101,0.146809289834284),(3,103,0.207312234870449),(3,105,0.994094668416395),(3,108,0.353099154637288),(3,109,0.184102908413953),(3,111,-2.38369396038697),(3,112,-0.180990020447401),(3,116,0.985213782158879),(4,90,-0.383144627216407),(4,91,0.556062501907407),(4,97,-3.0556962797937),(4,99,0.032624286629841),(4,101,1.47225867488632),(4,108,0.707113864558855),(4,113,-2.34957426679281),(4,118,1.14169743949705),(5,86,0.0511337626270334),(5,87,-1.75766777550584),(5,89,-0.434858241523484),(5,92,-0.95883053071688),(5,93,0.519486068300424),(5,99,1.23200170903653),(5,104,-1.8485671559801),(5,114,-0.519272438734092),(5,118,-0.565019684438612),(6,89,0.0690481276894436),(6,92,-0.823847163304544),(6,94,0.391476180303354),(6,100,1.63447981200598),(6,101,-1.79335917233802),(6,103,-1.44909512619404),(6,107,-0.357417523728141),(6,110,0.269127475814081),(6,113,0.533204138309885),(7,85,2.6227607043672),(7,86,1.00411999877926),(7,90,-2.51031525620289),(7,95,3.15588854640339),(7,99,2.18623920407727),(7,100,0.664998321481979),(7,104,-1.88520462660604),(7,106,-1.51905880916776),(7,108,-1.2613452558977),(7,112,-0.600894192327647),(7,116,1.40644550920133),(8,92,-0.235480819116794),(8,93,-1.77875606555376),(8,95,-0.575426496169927),(8,99,-2.1238441114536),(8,106,0.746421704763939),(8,107,1.20294808801538),(8,115,-0.101092562639241),(8,116,-0.381145664845729),(8,118,-2.9872280037843),(9,85,1.93653675954466),(9,87,-0.663884395886105),(9,98,2.05977050080874),(9,101,-0.0825067903683585),(9,103,-1.19457075716422),(9,105,-0.305978576006348),(9,106,-0.747810296945097),(9,113,-0.297952208014161),(10,89,-0.0688497573778497),(10,96,1.46676534318064),(10,106,1.47228919339579),(10,108,1.34795678579058),(10,109,1.0670644245735),(10,111,0.65591906491287),(10,112,-0.883434553056429),(10,114,-1.90040284432508),(10,115,2.53421124912259),(10,116,-0.271614734336375),(10,117,0.981353190710166),(11,89,-0.252998443556017),(11,97,2.70784630878628),(11,105,-2.89288003173925),(11,112,-1.89756462294382),(11,115,-2.71156956694235),(12,92,-3.00740073854793),(12,93,-1.28746910000916),(12,94,0.182729575487533),(12,97,-1.25026703695791),(12,98,-1.72069460127567),(12,99,2.96203497421186),(12,108,0.783425397503586),(12,116,-0.679647206030457),(13,86,0.335291604358043),(13,87,-1.13591418195135),(13,90,1.02056947538682),(13,99,-0.983748893704032),(13,102,0.683156834620197),(13,104,-0.303262428662984),(13,113,-2.33658864101077),(13,116,-0.592776268807031),(13,118,0.516983550523392),(14,90,-1.57943968016602),(14,93,-0.332697531052583),(14,95,1.10011597033601),(14,102,-0.0958891567735832),(14,104,0.367519150364696),(14,106,3.11946470534379),(14,109,0.209768974883267),(14,110,-0.898022400585955),(14,111,-2.10249641407514),(15,85,-0.203634754478591),(15,92,-1.23012482070376),(15,99,-1.41732535782952),(15,101,-1.3037507248146),(15,104,1.23024689474166),(15,108,1.46786400952177),(15,117,0.485305337687307),(16,86,-0.0740836817529832),(16,87,0.484771263771477),(16,88,0.130558183538316),(16,90,-1.51039155247658),(16,91,1.69629505294961),(16,95,-2.69032868434706),(16,97,-0.0597857600634785),(16,98,-1.32000183111057),(16,99,-0.265449995422224),(16,101,3.18495742667928),(16,108,1.82836390270699),(16,110,0.361888485366375),(17,89,1.50062562944426),(17,96,-1.8338267159032),(17,99,-0.065080721457564),(17,101,-0.763161107211524),(17,106,0.0885799737540818),(17,107,0.32822656941435),(17,109,-1.21706289864803),(18,90,2.24224066896573),(18,91,-1.32877590258492),(18,93,1.10112308114872),(18,99,1.6468550675985),(18,102,-1.81168553727836),(18,103,-1.57197790459914),(18,104,0.288628803369243),(18,110,-1.59111301004059),(18,111,1.42779320657979),(18,116,-0.167470320749534),(18,117,-0.984450819421979),(18,118,1.52612384411145),(19,87,-0.260994293038728),(19,89,2.05415509506516),(19,93,-0.149693288979766),(19,95,-1.23340556047243),(19,101,3.08571123386334),(19,105,-2.68221076082644),(19,115,-1.82688375499741),(20,88,1.12761314737388),(20,101,0.592181157872249),(20,103,-0.963499862666707),(20,104,0.123859370708335),(20,105,-0.274010437330241),(20,106,0.398739585558641),(20,111,-1.28566850795007),(20,116,2.10173345133824),(21,86,0.752586443678091),(21,87,0.829172643208106),(21,94,-0.878688924832911),(21,96,2.17833491012299),(21,101,1.97717215491195),(21,102,-0.210135196996979),(21,105,-0.190496536149175),(21,107,1.07032990508744),(21,108,1.752067629017),(22,86,-2.79783013397626),(22,88,-2.8973967711417),(22,91,-0.262596514786218),(22,92,-2.05589465010529),(22,93,0.792886135441145),(22,98,-1.44579912717063),(22,106,-3.06118961149937),(22,115,-1.69983520004883),(22,117,0.463728751487777),(23,85,2.19031342509232),(23,86,-0.492278817102573),(23,88,0.833521530808435),(23,90,-1.07322916348766),(23,97,-0.526047547837764),(23,104,-0.532792138431959),(23,112,0.549943540757469),(23,114,-1.75069429609058),(23,115,0.71126438184759),(23,116,0.612735374004334),(24,89,-2.09422589800714),(24,90,-3.25453962828455),(24,91,-1.82998138370922),(24,101,-1.83446760460219),(24,107,-1.66386913663137),(24,108,-1.13548692281869),(24,110,1.30030213324381),(24,112,-0.599414044618061),(25,90,0.333292641987365),(25,92,0.432477797784356),(25,94,1.07887508774071),(25,98,1.95680104983673),(25,105,3.25330362865078),(25,108,-0.609836115604114),(25,109,0.947767571031831),(25,115,0.499267555772576),(26,85,0.185842463454085),(26,87,-0.581820123905148),(26,89,1.43543809320353),(26,95,-1.16116824854274),(26,98,-0.358439893795587),(26,100,0.728782006286813),(26,101,-1.21219519638661),(26,102,-1.05494857631153),(26,103,-0.683339945677053),(26,104,-0.343028046510208),(26,107,0.950407422101505),(26,109,2.2990508743553),(26,112,-0.266182439649647),(26,113,1.38784447767571),(26,117,-2.00291451765496),(27,85,-0.557191686758019),(27,87,-0.337214270455031),(27,94,0.989272743919187),(27,100,-0.939024018066958),(27,102,1.10881374553667),(27,103,1.24683370464187),(27,104,-1.4968260750145),(27,105,0.199575792718284),(27,108,-0.806146427808466),(27,110,0.908215582750938),(27,114,-2.02873317667165),(28,87,0.178930021057772),(28,88,-1.04942472609638),(28,97,-0.276955473494675),(28,99,-0.73787652211066),(28,104,2.35254982146672),(28,113,-1.83323160496841),(28,114,0.0146336252937406),(29,88,1.65845210119938),(29,91,-1.17317728202155),(29,102,1.34905545213172),(29,105,-0.495635853144932),(29,116,0.308511612292856),(30,95,-0.101428266243477),(30,96,0.0994903408917509),(30,99,-0.472518082216865),(30,101,2.38268684957427),(30,104,0.586107974486526),(30,109,-0.737449262977996),(30,110,1.90145573290201),(30,114,2.20061342204047),(30,118,0.451322977385784),(31,85,-1.51426740318003),(31,92,1.68411816766869),(31,94,-1.78099917600024),(31,96,-0.438367870113224),(31,99,1.80303353984191),(31,103,-1.7478102969451),(31,107,-0.911435285500656),(31,108,3.23642689291055),(31,109,1.36802270577105),(31,111,-0.163426618243965),(31,112,-0.307931760612812),(31,117,-0.884166997283853),(32,86,0.412762840662862),(32,87,-0.280861842707602),(32,89,-2.06178472243416),(32,92,-1.06895657216102),(32,98,-2.80346079897458),(32,99,-1.48463393047884),(32,104,-0.8737449262978),(32,106,-0.634083071382794),(32,109,0.235389263588366),(32,116,-2.76111636707663),(32,118,-1.70909756767479),(33,96,-1.36115604113895),(33,98,2.69367046113468),(33,108,-0.539216284676656),(33,110,0.297402874843593),(33,111,0.847849971007416),(33,114,0.242011780144658),(34,85,-0.244163335062716),(34,90,-0.394970549638356),(34,99,0.0490585039826655),(34,104,-1.72687459944456),(34,109,0.171788689840388),(35,86,-2.48802148503067),(35,87,0.684499649037141),(35,97,0.43603320413831),(35,98,0.749382000183111),(35,100,-1.96636860255745),(35,104,-1.30912198248238),(35,107,-0.709707937864315),(35,109,1.59953611865596),(35,110,-0.784035767693106),(35,112,2.55294961394085),(36,85,0.827799310281686),(36,87,-0.111270485549486),(36,90,1.16504409924619),(36,91,2.17429120761742),(36,104,0.406048768578143),(36,107,3.16997283852657),(36,109,-0.970336008789331),(36,112,0.531571398052919),(36,115,1.67699209570605),(36,117,1.14584795678579),(36,118,0.62709433271279),(37,85,-0.82967619861446),(37,86,1.97653126621296),(37,87,0.0559251686147648),(37,91,-1.67989135410627),(37,99,-0.805856501968444),(37,105,1.8711355937376),(37,111,-0.0716269417401654),(37,112,-0.0670644245735038),(37,118,-0.407071138645589),(38,87,0.187749870296335),(38,90,0.963835566270943),(38,103,0.984023560289315),(38,105,1.58273567918943),(38,106,-0.397579882198553),(38,111,-0.257301553392132),(38,115,-1.02937406537065),(39,87,0.855754264961699),(39,89,-0.485930967131565),(39,91,-0.930661946470534),(39,94,-1.34922330393384),(39,97,-1.01832636494034),(39,98,2.14120914334544),(39,107,0.203695791497543),(39,108,-0.997451704458754),(39,109,0.914548173467208),(39,111,-2.28569902645955),(39,113,-1.05069124423963),(39,116,1.40444654683065),(39,118,0.657032990508744),(40,88,1.35601367229225),(40,92,1.33663441877499),(40,99,-2.13469344157231),(40,104,1.66772972808008),(40,110,2.14233832819605),(40,116,-2.96821497238075),(40,118,-2.34282967619861),(41,88,0.011139255958739),(41,93,1.55149998474075),(41,96,-0.0898312326425977),(41,97,0.860850856044191),(41,100,2.60406811731315),(41,101,-0.161168248542741),(41,104,0.611056855983154),(41,105,0.0281380657368694),(41,106,-0.0944090090639973),(41,107,1.75252540665914),(41,109,0.210180974761193),(41,110,1.05710013122959),(41,111,-0.500350962858974),(41,112,-0.971312601092563),(42,85,0.970519119846187),(42,86,2.14590899380474),(42,87,0.251823480941191),(42,99,0.588549455244606),(42,100,-1.65501876888333),(42,103,-0.2150028992584),(42,109,0.638142033143101),(42,113,-0.25754570146794),(43,85,0.432874538407544),(43,88,1.90008239997559),(43,89,0.120181890316477),(43,93,0.812128055665761),(43,97,-2.41012298959319),(43,98,-1.55888546403394),(43,101,-1.36384166997284),(43,102,2.73546555986206),(43,103,0.122684408093509),(43,105,-1.62457655568102),(43,110,0.187017426068911),(43,112,0.0760063478499711),(43,114,-2.26598406933805),(43,116,-2.19153416547136),(44,89,2.07747123630482),(44,98,-1.46824549089022),(44,99,1.14201788384655),(45,87,-0.514770958586383),(45,88,-0.203558458204901),(45,90,-0.385967589342937),(45,91,-0.677282021546068),(45,95,-0.709601123081149),(45,98,-1.22405163731803),(45,108,0.120777001251259),(45,109,-1.05681020538957),(45,112,-1.57995849482711),(45,115,-1.73056733909116),(46,85,-0.46012756736961),(46,89,0.450972014526811),(46,91,-0.100833155308695),(46,94,-1.18379772331919),(46,97,-0.62587359233375),(46,100,-1.50677510910367),(46,101,-2.06044190801721),(46,108,-2.1698660237434),(46,112,-0.144230475783563),(47,86,0.255088961455122),(47,91,1.64531388286996),(47,92,1.90159306619465),(47,94,-0.560289315469832),(47,95,0.593661305581835),(47,100,-0.944837794122135),(47,101,2.1043275246437),(47,104,2.82982879116184),(47,105,0.271919919431135),(47,108,2.27599414044618),(47,112,0.984054078798791),(47,114,2.35877559739982),(47,118,0.616992706076235),(48,86,-0.341471602526933),(48,91,-2.95120090334788),(48,98,2.19025238807337),(48,99,-0.273522141178625),(48,100,1.39851069673757),(48,103,-0.608996856593524),(48,105,-2.32224494155705),(48,106,0.416241950743126),(48,111,-0.0663167210913419),(48,115,0.645695364238411),(49,87,-0.271584215826899),(49,89,-1.88592181157872),(49,93,-0.811899166844691),(49,94,-0.123752555925169),(49,95,1.70703756828516),(49,102,0.4112521744438),(49,113,-1.98110904263436),(49,114,0.659276100955229),(50,89,-0.503082369457076),(50,105,-0.799127170628987),(50,107,-0.748130741294595),(51,87,1.37461470381787),(51,92,-1.31981872005371),(51,97,0.750556962797937),(51,98,-2.45495468001343),(51,103,1.64694662312693),(51,106,1.09840693380535),(51,112,0.507217627491073),(51,118,1.82222968230232),(52,89,1.86327707754753),(52,97,-1.78017517624439),(52,106,-3.13035981322672),(52,110,-0.674764244514298),(52,111,0.338938566240425),(52,113,2.27294228949858),(52,114,-0.43588061159093),(52,118,0.791314432203131),(53,88,0.032578508865627),(53,90,-2.6487014374218),(53,92,0.0807824945829645),(53,94,-0.76105533005768),(53,104,0.559450056459243),(53,105,0.56755272072512),(53,109,-2.81038850062563),(54,85,2.30823694570757),(54,91,1.87086092715232),(54,94,0.757911923581652),(54,96,1.61038544877468),(54,111,0.933408612323374),(54,112,-0.738151188695944),(54,113,0.50083925901059),(54,118,-0.0560625019074068),(55,87,1.90099795525987),(55,95,1.27437665944395),(55,107,-2.23044526505325),(55,110,-1.38897366252632),(55,117,-2.79036835840938),(56,107,0.710806604205451),(56,111,-0.62968840601825),(56,113,-0.931272316660054),(56,114,2.26464125492111),(57,87,-0.862453077791681),(57,90,1.25014496292001),(57,91,0.563066499832148),(57,92,1.98152104251228),(57,93,0.312448500015259),(57,94,-1.42013306070132),(57,95,0.188207647938475),(57,96,-2.12984099856563),(57,100,1.00756859035005),(57,102,1.52546769615772),(57,103,1.31473738822596),(57,115,-0.482345042268136),(58,86,-0.136112552262947),(58,87,-0.996475112155522),(58,89,0.0590685750907926),(58,90,0.32944730979339),(58,95,-2.63879818109684),(58,96,1.20014038514359),(58,101,0.245460371715445),(58,103,0.933256019775994),(58,109,-1.50708029419843),(58,110,3.00085451826533),(58,113,1.33156834620197),(58,114,1.44749290444655),(58,115,-2.1660512100589),(58,118,2.02719199194311),(59,85,0.021515549180578),(59,86,-1.66081728568377),(59,90,-1.37673574022645),(59,91,2.4016541032136),(59,93,-1.67676320688498),(59,97,1.30327768791772),(59,98,-1.98870815149388),(59,100,1.17218543046358),(59,102,1.27674184392834),(59,112,0.373012482070376),(59,114,0.247550889614551),(60,85,-1.99090548417615),(60,87,1.56118961149937),(60,90,-1.31412701803644),(60,91,-1.67294839320048),(60,96,-1.1870937223426),(60,100,0.0686361278115177),(60,101,-2.19586779381695),(60,105,-1.48091067232276),(60,107,2.21404156620991),(60,109,1.54206976531266),(60,110,-2.40797143467513),(60,114,-0.689962462233345),(61,89,-0.180242316965239),(61,94,0.854731894894253),(61,96,1.68033387249367),(61,98,-0.882213812677389),(61,100,-1.13536484878079),(61,102,-1.7040009765923),(61,103,1.55789361247597),(61,114,-0.969100009155553),(61,115,-0.010681478316599),(62,93,1.78293710135197),(62,95,-0.964842677083651),(62,107,-2.09997863704337),(62,109,-1.46687215796381),(62,110,-1.17519150364696),(62,111,1.3772392956328),(63,87,-3.32412182988983),(63,90,-1.53627124851222),(63,93,1.35914181951353),(63,97,1.24083681752983),(63,100,-1.02793969542528),(63,103,-0.32769249549852),(63,104,-0.247001556443983),(63,108,1.34112063966796),(63,111,0.89349040192877),(63,114,1.17709891048921),(63,117,-0.175298318430128),(64,87,0.286568803979614),(64,94,1.41401409955138),(64,99,0.0310373241370891),(64,110,1.44656208990753),(64,112,-1.56288338877529),(64,116,0.533967101046785),(65,87,0.131733146153142),(65,88,2.21034882656331),(65,90,1.1162144840846),(65,97,-1.23816644795068),(65,99,-0.0675069429609058),(65,107,-2.49438459425642),(65,110,1.52865688039796),(65,111,0.291909543137913),(65,114,-0.739753410443434),(65,116,-0.41651661732841),(65,117,-1.32145146031068),(66,85,0.941160313730277),(66,102,-0.826441236610004),(66,105,-1.34975737784967),(66,108,3.29792168950469),(66,111,2.9069948423719),(66,115,2.89298684652242),(66,118,-1.69470809045686),(67,86,-0.899029511398663),(67,90,0.859233375041963),(67,92,0.188238166447951),(67,104,1.65924558244575),(67,109,0.885433515427106),(67,111,0.95440534684286),(68,87,1.39996032593768),(68,88,1.86538285470138),(68,90,-0.464857936338389),(68,93,-1.3390911587878),(68,95,2.31217383342998),(68,96,-0.188909573656423),(68,97,0.877590258491775),(68,103,0.376293221839045),(68,107,-0.140690328684347),(68,112,-0),(68,114,3.12915433210242),(69,87,2.13837092196417),(69,88,1.33677175206763),(69,92,0.673085726493118),(69,94,-0.338572344126713),(69,95,-0.715811639759514),(69,97,-1.21205786309397),(69,108,-1.83822138126774),(69,113,-1.14546647541734),(69,114,2.203436384167),(69,118,-1.03016754661702),(70,85,1.07676931058687),(70,86,1.77527695547349),(70,87,1.08847315897092),(70,90,1.58157597582934),(70,96,-0.00350962858973968),(70,97,-0.135975218970306),(70,99,1.8618579668569),(70,105,-2.86542863246559),(70,107,-2.11111789300211),(70,109,-0.529709768974883),(70,110,0.64943388164922),(70,111,-0.148472548600726),(71,85,-0.231849116489151),(71,93,-0.46134830774865),(71,96,-1.80164494766076),(71,100,2.1989806817835),(71,104,0.352183599353008),(71,106,-0.206213568529313),(71,111,0.246177556688131),(71,113,0.0154881435590686),(72,94,0.443388164922025),(72,96,0.831110568559832),(72,99,1.32509842219306),(72,110,-1.08943449201941),(72,112,-1.20654927213355),(72,114,2.27083651234474),(72,115,-1.74298837244789),(72,116,2.18121890926847),(73,88,-0.533188879055147),(73,94,-1.4260689107944),(73,99,-1.19647816400647),(73,100,-0.521698660237434),(73,106,1.26361888485366),(73,110,2.21900082399976),(73,115,0.584734641560106),(74,90,0.723990600299081),(74,94,-1.97335734122745),(74,99,-0.135349589526048),(74,102,0.569093905453658),(74,106,-2.27430036317026),(74,107,1.62170781579028),(74,110,-1.47402874843593),(74,113,-0.236793115024262),(74,116,2.04010132145146),(75,85,-0.562837611011078),(75,86,-0.509125034333323),(75,93,-1.88990447706534),(75,98,0.600970488601337),(75,103,-0.815424054689169),(75,105,0.0986205633716849),(75,111,1.9365520187994),(75,117,-0.044495986816004),(76,86,-1.38271736808374),(76,89,1.07542649616993),(76,92,0.910168767357402),(76,94,1.28200628681295),(76,99,1.70709860530412),(76,101,1.29100924710837),(76,103,-0.708456678975799),(76,106,1.71527756584368),(76,110,1.36465041047395),(76,113,-0.897930845057527),(77,88,-0.983275856807154),(77,91,0.0854213080233161),(77,93,-1.9594409009064),(77,98,1.9380779442732),(77,101,-3.08171330912198),(77,102,-0.696996978667562),(77,103,2.04519791253395),(77,104,0.599002044740135),(77,105,0.641819513534959),(77,109,2.17523728141118),(78,88,-0.387874996185186),(78,93,2.00653096102786),(78,94,1.21275978881191),(78,101,2.09738456373791),(78,104,-2.21254615924558),(78,110,-0.898052919095431),(78,114,-2.27599414044618),(78,116,0.492950224311045),(78,117,-0.962950529496139),(78,118,0.643620105594043),(79,87,-0.26059755241554),(79,92,1.11552781762139),(79,94,0.238166447950682),(79,107,1.31220435193945),(79,108,0.85003204443495),(79,114,-2.38937040314951),(79,118,-0.0370647297585986),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,0.65523239844966),(80,99,0.106082338938566),(80,101,1.42318491164892),(80,107,2.92464980010376),(80,113,-0.100482192449721),(81,85,-0.408490249336222),(81,86,-2.72974333933531),(81,90,-2.42851039155248),(81,93,-0.276284066286203),(81,96,0.0606555375835444),(81,97,-0.145512253181555),(81,106,0.500473036896878),(81,107,1.56428724021119),(81,110,-1.02710043641469),(81,115,-0.515396588030641),(82,86,2.58780175176244),(82,92,-0.0863673818170721),(82,110,-0.852443006683554),(82,112,2.1834772789697),(83,87,-1.21272927030244),(83,91,-0.762031922360912),(83,93,0.487807855464339),(83,101,-1.1701864680929),(83,103,-1.17938779869991),(83,105,0.365489669484542),(83,108,-1.32117679372539),(84,85,0.380306405835139),(84,86,-1.6433606982635),(84,89,1.10623493148595),(84,95,0.344431897946104),(84,99,-0.142216254158147),(84,104,-1.36135441145054),(84,111,-0.95448164311655),(84,113,1.93594164860988),(84,114,1.61917477950377)]
orgname='BHNEAT_4_10'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()