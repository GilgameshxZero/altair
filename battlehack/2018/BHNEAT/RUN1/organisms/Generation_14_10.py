edge = [(0,85,0.981238746299631),(0,89,-3.66734061708426),(0,90,-1.52317880794702),(0,93,-1.76830347605823),(0,98,-3.7053056428724),(0,101,-1.55719931638539),(0,105,1.95402386547441),(0,108,1.2282937101352),(0,113,1.20090334788049),(0,114,2.40371410260323),(0,117,3.56952116458632),(0,118,-2.82297738578448),(1,86,-4.48155919064913),(1,92,1.6759697256386),(1,98,2.09971160008545),(1,102,-1.17702261421552),(1,104,-1.49144718771935),(1,107,-3.28184987945189),(1,108,-0.379116183965575),(1,109,2.36472670674764),(1,113,-1.09695730460524),(2,87,-3.92732016968291),(2,88,4.66948454237495),(2,100,-2.05282753990295),(2,106,-2.71137119663076),(2,108,0.940092165898617),(2,110,-2.08153019806513),(2,113,-2.26572084719382),(2,118,0.579775383770257),(3,89,4.16372417371136),(3,92,-0.574610126041444),(3,97,-0.0840021973326822),(3,99,4.98363826410718),(3,101,-3.35012359996338),(3,103,1.89100314340648),(3,105,1.48441267128513),(3,108,-0.208090456862087),(3,109,-2.15472884304331),(3,111,1.42071291238136),(3,112,0.475936155278176),(3,116,-4.09744178594318),(4,90,-1.53744621112705),(4,91,0.15881832331309),(4,97,0.990371410260323),(4,99,-1.65436262092959),(4,101,0.220618305001984),(4,108,1.38374736777856),(4,113,-0.265396588030641),(4,118,-1.30410931730094),(5,86,1.70468764305551),(5,87,-3.93592638935514),(5,89,-1.89528336436048),(5,92,-1.42877742851039),(5,93,-3.31051057466353),(5,99,1.60786767174291),(5,104,-1.69820245979186),(5,114,3.55224005859554),(5,118,-0.431939909054842),(6,89,-1.80553605761895),(6,92,0.427564317758721),(6,94,0.962038789025544),(6,100,-0.600299081392865),(6,101,-0.991904965361492),(6,103,1.22202978606525),(6,107,-1.99958037049471),(6,110,1.09919278542436),(6,113,2.07663197729423),(7,85,4.81807153538621),(7,86,-2.02339243751335),(7,90,0.531598101748711),(7,95,-2.05587939085055),(7,99,1.14693136387219),(7,100,3.68124179815058),(7,104,-4.79325998718223),(7,106,1.62343211157567),(7,108,-0.414265877254555),(7,112,-3.68284401989807),(7,116,2.42240668965728),(8,92,-1.71623889889218),(8,93,2.58878597369304),(8,95,-2.03131199072237),(8,99,2.44003112887967),(8,106,-3.18678090762047),(8,107,-1.72643208105716),(8,115,3.18854335154271),(8,116,1.72493667409284),(8,118,-1.74447614978484),(9,85,1.60230185857723),(9,87,-2.30094302194281),(9,98,-1.30657368694113),(9,101,0.840136417737358),(9,103,6.71937467574084),(9,105,1.90848261970885),(9,106,3.44238105410932),(9,113,0.628055665761284),(10,89,1.67912839136937),(10,96,0.227217932676168),(10,106,2.40734580523087),(10,108,3.33109530930509),(10,111,-1.71621601001007),(10,112,0.00762962736899953),(10,114,0.395504623554186),(10,115,-3.30138554033021),(10,116,-0.280503250221259),(10,117,0.876415295876949),(11,89,-2.08684041871395),(11,97,0.0801454206976535),(11,105,-1.5460219122898),(11,112,-0.815454573198645),(11,115,-2.33699301126133),(12,92,5.50222785119175),(12,93,2.33664204840236),(12,94,-0.847289193395795),(12,97,0.729804376354259),(12,98,4.94561601611377),(12,99,2.16406750694296),(12,108,-2.37449262977996),(12,116,1.09149449140904),(13,86,2.83201086458937),(13,87,-0.520348216193121),(13,90,0.3902096621601),(13,99,1.1770760216071),(13,102,-2.05038605914487),(13,104,0.999938962981048),(13,113,1.53399761955626),(13,116,-6.05623798333689),(13,118,0.808206427198096),(14,90,-6.27206488235115),(14,93,2.09595019379254),(14,95,-4.67772453993347),(14,102,1.26899777214881),(14,104,-3.06978057191687),(14,106,1.33770256660665),(14,109,-2.4162724692526),(14,110,-1.79860835596789),(14,111,-4.36902218695639),(15,85,-1.11004211554308),(15,92,2.53561510055849),(15,99,-1.81460005493332),(15,101,0.944929349650563),(15,104,0.10914563432722),(15,108,1.60573137607959),(15,117,-0.526383251441999),(16,86,-2.19313638721885),(16,87,1.37054048280282),(16,88,-0.820719016083254),(16,90,-0.28370006408887),(16,91,-2.73552659688101),(16,95,1.9708853419599),(16,97,-3.84537797173986),(16,98,0.135433515427106),(16,99,-2.26680806909391),(16,101,0.861735892818995),(16,108,3.80961027863399),(16,110,1.72906048768578),(17,89,-0.86482589190344),(17,96,-0.0879390850550856),(17,99,-0.264137699514756),(17,101,-2.47400585955382),(17,106,-1.56826990569781),(17,107,1.28949095126194),(17,109,-2.80635242774743),(18,90,-1.05006561479537),(18,91,0.643654438917203),(18,93,3.60863063447981),(18,99,-0.162739951780755),(18,102,2.10150456251717),(18,103,-2.49001281777398),(18,104,2.01174199652089),(18,110,-1.25170903653066),(18,111,-0.41773735770745),(18,116,-1.59367656483657),(18,117,-2.76242103335673),(18,118,0.584948271126438),(19,87,-0.615176854762413),(19,89,0.148548844874416),(19,93,1.12159337137974),(19,95,-2.35930967131565),(19,101,1.18406476027711),(19,105,-4.30652027954955),(19,115,-1.23661000396741),(20,88,-3.3082293160802),(20,101,3.41788995025483),(20,103,-0.0372859889522997),(20,104,2.43865016632588),(20,105,-1.27166051210059),(20,106,0.32311471907712),(20,111,-0.906323435163427),(20,116,0.735335856196783),(21,86,2.06595049897763),(21,87,-0.669537949766533),(21,94,0.391144291512803),(21,96,2.4248863185522),(21,101,3.10586107974487),(21,102,2.13522751548814),(21,105,-2.49885555589465),(21,107,0.420438245796075),(21,108,3.36986144596698),(22,86,0.448850978118229),(22,88,-3.54657887508774),(22,91,0.581774346140934),(22,92,-0.463736381115146),(22,93,0.410702841273232),(22,98,0.659504989776299),(22,106,-6.34971160008545),(22,115,0.352336191900388),(22,117,0.21874141666921),(23,85,-0.294183172093875),(23,86,-1.60730307931761),(23,88,-2.64551225318155),(23,90,-0.0566118350779748),(23,97,-0.113666188543351),(23,104,3.51861629078036),(23,112,-4.39828943754387),(23,114,2.0695516830958),(23,115,-0.596942045350505),(23,116,-1.29163487655263),(24,89,-2.08404034546953),(24,90,-1.44268623920408),(24,91,0.396649067659536),(24,101,-0.138206884975738),(24,107,2.18955809198279),(24,108,4.10995818964202),(24,110,0.149082918790246),(24,112,-0.966292306283761),(25,90,-2.05958738975188),(25,92,0.296365245521409),(25,94,-7.19232764671773),(25,98,0.649197363200781),(25,105,-0.924634540849025),(25,108,6.44550920133061),(25,109,-0.221213415936766),(25,115,-2.53353984191412),(26,85,1.24494918668172),(26,87,-0.524948881496628),(26,89,-0.881069368572039),(26,95,0.182004760887478),(26,98,-3.00365459150975),(26,100,0.0921658986175115),(26,101,2.55303353984191),(26,102,-0.985900448622089),(26,103,0.684575945310831),(26,104,1.48750267036958),(26,107,-1.81516464735862),(26,109,0.931348612933744),(26,112,3.27049317911313),(26,113,1.77134769737846),(26,117,1.44314401684622),(27,85,-2.86812952055422),(27,87,1.90409558397168),(27,94,1.60405285805841),(27,100,-0.350199896237068),(27,102,-1.33857997375408),(27,103,-3.1129642628254),(27,104,1.26742606891079),(27,105,-0.469756157109287),(27,108,-0.403225806451613),(27,110,-0.0299233985412153),(27,114,-1.8084505752739),(28,87,-2.13418225653859),(28,88,-1.04355754264962),(28,97,2.58619571520127),(28,99,2.35831781975768),(28,104,-4.04795983764153),(28,113,0.85490737632374),(28,114,-4.44257942442091),(29,88,3.22516556291391),(29,91,1.86590166936247),(29,102,-2.29210791344951),(29,105,-3.78690450758385),(29,116,-1.71117282631916),(30,95,0.954771568956572),(30,96,3.43206579790643),(30,99,2.77435377056185),(30,101,-2.3596911526841),(30,104,2.14552751243629),(30,109,-1.84679708243049),(30,110,2.02680288094729),(30,114,-0.374546037171545),(30,118,0.276718955046236),(31,85,3.41290780358287),(31,92,2.21340830713828),(31,94,2.07640308847316),(31,96,0.276070436719871),(31,99,-0.643177587206641),(31,103,-0.369212927640614),(31,107,-2.37277596362194),(31,108,1.45680104983673),(31,109,-1.10068819238868),(31,111,2.23022400585955),(31,112,-1.939603869747),(31,117,2.32817316202277),(32,86,-1.14806817835017),(32,87,-0.940427869502854),(32,89,1.12842951750237),(32,92,1.48052156132694),(32,98,0.47911008026368),(32,99,-2.49212622455519),(32,104,-2.40234076967681),(32,106,3.31127353740043),(32,109,-1.36303292947172),(32,116,-1.31740775780511),(32,118,-0.833750419629505),(33,96,-1.75420392468032),(33,98,-3.49563585314493),(33,108,4.46810815759758),(33,110,0.936086611529893),(33,111,-0.695242164372692),(33,114,-3.69411679433576),(34,85,-0.74108096560564),(34,90,0.948606830042421),(34,99,1.08432264168218),(34,104,0.189825128940703),(34,109,-4.81402020325327),(35,86,2.03249458296457),(35,87,0.670308542130802),(35,97,0.412343211157567),(35,98,3.42761009552293),(35,100,0.670884578997162),(35,104,-3.74243903927732),(35,107,-1.27941221350749),(35,109,-1.29094821008942),(35,110,1.24393444624165),(35,112,-0.6572161015656),(36,85,0.0783028656880397),(36,87,-4.62804803613392),(36,90,3.63303781243324),(36,91,2.05545976134526),(36,104,-0.338488418225654),(36,107,3.77877895443587),(36,109,-1.03869747001556),(36,112,-0.994476149784845),(36,115,4.38371684926908),(36,117,-6.0252769554735),(36,118,1.92357783745842),(37,85,2.45529801324503),(37,86,-2.12546159245582),(37,87,-0.544335764641255),(37,91,1.86288796655171),(37,99,-0.311784722434156),(37,105,-2.33309427167577),(37,111,4.21504104739525),(37,112,-1.09779656361583),(37,118,1.53650013733329),(38,87,1.87772759178442),(38,90,-1.49931333353679),(38,103,2.99181722464675),(38,105,2.71489608447523),(38,106,-0.0225455488753931),(38,111,-0.848788415173803),(38,115,-2.67428357799005),(39,87,0.837885677663503),(39,89,0.21782586138493),(39,91,-4.10885952330088),(39,94,2.20886104922636),(39,97,1.71155430768761),(39,98,0.327043977172155),(39,107,1.76793725394452),(39,108,2.10043641468551),(39,109,3.24337748344371),(39,111,-2.7038789025544),(39,113,-2.04521317178869),(39,116,0.0169797357097079),(39,118,-5.43045594653157),(40,88,-0.511795403912473),(40,92,-1.8527024140141),(40,99,1.58624530777917),(40,104,-2.52467421491134),(40,110,-0.479750968962676),(40,116,0.3060396130253),(40,118,-2.08189642017884),(41,88,-6.80394909512619),(41,93,3.76931821649831),(41,96,-0.688795129245888),(41,97,0.169415875728629),(41,100,1.66032135990478),(41,101,5.15139851069674),(41,104,-0.632602923673208),(41,105,0.266197698904385),(41,106,-1.06784264656514),(41,107,-4.55694753868221),(41,109,0.0357066560869166),(41,110,1.16809595019379),(41,111,-0.734702597125157),(41,112,4.30304116946928),(42,85,1.58653523361919),(42,86,-1.55433820612201),(42,87,1.91312906277657),(42,99,0.926293984801782),(42,100,-2.44593646046327),(42,103,1.48220770897549),(42,109,-1.27053132724998),(42,113,-2.72878200628681),(43,85,1.44563127536851),(43,88,-0.355845820490127),(43,89,-1.28233436078982),(43,93,2.89673299356059),(43,97,-2.22645496993927),(43,98,1.64220099490341),(43,101,4.62369914853359),(43,102,-1.45718253120518),(43,103,-1.15882595294046),(43,105,-1.06631672109134),(43,110,-0.770100253303629),(43,112,-2.68107394634846),(43,114,0.0849711600085454),(43,116,0.401394695883053),(44,89,-0.901402325510422),(44,98,2.20488601336711),(44,99,-2.47103030487991),(45,87,-0.193929868465224),(45,88,-0.685354167302469),(45,90,0.134556108279672),(45,91,-3.67292550431837),(45,95,-4.07094790490432),(45,98,-2.88712729270302),(45,108,-1.96272164067507),(45,109,3.27162999359111),(45,112,0.78972746971038),(45,115,0.490844447157201),(46,85,-0.421979430524613),(46,89,0.0490813928647726),(46,91,2.42457350383007),(46,94,-1.4913861507004),(46,97,3.9423352763451),(46,100,4.90601825006867),(46,101,0.224898525955992),(46,108,-1.93533127842036),(46,112,1.74626911221656),(47,86,-0.773232215338604),(47,91,-2.88210699789422),(47,92,2.92236091189306),(47,94,3.95839564195685),(47,95,1.02263710440382),(47,100,-2.23731192968535),(47,101,1.05006561479537),(47,104,-0.938978240302744),(47,105,4.91491439558092),(47,108,2.23136082033753),(47,112,-0.700636310922574),(47,114,2.30300302133244),(47,118,2.91881313516648),(48,86,3.72008423108615),(48,91,-3.59754478591266),(48,98,1.3178769798883),(48,99,-0.808999908444471),(48,100,-0.661614581743827),(48,103,-0.278176213873714),(48,105,0.146397289956358),(48,106,-2.77942747276223),(48,111,-2.11780907620472),(48,115,1.31412701803644),(49,87,1.37562181463057),(49,89,1.06732383190405),(49,93,-2.08540604876858),(49,94,2.67986846522416),(49,95,2.99819940794092),(49,102,-1.73642689291055),(49,113,0.417874691000092),(49,114,4.3919072542497),(50,89,-4.6261329996643),(50,105,-2.02452162236396),(50,107,0.0319681386761071),(51,87,1.86359752189703),(51,92,2.16274758140812),(51,97,1.57520905178991),(51,98,1.23065126499222),(51,103,1.39485610522782),(51,106,2.39791558580279),(51,112,2.93843653675954),(51,118,-1.41637928403577),(52,89,1.30146946623127),(52,97,1.49067659535508),(52,106,0.372249519333476),(52,110,-3.59069338053529),(52,111,-2.22342600787378),(52,113,2.15469832453383),(52,114,-1.30114902188177),(52,118,0.793145542771691),(53,88,2.68432416760765),(53,90,-5.73774681844539),(53,92,0.372615741447188),(53,94,2.22109897152623),(53,104,-4.79063539536729),(53,105,-1.10123752555925),(53,109,2.88154240546892),(54,85,-2.08999526963103),(54,91,-2.21701712088382),(54,94,-1.95841853083895),(54,96,-0.737937559129612),(54,111,-1.13433484908597),(54,112,1.44781334879604),(54,113,4.13653218176824),(54,118,-4.21997741630299),(55,87,0.369502853480636),(55,95,-1.18942075869015),(55,107,-2.04912717062899),(55,110,-5.05935850093081),(55,117,-2.19885097811823),(56,107,2.39455854976043),(56,111,-1.02470473342082),(56,113,-3.53868221076083),(56,114,-0.100638599810785),(57,87,1.08905301065096),(57,90,0.223853267006439),(57,91,2.20450453199866),(57,92,-2.03112887966552),(57,93,5.18018890957366),(57,94,-2.42091128269295),(57,95,-0.151367992187262),(57,96,1.7582934049501),(57,100,-0.89898373363445),(57,102,1.46397289956359),(57,103,-0.340243232520524),(57,115,-1.32217627491073),(58,86,-2.9180196539201),(58,87,0.0286873989074374),(58,89,1.81769768364513),(58,90,0.225074007385479),(58,95,0.33074434644612),(58,96,2.87594988860744),(58,101,-4.5340624713889),(58,103,-2.68630024109622),(58,109,-1.21112704855495),(58,110,4.93570513016144),(58,113,-0.0422681356242561),(58,114,1.09912411877804),(58,115,1.9365520187994),(58,118,5.5176702169866),(59,85,-0.780816064943388),(59,86,1.52088991973632),(59,90,-1.55890835291604),(59,91,-3.20551164281137),(59,93,5.26221503341777),(59,97,0.442899868770409),(59,98,-1.13643299661245),(59,100,3.09267708365123),(59,102,2.15280617694632),(59,112,3.78376110110782),(59,114,-2.22891933957945),(60,85,2.91454054383984),(60,87,-0.105006561479537),(60,90,-1.37562181463057),(60,91,-2.1385845515305),(60,96,4.5905941953795),(60,100,-0.890018921475875),(60,101,2.9826502273629),(60,105,-1.88386944181646),(60,107,1.39447462385937),(60,109,1.16028321176794),(60,110,0.336161381878109),(60,114,-1.52417065950499),(61,89,-0.0411160618915369),(61,94,-4.65687276833399),(61,96,-0.270485549485763),(61,98,0.253513443403425),(61,100,1.77587206640828),(61,102,1.86407055879391),(61,103,0.373317667165136),(61,114,-1.75389873958556),(61,115,3.9131214331492),(62,93,-2.48521378215888),(62,95,1.14238410596027),(62,107,-1.99076052125614),(62,109,-4.23120822779016),(62,110,-4.10279396954253),(62,111,1.16153447065645),(63,87,-0.595133823664052),(63,90,5.77993102816858),(63,93,1.80372020630512),(63,97,2.99636066774499),(63,100,0.277077547532578),(63,103,3.43919949949644),(63,104,0.144550920133061),(63,108,0.779400769066439),(63,111,-2.20641193884091),(63,114,2.07736823633534),(63,117,-1.35097811822871),(64,87,4.59345530564287),(64,94,3.16684469130528),(64,99,1.13429670094913),(64,110,2.08494827112644),(64,112,-0.513046662800989),(64,116,0.174031800286874),(65,87,0.589083529160436),(65,88,-0.467841120639668),(65,90,-1.55629139072848),(65,97,6.9710074159978),(65,99,0.123920407727287),(65,107,2.04374828333384),(65,110,-7.00576799829096),(65,111,1.29766228217414),(65,114,-1.7276528214362),(65,116,2.72885067293313),(65,117,-3.55338450270089),(66,85,-0.397183141575365),(66,102,-0.381153294473098),(66,105,-1.00082399975585),(66,108,1.53345591601306),(66,111,-0.590533158360546),(66,115,-1.32440412610248),(66,118,-0.703199865718558),(67,86,0.0437788018433181),(67,90,1.06653798028504),(67,92,1.10833307901242),(67,104,0.527237769707328),(67,109,1.36654255806146),(67,111,1.59474471266823),(68,87,2.20695364238411),(68,88,0.84682760093997),(68,90,0.670342875453963),(68,93,-1.77054658650471),(68,95,-2.91167943357646),(68,96,0.646908474990081),(68,97,-0.457548753318888),(68,103,3.24190496536149),(68,107,0.989982299264504),(68,112,0.972777489547411),(68,114,0.314088869899594),(69,87,2.42287972655416),(69,88,-3.06658375804926),(69,92,-1.28322702719199),(69,94,-2.99539933469649),(69,95,3.00611133152257),(69,97,-2.3033082064272),(69,108,0.011825922421949),(69,113,-1.94249549851985),(69,114,-0.560670796838282),(69,118,-0.812417981505783),(70,85,-0.421689504684591),(70,86,-1.19940794091617),(70,87,-1.39857173375652),(70,90,2.09617908261361),(70,96,-0.0278481398968474),(70,97,-0.0301789910580767),(70,99,3.06840342417676),(70,105,-0.380870998260445),(70,107,-0.856624042481765),(70,109,-1.50783944212165),(70,110,-2.49702444532609),(70,111,-1.57193212683493),(71,85,1.5591906491287),(71,93,1.10919522690512),(71,96,0.379802850428785),(71,100,-0.528916287728507),(71,104,1.08392208624531),(71,106,2.89925840021973),(71,111,0.60483108005005),(71,113,2.16048158207953),(72,94,0.0844523453474531),(72,96,-1.02603228858303),(72,99,-0.966216010010071),(72,110,-0.125144962920011),(72,112,-0.354327524643696),(72,114,2.35564745017853),(72,115,2.92130802331614),(72,116,0.162511062959685),(73,88,-0.14310892056032),(73,94,2.50250251777703),(73,99,1.42452772606586),(73,100,-2.13103122043519),(73,106,2.2567674794763),(73,110,0.00984221930600926),(73,115,-5.31687368388928),(74,90,-2.63755455183569),(74,94,0.444318979461043),(74,99,-0.0408948026978364),(74,102,0.0347911008026367),(74,106,0.419476912747581),(74,107,-0.14531388286996),(74,110,-0.159890285958434),(74,113,0.646420178838465),(74,116,-1.14429151280251),(75,85,-3.29511398663289),(75,86,0.0587099826044493),(75,93,1.95928830835902),(75,98,-2.92848750267037),(75,103,0.84896389660329),(75,105,-5.996505630665),(75,111,-0.0775437177648244),(75,117,0.250785851619007),(76,86,-0.0718405713064976),(76,89,-0.621585741752373),(76,92,-0.341883602404859),(76,94,-0.0211340678121281),(76,99,-0.453276161992248),(76,101,0.345927304910428),(76,103,1.95547349467452),(76,106,-4.47714163640248),(76,110,0.874454481643117),(76,113,-0.945120090334788),(77,88,2.44187749870296),(77,91,-2.51178014465774),(77,93,-1.4688177129429),(77,98,0.816293832209235),(77,101,1.1443678090762),(77,102,0.994521927549059),(77,103,1.48632770775475),(77,104,0.86741233558153),(77,105,0.253376110110782),(77,109,1.83187353129673),(78,88,-1.81604586931974),(78,93,1.99760429700613),(78,94,-1.9671697134312),(78,101,-1.41537217322306),(78,104,-0.193105868709372),(78,110,0.87084566789758),(78,114,0.915822321237831),(78,116,2.2240363780633),(78,117,3.47971282082583),(78,118,-1.8069246498001),(79,87,1.88254951628163),(79,92,-3.66760002441481),(79,94,-0.65599536118656),(79,107,3.39372692037721),(79,108,0.780480361339152),(79,114,1.55590990936003),(79,118,-1.38865321817682),(80,87,-0.41529587694937),(80,88,-0.65073091830195),(80,91,0.816614276558733),(80,99,-0.47338785973693),(80,101,0.0346156193731499),(80,107,1.16148869289224),(80,113,1.07640690328684),(81,85,-0.895851771599475),(81,86,1.44291512802515),(81,90,-2.36838892788476),(81,93,-1.20715964232307),(81,96,1.01849040192877),(81,97,-4.21290475173193),(81,106,1.14700766014588),(81,107,1.09439374980926),(81,110,2.17162083803827),(81,115,-0.245460371715445),(82,86,-1.55339213232826),(82,92,1.61488692892239),(82,110,-2.39065981017487),(82,112,-2.157658619953),(83,87,0.777916806543168),(83,91,0.123523667104099),(83,93,3.46614734336375),(83,101,0.0556962797936949),(83,103,-0.0274666585283975),(83,105,-0.272530289620655),(83,108,-0.900173955504012),(84,85,-1.7614444410535),(84,86,2.15887936033204),(84,89,2.20713675344096),(84,95,-2.80236213263344),(84,99,-1.86744666890469),(84,104,2.24597155674917),(84,111,-0.621433149204993),(84,113,-2.45735038300729),(84,114,0.522095400860622),(10,119,1.21573534348582),(119,109,2.09631641590625),(58,120,-2.22843867305521),(120,118,3.81225775933103),(95,104,-0.104617450483718)]
orgname='BHNEAT_14_10'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()