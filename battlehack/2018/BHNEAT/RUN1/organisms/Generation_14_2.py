edge = [(0,85,-1.34446241645558),(0,89,-1.97718741416669),(0,90,2.83890804773095),(0,93,-1.51652577288125),(0,98,-0.558977019562365),(0,101,-2.5989867854854),(0,105,-0.174733726004822),(0,108,-0.906323435163427),(0,113,-0.186895352031007),(0,114,1.4192022461623),(0,117,-0.410626544999542),(0,118,-1.93961912900174),(1,86,0.347010711996826),(1,92,1.28156376842555),(1,98,1.39812921536912),(1,102,-0.407162694174017),(1,104,1.67320780053102),(1,107,0.0218359935300759),(1,108,-2.14575640125736),(1,109,0.664677877132481),(1,113,1.93688772240364),(2,87,-1.85496078371532),(2,88,1.43696401867733),(2,100,-0.665105136265145),(2,106,0.549150059511093),(2,108,1.33065279091769),(2,110,0.02172917874691),(2,113,1.06176946317942),(2,118,-1.79016998809778),(3,89,0.654637287514878),(3,92,-0.251304666280099),(3,97,-1.43169957579272),(3,99,2.07127597888119),(3,101,0.0904263435773797),(3,103,0.357463301492355),(3,105,0.136143070772423),(3,108,-1.05623035370952),(3,109,1.66327402569659),(3,111,1.60827967162084),(3,112,-1.75986510818812),(3,116,-1.38283944212165),(4,90,1.86339915158544),(4,91,1.34817041535691),(4,97,-2.00540177617725),(4,99,0.779946287423322),(4,101,-1.95649586474197),(4,108,0.493255409405805),(4,113,-1.63956114383374),(4,118,-1.45292519913327),(5,86,1.49053926206244),(5,87,-0.644657734916227),(5,89,1.37466048158208),(5,92,-0.586962492751854),(5,93,-0.827677236243782),(5,99,2.54765465254677),(5,104,-2.13719595934935),(5,114,-1.04289376506851),(5,118,1.60843226416822),(6,89,1.25235755485702),(6,92,0.616092410046693),(6,94,1.77823725089267),(6,100,-0.0919522690511795),(6,101,-1.7356028931547),(6,103,-0.0146946623126927),(6,107,0.519608142338328),(6,110,-2.25017548142949),(6,113,-1.04765465254677),(7,85,-0.920590838343455),(7,86,0.409695730460524),(7,90,-1.68791772209845),(7,95,-1.07428205206458),(7,99,0.168660542619098),(7,100,-1.18764305551317),(7,104,0.265755180516984),(7,106,2.26248970000305),(7,108,-2.48673970763268),(7,112,1.17696157719657),(7,116,0.417340617084262),(8,92,1.85343485824152),(8,93,2.17522202215644),(8,95,-2.04518265327921),(8,99,-1.55940427869503),(8,106,0.705069124423963),(8,107,-2.83449812311167),(8,115,-1.16187017426069),(8,116,-0.853267006439405),(8,118,-1.89680166020692),(9,85,1.63219092379528),(9,87,-2.16707358012635),(9,98,-2.2665639210181),(9,101,-2.77240821558275),(9,103,-0.408642841883602),(9,105,1.82612079226051),(9,106,1.56938383129368),(9,113,-2.12402722251045),(10,89,-1.31225012970367),(10,96,0.0803094576860866),(10,106,1.24718466750084),(10,108,-1.11732840968047),(10,109,0.358653523361919),(10,111,-2.00656147953734),(10,112,0.589846491897336),(10,114,1.56138798181097),(10,115,-1.67314676351207),(10,116,-1.55194250312815),(10,117,2.08299508651997),(11,89,1.06556901760918),(11,97,-1.27199621570483),(11,105,-0.455442976165044),(11,112,-0.218527787102878),(11,115,-0.477462080751976),(12,92,0.438901944029053),(12,93,-1.14204840235603),(12,94,-0.927915280617695),(12,97,-2.85047456282235),(12,98,-0.709616382335887),(12,99,2.57353434858241),(12,108,-1.26497695852535),(12,116,-1.97872859889523),(13,86,2.77661976989044),(13,87,-0.239127780999176),(13,90,-1.32119205298013),(13,99,-2.10332041383099),(13,102,-1.41644032105472),(13,104,-1.72908719138157),(13,113,0.510864589373455),(13,116,-0.634205145420698),(13,118,-1.96752830591754),(14,90,0.343607898190252),(14,93,1.60889004181036),(14,95,-2.57385479293191),(14,102,-1.97384563737907),(14,104,1.73467207861568),(14,106,-0.899822992645039),(14,109,2.10115359965819),(14,110,1.27466658528397),(14,111,-0.916577654347362),(15,85,-2.76639606921598),(15,92,0.398541215247047),(15,99,-0.501083407086398),(15,101,1.51196325571459),(15,104,-3.1730399487289),(15,108,1.0274666585284),(15,117,-1.6364940336314),(16,86,-0.477462080751976),(16,87,0.730216376232185),(16,88,0.920606097598193),(16,90,1.703436384167),(16,91,-1.0856959746086),(16,95,1.6733603930784),(16,97,0.241203039643544),(16,98,-2.41007721182897),(16,99,1.09056367687002),(16,101,2.9873500778222),(16,108,1.12085329752495),(16,110,-1.02037110507523),(17,89,-1.7582934049501),(17,96,-0.0774101992858669),(17,99,0.0852381969664602),(17,101,-0.032624286629841),(17,106,0.966933194982757),(17,107,1.33233130893887),(17,109,1.33642078920866),(18,90,-0.598498489333781),(18,91,-1.36555070650349),(18,93,-0.857478560747093),(18,99,0.302209540086062),(18,102,-2.4808038575396),(18,103,-2.00183111056856),(18,104,2.95754875331889),(18,110,2.69559312723167),(18,111,2.14680928983428),(18,116,2.28057191686758),(18,117,0.882366405224769),(18,118,1.02287362285226),(19,87,-1.1082644123661),(19,89,0.207708975493637),(19,93,0.340128788109989),(19,95,-0.140385143589587),(19,101,1.00709555345317),(19,105,0.834894863734855),(19,115,-0.80840479750969),(20,88,2.31699575792718),(20,101,-1.44119083223975),(20,103,-1.18582720419935),(20,104,-2.49455244605853),(20,105,0.950468459120457),(20,106,-1.43656727805414),(20,111,1.47350993377483),(20,116,0.121066927091281),(21,86,1.4966277047029),(21,87,-0.571626941740166),(21,94,-2.78121280556658),(21,96,0.341502121036409),(21,101,2.61699270607624),(21,102,-0.346476638080996),(21,105,1.413861507004),(21,107,-0.961287270729698),(21,108,-0.556993316446425),(22,86,1.25350199896237),(22,88,-0.611865596484268),(22,91,-1.57237464522233),(22,92,0.865413373210853),(22,93,1.51312295907468),(22,98,2.0024109622486),(22,106,-2.36780907620472),(22,115,1.12686544389172),(22,117,1.534012878811),(23,85,-2.17473372600482),(23,86,-1.46581926938688),(23,88,-0.73711355937376),(23,90,-1.49751274147771),(23,97,1.3376415295877),(23,104,-0.892986846522416),(23,112,-1.60275582140568),(23,114,-1.58992278817103),(23,115,0.954954680013428),(23,116,1.36416211432234),(24,89,-1.42831202124088),(24,90,0.540208136234626),(24,91,1.00846888637959),(24,101,-0.821344645527512),(24,107,-0.594759971922971),(24,108,-2.66949980162969),(24,110,0.78217413861507),(24,112,-0.701574755088961),(25,90,0.0284127323221534),(25,92,-1.78209784234138),(25,94,-0.257988219855342),(25,98,-1.91195410016175),(25,105,-0.456373790704062),(25,108,3.0481887264626),(25,109,-0.329050569170202),(25,115,-2.02705465865047),(26,85,0.876094851527451),(26,87,0.298028504287851),(26,89,1.00611896114994),(26,95,-0.261864070558794),(26,98,1.50045777764214),(26,100,0.702688680684835),(26,101,0.903698843348491),(26,102,-0.3745078890347),(26,103,0.313241981261635),(26,104,0.158604693746757),(26,107,-0.0200811792352062),(26,109,-0.68039490951262),(26,112,-0.0168462172307504),(26,113,-2.23599963377789),(26,117,-2.24103518784143),(27,85,1.13284707174902),(27,87,-0.965742973113193),(27,94,1.80358287301248),(27,100,0.39661854915006),(27,102,0.998031556138798),(27,103,-1.27597888119144),(27,104,-2.04142887661367),(27,105,0.0609454634235663),(27,108,0.365459150975066),(27,110,1.93661305581835),(27,114,-1.51014740440077),(28,87,-1.04966887417219),(28,88,-2.95507675405133),(28,97,-0.243919186986908),(28,99,-0.546830652790918),(28,104,0.0847193823053682),(28,113,0.41476180303354),(28,114,1.10376293221839),(29,88,-1.14867091891232),(29,91,2.22406689657277),(29,102,1.01098666341136),(29,105,0.409390545365764),(29,116,-0.632221442304758),(30,95,2.42023987548448),(30,96,1.26136051515244),(30,99,-2.55479598376415),(30,101,1.06917020172735),(30,104,0.829416791283914),(30,109,2.59067049165319),(30,110,0.0580919827875608),(30,114,-0.237556077761162),(30,118,-0.111056855983154),(31,85,-2.09602649006623),(31,92,1.14783165990173),(31,94,1.51515243995483),(31,96,-1.49858088930937),(31,99,-2.04542680135502),(31,103,2.22844630268258),(31,107,0.54605243079928),(31,108,-0.701605273598437),(31,109,2.61012604144414),(31,111,-0.988280892361217),(31,112,-0.854747154148991),(31,117,1.45194860683004),(32,86,-2.89910580767235),(32,87,-0.30123294778283),(32,89,0.226950895718253),(32,92,-2.05623035370953),(32,98,-1.11975463118381),(32,99,1.83196508682516),(32,104,-1.23780022583697),(32,106,1.32978301339763),(32,109,1.86301767021699),(32,116,1.52009643848994),(32,118,0.30817590868862),(33,96,1.24954985198523),(33,98,1.01324503311258),(33,108,-1.70990630817591),(33,110,-0.313531907101657),(33,111,-1.10350352488784),(33,114,-0.0639210180974761),(34,85,-1.188177129429),(34,90,-0.0510269478438673),(34,99,-0.444730979338969),(34,104,-0.376354258857997),(34,109,2.55375835444197),(35,86,1.31282998138371),(35,87,0.80314035462508),(35,97,-1.767326883755),(35,98,2.42553483687857),(35,100,-1.56810205389569),(35,104,1.1605883968627),(35,107,0.977752006591998),(35,109,-0.820352793969543),(35,110,-2.37824640644551),(35,112,-1.56407361064486),(36,85,-1.30460524307993),(36,87,-1.77330851161229),(36,90,-0.625553147984252),(36,91,1.75016022217475),(36,104,1.08981597338786),(36,107,3.11725211340678),(36,109,-0.022278511917478),(36,112,-0.0664387951292458),(36,115,-0.986358226264229),(36,117,-1.55030976287118),(36,118,-1.76029236732078),(37,85,0.91712698751793),(37,86,-0.550553910946989),(37,87,1.4494003112888),(37,91,-0.699331644642476),(37,99,-1.21190527054659),(37,105,-0.17764824365978),(37,111,1.43072298348949),(37,112,0.206640827661977),(37,118,1.98069704275643),(38,87,-0.764580217902158),(38,90,-0.30489516891995),(38,103,0.00819421979430524),(38,105,2.0205999938963),(38,106,0.86733603930784),(38,111,-0.158040101321451),(38,115,1.76696066164129),(39,87,3.16310617389447),(39,89,0.789056062501907),(39,91,1.67821283608509),(39,94,-1.77765739921262),(39,97,-2.42565691091647),(39,98,-0.505127109591968),(39,107,-0.569566942350536),(39,108,2.5771813104648),(39,109,1.56695760979034),(39,111,1.56375316629536),(39,113,2.51631214331492),(39,116,-1.1935178685873),(39,118,-2.75554673909726),(40,88,0.338190862758263),(40,92,1.25385296182134),(40,99,0.0913724173711356),(40,104,-1.94840845973083),(40,110,-1.37278359324931),(40,116,-1.58748130741295),(40,118,0.386516922513504),(41,88,0.0067903683584094),(41,93,-1.25574510940886),(41,96,-0.121417889950255),(41,97,-1.52821436201056),(41,100,-1.93998535111545),(41,101,-1.34009826960051),(41,104,-1.68823816644795),(41,105,0.489349040192877),(41,106,-1.41204565569018),(41,107,-1.35418256172369),(41,109,0.493621631519517),(41,110,1.70340586565752),(41,111,-1.72942289498581),(41,112,0.975234229560228),(42,85,-0.445921201208533),(42,86,-2.25046540726951),(42,87,-2.17905209509568),(42,99,1.41460921048616),(42,100,-0.736136967070528),(42,103,-2.49435407574694),(42,109,0.0150608844264046),(42,113,1.12540055543687),(43,85,1.58571123386334),(43,88,2.55531479842525),(43,89,1.50129703665273),(43,93,-1.2619861445967),(43,97,-0.502731406598102),(43,98,0.0376445814386426),(43,101,1.86867885372478),(43,102,3.17790765099033),(43,103,0.173192541276284),(43,105,1.93494979705191),(43,110,0.240501113925596),(43,112,0.982177190466018),(43,114,-1.21828363902707),(43,116,1.72956022827845),(44,89,0.514313180944243),(44,98,1.2816248054445),(44,99,1.36754966887417),(45,87,-1.51736503189184),(45,88,-0.385891293069247),(45,90,0.639072847682119),(45,91,0.444288460951567),(45,95,2.58624530777917),(45,98,0.538544877468184),(45,108,2.0236518448439),(45,109,1.4846186712241),(45,112,-0.160237434003723),(45,115,-0.950514236884671),(46,85,-0.826120792260506),(46,89,-0.615344706564531),(46,91,1.49330118717002),(46,94,1.96777245399335),(46,97,2.68713950010682),(46,100,-0.710379345072787),(46,101,-0.295251319925535),(46,108,-1.55278176213874),(46,112,-2.29982909634693),(47,86,-1.95612964262825),(47,91,1.86451307718131),(47,92,-0.0365611743522446),(47,94,0.385097811822871),(47,95,0.64775536362804),(47,100,1.66937772759178),(47,101,2.08540604876858),(47,104,2.5998718222602),(47,105,-0.226462599566637),(47,108,-0.207831049531541),(47,112,2.64555803094577),(47,114,2.49153111362041),(47,118,2.47320474868007),(48,86,-1.1254921109653),(48,91,1.3856318857387),(48,98,1.48863185522019),(48,99,-1.88996551408429),(48,100,2.02545243690298),(48,103,-0.655110324411756),(48,105,-0.345332193975646),(48,106,0.391293069246498),(48,111,-2.20490127262185),(48,115,1.41613513595996),(49,87,1.86921292764061),(49,89,-1.27227088229011),(49,93,-1.56944486831263),(49,94,0.258949552903836),(49,95,-1.25478377636036),(49,102,0.962416455580309),(49,113,-0.311380352183599),(49,114,2.62295907467879),(50,89,2.6307107760857),(50,105,-0.35033722952971),(50,107,-2.00755333109531),(51,87,-1.0287942136906),(51,92,-0.899502548295541),(51,97,0.783135471663564),(51,98,-2.8249153111362),(51,103,2.22840052491836),(51,106,-2.09810174871059),(51,112,-1.54446546830653),(51,118,1.48248237556078),(52,89,1.45188756981109),(52,97,-2.34873500778222),(52,106,-1.81020538956877),(52,110,1.63838618121891),(52,111,1.25891903439436),(52,113,1.26996673482467),(52,114,1.59315775017548),(52,118,1.52520828882717),(53,88,-1.81742301705985),(53,90,-1.95295571764275),(53,92,-0.467101046784875),(53,94,-0.21843623157445),(53,104,1.3061616870632),(53,105,-1.24448377941221),(53,109,-0.0715811639759514),(54,85,-0.485808893093661),(54,91,3.07138279366436),(54,94,1.8180486465041),(54,96,0.382854701376385),(54,111,3.19261757255776),(54,112,-2.42475661488693),(54,113,1.35634937589648),(54,118,-1.66286202581866),(55,87,-1.47158726767785),(55,95,-2.71759697256386),(55,107,-2.06686605426191),(55,110,1.6567735831782),(55,117,-3.01391644032105),(56,107,-1.62546159245582),(56,111,-1.53341776787622),(56,113,-2.97560045167394),(56,114,0.778313547166356),(57,87,-1.87054048280282),(57,90,1.01927243873409),(57,91,-0.145725882747887),(57,92,0.0631275368511002),(57,93,-1.85016937772759),(57,94,0.998764000366222),(57,95,2.62572099978637),(57,96,1.56251716666158),(57,100,2.14090395825068),(57,102,0.813089388714255),(57,103,-1.52623065889462),(57,115,-2.31971190527055),(58,86,1.75307473982971),(58,87,1.22862941373943),(58,89,0.457106234931486),(58,90,-1.43673512985626),(58,95,0.405652027954955),(58,96,-0.462660603656117),(58,101,0.803567613757744),(58,103,-0.378719443342387),(58,109,0.533845027008881),(58,110,0.598818933683279),(58,113,-1.30858790856655),(58,114,1.72803430280465),(58,115,-1.44785912656026),(58,118,-0.882290108951079),(59,85,-2.40093691824091),(59,86,2.35137485885189),(59,90,0.28522598956267),(59,91,-1.06372264778588),(59,93,3.04884487441633),(59,97,-1.50473036896878),(59,98,-1.58952604754784),(59,100,-1.66939298684652),(59,102,1.20925016022217),(59,112,0.901974547563097),(59,114,-2.17958616901151),(60,85,-0.653508102664266),(60,87,-2.0612811670278),(60,90,0.1744438001648),(60,91,0.565584276863918),(60,96,-1.16469313638722),(60,100,-1.40609454634236),(60,101,-3.11790826136051),(60,105,1.90534684286019),(60,107,0.526413769951475),(60,109,1.57472457045198),(60,110,-1.02792443617054),(60,114,0.0874202703939939),(61,89,-2.00135807367168),(61,94,1.56474501785333),(61,96,0.398937955870235),(61,98,-2.07441938535722),(61,100,0.493713187047945),(61,102,-0.0639362773522141),(61,103,-2.40218817712943),(61,114,0.012146366771447),(61,115,-0.942258980071413),(62,93,-1.33719901120029),(62,95,-0.645084994048891),(62,107,0.355388042847987),(62,109,-1.75470748008667),(62,110,2.27263710440382),(62,111,-1.89541306802576),(63,87,1.3592486342967),(63,90,0.0068208868678854),(63,93,0.384609515671255),(63,97,2.56946012756737),(63,100,2.33539841914121),(63,103,-0.118045594653157),(63,104,-1.78673665578173),(63,108,0.882885219885861),(63,111,-2.38984344004639),(63,114,1.24732200079348),(63,117,-2.02273628955962),(64,87,-1.67302468947417),(64,94,-0.844889675588244),(64,99,0.588763084810938),(64,110,1.9827723014008),(64,112,1.71312601092563),(64,116,-2.35949278237251),(65,87,2.43389690847499),(65,88,1.61508529923399),(65,90,1.62366100039674),(65,97,1.90913113803522),(65,99,-0.695959349345378),(65,107,0.332316049684133),(65,110,-0.765495773186438),(65,111,-1.48178044984283),(65,114,1.4610889004181),(65,116,-2.1884975737785),(65,117,0.257423627430036),(66,85,-1.24777977843562),(66,102,2.4821314127018),(66,105,-0.318887905514695),(66,108,1.23616748558),(66,111,-0.031937620166631),(66,115,2.57185583056124),(66,118,0.139225440229499),(67,86,0.145161290322581),(67,90,2.40530106509598),(67,92,-1.62349314859462),(67,104,3.02571184423353),(67,109,0.237983336893826),(67,111,0.95440534684286),(68,87,0.661122470778527),(68,88,0.759392071291238),(68,90,-0.680471205786309),(68,93,-1.13438825647755),(68,95,-1.82224494155705),(68,96,-0.30657368694113),(68,97,1.71013519699698),(68,103,1.68378246406446),(68,107,0.00312814722128971),(68,112,2.42393261513108),(68,114,-1.22667622913297),(69,87,0.762901699880978),(69,88,-3.18439283425398),(69,92,0.673085726493118),(69,94,-0.795892208624531),(69,95,0.417035431989502),(69,97,-1.15315713980529),(69,108,-1.93939024018067),(69,113,-2.4778740806299),(69,114,0.905514694662313),(69,118,2.92930387279885),(70,85,-0.557039094210639),(70,86,-0.603411969359416),(70,87,-0.25693533127842),(70,90,-0.355052339243751),(70,96,1.60283211767937),(70,97,1.53317361980041),(70,99,0.743186742759484),(70,105,0.101168858912931),(70,107,-0.313577684865871),(70,109,2.40981780449843),(70,110,2.0165868099002),(70,111,-0.274117252113407),(71,85,-0.370632038331248),(71,93,-0.46134830774865),(71,96,-2.15176854762413),(71,100,-0.132023071993164),(71,104,0.467696157719657),(71,106,-0.206213568529313),(71,111,2.91532639545885),(71,113,0.504394665364544),(72,94,2.68024231696524),(72,96,1.98042237617115),(72,99,-1.51106295968505),(72,110,-0.156407361064486),(72,112,-0.240745262001404),(72,114,0.623676259651479),(72,115,0.147251808221686),(72,116,0.718008972441786),(73,88,0.91346476638081),(73,94,1.69811090426344),(73,99,-0.311136204107791),(73,100,1.15169225135044),(73,106,0.0778221991637928),(73,110,1.60802026429029),(73,115,-0.180684835352641),(74,90,0.120777001251259),(74,94,-2.51162755211036),(74,99,2.73125400555437),(74,102,0.608096560563982),(74,106,-0.253059480574969),(74,107,1.60229804376354),(74,110,1.62007507553331),(74,113,-0.740348521378216),(74,116,1.81929990539262),(75,85,-0.360911893063143),(75,86,0.253303628650777),(75,93,-1.61478011413923),(75,98,2.35097811822871),(75,103,-0.815424054689169),(75,105,-0.27912228766747),(75,111,1.97233497116001),(75,117,1.71147801141392),(76,86,-2.11845759453108),(76,89,2.39367351298563),(76,92,-0.253349406414991),(76,94,2.1263771477401),(76,99,0.723212378307443),(76,101,-1.53393658253731),(76,103,1.18445387127293),(76,106,1.36942655720695),(76,110,-2.57628101443526),(76,113,0.958967864009522),(77,88,1.75148777733695),(77,91,-0.666631061738945),(77,93,-1.91473128452406),(77,98,0.0988494521927549),(77,101,-1.25408185064241),(77,102,1.35605945005646),(77,103,2.34015930661946),(77,104,-0.629978331858272),(77,105,0.234015930661946),(77,109,1.38015381328776),(78,88,-0.534440137943663),(78,93,2.57089449751274),(78,94,-1.68497268593402),(78,101,0.055574205755791),(78,104,1.71674245429853),(78,110,-0.634449293496506),(78,114,-2.50640888698996),(78,116,0.753578295236061),(78,117,-0.962950529496139),(78,118,0.594561601611377),(79,87,0.210425122837001),(79,92,0.0373851741080966),(79,94,-1.55265968810083),(79,107,-0.577578051087985),(79,108,-0.0840632343516342),(79,114,0.841883602404859),(79,118,-0.766228217413861),(80,87,-2.00843836787011),(80,88,0.927762688070315),(80,91,-2.60100100711081),(80,99,1.70632038331248),(80,101,1.06810205389569),(80,107,0.89150669881283),(80,113,1.64853358561968),(81,85,-1.7345194860683),(81,86,1.42184209723197),(81,90,-0.883297219763787),(81,93,-0.276284066286203),(81,96,-1.42628254036073),(81,97,-3.05102694784387),(81,106,1.42022461622974),(81,107,-0.785256508072146),(81,110,-1.6399884029664),(81,115,0.953382976775414),(82,86,0.294259468367565),(82,92,2.02209540086062),(82,110,-0.852443006683554),(82,112,2.74463637195959),(83,87,-0.0617236854152042),(83,91,0.510513626514481),(83,93,0.0527665028839991),(83,101,1.04217658009583),(83,103,0.344859157078768),(83,105,1.68121890926847),(83,108,0.940015869624927),(84,85,-0.752616962187567),(84,86,0.152500991851558),(84,89,-0.228339487899411),(84,95,-2.07179479354228),(84,99,0.591143528550066),(84,104,-1.15947447126682),(84,111,-1.69325846125675),(84,113,-0.465834528641621),(84,114,0.710257271034883),(35,105,1.19222083193457)]
orgname='BHNEAT_14_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()