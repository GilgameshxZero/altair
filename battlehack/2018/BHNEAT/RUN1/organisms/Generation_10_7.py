edge = [(0,85,-1.35010834070864),(0,89,2.29438154240547),(0,90,2.08639790032655),(0,93,1.67828913235878),(0,98,1.71396526993622),(0,101,-0.854625080111087),(0,105,-0.922040467543565),(0,108,1.5630054628132),(0,113,2.96665852839747),(0,114,-1.94601275673696),(0,117,1.43513290810877),(0,118,-1.19550157170324),(1,86,-0.0292977690969573),(1,92,-0.752494888149663),(1,98,-1.40644550920133),(1,102,0.0332956938383129),(1,104,0.833109530930509),(1,107,-1.37531662953581),(1,108,0.636539811395611),(1,109,-1.2556840723899),(1,113,-2.28202154606769),(2,87,-1.57541123691519),(2,88,1.39210180974761),(2,100,-0.310754722739341),(2,106,-0.620853297524949),(2,108,0.222602008117924),(2,110,-0.704000976592303),(2,113,-1.29120761741996),(2,118,2.32303842280343),(3,89,0.219977416302988),(3,92,-0.556031983397931),(3,97,0.43824579607532),(3,99,0.986724448377941),(3,101,-1.49516281624805),(3,103,1.02085940122684),(3,105,-0.126850184636982),(3,108,-1.63495284890286),(3,109,-0.823526718955046),(3,111,-1.6927549058504),(3,112,0.392376476332896),(3,116,-0.100146488845485),(4,90,-1.26749473555712),(4,91,1.79822687459944),(4,97,2.16734824671163),(4,99,2.2896969512009),(4,101,-0.617954039124729),(4,108,-0.304879909665212),(4,113,-1.81008331553087),(4,118,0.338526566362499),(5,86,-2.38935514389477),(5,87,-0.368388927884762),(5,89,0.483794671468246),(5,92,1.4765465254677),(5,93,0.142277291177099),(5,99,2.46220282601398),(5,104,1.13025299844356),(5,114,-0.683385723441267),(5,118,1.32361827448347),(6,89,-2.51332132938627),(6,92,-0.669118320261238),(6,94,-2.40028077028718),(6,100,0.370555742057558),(6,101,-1.28293710135197),(6,103,-1.53932309945982),(6,107,-0.376262703329569),(6,110,-1.23279519028291),(6,113,1.23329874568926),(7,85,-1.94318979461043),(7,86,3.57660145878475),(7,90,1.8122653889584),(7,95,1.21117282631916),(7,99,0.691091647083957),(7,100,3.33504745628223),(7,104,-0.11169774468215),(7,106,3.07649464400159),(7,108,1.62875759147923),(7,112,-1.54811243018891),(7,116,-2.64679403057955),(8,92,1.41521958067568),(8,93,1.71369060335093),(8,95,1.48519852290414),(8,99,3.73447370830409),(8,106,1.64648884548479),(8,107,0.178075502792444),(8,115,1.85717337565233),(8,116,0.978682821131016),(8,118,0.693533127842036),(9,85,0.195455793939024),(9,87,1.65796380504776),(9,98,1.49945066682943),(9,101,-1.07061983092746),(9,103,-0.804086428418836),(9,105,0.507599108859523),(9,106,3.09202856532487),(9,113,-0.173268837549974),(10,89,-0.838297677541429),(10,96,0.819772942289499),(10,106,1.13975951414533),(10,108,0.985671559801019),(10,109,0.46134830774865),(10,111,1.34681234168523),(10,112,-0.996963408307138),(10,114,0.399548326059755),(10,115,0.550431836909085),(10,116,-0.333033234656819),(10,117,-1.52810754722739),(11,89,-1.58519241920225),(11,97,1.4349040192877),(11,105,-0.7226325266274),(11,112,-2.4641407513657),(11,115,-2.71103549302652),(12,92,-2.76561784722434),(12,93,1.29073458052309),(12,94,-1.13467818231758),(12,97,-0.942228461561937),(12,98,1.93099765007477),(12,99,0.723807489242225),(12,108,-0.6691030610065),(12,116,-0.0682699056978057),(13,86,0.0652027954954679),(13,87,-2.84594256416517),(13,90,-0.470107119968261),(13,99,0.188390758995331),(13,102,1.6963713492233),(13,104,0.178930021057772),(13,113,-0.0966826380199591),(13,116,1.54222235786004),(13,118,4.18790246284371),(14,90,-3.03112887966552),(14,93,1.69217505417035),(14,95,1.68080690939055),(14,102,1.36114078188421),(14,104,0.705893124179815),(14,106,-0.380184331797235),(14,109,2.4710074159978),(14,110,-1.05023346659749),(14,111,-1.06894131290628),(15,85,-0.931470686971648),(15,92,0.395260475478378),(15,99,-2.87275307473983),(15,101,0.782036805322428),(15,104,-2.1674550614948),(15,108,2.37968077639088),(15,117,-1.87842951750236),(16,86,-0.11383404034547),(16,87,0.210715048677023),(16,88,0.130558183538316),(16,90,2.05935850093081),(16,91,3.57249671926023),(16,95,-1.39970091860714),(16,97,-0.817636646626179),(16,98,0.847651600695822),(16,99,1.57849360637226),(16,101,0.772087771233253),(16,108,2.79822687459944),(16,110,1.84493545335246),(17,89,0.897656178472244),(17,96,-2.53559984130375),(17,99,-1.45266579180273),(17,101,-2.13397625659963),(17,106,-1.87520981475265),(17,107,-0.296670430616169),(17,109,-0.483474227118748),(18,90,0.455107272560808),(18,91,1.62884914700766),(18,93,-0.706869716483047),(18,99,0.272530289620655),(18,102,-2.54290902432325),(18,103,-2.48974578081606),(18,104,1.59833063753166),(18,110,-1.3905301065096),(18,111,0.692983794671468),(18,116,-2.64244514297922),(18,117,0.929136020996735),(18,118,1.85389263588366),(19,87,-0.955061494796594),(19,89,0.0807519760734886),(19,93,-0.447477645191809),(19,95,-2.2445600756859),(19,101,2.01763969847713),(19,105,0.159901730399487),(19,115,-0.994872890408033),(20,88,1.04411450544755),(20,101,0.524536881618702),(20,103,-1.74065370647298),(20,104,-0.595385601367229),(20,105,1.84690389721366),(20,106,3.35505233924375),(20,111,1.74695577867977),(20,116,0.623477889339885),(21,86,2.11996826075015),(21,87,-0.567430646687216),(21,94,-0.817209387493515),(21,96,2.25203711050752),(21,101,1.72254097109897),(21,102,1.30205694753868),(21,105,-0.732215338602863),(21,107,-2.01005584887234),(21,108,0.284707174901578),(22,86,-3.12315744499039),(22,88,-0.636661885433515),(22,91,-0.325617236854152),(22,92,2.0150608844264),(22,93,0.315958128604999),(22,98,-2.15634632404553),(22,106,-1.00276192510758),(22,115,-0.836085085604419),(22,117,-1.22074037903989),(23,85,-1.42039246803186),(23,86,-3.02394177068392),(23,88,1.60229804376354),(23,90,-1.95689260536515),(23,97,1.60908841212195),(23,104,-1.20290231025117),(23,112,1.60626544999542),(23,114,-3.0516830957976),(23,115,-1.69412823877682),(23,116,-1.73285622730186),(24,89,-0.563493758964812),(24,90,0.53880428479873),(24,91,-2.0394756920072),(24,101,0.265419476912748),(24,107,2.36629840998566),(24,108,-0.00709555345316935),(24,110,0.196920682393872),(24,112,0.750419629505295),(25,90,2.7880489516892),(25,92,-1.46714682454909),(25,94,-0.184408093508713),(25,98,-0.274712363048189),(25,105,2.35877559739982),(25,108,0.896176030762658),(25,109,-0.771340067751091),(25,115,-2.16400646992401),(26,85,1.07057405316324),(26,87,0.532105471968749),(26,89,-1.47839289529099),(26,95,0.686956389049959),(26,98,-1.82644123661),(26,100,1.8519394512772),(26,101,-2.15880306405835),(26,102,-3.53927732169561),(26,103,-2.17955565050203),(26,104,2.66028321176794),(26,107,-1.59308145390179),(26,109,-1.31136509292886),(26,112,-0.639652699362163),(26,113,-0.380169072542497),(26,117,-1.00312814722129),(27,85,-1.20647297585986),(27,87,0.121250038148137),(27,94,0.673787652211066),(27,100,0.71752067629017),(27,102,-0.610141300698874),(27,103,0.0823999755851924),(27,104,-1.05682546464431),(27,105,-1.46093630787072),(27,108,-1.30695516830958),(27,110,-0.139103366191595),(27,114,-0.213950010681478),(28,87,2.27240821558275),(28,88,-1.88985869930113),(28,97,1.16183965575121),(28,99,-0.226691488387707),(28,104,-0.289361247596667),(28,113,-0.161351359599597),(28,114,1.38981292153691),(29,88,0.761558885464034),(29,91,0.883205664235359),(29,102,-2.64116336558122),(29,105,-1.29522080141606),(29,116,-0.631611072115238),(30,95,1.76908169804987),(30,96,0.273934141056551),(30,99,0.23894466994232),(30,101,0.461622974333934),(30,104,-1.52218695638905),(30,109,0.956678975798822),(30,110,-0.880764183477279),(30,114,-1.04995880001221),(30,118,-1.18561357463302),(31,85,2.22432630390332),(31,92,-0.148625141148106),(31,94,-2.20841090121158),(31,96,1.3401745658742),(31,99,2.72507400738548),(31,103,-0.686834315012055),(31,107,-1.04052858058412),(31,108,1.20601519821772),(31,109,0.751670888393811),(31,111,-0.772576067384869),(31,112,1.18762779625843),(31,117,-2.75869014557329),(32,86,1.28826258125553),(32,87,-1.34412671285134),(32,89,1.56991790520951),(32,92,-1.88670003357036),(32,98,-1.3623004852443),(32,99,1.78304391613514),(32,104,2.41534165471358),(32,106,-1.25377666554765),(32,109,2.161793877987),(32,116,-1.19330423902097),(32,118,2.28049562059389),(33,96,0.395565660573137),(33,98,-2.0442518387402),(33,108,1.66795861690115),(33,110,-0.764213995788446),(33,111,0.0603503524887845),(33,114,1.56637775811029),(34,85,-1.09112826929533),(34,90,-2.85485396893216),(34,99,1.60710470900601),(34,104,2.26113162633137),(34,109,1.64842677083651),(35,86,0.708563493758965),(35,87,0.684499649037141),(35,97,-2.38578447828608),(35,98,-1.03747672963652),(35,100,-1.48257393108921),(35,104,0.168431653798028),(35,107,0.326868495742668),(35,109,-1.78998687704093),(35,110,1.87611011078219),(35,112,0.0627155369731742),(36,85,0.395123142185736),(36,87,0.403424176763207),(36,90,-1.88352610858486),(36,91,1.65272988067263),(36,104,0.931806390575884),(36,107,1.81617175817133),(36,109,0.738776818140202),(36,112,1.35885189367351),(36,115,1.33434553056429),(36,117,0.309183019501328),(36,118,1.52584917752617),(37,85,0.388317514572588),(37,86,1.55415509506516),(37,87,-1.15848261970885),(37,91,2.35351115451521),(37,99,-0.21980956450087),(37,105,-0.0697653126621296),(37,111,-0.391399884029664),(37,112,1.78269295327616),(37,118,1.45229956968902),(38,87,-2.39806817835017),(38,90,2.33465071565905),(38,103,1.84075441755425),(38,105,0.613345744193854),(38,106,-1.22463148899808),(38,111,1.97035126804407),(38,115,-1.49264503921628),(39,87,-1.74770348216193),(39,89,1.79998168889431),(39,91,-0.900677510910367),(39,94,0.14981536301767),(39,97,0.117755668813135),(39,98,-1.56282235175634),(39,107,-1.56393627735221),(39,108,-1.34192938016907),(39,109,0.914548173467208),(39,111,1.85354167302469),(39,113,3.38593707083346),(39,116,0.250083925901059),(39,118,0.742866298409986),(40,88,-0.697988830225532),(40,92,1.14352855006561),(40,99,-1.98716696676534),(40,104,-1.57623523667104),(40,110,2.19557786797693),(40,116,0.84614093447676),(40,118,2.40600299081393),(41,88,0.10643330179754),(41,93,2.24266792809839),(41,96,1.95239112521744),(41,97,3.4225745414594),(41,100,-1.40163884395886),(41,101,2.43259987182226),(41,104,2.07675405133213),(41,105,-0.594195379497665),(41,106,-1.82656331064791),(41,107,-0.00236518448438983),(41,109,0.165089877010407),(41,110,-0.212622455519273),(41,111,-0.0811944944608906),(41,112,1.41904965361492),(42,85,3.41848506118961),(42,86,1.91320535905026),(42,87,1.24321726126896),(42,99,-0.43328653828547),(42,100,-3.60052797021393),(42,103,-2.68570513016144),(42,109,1.31186864833522),(42,113,-0.198904385509812),(43,85,-1.80054628131962),(43,88,-1.90641499069185),(43,89,-1.14650410473952),(43,93,-0.117847224341563),(43,97,0.603640858180487),(43,98,1.99133274330882),(43,101,3.14687032685324),(43,102,-0.614398632770776),(43,103,2.26035340433973),(43,105,-1.06074709311197),(43,110,1.60231330301828),(43,112,0.0506759849848935),(43,114,-2.73253578295236),(43,116,-1.90748313852351),(44,89,-0.364085818048646),(44,98,2.24486526078066),(44,99,0.0838648640400403),(45,87,2.63216040528581),(45,88,-1.61435285500656),(45,90,-3.1523178807947),(45,91,1.91199987792596),(45,95,-1.525742362743),(45,98,-0.443388164922025),(45,108,-0.385174108096561),(45,109,1.37978759117405),(45,112,-0.577425458540605),(45,115,1.31739249855037),(46,85,-0.402752769554735),(46,89,0.303811761833552),(46,91,-0.728598895229957),(46,94,-0.12717062898648),(46,97,-1.9048280281991),(46,100,-0.295403912472915),(46,101,-2.15300454725791),(46,108,0.319910275582141),(46,112,-0.144230475783563),(47,86,-0.0951872310556353),(47,91,2.61076693014313),(47,92,-0.748619037446211),(47,94,-2.20488601336711),(47,95,-2.32741782891324),(47,100,0.441160313730277),(47,101,1.19312112796411),(47,104,-1.40964995269631),(47,105,1.83826715903195),(47,108,-0.9797204504532),(47,112,1.03175450910978),(47,114,-0.100939970091861),(47,118,1.00352488784448),(48,86,0.991576891384625),(48,91,-1.07522812585833),(48,98,1.73926511429182),(48,99,0.128604998931852),(48,100,-1.15930661946471),(48,103,-1.9966277047029),(48,105,-0.52699362163152),(48,106,-2.44796594134342),(48,111,-2.54335154271065),(48,115,2.23479415265358),(49,87,-2.55909909360027),(49,89,0.642155217139195),(49,93,3.88261055330058),(49,94,1.98568681905576),(49,95,1.19028290658284),(49,102,-0.828333384197516),(49,113,0.859920041505173),(49,114,-1.70960112308115),(50,89,-2.11134678182318),(50,105,3.27320169682913),(50,107,-2.42794579912717),(51,87,1.7177343058565),(51,92,0.120502334665975),(51,97,-0.678395947141942),(51,98,-0.545030060731834),(51,103,-0.269692068239387),(51,106,0.520645771660512),(51,112,-0.265587328714866),(51,118,-1.04185613574633),(52,89,-0.290917691579943),(52,97,-0.473830378124332),(52,106,-0.857493820001831),(52,110,-0.841624195074313),(52,111,0.565996276741844),(52,113,0.21454512161626),(52,114,-2.44161809137242),(52,118,-0.543183690908536),(53,88,0.308771019623402),(53,90,0.97231971190527),(53,92,-1.25402081362346),(53,94,2.39349040192877),(53,104,-2.32711264381848),(53,105,-1.37594225898007),(53,109,-1.75666066469314),(54,85,-2.37757499923704),(54,91,-1.32480849635304),(54,94,0.811487166966765),(54,96,2.11188085573901),(54,111,1.90786461989196),(54,112,-0.738151188695944),(54,113,1.0551774651326),(54,118,-0.0560625019074068),(55,87,-2.32625812555315),(55,95,-1.66783654286325),(55,107,1.39492477187414),(55,110,-2.22769859920041),(55,117,-2.91068758201849),(56,107,-0.064439832758568),(56,111,1.16351817377239),(56,113,-1.19629505294961),(56,114,2.11403241065706),(57,87,0.174108096560564),(57,90,0.855159154026917),(57,91,-0.746635334330271),(57,92,1.17648854029969),(57,93,2.07992797631764),(57,94,-1.13089388714255),(57,95,0.980773339030122),(57,96,-1.06031983397931),(57,100,0.662251655629139),(57,102,-0.892513809625538),(57,103,0.594500564592425),(57,115,-0.129169591357158),(58,86,-1.62982573931089),(58,87,-0.338267159031953),(58,89,-0.383373516037477),(58,90,2.67960142826624),(58,95,1.16931669057283),(58,96,1.42185735648671),(58,101,-1.38888210699789),(58,103,1.49801629688406),(58,109,-2.29041413617359),(58,110,-1.08847315897092),(58,113,0.906598101748711),(58,114,-0.592593157750176),(58,115,-2.38241218298898),(58,118,-0.530640583513901),(59,85,1.01377910702841),(59,86,-0.883358256782739),(59,90,-0.162175359355449),(59,91,1.18396557512131),(59,93,-2.06343272194586),(59,97,0.412366100039674),(59,98,1.1778160954619),(59,100,-1.92567217017121),(59,102,0.71721549119541),(59,112,-2.61474959562975),(59,114,1.63362529374065),(60,85,-0.975630970183416),(60,87,-0.309518723105563),(60,90,-2.60406811731315),(60,91,0.588320566423536),(60,96,2.32723471785638),(60,100,-2.28350169377728),(60,101,-0.146092104861599),(60,105,-0.150608844264046),(60,107,0.470412305063021),(60,109,1.7628711813715),(60,110,1.10415967284158),(60,114,-2.90346995452742),(61,89,-1.16901150547807),(61,94,-0.573686941129795),(61,96,-1.45580919827876),(61,98,0.395748771629994),(61,100,-1.6186254463332),(61,102,-1.9373149815363),(61,103,-2.03207495345927),(61,114,-2.03633228553117),(61,115,-0.0953703421124912),(62,93,2.00758384960479),(62,95,-0.443662831507309),(62,107,-0.43168431653798),(62,109,0.998214667195654),(62,110,-1.24385814996796),(62,111,-2.31154820398572),(63,87,2.01498458815271),(63,90,2.67543565172277),(63,93,0.2165288247322),(63,97,-0.613849299600208),(63,100,0.0661946470534379),(63,103,-1.29728080080569),(63,104,-0.0152897732474746),(63,108,-1.69615771965697),(63,111,1.39910580767235),(63,114,1.91850032044435),(63,117,2.43144016846217),(64,87,-0.75762199774163),(64,94,-0.396038697470016),(64,99,-1.26163518173772),(64,110,-0.103778191473128),(64,112,0.860209967345195),(64,116,2.27314065981017),(65,87,0.350474562822352),(65,88,-0.421643726920377),(65,90,-0.0259407330545976),(65,97,-1.97991882076479),(65,99,-1.05149998474075),(65,107,-1.38843958861049),(65,110,-2.94732505264443),(65,111,-1.76323740348521),(65,114,-1.25254066591388),(65,116,0.824747459334086),(65,117,0.75914792321543),(66,85,2.25597399822993),(66,102,3.03291421246986),(66,105,-1.45054475539415),(66,108,-0.0261696218756676),(66,111,2.56106753746147),(66,115,-0.733146153141881),(66,118,-1.03955198828089),(67,86,-2.20514542069765),(67,90,0.796136356700339),(67,92,-1.68498794518876),(67,104,1.50848414563433),(67,109,-0.291817987609485),(67,111,-1.13458662678915),(68,87,1.78069399090548),(68,88,0.268181402020325),(68,90,-2.97386089663381),(68,93,-1.79319132053591),(68,95,-1.82592242194891),(68,96,1.0960570085757),(68,97,-0.486587115085299),(68,103,2.38380077517014),(68,107,-3.33429975280007),(68,112,1.72521134067812),(68,114,-3.32711264381848),(69,87,2.44035157322916),(69,88,-0.284752952665792),(69,92,-1.42849513229774),(69,94,-1.53149510177923),(69,95,1.07661671803949),(69,97,-1.0917996765038),(69,108,2.48916592913602),(69,113,-3.22865993224891),(69,114,4.74204229865413),(69,118,-0.0251167332987456),(70,85,-2.52369762260811),(70,86,0.0271767326883756),(70,87,0.60879848628193),(70,90,0.739188818018128),(70,96,-2.30605487228004),(70,97,-0.151066621906186),(70,99,-1.97509689626759),(70,105,-2.29641102328562),(70,107,-0.695532090212714),(70,109,-1.25360881374554),(70,110,0.277108066042055),(70,111,-2.30581072420423),(71,85,-2.00505081331828),(71,93,-0.407025360881375),(71,96,0.251258888515885),(71,100,3.417355876339),(71,104,0.160451063570055),(71,106,2.09175389873959),(71,111,0.767967772453993),(71,113,-1.5401165807062),(72,94,-0.660771507919553),(72,96,0.101092562639241),(72,99,1.93189794610431),(72,110,-2.66968291268654),(72,112,-1.40868861964782),(72,114,0.623676259651479),(72,115,2.13064973906674),(72,116,-1.04092532120731),(73,88,2.36057618945891),(73,94,0.953016754661703),(73,99,-0.294961394085513),(73,100,-1.58572649311808),(73,106,1.09706411938841),(73,110,2.61772515030366),(73,115,0.545136875515),(74,90,0.879558702352977),(74,94,1.81315042573321),(74,99,-0.75960570085757),(74,102,0.0618915372173223),(74,106,-0.253059480574969),(74,107,2.23853267006439),(74,110,0.210745567186499),(74,113,1.39103366191595),(74,116,1.57475508896145),(75,85,0.191015350810266),(75,86,1.61435285500656),(75,93,0.49900814844203),(75,98,-0.0191503646961882),(75,103,0.128818628498184),(75,105,2.95538193914609),(75,111,2.30121768852809),(75,117,-3.79209265419477),(76,86,-1.8438673055208),(76,89,1.15157017731254),(76,92,0.332224494155705),(76,94,-1.74893948179571),(76,99,1.79880672627949),(76,101,-1.74375133518479),(76,103,0.847911008026368),(76,106,-0.200369273964659),(76,110,0.337549974059267),(76,113,0.281991027558214),(77,88,0.0561082796716208),(77,91,0.890270699179052),(77,93,3.64772484511856),(77,98,-0.337717825861385),(77,101,1.45608386486404),(77,102,0.207037568285165),(77,103,-2.25890377513962),(77,104,2.51358073671682),(77,105,-0.823084200567644),(77,109,1.32763145847957),(78,88,-1.02578814050722),(78,93,1.52548295541246),(78,94,2.72128971221046),(78,101,-2.20908230842006),(78,104,-0.0575579088717307),(78,110,0.454527420880764),(78,114,1.15764336069826),(78,116,0.102694784386731),(78,117,0.852687154759362),(78,118,-0.00381481368449954),(79,87,0.244788964506974),(79,92,1.42750328073977),(79,94,1.66760765404218),(79,107,1.86008789330729),(79,108,-0.844584490493484),(79,114,2.32630390331736),(79,118,0.942335276345103),(80,87,1.75855281228065),(80,88,-0.102160710470901),(80,91,-0.367961668752098),(80,99,1.81791131321146),(80,101,1.37435529648732),(80,107,1.9698019348735),(80,113,-1.75099948118534),(81,85,0.275429548020875),(81,86,-1.87475203711051),(81,90,-1.73117770928068),(81,93,-1.45109408856471),(81,96,0.211554307687613),(81,97,-0.189687795648061),(81,106,-1.44805749687185),(81,107,-1.12202826013977),(81,110,0.285637989440595),(81,115,1.67773979918821),(82,86,-0.713919492172002),(82,92,2.09807123020112),(82,110,-2.15514084292123),(82,112,2.24703207495346),(83,87,-0.629291665395062),(83,91,0.991027558214057),(83,93,2.33397930845058),(83,101,-2.90859706411939),(83,103,0.340357676931059),(83,105,2.54524369029817),(83,108,-1.12582781456954),(84,85,0.573183385723441),(84,86,1.82789086581011),(84,89,1.95319986571856),(84,95,-1.81666005432295),(84,99,-0.0595873897518845),(84,104,2.38784447767571),(84,111,-1.85018463698233),(84,113,1.02282784508805),(84,114,3.03973509933775),(35,105,-0.213538010803552)]
orgname='BHNEAT_10_7'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()