edge = [(0,85,-0.9127780999176),(0,89,-3.40976439710685),(0,90,2.23090304269539),(0,93,-2.14291817987609),(0,98,-1.69337290566729),(0,101,-0.296555986205634),(0,105,-0.992919705801569),(0,108,5.95183416241951),(0,113,0.475814081240272),(0,114,1.5751365703299),(0,117,-3.46129490035707),(0,118,-3.22723319193091),(1,86,-2.00254066591388),(1,92,1.39493240150151),(1,98,2.91070284127323),(1,102,-6.01818140202033),(1,104,1.73580889309366),(1,107,-5.13602099673452),(1,108,-3.31232642597736),(1,109,0.0640736106448561),(1,113,-1.44452497940001),(2,87,-2.70284127323222),(2,88,-0.11024811548204),(2,100,3.34887234107486),(2,106,0.165868099002045),(2,108,-3.36801507614368),(2,110,-1.94282357249672),(2,113,-1.1601687673574),(2,118,4.12007507553331),(3,89,2.5333491012299),(3,92,-1.43515579699087),(3,97,0.0474944303720206),(3,99,2.16992706076235),(3,101,-1.49215674306467),(3,103,-3.14377269814142),(3,105,2.18488876003296),(3,108,-3.40624713888974),(3,109,-1.8548692281869),(3,111,-0.564256721701712),(3,112,-4.34752952665792),(3,116,-0.836405529953917),(4,90,-0.0468688009277624),(4,91,1.37849055452132),(4,97,2.56849879451888),(4,99,0.111476485488449),(4,101,-0.312540055543687),(4,108,2.75894955290384),(4,113,-3.14302499465926),(4,118,2.47793511764885),(5,86,0.422238837855159),(5,87,-4.5157017731254),(5,89,1.39812158574175),(5,92,0.650601214636677),(5,93,-1.3998077333903),(5,99,1.22974333933531),(5,104,-0.961851863155004),(5,114,-0.70760979033784),(5,118,-0.814622943815424),(6,89,-2.69495986816004),(6,92,-7.92916653950621),(6,94,0.486236152226325),(6,100,-2.0916776024659),(6,101,1.69891201513718),(6,103,-6.27827539902951),(6,107,-1.46127201147496),(6,110,0.574427014984588),(6,113,-3.70322275460067),(7,85,2.26092562639241),(7,86,1.17944883571886),(7,90,-2.09434797204505),(7,95,-1.68086031678213),(7,99,2.41360209967345),(7,100,6.93886379589221),(7,104,-1.59987945188757),(7,106,1.19350260933256),(7,108,3.87411877803888),(7,112,-3.40306558427686),(7,116,0.467505417035432),(8,92,2.21069215979492),(8,93,-3.95422986541337),(8,95,0.826830347605823),(8,99,0.734351634266182),(8,106,-0.521561326944792),(8,107,-0.21622363963744),(8,115,-0.176847132786035),(8,116,-1.71915341654714),(8,118,3.022247993408),(9,85,-1.81891842402417),(9,87,0.618991668446913),(9,98,-2.84237189855647),(9,101,3.50306711020234),(9,103,4.31058687093722),(9,105,1.98325296792505),(9,106,5.27051606799524),(9,113,-0.757904293954283),(10,89,-1.17773979918821),(10,96,0.300767540513321),(10,106,5.15691091647084),(10,108,3.85494552446059),(10,109,3.74700918607135),(10,111,-0.891453291421247),(10,112,-2.62016663106174),(10,114,-2.97190771202734),(10,115,-1.93053224280526),(10,116,-3.2711645863216),(10,117,-1.2589342936491),(11,89,-1.60068056276131),(11,97,4.55661946470534),(11,105,-2.76580858790857),(11,112,-1.39268929105502),(11,115,-2.55497146519364),(12,92,4.92443617053743),(12,93,0.602351451155126),(12,94,-1.35517441328166),(12,97,-3.50097659230323),(12,98,3.92957853938414),(12,99,3.3508560441908),(12,108,0.551866206854457),(12,116,-5.39550462355419),(13,86,2.42710654011658),(13,87,0.822458571123386),(13,90,0.0713675344096193),(13,99,-0.242645039216284),(13,102,0.696584978789636),(13,104,-1.28040406506546),(13,113,-0.0532700582903534),(13,116,-3.40597247230445),(13,118,-0.672399060029908),(14,90,-2.13669240394299),(14,93,4.2413861507004),(14,95,1.73390911587878),(14,102,-1.05937376018555),(14,104,-3.54915005951109),(14,106,0.219061861018709),(14,109,-0.521301919614246),(14,110,1.80347605822932),(14,111,-0.357440412610248),(15,85,3.04704428235725),(15,92,3.81020538956877),(15,99,2.31318094424268),(15,101,-0.839106418042543),(15,104,0.417722098452712),(15,108,0.640385143589587),(15,117,1.77608569597461),(16,86,-1.75428022095401),(16,87,-1.49907681508835),(16,88,1.45704519791253),(16,90,-0.435148167363506),(16,91,-4.72800378429518),(16,95,1.11941129795221),(16,97,-4.37467574083682),(16,98,-0.815523239844966),(16,99,-3.45011749626148),(16,101,3.0056611835078),(16,108,4.86955626087222),(16,110,-2.85441908017212),(17,89,2.57445753349406),(17,96,3.91689809869686),(17,99,5.65019684438612),(17,101,2.52072969756157),(17,106,-2.15086825159459),(17,107,-2.11095767082736),(17,109,-5.20751060518204),(18,90,1.83436078981903),(18,91,-1.35540330210273),(18,93,3.07387005218665),(18,99,1.76736503189184),(18,102,3.6725974303415),(18,103,-1.07746360667745),(18,104,0.567720572527238),(18,110,0.15683462019715),(18,111,-2.19322794274728),(18,116,4.23699911496323),(18,117,0.400517288735618),(18,118,-0.111560411389508),(19,87,-0.421384319589831),(19,89,0.784775841547899),(19,93,-2.56397442548906),(19,95,-2.58049256874294),(19,101,1.53472243415632),(19,105,-5.98465681936094),(19,115,3.50210577715384),(20,88,-3.26496932889798),(20,101,1.51322977385784),(20,103,2.678479873043),(20,104,3.36538285470138),(20,105,0.80390331736198),(20,106,-2.38447218237861),(20,111,1.74024170659505),(20,116,0.620815149388104),(21,86,-0.441145054475539),(21,87,-2.32032227546007),(21,94,4.34599597155675),(21,96,-0.32822656941435),(21,101,5.08735160374767),(21,102,4.03647724845119),(21,105,-0.0429776909695729),(21,107,4.28278450880459),(21,108,2.51370281075472),(22,86,-3.35131382183294),(22,88,-0.608714560380871),(22,91,0.144940031128879),(22,92,-1.94541001617481),(22,93,2.48634296700949),(22,98,-1.63190099795526),(22,106,-2.80498672444838),(22,115,4.32586901455733),(22,117,-1.70506912442396),(23,85,-0.237075411236915),(23,86,-2.82529679250465),(23,88,3.36652729880673),(23,90,3.12527848139897),(23,97,0.648686178167058),(23,104,5.0309610278634),(23,112,-2.01281014435255),(23,114,-1.41585283974731),(23,115,1.09656056398205),(23,116,2.18228705710013),(24,89,-2.87523270363476),(24,90,-4.73884548478652),(24,91,-0.722617267372661),(24,101,3.63698995941038),(24,107,1.78747672963652),(24,108,1.54724265266884),(24,110,-0.415898617511521),(24,112,-2.05350657673879),(25,90,-4.03306680501724),(25,92,-3.01493118076113),(25,94,-4.00344859157079),(25,98,-1.02130954924161),(25,105,4.03320413830988),(25,108,4.68146305734428),(25,109,2.41607409894101),(25,115,-1.18793298135319),(26,85,0.554620502334666),(26,87,-1.14938810388501),(26,89,-1.49811548203986),(26,95,-4.38734092226936),(26,98,0.738143559068575),(26,100,1.22501297036653),(26,101,-2.37501907406842),(26,102,-0.859370708334605),(26,103,0.836176641132847),(26,104,3.15541550950652),(26,107,-2.55195776238289),(26,109,-1.65115817743461),(26,112,-1.43475142674032),(26,113,-2.25854518265328),(26,117,-1.21462141788995),(27,85,-0.793023468733787),(27,87,0.10734885708182),(27,94,-0.395062105166784),(27,100,-1.19808038575396),(27,102,-1.81543168431654),(27,103,1.00878933072909),(27,104,0.223693044831691),(27,105,-1.65518662068545),(27,108,-0.991622669148839),(27,110,0.679746391186255),(27,114,-1.67539750358592),(28,87,-5.8337504196295),(28,88,2.60522782067324),(28,97,-0.70219275490585),(28,99,-4.50897244178594),(28,104,-1.47402874843593),(28,113,0.547288430433058),(28,114,-0.182500686666463),(29,88,4.73121585741752),(29,91,-1.42175054170354),(29,102,-1.57904293954283),(29,105,1.27765739921262),(29,116,-3.66888943144017),(30,95,2.19173253578295),(30,96,3.5710776085696),(30,99,3.92558824427015),(30,101,-3.54396191290017),(30,104,0.562646870326853),(30,109,-2.00953703421125),(30,110,2.50418866542558),(30,114,-2.17860957670827),(30,118,2.96921445356609),(31,85,-3.2684331797235),(31,92,3.98340556047243),(31,94,-0.203993346964934),(31,96,0.896740623187964),(31,99,1.30214850306711),(31,103,-1.11882381664479),(31,107,-2.58262886440626),(31,108,-0.198889126255073),(31,109,-2.81083101901303),(31,111,2.3969542527543),(31,112,-1.77102725302896),(31,117,0.98650318918424),(32,86,-3.25067903683584),(32,87,-0.0743659779656363),(32,89,-2.99843592638936),(32,92,-3.56636249885556),(32,98,1.93591113010041),(32,99,-0.515747550889615),(32,104,3.03540147099216),(32,106,3.78064821314127),(32,109,4.80256050294504),(32,116,4.97875911740471),(32,118,0.164433729056673),(33,96,-1.56833857234413),(33,98,-0.400715659047212),(33,108,4.11317789239174),(33,110,-1.6375774407178),(33,111,-1.18334757530442),(33,114,-4.53984191412091),(34,85,-5.35589922788171),(34,90,2.36584826197089),(34,99,-1.18434705648976),(34,104,1.29575487533189),(34,109,2.81535538804285),(35,86,2.8716772972808),(35,87,-1.32537308877834),(35,97,-1.14429151280251),(35,98,1.82306131168554),(35,100,0.0673772392956328),(35,104,-3.6530579546495),(35,107,-3.08113345744194),(35,109,3.83196508682516),(35,110,0.644993438520463),(35,112,-4.46653645435957),(36,85,-1.69985808893094),(36,87,-4.20536667989135),(36,90,2.52681814020203),(36,91,4.54416791283914),(36,104,-2.84916989654225),(36,107,3.63457899716178),(36,109,1.65082247383038),(36,112,1.75959044160283),(36,115,3.72741630298776),(36,117,-2.31380657368694),(36,118,4.90006714072085),(37,85,2.41936246833705),(37,86,-1.53702658162175),(37,87,-2.49336222418897),(37,91,1.65780358287301),(37,99,-0.160679952391125),(37,105,-0.810449537644582),(37,111,1.30174413281655),(37,112,-3.40533921323283),(37,118,-0.16673787652211),(38,87,0.707708975493637),(38,90,0.684324167607654),(38,103,-1.46947386089663),(38,105,2.67964720603046),(38,106,3.8033310953093),(38,111,-2.04053621021149),(38,115,-1.3686254463332),(39,87,0.666272469252601),(39,89,-1.02481154820399),(39,91,-7.36442152165288),(39,94,-0.957815790276803),(39,97,-3.06367687002167),(39,98,-2.32215338602863),(39,107,0.299844355601672),(39,108,0.690412610248115),(39,109,2.0349971007416),(39,111,-2.18498794518876),(39,113,-0.893444624164556),(39,116,-4.18894772179327),(39,118,1.16520432142094),(40,88,-3.75411236915189),(40,92,1.47877437665944),(40,99,2.96995452742088),(40,104,-1.43974120303964),(40,110,3.06231879634999),(40,116,1.79946287423322),(40,118,-2.68059327982421),(41,88,-2.421491134373),(41,93,4.49439985351115),(41,96,-1.94486068300424),(41,97,1.02607043671987),(41,100,1.96932126834925),(41,101,7.86527603991821),(41,104,-0.427594836268196),(41,105,-1.7001861629078),(41,106,4.71900845362712),(41,107,-6.42666402172918),(41,109,2.10768456068606),(41,110,-1.18793298135319),(41,111,2.53966643269143),(41,112,4.85817285683767),(42,85,-0.723899044770653),(42,86,3.20365001373333),(42,87,3.2407452620014),(42,99,1.19079409161657),(42,100,-1.0866801965392),(42,103,-2.20339823603015),(42,109,-2.02140110477004),(42,113,-4.32383190404981),(43,85,0.537781914731285),(43,88,-4.08349101229896),(43,89,-4.23278756065554),(43,93,-0.654095583971678),(43,97,-0.871585741752373),(43,98,-0.179418317209387),(43,101,3.50466170232246),(43,102,3.81677449873348),(43,103,-1.75267799920652),(43,105,-1.62251655629139),(43,110,-1.77085940122684),(43,112,4.52625354777673),(43,114,-2.51253547776727),(43,116,1.57765434736167),(44,89,-3.88027588732566),(44,98,-1.89989165929136),(44,99,-1.93295083468123),(45,87,1.07251197851497),(45,88,-2.75946836756493),(45,90,4.654805139317),(45,91,0.179044465468307),(45,95,-4.10184789574877),(45,98,-5.26802880947294),(45,108,4.84909360026856),(45,109,-0.82921842097232),(45,112,0.151738029114658),(45,115,-0.837977233191931),(46,85,1.53158665730766),(46,89,1.04650257881405),(46,91,4.40696432386242),(46,94,-1.23403881954405),(46,97,0.437437055574206),(46,100,1.9395046845912),(46,101,-0.711828974272897),(46,108,-5.33768730735191),(46,112,2.00854518265328),(47,86,4.33477278969695),(47,91,-0.800820947904904),(47,92,-1.20113986632893),(47,94,1.07203131199072),(47,95,-1.78052613910337),(47,100,1.24169896542253),(47,101,-0.699407940916165),(47,104,-2.1774956511124),(47,105,6.08697775200659),(47,108,-0.130771813104648),(47,112,-1.21838282418287),(47,114,1.91938535721915),(47,118,0.0120777001251259),(48,86,5.10795159764397),(48,91,-0.263893551438948),(48,98,1.2364650410474),(48,99,-1.93292031617176),(48,100,-2.28591265602588),(48,103,-4.74257637256996),(48,105,0.654606769005402),(48,106,-4.63518173772393),(48,111,-4.10326700643941),(48,115,0.539605395672475),(49,87,3.60213019196142),(49,89,2.09331034272286),(49,93,2.69066438795129),(49,94,3.5060045167394),(49,95,4.48673970763268),(49,102,-5.11236915189062),(49,113,-2.68762779625843),(49,114,4.37437818536943),(50,89,2.19818720053713),(50,105,1.93006683553575),(50,107,3.27047029023102),(51,87,-2.4850611896115),(51,92,5.47148808252205),(51,97,1.47945341349528),(51,98,3.75804162724693),(51,103,-1.46785637989441),(51,106,1.59055604724265),(51,112,2.57061220130009),(51,118,-1.38212225714896),(52,89,-2.06426435132908),(52,97,-0.0273064363536484),(52,106,-4.85728782006287),(52,110,-1.91118350779748),(52,111,-0.407444990386669),(52,113,0.949369792779321),(52,114,-1.31961272011475),(52,118,1.50689718314158),(53,88,-3.04026154362621),(53,90,-2.59002960295419),(53,92,3.2106463820307),(53,94,-0.164418469801935),(53,104,-0.669949949644459),(53,105,0.796327097384564),(53,109,4.25296792504654),(54,85,2.1783806878872),(54,91,-2.26737266151921),(54,94,3.37011322367016),(54,96,0.945310831019013),(54,111,1.19560075685904),(54,112,2.8151951658681),(54,113,2.36287270729698),(54,118,-1.47224341563158),(55,87,0.942716757713554),(55,95,1.33907589953307),(55,107,0.718062379833369),(55,110,-3.72341074861904),(55,117,-0.94305246131779),(56,107,-0.752021851252785),(56,111,-1.68531601916562),(56,113,-2.48247474593341),(56,114,0.914426099429304),(57,87,-0.34934537797174),(57,90,1.78317361980041),(57,91,-2.86381878109073),(57,92,-3.70438245796075),(57,93,6.16532639545885),(57,94,-2.88303781243324),(57,95,1.37560655537583),(57,96,-0.207632679219947),(57,100,-3.62279885250404),(57,102,-1.70575579088717),(57,103,6.53458510086367),(57,115,-2.13106936857204),(58,86,-1.69430372020631),(58,87,-1.08978545487838),(58,89,0.472441785943174),(58,90,-4.37662129581591),(58,95,-0.302491836298715),(58,96,1.98019348735008),(58,101,-3.65060884426405),(58,103,-6.34890285958434),(58,109,-4.43708609271523),(58,110,2.30310220648823),(58,113,4.04073458052309),(58,114,0.198370311593982),(58,115,0.959051789910581),(59,85,-0.601748710592975),(59,86,1.6560106204413),(59,90,-0.478782006286813),(59,91,-3.13623462630085),(59,93,4.18796349986267),(59,97,-0.212485122226631),(59,98,1.11193426313059),(59,100,5.67172002319407),(59,102,3.49272133548997),(59,112,3.0726035340434),(59,114,-1.50503555406354),(60,85,3.08300271614734),(60,87,-0.272019104586932),(60,90,-0.574587237159337),(60,91,-3.34253975035859),(60,96,2.54455702383496),(60,100,-3.38573870052187),(60,101,2.70287179174169),(60,105,-1.50662251655629),(60,107,-0.306855983153783),(60,109,3.90420239875484),(60,110,0.887630848109378),(60,114,0.607989745780816),(61,89,1.36960203863643),(61,94,-0.749473555711539),(61,96,-0.389965514084292),(61,98,0.577372051149022),(61,100,3.68202002014222),(61,102,-3.00824762718589),(61,103,3.43974120303964),(61,114,-1.54113132114628),(61,115,1.84690389721366),(62,93,-3.3172627948851),(62,95,-0.601977599414044),(62,107,-0.962172307504501),(62,109,-3.88962981048006),(62,110,-2.86263618884854),(62,111,0.32036805322428),(63,87,3.58033234656819),(63,90,4.36333811456648),(63,93,-3.97785882137516),(63,97,2.38194677571947),(63,100,4.44376964629047),(63,103,-1.47734000671407),(63,104,-1.98144474623859),(63,108,2.19007690664388),(63,111,-0.197279274880215),(63,114,0.837496566667684),(63,117,-0.484710226752526),(64,87,3.73825037385174),(64,94,-0.811166722617267),(64,99,0.288003173924985),(64,110,-1.76244392223884),(64,112,-1.05597094637898),(64,116,-2.4563890499588),(65,87,1.82791375469222),(65,88,-1.9257484664449),(65,90,0.442213202307199),(65,97,2.47322763756218),(65,99,-2.70667134617145),(65,107,-3.0209433271279),(65,110,-6.50137333292642),(65,111,-2.93400372325816),(65,114,-3.90078432569353),(65,116,5.10505996887112),(65,117,-4.08299508651997),(66,85,1.2818231757561),(66,102,-0.991599780266732),(66,105,-2.20493179113132),(66,108,2.84281441694388),(66,111,2.12697988830226),(66,115,4.01683095797601),(66,118,2.18999298074282),(67,86,2.05153050325022),(67,90,-2.92704550309763),(67,92,-0.499496444593646),(67,104,-2.28293710135197),(67,109,4.11032441175573),(67,111,-1.42704550309763),(68,87,-2.22655415509506),(68,88,-1.64287240211188),(68,90,-2.28231910153508),(68,93,-2.1842631305887),(68,95,-1.10177922910245),(68,96,-1.74817651905881),(68,97,2.07434308908353),(68,103,0.935697500534074),(68,107,-0.476050599688711),(68,112,-0.605410931730094),(68,114,0.314088869899594),(69,87,3.6454512161626),(69,88,-2.96667378765221),(69,92,-0.510574663533433),(69,94,-0.74526963103122),(69,95,1.03587450788904),(69,97,-0.441373943296609),(69,108,-0.473952452162236),(69,113,2.10189367351299),(69,114,-0.687208166753136),(69,118,1.72086245307779),(70,85,-0.403073213904233),(70,86,2.49763481551561),(70,87,-1.8844264046144),(70,90,0.851954710531937),(70,96,-1.15218817712943),(70,97,0.302819910275582),(70,99,2.18596453749199),(70,105,-1.56034272286142),(70,107,-3.52223273415326),(70,109,-2.08814508499405),(70,110,-2.39101077303385),(70,111,0.665433210242012),(71,85,-0.446409497360149),(71,93,0.439138462477493),(71,96,-3.24167607654042),(71,100,0.236068300424207),(71,104,2.34073152867214),(71,106,2.01559495834223),(71,111,3.40424817651906),(71,113,0.692922757652516),(72,94,0.884121219519639),(72,96,1.24250007629627),(72,99,-0.00228888821069979),(72,110,1.39645069734794),(72,112,-0.95883053071688),(72,114,-2.09234900967437),(72,115,-0.345851008636738),(72,116,2.345194860683),(73,88,-2.0324869533372),(73,94,1.33082064271981),(73,99,-0.54162724692526),(73,100,-1.99201940977203),(73,106,-1.7280724509415),(73,110,1.10103152562029),(73,115,-6.26706747642445),(74,90,-3.03742332224494),(74,94,-1.98724326303903),(74,99,-4.28964354380932),(74,102,-1.35479293191321),(74,106,-0.511566515091403),(74,107,0.414822840052492),(74,110,2.39921262245552),(74,113,3.0802331614124),(74,116,-3.8296914578692),(75,85,-2.57243568224128),(75,86,-1.45100253303629),(75,93,-3.19987334818567),(75,98,1.40270699179052),(75,103,1.67067476424451),(75,105,0.305261391033662),(75,111,-3.22832422864467),(75,117,-2.44183172093875),(76,86,-0.249114963225196),(76,89,-1.92823572496719),(76,92,-1.29848628192999),(76,94,0.399029511398663),(76,99,1.32824182866909),(76,101,-0.263298440504166),(76,103,0.182157353434858),(76,106,-3.62300485244301),(76,110,1.82416760765404),(76,113,1.03354747154149),(77,88,-0.86817529831843),(77,91,-0.110965300454726),(77,93,1.76679280983917),(77,98,-0.597094637897885),(77,101,0.344599749748222),(77,102,-5.59127323221534),(77,103,-0.848643452253792),(77,104,-0.234305856501968),(77,105,1.57690664387951),(77,109,-3.2698370311594),(78,88,-1.86264381847591),(78,93,1.53393658253731),(78,94,-0.40210425122837),(78,101,-0.610583819086276),(78,104,2.87131870479446),(78,110,-1.84916226691488),(78,114,1.84869685964538),(78,116,1.14993743705557),(78,117,1.65501876888333),(78,118,-1.0087130344554),(79,87,2.48101748710593),(79,92,-2.07163457136753),(79,94,1.99759666737877),(79,107,0.02554399243141),(79,108,0.00889614551225332),(79,114,4.16628772850734),(79,118,0.0618533890804773),(80,87,-0.548814355906858),(80,88,-0.593890194402905),(80,91,0.616107669301431),(80,99,-1.05407879879147),(80,101,-2.61265907773064),(80,107,1.56100650044252),(80,113,-0.0123599963377789),(81,85,1.54183324686422),(81,86,-1.73039948728904),(81,90,-0.249107333597827),(81,93,1.16617328409681),(81,96,-1.07188634907071),(81,97,-4.38136692403943),(81,106,0.377521591845454),(81,107,1.96234015930662),(81,110,1.72325052644429),(81,115,2.06879634998627),(82,86,-2.406231879635),(82,92,-2.42484817041536),(82,110,-2.23776207770013),(82,112,1.97912533951842),(83,87,-2.39463484603412),(83,91,1.89359721671194),(83,93,1.19534134952849),(83,101,-0.965147862178411),(83,103,1.96081423383282),(83,105,1.76537369914853),(83,108,-0.338061159092989),(84,85,-2.64846491897336),(84,86,-3.27654347361675),(84,89,-2.06022827845088),(84,95,-1.43955809198279),(84,99,2.41092410046693),(84,104,1.15714743491928),(84,111,-1.74176763206885),(84,113,-3.13028351695303),(84,114,-2.25974303415021),(10,119,0.118564409314249),(119,109,2.06762901699881),(58,120,1.92352824488052),(120,118,2.77882473220008),(95,104,1.51889095736564)]
orgname='BHNEAT_13_13'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()