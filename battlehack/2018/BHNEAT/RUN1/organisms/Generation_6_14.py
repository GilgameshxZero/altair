edge = [(0,85,-2.41088595233009),(0,89,0.779473250526444),(0,90,0.482268745994446),(0,93,0.0647144993438521),(0,98,1.43520920438246),(0,101,2.26081118198187),(0,105,1.1273384807886),(0,108,0.508438367870113),(0,113,-1.38970610675375),(0,114,-1.65385906552324),(0,117,-1.36341441084017),(0,118,0.469512009033479),(1,86,-0.054536576433607),(1,92,0.3037507248146),(1,98,1.84064760277108),(1,102,1.23526718955046),(1,104,1.4225745414594),(1,107,-2.05664235358745),(1,108,-1.85567796868801),(1,109,-0.706671346171453),(1,113,-0.245490890224921),(2,87,1.97610400708029),(2,88,1.06273079622791),(2,100,0.900494399853511),(2,106,-0.696768089846492),(2,108,2.00747703482162),(2,110,0.669255653553881),(2,113,1.52488784447768),(2,118,-0.884990997039705),(3,89,2.0844904934843),(3,92,0.549272133548998),(3,97,-2.23982970671712),(3,99,-1.04342783898434),(3,101,0.498840296639912),(3,103,0.52012695699942),(3,105,-1.61915952024903),(3,108,2.01423688467055),(3,109,-0.706717123935667),(3,111,-2.74678792687765),(3,112,-1.33039338358715),(3,116,0.565843684194464),(4,90,1.82943205053865),(4,91,0.107516708883938),(4,97,-1.66260261848811),(4,99,-0.476928006836146),(4,101,0.609759819330424),(4,108,2.639545884579),(4,113,-0.556382946256905),(4,118,-0.30802331614124),(5,86,1.30062257759331),(5,87,0.240607928708762),(5,89,0.0227668080690939),(5,92,-0.30787072359386),(5,93,1.67888424329356),(5,99,-2.15433210242012),(5,104,-0.306863612781152),(5,114,2.46177556688131),(5,118,-0.556321909237953),(6,89,-0.54330576494644),(6,92,0.149464400158696),(6,94,-0.558793908505509),(6,100,1.44764549699393),(6,101,-1.11401715140233),(6,103,-1.09855952635273),(6,107,0.955717642750328),(6,110,1.30431531723991),(6,113,0.0422376171147801),(7,85,-1.5850550859096),(7,86,-1.19206823938719),(7,90,-1.47886593218787),(7,95,-2.49275185399945),(7,99,-1.25525681325724),(7,100,3.14194158757286),(7,104,-2.38248847926267),(7,106,2.87934507278664),(7,108,-1.97677541428877),(7,112,1.63542588579974),(7,116,0.410779137546922),(8,92,-2.49697866756188),(8,93,0.174962614825892),(8,95,1.50090029602954),(8,99,0.63182470168157),(8,106,-1.93630787072359),(8,107,-2.75782036805322),(8,115,0.548768578142644),(8,116,-0.381145664845729),(8,118,-2.6982177190466),(9,85,-1.04161198767052),(9,87,0.15279091769158),(9,98,-0.229758598590045),(9,101,-1.7869655446028),(9,103,2.88315988647114),(9,105,1.50949125644704),(9,106,-1.47521897030549),(9,113,1.93821527756584),(10,89,-1.83281960509049),(10,96,-0.366985076448866),(10,106,0.619037446211127),(10,108,1.50344859157079),(10,111,-3.02557451094089),(10,112,0.87084566789758),(10,114,2.1527603991821),(10,115,0.633289590136418),(10,116,-2.61093478194525),(10,117,-0.26364940336314),(11,89,-1.67072054200873),(11,97,-0.0524918362987152),(11,105,-0.60307626575518),(11,112,0.57060457167272),(11,115,-2.66365550706503),(12,92,0.594042786950285),(12,93,1.00553910946989),(12,94,-2.15697195348979),(12,97,-2.11177404095584),(12,98,-0.65324869533372),(12,99,1.95730460524308),(12,108,-1.12840662862026),(12,116,-0.768364513077181),(13,86,0.922544022949919),(13,87,1.64157536545915),(13,90,1.82073427533799),(13,99,2.42379528183843),(13,102,-1.21463667714469),(13,104,-0.0231788079470199),(13,113,0.12976470229194),(13,116,-1.20398571733757),(13,118,1.42818994720298),(14,90,-3.18662068544572),(14,93,-0.131809442426832),(14,95,-2.82876064333018),(14,102,-0.185781426435133),(14,104,-1.47633289590136),(14,106,0.440015869624928),(14,109,0.330698568681906),(14,110,3.04428235724967),(14,111,-1.80138554033021),(15,85,-0.381221961119419),(15,92,-0.834635456404309),(15,99,2.23326822717978),(15,101,1.26903592028565),(15,104,-0.699819940794092),(15,108,1.81843012787255),(15,117,-1.99407940916166),(16,86,-2.40424817651906),(16,87,-0.098437452314829),(16,88,0.130558183538316),(16,90,-0.301217688528092),(16,91,-0.428632465590381),(16,95,0.0904110843226417),(16,97,-1.93494979705191),(16,98,0.161641285439619),(16,99,1.83376567888424),(16,101,0.80108035523545),(16,108,1.27504806665242),(16,110,2.09701834162419),(17,89,-1.40351573229163),(17,96,-1.05323953978088),(17,99,0.513565477462081),(17,101,-1.26602984710227),(17,106,1.58467360454115),(17,107,-0.00254829554124576),(17,109,-2.49212622455519),(18,90,-0.227927488021485),(18,91,1.65387432477798),(18,93,-0.665746024964141),(18,99,2.60963774529252),(18,102,1.14841151158177),(18,103,2.27904599139378),(18,104,0.570085757011628),(18,110,2.88709677419355),(18,111,0.410840174565874),(18,116,-1.23294778283029),(18,117,2.87553025910215),(18,118,0.119525742362743),(19,87,0.166722617267373),(19,89,-1.63126010925626),(19,93,-0.851008636738182),(19,95,-1.26964629047517),(19,101,1.27130954924162),(19,105,-2.613162633137),(19,115,-2.47105319376202),(20,88,0.362590411084323),(20,101,-2.50865199743644),(20,103,-2.06979583117161),(20,104,0.33127842036195),(20,105,0.219931638538774),(20,106,-1.37713248084964),(20,111,-0.376598406933805),(20,116,1.14748069704276),(21,86,-0.625858333079012),(21,87,0.624164555803095),(21,94,-3.12172307504501),(21,96,-1.21593371379742),(21,101,0.39509262367626),(21,102,-1.31292153691214),(21,105,1.22052674947356),(21,107,0.0382702108829005),(21,108,0.244727927488021),(22,86,-0.824274422437208),(22,88,-0.36603900265511),(22,91,1.70264290292062),(22,92,0.445326090273751),(22,93,1.76099429303873),(22,98,-1.36118655964843),(22,106,0.161336100344859),(22,115,-0.0270393993957335),(22,117,2.66914883877071),(23,85,0.281395916623432),(23,86,-2.13835566270943),(23,88,1.15137180700095),(23,90,-1.82406079287088),(23,97,1.62343211157567),(23,104,-0.41338847010712),(23,112,-0.0375377666554765),(23,114,-1.01915036469619),(23,115,-3.00482192449721),(23,116,-2.59996337778863),(24,89,-2.16945402386547),(24,90,0.382961516159551),(24,91,-0.978362376781518),(24,101,-1.95953245643483),(24,107,-0.00979644154179504),(24,108,2.14540543839839),(24,110,1.51087984862819),(24,112,2.47474593340861),(25,90,0.136906033509323),(25,92,2.02813806573687),(25,94,-0.516907254249702),(25,98,-1.92027039399396),(25,105,2.10473952452162),(25,108,0.257881405072176),(25,109,-1.49562059389019),(25,115,1.40963469344157),(26,85,2.86208685567797),(26,87,1.93656727805414),(26,89,1.37440107425153),(26,95,1.1654103213599),(26,98,-2.61091952269051),(26,100,1.87170018616291),(26,101,-1.26380199591052),(26,102,0.743461409344768),(26,103,1.68123416852321),(26,104,1.63989684743797),(26,107,-0.280861842707602),(26,109,0.782280953398236),(26,112,2.22647785882137),(26,113,-1.01388592181158),(26,117,1.39286477248451),(27,85,1.74512466811121),(27,87,0.557054353465377),(27,94,-0.382763145847957),(27,100,-1.41389202551347),(27,102,1.48548844874416),(27,103,-1.35128330332347),(27,104,-1.93560594500565),(27,105,0.313715018158513),(27,108,-2.56698812829981),(27,110,-1.64740440076907),(27,114,0.737388225959044),(28,87,0.0580004272591326),(28,88,0.340006714072085),(28,97,-1.17313150425733),(28,99,0.631565294351024),(28,104,-1.19141209143345),(28,113,1.82151249732963),(28,114,-0.896725363933226),(29,88,-2.07460249641408),(29,91,1.37786492507706),(29,102,0.300897244178594),(29,105,-2.26866969817194),(29,116,-0.17932676168096),(30,95,-0.554170354319895),(30,96,0.103717154454176),(30,99,1.03402813806574),(30,101,-0.221839045381024),(30,104,1.70888393810846),(30,109,-0.655430768761254),(30,110,0.430875576036866),(30,114,-2.7830286568804),(30,118,-0.780709250160222),(31,85,-2.51145970030824),(31,92,-2.1942808313242),(31,94,0.668034913174841),(31,96,0.832193975646229),(31,99,-1.37058626056703),(31,103,-1.18062379833369),(31,107,0.640125736259041),(31,108,0.872463148899808),(31,109,1.57531968138676),(31,111,-2.44042786950285),(31,112,-0.307931760612812),(31,117,-0.119220557267983),(32,86,-3.13097018341624),(32,87,-0.224311044648579),(32,89,2.2478102969451),(32,92,-0.278603473006378),(32,98,0.280465102084414),(32,99,0.752586443678091),(32,104,0.519760734885708),(32,106,1.50167851802118),(32,109,2.09945982238227),(32,116,1.17458113345744),(32,118,1.83349101229896),(33,96,1.15837580492569),(33,98,1.34228034302805),(33,108,-1.793069246498),(33,110,-1.28719443342387),(33,111,0.487655262916959),(33,114,0.702551347392193),(34,85,0.401913510544145),(34,90,2.2720267342143),(34,99,-0.916470839564196),(34,104,-0.813913388470107),(34,109,-0.552415540025025),(35,86,2.00636310922575),(35,87,2.5108035523545),(35,97,-0.685064241462447),(35,98,2.32146671956542),(35,100,-1.3614154484695),(35,104,0.822748496963408),(35,107,-0.608676412244026),(35,109,-2.35062715536973),(35,110,-1.6499069185461),(35,112,0.267342143009735),(36,85,1.10689107943968),(36,87,2.02609332560198),(36,90,0.270241401409955),(36,91,2.46818445387127),(36,104,-0.138401440473647),(36,107,0.00779747917111739),(36,109,-0.791192358165227),(36,112,2.01025421918394),(36,115,1.84820093386639),(36,117,-1.9992370372631),(36,118,-0.137180700094607),(37,85,0.419293801690725),(37,86,2.4321726126896),(37,87,-2.66594439527573),(37,91,2.23731192968535),(37,99,-1.67334513382366),(37,105,0.340098269600513),(37,111,-2.48182622760704),(37,112,2.85724967192602),(37,118,0.349559007538072),(38,87,-2.14529862361522),(38,90,-1.0112460707419),(38,103,-1.80567339091159),(38,105,0.502761925107578),(38,106,2.59155552842799),(38,111,-0.213965269936216),(38,115,-0.463270973845637),(39,87,-1.08455153050325),(39,89,0.726645710623493),(39,91,-2.21839045381024),(39,94,-1.76430555131687),(39,97,-2.82193975646229),(39,98,-1.58464308603168),(39,107,-2.40876491592151),(39,108,0.138172551652577),(39,109,1.1609088412122),(39,111,-1.64860988189337),(39,113,2.19481490524003),(39,116,0.373470259712516),(39,118,2.18977935117649),(40,88,-1.13829462569048),(40,92,0.393536179692984),(40,99,-1.96356089968566),(40,104,-3.03952146977142),(40,110,-0.78049562059389),(40,116,-1.3258766441847),(40,118,-0.252388073366497),(41,88,2.19481490524003),(41,93,-1.58406323435163),(41,96,-0.340159306619465),(41,97,-1.43559068575091),(41,100,1.35456404309214),(41,101,-2.1584215826899),(41,104,-1.40533158360546),(41,105,0.67093417157506),(41,106,-0.0122379222998749),(41,107,-0.946531571398053),(41,109,0.549714651936399),(41,110,-0.0318765831476791),(41,111,-0.861781670583209),(41,112,-0.188283944212165),(42,85,2.21201208532975),(42,86,-1.89797662282174),(42,87,-0.021698660237434),(42,99,2.18771935178686),(42,100,-1.04933317056795),(42,103,-0.635471663563951),(42,109,-1.07032990508744),(42,113,1.56654560991241),(43,85,-2.44880520035401),(43,88,1.19441816461684),(43,89,-1.55192724387341),(43,93,0.372737815485092),(43,97,-1.98997466963713),(43,98,0.0143742179631947),(43,101,-1.1750846888638),(43,102,1.04123050630207),(43,103,1.8107394634846),(43,105,-0.334177678762169),(43,110,0.0618915372173223),(43,112,0.622425000762963),(43,114,-1.48715170751061),(43,116,0.986968596453749),(44,89,-1.43383587145604),(44,98,2.071520126957),(44,99,1.05160679952391),(45,87,-1.6228827784051),(45,88,-1.01411481063265),(45,90,-1.80065309610279),(45,91,1.08182012390515),(45,95,-0.611941892757958),(45,98,-0.298196356089969),(45,108,-0.396969512009034),(45,109,0.195745719779046),(45,112,2.20738853114414),(45,115,-0.719107638782922),(46,85,-2.72772911770989),(46,89,-0.540269173253578),(46,91,-0.632236701559496),(46,94,-0.35163426618244),(46,97,-0.363414410840175),(46,100,-0.599902340769677),(46,101,1.25226599932859),(46,108,-0.511032441175573),(46,112,1.70130008850368),(47,86,-0.541367839594714),(47,91,1.08941923276467),(47,92,0.171269875179296),(47,94,-2.51446577349162),(47,95,1.70308542130802),(47,100,-2.27605517746513),(47,101,2.32268745994446),(47,104,-2.01422162541581),(47,105,0.491943113498337),(47,108,2.03749198889126),(47,112,0.23734244819483),(47,114,1.98011719107639),(47,118,0.828791161839656),(48,86,2.49888607440413),(48,91,0.0141300698873867),(48,98,0.673787652211066),(48,99,0.128604998931852),(48,100,0.802499465926084),(48,103,1.5387127292703),(48,105,-0.666692098757897),(48,106,-1.65250099185156),(48,111,-0.0663167210913419),(48,115,-2.02055421613208),(49,87,2.12858973967711),(49,89,-1.05269020661031),(49,93,-1.68648335215308),(49,94,-0.965758232367931),(49,95,0.682683797723319),(49,102,-0.451902829065828),(49,113,2.07281716360973),(49,114,-0.82677694021424),(50,89,1.66959135715812),(50,105,-0.0194402905362102),(50,107,-0.277611621448409),(51,87,0.462416455580309),(51,92,0.27774895474105),(51,97,-1.33846552934355),(51,98,-0.354899746696371),(51,103,1.46475112155522),(51,106,1.26400036622211),(51,112,-1.47656178472243),(51,118,0.186895352031007),(52,89,-2.01178014465774),(52,97,-0.473830378124332),(52,106,0.00816370128482935),(52,110,1.69675283059175),(52,111,-2.13888973662526),(52,113,2.39526047547838),(52,114,0.449018829920347),(52,118,-0.190313425092318),(53,88,1.14772484511856),(53,90,0.818582720419935),(53,92,1.12529374065371),(53,94,1.96981719412824),(53,104,-0.546769615771966),(53,105,0.56755272072512),(53,109,1.49203466902676),(54,85,-1.73078096865749),(54,91,1.24843592638936),(54,94,-0.279717398602252),(54,96,2.05732902005066),(54,111,-1.94334238715781),(54,112,-2.47238074892422),(54,113,-1.49060029908139),(54,118,-2.37035737174596),(55,87,-0.767082735679189),(55,95,-0.580156865138707),(55,107,-2.36152226325266),(55,110,0.505996887112033),(55,117,-0.806512649922178),(56,107,-1.3106173894467),(56,111,2.39242225409711),(56,113,-2.95118564409314),(56,114,0.0631122775963622),(57,87,0.472899563585315),(57,90,0.271645252845851),(57,91,1.40026551103244),(57,92,0.872478408154546),(57,93,2.49238563188574),(57,94,2.2172917874691),(57,95,0.535355693227943),(57,96,1.01608325449385),(57,100,0.860957670827357),(57,102,0.506836146122623),(57,103,-0.1067384868923),(57,115,-0.832850123599963),(58,86,-1.12718588824122),(58,87,-0.800500503555406),(58,89,-1.57939390240181),(58,90,2.37105929746391),(58,95,-0.662877285073397),(58,96,1.74733726004822),(58,101,-1.13138218329417),(58,103,-1.25170140690329),(58,109,-0.429242835779901),(58,110,-0.624744407483139),(58,113,2.46464430677206),(58,114,-1.57803582873012),(58,115,-2.47289956358531),(58,118,1.39812921536912),(59,85,1.43523972289193),(59,86,2.44605853450118),(59,90,2.72869045075838),(59,91,0.311136204107791),(59,93,0.117770928067873),(59,97,-0.0352641376995148),(59,98,0.966093935972167),(59,100,1.33217871639149),(59,102,0.0223090304269539),(59,112,-0.145344401379436),(59,114,-0.662282174138615),(60,85,-2.52299569689016),(60,87,-1.66553239539781),(60,90,1.76801355021821),(60,91,-0.813852351451155),(60,96,-2.04313791314432),(60,100,0.0686361278115177),(60,101,1.75122837000641),(60,105,1.94013794366283),(60,107,-1.59576708273568),(60,109,2.11398663289285),(60,110,-0.832453382976775),(60,114,-0.880077517014069),(61,89,0.391674550614948),(61,94,-0.203344828638569),(61,96,0.807885982848598),(61,98,0.732596819971313),(61,100,0.0173955504013184),(61,102,-1.58825952940458),(61,103,0.0823236793115024),(61,114,-0.139530625324259),(61,115,-1.86635944700461),(62,93,0.0240791039765619),(62,95,0.275734733115635),(62,107,-0.954161198767052),(62,109,-2.28832361827448),(62,110,-1.32396923734245),(62,111,-2.36234626300852),(63,87,-2.669423505356),(63,90,2.47996459852901),(63,93,1.77304910428175),(63,97,1.27517014069033),(63,100,1.52063051240577),(63,103,-1.18245490890225),(63,104,2.28191473128452),(63,108,-1.36005737479781),(63,111,0.543671987060152),(63,114,-0.69457075716422),(63,117,0.180242316965239),(64,87,0.300988799707022),(64,94,1.20799890133366),(64,99,1.02258369701224),(64,110,-1.17558824427015),(64,112,-1.11090426343577),(64,116,-2.44807275612659),(65,87,-0.898800622577593),(65,88,0.816827906125065),(65,90,1.32198553422651),(65,97,-0.469557786797693),(65,99,-2.12804040650655),(65,107,0.771660512100589),(65,110,-2.07258827478866),(65,111,-1.6436048463393),(65,114,0.43771172215949),(65,116,-2.68732261116367),(65,117,2.66029847102268),(66,85,0.941160313730277),(66,102,3.28659932248909),(66,105,1.53180028687399),(66,108,2.26364940336314),(66,111,0.928220465712455),(66,115,0.145039216284677),(66,118,-1.30689413129063),(67,86,-0.17360454115421),(67,90,-0.984313486129337),(67,92,-0.0497299111911374),(67,104,0.82311471907712),(67,109,0.510498367259743),(67,111,1.79509872737815),(68,87,0.661122470778527),(68,88,2.23694570757164),(68,90,-0.156239509262368),(68,93,-0.675923947874386),(68,95,2.77872554704428),(68,96,-1.8893246253853),(68,97,-0.968016602069155),(68,103,-0.572985015411847),(68,107,0.613345744193853),(68,112,0.306176946317942),(68,114,0.283379619739372),(69,87,3.22925504318369),(69,88,-0.539658803064058),(69,92,1.47946104312265),(69,94,1.01026947843867),(69,95,-0.683462019714957),(69,97,1.09269997253334),(69,108,-2.11508529923399),(69,113,-1.82808923612171),(69,114,3.11116367076632),(69,118,2.63609729300821),(70,85,-1.12453077791681),(70,86,-0.603411969359416),(70,87,-2.38323618274483),(70,90,1.28910184026612),(70,96,-1.65723136082034),(70,97,-1.68913846247749),(70,99,1.04226813562426),(70,105,-2.62067018646809),(70,107,2.86918240913114),(70,109,-1.93340861232337),(70,110,-1.30008850367748),(70,111,-0.386120181890316),(71,85,2.17224646748253),(71,93,-2.00848414563433),(71,96,0.474654377880184),(71,100,-1.87180700094607),(71,104,-0.564745017853328),(71,106,-0.206213568529313),(71,111,0.121127964110233),(71,113,0.097582934049501),(72,94,0.673726615192114),(72,96,-0.967268898586993),(72,99,1.74610126041444),(72,110,-2.09219641712699),(72,112,0.0223548081911679),(72,114,2.36902981658376),(72,115,0.626087221900082),(72,116,0.485457930234687),(73,88,1.4945371868038),(73,94,2.86704611346782),(73,99,-0.943632312997833),(73,100,-0.812387462996307),(73,106,0.990707113864559),(73,110,-0.663777581102939),(73,115,1.25827814569536),(74,90,-1.56558427686392),(74,94,-1.55265968810083),(74,99,0.519196142460402),(74,102,1.29590746787927),(74,106,-0.464339121677297),(74,107,-0.0498672444837794),(74,110,2.46156193731498),(74,113,-1.5425275429548),(74,116,0.240409558397168),(75,85,-1.01400799584948),(75,86,-2.06724753563036),(75,93,0.444380016479995),(75,98,-1.33344523453475),(75,103,1.44264046143986),(75,105,0.917584765160069),(75,111,2.87923825800348),(75,117,0.356822412793359),(76,86,-0.423306985686819),(76,89,-0.195059053315836),(76,92,-0.341776787621693),(76,94,2.48840296639912),(76,99,1.8809320352794),(76,101,-1.90328684347056),(76,103,-0.389538254951628),(76,106,-0.258491775261696),(76,110,-1.98460341196936),(76,113,1.92464980010376),(77,88,-1.21811578722495),(77,91,-1.63574633014924),(77,93,-0.476241340372936),(77,98,-2.28492080446791),(77,101,0.333536790063173),(77,102,0.868068483535264),(77,103,1.59848323007904),(77,104,0.423749504074221),(77,105,1.83416241950743),(77,109,0.143925290688803),(78,88,1.34244819483016),(78,93,1.2651600695822),(78,94,1.26296273689993),(78,101,-0.394985808893094),(78,104,0.102511673329875),(78,110,-0.555558946501053),(78,114,-0.494399853511155),(78,116,-1.51814325388348),(78,117,0.935605945005646),(78,118,-1.29728080080569),(79,87,3.33555101168859),(79,92,0.242164372692038),(79,94,0.48002563554796),(79,107,1.68872646259957),(79,108,-0.00234992522965183),(79,114,-0.225272377697073),(79,118,-3.18779564806055),(80,87,-0.947386089663381),(80,88,1.43902401806696),(80,91,1.3132267220069),(80,99,-1.28205206457717),(80,101,1.89347514267403),(80,107,1.14297921689505),(80,113,-1.13917966246529),(81,85,-1.73612170781579),(81,86,-0.0569322794274728),(81,90,0.758903775139622),(81,93,-1.48052919095431),(81,96,2.18076113162633),(81,97,-0.915189062166204),(81,106,0.500473036896878),(81,107,-1.55798516800439),(81,110,0.394131290627766),(81,115,-0.748023926511429),(82,86,1.40681173131504),(82,92,1.56263924069948),(82,110,-3.04359569078646),(82,112,2.41851557969909),(83,87,-1.52073732718894),(83,91,0.436353648487808),(83,93,-1.31156346324046),(83,101,-1.13155003509629),(83,103,-1.39965514084292),(83,105,0.0477919858394116),(83,108,-1.32247383037812),(84,85,0.859675893429365),(84,86,-2.13263344218268),(84,89,1.85363322855312),(84,95,0.261696218756676),(84,99,0.591143528550066),(84,104,2.26348155156102),(84,111,1.92593157750175),(84,113,0.273934141056551),(84,114,0.900311288796655),(10,119,-0.0908078249458295),(119,109,-1.18611713003937)]
orgname='BHNEAT_6_14'
cnodes = 120

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()