edge = [(0,85,2.36071352275155),(0,89,1.72435682241279),(0,90,-1.57910397656178),(0,93,-2.8481246375927),(0,98,-0.365489669484542),(0,101,0.765984069338054),(0,105,-0.929761650440992),(0,108,-1.60339671010468),(0,113,-1.03801080355235),(0,114,1.0127719962157),(0,117,0.156712546159246),(0,118,-0.283532212286752),(1,86,-2.04693746757408),(1,92,-1.3370006408887),(1,98,0.0798059022797326),(1,102,0.526276436658834),(1,104,-1.62164677877132),(1,107,0.887493514816736),(1,108,-1.68965727713858),(1,109,1.47274697103793),(1,113,2.35857722708823),(2,87,-1.70778527176733),(2,88,2.87217322305979),(2,100,-2.23471785637989),(2,106,-2.11069063386944),(2,108,-0.742469557786798),(2,110,2.68570513016144),(2,113,-1.40656758323923),(2,118,-2.38596758934294),(3,89,1.11722159489731),(3,92,-1.94508194219794),(3,97,-2.34733115634632),(3,99,1.2317880794702),(3,101,-2.52304147465438),(3,103,2.52961821344646),(3,105,-0.198797570726646),(3,108,-2.3940244758446),(3,109,-0.591006195257424),(3,111,-0.896862697225867),(3,112,-0.333582567827387),(3,116,-3.4288003173925),(4,90,-2.15849787896359),(4,91,1.22318185979797),(4,97,0.876537369914853),(4,99,-1.55252235480819),(4,101,2.35666982024598),(4,108,0.228049562059389),(4,113,1.46400341807306),(4,118,0.457441938535722),(5,86,-0.266182439649647),(5,87,0.9135410626545),(5,89,-1.21170690023499),(5,92,1.27794732505264),(5,93,2.54431287575915),(5,99,1.03798028504288),(5,104,-1.63162633136998),(5,114,1.79616687520981),(5,118,-1.90249336222419),(6,89,-0.90911587878048),(6,92,-2.20748008667257),(6,94,-1.36532181768242),(6,100,-1.89887691885128),(6,101,-2.4504074221015),(6,103,-1.63989684743797),(6,107,2.19980468153935),(6,110,-1.72643208105716),(6,113,0.300881984923856),(7,85,-1.83083590197455),(7,86,-0.463820307016205),(7,90,0.973754081850643),(7,95,1.27880184331797),(7,99,1.01318399609363),(7,100,-2.34577471236305),(7,104,2.10003967406232),(7,106,0.41117587817011),(7,108,1.10589922788171),(7,112,0.231955931272317),(7,116,0.48010193182165),(8,92,2.12451551866207),(8,93,-1.82630390331736),(8,95,1.42339854121525),(8,99,-1.5870998260445),(8,106,1.68990142521439),(8,107,2.04766991180151),(8,115,-1.38282418286691),(8,116,0.549668874172186),(8,118,1.55058442945647),(9,85,-1.34199041718802),(9,87,0.639164403210547),(9,98,-2.13197729422895),(9,101,1.62303537095248),(9,103,0.643620105594043),(9,105,0.434934537797174),(9,106,0.200888088625752),(9,113,-0.77881710257271),(10,89,-1.34925382244331),(10,96,2.85711233863338),(10,106,-0.865001373332926),(10,108,0.0608844264046144),(10,109,2.55400250251778),(10,111,-2.25421918393506),(10,112,-1.43780327768792),(10,114,2.09797967467269),(10,115,0.527893917661062),(10,116,-0.666127506332591),(10,117,-1.14546647541734),(11,89,2.02621539963988),(11,97,-1.79448835718863),(11,105,-0.687688833277383),(11,112,-1.23488570818201),(11,115,1.06320383312479),(12,92,-2.17819757683035),(12,93,0.255623035370952),(12,94,-1.26728110599078),(12,97,0.784051026947844),(12,98,-2.63368633075961),(12,99,-0.843806268501846),(12,108,-2.31662953581347),(12,116,2.66096987823115),(13,86,-0.480376598406934),(13,87,-0.435026093325602),(13,90,-2.95765556810205),(13,99,2.94225898007141),(13,102,-0.131992553483688),(13,104,1.14191106906339),(13,113,0.219748527481918),(13,116,1.95521408734397),(13,118,2.09608752708518),(14,90,-1.77811517685476),(14,93,-0.623920407727287),(14,95,-1.64780114139225),(14,102,0.984557634205145),(14,104,0.294930875576037),(14,106,0.774040955839717),(14,109,-1.23442793053987),(14,110,-1.57771538438063),(14,111,-0.906552323984497),(15,85,2.33291116061892),(15,92,2.65056306649983),(15,99,1.37012848292489),(15,101,0.43794061098056),(15,104,1.12535477767266),(15,108,0.417172765282144),(15,117,-0.178167058320872),(16,86,1.41247291482284),(16,87,-0.404232917264321),(16,88,0.337687307351909),(16,90,1.77347636341441),(16,91,1.1154515213477),(16,95,-0.725898007141331),(16,97,0.701590014343699),(16,98,-2.03236487929929),(16,99,-0.712622455519272),(16,101,1.81267738883633),(16,108,1.28908658101138),(16,110,2.25571459089938),(17,89,-1.55160679952391),(17,96,-1.50666829432051),(17,99,1.49702444532609),(17,101,1.07367168187506),(17,106,1.59253212073122),(17,107,2.28778954435865),(17,109,2.33353679006317),(18,90,0.47598193304239),(18,91,-1.48014770958586),(18,93,-1.15755180516984),(18,99,-0.821405682546464),(18,102,-0.373653370769372),(18,103,0.343455305642872),(18,104,0.862147892696921),(18,110,-1.59431745353557),(18,111,0.0808587908566545),(18,116,-1.00329599902341),(18,117,-0.567186498611408),(18,118,2.46296578875088),(19,87,0.0937070833460495),(19,89,-1.21231727042451),(19,93,0.532944730979339),(19,95,1.26171147801141),(19,101,-0.488769188512833),(19,105,1.01870784630879),(19,115,-0.330256050294504),(20,88,-2.90522476882229),(20,101,1.7903378398999),(20,103,0.540742210150456),(20,104,1.02430799279763),(20,105,0.605761894589068),(20,106,-0.346720786156804),(20,111,0.871929074983978),(20,116,0.0411084322641683),(21,86,-0.945142979216895),(21,87,-0.352732932523576),(21,94,-1.30034791100803),(21,96,-0.32769249549852),(21,101,0.535737174596393),(21,102,-2.84585100863674),(21,105,-3.33809930722983),(21,107,0.10803552354503),(21,108,1.57037568285165),(22,86,0.467070528275399),(22,88,-1.55381939146092),(22,91,1.34432508316294),(22,92,-0.542603839228492),(22,93,-0.12640766624958),(22,98,0.691564683980834),(22,106,-1.9234595782342),(22,115,0.0297250282296213),(22,117,1.52737510299997),(23,85,-2.95167394024476),(23,86,1.90049439985351),(23,88,1.22980437635426),(23,90,-0.789559617908261),(23,97,-0.729987487411115),(23,104,1.52011169774468),(23,112,0.601260414441359),(23,114,-0.625385296182134),(23,115,1.09334086123234),(23,116,-2.6741233558153),(24,89,1.00813318277535),(24,90,2.06337168492691),(24,91,-2.3630634479812),(24,101,1.98193304239021),(24,107,1.50263985106967),(24,108,0.409741508224738),(24,110,0.188482314523759),(24,112,1.72762230292673),(25,90,-1.36468092898343),(25,92,1.28905606250191),(25,94,-0.425992614520707),(25,98,-0.571504867702261),(25,105,1.46798608355968),(25,108,0.760551774651326),(25,109,0.355327005829035),(25,115,0.947706534012879),(26,85,2.48083437604907),(26,87,0.499145481734672),(26,89,0.396847437971129),(26,95,1.30184331797235),(26,98,0.148182622760704),(26,100,0.124210333567309),(26,101,0.23673207800531),(26,102,1.03376873073519),(26,103,-1.88492996002075),(26,104,-0.819742423780022),(26,107,-0.119846186712241),(26,109,0.111789300210578),(26,112,-0.633396404919584),(26,113,1.59924619281594),(26,117,-1.76448866237373),(27,85,-0.938200018311106),(27,87,1.71828363902707),(27,94,1.68652912991729),(27,100,-1.76332895901364),(27,102,0.0750144962920011),(27,103,-0.580172124393445),(27,104,-2.69376201666311),(27,105,-1.15849787896359),(27,108,-2.27095858638264),(27,110,1.04795983764153),(27,114,1.4679555650502),(28,87,-1.66835535752434),(28,88,2.16805017242958),(28,97,-1.93075350199896),(28,99,-0.962828455458235),(28,104,-0.358180486465041),(28,113,-1.14297921689505),(28,114,2.35593737601856),(29,88,0.855555894650105),(29,91,-1.10808130130924),(29,102,-0.746009704886013),(29,105,-0.455732902005066),(29,116,1.66307565538499),(30,95,2.63119907223731),(30,96,-2.42927335428938),(30,99,1.90676595355083),(30,101,-1.96581926938688),(30,104,0.64836573381756),(30,109,-1.56129642628254),(30,110,2.3459578234199),(30,114,-0.298669392986846),(30,118,1.61989196447645),(31,85,0.336069826349681),(31,92,-1.78875087740715),(31,94,-1.92611468855861),(31,96,1.19528794213691),(31,99,1.40484328745384),(31,103,-0.716437269203772),(31,107,-0.126651814325388),(31,108,-0.827417828913236),(31,109,1.71616260261849),(31,111,-0.5248573259682),(31,112,-1.26590777306436),(31,117,0.086825159459212),(32,86,-0.419263283181249),(32,87,-2.63675344096194),(32,89,-0.764213995788446),(32,92,0.429746391186254),(32,98,-0.5474257637257),(32,99,-1.92493972594379),(32,104,1.35212256233406),(32,106,2.81650746177557),(32,109,1.5099185155797),(32,116,-2.23088778344066),(32,118,1.22891933957945),(33,96,0.464766380809961),(33,98,-2.08623004852443),(33,108,-2.28769798883023),(33,110,-1.07550279244362),(33,111,0.539689321573534),(33,114,1.82639545884579),(34,85,-1.95156712546159),(34,90,1.7869655446028),(34,99,-0.669530320139164),(34,104,0.711401715140233),(34,109,2.0844904934843),(35,86,-2.28939176610614),(35,87,0.640705587939085),(35,97,-2.12587359233375),(35,98,2.95953245643483),(35,100,1.87316507461776),(35,104,2.04466383861812),(35,107,1.64275032807398),(35,109,-0.818674275948363),(35,110,-0.652577288125248),(35,112,-1.6224402600177),(36,85,0.805749687185278),(36,87,2.22789696951201),(36,90,0.554139835810419),(36,91,-0.727591784417249),(36,104,-0.064622943815424),(36,107,1.40501113925596),(36,109,0.0340891750846889),(36,112,-1.98933378093814),(36,115,0.289468062379833),(36,117,0.0452742088076418),(36,118,1.10130619220557),(37,85,2.81171605578784),(37,86,0.75540940580462),(37,87,1.8449507126072),(37,91,-1.69675283059175),(37,99,-1.79694509720145),(37,105,1.47058015686514),(37,111,2.96177556688131),(37,112,0.698522904141362),(37,118,-2.14082766197699),(38,87,1.63905758842738),(38,90,0.389400921658986),(38,103,-1.25638599810785),(38,105,0.283272804956206),(38,106,-1.54185613574633),(38,111,-2.05298013245033),(38,115,0.0198522904141362),(39,87,-1.2942747276223),(39,89,1.92841883602405),(39,91,1.74932096316416),(39,94,0.65065462202826),(39,97,1.44511246070742),(39,98,1.12909329508347),(39,107,0.426450392162847),(39,108,0.730582598345897),(39,109,1.13394573809015),(39,111,1.91814935758538),(39,113,-1.0310831019013),(39,116,-1.13838618121891),(39,118,-2.70328379161962),(40,88,0.194906460768456),(40,92,-1.1070589312418),(40,99,1.04606769005402),(40,104,-1.9432966093936),(40,110,1.6081423383282),(40,116,-0.00376903592028555),(40,118,-0.0787987914670248),(41,88,-1.59466841639454),(41,93,-1.06463820307016),(41,96,-1.1602679525132),(41,97,0.800668355357524),(41,100,1.31252479628895),(41,101,1.22226630451369),(41,104,-1.17751091036714),(41,105,-1.02401806695761),(41,106,1.01025421918393),(41,107,0.708075197607349),(41,109,2.25804925687429),(41,110,1.16589861751152),(41,111,-0.224417859431745),(41,112,-0.386608478041932),(42,85,1.17523728141118),(42,86,2.48219244972076),(42,87,-0.749717703787347),(42,99,1.67351298562578),(42,100,-2.51353495895261),(42,103,1.21395001068148),(42,109,-0.311868648335215),(42,113,-1.04721213415937),(43,85,-1.69724112674337),(43,88,-0.985900448622089),(43,89,-0.484542374950407),(43,93,0.347102267525254),(43,97,0.910885952330088),(43,98,-2.94203009125034),(43,101,-1.43746757408368),(43,102,0.84698019348735),(43,103,-0.414365062410352),(43,105,-1.34685811944945),(43,110,2.45835749382),(43,112,-0.580950346385082),(43,114,0.537522507400738),(43,116,-2.11088900418104),(44,89,1.76389355143895),(44,98,-1.25318155461287),(44,99,-2.80243842890713),(45,87,1.14905240028077),(45,88,0.126895962401196),(45,90,-1.92440565202795),(45,91,2.46627704702902),(45,95,-0.301873836481826),(45,98,1.05278176213874),(45,108,-0.927915280617695),(45,109,-1.39365825373089),(45,112,-0.646519363994263),(45,115,1.70511490218818),(46,85,-0.309747611926633),(46,89,-1.67601550340281),(46,91,2.01844843897824),(46,94,1.34905545213172),(46,97,-1.19183935056612),(46,100,1.66037476729637),(46,101,2.03643910031434),(46,108,-0.138264107181005),(46,112,-2.20468764305551),(47,86,-0.311563463240455),(47,91,3.09250160222175),(47,92,1.34115115817743),(47,94,1.73155919064913),(47,95,-2.29857783745842),(47,100,1.78562273018586),(47,101,0.403500473036897),(47,104,1.92252876369518),(47,105,-0.944105349894711),(47,108,1.44955290383618),(47,112,-0.724250007629627),(47,114,-0.905728324228645),(47,118,-1.85706656086917),(48,86,-1.34972685934019),(48,91,-0.936597796563616),(48,98,0.417111728263192),(48,99,-1.19734794152654),(48,100,-1.21709341715751),(48,103,0.0455946531571398),(48,105,0.264809106723228),(48,106,-0.810937833796197),(48,111,-0.971724600970489),(48,115,-0.429013946958831),(49,87,0.8286080507828),(49,89,1.26320688497574),(49,93,-1.31369975890378),(49,94,0.114780114139226),(49,95,-0.568803979613636),(49,102,2.71852778710288),(49,113,0.651936399426252),(49,114,1.94865260780663),(50,89,-0.925916318247017),(50,105,3.09390545365764),(50,107,-0.715338602862636),(51,87,1.05836664937284),(51,92,-0.796578875087741),(51,97,-0.563341166417432),(51,98,-0.69708853419599),(51,103,1.67192602313303),(51,106,1.95818964201788),(51,112,0.863216040528581),(51,118,1.96124149296548),(52,89,-1.4762260811182),(52,97,0.566881313516648),(52,106,2.12060914944914),(52,110,0.880825220496231),(52,111,-0.952452162236396),(52,113,2.83800775170141),(52,114,-2.56170842616047),(52,118,-1.90278328806421),(53,88,-0.337504196295053),(53,90,-2.91520432142094),(53,92,0.183507797479171),(53,94,-0.30611590929899),(53,104,1.56495864741966),(53,105,0.835734122745445),(53,109,0.922635578478347),(54,85,-1.98037659840693),(54,91,0.608386486404004),(54,94,-1.73674733726005),(54,96,-1.36361278115177),(54,111,2.00430310983612),(54,112,0.435758537553026),(54,113,-0.538621173741874),(54,118,0.540345469527268),(55,87,-1.9461500900296),(55,95,-2.04641865291299),(55,107,-1.06678975798822),(55,110,-0.231009857478561),(55,117,2.34055604724265),(56,107,0.534104434339427),(56,111,-2.68663594470046),(56,113,-0.633411664174322),(56,114,0.303537095248268),(57,87,0.0779137546922208),(57,90,1.20819727164525),(57,91,-0.201574755088961),(57,92,1.52069154942473),(57,93,-0.8963133640553),(57,94,-0.671132541886654),(57,95,-0.00610370189519943),(57,96,1.33103427228614),(57,100,-0.680242316965239),(57,102,2.55066072573016),(57,103,1.38119144260994),(57,115,-0.713202307199316),(58,86,-0.707327494125187),(58,87,1.44985808893094),(58,89,0.363719595934935),(58,90,2.55905331583605),(58,95,1.39086581011383),(58,96,0.510956144901883),(58,101,2.41872920926542),(58,103,3.27610095522935),(58,109,0.597857600634785),(58,110,0.085802789391766),(58,113,-1.65771965697195),(58,114,0.727515488143559),(58,115,1.22350230414747),(58,118,0.185094759971923),(59,85,-2.42703024384289),(59,86,-2.39188818018128),(59,90,-0.992477187414167),(59,91,-0.508713034455397),(59,93,2.03955198828089),(59,97,1.29282509842219),(59,98,2.31687368388928),(59,100,-2.11015655995361),(59,102,2.21826837977233),(59,112,1.99765007477035),(59,114,2.71909237952818),(60,85,-0.93137913144322),(60,87,-1.53193762016663),(60,90,-0.725012970366527),(60,91,0.870937223426008),(60,96,-2.51455732902005),(60,100,-1.17529831843013),(60,101,1.25521103549303),(60,105,1.29772331919309),(60,107,2.58420056764428),(60,109,-0.190038758507034),(60,110,1.95297097689749),(60,114,-0.728247932370983),(61,89,-0.847987304300058),(61,94,-1.58239997558519),(61,96,0.138920255134739),(61,98,1.43063142796106),(61,100,0.402417065950499),(61,102,-2.2041993469039),(61,103,-0.159703360087893),(61,114,-1.17328409680471),(61,115,1.1669362468337),(62,93,0.501235999633778),(62,95,0.95501571703238),(62,107,-1.15398113956114),(62,109,-0.287377544480728),(62,110,-0.0170903653065585),(62,111,0.980498672444838),(63,87,-2.72281563768426),(63,90,-0.307382427442244),(63,93,1.52768028809473),(63,97,1.79985961485641),(63,100,1.36361278115177),(63,103,-2.83571886349071),(63,104,2.19989623706778),(63,108,2.12027344584491),(63,111,-3.0873439741203),(63,114,-0.874477370525223),(63,117,0.82807397686697),(64,87,2.0044557023835),(64,94,-1.45533616138188),(64,99,0.651554918057802),(64,110,1.71065401165807),(64,112,-1.20912808618427),(64,116,1.52018799401837),(65,87,1.46043275246437),(65,88,-1.30842005676443),(65,90,-0.182729575487533),(65,97,-2.20337534714805),(65,99,1.03703421124912),(65,107,0.130817590868862),(65,110,2.10077211828974),(65,111,-0.110873744926298),(65,114,-0.193395794549394),(65,116,-1.21404156620991),(65,117,-1.85779900509659),(66,85,2.94637897885067),(66,102,0.825663014618366),(66,105,1.20184942167425),(66,108,2.70265816217536),(66,111,0.39158299508652),(66,115,1.41924802392651),(66,118,1.87748344370861),(67,86,-0.770165105136265),(67,90,-0.977675710318308),(67,92,-2.29239783928953),(67,104,-0.378917813653981),(67,109,-1.56993316446425),(67,111,1.36220892971587),(68,87,-2.9321726126896),(68,88,0.0298318430127873),(68,90,2.40752891628773),(68,93,-0.675923947874386),(68,95,0.651051362651448),(68,96,1.80263679921873),(68,97,-1.41030610065004),(68,103,0.794320505386517),(68,107,-0.602999969481491),(68,112,-1.72162541581469),(68,114,0.725516525772881),(69,87,-0.659337137974181),(69,88,-1.5563829462569),(69,92,1.68385876033814),(69,94,1.25211340678121),(69,95,2.38059633167516),(69,97,-0.573824274422437),(69,108,0.566805017242958),(69,113,1.35583056123539),(69,114,0.699209570604572),(69,118,1.19496749778741),(70,85,-0.357799005096591),(70,86,-2.02183599353008),(70,87,-0.0292062135685293),(70,90,-1.49865718558306),(70,96,1.54133732108524),(70,97,-1.33152256843776),(70,99,0.743186742759484),(70,105,2.3223822748497),(70,107,0.750511185033723),(70,109,-0.598315378276925),(70,110,0.69350260933256),(70,111,0.67528305917539),(71,85,2.48216193121128),(71,93,0.733298745689261),(71,96,1.75832392345958),(71,100,-0.524811548203986),(71,104,0.467696157719657),(71,106,2.38741721854305),(71,111,0.767967772453993),(71,113,0.827738273262734),(72,94,0.217947935422834),(72,96,1.98597674489578),(72,99,0.766533402508621),(72,110,0.183874019592883),(72,112,0.513199255348369),(72,114,2.73155919064913),(72,115,0.147251808221686),(72,116,2.27216406750694),(73,88,-0.477248451185644),(73,94,-0.277306436353648),(73,99,-1.60596026490066),(73,100,1.13490707113865),(73,106,-1.586138492996),(73,110,-1.57048249763482),(73,115,0.431745353556932),(74,90,0.257820368053224),(74,94,-0.730185857722709),(74,99,-1.92159794915616),(74,102,-0.688329721976379),(74,106,-0.253059480574969),(74,107,2.34882656331065),(74,110,-1.90429395428327),(74,113,-0.0200354014709921),(74,116,-0.919660023804437),(75,85,-0.140415662099063),(75,86,2.44795068208869),(75,93,-1.54261909848323),(75,98,1.23085726493118),(75,103,-1.58719138157292),(75,105,-0.569399090548418),(75,111,-0.22217474898526),(75,117,-1.46124149296548),(76,86,-1.06305124057741),(76,89,1.56517227698599),(76,92,-0.125675222022156),(76,94,-0.0278176213873714),(76,99,-0.307321390423292),(76,101,-0.343333231604968),(76,103,-1.46813867610706),(76,106,-0.546571245460372),(76,110,-0.592730491042817),(76,113,-0.00973540452284311),(77,88,1.40484328745384),(77,91,0.428479873043001),(77,93,-0.765923032319101),(77,98,-2.04924161503952),(77,101,0.860972930082095),(77,102,-2.40778832361827),(77,103,0.0698110904263436),(77,104,1.18442335276345),(77,105,0.496017334513382),(77,109,1.53729361857967),(78,88,-0.839320047608875),(78,93,0.086825159459212),(78,94,0.67360454115421),(78,101,-1.99079866939299),(78,104,-0.0174260689107944),(78,110,0.6097903378399),(78,114,-1.71994689779351),(78,116,-0.65393536179693),(78,117,-0.72240363780633),(78,118,-2.05076754051332),(79,87,-1.28586687826167),(79,92,-0.119510483108005),(79,94,0.238166447950682),(79,107,0.915234839930418),(79,108,-1.41270180364391),(79,114,2.36365855891598),(79,118,-2.44193853572192),(80,87,0.363078707235939),(80,88,1.25614185003204),(80,91,2.04210028382214),(80,99,2.34916226691488),(80,101,1.22960600604267),(80,107,-0.82769249549852),(80,113,-1.94215216528825),(81,85,1.72963652455214),(81,86,-0.021469771416364),(81,90,0.793313394573809),(81,93,-0.651753288369396),(81,96,0.195776238288522),(81,97,-1.15221106601154),(81,106,-0.400097659230323),(81,107,-0.253990295113987),(81,110,-0.613879818109684),(81,115,-0.155522324289682),(82,86,2.21956541642506),(82,92,-0.445631275368511),(82,110,-0.392452772606586),(82,112,1.24610126041444),(83,87,0.752586443678091),(83,91,-1.78891872920927),(83,93,-1.7412640766625),(83,101,-0.454908902249214),(83,103,0.87473677785577),(83,105,0.645954771568957),(83,108,1.96119571520127),(84,85,0.399914548173467),(84,86,-0.955763420514542),(84,89,-1.83533738212226),(84,95,0.00199896237067781),(84,99,1.74924466689047),(84,104,1.9266335032197),(84,111,-0.821024201178014),(84,113,-0.465834528641621),(84,114,0.261528366954558)]
orgname='BHNEAT_4_3'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()