edge = [(0,85,0.828409680471206),(0,89,-0.574602496414075),(0,90,-0.188528092287973),(0,93,0.718726157414472),(0,98,0.044083986938078),(0,101,0.861217078157903),(0,105,-0.43649098178045),(0,108,-0.195806756797998),(0,113,0.231788079470199),(0,114,-0.257759331034272),(0,117,0.240150151066622),(0,118,0.397793511764885),(1,86,-0.150898770104068),(1,92,-0.458342234565264),(1,98,0.230750450148015),(1,102,-0.682714316232795),(1,104,-0.154942472609638),(1,107,-0.318292794579913),(1,108,-0.0163731803338725),(1,109,-0.252922147282327),(1,113,0.0386669515060885),(2,87,0.0590227973265786),(2,88,0.0668660542619098),(2,100,0.0473799859614856),(2,106,0.0789666432691427),(2,108,0.499893185216834),(2,110,0.346690267647328),(2,113,0.296060060426649),(2,118,-0.0426648762474441),(3,89,0.355708487197485),(3,92,0.0151371807000946),(3,97,-0.19174779503769),(3,99,-0.700933866389966),(3,101,-0.721533860286264),(3,103,-0.14828943754387),(3,105,0.097903378398999),(3,108,-0.778221991637928),(3,109,-0.140018921475875),(3,111,-0.300454725791192),(3,112,-0.440397350993378),(3,116,0.0151066621906186),(4,90,-0.893963438825648),(4,91,-0.010528885769219),(4,97,0.293313394573809),(4,99,-0.504135258033998),(4,101,0.0590075380718406),(4,108,-0.112033448286386),(4,113,-0.169576097903378),(4,118,0.0286568803979614),(5,86,-0.187215796380505),(5,87,-0.86642048402356),(5,89,-0.23825800347911),(5,92,0.267387920773949),(5,93,0.467207861568041),(5,99,0.380932035279397),(5,104,-0.257911923581652),(5,114,-0.430631427961058),(5,118,-0.874706259346294),(6,89,0.23673207800531),(6,92,-0.00842310861537524),(6,94,0.0274666585283975),(6,100,0.675145725882748),(6,101,0.0135807367168188),(6,103,0.113925595873898),(6,107,0.654408398693808),(6,110,0.415433210242012),(6,113,0.194769127475814),(7,85,0.112811670278024),(7,86,0.530549027985473),(7,90,-0.574312570574053),(7,95,0.10994293038728),(7,99,-0.435605945005646),(7,100,0.140034180730613),(7,104,0.181951353495895),(7,106,-0.144566179387799),(7,108,-0.467253639332255),(7,112,-0.0479598376415296),(7,116,0.032624286629841),(8,92,0.244605853450117),(8,93,0.305490279854732),(8,95,0.0993224890896329),(8,99,0.847087008270516),(8,106,0.444944608905301),(8,107,0.522736289559618),(8,115,0.299325540940581),(8,116,-0.185903500473037),(8,118,0.297875911740471),(9,85,-0.830957976012451),(9,87,-0.141651661732841),(9,98,0.306222724082156),(9,101,-0.30726035340434),(9,103,0.193853572191534),(9,105,0.1564531388287),(9,106,0.553300576799829),(9,113,-0.450590533158361),(10,89,-0.530137028107547),(10,96,0.568453016754662),(10,106,0.0831629383220923),(10,108,0.530869472334971),(10,109,-0.543565172276986),(10,111,0.778466139713736),(10,112,-0.0963621936704612),(10,114,-0.522736289559618),(10,115,-0.491729483932005),(10,116,0.616031373027741),(10,117,-0.0310068056276132),(11,89,0.506408886989959),(11,97,-0.350276192510758),(11,105,-0.428006836146123),(11,112,0.519699697866756),(11,115,0.783272804956206),(12,92,-0.0605182042909024),(12,93,0.715018158513138),(12,94,0.355128635517441),(12,97,0.266777550584429),(12,98,-0.622669148838771),(12,99,0.357707449568163),(12,108,-0.396557512131108),(12,116,0.214529862361522),(13,86,0.147160252693258),(13,87,0.122013000885037),(13,90,-0.552568132572405),(13,99,0.5925626392407),(13,102,0.395992919705802),(13,104,0.174092837305826),(13,113,-0.45478682821131),(13,116,0.402905362102115),(13,118,0.392941068758202),(14,90,0.087023529770806),(14,93,-0.724494155705435),(14,95,-0.215414899136326),(14,102,0.0902127140110477),(14,104,0.733634449293497),(14,106,-0.223151341288491),(14,109,0.144093142490921),(14,110,-0.55969420453505),(14,111,0.516373180333872),(15,85,0.315103610339671),(15,92,0.308725241859188),(15,99,0.0682088686788537),(15,101,0.00267036957914976),(15,104,-0.757484664448988),(15,108,-0.127567369609668),(15,117,-0.469573046052431),(16,86,-0.623554185613575),(16,87,-0.312479018524735),(16,88,-0.697882015442366),(16,90,-0.333445234534745),(16,91,0.0209356975005341),(16,95,0.115802484206671),(16,97,0.0359050263985107),(16,98,0.0854670857875302),(16,99,-0.112247077852718),(16,101,-0.098162785729545),(16,108,-0.735831781975768),(16,110,0.231894894253365),(17,89,0.06549272133549),(17,96,-0.324442274239326),(17,99,0.493942075869015),(17,101,0.298196356089969),(17,106,-0.578096865749077),(17,107,-0.0794854579302347),(17,109,0.398586993011261),(18,90,0.0991698965422529),(18,91,0.2639545884579),(18,93,-0.306054872280038),(18,99,0.329279457991272),(18,102,-0.121677297280801),(18,103,-0.103640858180486),(18,104,0.270134586626789),(18,110,-0.0558946501052888),(18,111,-0.167088839381085),(18,116,-0.771477401043733),(18,117,0.39616077150792),(18,118,0.569139683217872),(19,87,0.802423169652394),(19,89,0.312860499893185),(19,93,-0.0787987914670248),(19,95,-0.185094759971923),(19,101,-0.233787041840876),(19,105,0.390331736198004),(19,115,-0.520065919980468),(20,88,-0.705679494613483),(20,101,-0.133640552995392),(20,103,0.0505386516922513),(20,104,-0.146504104739525),(20,105,0.0883968626972259),(20,106,-0.946485793633839),(20,111,0.479003265480514),(20,116,0.59241004669332),(21,86,0.73459578234199),(21,87,-0.0305490279854732),(21,94,-0.214194158757286),(21,96,-0.299295022431105),(21,101,-0.231040375988037),(21,102,-0.733588671529283),(21,105,0.393658253730888),(21,107,-0.075991088595233),(21,108,-0.698141422772912),(22,86,0.276406140324107),(22,88,-0.628330332346568),(22,91,-0.257209997863704),(22,92,0.535004730368969),(22,93,-0.231406598101749),(22,98,0.1947233497116),(22,106,0.143375957518235),(22,115,0.2570879238258),(22,117,0.885341959898678),(23,85,-0.459456160161138),(23,86,-0.414410840174566),(23,88,-0.382885219885861),(23,90,0.219489120151372),(23,97,0.436674092837306),(23,104,-0.534882656331065),(23,112,-0.235786004211554),(23,114,0.737479781487472),(23,115,0.367992187261574),(23,116,-0.394116031373028),(24,89,-0.497604297006134),(24,90,0.716208380382702),(24,91,0.623142185735649),(24,101,0.0202185125278481),(24,107,-0.010620441297647),(24,108,0.268166142765587),(24,110,0.39196447645497),(24,112,-0.424924466689047),(25,90,0.352214117862484),(25,92,0.0280159916989655),(25,94,-0.163533433027131),(25,98,-0.15500350962859),(25,105,0.276772362437818),(25,108,0.0674001281777398),(25,109,0.271065401165807),(25,115,-0.662297433393353),(26,85,0.269005401776177),(26,87,0.244102298043764),(26,89,0.110965300454726),(26,95,-0.533387249366741),(26,98,0.432248908963286),(26,100,0.270821253089999),(26,101,0.0742210150456252),(26,102,0.118579668568987),(26,103,0.400021362956633),(26,104,-0.288766136661885),(26,107,0.0589159825434126),(26,109,-0.117038483840449),(26,112,-0.408566545609912),(26,113,-0.411618396557512),(26,117,0.0732444227423933),(27,85,0.864452040162358),(27,87,-0.832453382976775),(27,94,0.636539811395611),(27,100,-0.12862025818659),(27,102,0.210821863460189),(27,103,0.106646931363872),(27,104,-0.346125675222022),(27,105,0.243247779778436),(27,108,-0.239371929074984),(27,110,-0.0263679921872615),(27,114,0.558122501297037),(28,87,0.329004791405988),(28,88,0.207693716238899),(28,97,-0.497619556260872),(28,99,0.0622882778405103),(28,104,0.852870265816217),(28,113,-0.02088991973632),(28,114,0.634052552873318),(29,88,-0.174306466872158),(29,91,-0.308877834406568),(29,102,0.642811365092929),(29,105,-0.194677571947386),(29,116,0.542588579973754),(30,95,0.230903042695395),(30,96,-0.0736259041108432),(30,99,0.098086489455855),(30,101,-0.186880092776269),(30,104,-0.145084994048891),(30,109,-0.0889309366130558),(30,110,0.266731772820215),(30,114,-0.135929441206091),(30,118,-0.308114871669668),(31,85,-0.032837916196173),(31,92,0.457869197668386),(31,94,0.158146916104617),(31,96,0.324365977965636),(31,99,0.260719626453444),(31,103,-0.0998413037507248),(31,107,-0.175542466505936),(31,108,-0.672185430463576),(31,109,0.438947721793268),(31,111,0.273003326517533),(31,112,0.420239875484481),(31,117,0.197454756309702),(32,86,0.0604113895077364),(32,87,-0.199240089114048),(32,89,0.547151097140416),(32,92,-0.729880672627949),(32,98,-0.927915280617695),(32,99,0.30077517014069),(32,104,-0.0743888668477432),(32,106,0.740638447218238),(32,109,-0.227042451246681),(32,116,-0.420148319956053),(32,118,-0.815637684255501),(33,96,0.0171056245612964),(33,98,-0.064912869655446),(33,108,-0.228064821314127),(33,110,0.14935758537553),(33,111,-0.275704214606159),(33,114,-0.466750083925901),(34,85,0.310541093173009),(34,90,-0.47842341380047),(34,99,-0.196035645619068),(34,104,-0.119525742362743),(34,109,-0.224921414838099),(35,86,0.188940092165899),(35,87,-0.219519638660848),(35,97,-0.308801538132878),(35,98,-0.405484176152837),(35,100,0.457411420026246),(35,104,0.387661366618854),(35,107,-0.191305276650288),(35,109,-0.12961210974456),(35,110,-0.544434949797052),(35,112,0.858027893917661),(36,85,0.597842341380047),(36,87,-0.0620136112552263),(36,90,0.381344035157323),(36,91,-0.914593951231422),(36,104,-0.834849085970641),(36,107,0.346110415967284),(36,109,0.0171514023255104),(36,112,0.773842585528123),(36,115,-0.784813989684744),(36,117,0.313303018280587),(36,118,0.145924253059481),(37,85,0.617709891048921),(37,86,-0.524521622363964),(37,87,0.260200811792352),(37,91,-0.022202215643788),(37,99,0.725577562791833),(37,105,-0.679143650624104),(37,111,0.756965849787896),(37,112,0.0924100466933195),(37,118,-0.273400067140721),(38,87,-0.731971190527055),(38,90,0.481810968352306),(38,103,-0.724524674214911),(38,105,0.24466689046907),(38,106,-0.13487655262917),(38,111,0.0850703451643422),(38,115,-0.10841700491348),(39,87,-0.580874050111392),(39,89,-0.547090060121464),(39,91,-0.728156376842555),(39,94,0.086596270638142),(39,97,0.815744499038667),(39,98,0.0280617694631794),(39,107,0.28125858333079),(39,108,-0.807519760734886),(39,109,0.301782280953398),(39,111,0.924192022461623),(39,113,-0.0117191076387829),(39,116,0.623828852198859),(39,118,-0.628025147251808),(40,88,-0.1526383251442),(40,92,-0.476180303353984),(40,99,0.481795709097568),(40,104,0.667180394909513),(40,110,0.144398327585681),(40,116,0.828089236121708),(40,118,0.053651539658803),(41,88,-0.222342600787378),(41,93,-0.348521378215888),(41,96,-0.870601519821772),(41,97,-0.177678762169256),(41,100,-0.668614764854884),(41,101,-0.101321451460311),(41,104,-0.346644489883114),(41,105,-0.826868495742668),(41,106,0.115756706442457),(41,107,-0.340464491714225),(41,109,-0.17482528153325),(41,110,-0.231879634998627),(41,111,-0.408825952940458),(41,112,-0.603671376689962),(42,85,0.316141239661855),(42,86,-0.143635364848781),(42,87,-0.136982329783013),(42,99,-0.357646412549211),(42,100,0.668904690694907),(42,103,0.453627124851222),(42,109,-0.0946531571398053),(42,113,-0.172261726737266),(43,85,0.411435285500656),(43,88,-0.242957853938414),(43,89,0.178884243293558),(43,93,0.188406018250069),(43,97,0.41666920987579),(43,98,0.26113162633137),(43,101,0.514267403180029),(43,102,0.403210547196875),(43,103,0.557939390240181),(43,105,-0.59126560258797),(43,110,-0.021927549058504),(43,112,-0.139347514267403),(43,114,0.661900692770165),(43,116,0.435712759788812),(44,89,0.357905819879757),(44,98,-0.205938901944029),(44,99,-0.934705648976104),(45,87,0.260811181981872),(45,88,0.555421613208411),(45,90,-0.107989745780816),(45,91,0.694753868221076),(45,95,-0.80367442854091),(45,98,-0.28011413922544),(45,108,0.173268837549974),(45,109,-0.370677816095462),(45,112,-0.3435468611713),(45,115,-0.425916318247017),(46,85,0.627384258552812),(46,89,0.276299325540941),(46,91,0.076174199652089),(46,94,-0.783120212408826),(46,97,-0.151738029114658),(46,100,0.298318430127873),(46,101,-0.116077150791955),(46,108,0.45844904934843),(46,112,-0.123020111697745),(47,86,-0.0690786461989197),(47,91,-0.161839655751213),(47,92,-0.429227576525163),(47,94,-0.416409802545244),(47,95,-0.0260475478377636),(47,100,0.556489761040071),(47,101,0.206884975737785),(47,104,0.541642506179998),(47,105,-0.54765465254677),(47,108,-0.377346110415967),(47,112,0.305063020722068),(47,114,0.380779442732017),(47,118,0.235328226569414),(48,86,-0.1044495986816),(48,91,0.603900265511032),(48,98,-0.225836970122379),(48,99,0.357951597643971),(48,100,-0.234702597125156),(48,103,-0.504211554307688),(48,105,0.133030182805872),(48,106,0.150395214697714),(48,111,0.0305490279854732),(48,115,0.110721152378918),(49,87,0.572435682241279),(49,89,-0.117526779992065),(49,93,0.438596758934294),(49,94,-0.250373851741081),(49,95,0.201528977324747),(49,102,-0.23787652211066),(49,113,-0.25807977538377),(49,114,-0.154896694845424),(50,89,0.801446577349162),(50,105,-0.797479171117283),(50,107,-0.143726920377209),(51,87,-0.338602862636189),(51,92,0.0692312387462996),(51,97,-0.234626300851466),(51,98,-0.540314951017792),(51,103,-0.543412579729606),(51,106,0.26021607104709),(51,112,0.341334269234291),(51,118,0.421735282448805),(52,89,0.230750450148015),(52,97,0.361568041016877),(52,106,0.681737723929563),(52,110,0.376888332773827),(52,111,-0.596972563859981),(52,113,0.317880794701987),(52,114,-0.359187597277749),(52,118,0.206854457228309),(53,88,-0.432035279396954),(53,90,-0.462126529740287),(53,92,-0.0805536057618946),(53,94,0.909131138035218),(53,104,-0.863170262764367),(53,105,0.289681691946165),(53,109,-0.272545548875393),(54,85,0.27980895413068),(54,91,-0.326731162450026),(54,94,0.296624652851955),(54,96,-0.0300302133243812),(54,111,-0.160344248786889),(54,112,-0.0169835505233924),(54,113,-0.0102694784386731),(54,118,-0.086901455732902),(55,87,-0.357844782860805),(55,95,-0.162892544328135),(55,107,0.819559312723167),(55,110,0.0613574633014924),(55,117,0.0131382183294168),(56,107,-0.601657155064547),(56,111,-0.825418866542558),(56,113,0.300759910885952),(56,114,0.273400067140721),(57,87,-0.437726981414228),(57,90,0.240455336161382),(57,91,-0.150303659169286),(57,92,-0.159413434247871),(57,93,-0.366100039674062),(57,94,0.61314737388226),(57,95,-0.00404370250556962),(57,96,-0.191579943235572),(57,100,-0.394360179448836),(57,102,0.801721243934446),(57,103,-0.249565111239967),(57,115,-0.0665913876766258),(58,86,-0.690633869441816),(58,87,0.240256965849788),(58,89,0.329844050416578),(58,90,0.153874324777978),(58,95,-0.00328073976866972),(58,96,-0.622104556413465),(58,101,-0.021988586077456),(58,103,-0.0383770256660665),(58,109,0.332758568071535),(58,110,-0.0097201452681051),(58,113,-0.352198858607746),(58,114,-0.484603411969359),(58,115,-0.627826776940214),(58,118,0.798150578325755),(59,85,0.135288552507096),(59,86,-0.354701376384777),(59,90,0.196600238044374),(59,91,0.113101596118046),(59,93,0.532853175450911),(59,97,-0.260383922849208),(59,98,0.0847499008148442),(59,100,0.00193792535172582),(59,102,-0.153569139683218),(59,112,-0.19380779442732),(59,114,0.763695181127354),(60,85,0.143604846339305),(60,87,-0.288613544114505),(60,90,0.0494552446058534),(60,91,-0.198736533707694),(60,96,-0.67108676412244),(60,100,0.143024994659261),(60,101,0.141743217261269),(60,105,0.695822016052736),(60,107,-0.398998992889187),(60,109,-0.0277565843684194),(60,110,-0.0731070894497513),(60,114,0.136417737357707),(61,89,0.0396130252998444),(61,94,-0.536545915097507),(61,96,0.0936307870723594),(61,98,-0.471846675008393),(61,100,-0.523438215277566),(61,102,0.23711355937376),(61,103,-0.157567064424574),(61,114,0.210119937742241),(61,115,0.175389873958556),(62,93,0.133304849391156),(62,95,-0.284569841608936),(62,107,-0.649327066866054),(62,109,0.47911008026368),(62,110,-0.118015076143681),(62,111,0.0951414532914212),(63,87,-0.565157017731254),(63,90,0.372493667409284),(63,93,0.398907437360759),(63,97,-0.467925046540727),(63,100,-0.115207373271889),(63,103,-0.120166631061739),(63,104,-0.681218909268471),(63,108,0.0806451612903226),(63,111,-0.32815027314066),(63,114,0.0263527329325236),(63,117,0.696508682515946),(64,87,0.630573442793054),(64,94,0.0228431043427839),(64,99,0.154942472609638),(64,110,-0.182561723685415),(64,112,-0.149296548356578),(64,116,0.0919217505417035),(65,87,0.605624561296426),(65,88,0.629200109866634),(65,90,0.407956175420392),(65,97,-0.343272194586016),(65,99,-0.740211188085574),(65,107,0.47735526596881),(65,110,0.109897152623066),(65,111,0.205679494613483),(65,114,0.210974456007569),(65,116,0.520386364329966),(65,117,-0.00914029358806112),(66,85,-0.287072359385968),(66,102,-0.512451551866207),(66,105,0.131168553727836),(66,108,0.41819513534959),(66,111,0.510513626514481),(66,115,0.767357402264473),(66,118,-0.361568041016877),(67,86,-0.236793115024262),(67,90,0.311410870693075),(67,92,0.855052339243751),(67,104,-0.378917813653981),(67,109,-0.117633594775231),(67,111,-0.275826288644063),(68,87,-0.468565935239723),(68,88,0.742362743003632),(68,90,0.687582018494217),(68,93,0.356913968321787),(68,95,0.83135471663564),(68,96,-0.548432874538407),(68,97,-0.0634022034363842),(68,103,0.359981078524125),(68,107,0.613696707052828),(68,112,-0.0603503524887845),(68,114,-0.625293740653706),(69,87,-0.205313272499771),(69,88,0.657521286660359),(69,92,-0.200155644398328),(69,94,0.352275154881436),(69,95,-0.479598376415296),(69,97,-0.573824274422437),(69,108,0.566805017242958),(69,113,-0.0641041291543321),(69,114,0.416531876583148),(69,118,0.437421796319468),(70,85,0.250022888882107),(70,86,0.436323129978332),(70,87,-0.0292062135685293),(70,90,-0.274758140812403),(70,96,0.666829432050539),(70,97,0.208059938352611),(70,99,0.598208563493759),(70,105,0.123065889461959),(70,107,0.283181249427778),(70,109,0.803933835871456),(70,110,0.69350260933256),(70,111,0.573961607715079),(71,85,-0.636570329905087),(71,93,0.0202337717825861),(71,96,-0.352824488052004),(71,100,-0.524811548203986),(71,104,-0.487304300057985),(71,106,-0.0269020661030915),(71,111,-0.280617694631794),(71,113,0.0362559892574847),(72,94,-0.515335551011689),(72,96,-0.135288552507096),(72,99,-0.491714224677267),(72,110,-0.0209356975005341),(72,112,0.513199255348369),(72,114,0.701391644032106),(72,115,-0.0159916989654225),(72,116,0.305169835505234),(73,88,-0.477248451185644),(73,94,-0.338877529221473),(73,99,-0.242194891201514),(73,100,0.697119052705466),(73,106,0.111377300332652),(73,110,-0.271324808496353),(73,115,0.550630207220679),(74,90,0.0751213110751671),(74,94,-0.45616016113773),(74,99,0.00708029419843134),(74,102,0.269463179418317),(74,106,-0.105075228125858),(74,107,0.142490920743431),(74,110,-0.699499496444594),(74,113,-0.369075594347972),(74,116,-0.509857478560747),(75,85,-0.770744956816309),(75,86,0.292580950346385),(75,93,0.317331461531419),(75,98,0.197424237800226),(75,103,0.271538438062685),(75,105,-0.569399090548418),(75,111,0.119602038636433),(75,117,-0.0195471053193762),(76,86,0.0185247352519303),(76,89,0.464247566148869),(76,92,-0.125675222022156),(76,94,-0.0278176213873714),(76,99,-0.307321390423292),(76,101,-0.614932706686605),(76,103,0.208273567918943),(76,106,0.327478865932188),(76,110,0.355174413281655),(76,113,0.102496414075137),(77,88,0.467146824549089),(77,91,-0.162785729544969),(77,93,0.898632770775475),(77,98,0.845423749504074),(77,101,-0.129352702414014),(77,102,-0.0571764275032807),(77,103,0.0698110904263436),(77,104,-0.666325876644185),(77,105,0.496017334513382),(77,109,0.398785363322855),(78,88,-0.5879848628193),(78,93,-0.140385143589587),(78,94,-0.0481582079531236),(78,101,0.0205236976226081),(78,104,-0.0174260689107944),(78,110,0.0904416028321177),(78,114,-0.236762596514786),(78,116,-0.362941373943297),(78,117,-0.72240363780633),(78,118,0.525452436902982),(79,87,-0.275337992492447),(79,92,-0.119510483108005),(79,94,-0.126041444135868),(79,107,0.411145359660634),(79,108,0.328852198858608),(79,114,0.316949980162969),(79,118,-0.00216681417279581),(80,87,0.495544297616504),(80,88,-0.672261726737266),(80,91,0.17360454115421),(80,99,0.256675923947874),(80,101,0.128498184148686),(80,107,-0.82769249549852),(80,113,0.489486373485519),(81,85,-0.208517715994751),(81,86,-0.021469771416364),(81,90,-0.653187658314768),(81,93,0.316217535935545),(81,96,-0.0426801355021821),(81,97,-0.757530442213202),(81,106,-0.112125003814814),(81,107,0.137028107547227),(81,110,-0.284875026703696),(81,115,-0.155522324289682),(82,86,0.132328257087924),(82,92,-0.630878627887814),(82,110,-0.579302346873379),(82,112,0.229148228400525),(83,87,-0.0527970213934751),(83,91,-0.106234931485946),(83,93,-0.00294503616443373),(83,101,0.0939817499313334),(83,103,-0.301324503311258),(83,105,-0.632114627521592),(83,108,0.221289712210456),(84,85,-0.670567949461348),(84,86,-0.0793481246375927),(84,89,0.171330912198248),(84,95,0.00199896237067781),(84,99,-0.463454084902493),(84,104,0.103015228736229),(84,111,-0.558244575334941),(84,113,-0.333887752922147),(84,114,0.261299478133488)]
orgname='BHNEAT_2_15'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()