edge = [(0,85,-2.05175939207129),(0,89,0.0181127353740045),(0,90,-0.420850245674001),(0,93,-0.0415662099063082),(0,98,0.441953794976653),(0,101,-0.220374156926176),(0,105,-1.11073641163366),(0,108,-0.195623645741142),(0,113,-1.4365520187994),(0,114,0.674230170598468),(0,117,1.48930326242866),(0,118,-2.31522568437757),(1,86,0.237678151799066),(1,92,-2.16481521042512),(1,98,0.495162816248055),(1,102,1.95908993804743),(1,104,1.38961455122532),(1,107,-0.550538651692251),(1,108,0.988189336832789),(1,109,1.37798699911496),(1,113,2.07170323801386),(2,87,-1.83283486434523),(2,88,-0.0444044312875759),(2,100,-1.23664052247688),(2,106,-1.32628864406262),(2,108,-2.2375713370159),(2,110,-2.22678304391613),(2,113,-1.21204260383923),(2,118,-0.472304452650533),(3,89,-0.677358317819758),(3,92,-0.355677968688009),(3,97,0.0490585039826655),(3,99,2.55072176274911),(3,101,-1.61708426160466),(3,103,2.09968871120334),(3,105,-0.515732291634877),(3,108,1.8171636097293),(3,109,-0.417172765282143),(3,111,-0.309884945219276),(3,112,-2.00689718314158),(3,116,-0.222296823023164),(4,90,-2.49235511337626),(4,91,2.45881527146214),(4,97,-0.754219183935057),(4,99,-1.71674245429853),(4,101,-0.712073122348704),(4,108,0.707113864558855),(4,113,0.318735312967315),(4,118,-0.576128421887875),(5,86,0.250419629505295),(5,87,2.12268440809351),(5,89,-0.860438856166265),(5,92,1.23918881801813),(5,93,-1.3352763451033),(5,99,-0.444685201574755),(5,104,-0.607455671864986),(5,114,-2.45666371654408),(5,118,3.1776177251503),(6,89,1.71669667653432),(6,92,-2.37327188940092),(6,94,0.404370250556963),(6,100,-0.911374248481704),(6,101,-3.11610766930143),(6,103,-0.423261207922605),(6,107,0.61329996642964),(6,110,0.987075411236915),(6,113,0.555406353953673),(7,85,-0.369350260933256),(7,86,-1.3055970946379),(7,90,0.399334696493423),(7,95,-0.526703695791498),(7,99,0.54483169042024),(7,100,3.14255195776238),(7,104,-0.353938413647877),(7,106,3.07649464400159),(7,108,0.276635029145177),(7,112,-1.35981322672201),(7,116,-0.251472518082217),(8,92,-1.26326792199469),(8,93,-1.71680349131748),(8,95,0.290169988097781),(8,99,1.53057954649495),(8,106,0.170613727225562),(8,107,-2.85616626483963),(8,115,-1.341700491348),(8,116,-1.23978392895291),(8,118,-4.46050904873806),(9,85,1.05371257667776),(9,87,-1.2723471785638),(9,98,-1.51069673757134),(9,101,0.131351664784692),(9,103,1.74420911282693),(9,105,1.31409649952696),(9,106,-0.183141575365459),(9,113,-0.641895809808649),(10,89,-1.22489089632862),(10,96,-0.254219183935057),(10,106,-0.532929471724601),(10,108,0.38753929258095),(10,109,1.29938657795953),(10,111,-0.926664021729179),(10,112,-1.91236610003967),(10,114,-0.933271279030732),(10,115,0.0252540665913877),(10,116,-0.193487350077822),(10,117,-0.296838282418287),(11,89,-1.61037018951994),(11,97,-0.814920499282815),(11,105,-0.60307626575518),(11,112,-0.724600970488601),(11,115,-1.15321817682424),(12,92,-1.25370036927396),(12,93,2.4663075655385),(12,94,-2.03154087954344),(12,97,-1.26061281167028),(12,98,-1.98652607806635),(12,99,1.50326548051393),(12,108,1.33243812372204),(12,116,-1.10589922788171),(13,86,1.06898709067049),(13,87,-1.87484359263894),(13,90,-0.772774437696463),(13,99,0.466475417340617),(13,102,-0.820108645893735),(13,104,-3.85706656086917),(13,113,0.574129459517197),(13,116,-3.71242408520768),(13,118,-1.3677632984405),(14,90,0.681478316599017),(14,93,2.446592608417),(14,95,0.21713919492172),(14,102,1.13866084780419),(14,104,1.66386913663137),(14,106,-1.43145542771691),(14,109,-1.54565569017609),(14,110,1.24575029755547),(14,111,0.428907132175665),(15,85,0.0688955351420637),(15,92,-0.166936246833705),(15,99,-0.0796990874965666),(15,101,1.1162144840846),(15,104,-0.699819940794092),(15,108,1.92745750297555),(15,117,-2.45118564409314),(16,86,1.98957792901395),(16,87,0.832453382976776),(16,88,2.47657704397717),(16,90,3.40316476943266),(16,91,-2.1179845576342),(16,95,0.930585650196844),(16,97,-0.548081911679434),(16,98,0.6564531388287),(16,99,0.78514969328898),(16,101,-0.114215521713919),(16,108,-1.1466566972869),(16,110,1.08594012268441),(17,89,-1.24436170537431),(17,96,-2.17357402264473),(17,99,-1.61998352000488),(17,101,-0.628345591601306),(17,106,-3.52427747428816),(17,107,0.553041169469283),(17,109,0.484954374828333),(18,90,1.15466780602435),(18,91,-2.99966429639576),(18,93,0.869335001678518),(18,99,-0.133671071504868),(18,102,-0.636875514999847),(18,103,-1.51796014282662),(18,104,0.947141941587573),(18,110,-0.125385296182134),(18,111,2.75908688619648),(18,116,-2.10402233954894),(18,117,0.197149571214942),(18,118,2.92974639118625),(19,87,-0.577486495559557),(19,89,1.48475600451674),(19,93,-1.92472609637745),(19,95,-0.64966277047029),(19,101,2.2823877681814),(19,105,-1.45429853205969),(19,115,-2.1431623279519),(20,88,-1.51524399548326),(20,101,-2.91668446913053),(20,103,-4.01489303262429),(20,104,3.70929593798639),(20,105,0.641346476638081),(20,106,0.561708426160466),(20,111,-2.45689260536515),(20,116,0.948118533890805),(21,86,-1.11667226172674),(21,87,-0.283059175389874),(21,94,-0.0692770165105136),(21,96,-0.245979186376537),(21,101,-0.693533127842036),(21,102,-1.7795342875454),(21,105,-0.433805352946562),(21,107,0.503524887844478),(21,108,0.377864925077059),(22,86,-1.8397320474868),(22,88,-0.659932248908963),(22,91,-1.79309976500748),(22,92,2.17276528214362),(22,93,0.315958128604999),(22,98,1.11218604083377),(22,106,-0.426908169804987),(22,115,-0.427060762352367),(22,117,-0.410397656178472),(23,85,-1.09378337961974),(23,86,-0.963408307138279),(23,88,-1.01322977385784),(23,90,2.24466689046907),(23,97,-0.936521500289926),(23,104,0.467543565172277),(23,112,2.10165715506455),(23,114,0.592761009552293),(23,115,-0.776970732749413),(23,116,-0.478469191564684),(24,89,-1.8107394634846),(24,90,0.482985930967131),(24,91,-1.49679555650502),(24,101,-2.34542374950407),(24,107,0.401669362468337),(24,108,-0.501007110812708),(24,110,0.491256447035127),(24,112,-0.11047700430311),(25,90,-0.415860469374676),(25,92,2.14448988311411),(25,94,-0.848597674489578),(25,98,0.0955992309335612),(25,105,1.40075380718406),(25,108,-0.416653950621052),(25,109,-3.41935483870968),(25,115,-2.10579241309854),(26,85,0.541917172765282),(26,87,0.220969267860958),(26,89,0.596942045350505),(26,95,0.187231055635243),(26,98,-0.77652821436201),(26,100,0.490203558458205),(26,101,0.184987945188757),(26,102,-1.48942533646657),(26,103,-1.29515976439711),(26,104,-0.467238380077517),(26,107,-1.01116977446821),(26,109,-0.661931211279641),(26,112,-1.40673543504135),(26,113,-1.13589892269662),(26,117,-1.70361949522385),(27,85,-0.181432538834803),(27,87,1.92930387279885),(27,94,-0.300057985168004),(27,100,1.57715079195532),(27,102,-1.32862331003754),(27,103,-2.25516525772881),(27,104,1.64017151402326),(27,105,5.15181432538835),(27,108,1.41895809808649),(27,110,-1.27216406750694),(27,114,-1.52432325205237),(28,87,-0.687032685323649),(28,88,0.158650471510971),(28,97,-2.46749778740806),(28,99,0.710394604327525),(28,104,-0.321481978820154),(28,113,1.92374950407422),(28,114,-2.01948606830042),(29,88,3.81424909207434),(29,91,-0.752098147526475),(29,102,-0.700415051728874),(29,105,4.65291299172948),(29,116,-1.50901821955016),(30,95,-0.378002258369701),(30,96,-1.68680379650258),(30,99,2.2384563737907),(30,101,-3.28040406506546),(30,104,2.2399822992645),(30,109,-0.767616809595019),(30,110,-0.653675954466384),(30,114,-0.812372203741569),(30,118,-4.67177343058565),(31,85,1.81369975890378),(31,92,1.52389599291971),(31,94,-0.3037507248146),(31,96,0.861110263374736),(31,99,2.22571489608448),(31,103,-2.34231086153752),(31,107,-0.787072359385968),(31,108,-2.29842524491104),(31,109,-1.10423596911527),(31,111,1.48005615405744),(31,112,-0.490813928647725),(31,117,-1.5211645863216),(32,86,1.04815820795312),(32,87,0.24176763206885),(32,89,-0.0532853175450907),(32,92,-2.52937406537065),(32,98,-0.82570879238258),(32,99,0.0333567308572649),(32,104,-0.411130100405896),(32,106,-0.589373455000458),(32,109,-0.809869685964537),(32,116,0.832819605090487),(32,118,-1.46420178838466),(33,96,2.61517685476241),(33,98,-2.053407391583),(33,108,-2.37998596148564),(33,110,-0.638065736869411),(33,111,-1.75682851649525),(33,114,-0.536347544785912),(34,85,0.919736320078127),(34,90,-2.44543290505692),(34,99,-0.739310892056032),(34,104,2.0161442915128),(34,109,-1.97782830286569),(35,86,-0.10818811609241),(35,87,-1.55804620502335),(35,97,1.2587359233375),(35,98,2.16925565355388),(35,100,-2.1497085482345),(35,104,0.58920560319834),(35,107,-2.37211218604083),(35,109,-1.76932584612568),(35,110,-0.553086947233497),(35,112,-0.924481948301645),(36,85,-1.58169804986724),(36,87,-0.111270485549486),(36,90,-3.25144199957274),(36,91,1.95570238349559),(36,104,-0.845439008758812),(36,107,-2.51852473525193),(36,109,2.13965269936216),(36,112,-2.68012024292734),(36,115,1.604892117069),(36,117,1.61178930021058),(36,118,-0.556642353587451),(37,85,-1.79528183843501),(37,86,-0.598391674550615),(37,87,0.805383465071566),(37,91,2.4565111239967),(37,99,-1.04869228186895),(37,105,-0.692007202368236),(37,111,-2.33228553117466),(37,112,2.213919492172),(37,118,0.0579088717307048),(38,87,1.69681386761071),(38,90,2.79525131992553),(38,103,2.5898312326426),(38,105,0.642994476149785),(38,106,-0.829798272652364),(38,111,1.91271706289865),(38,115,0.0205389568773464),(39,87,-0.99641407513657),(39,89,1.96066164128544),(39,91,0.64752647480697),(39,94,0.578981902523881),(39,97,2.86182744834742),(39,98,-2.38654744102298),(39,107,-1.20198675496689),(39,108,1.36516922513504),(39,109,1.47921689504685),(39,111,2.25888851588488),(39,113,0.315851313821833),(39,116,1.57147434919279),(39,118,-5.59765923032319),(40,88,3.03892635883663),(40,92,-0.0193792535172582),(40,99,1.46440015869625),(40,104,-4.91473128452406),(40,110,0.300073244422742),(40,116,-0.775994140446181),(40,118,-0.280999176000244),(41,88,-2.13255714590899),(41,93,-0.396664326914273),(41,96,1.20735801263466),(41,97,-0.0195318460646382),(41,100,1.77777947325053),(41,101,3.36188848536637),(41,104,2.97288430433058),(41,105,-1.59826960051271),(41,106,-0.0122379222998749),(41,107,-3.74736777855769),(41,109,3.21556749168371),(41,110,0.431775872066408),(41,111,-1.49526963103122),(41,112,-0.971312601092563),(42,85,-0.672139652699362),(42,86,3.29818109683523),(42,87,0.660390026551103),(42,99,1.13208410901212),(42,100,0.861308633686331),(42,103,-1.12514114810633),(42,109,1.49063081759087),(42,113,1.0176702169866),(43,85,-1.38007751701407),(43,88,1.8671987060152),(43,89,0.391644032105472),(43,93,-0.819040498062075),(43,97,-1.1066164128544),(43,98,0.39593188268685),(43,101,0.414014099551378),(43,102,-2.34716330454421),(43,103,1.17313150425733),(43,105,3.24839014862514),(43,110,0.187017426068911),(43,112,-1.21349223303934),(43,114,-2.12887966551714),(43,116,1.713919492172),(44,89,0.477919858394116),(44,98,1.06143375957518),(44,99,-2.0856959746086),(45,87,-0.157612842188787),(45,88,0.575136570329905),(45,90,-2.14627521591845),(45,91,3.09009063997314),(45,95,0.365794854579302),(45,98,0.820154423657949),(45,108,-0.178792687765129),(45,109,0.0884731589709158),(45,112,2.7574083681753),(45,115,-2.20162053285318),(46,85,-1.46862697225867),(46,89,0.607303079317606),(46,91,2.33484908597064),(46,94,1.17650379955443),(46,97,1.01550340281381),(46,100,1.1619159520249),(46,101,0.421704763939329),(46,108,-1.68546098208563),(46,112,-2.4176763206885),(47,86,-0.541367839594714),(47,91,1.38407544175542),(47,92,0.426938688314463),(47,94,-1.34293649098178),(47,95,1.39316995757927),(47,100,-1.60792870876186),(47,101,-2.20000305185095),(47,104,-1.60374767296365),(47,105,-0.732612079226051),(47,108,-2.61604663228248),(47,112,-0.330835901974548),(47,114,-0.968199713126011),(47,118,-1.7279732657857),(48,86,-1.4953001495407),(48,91,1.88399914548173),(48,98,1.41866817224647),(48,99,-2.27996154667806),(48,100,2.5734885708182),(48,103,2.66960661641285),(48,105,2.05732902005066),(48,106,-0.0621356852931304),(48,111,-1.35030671102023),(48,115,1.76587725455489),(49,87,-0.706472975859859),(49,89,1.94842371898556),(49,93,2.28377636036256),(49,94,-1.32320627460555),(49,95,0.45692312387463),(49,102,1.38166447950682),(49,113,2.15901669362468),(49,114,-1.2570879238258),(50,89,2.22565385906552),(50,105,2.23847163304544),(50,107,-0.563295388653218),(51,87,-0.54506057924131),(51,92,2.12324900051881),(51,97,-2.81621753593554),(51,98,-1.49655140842921),(51,103,-1.90113528855251),(51,106,-1.99708548234504),(51,112,-1.92312387462996),(51,118,0.552919095431379),(52,89,-0.841547898800623),(52,97,-1.33979308450575),(52,106,1.89123203222755),(52,110,-0.984374523148289),(52,111,0.565996276741844),(52,113,-1.03006073183386),(52,114,-2.41254921109653),(52,118,1.35341959898679),(53,88,0.1713919492172),(53,90,1.26041444135868),(53,92,-2.91483809930723),(53,94,0.681325724051637),(53,104,-0.402005066072573),(53,105,1.08293404950102),(53,109,0.431669057283242),(54,85,0.906750694296091),(54,91,-0.149922177800836),(54,94,2.45542771691031),(54,96,-1.2176122318186),(54,111,2.11798455763421),(54,112,-2.78174687948241),(54,113,1.74881740775781),(54,118,-0.0560625019074068),(55,87,-1.17288735618152),(55,95,-0.365306558427686),(55,107,-2.48863185522019),(55,110,0.775933103427229),(55,117,-0.864040040284432),(56,107,-0.634525589770196),(56,111,1.25453962828455),(56,113,-1.06331064790796),(56,114,-0.852824488052004),(57,87,-2.24591814935759),(57,90,-0.540681173131504),(57,91,0.481887264625996),(57,92,-1.31534775841548),(57,93,0.399426252021851),(57,94,-1.29210791344951),(57,95,-1.08197271645253),(57,96,1.47820978423414),(57,100,0.210379345072787),(57,102,-0.98117007965331),(57,103,0.21332438123722),(57,115,-0.995056001464888),(58,86,0.00360118411816779),(58,87,2.21083712271493),(58,89,1.77083651234474),(58,90,-1.12750633259072),(58,95,-1.3787652211066),(58,96,-1.03137302774133),(58,101,0.378521073030793),(58,103,0.0579088717307047),(58,109,-3.62659077730644),(58,110,0.266853846858119),(58,113,1.26694540238655),(58,114,1.88886684774316),(58,115,0.0445722830896939),(58,118,2.188177129429),(59,85,1.21715445417646),(59,86,-2.44750816370128),(59,90,-0.213827936643574),(59,91,-0.0383007293923765),(59,93,1.48713644825587),(59,97,1.4924924466689),(59,98,-2.09712515640736),(59,100,-0.372203741569262),(59,102,2.87759025849178),(59,112,-0.783104953154088),(59,114,-3.86112552262948),(60,85,0.968703268532365),(60,87,-1.16808069093905),(60,90,-0.139393292031617),(60,91,0.75899533066805),(60,96,-0.679372539445173),(60,100,0.0686361278115177),(60,101,-1.54033021027253),(60,105,-0.535447248756371),(60,107,2.27866451002533),(60,109,1.2360454115421),(60,110,-1.22141178624836),(60,114,0.732047486800745),(61,89,-1.67790765099033),(61,94,-1.62198248237556),(61,96,-1.07281716360973),(61,98,0.666447950682089),(61,100,1.12590411084323),(61,102,-0.202948088015381),(61,103,-3.94306772057253),(61,114,-0.840998565630055),(61,115,-1.02847376934111),(62,93,-2.49217200231941),(62,95,-1.94021423993652),(62,107,-0.701010162663656),(62,109,-1.9184392834254),(62,110,-0.477233191930906),(62,111,-0.0493484298226875),(63,87,1.04574724570452),(63,90,-0.405484176152837),(63,93,1.49716177861873),(63,97,-1.18759727774895),(63,100,0.667104098635823),(63,103,0.0792565691091648),(63,104,1.57869197668386),(63,108,-1.6476180303354),(63,111,-2.94543290505692),(63,114,2.0584276863918),(63,117,1.85174108096561),(64,87,1.62343211157567),(64,94,0.156041138950774),(64,99,1.84070863979003),(64,110,-2.2095400860622),(64,112,-0.729697561571093),(64,116,-0.152088991973632),(65,87,3.0948515274514),(65,88,2.60136722922452),(65,90,0.287102877895444),(65,97,1.09245582445753),(65,99,-0.745017853328044),(65,107,2.94328135013886),(65,110,-1.21083712271493),(65,111,-0.577715384380627),(65,114,-2.65326395458846),(65,116,-2.57615894039735),(65,117,-1.97141941587573),(66,85,0.813211462752159),(66,102,0.668034913174841),(66,105,-0.0719168675801874),(66,108,-0.291909543137913),(66,111,0.32647175511948),(66,115,1.79729606006043),(66,118,2.87910092471084),(67,86,-1.37870418408765),(67,90,2.42521439252907),(67,92,-0.201193273720511),(67,104,5.35152745139927),(67,109,-2.89870906704917),(67,111,1.51274147770623),(68,87,-1.78959013641774),(68,88,1.99279763176366),(68,90,1.67081209753716),(68,93,1.59228797265542),(68,95,2.02804651020844),(68,96,-0.286355174413282),(68,97,-1.62973418378246),(68,103,-1.24721518601032),(68,107,-1.69705801568651),(68,112,2.39761040070803),(68,114,-1.76679280983917),(69,87,1.58894619586779),(69,88,-1.92420728171636),(69,92,-0.924176763206885),(69,94,-0.43671987060152),(69,95,0.32517471846675),(69,97,1.67712942899869),(69,108,-2.47697378460036),(69,113,0.15195165868099),(69,114,-1.08668782616657),(69,118,1.05752739036225),(70,85,-2.8127842036195),(70,86,-2.7284157841731),(70,87,-0.500778221991638),(70,90,-1.72350230414747),(70,96,-2.07541123691519),(70,97,-1.22777489547411),(70,99,0.743186742759484),(70,105,-0.951414532914213),(70,107,2.42370372631001),(70,109,0.604052858058412),(70,110,-0.136951811273537),(70,111,2.97511215552232),(71,85,-2.64677877132481),(71,93,-2.31826227607044),(71,96,-2.82782982879116),(71,100,0.728598895229957),(71,104,-0.158009582811975),(71,106,0.945554979094821),(71,111,2.69032868434706),(71,113,-0.800805688650166),(72,94,-1.25603503524888),(72,96,-1.85505233924375),(72,99,0.766533402508621),(72,110,1.18190557573168),(72,112,0.15698721274453),(72,114,-3.35505233924375),(72,115,2.06648457289346),(72,116,2.95585497604297),(73,88,2.51934873500778),(73,94,0.387112033448286),(73,99,-4.50575273903623),(73,100,-1.40726950895718),(73,106,2.47283852656636),(73,110,-1.98164311655019),(73,115,-2.18941312906278),(74,90,-2.4443037202063),(74,94,-0.0787682729575487),(74,99,1.4600817896054),(74,102,-2.66173284096805),(74,106,0.367915890987884),(74,107,1.72997222815638),(74,110,-2.27491073335978),(74,113,-0.685872981963561),(74,116,-3.76467177343059),(75,85,-1.3630634479812),(75,86,2.66899624622333),(75,93,0.535248878444777),(75,98,-0.461912900173955),(75,103,-1.19174779503769),(75,105,-0.295068208868679),(75,111,0.824533829767754),(75,117,1.60960722678304),(76,86,0.833063753166295),(76,89,1.12051759392071),(76,92,-0.948637348551897),(76,94,-1.00741599780267),(76,99,2.21980956450087),(76,101,-1.72971282082583),(76,103,-2.53537095248268),(76,106,2.93664357432783),(76,110,1.41332743308817),(76,113,1.68027283547472),(77,88,0.673314615314188),(77,91,-0.991195410016175),(77,93,-0.896176030762658),(77,98,0.0988494521927549),(77,101,2.29461043122654),(77,102,2.39658803064058),(77,103,1.94456312753685),(77,104,2.54356517227699),(77,105,0.234015930661946),(77,109,0.143925290688803),(78,88,-0.534440137943663),(78,93,1.24700155644398),(78,94,0.772576067384869),(78,101,-1.60715048677023),(78,104,-1.40942106387524),(78,110,-1.42922757652516),(78,114,-1.70262764366588),(78,116,-2.77802362132633),(78,117,0.823160496841334),(78,118,0.617450483718375),(79,87,2.98352000488296),(79,92,1.33945738090152),(79,94,1.85381633960997),(79,107,-1.07913449507126),(79,108,2.95840327158422),(79,114,-1.72246467482528),(79,118,0.118106631672109),(80,87,-0.690420239875485),(80,88,-2.74590289010285),(80,91,1.04115421002838),(80,99,2.9885555589465),(80,101,0.525177770317698),(80,107,1.47135837885678),(80,113,-2.34244819483016),(81,85,2.02078310495315),(81,86,-2.28699606311228),(81,90,-0.0265663624988556),(81,93,0.102603228858303),(81,96,0.614093447676015),(81,97,2.33396404919584),(81,106,0.220236823633534),(81,107,0.602649006622517),(81,110,0.926145207068087),(81,115,0.137012848292489),(82,86,-1.70226142155217),(82,92,1.73461104159673),(82,110,-2.42339854121525),(82,112,2.5196386608478),(83,87,3.44645527512436),(83,91,0.935865352336192),(83,93,-0.294076357310709),(83,101,0.183690908536027),(83,103,0.285729544969024),(83,105,-0.112964262825404),(83,108,-2.03462324900052),(84,85,-2.46516312143315),(84,86,-2.91521958067568),(84,89,-1.53743095187231),(84,95,-0.80291146580401),(84,99,-0.234839930417798),(84,104,0.495010223700674),(84,111,-0.149098178044984),(84,113,0.307275612659078),(84,114,2.052766502884),(35,105,2.02171391949217)]
orgname='BHNEAT_9_4'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()