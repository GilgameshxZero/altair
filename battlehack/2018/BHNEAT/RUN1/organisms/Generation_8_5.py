edge = [(0,85,0.526436658833583),(0,89,-2.81568346201971),(0,90,1.64201025421918),(0,93,-0.977568895535142),(0,98,2.43351542710654),(0,101,-2.94956816309091),(0,105,-0.134968108157598),(0,108,0.567720572527238),(0,113,0.705130161442915),(0,114,3.3746299630726),(0,117,1.20155186620685),(0,118,1.75029755546739),(1,86,1.09021271401105),(1,92,-2.15382854701376),(1,98,2.82532731101413),(1,102,-2.21607104709006),(1,104,0.657704397717216),(1,107,-2.31908627582629),(1,108,-0.241248817407758),(1,109,-1.28099154637288),(1,113,-2.30831324198126),(2,87,-0.309503463850825),(2,88,-0.417836542863247),(2,100,-0.908566545609912),(2,106,-1.62319559312723),(2,108,-2.05053865169225),(2,110,0.108020264290292),(2,113,0.896893215735344),(2,118,0.78713339640492),(3,89,-0.168080690939055),(3,92,3.18012024292734),(3,97,1.84972685934019),(3,99,0.0523392437513352),(3,101,-2.40331736198004),(3,103,0.995681630909146),(3,105,3.29923398541215),(3,108,0.275406659138768),(3,109,-2.41258735923337),(3,111,1.70372631000702),(3,112,-0.390270699179052),(3,116,-0.100451673940245),(4,90,3.62266914883877),(4,91,1.75711844233528),(4,97,-2.46774193548387),(4,99,-0.0893734550004578),(4,101,0.216803491317484),(4,108,-1.12849818414869),(4,113,-2.18538468581195),(4,118,-1.67119357890561),(5,86,1.88739432966094),(5,87,-0.238654744102298),(5,89,0.0227668080690939),(5,92,-0.317789239173559),(5,93,-0.454741050447096),(5,99,2.47856074709311),(5,104,-0.846339304788354),(5,114,0.308008056886502),(5,118,1.61415448469497),(6,89,-0.314996795556505),(6,92,-1.08737449262978),(6,94,-3.37218085268715),(6,100,-1.86210211493271),(6,101,1.04631183812983),(6,103,-2.53395947141942),(6,107,2.92896816919462),(6,110,2.12690359202857),(6,113,-0.524491103854487),(7,85,2.67632068849757),(7,86,2.23914304025391),(7,90,0.940260017700736),(7,95,1.19156468398083),(7,99,-0.00907925656910917),(7,100,2.09753715628529),(7,104,-1.2805413983581),(7,106,1.85140537736137),(7,108,-1.10600604266488),(7,112,-2.20548112430189),(7,116,-1.73841059602649),(8,92,1.36727500228889),(8,93,1.44505142368847),(8,95,0.745040742210151),(8,99,-3.14590899380474),(8,106,0.360820337534715),(8,107,-0.806924649800104),(8,115,-1.9638966032899),(8,116,1.46339304788354),(8,118,1.32465590380566),(9,85,0.0421155430768761),(9,87,-0.690252388073366),(9,98,-0.220984527115696),(9,101,-0.246200445570238),(9,103,2.47093111972411),(9,105,1.64224677266762),(9,106,0.14722128971221),(9,113,-1.18581194494461),(10,89,-1.036866359447),(10,96,0.440610980559709),(10,106,0.619037446211127),(10,108,2.68298898281808),(10,109,1.08983886226997),(10,111,-1.14983062227241),(10,112,-2.01132236701559),(10,114,-0.964552751243629),(10,115,1.68111209448531),(10,116,0.22103030487991),(10,117,3.22457808160649),(11,89,0.344477675710318),(11,97,1.21541489913633),(11,105,0.850672933133946),(11,112,-0.00633259071626942),(11,115,1.90385906552324),(12,92,3.68462172307504),(12,93,0.306253242591632),(12,94,-3.0607394634846),(12,97,-0.339442121646779),(12,98,1.82185583056124),(12,99,2.73181859797967),(12,108,-0.0459913937803278),(12,116,-3.71362956633198),(13,86,0.399182103946043),(13,87,1.0453581347087),(13,90,-1.93110446485794),(13,99,0.188390758995331),(13,102,3.03430280465102),(13,104,-1.90323343607898),(13,113,-0.5327082125309),(13,116,1.90813928647725),(13,118,-1.19468520157476),(14,90,-0.694975127414777),(14,93,-0.267113254188665),(14,95,3.28695791497543),(14,102,2.37385174108097),(14,104,0.271919919431135),(14,106,0.662495803704947),(14,109,1.00711081270791),(14,110,-1.03058717612232),(14,111,1.98455000457778),(15,85,0.756431775872066),(15,92,-1.06917020172735),(15,99,-2.48573259681997),(15,101,-1.31710257271035),(15,104,-0.765129551072726),(15,108,-0.137577440717795),(15,117,0.56442457350383),(16,86,-0.901364177373577),(16,87,2.22083193456832),(16,88,-2.35143589587085),(16,90,-0.416188543351543),(16,91,-4.08001953184606),(16,95,1.38256477553636),(16,97,-1.3685262611774),(16,98,0.345774712363048),(16,99,-0.65378276924955),(16,101,-0.141254921109653),(16,108,0.422284615619373),(16,110,-2.36014893032624),(17,89,-1.91721854304636),(17,96,1.90198980681784),(17,99,-0.950712607196264),(17,101,1.98236030152287),(17,106,1.94154179509873),(17,107,4.79560991241188),(17,109,0.054261909848323),(18,90,0.734244819483016),(18,91,0.988418225653859),(18,93,1.65346232490005),(18,99,4.21227912228767),(18,102,1.94315927610096),(18,103,0.162007507553331),(18,104,-1.47106845301675),(18,110,-1.03392132328257),(18,111,0.410840174565874),(18,116,0.389721366008484),(18,117,2.75093844416639),(18,118,-0.124439222388379),(19,87,-2.75020599993896),(19,89,-1.05362102114933),(19,93,4.46085238196966),(19,95,-1.08256782738731),(19,101,-0.838587603381451),(19,105,1.29474776451918),(19,115,-0.957899716177862),(20,88,-1.66615802484207),(20,101,1.20033875545518),(20,103,1.02348399304178),(20,104,-3.06311227759636),(20,105,-0.971358378856777),(20,106,1.58533738212226),(20,111,-1.69969023712882),(20,116,0.475936155278176),(21,86,2.67571031830805),(21,87,1.40530106509598),(21,94,-4.70101779229103),(21,96,-0.878551591540269),(21,101,0.210226752525407),(21,102,-0.420407727286599),(21,105,1.37300485244301),(21,107,-1.43249305703909),(21,108,-3.6294061098056),(22,86,-2.43430890835292),(22,88,2.09129612109745),(22,91,-2.60512100589007),(22,92,-0.561098055970946),(22,93,4.08499404889065),(22,98,0.466170232245857),(22,106,-1.59954374828333),(22,115,-0.532349620044557),(22,117,-0.010605182042909),(23,85,-0.482863856929228),(23,86,-0.873607593005158),(23,88,-1.87278359324931),(23,90,-0.218405713064974),(23,97,1.89368877224036),(23,104,2.39906002990814),(23,112,-1.22890408032472),(23,114,-0.328897976622822),(23,115,-0.776970732749413),(23,116,0.771813104647969),(24,89,-1.06476027710807),(24,90,-2.83124790185247),(24,91,-3.6005127109592),(24,101,0.688482314523759),(24,107,0.266983550523392),(24,108,0.616580706198309),(24,110,2.46198919644765),(24,112,-1.73958555864132),(25,90,-1.44540238654744),(25,92,0.977538377025666),(25,94,1.08459730826746),(25,98,0.767265846736045),(25,105,-1.92516861476485),(25,108,0.944700460829493),(25,109,1.88262581255531),(25,115,-0.133610034485916),(26,85,-1.23075045014801),(26,87,0.542519913327433),(26,89,-1.4303262428663),(26,95,1.06160924100467),(26,98,-0.485000152592547),(26,100,-0.782723471785638),(26,101,-0.676587725455489),(26,102,-0.610339671010468),(26,103,-1.19315164647359),(26,104,1.46710104678488),(26,107,-0.241248817407758),(26,109,1.07022309030427),(26,112,-3.08094271675771),(26,113,1.75856807153539),(26,117,-0.00978881191442604),(27,85,0.241554002502518),(27,87,-2.10591448713645),(27,94,0.926175725577563),(27,100,2.91100039674062),(27,102,0.472045045319987),(27,103,-0.766396069215979),(27,104,2.34359263893551),(27,105,0.499656666768395),(27,108,-2.52792443617054),(27,110,-0.0400250251777704),(27,114,-0.801583910641804),(28,87,1.44125186925871),(28,88,1.88908810693686),(28,97,1.85430463576159),(28,99,-1.30664998321482),(28,104,-2.59724723044526),(28,113,0.294579912717063),(28,114,-1.94837794122135),(29,88,-2.81025116733299),(29,91,0.61085848567156),(29,102,1.86544389172033),(29,105,-1.94557023834956),(29,116,0.198416089358196),(30,95,-0.064920499282815),(30,96,-1.29551072725608),(30,99,-2.66695150608844),(30,101,-2.14511551255837),(30,104,1.08783227027192),(30,109,1.4675130466628),(30,110,1.50669881282998),(30,114,-3.25080111087374),(30,118,1.57048249763482),(31,85,-2.68717001861629),(31,92,-1.76023133030183),(31,94,0.490646076845607),(31,96,3.32563249610889),(31,99,-2.50564592425306),(31,103,-0.74954222235786),(31,107,3.51886043885617),(31,108,-0.0558488723410749),(31,109,3.10147404400769),(31,111,0.337946714682455),(31,112,-0.415890987884152),(31,117,0.767113254188665),(32,86,-3.27986236152226),(32,87,3.36064485610523),(32,89,0.37237159337138),(32,92,0.154797509689627),(32,98,0.517563402203436),(32,99,-0.544129764702292),(32,104,-0.188726462599567),(32,106,0.670949430829798),(32,109,-0.178289132358776),(32,116,1.77861873226112),(32,118,0.266975920896023),(33,96,-2.27223273415326),(33,98,0.272560808130131),(33,108,-2.74364452040162),(33,110,-2.00173955504013),(33,111,2.33150730918302),(33,114,-3.49374370555742),(34,85,0.56671346171453),(34,90,-2.03733939634388),(34,99,2.59067812128056),(34,104,-1.08053071687979),(34,109,0.273110141300699),(35,86,2.09555345316935),(35,87,2.35518967253639),(35,97,-1.08993041779839),(35,98,0.309457686086612),(35,100,1.96890163884396),(35,104,-1.6085848567156),(35,107,-2.35574663533433),(35,109,0.579149754325999),(35,110,-0.420064394054994),(35,112,0.368930631427961),(36,85,1.59541611987671),(36,87,0.0688192388683737),(36,90,0.121692556535539),(36,91,5.23922696615497),(36,104,-2.81098361156041),(36,107,2.72287667470321),(36,109,2.63863032929472),(36,112,-1.79363383892331),(36,115,-1.46286660359508),(36,117,1.31382183294168),(36,118,-0.416943876461074),(37,85,0.550653096102786),(37,86,-0.867450483718375),(37,87,0.0849177526169622),(37,91,1.86078981902524),(37,99,-3.48278756065554),(37,105,2.20250556962798),(37,111,-1.01853999450667),(37,112,0.321695608386486),(37,118,1.65456099124119),(38,87,5.1091265602588),(38,90,2.8378627887814),(38,103,0.883465071565905),(38,105,-0.0392468031861324),(38,106,-1.18839075899533),(38,111,0.343050935392315),(38,115,0.397366252632221),(39,87,-1.40003662221137),(39,89,1.13902706991791),(39,91,0.966978972746971),(39,94,-1.22054200872829),(39,97,-0.846552934354686),(39,98,0.366557817316202),(39,107,-0.742950224311045),(39,108,-0.850047303689688),(39,109,4.32438123722037),(39,111,0.115726187932981),(39,113,-2.93307290871914),(39,116,-1.09929197058016),(39,118,-0.267052217169714),(40,88,-0.999000518814661),(40,92,2.4184392834254),(40,99,-1.55072176274911),(40,104,-2.67757194738609),(40,110,1.78363139744255),(40,116,0.559190649128697),(40,118,1.87078463087863),(41,88,0.760864589373455),(41,93,-0.381557664723655),(41,96,-2.56328012939848),(41,97,-1.1322367015595),(41,100,0.317011017181921),(41,101,-1.21237830744346),(41,104,-0.591326639606922),(41,105,0.0281380657368694),(41,106,-1.80654316843165),(41,107,-0.946531571398053),(41,109,2.86140018921476),(41,110,1.81936094241157),(41,111,0.226355784783471),(41,112,0.0344859157078768),(42,85,1.35421308023316),(42,86,-2.41477706228828),(42,87,0.961684011352886),(42,99,0.187002166814173),(42,100,-0.506103701895199),(42,103,-0.967741935483871),(42,109,-0.598620563371685),(42,113,0.9406872768334),(43,85,0.0124362926114689),(43,88,1.40873439741203),(43,89,1.22888119144261),(43,93,3.16205328531755),(43,97,-0.108432264168218),(43,98,-2.06179998168889),(43,101,1.37042603839229),(43,102,-1.27506332590716),(43,103,0.0117496261482589),(43,105,3.74843592638936),(43,110,2.49786370433668),(43,112,2.55677968688009),(43,114,-4.51348155156102),(43,116,-2.34145634327219),(44,89,1.22127445295572),(44,98,0.236289559617908),(44,99,-0.150440992461928),(45,87,-2.25028229621265),(45,88,1.72964415417951),(45,90,0.323282570879238),(45,91,-0.797853022858364),(45,95,0.98718985564745),(45,98,-2.99243140964995),(45,108,-2.24169133579516),(45,109,0.195745719779046),(45,112,-0.266045106357006),(45,115,-0.702764976958525),(46,85,-3.19367046113468),(46,89,2.72574541459395),(46,91,-1.03996398815882),(46,94,-3.01261940366832),(46,97,0.0794854579302347),(46,100,-0.843745231482894),(46,101,0.381420331431013),(46,108,-1.86429944761498),(46,112,-1.79360332041383),(47,86,3.9068956572161),(47,91,0.941480758079776),(47,92,-1.56987975707266),(47,94,-2.51358836634419),(47,95,-0.241859187597278),(47,100,0.603862117374187),(47,101,1.11201818903165),(47,104,2.2727896969512),(47,105,1.95385601367229),(47,108,-0.408146916104617),(47,112,2.09241004669332),(47,114,-0.124248481704154),(47,118,-2.29672383800775),(48,86,0.792443617053743),(48,91,-3.0200582903531),(48,98,-0.13022247993408),(48,99,0.449583422345653),(48,100,3.1666920987579),(48,103,3.00325785088656),(48,105,0.452200384533219),(48,106,2.18337046418653),(48,111,1.84940641499069),(48,115,1.36146885586108),(49,87,-0.168156987212745),(49,89,-0.492797631763665),(49,93,0.163090914639729),(49,94,-0.124973296304209),(49,95,-1.77615436262093),(49,102,-1.71169164098025),(49,113,4.65520950956755),(49,114,3.30794701986755),(50,89,0.221037934507279),(50,105,-0.411908322397534),(50,107,1.60347300637837),(51,87,0.246429334391309),(51,92,0.656315805536058),(51,97,-0.708227790154729),(51,98,-2.13072603534043),(51,103,2.17482528153325),(51,106,-0.459913937803278),(51,112,1.04518265327921),(51,118,-4.91511276589251),(52,89,0.715018158513138),(52,97,-1.06695760979034),(52,106,-2.00781273842586),(52,110,-0.131382183294168),(52,111,2.13576158940397),(52,113,2.94985045930357),(52,114,-5.17989135410627),(52,118,-2.43739127780999),(53,88,1.62598040711692),(53,90,-1.8588061159093),(53,92,-0.042664876247444),(53,94,-2.218695638905),(53,104,-0.546769615771966),(53,105,-0.642490920743431),(53,109,-0.00138859218115739),(54,85,-2.34102908413953),(54,91,3.17140720847194),(54,94,4.3910718100528),(54,96,0.234076967680898),(54,111,2.47894222846156),(54,112,-1.17381817072054),(54,113,-0.80077517014069),(54,118,-1.94882045960875),(55,87,-0.559312723166601),(55,95,1.14543595690786),(55,107,-1.90214239936521),(55,110,-5.21328623310038),(55,117,-1.10093997009186),(56,107,1.09241004669332),(56,111,-2.38457899716178),(56,113,-2.76021607104709),(56,114,0.0631122775963622),(57,87,-0.312112796411023),(57,90,2.89761040070803),(57,91,-2.43430890835292),(57,92,-0.334330271309549),(57,93,-0.860423596911527),(57,94,0.178121280556658),(57,95,0.73292489394818),(57,96,-2.87311929685354),(57,100,1.18710898159734),(57,102,-1.76145207068087),(57,103,-1.38294625690481),(57,115,-1.95837275307474),(58,86,0.577806939909055),(58,87,-0.690107425153355),(58,89,-0.0944395275734733),(58,90,-4.91622669148839),(58,95,-0.801507614368114),(58,96,-1.76484725486007),(58,101,0.482116153447066),(58,103,0.914769432660909),(58,109,-1.40247810296945),(58,110,3.2907803582873),(58,113,-1.34536271248512),(58,114,-1.72025208288827),(58,115,-0.224753563035981),(58,118,-0.688497573778497),(59,85,-0.206122013000885),(59,86,1.54148991363262),(59,90,-1.73268837549974),(59,91,4.46909237952818),(59,93,-2.26418347727897),(59,97,3.33920560319834),(59,98,2.86766411328471),(59,100,-3.20428327280496),(59,102,3.70947904904324),(59,112,-0.984565263832514),(59,114,1.02851954710532),(60,85,3.8911938840907),(60,87,0.950285348063601),(60,90,-0.178273873104038),(60,91,1.65746024964141),(60,96,-1.48727378154851),(60,100,1.4838557084872),(60,101,-1.84871974852748),(60,105,0.11139255958739),(60,107,-2.28675191503647),(60,109,-1.2529297769097),(60,110,-0.858737449262978),(60,114,1.89497054963836),(61,89,2.23491622669149),(61,94,-0.568842127750481),(61,96,-2.67751853999451),(61,98,-1.53057954649495),(61,100,0.86909085360271),(61,102,0.291680654316843),(61,103,-0.683156834620197),(61,114,1.44238105410932),(61,115,-0.743430890835292),(62,93,1.87994018372143),(62,95,-0.345927304910428),(62,107,-1.52623065889462),(62,109,-3.74180578020569),(62,110,0.845362712485122),(62,111,-0.534829248939482),(63,87,1.93433942686239),(63,90,-0.785134434034242),(63,93,0.122913296914579),(63,97,1.72638630329295),(63,100,4.18668935209204),(63,103,-2.55620746482742),(63,104,-0.292474135563219),(63,108,1.49359874263741),(63,111,0.654377880184332),(63,114,0.942976165044099),(63,117,1.17682424390393),(64,87,0.0526444288460952),(64,94,-1.54377880184332),(64,99,-0.401944029053621),(64,110,2.04428235724967),(64,112,-0.49946592608417),(64,116,-0.200537125766778),(65,87,3.05784783471175),(65,88,1.10824915311136),(65,90,0.123905148472549),(65,97,-1.64474929044465),(65,99,0.394085512863552),(65,107,-1.17613757744072),(65,110,0.761581774346141),(65,111,1.37200537125767),(65,114,2.28515732291635),(65,116,-0.0462508011108738),(65,117,2.71149327066866),(66,85,1.60005493331706),(66,102,1.11123996704001),(66,105,1.73123111667226),(66,108,3.03462324900052),(66,111,-0.386867885372478),(66,115,1.19838557084872),(66,118,-2.03453169347209),(67,86,1.51609088412122),(67,90,4.04708243049409),(67,92,-0.0231177709280679),(67,104,-2.2460860011597),(67,109,0.96005127109592),(67,111,0.904278695028535),(68,87,-1.45243690298166),(68,88,-1.6274605548265),(68,90,-0.116298409985656),(68,93,0.446241645558031),(68,95,0.637241737113559),(68,96,-1.62366100039674),(68,97,-0.0661946470534379),(68,103,-0.750984221930601),(68,107,-2.5160222174749),(68,112,0.939207129123814),(68,114,-1.18869594409009),(69,87,1.56683553575243),(69,88,-0.917004913480026),(69,92,0.802560502945036),(69,94,1.15474410229804),(69,95,0.901058992278817),(69,97,1.31817072054201),(69,108,2.94730979338969),(69,113,-0.452436902981658),(69,114,0.905514694662313),(69,118,0.0535828730124822),(70,85,0.277428510391552),(70,86,0.401486251411481),(70,87,-1.3350321970275),(70,90,1.94665364543596),(70,96,-1.38782921842097),(70,97,1.83948789941099),(70,99,2.54969176305429),(70,105,-1.81032746360668),(70,107,-1.63016144291513),(70,109,-0.364757225257119),(70,110,1.03549302652058),(70,111,0.432691427350688),(71,85,0.0951414532914212),(71,93,1.464560380871),(71,96,1.00879696035646),(71,100,2.53922391430403),(71,104,1.35547959837642),(71,106,1.4405652027955),(71,111,0.0954924161503953),(71,113,-2.4069948423719),(72,94,0.466315195165868),(72,96,-1.02178258613849),(72,99,0.766533402508621),(72,110,2.15651417584765),(72,112,2.69700460829493),(72,114,-1.83283486434523),(72,115,1.59688100833155),(72,116,0.166096987823115),(73,88,2.47753837702567),(73,94,-1.13530381176183),(73,99,2.19077120273446),(73,100,-0.298165837580493),(73,106,-1.58627582628864),(73,110,1.80097354045228),(73,115,-1.00560014648885),(74,90,-1.02275154881436),(74,94,-0.730185857722709),(74,99,2.82235175634022),(74,102,0.097750785851619),(74,106,-0.359508041627247),(74,107,1.59833063753166),(74,110,2.24007385479293),(74,113,-0.740348521378216),(74,116,2.07908871730705),(75,85,-0.157544175542466),(75,86,1.21730704672384),(75,93,-0.0173268837549975),(75,98,0.314325388348033),(75,103,-0.853801080355235),(75,105,1.19438764610736),(75,111,-0.511947996459853),(75,117,-1.19618823816645),(76,86,-3.27728354747154),(76,89,2.3275246436964),(76,92,1.7757194738609),(76,94,1.50036622211371),(76,99,-2.29926450392163),(76,101,1.29215369121372),(76,103,-2.81747642445143),(76,106,2.57490768150883),(76,110,-0.672650837733085),(76,113,-0.157170323801386),(77,88,-2.33783989989929),(77,91,-1.01896725363933),(77,93,-1.06769005401776),(77,98,-1.29348124637593),(77,101,0.699407940916166),(77,102,-0.302240058595538),(77,103,-0.670720542008728),(77,104,0.927076021607105),(77,105,0.87046418652913),(77,109,-1.53474532303842),(78,88,-0.534440137943663),(78,93,2.77112643818476),(78,94,-2.02208014160588),(78,101,0.443044831690421),(78,104,-1.37783440656758),(78,110,-1.57441938535722),(78,114,-1.40919217505417),(78,116,-2.14964751121555),(78,117,-2.18398083437605),(78,118,2.13995788445692),(79,87,0.953123569444868),(79,92,-0.225951414532914),(79,94,2.52926725058748),(79,107,0.735786004211554),(79,108,0.85003204443495),(79,114,2.97138889736625),(79,118,0.900227362895596),(80,87,0.404660176396985),(80,88,1.78537095248268),(80,91,-1.007629627369),(80,99,-1.03241065706351),(80,101,-0.715208899197363),(80,107,0.815454573198645),(80,113,0.243079927976318),(81,85,-4.97703482161931),(81,86,0.713675344096194),(81,90,1.09193700979644),(81,93,-2.69914853358562),(81,96,-1.31282998138371),(81,97,-0.608554338206122),(81,106,1.46501052888577),(81,107,0.301202429273354),(81,110,2.89405499435408),(81,115,-0.874256111331522),(82,86,-2.02362132633442),(82,92,0.270752586443678),(82,110,-0.951338236640523),(82,112,-0.086390270699179),(83,87,-2.36571855830561),(83,91,1.58772545548875),(83,93,0.493758964812159),(83,101,1.48530533768731),(83,103,-0.578821680349132),(83,105,-0.612170781579027),(83,108,-1.8182470168157),(84,85,-3.13718070009461),(84,86,-1.22411267433699),(84,89,-1.80004272591327),(84,95,-0.358897671437727),(84,99,-2.10028382213813),(84,104,-1.69927060762352),(84,111,-1.48069704275643),(84,113,0.634662923062838),(84,114,0.157795953245644),(35,105,-0.513702810754723)]
orgname='BHNEAT_8_5'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()