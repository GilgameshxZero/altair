edge = [(0,85,-1.22228156376843),(0,89,-2.55357524338511),(0,90,0.211569566942351),(0,93,2.92841883602405),(0,98,-2.0787072359386),(0,101,0.517349772637104),(0,105,-0.962324900051881),(0,108,0.526642658772546),(0,113,-1.55522324289682),(0,114,1.1628772850734),(0,117,1.06308175908689),(0,118,2.54629657887509),(1,86,-1.37255470442824),(1,92,0.755607776116215),(1,98,1.96671956541643),(1,102,0.865031891842402),(1,104,-1.99543748283334),(1,107,0.473662526322214),(1,108,-1.36712240974151),(1,109,-0.702688680684835),(1,113,-1.56614886928922),(2,87,-1.5399182103946),(2,88,-0.640629291665395),(2,100,-2.11912900173956),(2,106,-0.257728812524796),(2,108,-0.267494735557115),(2,110,1.95959349345378),(2,113,2.40046388134403),(2,118,-0.0733359782708213),(3,89,-1.07538071840571),(3,92,-1.93774224066897),(3,97,-0.769005401776177),(3,99,-0.533997619556261),(3,101,-0.184484389782403),(3,103,0.856379894405957),(3,105,-0.520859401226844),(3,108,-1.30153813287759),(3,109,1.51835688344981),(3,111,-2.55043183690909),(3,112,-1.23487044892727),(3,116,-1.47305215613269),(4,90,-0.587405011139256),(4,91,-1.19739371929075),(4,97,0.808236945707572),(4,99,-2.37652211066012),(4,101,-1.68520157475509),(4,108,-0.754448072756127),(4,113,-0.517487105929746),(4,118,-1.69403668324839),(5,86,-1.48448133793146),(5,87,-1.95211645863216),(5,89,2.09251686147649),(5,92,0.400524918362987),(5,93,-1.70052186651204),(5,99,1.32044434949797),(5,104,0.0252235480819117),(5,114,-0.989272743919187),(5,118,-0.128681295205542),(6,89,2.13010040589618),(6,92,0.111056855983154),(6,94,1.15405743583483),(6,100,-1.24858851893674),(6,101,-1.70232245857112),(6,103,0.275292214728233),(6,107,3.10428174687948),(6,110,-1.49014252143925),(6,113,2.26216925565355),(7,85,1.56289864803003),(7,86,0.969710379345073),(7,90,0.448210089419233),(7,95,-1.20220038453322),(7,99,0.123645741142003),(7,100,-1.47561571092868),(7,104,-1.3619800408948),(7,106,2.18659016693625),(7,108,1.93997009186071),(7,112,0.875225074007385),(7,116,-0.457502975554674),(8,92,-0.0896481215857418),(8,93,-0.263832514419996),(8,95,-1.94175542466506),(8,99,3.29215369121372),(8,106,1.11825922421949),(8,107,0.431714835047456),(8,115,0.103015228736229),(8,116,-2.55421613208411),(8,118,1.95190282906583),(9,85,-0.531342509231849),(9,87,-2.61822870571001),(9,98,-0.601931821649831),(9,101,-2.65596484267708),(9,103,0.076509903256325),(9,105,0.79848628192999),(9,106,2.76741843928343),(9,113,-0.859309671315653),(10,89,0.343607898190252),(10,96,-0.870036927396466),(10,106,-1.66539506210517),(10,108,2.90818506424146),(10,109,-2.1613513595996),(10,111,2.6878566850795),(10,112,-1.69682912686544),(10,114,-2.0240943632313),(10,115,-2.42271187475204),(10,116,2.82473220007935),(10,117,0.765831476790674),(11,89,1.0512405774102),(11,97,1.88901944029054),(11,105,0.485030671102023),(11,112,-0.0961638233588672),(11,115,-1.31723990600299),(12,92,1.56566057313761),(12,93,1.04965361491745),(12,94,-2.04423657948546),(12,97,1.66956083864864),(12,98,-1.26729636524552),(12,99,2.191030610065),(12,108,-0.761101107821894),(12,116,-1.42568742942595),(13,86,-1.48283333841975),(13,87,-1.00740073854793),(13,90,1.36536759544664),(13,99,-1.1755272072512),(13,102,-1.11619922482986),(13,104,-0.942045350505081),(13,113,0.011383404034547),(13,116,2.22341074861904),(13,118,2.52145451216163),(14,90,2.25887325663015),(14,93,0.00566118350779754),(14,95,0.508026367992187),(14,102,0.626041444135868),(14,104,-1.73935666982025),(14,106,-1.77936643574328),(14,109,-1.46270638142033),(14,110,1.26378673665578),(14,111,1.32259590441603),(15,85,-0.914181951353496),(15,92,2.4258705404828),(15,99,-1.85705130161443),(15,101,-1.87841425824763),(15,104,-1.04298532059694),(15,108,-2.35763115329447),(15,117,-0.0372020630512406),(16,86,-2.26613666188543),(16,87,1.51168858912931),(16,88,-2.76085695974609),(16,90,0.572191534165471),(16,91,-0.0623035370952483),(16,95,-1.70500808740501),(16,97,-2.15120395519883),(16,98,-1.10277108066042),(16,99,-1.66869106112857),(16,101,1.84105960264901),(16,108,0.704718161564989),(16,110,1.44973601489303),(17,89,0.153386028626362),(17,96,2.0198370311594),(17,99,-1.74634540849025),(17,101,1.13783684804834),(17,106,-2.76718955046236),(17,107,1.93488876003296),(17,109,-0.496292001098666),(18,90,-0.0191656239509262),(18,91,-1.9051484725486),(18,93,1.24779503769036),(18,99,0.746620075075533),(18,102,-2.27262184514908),(18,103,-2.55107272560808),(18,104,-0.735297708059938),(18,110,0.781075472273934),(18,111,0.712073122348704),(18,116,0.594912564470351),(18,117,0.559129612109745),(18,118,2.58130130924406),(19,87,2.20444349497971),(19,89,1.31661427655873),(19,93,1.30491042817469),(19,95,1.25789666432691),(19,101,0.054307687612537),(19,105,2.87553025910215),(19,115,-2.92095706045717),(20,88,1.37804803613392),(20,101,-1.02203436384167),(20,103,-1.2459639271218),(20,104,1.48966948454238),(20,105,0.243430890835292),(20,106,-2.09504989776299),(20,111,0.382641071810053),(20,116,1.60463270973846),(21,86,1.19153416547136),(21,87,-1.45187231055635),(21,94,-1.74332407605213),(21,96,-1.56459242530595),(21,101,1.44976653340251),(21,102,1.54576250495926),(21,105,1.43029572435682),(21,107,2.18146305734428),(21,108,-2.42045350505081),(22,86,2.60390026551103),(22,88,-2.7994933927427),(22,91,0.532074953459273),(22,92,0.0415204321420942),(22,93,-1.24652851954711),(22,98,-1.71321756645405),(22,106,1.05580309457686),(22,115,0.492843409527879),(22,117,2.3345896786401),(23,85,0.497985778374584),(23,86,1.32758568071535),(23,88,-1.21489608447523),(23,90,-0.486632892849513),(23,97,-1.1415143284402),(23,104,-0.80382702108829),(23,112,-0.116687520981475),(23,114,0.592822046571245),(23,115,-0.0207373271889401),(23,116,1.27875606555376),(24,89,-2.19847712637715),(24,90,1.4344615009003),(24,91,-0.557618945890683),(24,101,-2.11401715140233),(24,107,0.249092074343089),(24,108,1.05569627979369),(24,110,0.623142185735649),(24,112,-2.07185583056124),(25,90,-1.51796014282662),(25,92,-1.40490432447279),(25,94,1.45127719962157),(25,98,-1.98603778191473),(25,105,2.08728293710135),(25,108,-1.6996215704825),(25,109,0.287697988830226),(25,115,0.582552568132572),(26,85,2.64479506820887),(26,87,-1.50308236945708),(26,89,-0.933912167729728),(26,95,-1.23126926480911),(26,98,-0.25769829401532),(26,100,-2.21720023194067),(26,101,1.61685537278359),(26,102,1.18161564989166),(26,103,-1.11896114993744),(26,104,-1.86260567033906),(26,107,-2.34243293557543),(26,109,-1.20609149449141),(26,112,-0.490966521195105),(26,113,0.459456160161138),(26,117,-1.29902035584582),(27,85,0.651127658925138),(27,87,1.53440961943419),(27,94,2.47764519180883),(27,100,-1.00862147892697),(27,102,1.58499404889065),(27,103,-0.330988494521928),(27,104,-1.19850764488662),(27,105,1.07747123630482),(27,108,1.08398693807794),(27,110,0.225638599810785),(27,114,-1.43504135258034),(28,87,-1.1136051515244),(28,88,-0.730979338969085),(28,97,-2.46873378704184),(28,99,-2.32143620105594),(28,104,1.87585070345164),(28,113,-0.557176427503281),(28,114,0.361293374431593),(29,88,-2.66370128482925),(29,91,1.0073091830195),(29,102,0.826303903317362),(29,105,1.9692373424482),(29,116,-0.889873958555864),(30,95,0.529221472823267),(30,96,-0.0845362712485122),(30,99,2.3910946989349),(30,101,2.11825922421949),(30,104,-2.63867610705893),(30,109,-0.614230780968657),(30,110,-0.495925778984954),(30,114,2.34575945310831),(30,118,1.47798089541307),(31,85,0.388851588488418),(31,92,-0.484313486129337),(31,94,-1.27301858577227),(31,96,-1.40885647144993),(31,99,-1.63562425611133),(31,103,2.17996765037996),(31,107,-1.20546586504715),(31,108,-1.5495925778985),(31,109,-0.519791253395184),(31,111,-0.342478713339641),(31,112,-0.453733939634388),(31,117,-0.361644337290567),(32,86,0.304864650410474),(32,87,0.793984801782281),(32,89,-0.544495986816004),(32,92,-0.958922086245308),(32,98,-2.75559251686148),(32,99,-0.172872096926786),(32,104,-0.230109561449019),(32,106,1.00157170323801),(32,109,-0.260231330301828),(32,116,-1.36667989135411),(32,118,-0.619022186956389),(33,96,-2.2466048158208),(33,98,1.68486587115085),(33,108,1.71504867702261),(33,110,2.46349986266671),(33,111,-2.16983550523392),(33,114,-2.20844141972106),(34,85,1.25943784905545),(34,90,-2.36889248329112),(34,99,-1.86539811395611),(34,104,-0.581499679555651),(34,109,-1.44077883236183),(35,86,-1.21346171452986),(35,87,1.05989257484664),(35,97,-2.17348246711631),(35,98,-2.48066652424696),(35,100,1.19161046174505),(35,104,-0.0119785149693289),(35,107,1.02569658497879),(35,109,-1.87916196172979),(35,110,-3.0341349528489),(35,112,2.36144596697897),(36,85,1.01029999694815),(36,87,-0.227805413983581),(36,90,-1.92349009674368),(36,91,-1.08870204779199),(36,104,-0.0519730216376233),(36,107,-1.42136906033509),(36,109,1.67758720664083),(36,112,1.19217505417035),(36,115,-1.69594409009064),(36,117,-0.513595995971557),(36,118,-0.548600726340525),(37,85,3.09543137913144),(37,86,-2.46809289834284),(37,87,-1.49827570421461),(37,91,-1.03709524826807),(37,99,0.0836207159642324),(37,105,-1.08145390179144),(37,111,2.68718527787103),(37,112,-0.919125949888607),(37,118,0.787575914792322),(38,87,0.266365550706503),(38,90,2.45887630848109),(38,103,0.444486831263161),(38,105,2.30237739188818),(38,106,1.80838953825495),(38,111,-1.02786339915159),(38,115,-1.98774681844539),(39,87,-2.52108829004791),(39,89,-0.284783471175268),(39,91,-3.17154454176458),(39,94,-1.16756187627796),(39,97,2.63029877620777),(39,98,-2.0787072359386),(39,107,1.05932798242134),(39,108,-1.24477370525224),(39,109,1.19895016327403),(39,111,0.357997375408185),(39,113,-0.454924161503952),(39,116,-0.793603320413831),(39,118,1.19927060762352),(40,88,0.82876064333018),(40,92,0.118015076143681),(40,99,2.8221839045381),(40,104,-0.312234870448927),(40,110,-1.11197241126743),(40,116,0.300119022186956),(40,118,-0.267860957670827),(41,88,-1.4984740745262),(41,93,-2.51976073488571),(41,96,-3.36625263222144),(41,97,1.58125553147984),(41,100,-0.668691061128574),(41,101,-0.295953245643483),(41,104,1.66803491317484),(41,105,-0.971755119479965),(41,106,1.72286141544847),(41,107,-0.636570329905087),(41,109,0.507187108981597),(41,110,1.14740440076907),(41,111,-0.946714682454909),(41,112,-1.86233100375378),(42,85,-1.16980498672445),(42,86,-1.72510452589496),(42,87,-1.66855372783593),(42,99,-1.34896389660329),(42,100,-0.950025940733055),(42,103,-1.94962920010987),(42,109,-2.53193762016663),(42,113,1.66937772759178),(43,85,0.70143742179632),(43,88,1.09787285988952),(43,89,-1.8480025635548),(43,93,-0.719519638660848),(43,97,-1.12077700125126),(43,98,2.30915250099185),(43,101,0.206335642567217),(43,102,0.0509506515701773),(43,103,2.5987884151738),(43,105,1.55693227942747),(43,110,-1.3577227088229),(43,112,-0.351832636494034),(43,114,-0.772316660054323),(43,116,1.48249763481552),(44,89,1.38370921964171),(44,98,-1.42103335673086),(44,99,-1.05258339182714),(45,87,0.505111850337229),(45,88,3.02208014160588),(45,90,-0.0207068086794641),(45,91,-1.37684255500961),(45,95,0.344508194219794),(45,98,0.951918088320566),(45,108,-2.19687490462966),(45,109,-0.537003692739647),(45,112,-0.729300820947905),(45,115,-1.11944944608905),(46,85,0.857646412549211),(46,89,1.75385296182134),(46,91,-0.0403302102725303),(46,94,1.55024872585223),(46,97,0.121326334421827),(46,100,0.201422162541581),(46,101,0.728598895229957),(46,108,-0.597796563615833),(46,112,1.23184911648915),(47,86,2.37652211066012),(47,91,-1.89353617969298),(47,92,-0.931562242500076),(47,94,-2.81173131504257),(47,95,0.0600146488845484),(47,100,1.46517838068789),(47,101,-0.652974028748436),(47,104,0.351512192144536),(47,105,-0.512634662923063),(47,108,-1.16647846919156),(47,112,1.98228400524918),(47,114,-1.84295175023652),(47,118,0.159642323068941),(48,86,0.776696066164128),(48,91,-1.57161168248543),(48,98,1.75519577623829),(48,99,1.92858668782617),(48,100,0.365443891720328),(48,103,1.05726798303171),(48,105,1.89387188329722),(48,106,-2.12331003753777),(48,111,-2.05058442945647),(48,115,1.95037690359203),(49,87,1.06012146366771),(49,89,-1.76041444135868),(49,93,-0.0527512436292611),(49,94,0.374263740958892),(49,95,-1.32332834864345),(49,102,0.915112765892514),(49,113,1.58500930814539),(49,114,1.29946287423322),(50,89,1.28768272957549),(50,105,1.31035798211615),(50,107,-0.949034089175085),(51,87,-1.94029053621021),(51,92,-0.48033082064272),(51,97,-1.18733787041841),(51,98,-1.55757316812647),(51,103,-2.93102816858425),(51,106,-0.0081179235206153),(51,112,2.42857142857143),(51,118,0.021713919492172),(52,89,2.22399060029908),(52,97,-1.02298043763543),(52,106,0.00445570238349546),(52,110,-1.09273049104282),(52,111,0.175679799798578),(52,113,-1.32332834864345),(52,114,0.109042634357738),(52,118,1.85599841303751),(53,88,-1.99748222296823),(53,90,-0.367442854091006),(53,92,1.51632740256966),(53,94,1.99063081759087),(53,104,-0.854472487563707),(53,105,-2.13798944059572),(53,109,0.631488998077334),(54,85,-0.162022766808069),(54,91,-2.67696157719657),(54,94,-0.964247566148869),(54,96,2.21727652821436),(54,111,1.08969389934996),(54,112,-0.777275917844172),(54,113,-1.47653126621296),(54,118,-1.90008239997559),(55,87,0.825281533249916),(55,95,0.982085634937589),(55,107,0.340418713950011),(55,110,0.991180150761437),(55,117,1.90108951078829),(56,107,-1.55955687124241),(56,111,-1.93644520401624),(56,113,-1.07890560625019),(56,114,2.06697286904508),(57,87,1.57527390362255),(57,90,-1.62125003814814),(57,91,-0.861919003875851),(57,92,-1.58302560502945),(57,93,-1.1633198034608),(57,94,2.84511856440931),(57,95,0.0495162816248055),(57,96,-1.40079958494827),(57,100,-1.67720572527238),(57,102,0.265739921262245),(57,103,-2.17474898525956),(57,115,-1.86756492812891),(58,86,-0.930585650196844),(58,87,-1.47389141514328),(58,89,-0.220328379161962),(58,90,-1.72804956205939),(58,95,-0.0522629474776452),(58,96,-0.476989043855098),(58,101,2.14688558610797),(58,103,-1.01802117984558),(58,109,1.84601886043886),(58,110,2.4490798669393),(58,113,-0.702780236213263),(58,114,-2.76372569963683),(58,115,-2.2991729483932),(58,118,1.1462141788995),(59,85,-1.17128513443403),(59,86,-0.789513840144047),(59,90,-1.41325113681448),(59,91,-0.769264809106723),(59,93,-1.168782616657),(59,97,1.62337107455672),(59,98,1.86031678212836),(59,100,-1.81727042451247),(59,102,1.31414227729118),(59,112,-0.351130710776086),(59,114,-1.52458265938292),(60,85,-1.77364421521653),(60,87,1.3269600512711),(60,90,1.24394970549638),(60,91,-0.951628162480544),(60,96,0.577501754814295),(60,100,2.1905880916776),(60,101,1.29541917172765),(60,105,0.623416852320933),(60,107,1.11227759636219),(60,109,1.84249397259438),(60,110,1.65256202887051),(60,114,1.39652699362163),(61,89,1.38151188695944),(61,94,1.67024750511185),(61,96,-0.35232093264565),(61,98,0.780251472518082),(61,100,-2.15137180700095),(61,102,-1.27225562303537),(61,103,0.849620044557024),(61,114,0.929898983733634),(61,115,-0.645023957029939),(62,93,-0.738532670064394),(62,95,-1.35645619067965),(62,107,-2.53193762016663),(62,109,0.232825708792383),(62,110,1.72408215582751),(62,111,0.010605182042909),(63,87,0.754921109653005),(63,90,2.293710135197),(63,93,2.13365581225013),(63,97,-2.55272072511978),(63,100,0.169530320139164),(63,103,-1.48144474623859),(63,104,-2.12451551866207),(63,108,-0.938367870113224),(63,111,-0.342646565141758),(63,114,-0.37023529770806),(63,117,-0.0565355388042847),(64,87,-0.423078096865749),(64,94,2.06804101687674),(64,99,2.63808099612415),(64,110,-1.33593249305704),(64,112,-2.03656117435224),(64,116,1.11459700308237),(65,87,0.0906247138889736),(65,88,-0.52088991973632),(65,90,-1.15512558366649),(65,97,-0.359294412060915),(65,99,-2.87803277687918),(65,107,-1.10106204412976),(65,110,1.89156773583178),(65,111,-0.623737296670431),(65,114,0.271172215948973),(65,116,1.43517868587298),(65,117,0.704077272865993),(66,85,-2.1021607104709),(66,102,-2.87954344309824),(66,105,0.721243934446242),(66,108,-0.392071291238136),(66,111,1.19595934934538),(66,115,0.435773796807764),(66,118,-0.663167210913419),(67,86,1.38328196050905),(67,90,-2.01448103274636),(67,92,0.521332438123722),(67,104,-0.378917813653981),(67,109,-0.117633594775231),(67,111,-0.372646259956664),(68,87,1.90554521317179),(68,88,0.742362743003632),(68,90,0.687582018494217),(68,93,2.18771935178686),(68,95,0.440305795464949),(68,96,-0.548432874538407),(68,97,-0.0634022034363842),(68,103,-0.293664357432783),(68,107,2.77829828791162),(68,112,0.273522141178625),(68,114,-1.16768395031587),(69,87,-2.08105716116825),(69,88,1.8137913144322),(69,92,-0.465971861934263),(69,94,2.46659749137852),(69,95,-0.479598376415296),(69,97,-0.573824274422437),(69,108,0.566805017242958),(69,113,1.26383251442),(69,114,0.416531876583148),(69,118,1.586138492996),(70,85,0.250022888882107),(70,86,0.436323129978332),(70,87,1.20236823633534),(70,90,-0.274758140812403),(70,96,-0.0933866389965514),(70,97,-2.17253639332255),(70,99,-0.848292489394818),(70,105,0.123065889461959),(70,107,0.283181249427778),(70,109,0.803933835871456),(70,110,1.6683400982696),(70,111,2.191671498764),(71,85,0.417615283669546),(71,93,-1.21478926969207),(71,96,-0.957594531083102),(71,100,-0.524811548203986),(71,104,-0.487304300057985),(71,106,-1.03714102603229),(71,111,-2.18169194616535),(71,113,0.701162755211036),(72,94,0.15507980590228),(72,96,0.896237067781609),(72,99,0.0773033845027009),(72,110,-1.75659962767418),(72,112,0.513199255348369),(72,114,-0.00381481368449954),(72,115,-0.167516098513749),(72,116,0.305169835505234),(73,88,0.319437238685263),(73,94,1.33312479018525),(73,99,-0.242194891201514),(73,100,0.934171575060274),(73,106,2.26653340250862),(73,110,-0.271324808496353),(73,115,0.10361033967101),(74,90,-0.443586535233619),(74,94,-1.04510635700552),(74,99,-1.35128330332347),(74,102,-2.00576799829096),(74,106,-0.0269478438673055),(74,107,0.142490920743431),(74,110,-0.783425397503586),(74,113,-2.49468977935118),(74,116,-1.1117587817011),(75,85,-0.770744956816309),(75,86,-0.994689779351177),(75,93,0.317331461531419),(75,98,2.19226660969878),(75,103,-0.296945097201453),(75,105,1.33976256599628),(75,111,0.119602038636433),(75,117,-1.70409253212073),(76,86,-0.136051515243995),(76,89,1.82888271736808),(76,92,-1.66098513748589),(76,94,0.0993682668538469),(76,99,0.65866573076571),(76,101,-0.614932706686605),(76,103,-1.17015594958342),(76,106,1.15901669362468),(76,110,1.44956816309091),(76,113,-1.19434186834315),(77,88,-0.444517349772637),(77,91,-0.789513840144047),(77,93,2.93581957457198),(77,98,-0.688039796136357),(77,101,-0.0353556932279427),(77,102,1.8025452436903),(77,103,2.0669423505356),(77,104,-2.61920529801325),(77,105,0.496017334513382),(77,109,1.13466292306284),(78,88,-2.2935117648854),(78,93,-0.140385143589587),(78,94,-0.0481582079531236),(78,101,-0.941343424787133),(78,104,2.36263618884854),(78,110,-1.28128910184027),(78,114,1.56642353587451),(78,116,-0.32204657124546),(78,117,-2.39764091921751),(78,118,2.69318216498306),(79,87,0.577043977172155),(79,92,-0.119510483108005),(79,94,2.10959196752831),(79,107,1.9522537919248),(79,108,0.744819483016449),(79,114,0.610309152500992),(79,118,-0.00216681417279581),(80,87,-1.29947813348796),(80,88,-0.672261726737266),(80,91,0.986770226142155),(80,99,-0.0851313821832941),(80,101,2.15294351023896),(80,107,-0.82769249549852),(80,113,1.0911587878048),(81,85,2.26996673482467),(81,86,-0.021469771416364),(81,90,-0.653187658314768),(81,93,0.265053254799036),(81,96,1.63571581163976),(81,97,0.0286263618884853),(81,106,0.494964445936461),(81,107,0.137028107547227),(81,110,-2.73566393017365),(81,115,-0.155522324289682),(82,86,1.99087496566668),(82,92,-0.660878322702719),(82,110,-1.72756126590777),(82,112,0.229148228400525),(83,87,2.13499862666707),(83,91,1.0355388042848),(83,93,1.37038789025544),(83,101,0.0939817499313334),(83,103,1.09733878597369),(83,105,-1.43818475905637),(83,108,2.22437208166753),(84,85,-0.670567949461348),(84,86,1.28887295144505),(84,89,0.171330912198248),(84,95,0.295892208624531),(84,99,-0.448118533890805),(84,104,0.820337534714805),(84,111,1.78601947080905),(84,113,2.14261299478134),(84,114,0.900204474013489)]
orgname='BHNEAT_3_13'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()