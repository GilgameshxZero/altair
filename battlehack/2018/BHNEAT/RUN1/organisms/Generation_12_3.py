edge = [(0,85,0.554628131962035),(0,89,0.71462141788995),(0,90,-1.8664357432783),(0,93,-1.81019013031404),(0,98,2.18158513138218),(0,101,-1.75377666554765),(0,105,-1.93298135319071),(0,108,0.373622852259896),(0,113,1.8434247871334),(0,114,2.15286721396527),(0,117,-0.303353984191412),(0,118,2.2290566728721),(1,86,-0.277626880703146),(1,92,2.36504715109714),(1,98,-0.420468764305551),(1,102,-1.80658894619587),(1,104,1.54319895016327),(1,107,-1.22103030487991),(1,108,0.856578264717551),(1,109,-2.06367687002167),(1,113,2.33904538102359),(2,87,-1.36078981902524),(2,88,-0.87153233436079),(2,100,0.341471602526933),(2,106,-0.680059205908383),(2,108,-1.69823297830134),(2,110,-2.75507370220038),(2,113,2.22513504440443),(2,118,2.1151310769982),(3,89,-0.682607501449629),(3,92,2.69312112796411),(3,97,1.33449812311167),(3,99,-0.311075167088839),(3,101,1.5068666646321),(3,103,-0.539399395733512),(3,105,2.91645558030946),(3,108,0.62556840723899),(3,109,-2.84438612018189),(3,111,-1.16005432294687),(3,112,0.382457960753197),(3,116,-1.21216467787713),(4,90,-3.03329569383831),(4,91,1.89651173436689),(4,97,-0.469786675618763),(4,99,-0.970900601214637),(4,101,-1.00004577776421),(4,108,1.78380687887204),(4,113,0.345896786400952),(4,118,0.720603045747246),(5,86,1.33359782708213),(5,87,1.05430768761254),(5,89,0.404782250434889),(5,92,0.88753929258095),(5,93,-0.514023255104221),(5,99,-0.942823572496719),(5,104,0.977675710318308),(5,114,2.02620014038514),(5,118,0.773598437452315),(6,89,-2.43649098178045),(6,92,-0.335093234046449),(6,94,2.05465865047151),(6,100,1.71611682485427),(6,101,-0.606723227637562),(6,103,0.986236152226325),(6,107,-1.33683278908658),(6,110,-0.455153050325022),(6,113,0.718909268471328),(7,85,2.72164067506943),(7,86,-1.21533860286264),(7,90,-0.531113620410779),(7,95,2.60953093050935),(7,99,2.52064577166051),(7,100,2.24858851893674),(7,104,-0.422132023071993),(7,106,-1.07097079378643),(7,108,-1.85210730307932),(7,112,-0.547029023102512),(7,116,-1.04380932035279),(8,92,1.65521713919492),(8,93,-2.26659443952757),(8,95,0.899090548417615),(8,99,-1.55772576067385),(8,106,0.106753746147038),(8,107,-0.276818140202033),(8,115,-0.541276284066286),(8,116,0.0698416089358196),(8,118,0.660496841334269),(9,85,1.00030518509476),(9,87,-2.37849055452132),(9,98,-1.51733451338237),(9,101,1.11000396740623),(9,103,-0.667897579882199),(9,105,-1.06817835016938),(9,106,3.08058412427137),(9,113,-2.7122714926603),(10,89,-1.72608111819819),(10,96,-0.919095431379132),(10,106,-1.22817163609729),(10,108,1.39312417981506),(10,109,2.89184240241707),(10,111,-1.24481948301645),(10,112,-1.88100833155309),(10,114,-0.258735923337504),(10,115,2.65781121250038),(10,116,-0.32151249732963),(10,117,1.70426038392285),(11,89,0.0822626422925505),(11,97,-0.873500778221992),(11,105,0.965117343668935),(11,112,-1.0226905117954),(11,115,0.579851680043947),(12,92,-1.33368938261055),(12,93,0.0158238471633045),(12,94,-0.204245124668111),(12,97,0.0042268135624256),(12,98,1.9116946928312),(12,99,1.33364360484634),(12,108,2.02522354808191),(12,116,1.20244453260903),(13,86,-1.15157017731254),(13,87,-1.8895687734611),(13,90,-0.359324930570391),(13,99,-2.04922635578478),(13,102,3.04612872707297),(13,104,0.980880153813288),(13,113,0.223075045014801),(13,116,-2.5974608600116),(13,118,-0.333948789941099),(14,90,0.954283272804956),(14,93,0.0358897671437727),(14,95,-1.50257881405072),(14,102,2.4012115848262),(14,104,-0.261772515030366),(14,106,2.47163304544206),(14,109,1.90957365642262),(14,110,-1.72629474776452),(14,111,2.16457106234932),(15,85,-0.0465102084414197),(15,92,0.665578173162023),(15,99,-0.385341959898678),(15,101,0.183950315866573),(15,104,-1.6909085360271),(15,108,-0.0536515396588031),(15,117,-0.609393597216712),(16,86,-0.590914639728996),(16,87,-0.914349803155614),(16,88,1.99798577837458),(16,90,1.90943632312998),(16,91,-0.613040559099094),(16,95,-1.03149510177923),(16,97,-1.29242835779901),(16,98,-1.74828333384198),(16,99,1.64760277108066),(16,101,-0.381359294412061),(16,108,1.78470717490158),(16,110,-0.550157170323802),(17,89,-2.17860957670827),(17,96,0.877666554765465),(17,99,-2.85026093325602),(17,101,0.61177404095584),(17,106,2.12617877742851),(17,107,-1.71501815851314),(17,109,-2.94769127475814),(18,90,0.486510818811609),(18,91,-2.25531785027619),(18,93,-1.54017761772515),(18,99,2.18596453749199),(18,102,0.80321665089877),(18,103,-2.05424665059358),(18,104,-0.846812341685232),(18,110,-0.436216315195166),(18,111,1.02349925229652),(18,116,-1.66280098879971),(18,117,2.74575029755547),(18,118,-2.04423657948546),(19,87,-2.65990173039949),(19,89,-0.102587969603565),(19,93,-1.39194921720023),(19,95,0.294885097811823),(19,101,-1.64893032624287),(19,105,-1.04412976470229),(19,115,-2.39735099337748),(20,88,-1.46981719412824),(20,101,-0.0915097506637776),(20,103,1.8162785729545),(20,104,-2.08812219611194),(20,105,0.36909085360271),(20,106,2.12883388775292),(20,111,1.92823572496719),(20,116,-2.1320383312479),(21,86,-0.553300576799829),(21,87,0.811243018890957),(21,94,-0.530472731711783),(21,96,0.141605883968627),(21,101,1.62872707296976),(21,102,1.2523880733665),(21,105,-0.220786156804102),(21,107,0.158818323313089),(21,108,0.364589373455001),(22,86,-1.34842982268746),(22,88,-0.36779381694998),(22,91,-0.075594347972045),(22,92,0.00921658986175117),(22,93,0.265678884243294),(22,98,-1.52034058656575),(22,106,1.05545213171789),(22,115,-1.7160863063448),(22,117,-0.698416089358196),(23,85,-1.31434064760277),(23,86,-1.36915189062166),(23,88,0.835200048829615),(23,90,0.0158238471633045),(23,97,-0.406262398144475),(23,104,1.47143467513047),(23,112,-1.05075228125858),(23,114,-0.838404492324595),(23,115,-1.06651509140294),(23,116,0.163182470168157),(24,89,-0.607287820062868),(24,90,-2.65729239783929),(24,91,-1.49557481612598),(24,101,-0.261940366832484),(24,107,-1.81778923917356),(24,108,-0.819696646015809),(24,110,2.72513504440443),(24,112,-0.798852504043703),(25,90,0.946180608539079),(25,92,-1.67772453993347),(25,94,0.641468550675985),(25,98,-0.442793053987243),(25,105,2.05590990936003),(25,108,-0.32853175450911),(25,109,-0.256797997985778),(25,115,-1.4595629749443),(26,85,6.10370189519926e-05),(26,87,-1.92020935697501),(26,89,1.23584704123051),(26,95,2.80410168767357),(26,98,1.72461622974334),(26,100,-0.0782036805322428),(26,101,1.23566393017365),(26,102,-1.16890469069491),(26,103,1.3481246375927),(26,104,1.37163914914396),(26,107,0.145176549577319),(26,109,1.77268288216803),(26,112,-2.19914853358562),(26,113,0.0186315500350963),(26,117,-2.90397350993377),(27,85,0.565431684316538),(27,87,1.62184514908292),(27,94,1.89460432752464),(27,100,-0.418836024048586),(27,102,-3.02087466048158),(27,103,1.8961912900174),(27,104,-1.9908444471572),(27,105,-0.554536576433607),(27,108,-3.05207983642079),(27,110,-0.800439466536454),(27,114,-2.52801599169897),(28,87,-0.010055848872341),(28,88,0.82280953398236),(28,97,-2.07525864436781),(28,99,-1.07678456984161),(28,104,2.15669728690451),(28,113,-0.979018524735252),(28,114,-1.02360606707968),(29,88,1.53428754539628),(29,91,1.96984771263771),(29,102,1.88038270210883),(29,105,0.644840845973083),(29,116,-0.0643482772301401),(30,95,0.0533005767998291),(30,96,0.50007629627369),(30,99,-0.176183355204932),(30,101,0.0422986541337321),(30,104,1.66447950682089),(30,109,-1.68611713003937),(30,110,0.726523636585589),(30,114,0.111423078096866),(30,118,2.49583422345653),(31,85,0.467528305917539),(31,92,-1.93148594622639),(31,94,-0.717200231940672),(31,96,-1.07788323618274),(31,99,-0.263374736777856),(31,103,-0.295205542161321),(31,107,-0.347224341563158),(31,108,-0.301965392010254),(31,109,-0.488265633106479),(31,111,-1.59193700979644),(31,112,-2.37434003723258),(31,117,-0.639179662465285),(32,86,-2.53868221076083),(32,87,2.60138248847926),(32,89,-1.25685903500473),(32,92,-1.70175786614582),(32,98,-0.17787713248085),(32,99,-2.1954863124485),(32,104,1.32560197759941),(32,106,-1.35622730185858),(32,109,0.576052125614185),(32,116,-2.29578539384136),(32,118,-0.944074831385235),(33,96,2.16838587603381),(33,98,-1.17348246711631),(33,108,1.58586382641072),(33,110,1.21452986236152),(33,111,-1.66901150547807),(33,114,-2.82134464552751),(34,85,1.55459761345256),(34,90,-1.06881923886837),(34,99,0.482650227362896),(34,104,-0.627826776940214),(34,109,-1.00187688833277),(35,86,-0.166020691549425),(35,87,-1.62483596301157),(35,97,0.879543443098239),(35,98,1.70438245796075),(35,100,-0.734870448927274),(35,104,3.02671895504624),(35,107,-0.522614215521714),(35,109,-2.22099978637043),(35,110,-1.7478102969451),(35,112,1.14116336558122),(36,85,-0.584978789635914),(36,87,-0.347102267525254),(36,90,0.226371044038209),(36,91,2.36739707632679),(36,104,1.50799584948271),(36,107,0.369365520187994),(36,109,-0.311441389202551),(36,112,-0.688177129428999),(36,115,-0.812784203619495),(36,117,-1.48522904141362),(36,118,-0.00425733207190149),(37,85,2.16800439466536),(37,86,1.38546403393658),(37,87,0.124515518662069),(37,91,2.02398754844813),(37,99,1.70245979186377),(37,105,0.139210180974761),(37,111,-0.646290475173192),(37,112,-1.18301950132756),(37,118,-2.41946165349284),(38,87,2.21692556535539),(38,90,2.38340403454695),(38,103,-0.880733664967803),(38,105,0.231604968413343),(38,106,2.08113345744194),(38,111,-1.54228339487899),(38,115,1.78954435865352),(39,87,0.311227759636219),(39,89,1.47991882076479),(39,91,-2.08800012207404),(39,94,1.55282753990295),(39,97,-0.00546281319620351),(39,98,-0.764000366222114),(39,107,-2.5254982146672),(39,108,1.14136173589282),(39,109,-0.19380779442732),(39,111,-2.28325754570147),(39,113,1.25376140629292),(39,116,-2.068025757622),(39,118,-2.10222174748985),(40,88,0.25975829340495),(40,92,1.81432538834803),(40,99,-1.0321665089877),(40,104,-2.51528977324747),(40,110,-0.952696310312204),(40,116,0.429944761497848),(40,118,-0.718024231696524),(41,88,0.598773155919065),(41,93,3.12144840845973),(41,96,-2.46447645496994),(41,97,-0.525070955534532),(41,100,-0.161671803949095),(41,101,2.40719321268349),(41,104,2.46121097445601),(41,105,-1.05008087405011),(41,106,-2.24230170598468),(41,107,1.15779595324564),(41,109,2.79555650502029),(41,110,2.3714560380871),(41,111,0.621341593676565),(41,112,-1.24391918698691),(42,85,1.09327982421339),(42,86,1.21658986175115),(42,87,0.228782006286813),(42,99,0.471358378856777),(42,100,-0.849208044679098),(42,103,1.37287514877773),(42,109,-0.354747154148991),(42,113,-0.922162541581469),(43,85,2.11810663167211),(43,88,-0.362636188848537),(43,89,-1.84513382366405),(43,93,0.600329599902341),(43,97,0.114200262459181),(43,98,0.314905240028077),(43,101,1.20444349497971),(43,102,1.10333567308573),(43,103,2.23784600360118),(43,105,-1.66692098757897),(43,110,2.06604205450606),(43,112,-1.37766655476547),(43,114,-2.97210608233894),(43,116,-1.7375713370159),(44,89,2.29056672872097),(44,98,2.33336893826106),(44,99,1.47512741477706),(45,87,0.125064851832636),(45,88,1.23632007812738),(45,90,-0.213003936887722),(45,91,2.15324869533372),(45,95,-0.926664021729179),(45,98,1.07513657032991),(45,108,-2.16814172795801),(45,109,2.63745536667989),(45,112,0.691000091555528),(45,115,0.389477217932676),(46,85,-2.46473586230049),(46,89,-1.62939848017823),(46,91,0.0468001342814417),(46,94,-1.2797784356212),(46,97,-1.12240974150823),(46,100,0.669209875789667),(46,101,-2.47534104434339),(46,108,1.42628254036073),(46,112,1.48454237495041),(47,86,1.58073671681875),(47,91,-1.639545884579),(47,92,-0.562852870265816),(47,94,1.55334635456404),(47,95,-0.420239875484481),(47,100,1.43118076113163),(47,101,0.749458296456801),(47,104,-1.58726767784661),(47,105,-0.053880428479873),(47,108,1.91106906338694),(47,112,1.44175542466506),(47,114,1.13025299844356),(47,118,2.50494399853511),(48,86,-0.704870754112369),(48,91,-3.05252235480819),(48,98,-1.50073244422742),(48,99,2.16960661641285),(48,100,-1.84871974852748),(48,103,-1.26868495742668),(48,105,-2.51245155186621),(48,106,-1.12067018646809),(48,111,0.700384533219398),(48,115,-1.47244178594317),(49,87,0.342143009735405),(49,89,1.78461561937315),(49,93,-0.837382122257149),(49,94,0.619525742362743),(49,95,-1.88590655232398),(49,102,2.71036408581805),(49,113,2.65593432416761),(49,114,1.74356822412793),(50,89,2.18399609363079),(50,105,3.38581499679556),(50,107,-0.206884975737785),(51,87,-0.635868404187139),(51,92,1.23183385723441),(51,97,3.17952513199255),(51,98,-1.49247718741417),(51,103,-1.84437086092715),(51,106,0.182546464430677),(51,112,1.40690328684347),(51,118,2.27390362254708),(52,89,-0.158345286416211),(52,97,-0.93275246436964),(52,106,-1.52172917874691),(52,110,-2.73888363292337),(52,111,0.622379222998749),(52,113,-0.742271187475204),(52,114,0.164815210425123),(52,118,0.0557420575579089),(53,88,0.880642109439375),(53,90,-3.03651539658803),(53,92,-1.44346446119572),(53,94,-0.469603564561907),(53,104,-1.91933957945494),(53,105,-1.27332377086703),(53,109,-1.82204657124546),(54,85,2.15671254615925),(54,91,-1.46450697347941),(54,94,2.81173131504257),(54,96,-1.79120761741997),(54,111,1.37577440717795),(54,112,-1.1959288308359),(54,113,0.203436384166997),(54,118,-0.836039307840205),(55,87,-1.54200872829371),(55,95,-2.26454969939268),(55,107,0.022278511917478),(55,110,-0.665913876766259),(55,117,0.150700399792474),(56,107,1.99273659474471),(56,111,0.0289773247474594),(56,113,0.687994018372143),(56,114,-2.42857142857143),(57,87,-0.771263771477401),(57,90,2.37543870357372),(57,91,0.238654744102298),(57,92,0.7218695638905),(57,93,-1.75273903622547),(57,94,0.0449842829676199),(57,95,2.52966399121067),(57,96,-0.415005951109348),(57,100,-1.02951139866329),(57,102,0.995513779107028),(57,103,2.00621051667837),(57,115,0.889919736320078),(58,86,2.92506179998169),(58,87,0.50328073976867),(58,89,0.856440931424909),(58,90,-0.916776024658956),(58,95,-0.535843989379559),(58,96,1.71880245368816),(58,101,1.22678304391613),(58,103,-1.47486800744652),(58,109,-0.986968596453749),(58,110,1.2810602130192),(58,113,-1.50619525742363),(58,114,0.735953856013672),(58,115,-2.262550737022),(58,118,-0.848948637348552),(59,85,2.11778618732261),(59,86,2.82876064333018),(59,90,0.28675191503647),(59,91,0.602130191961425),(59,93,-0.618335520493179),(59,97,-0.657307657094027),(59,98,1.68778038880581),(59,100,-1.59309671315653),(59,102,1.42196417126988),(59,112,-1.28704184087649),(59,114,1.3656727805414),(60,85,-1.89843440046388),(60,87,0.930143131809443),(60,90,0.526551103244118),(60,91,-0.625095370342112),(60,96,2.66309091463973),(60,100,1.20918912320322),(60,101,-2.56620990630818),(60,105,-0.524613177892392),(60,107,-1.15317239906003),(60,109,0.505890072328868),(60,110,-0.943159276100955),(60,114,-2.41349528489029),(61,89,0.377636036255989),(61,94,-1.63908810693686),(61,96,0.0182195501571704),(61,98,0.247886593218787),(61,100,-1.3616595965453),(61,102,2.16597491378521),(61,103,-1.46557512131108),(61,114,1.39104892117069),(61,115,0.906399731437117),(62,93,-2.4220557267983),(62,95,-3.10342722861415),(62,107,-2.66403698843349),(62,109,-3.31153294473098),(62,110,0.638981292153691),(62,111,-0.284340952787866),(63,87,1.14455092013306),(63,90,1.22054200872829),(63,93,-2.05145420697653),(63,97,-1.06697286904508),(63,100,0.170644245735038),(63,103,-0.432233649708548),(63,104,-2.0789513840144),(63,108,-0.917706839197973),(63,111,0.541306802575762),(63,114,-1.28510391552477),(63,117,-2.09247108371227),(64,87,-2.13301492355113),(64,94,0.339686269722587),(64,99,0.800714133121738),(64,110,0.065370647297586),(64,112,-1.48742637409589),(64,116,-1.83342997528001),(65,87,-0.869502853480636),(65,88,-2.06109805597095),(65,90,0.629520554216132),(65,97,0.37244788964507),(65,99,-2.39324625385296),(65,107,1.0057832575457),(65,110,-0.0599078341013825),(65,111,0.643147068697165),(65,114,-2.53309732352672),(65,116,0.718848231452376),(65,117,-0.485549485763115),(66,85,0.411282692953276),(66,102,2.37340922269356),(66,105,0.905972472304453),(66,108,0.608401745658742),(66,111,0.151097140415662),(66,115,-0.469237342448195),(66,118,0.647129734183783),(67,86,2.65256202887051),(67,90,1.07179479354228),(67,92,2.3859523300882),(67,104,-1.12572099978637),(67,109,-0.182103946043275),(67,111,0.95440534684286),(68,87,1.56485183263649),(68,88,2.79879146702475),(68,90,0.904812768944365),(68,93,-0.7421491134373),(68,95,0.139027069917905),(68,96,-1.87955870235298),(68,97,0.423169652394177),(68,103,-0.525986510818812),(68,107,0.152821436201056),(68,112,-1.86040833765679),(68,114,0.725516525772881),(69,87,-1.50744651631214),(69,88,-0.910000915555284),(69,92,2.46627704702902),(69,94,1.20787682729575),(69,95,1.26888332773827),(69,97,-0.210974456007569),(69,108,-2.98968474379711),(69,113,-2.55000457777642),(69,114,0.905514694662313),(69,118,2.33220923490097),(70,85,-0.357799005096591),(70,86,1.25188451796014),(70,87,1.20551164281137),(70,90,0.739188818018128),(70,96,2.3947874385815),(70,97,-0.334727011932737),(70,99,-1.02679525131993),(70,105,0.446745200964385),(70,107,0.750511185033723),(70,109,1.21457564012574),(70,110,-2.00476088747826),(70,111,-0.391308328501236),(71,85,0.579943235572375),(71,93,0.767326883754998),(71,96,-0.831385235145116),(71,100,-0.132023071993164),(71,104,0.467696157719657),(71,106,2.36365855891598),(71,111,1.33217871639149),(71,113,-0.0985747856074709),(72,94,-1.24504837183752),(72,96,-0.502243110446486),(72,99,1.84871974852748),(72,110,1.48686178167058),(72,112,0.516571550645466),(72,114,1.52282784508805),(72,115,-1.42178106021302),(72,116,-0.620303964354381),(73,88,1.80964079714347),(73,94,0.381542405468917),(73,99,-0.311136204107791),(73,100,1.52037110507523),(73,106,1.05121005890072),(73,110,0.158848841822565),(73,115,-1.97553941465499),(74,90,-0.273827326273385),(74,94,-0.730185857722709),(74,99,0.570543534653768),(74,102,-0.518723105563524),(74,106,-0.667043061616871),(74,107,1.73607593005158),(74,110,0.748863185522019),(74,113,1.26059755241554),(74,116,-0.316232795190283),(75,85,-0.140415662099063),(75,86,1.52348399304178),(75,93,0.0164342173528245),(75,98,-1.86339915158544),(75,103,-0.815424054689169),(75,105,0.606067079683828),(75,111,-1.49391155735954),(75,117,0.0940580462050233),(76,86,1.0232093264565),(76,89,0.451857051301614),(76,92,0.0148014770958586),(76,94,-0.406811731315043),(76,99,1.90417188024537),(76,101,-0.589159825434126),(76,103,0.913647877437666),(76,106,0.748832667012543),(76,110,-1.22194586016419),(76,113,1.9975890377514),(77,88,1.70715964232307),(77,91,-0.11162144840846),(77,93,-1.44924771874142),(77,98,-0.919248023926512),(77,101,-0.838221381267739),(77,102,0.207037568285165),(77,103,-1.71384319589831),(77,104,0.590075380718406),(77,105,1.74750511185034),(77,109,0.143925290688803),(78,88,-1.21364482558672),(78,93,0.661275063325907),(78,94,2.05262916959136),(78,101,-0.905148472548601),(78,104,1.16985076448866),(78,110,0.102923673207801),(78,114,0.589846491897336),(78,116,-2.05030976287118),(78,117,-0.962950529496139),(78,118,2.9846186712241),(79,87,0.894375438703574),(79,92,0.242164372692038),(79,94,-2.01890621662038),(79,107,-1.66844691305277),(79,108,2.27867976928007),(79,114,0.841883602404859),(79,118,-0.766228217413861),(80,87,-0.158558915982543),(80,88,-2.06480605487228),(80,91,-1.5100405896176),(80,99,2.07238990447707),(80,101,-0.0465865047151097),(80,107,1.47280800805689),(80,113,0.243079927976318),(81,85,0.775856807153539),(81,86,-0.728797265541551),(81,90,0.772026734214301),(81,93,2.03961302529984),(81,96,0.685506759849849),(81,97,-0.780907620471816),(81,106,-1.69835505233924),(81,107,0.0358439893795587),(81,110,-0.723746452223273),(81,115,-0.515396588030641),(82,86,-1.65427106540117),(82,92,-0.445631275368511),(82,110,0.669743949705496),(82,112,-0.775170140690329),(83,87,-0.97460860011597),(83,91,0.293450727866451),(83,93,-2.19286172063356),(83,101,-0.454908902249214),(83,103,0.226752525406659),(83,105,-0.959044160283212),(83,108,-0.982726523636586),(84,85,1.03569139683218),(84,86,0.152500991851558),(84,89,-0.228339487899411),(84,95,-1.43551438947722),(84,99,-1.06654560991241),(84,104,-1.84873500778222),(84,111,-2.16719565416425),(84,113,-1.34698019348735),(84,114,2.83625293740654),(35,105,0.176412244026002)]
orgname='BHNEAT_12_3'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()