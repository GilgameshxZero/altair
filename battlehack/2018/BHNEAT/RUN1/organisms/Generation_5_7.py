edge = [(0,85,0.0419782097842341),(0,89,-0.349330118717002),(0,90,0.354167302468947),(0,93,-2.0224463637196),(0,98,1.97015289773247),(0,101,0.398159733878597),(0,105,0.78225043488876),(0,108,2.10913418988617),(0,113,-1.10115359965819),(0,114,-1.88984344004639),(0,117,0.571001312295907),(0,118,-0.984145634327219),(1,86,-0.681005279702139),(1,92,-1.54606769005402),(1,98,2.81893368327891),(1,102,-0.118686483352153),(1,104,0.440870387890255),(1,107,-0.848109378337962),(1,108,0.304574724570452),(1,109,-2.06457716605121),(1,113,1.80046998504593),(2,87,-0.285775322733238),(2,88,-0.0801873836481827),(2,100,1.08795434430982),(2,106,-1.72211371196631),(2,108,1.11145359660634),(2,110,-0.593218787194433),(2,113,0.0691396832178716),(2,118,1.86915189062166),(3,89,0.34636982329783),(3,92,-1.62952055421613),(3,97,-0.317682424390393),(3,99,-0.491851557969909),(3,101,2.31772820215461),(3,103,-1.45014801477096),(3,105,0.802011169774468),(3,108,-0.467833491012299),(3,109,-0.172795800653096),(3,111,-2.62768944364757),(3,112,-1.67795342875454),(3,116,-1.89143040253914),(4,90,-2.90870387890255),(4,91,-1.44444105349895),(4,97,-0.706839197973571),(4,99,-2.08565019684439),(4,101,0.336115604113895),(4,108,2.05557420575579),(4,113,0.390179143650624),(4,118,-0.41720328379162),(5,86,1.52752769554735),(5,87,-0.0950956755272073),(5,89,1.54716635639515),(5,92,0.45234534745323),(5,93,0.644764549699393),(5,99,2.31678212836085),(5,104,-2.25484481337931),(5,114,2.04283272804956),(5,118,-1.69168675801874),(6,89,-0.769066438795129),(6,92,-1.29016998809778),(6,94,-0.533707693716239),(6,100,1.94798120059816),(6,101,1.59060945463424),(6,103,0.725348673970763),(6,107,-0.111514633625294),(6,110,2.48451185644093),(6,113,-1.51532029175695),(7,85,1.59483626819666),(7,86,-1.64137699514756),(7,90,-0.890621662038026),(7,95,1.71686452833644),(7,99,-0.382122257148961),(7,100,-0.705282753990295),(7,104,2.49571214941862),(7,106,0.645771660512101),(7,108,2.1515549180578),(7,112,-0.645222327341533),(7,116,-0.875621814630573),(8,92,-0.309533982360301),(8,93,0.577043977172155),(8,95,-0.141468550675985),(8,99,-0.922482985930967),(8,106,0.358302560502945),(8,107,1.19760734885708),(8,115,-0.769402142399365),(8,116,2.42538224433119),(8,118,0.932798242133854),(9,85,-1.98828089236122),(9,87,-2.47485274819178),(9,98,-2.18756675923948),(9,101,0.612399670400098),(9,103,-1.49800103762932),(9,105,-2.695806756798),(9,106,-0.00949125644703508),(9,113,0.941251869258706),(10,89,-2.16766869106113),(10,96,0.207113864558855),(10,106,0.685644093142491),(10,108,1.10220648823511),(10,109,1.18153935361797),(10,111,0.571108127079073),(10,112,-2.32444227423933),(10,114,1.45892208624531),(10,115,-2.0577867976928),(10,116,-1.88889736625263),(10,117,-0.0783257545701468),(11,89,-0.241782891323588),(11,97,0.315103610339671),(11,105,-0.699056978057192),(11,112,1.68718527787103),(11,115,0.316476943266091),(12,92,-0.2406231879635),(12,93,0.934095278786584),(12,94,-0.0801873836481826),(12,97,-0.483916745506149),(12,98,-0.213538010803552),(12,99,-1.73421430097354),(12,108,-0.0459913937803278),(12,116,1.69295327616199),(13,86,1.0239722891934),(13,87,0.0843073824274422),(13,90,-0.834665974913785),(13,99,2.108386486404),(13,102,-1.16782128360851),(13,104,0.150013733329264),(13,113,-0.0400402844325083),(13,116,-1.0818811609241),(13,118,-0.763817255165258),(14,90,-1.55816827906125),(14,93,-0.758751182592242),(14,95,1.60588396862697),(14,102,-0.166814172795801),(14,104,1.4737388225959),(14,106,1.72563859981079),(14,109,0.272652363658559),(14,110,0.608157597582934),(14,111,-2.21060823389386),(15,85,-0.334376049073763),(15,92,-0.365489669484542),(15,99,-0.743095187231056),(15,101,-2.04986724448378),(15,104,1.49441511276589),(15,108,0.84980315561388),(15,117,-1.20502334665975),(16,86,-1.08630634479812),(16,87,1.54475539414655),(16,88,-2.52375865962706),(16,90,0.304834131900998),(16,91,-0.169011505478072),(16,95,-1.18793298135319),(16,97,-0.685369426557207),(16,98,-0.840662862025819),(16,99,0.731208227790155),(16,101,1.21727652821436),(16,108,1.99821466719565),(16,110,-1.36959440900906),(17,89,-0.254982146671957),(17,96,-0.195516830957976),(17,99,0.0399182103946044),(17,101,1.36375011444441),(17,106,-1.49247718741417),(17,107,-1.20856349375896),(17,109,1.29558702352977),(18,90,1.65628528702658),(18,91,0.451155125583667),(18,93,0.810892056031983),(18,99,0.149998474074526),(18,102,1.99867244483779),(18,103,-0.670155949583422),(18,104,1.64110232856227),(18,110,-0.279000213629566),(18,111,-0.853083895382549),(18,116,0.710928678243355),(18,117,2.05903805658132),(18,118,-1.3333079012421),(19,87,-1.86486404004028),(19,89,-0.296899319437239),(19,93,1.57522812585833),(19,95,-0.122531815546129),(19,101,2.96005127109592),(19,105,0.344050416577654),(19,115,0.272072511978515),(20,88,1.10716574602496),(20,101,-0.36558122501297),(20,103,-0.701116977446822),(20,104,2.26958525345622),(20,105,0.0779137546922208),(20,106,-0.319162572099979),(20,111,0.99832148197882),(20,116,-2.38296151615955),(21,86,-1.37400433362835),(21,87,1.37751396221809),(21,94,-1.02487258522294),(21,96,0.473189489425336),(21,101,1.62300485244301),(21,102,-2.09205908383435),(21,105,0.359813226722007),(21,107,-2.21843623157445),(21,108,-0.984954374828333),(22,86,-0.824274422437208),(22,88,0.0485396893215735),(22,91,-0.416333506271554),(22,92,0.114490188299203),(22,93,2.77025666066469),(22,98,0.0240485854670858),(22,106,-1.47720267342143),(22,115,-1.69565416425062),(22,117,2.26310007019257),(23,85,0.800057985168004),(23,86,2.33207190160833),(23,88,-1.59018219550157),(23,90,-1.51147495956297),(23,97,-0.769829401532029),(23,104,-0.529679250465407),(23,112,1.01283303323466),(23,114,-0.601107821893979),(23,115,1.59833063753166),(23,116,-0.0740989410077211),(24,89,-1.82030701620533),(24,90,-2.91143528550066),(24,91,2.08699301126133),(24,101,2.42139957884457),(24,107,2.81971190527055),(24,108,-1.7612231818598),(24,110,-0.497528000732444),(24,112,1.27529221472823),(25,90,-1.45608386486404),(25,92,-0.462889492477187),(25,94,-0.743995483260598),(25,98,1.59141819513535),(25,105,-2.24402600177007),(25,108,1.13353373821223),(25,109,0.988647114474929),(25,115,0.516266365550706),(26,85,0.541917172765282),(26,87,-2.04037598803674),(26,89,2.14278084658345),(26,95,-1.06672872096927),(26,98,-1.49279763176366),(26,100,2.41480758079775),(26,101,1.85247352519303),(26,102,-1.96299630726035),(26,103,-1.25945310831019),(26,104,-0.409085360271005),(26,107,3.06427198095645),(26,109,-2.26096377452925),(26,112,-0.266182439649647),(26,113,-0.0505844294564654),(26,117,0.923413800469985),(27,85,-0.805078279976806),(27,87,-1.22197637867367),(27,94,0.0388348033082064),(27,100,-0.794427320169683),(27,102,1.270180364391),(27,103,1.67876216925565),(27,104,0.691808832056642),(27,105,-1.44248786889248),(27,108,1.61110263374737),(27,110,2.01155125583667),(27,114,1.08897671437727),(28,87,-0.987716299935911),(28,88,0.751777703176977),(28,97,-1.28627887813959),(28,99,-1.18648335215308),(28,104,-0.011337626270333),(28,113,-2.19811090426344),(28,114,-0.330332346568194),(29,88,-0.672353282265694),(29,91,1.56231879634999),(29,102,-2.48510696737571),(29,105,-0.75975829340495),(29,116,-0.866222113711966),(30,95,1.6707510605182),(30,96,2.54388561662648),(30,99,1.01647999511704),(30,101,-1.37086092715232),(30,104,-0.0746177556688131),(30,109,0.00267036957914975),(30,110,-1.67607654042177),(30,114,-1.65791802728355),(30,118,0.335200048829615),(31,85,-1.68945890682699),(31,92,0.60719626453444),(31,94,-2.03222754600665),(31,96,1.42078920865505),(31,99,-1.7658009582812),(31,103,0.531693472090823),(31,107,0.328928495132298),(31,108,-0.32692953276162),(31,109,2.49665822321238),(31,111,-1.27671132541887),(31,112,-1.72025208288827),(31,117,2.25989562669759),(32,86,-0.443662831507309),(32,87,-0.91689809869686),(32,89,1.89921262245552),(32,92,-0.278603473006378),(32,98,-0.153538621173742),(32,99,-0.153798028504288),(32,104,-0.871425519577624),(32,106,0.116519669179357),(32,109,0.203070162053285),(32,116,0.56137272255623),(32,118,-1.87449262977996),(33,96,1.10626544999542),(33,98,-2.36320078127384),(33,108,1.6699880977813),(33,110,-0.191198461867122),(33,111,1.42857142857143),(33,114,1.85964537491989),(34,85,-0.0026093325601978),(34,90,-0.394970549638356),(34,99,-2.13225196081423),(34,104,-0.0549943540757469),(34,109,-1.36753440961943),(35,86,-0.010605182042909),(35,87,-2.4484389782403),(35,97,-0.0440992461928159),(35,98,0.812189092684713),(35,100,-2.51260414441359),(35,104,1.53222754600665),(35,107,0.874675740836818),(35,109,1.24245429853206),(35,110,0.427426984466079),(35,112,2.65900143436995),(36,85,-0.73581652272103),(36,87,0.51959288308359),(36,90,-0.181814020203253),(36,91,1.18190557573168),(36,104,-1.68614764854884),(36,107,0.438673055207984),(36,109,-2.28644672994171),(36,112,-2.28386791589099),(36,115,0.369731742301706),(36,117,-2.21655934324168),(36,118,-1.42855616931669),(37,85,-0.486922818689535),(37,86,-1.98789941099277),(37,87,1.3982818079165),(37,91,0.216391491439558),(37,99,-2.23586230048524),(37,105,-1.22519608142338),(37,111,-0.580309457686087),(37,112,-2.01872310556352),(37,118,0.0158391064180426),(38,87,2.094409009064),(38,90,-1.76810510574664),(38,103,0.906430249946593),(38,105,2.47619556260872),(38,106,3.060396130253),(38,111,2.30755027924436),(38,115,-1.89632862331004),(39,87,2.89477217932676),(39,89,-1.93868831446272),(39,91,0.274971770378735),(39,94,-0.131946775719474),(39,97,-0.958021790215766),(39,98,1.35947752311777),(39,107,-1.35934018982513),(39,108,-1.70610675374615),(39,109,-1.09913937803278),(39,111,1.83701590014344),(39,113,3.11340678121281),(39,116,1.35355693227943),(39,118,-0.339396343882565),(40,88,-0.369533371990112),(40,92,-0.617343668935209),(40,99,-0.268181402020325),(40,104,-2.02635273293252),(40,110,0.925855281228065),(40,116,1.71874141666921),(40,118,2.85126804406873),(41,88,1.45451216162603),(41,93,1.51228370006409),(41,96,-0.890942106387524),(41,97,-0.625278481398969),(41,100,0.404904324472793),(41,101,-0.465437788018433),(41,104,2.31945249794),(41,105,2.48237556077761),(41,106,2.45004119998779),(41,107,-0.169072542497024),(41,109,-2.21243934446242),(41,110,1.91079439680166),(41,111,0.78049562059389),(41,112,0.185094759971923),(42,85,0.607089449751274),(42,86,-1.46125675222022),(42,87,-1.03785821100497),(42,99,-0.910367137668996),(42,100,0.748542741172521),(42,103,-0.2150028992584),(42,109,-2.52919095431379),(42,113,0.137287514877773),(43,85,-1.90488906521805),(43,88,1.830576494644),(43,89,0.879192480239265),(43,93,1.54777672658467),(43,97,-1.96552934354686),(43,98,-1.32064271980956),(43,101,-2.46896267586291),(43,102,-1.11072115237892),(43,103,2.03434858241523),(43,105,1.27048554948576),(43,110,-0.000991851557969909),(43,112,1.98988311410871),(43,114,-2.86964018677328),(43,116,-0.693838312936796),(44,89,2.09518723105564),(44,98,-0.681981872005371),(44,99,1.24425489059114),(45,87,0.984084597308268),(45,88,2.3203375347148),(45,90,-0.0167546617023225),(45,91,-0.471953489791558),(45,95,-1.25167088839381),(45,98,-0.298196356089969),(45,108,-1.38816492202521),(45,109,0.991088595233009),(45,112,-0.274300363170263),(45,115,1.79793694875942),(46,85,-0.511017181920835),(46,89,-0.125125888851588),(46,91,-1.05479598376415),(46,94,0.448484756004517),(46,97,0.0273445844904935),(46,100,-0.878368480483413),(46,101,-0.336375011444441),(46,108,-0.269096957304605),(46,112,0.520249031037324),(47,86,1.35196996978668),(47,91,2.39263588366344),(47,92,1.69421979430525),(47,94,-2.39844965971862),(47,95,0.109347819452498),(47,100,-2.85125278481399),(47,101,1.63418988616596),(47,104,-2.10745567186499),(47,105,0.499893185216834),(47,108,0.461516159550768),(47,112,0.245353556932279),(47,114,2.32169560838649),(47,118,3.11264381847591),(48,86,1.0503555406354),(48,91,1.08456678975799),(48,98,-0.0927762688070315),(48,99,-0.830072939237648),(48,100,1.0127719962157),(48,103,-1.91836298715171),(48,105,-1.19786675618763),(48,106,1.69661549729911),(48,111,-1.08075197607349),(48,115,0.0634327219458602),(49,87,-0.823679311502426),(49,89,-0.696432386242256),(49,93,0.140079958494827),(49,94,-2.11821344645527),(49,95,-0.767235328226569),(49,102,-1.14378795739616),(49,113,-2.09057893612476),(49,114,2.37011322367016),(50,89,1.18346201971496),(50,105,-0.187108981597339),(50,107,-0.937955870235298),(51,87,1.19699697866756),(51,92,2.41473128452406),(51,97,-2.09889522995697),(51,98,1.57869197668386),(51,103,1.57214575640126),(51,106,-0.486220892971587),(51,112,0.599703970458083),(51,118,-1.6502273628956),(52,89,0.213980529190954),(52,97,1.50547807245094),(52,106,0.964491714224677),(52,110,1.66600543229469),(52,111,-0.956678975798822),(52,113,1.13644825586718),(52,114,1.8275246436964),(52,118,-0.806863612781152),(53,88,-0.0675069429609058),(53,90,-1.54716635639515),(53,92,-0.863429670094913),(53,94,-1.85438093203528),(53,104,-0.0306405835139012),(53,105,2.65227210303049),(53,109,0.683523056733909),(54,85,-0.132786034730064),(54,91,3.11792352061525),(54,94,0.682775353251747),(54,96,1.93678090762047),(54,111,-1.36036255989257),(54,112,-1.33938108462783),(54,113,-0.919049653614917),(54,118,-1.4553056428724),(55,87,1.47709585863826),(55,95,-0.747856074709311),(55,107,-0.252464369640187),(55,110,-1.22269356364635),(55,117,-1.6946012756737),(56,107,-0.600268562883389),(56,111,-2.03558458204901),(56,113,1.8389690847499),(56,114,0.429868465224158),(57,87,-0.35026093325602),(57,90,-0.202002014221625),(57,91,0.0075533310953092),(57,92,3.0563829462569),(57,93,-1.70215460676901),(57,94,1.83384197515793),(57,95,-2.34740745262001),(57,96,-1.65784173100986),(57,100,-1.45091097750786),(57,102,-2.18657490768151),(57,103,-1.03679006317331),(57,115,-0.0316934720908231),(58,86,1.05647450178533),(58,87,-0.374691000091556),(58,89,-1.76616718039491),(58,90,-1.18198187200537),(58,95,-1.05252235480819),(58,96,-0.924329355754265),(58,101,-3.20908230842006),(58,103,1.34044923245949),(58,109,2.4533371990112),(58,110,-1.44561601611377),(58,113,0.404034546952727),(58,114,-1.57287820062868),(58,115,0.697271645252846),(58,118,1.06082338938566),(59,85,-0.206122013000885),(59,86,-0.623889889217811),(59,90,-0.656773583178197),(59,91,1.68218024231697),(59,93,-1.27448347422712),(59,97,-0.836329233680227),(59,98,-2.23746452223273),(59,100,-0.579577013458663),(59,102,-0.234504226813562),(59,112,-0.59088412121952),(59,114,-1.07379375591296),(60,85,1.85917233802301),(60,87,-1.53744621112705),(60,90,3.31746879482406),(60,91,-3.0077517014069),(60,96,0.728736228522599),(60,100,1.38659321878719),(60,101,-2.27986999114963),(60,105,-2.28168584246345),(60,107,0.645130771813105),(60,109,-2.14662617877743),(60,110,-1.6087069307535),(60,114,2.36393322550127),(61,89,1.63393047883541),(61,94,-1.16031373027741),(61,96,1.88190862758263),(61,98,-0.578783532212287),(61,100,1.52058473464156),(61,102,-1.70503860591449),(61,103,-1.86651203955199),(61,114,-2.12971892452773),(61,115,1.70987578966643),(62,93,-0.740531632435072),(62,95,0.286568803979614),(62,107,-1.79311502426221),(62,109,-2.27640614032411),(62,110,-0.15012054811243),(62,111,-1.84621723075045),(63,87,-0.739738151188696),(63,90,2.37501144444105),(63,93,0.600390636921293),(63,97,0.532807397686697),(63,100,-0.741447187719352),(63,103,-1.29406109805597),(63,104,-0.580263679921873),(63,108,-0.591006195257424),(63,111,-0.219595934934538),(63,114,-1.08948026978362),(63,117,1.63783684804834),(64,87,0.0949125644703513),(64,94,0.756294442579424),(64,99,0.35316019165624),(64,110,-1.64026306955168),(64,112,-2.2532731101413),(64,116,-2.14023255104221),(65,87,2.05482650227363),(65,88,-1.11059907834101),(65,90,-0.473799859614856),(65,97,2.2569658497879),(65,99,-0.66864528336436),(65,107,-0.963957640308847),(65,110,1.97932370983001),(65,111,-0.0677816095461898),(65,114,-0.663380840479751),(65,116,1.43774224066897),(65,117,0.350993377483444),(66,85,0.928601947080905),(66,102,-1.03114413892026),(66,105,1.37466048158208),(66,108,2.41891232032228),(66,111,0.0468306527909177),(66,115,0.758339182714316),(66,118,0.394283883175146),(67,86,0.0610827967162084),(67,90,-0.617099520859401),(67,92,1.42332224494156),(67,104,2.26648762474441),(67,109,-0.654744102298044),(67,111,-0.96050904873806),(68,87,0.535401470992157),(68,88,2.13843195898312),(68,90,-2.64784691915647),(68,93,-1.43755912961211),(68,95,3.05732902005066),(68,96,1.6213568529313),(68,97,0.427869502853481),(68,103,2.89332255012665),(68,107,1.3586840418714),(68,112,-0.0511185033722953),(68,114,1.33869441816462),(69,87,-0.609591967528306),(69,88,-2.13249610889004),(69,92,-0.464583269753105),(69,94,0.753028962065493),(69,95,0.86718344676046),(69,97,0.22278511917478),(69,108,-1.22920926541948),(69,113,0.834650715659047),(69,114,-1.04876857814264),(69,118,1.02540665913877),(70,85,-0.676824243903928),(70,86,-0.497817926572466),(70,87,-2.27054658650472),(70,90,0.873622852259896),(70,96,-2.35374004333628),(70,97,0.0363933225501266),(70,99,-1.4621723075045),(70,105,-2.48374889370403),(70,107,0.750511185033723),(70,109,-1.68478957487716),(70,110,1.98252815332499),(70,111,-0.706335642567217),(71,85,1.21587267677847),(71,93,0.745490890224921),(71,96,1.89649647511216),(71,100,2.40760521256142),(71,104,-1.8160802026429),(71,106,0.973784600360118),(71,111,-1.69161046174505),(71,113,1.5012054811243),(72,94,2.67757194738609),(72,96,1.77713858455153),(72,99,2.75878170110172),(72,110,0.590594195379498),(72,112,2.15092928861354),(72,114,2.53312784203619),(72,115,-0.628940702536088),(72,116,-1.15124973296304),(73,88,0.847773674733726),(73,94,0.544511246070742),(73,99,-0.7578508865627),(73,100,2.4085207678457),(73,106,-0.32441175572985),(73,110,0.430784020508438),(73,115,2.38622699667348),(74,90,-0.361095004119999),(74,94,0.841135898922697),(74,99,0.638080996124149),(74,102,0.67299417096469),(74,106,0.5405590990936),(74,107,-0.315073091830195),(74,110,0.636158330027161),(74,113,-2.92744224372082),(74,116,-2.49929807428205),(75,85,-0.360957670827357),(75,86,-1.69072542497024),(75,93,0.147053437910093),(75,98,-1.94555497909482),(75,103,-0.835688344981231),(75,105,-1.08844264046144),(75,111,2.0922421948912),(75,117,-1.74483474227119),(76,86,-2.87241737113559),(76,89,-1.10637226477859),(76,92,0.882854701376385),(76,94,-1.5218054750206),(76,99,-2.48831141087069),(76,101,1.04495376445814),(76,103,1.91203039643544),(76,106,1.27735221411786),(76,110,-3.12080751976074),(76,113,1.23584704123051),(77,88,0.921079134495071),(77,91,0.290429395428327),(77,93,0.610049745170446),(77,98,-1.49230933561205),(77,101,0.195669423505356),(77,102,0.414944914090396),(77,103,0.842997528000732),(77,104,-1.67722098452712),(77,105,1.08439893795587),(77,109,-1.78019043549913),(78,88,1.36486404004028),(78,93,-1.03396710104679),(78,94,1.55832087160863),(78,101,-3.08706930753502),(78,104,-0.0374156926175725),(78,110,-2.94683675649281),(78,114,-0.19235816522721),(78,116,-2.3432264168218),(78,117,1.91114535966063),(78,118,-0.031968138676107),(79,87,0.572344126712851),(79,92,0.667867061372722),(79,94,-1.97186193426313),(79,107,-2.31925412762841),(79,108,1.58018738364818),(79,114,-0.511963255714591),(79,118,-2.20784630878628),(80,87,2.43560594500565),(80,88,-0.692785424359874),(80,91,-2.15875728629414),(80,99,2.31438642536699),(80,101,0.327295754875332),(80,107,1.27828302865688),(80,113,-2.1263771477401),(81,85,1.604892117069),(81,86,-0.420331431012909),(81,90,-0.597033600878933),(81,93,-2.22118289742729),(81,96,-0.270302438428907),(81,97,-0.780907620471816),(81,106,0.0834376049073764),(81,107,2.51699880977813),(81,110,1.26543473616749),(81,115,-2.0577867976928),(82,86,-0.167943357646412),(82,92,0.154820398571734),(82,110,0.113086336863308),(82,112,1.23587755973998),(83,87,-0.0627918332468641),(83,91,-0.323358867152928),(83,93,-1.65051728873562),(83,101,0.0491958372753074),(83,103,-0.724356822412793),(83,105,-0.617999816888943),(83,108,-2.45142979216895),(84,85,-2.87846003601184),(84,86,2.27445295571764),(84,89,0.629673146763512),(84,95,-1.33571886349071),(84,99,-1.01026947843867),(84,104,-0.425962096011231),(84,111,-1.58697775200659),(84,113,-1.24535355693228),(84,114,0.611758781701102)]
orgname='BHNEAT_5_7'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()