edge = [(0,85,1.2927488021485),(0,89,0.177907650990326),(0,90,2.33211767937254),(0,93,2.12756736960967),(0,98,0.206656086916715),(0,101,-0.490081484420301),(0,105,-2.09204382457961),(0,108,-2.32071901608325),(0,113,0.787545396282846),(0,114,-1.22061830500198),(0,117,0.145115512558367),(0,118,1.43569750053407),(1,86,1.74593340861232),(1,92,0.401394695883053),(1,98,-0.788262581255532),(1,102,0.102923673207801),(1,104,-2.29801324503311),(1,107,-2.40354625080111),(1,108,2.32596819971313),(1,109,-0.115283669545579),(1,113,2.19373149815363),(2,87,-1.17023224585711),(2,88,-1.9192022461623),(2,100,-0.540849024933622),(2,106,-0.436597796563616),(2,108,0.566957609790338),(2,110,-1.684682760094),(2,113,1.78695028534806),(2,118,-0.0730002746665853),(3,89,-1.13292336802271),(3,92,0.248710592974639),(3,97,1.19487594225898),(3,99,0.768257698294015),(3,101,-2.44048890652181),(3,103,0.423947874385815),(3,105,2.36303292947172),(3,108,-0.910428174687948),(3,109,1.19579149754326),(3,111,1.88488418225654),(3,112,-0.25693533127842),(3,116,0.0780816064943388),(4,90,1.64986114078188),(4,91,-1.86973174230171),(4,97,1.53004547257912),(4,99,-0.43389690847499),(4,101,1.88859218115787),(4,108,0.511612292855617),(4,113,-0.854869228186895),(4,118,0.723914304025391),(5,86,-0.485854670857875),(5,87,-1.06448561052278),(5,89,1.05578783532212),(5,92,1.70484023560289),(5,93,-1.84995574816126),(5,99,0.204672383800775),(5,104,-0.755561998352001),(5,114,-0.98307748649556),(5,118,-1.45628223517563),(6,89,2.61333048493912),(6,92,1.26482436597797),(6,94,0.578096865749077),(6,100,2.63530381176183),(6,101,2.02505569627979),(6,103,-1.04391613513596),(6,107,0.863948484756005),(6,110,-1.57560960722678),(6,113,0.447096163823359),(7,85,-0.727484969634083),(7,86,3.10036011841182),(7,90,-1.48615985595264),(7,95,-1.09799493392743),(7,99,1.58574175237281),(7,100,1.28681295205542),(7,104,-1.65671254615925),(7,106,-1.77002777184362),(7,108,2.28972746971038),(7,112,1.15674306466872),(7,116,-0.186315500350963),(8,92,-1.04998931852168),(8,93,-1.83481856746117),(8,95,1.31548509170812),(8,99,-1.37713248084964),(8,106,-1.88987395855586),(8,107,0.452589495529038),(8,115,1.99809259315775),(8,116,-0.114108706930753),(8,118,-2.26538895840327),(9,85,-0.744499038666951),(9,87,1.19747001556444),(9,98,1.94921720023194),(9,101,1.56926175725578),(9,103,0.0242622150334177),(9,105,-2.45851008636738),(9,106,0.138676107058931),(9,113,-2.95211645863216),(10,89,2.44598223822748),(10,96,0.406949064607685),(10,106,2.63715018158513),(10,108,0.873180333872494),(10,109,0.199667348246712),(10,111,1.04231391338847),(10,112,-0.730719931638539),(10,114,-0.385540330210272),(10,115,0.627719962157048),(10,116,-2.30719931638539),(10,117,0.391293069246498),(11,89,0.944547868282113),(11,97,1.96737571337016),(11,105,-2.14691610461745),(11,112,2.46235541856136),(11,115,0.659886471144749),(12,92,0.0476851710562456),(12,93,2.2108676412244),(12,94,-2.30297250282296),(12,97,0.946470534379101),(12,98,-0.895565660573138),(12,99,-0.842158268990143),(12,108,-0.839396343882565),(12,116,-1.17854853968932),(13,86,-1.86272774437696),(13,87,-0.825434125797296),(13,90,0.961745048371837),(13,99,0.878780480361339),(13,102,0.793710135196997),(13,104,1.22099978637043),(13,113,1.26607562486648),(13,116,-1.81707205420087),(13,118,-0.252098147526475),(14,90,1.29432050538652),(14,93,-2.25431073946348),(14,95,1.50738547929319),(14,102,1.5850550859096),(14,104,-1.32393871883297),(14,106,1.98947111423078),(14,109,1.87780388805811),(14,110,-0.621448408459731),(14,111,0.149220252082888),(15,85,0.360118411816767),(15,92,0.0535599841303751),(15,99,0.404828028199103),(15,101,0.918286690878017),(15,104,1.26424451429792),(15,108,-2.42661824396496),(15,117,0.463423566393017),(16,86,-0.394756920072024),(16,87,-1.1489455854976),(16,88,0.840479750968963),(16,90,0.0665303506576739),(16,91,0.963530381176183),(16,95,-1.17882320627461),(16,97,1.45847956785791),(16,98,-0.550935392315439),(16,99,-0.230094302194281),(16,101,2.49526963103122),(16,108,-0.224921414838099),(16,110,0.23467207861568),(17,89,0.120853297524949),(17,96,1.86323129978332),(17,99,2.34859767448958),(17,101,0.800912503433332),(17,106,-0.621662038026063),(17,107,2.35076448866237),(17,109,-1.55597094637898),(18,90,-0.551194799645985),(18,91,-0.130497146519364),(18,93,-2.01733451338237),(18,99,1.81946775719474),(18,102,-1.15860469374676),(18,103,-3.08954130680258),(18,104,-0.480468153935362),(18,110,-0.638523514511551),(18,111,1.20761741996521),(18,116,2.17409283730583),(18,117,1.67494735557115),(18,118,1.27564317758721),(19,87,-1.88395336771752),(19,89,0.2578508865627),(19,93,1.02002014221625),(19,95,0.257042146061586),(19,101,-0.0256050294503616),(19,105,-0.316324350718711),(19,115,-3.11725211340678),(20,88,-0.76555681020539),(20,101,-3.28275399029511),(20,103,-0.492873928037355),(20,104,-2.14314706869716),(20,105,0.271156956694235),(20,106,-2.66107669301431),(20,111,0.723883785515915),(20,116,-1.52768028809473),(21,86,-0.807748649555956),(21,87,-0.145802179021577),(21,94,-0.390041810357982),(21,96,-2.01692251350444),(21,101,1.04858546708579),(21,102,-0.170354319895016),(21,105,-0.297662282174139),(21,107,0.601321451460311),(21,108,-0.275322733237709),(22,86,0.751091036713767),(22,88,0.711844233527634),(22,91,0.853663747062594),(22,92,0.0956450086977752),(22,93,1.22731711783197),(22,98,2.4755851924192),(22,106,-0.740607928708762),(22,115,0.299798577837458),(22,117,0.639042329172643),(23,85,-1.99942014831996),(23,86,-0.164189580980865),(23,88,-0.139835810419019),(23,90,2.33048493911557),(23,97,-0.920911282692953),(23,104,-3.05142368846706),(23,112,1.70474868007446),(23,114,0.363811151463363),(23,115,-0.292474135563219),(23,116,1.49856563005463),(24,89,1.66063417462691),(24,90,0.336130863368633),(24,91,0.975814081240272),(24,101,-2.36959440900906),(24,107,-1.66444898831141),(24,108,1.15225684377575),(24,110,1.05218665120396),(24,112,-0.129810480056154),(25,90,-0.985366374706259),(25,92,-0.911893063142796),(25,94,-0.0787682729575487),(25,98,-1.40464491714225),(25,105,2.92063661610767),(25,108,1.76815088351085),(25,109,-1.53733939634388),(25,115,-0.288018433179724),(26,85,1.16283150730918),(26,87,1.18903164769433),(26,89,-2.04397717215491),(26,95,1.92522965178381),(26,98,-2.40098269600513),(26,100,1.42765587328715),(26,101,1.29404583880123),(26,102,0.634922330393384),(26,103,-2.59024323252052),(26,104,-2.16978972746971),(26,107,0.208334604937895),(26,109,1.15181432538835),(26,112,-0.753395184179205),(26,113,-0.519531846064638),(26,117,2.45173497726371),(27,85,2.1323587755974),(27,87,-1.13315225684378),(27,94,-0.970336008789331),(27,100,0.224845118564409),(27,102,-1.52729880672628),(27,103,1.35857722708823),(27,104,0.824167607654042),(27,105,-1.64246040223396),(27,108,-0.790032654805139),(27,110,0.964461195715201),(27,114,-0.10963774529252),(28,87,0.43252357554857),(28,88,0.769051179540391),(28,97,1.78623310037538),(28,99,-2.46276741843928),(28,104,-0.10628070925016),(28,113,2.06750694296091),(28,114,0.125507370220038),(29,88,-0.841929380169073),(29,91,0.201422162541581),(29,102,-1.92904446546831),(29,105,0.954771568956572),(29,116,0.570543534653768),(30,95,2.62500381481368),(30,96,2.2049623096408),(30,99,-0.463591418195135),(30,101,0.763710440382092),(30,104,-1.94003112887967),(30,109,-2.59225745414594),(30,110,-1.88070314645833),(30,114,0.918332468642232),(30,118,2.33164464247566),(31,85,-1.32679219946898),(31,92,-1.63107699819941),(31,94,0.219107638782922),(31,96,1.53660695211646),(31,99,0.636692403942991),(31,103,-0.236365855891598),(31,107,1.3894466994232),(31,108,2.20914334543901),(31,109,-1.63180944242683),(31,111,-1.07760856959746),(31,112,-1.08362071596423),(31,117,-2.16057313760796),(32,86,-0.290246284371471),(32,87,-0.640690328684347),(32,89,-0.374767296365246),(32,92,-0.248191778313547),(32,98,-0.960875270851772),(32,99,-1.62961210974456),(32,104,-0.0842158268990142),(32,106,0.43816949980163),(32,109,-1.42063661610767),(32,116,-0.0346079897457808),(32,118,-1.14780114139225),(33,96,0.753730887783441),(33,98,1.13505966368603),(33,108,-0.528687398907437),(33,110,-0.337305825983459),(33,111,-0.6511123996704),(33,114,-0.501190221869564),(34,85,2.03001495406964),(34,90,-1.36461989196448),(34,99,-0.303842280343028),(34,104,1.42214728232673),(34,109,0.109744560075686),(35,86,1.13414410840175),(35,87,-0.404309213538011),(35,97,-0.118915372173223),(35,98,-0.0628833887752922),(35,100,0.681630909146397),(35,104,2.97190771202734),(35,107,-0.288094729453414),(35,109,1.67192602313303),(35,110,1.87813959166234),(35,112,2.23697622608112),(36,85,-2.56877346110416),(36,87,0.341303750724815),(36,90,-2.19278542435987),(36,91,2.05923642689291),(36,104,0.700567644276254),(36,107,0.843653675954466),(36,109,0.180669576097903),(36,112,0.662465285195471),(36,115,-0.848063600573748),(36,117,1.8408154545732),(36,118,1.53849909970397),(37,85,-1.26729636524552),(37,86,-0.979476302377392),(37,87,0.585863826410718),(37,91,1.8244727927488),(37,99,0.0622425000762962),(37,105,-0.320551164281137),(37,111,1.62900173955504),(37,112,1.42689291055025),(37,118,-2.67848750267037),(38,87,0.730262153996399),(38,90,-0.154362620929594),(38,103,-0.364619891964476),(38,105,0.656468398083438),(38,106,-0.618915372173223),(38,111,1.68039490951262),(38,115,-0.879650257881405),(39,87,0.0748313852351452),(39,89,2.22185430463576),(39,91,-0.766167180394909),(39,94,-2.03180028687399),(39,97,1.07098605304117),(39,98,-0.884365367595447),(39,107,-0.226187932981353),(39,108,-0.841746269112217),(39,109,2.68881801812799),(39,111,0.701818903164769),(39,113,3.16962187566759),(39,116,2.08136234626301),(39,118,0.315942869350261),(40,88,1.89030121768853),(40,92,2.22225104525895),(40,99,-0.137180700094607),(40,104,-0.0677510910367138),(40,110,1.52455214087344),(40,116,-1.91012298959319),(40,118,-2.16658528397473),(41,88,-0.543168431653798),(41,93,2.44712668233284),(41,96,1.75641651661733),(41,97,0.223822748496963),(41,100,-0.371410260322886),(41,101,0.54689168980987),(41,104,-0.941663869136631),(41,105,-0.886974700155644),(41,106,-0.78553117465743),(41,107,1.15228736228523),(41,109,2.16814172795801),(41,110,-0.176824243903928),(41,111,1.43559068575091),(41,112,0.880382702108829),(42,85,1.62953581347087),(42,86,-0.357783745841853),(42,87,-0.495544297616504),(42,99,2.44743186742759),(42,100,0.484023560289315),(42,103,-2.23036896877956),(42,109,-1.75290688802759),(42,113,0.827906125064852),(43,85,1.75847651600696),(43,88,1.46351512192145),(43,89,0.841700491348003),(43,93,-1.61325418866543),(43,97,-0.13579210791345),(43,98,1.14314706869716),(43,101,0.293618579668569),(43,102,0.702230903042695),(43,103,-2.06756797997986),(43,105,-2.62695699942015),(43,110,0.752555925168615),(43,112,-1.18778038880581),(43,114,0.381313516647847),(43,116,-1.57507553331095),(44,89,-0.833841975157933),(44,98,-2.34633930478835),(44,99,1.08195745719779),(45,87,2.0213629566332),(45,88,-0.584261604663228),(45,90,-2.3008209479049),(45,91,0.643604846339305),(45,95,1.71778008362072),(45,98,-2.34640034180731),(45,108,1.16360972930082),(45,109,0.368068483535264),(45,112,0.833307901242103),(45,115,-1.71169164098025),(46,85,-0.940916165654469),(46,89,-0.955610827967162),(46,91,-1.79464094973601),(46,94,-0.875423444318979),(46,97,-0.371242408520768),(46,100,2.43046357615894),(46,101,-2.89642017883847),(46,108,-1.7676473281045),(46,112,-1.70805993835261),(47,86,-1.53959776604511),(47,91,0.0210425122837),(47,92,-0.930112613299966),(47,94,0.892056031983398),(47,95,-0.421292764061403),(47,100,0.315561387981811),(47,101,0.406125064851833),(47,104,-0.687810907315287),(47,105,-2.34971160008545),(47,108,0.314020203253273),(47,112,0.690328684347056),(47,114,0.702383495590075),(47,118,2.79160435804315),(48,86,0.844431897946104),(48,91,0.247810296945097),(48,98,-0.0553605761894589),(48,99,0.0266579180272836),(48,100,0.274346140934477),(48,103,0.3879207739494),(48,105,-2.21922971282083),(48,106,-0.00494399853511154),(48,111,-0.690252388073366),(48,115,0.913602099673452),(49,87,-2.11676381725517),(49,89,2.70012512588885),(49,93,0.26265755180517),(49,94,-0.259117404705954),(49,95,-1.46041749320963),(49,102,0.601504562517167),(49,113,0.144138920255135),(49,114,-1.40383617664113),(50,89,-0.87015900143437),(50,105,1.54319895016327),(50,107,-0.518631550035096),(51,87,1.25119785149693),(51,92,0.414349803155614),(51,97,1.82441175572985),(51,98,-2.74274422437208),(51,103,1.10142826624348),(51,106,-0.645374919888913),(51,112,-1.60068056276131),(51,118,0.0117496261482589),(52,89,1.11876277962584),(52,97,-0.138599810785241),(52,106,-0.194067201757866),(52,110,-1.01713614307077),(52,111,1.50230414746544),(52,113,2.29723502304147),(52,114,1.01985229041414),(52,118,-0.425717947935423),(53,88,1.16357921079134),(53,90,2.14285714285714),(53,92,-1.02044740134892),(53,94,0.457899716177862),(53,104,-2.23735770744957),(53,105,-0.356685079500717),(53,109,2.16823328348643),(54,85,-0.506042664876247),(54,91,-0.916089358195746),(54,94,-0.0924863429670095),(54,96,-1.66127506332591),(54,111,1.04657124546037),(54,112,0.875988036744285),(54,113,0.0148014770958586),(54,118,-1.17862483596301),(55,87,-0.616092410046693),(55,95,-2.23874629963073),(55,107,-1.44054994354076),(55,110,1.488876003296),(55,117,-1.60173345133824),(56,107,0.391537217322306),(56,111,-1.38264107181005),(56,113,1.44215216528825),(56,114,-1.31794183172094),(57,87,-0.987365337076937),(57,90,2.53428754539628),(57,91,1.08452101199377),(57,92,-0.0419782097842341),(57,93,0.700338755455184),(57,94,2.28659932248909),(57,95,-2.0516830957976),(57,96,1.34000671407208),(57,100,-1.32023071993164),(57,102,0.837931455427717),(57,103,-2.22833948789941),(57,115,1.40377513962218),(58,86,-0.772331919309061),(58,87,2.05633716849269),(58,89,0.639698477126377),(58,90,-1.25775933103427),(58,95,0.974257637256996),(58,96,0.279534287545396),(58,101,-1.10919522690512),(58,103,0.6752067629017),(58,109,1.22768333994568),(58,110,-0.162541581469161),(58,113,1.1573381756035),(58,114,0.101825006866665),(58,115,0.442854091006195),(58,118,0.488235114597003),(59,85,0.471678823206275),(59,86,0.405850398266549),(59,90,-0.655400250251778),(59,91,1.79439680166021),(59,93,-1.60740989410077),(59,97,2.48588518936735),(59,98,1.31400494399854),(59,100,-1.44987334818567),(59,102,0.245460371715445),(59,112,-0.549638355662709),(59,114,0.227896969512009),(60,85,0.765282143620106),(60,87,0.667058320871609),(60,90,-1.69844660786767),(60,91,-0.686407055879391),(60,96,-1.96177556688131),(60,100,-0.383251441999573),(60,101,0.84774315622425),(60,105,0.115543076876125),(60,107,1.96644489883114),(60,109,1.93630787072359),(60,110,0.208548234504227),(60,114,-2.00479140598773),(61,89,-0.118930631427961),(61,94,-0.231040375988037),(61,96,1.83292641987365),(61,98,-2.2560045167394),(61,100,0.192709128086184),(61,102,-1.73448896755882),(61,103,0.113391521958068),(61,114,0.418149357585376),(61,115,2.03856013672292),(62,93,1.69795831171606),(62,95,0.420728171636097),(62,107,1.09936826685385),(62,109,-2.73883785515915),(62,110,1.63113803521836),(62,111,0.477538377025666),(63,87,-1.34015930661946),(63,90,-0.935865352336192),(63,93,-1.25635547959838),(63,97,-1.20807519760735),(63,100,-2.30727561265908),(63,103,-1.65500350962859),(63,104,0.762627033295694),(63,108,0.194463942381054),(63,111,-1.14047669911802),(63,114,1.64763328959014),(63,117,-1.13467818231758),(64,87,1.42452772606586),(64,94,0.478392895290994),(64,99,-1.92297128208258),(64,110,1.41914120914335),(64,112,0.796517838068789),(64,116,1.05207983642079),(65,87,0.589709158604694),(65,88,-0.137928403576769),(65,90,-1.95356608783227),(65,97,-0.631305887020478),(65,99,0.352839747306742),(65,107,-2.04213080233161),(65,110,-0.418103579821162),(65,111,-2.19353312784204),(65,114,-0.0589159825434126),(65,116,0.0393841364787744),(65,117,-0.00599688711203344),(66,85,-0.341731009857479),(66,102,0.0229651783806879),(66,105,-2.08861049226356),(66,108,2.10370189519944),(66,111,2.35807367168188),(66,115,-0.382549516281625),(66,118,-0.948454237495041),(67,86,-0.0131687368388928),(67,90,-1.4690389721366),(67,92,0.623203222754601),(67,104,-1.54431287575915),(67,109,0.546388134403516),(67,111,0.686422315134129),(68,87,-2.18898586993011),(68,88,0.827066866054262),(68,90,-0.89608447523423),(68,93,-0.729773857844783),(68,95,0.715338602862636),(68,96,0.916043580431532),(68,97,-2.87568285164953),(68,103,1.14110232856227),(68,107,2.24298837244789),(68,112,-0.301278725547044),(68,114,2.39445173497726),(69,87,-1.25537888729514),(69,88,1.81962034974212),(69,92,-1.56315805536058),(69,94,0.0765556810205389),(69,95,1.88657795953246),(69,97,-0.581225012970367),(69,108,-0.0858027893917661),(69,113,-0.694860683004242),(69,114,-1.65532395397809),(69,118,0.0537583544419691),(70,85,-0.402005066072573),(70,86,-0.116824854274117),(70,87,-2.20242927335429),(70,90,1.05516220587786),(70,96,2.10298471022675),(70,97,-1.52531510361034),(70,99,-0.302743614001892),(70,105,-0.603274636066774),(70,107,0.377620777001251),(70,109,-0.952864162114322),(70,110,1.65417950987274),(70,111,-1.95313882869961),(71,85,1.29825739310892),(71,93,-0.0350657673879208),(71,96,1.65094454786828),(71,100,-1.04004028443251),(71,104,-0.312707907345805),(71,106,-0.755104220709861),(71,111,-0.42954802087466),(71,113,-0.771660512100589),(72,94,1.90102847376934),(72,96,-1.63687551499985),(72,99,1.12236396374401),(72,110,-1.56012146366771),(72,112,1.28284554582354),(72,114,1.75177770317698),(72,115,0.90911587878048),(72,116,1.73726615192114),(73,88,0.0856807153538621),(73,94,-0.402752769554735),(73,99,-2.07113864558855),(73,100,-1.79204687643056),(73,106,1.99919125949889),(73,110,-2.21472823267312),(73,115,0.230094302194281),(74,90,-0.883556627094333),(74,94,-0.987731559190649),(74,99,-1.12979522080142),(74,102,1.04541154210028),(74,106,-0.798379467146825),(74,107,-2.55137791070284),(74,110,1.25592822046571),(74,113,1.42483291116062),(74,116,1.44094668416395),(75,85,1.85644093142491),(75,86,-0.415723136082034),(75,93,-1.35456404309214),(75,98,-1.49861140781884),(75,103,0.354899746696371),(75,105,2.52125614185003),(75,111,1.28247932370983),(75,117,-0.0121311075167089),(76,86,-0.10582293160802),(76,89,0.58432264168218),(76,92,-1.69550157170324),(76,94,1.46400341807306),(76,99,1.4516891994995),(76,101,1.57800531022065),(76,103,0.242179631946776),(76,106,2.27332377086703),(76,110,1.41465498825037),(76,113,-0.177785576952422),(77,88,0.076387829218421),(77,91,-1.63863032929472),(77,93,3.10011597033601),(77,98,1.41682180242317),(77,101,1.39857173375652),(77,102,-1.45210119937742),(77,103,-0.727134006775109),(77,104,-0.0847041230506302),(77,105,-0.102023377178259),(77,109,0.928067873165075),(78,88,-2.79569383831294),(78,93,-0.717871639149144),(78,94,-0.662236396374401),(78,101,-1.39086581011383),(78,104,-1.43739127780999),(78,110,-1.96761986144597),(78,114,1.66141239661855),(78,116,-2.03352458265938),(78,117,-1.985381633961),(78,118,0.720557267983032),(79,87,1.66707358012635),(79,92,1.36727500228889),(79,94,-2.64975432599872),(79,107,0.197286904507584),(79,108,0.202490310373241),(79,114,1.57687612537004),(79,118,-0.319147312845241),(80,87,-0.882885219885861),(80,88,-0.607257301553392),(80,91,-2.83260597552416),(80,99,2.29233680227058),(80,101,-0.639515366069521),(80,107,-2.27941221350749),(80,113,0.501647999511704),(81,85,0.909070101016266),(81,86,0.10734885708182),(81,90,-1.35673085726493),(81,93,-1.99385052034059),(81,96,-0.0818506424146245),(81,97,-0.866847743156224),(81,106,2.41238135929441),(81,107,2.37685781426435),(81,110,1.05270546586505),(81,115,-1.04118472853786),(82,86,1.37224951933348),(82,92,-0.440565202795495),(82,110,-2.24031800286874),(82,112,-1.18884853663747),(83,87,0.251121555223243),(83,91,0.504303109836116),(83,93,1.18977935117649),(83,101,-0.158238471633045),(83,103,1.07712027344584),(83,105,-0.00610370189519944),(83,108,-2.31493575853755),(84,85,1.13734855189673),(84,86,1.80449842829676),(84,89,0.471251564073611),(84,95,-2.12979522080142),(84,99,-2.63736381115146),(84,104,-0.109454634235664),(84,111,1.2401806695761),(84,113,-1.17572557756279),(84,114,-0.204535050508133)]
orgname='BHNEAT_2_13'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()