edge = [(0,85,0.94312875759148),(0,89,-2.79954680013428),(0,90,-2.11523789178137),(0,93,-2.27842036194952),(0,98,-2.67820520645772),(0,101,-0.160519730216376),(0,105,4.32561723685415),(0,108,0.466170232245857),(0,113,2.0827661976989),(0,114,2.34763634144108),(0,117,3.37366863002411),(0,118,0.0356913968321786),(1,86,-3.9564882351146),(1,92,2.82586901455733),(1,98,0.279625843073824),(1,102,-2.74812311166723),(1,104,-1.97211371196631),(1,107,-2.49761955626087),(1,108,-2.16002380443739),(1,109,-1.40867336039308),(1,113,2.099971007416),(2,87,0.93549913022248),(2,88,3.36313974425489),(2,100,3.6886196478164),(2,106,-2.43540757469405),(2,108,-3.47704245124668),(2,110,-3.6134830774865),(2,113,-1.87319559312723),(2,118,3.38396862697226),(3,89,3.44226660969878),(3,92,1.2526093325602),(3,97,3.58085116122929),(3,99,-0.898709067049165),(3,101,-3.06927701651051),(3,103,-0.339655751213111),(3,105,5.05866420484024),(3,108,-2.82653279213843),(3,109,-5.28197576830348),(3,111,0.235633411664174),(3,112,0.066133610034486),(3,116,-1.52436902981658),(4,90,1.24833674123356),(4,91,1.97909482100894),(4,97,2.47212134159368),(4,99,1.7274315622425),(4,101,2.02838221381268),(4,108,2.55409405804621),(4,113,1.28154850917081),(4,118,-2.05459761345256),(5,86,2.99960325937681),(5,87,-2.27053132724998),(5,89,0.374759666737876),(5,92,0.818681905575732),(5,93,1.1661732840968),(5,99,2.45796075319681),(5,104,2.98846400341807),(5,114,1.68748283333842),(5,118,-5.38679158909879),(6,89,-1.5386898403882),(6,92,-8),(6,94,-3.38499862666707),(6,100,2.31756035035249),(6,101,-2.0775246436964),(6,103,-0.734282967619862),(6,107,1.70105594042787),(6,110,1.16457869197668),(6,113,0.171941282387768),(7,85,5.35817285683767),(7,86,-5.57956175420392),(7,90,0.921338541825617),(7,95,-0.979773857844783),(7,99,-0.360148930326243),(7,100,2.63621173741874),(7,104,-0.604365672780542),(7,106,3.04239020966216),(7,108,-0.964896084475234),(7,112,0.0807748649555957),(7,116,-1.52603991821039),(8,92,0.724021118808557),(8,93,2.04570909756767),(8,95,2.04116183965575),(8,99,-1.98835718863491),(8,106,-4.70610675374615),(8,107,1.25095370342112),(8,115,3.21360667744987),(8,116,-1.24413281655324),(8,118,2.38898892178106),(9,85,-0.990188299203467),(9,87,1.14879299295022),(9,98,-5.31002227851192),(9,101,-2.85889767143773),(9,103,6.97264015625477),(9,105,2.68380535294656),(9,106,4.68204290902432),(9,113,-1.58636738181707),(10,89,-6.71257667775506),(10,96,2.58904538102359),(10,106,2.92806787316507),(10,108,4.35277871028779),(10,111,-2.26455732902005),(10,112,0.991546372875149),(10,114,-2.83861812189093),(10,115,-2.23503067110202),(10,116,0.665417950987274),(10,117,-0.26189458906827),(11,89,-2.95280312509537),(11,97,-0.422589800714133),(11,105,-2.65029602954192),(11,112,2.97267830439161),(11,115,0.605143894772179),(12,92,4.00018311105686),(12,93,1.9741584521012),(12,94,-1.74218726157414),(12,97,0.49908444471572),(12,98,1.55706961272012),(12,99,3.92948698385571),(12,108,-2.13963744010742),(12,116,-0.501556443983276),(13,86,2.81751457258827),(13,87,-1.26966154972991),(13,90,-1.70519119846187),(13,99,1.99321726126896),(13,102,0.0193029572435683),(13,104,-3.2319101535081),(13,113,2.1451307718131),(13,116,-5.52929776909696),(13,118,-3.16446424756615),(14,90,-5.82645649586474),(14,93,1.34772789696951),(14,95,-5.69788201544237),(14,102,0.447782830286569),(14,104,-4.01730399487289),(14,106,2.77986999114963),(14,109,0.839518417920469),(14,110,0.440366832483901),(14,111,-0.947439497054964),(15,85,-0.698194830164495),(15,92,0.70036927396466),(15,99,0.468718527787103),(15,101,-3.80252998443556),(15,104,-0.438772240363781),(15,108,1.78948332163457),(15,117,2.6308328501236),(16,86,0.473189489425336),(16,87,-0.0205313272499774),(16,88,0.996978667561876),(16,90,-2.85694448683126),(16,91,-3.97808771019623),(16,95,-2.93325601977599),(16,97,-2.55291909543138),(16,98,-1.35524307992798),(16,99,0.2413861507004),(16,101,1.91660817285684),(16,108,3.07781456953642),(16,110,5.21707815790277),(17,89,2.76947080904569),(17,96,-0.138599810785241),(17,99,3.82076479384747),(17,101,-0.385242774742882),(17,106,-2.99317911313211),(17,107,3.47118289742729),(17,109,-2.25659962767418),(18,90,-0.635883663441877),(18,91,-3.29500717184973),(18,93,1.10153508102664),(18,99,-0.201689199499496),(18,102,3.76575518051698),(18,103,-1.9058122501297),(18,104,-2.26332895901364),(18,110,-2.39130832850124),(18,111,-3.09405804620502),(18,116,5.37915433210242),(18,117,-2.99398022400586),(18,118,-1.80281991027558),(19,87,-2.60284737693411),(19,89,1.11605426190985),(19,93,1.03766747032075),(19,95,-3.42478713339641),(19,101,1.70608386486404),(19,105,-5.06574449903867),(19,115,-0.335520493179113),(20,88,-2.32705923642689),(20,101,2.32395397808771),(20,103,1.3213980529191),(20,104,-1.39756462294382),(20,105,-1.88653218176824),(20,106,0.0834070863979004),(20,111,-2.19306009094516),(20,116,1.56498153630177),(21,86,1.05845820490127),(21,87,0.852305673390912),(21,94,-1.3492080446791),(21,96,1.39110995818964),(21,101,2.88551744132817),(21,102,4.8628421887875),(21,105,2.43367564928129),(21,107,4.39410077211829),(21,108,1.86648152104251),(22,86,-0.638142033143101),(22,88,-1.12836848048341),(22,91,-1.4841761528367),(22,92,-4.01326792199469),(22,93,1.60077211828974),(22,98,0.00610370189519938),(22,106,-2.76264229255043),(22,115,1.40135654774621),(22,117,1.36219367046113),(23,85,1.47211371196631),(23,86,-0.109530930509354),(23,88,-1.3711355937376),(23,90,2.66277047029023),(23,97,-2.61587878048036),(23,104,3.51403851435896),(23,112,-1.58639027069918),(23,114,-0.0828424939725942),(23,115,-2.54475539414655),(23,116,-1.76413769951476),(24,89,-2.50725577562792),(24,90,-4.89082766197699),(24,91,1.78852198858608),(24,101,-1.33878597369304),(24,107,1.92313150425733),(24,108,0.863322855311746),(24,110,-3.63781395916623),(24,112,-3.25074770348216),(25,90,-3.89710684530168),(25,92,0.44312112796411),(25,94,-3.66278572954497),(25,98,-1.78709524826807),(25,105,3.14862514114811),(25,108,6.83400982696005),(25,109,-2.10042115543077),(25,115,1.56222724082156),(26,85,1.3038499099704),(26,87,2.30622272408216),(26,89,-2.17177343058565),(26,95,-1.92838831751457),(26,98,-2.34559923093356),(26,100,-1.55941953794977),(26,101,2.27096621601001),(26,102,4.43551438947722),(26,103,-1.64734336375011),(26,104,4.08195745719779),(26,107,-4.93011261329997),(26,109,0.406552323984497),(26,112,5.50200659199805),(26,113,4.11806848353526),(26,117,-2.46000549333171),(27,85,-1.70957060457167),(27,87,-1.41662343211158),(27,94,1.51409955137791),(27,100,-0.205511642811365),(27,102,-0.957022309030427),(27,103,-0.0450148014770959),(27,104,0.263138218329417),(27,105,0.123966185491501),(27,108,-1.94479201635792),(27,110,2.51085695974609),(27,114,4.32499923703726),(28,87,-3.98852504043702),(28,88,-2.22766808069094),(28,97,1.64620654927213),(28,99,-3.37948240607929),(28,104,-3.41355632190924),(28,113,0.966917935728019),(28,114,-3.99037141026032),(29,88,0.491813409833064),(29,91,-3.07547227393414),(29,102,-2.45080416272469),(29,105,-3.73044526505325),(29,116,1.82573931089206),(30,95,4.52235480819117),(30,96,4.14070558793908),(30,99,1.18861201818903),(30,101,-4.19011505478072),(30,104,2.13496047853023),(30,109,-1.83222449415571),(30,110,-0.302293465987121),(30,114,2.20041505172887),(30,118,1.00496688741722),(31,85,0.133159886471145),(31,92,4.9511474959563),(31,94,-0.611873226111636),(31,96,5.03466902676473),(31,99,2.03932309945982),(31,103,-0.871089815973388),(31,107,1.43993957335124),(31,108,2.73119296853542),(31,109,-3.55868709372234),(31,111,1.92852565080721),(31,112,-4.12835322122868),(31,117,2.629848628193),(32,86,-3.86997589037751),(32,87,3.62722403637806),(32,89,3.0617007965331),(32,92,2.72167119357891),(32,98,-0.299493392742698),(32,99,0.422544022949919),(32,104,3.8409375286111),(32,106,2.25083162938322),(32,109,3.17600024414808),(32,116,4.54631183812983),(32,118,-1.50889614551225),(33,96,-2.39172795800653),(33,98,-0.411854915005951),(33,108,1.15097506637776),(33,110,0.472930082094791),(33,111,0.464728232673116),(33,114,-3.90681173131504),(34,85,0.918935209204382),(34,90,-0.0144047364726703),(34,99,-0.767998290963469),(34,104,-5.97215186010315),(34,109,-3.78493606372265),(35,86,1.99556718649861),(35,87,0.401287881099887),(35,97,-2.58331553086947),(35,98,-0.884769737846004),(35,100,1.12248603778191),(35,104,-4.82832575457015),(35,107,-2.1550492873928),(35,109,-4.42489394817957),(35,110,-2.43905453657643),(35,112,1.10522782067324),(36,85,-2.55079042939543),(36,87,-1.663861507004),(36,90,-0.885074922940764),(36,91,-1.39877773369549),(36,104,-1.1829355754265),(36,107,0.317522202215644),(36,109,-0.948667867061373),(36,112,0.0911435285500656),(36,115,1.20109408856471),(36,117,-2.35706656086917),(36,118,5.0811181981872),(37,85,2.16727958006531),(37,86,-5.56127353740043),(37,87,2.41740928373058),(37,91,4.06228064821314),(37,99,-2.70325327311014),(37,105,0.182317575609607),(37,111,3.77496414075137),(37,112,-0.784638508255256),(37,118,0.225501266518143),(38,87,-0.623813592944121),(38,90,0.172338023010957),(38,103,0.665334025086215),(38,105,3.46801660206915),(38,106,-0.0177388836329235),(38,111,1.98630481887265),(38,115,-5.14925840021973),(39,87,1.89288766136662),(39,89,-2.02162236396374),(39,91,-6.11934263130589),(39,94,-1.874286629841),(39,97,-1.91142002624592),(39,98,-3.49047822504349),(39,107,1.52186651203955),(39,108,1.41690572832423),(39,109,2.20925778984954),(39,111,-0.834391308328501),(39,113,-2.82061220130009),(39,116,-2.91865291299173),(39,118,-5.28778191473129),(40,88,-1.82930997650075),(40,92,-2.62413403729362),(40,99,0.758125553147984),(40,104,-0.904522843104343),(40,110,-3.96349986266671),(40,116,-2.46603289895322),(40,118,-1.10423596911527),(41,88,-2.19519638660848),(41,93,1.2956785790582),(41,96,1.6915723136082),(41,97,-1.29219183935057),(41,100,3.12841425824763),(41,101,4.38418225653859),(41,104,1.88158818323313),(41,105,-1.15260780663472),(41,106,1.57285531174657),(41,107,-6.19121372112186),(41,109,1.72467726676229),(41,110,-3.58478041932432),(41,111,-1.79945524460585),(41,112,6.98508407849361),(42,85,2.09817804498428),(42,86,-0.93931394390698),(42,87,3.79754020813623),(42,99,-0.618228705710013),(42,100,-3.56550798059023),(42,103,-3.56604968413343),(42,109,-4.403523361919),(42,113,-0.925901058992279),(43,85,-1.7724692526017),(43,88,1.62148655659658),(43,89,0.402821436201056),(43,93,0.942785424359875),(43,97,-1.02082125309),(43,98,1.19368572038942),(43,101,3.22595141453291),(43,102,-0.266029847102268),(43,103,0.309457686086611),(43,105,0.713980529190954),(43,110,-0.883266701254311),(43,112,-2.05040894802698),(43,114,-3.08880123294778),(43,116,-0.122302926725059),(44,89,-4.29609057893613),(44,98,3.87359996337779),(44,99,-3.4969481490524),(45,87,-1.57840205084384),(45,88,-0.921643726920377),(45,90,-0.677312540055544),(45,91,-1.58881649220252),(45,95,-2.21847437971129),(45,98,-0.936384166997283),(45,108,4.08666493728446),(45,109,5.02552873317667),(45,112,-1.10715048677023),(45,115,-5.13841669972838),(46,85,1.71698660237434),(46,89,1.4807046723838),(46,91,2.25542466505936),(46,94,-1.61635944700461),(46,97,1.82221442304758),(46,100,5.24275185399945),(46,101,2.36565752128666),(46,108,-0.524231696523942),(46,112,-3.98445081942198),(47,86,-1.95155186620686),(47,91,-2.41280861842708),(47,92,2.26606036561174),(47,94,-0.86253700369274),(47,95,-2.32249671926023),(47,100,4.05840479750969),(47,101,-2.34542374950407),(47,104,-3.55883968626972),(47,105,3.16795861690115),(47,108,-0.505996887112033),(47,112,-1.15231025116733),(47,114,1.85567796868801),(47,118,2.52687917722098),(48,86,0.674489577929014),(48,91,-2.9869075594348),(48,98,1.86309396649068),(48,99,1.88860744041261),(48,100,1.33890041810358),(48,103,-3.89439069795831),(48,105,-1.56912442396313),(48,106,-4.62327951902829),(48,111,-3.40942869350261),(48,115,0.734847560045167),(49,87,0.566301461836604),(49,89,2.16281624805444),(49,93,3.10975981933042),(49,94,3.24736014893033),(49,95,1.65706350901822),(49,102,-1.93523972289193),(49,113,1.14893032624287),(49,114,1.64827417828913),(50,89,-3.87141026032289),(50,105,-2.0738090151677),(50,107,-2.55391094698935),(51,87,-0.0354167302468948),(51,92,1.03630939664907),(51,97,2.72231971190527),(51,98,0.398869289223914),(51,103,2.73118533890805),(51,106,0.75465407269509),(51,112,2.27938932462539),(51,118,-1.4100466933195),(52,89,1.5559175389874),(52,97,1.57934049501022),(52,106,-3.93967253639332),(52,110,-0.438818018127995),(52,111,1.25360118411817),(52,113,0.942960905789361),(52,114,-1.82103183080538),(52,118,2.20271919919431),(53,88,-3.10503707998901),(53,90,-7.03299050874355),(53,92,-2.18647572252571),(53,94,0.933408612323374),(53,104,-2.01146732993561),(53,105,-0.283265175328837),(53,109,2.77892391735588),(54,85,1.79018524735252),(54,91,0.222785119174779),(54,94,-0.711279641102328),(54,96,0.637226477858821),(54,111,-3.14764091921751),(54,112,-0.66566972869045),(54,113,4.39166692098758),(54,118,-1.94764549699393),(55,87,-3.30622272408216),(55,95,1.6575365459151),(55,107,0.717452009643849),(55,110,-1.87772759178442),(55,117,-1.93307290871914),(56,107,0.615817743461409),(56,111,0.952780236213263),(56,113,-0.276520584734641),(56,114,2.30309457686087),(57,87,-3.55577257606739),(57,90,2.29863124485),(57,91,-2.454222235786),(57,92,-0.0226294747764517),(57,93,3.15971098971526),(57,94,-0.809686574907681),(57,95,0.354304635761589),(57,96,2.16098513748589),(57,100,-0.0853984191412093),(57,102,-2.98234504226814),(57,103,1.69900357066561),(57,115,-3.40727713858455),(58,86,1.25325022125919),(58,87,-0.329645680104984),(58,89,3.9314096499527),(58,90,-2.22186193426313),(58,95,-2.00122837000641),(58,96,0.42863246559038),(58,101,-3.66335032197027),(58,103,-6.342341380047),(58,109,-2.75635547959838),(58,110,4.99887844477676),(58,113,-2.84370708334605),(58,114,3.07245094149602),(58,115,-1.3946882534257),(59,85,2.83402508621479),(59,86,1.33892330698569),(59,90,1.33226264229255),(59,91,-0.0955992309335612),(59,93,2.0635700552385),(59,97,-4.59044160283212),(59,98,2.90871150852992),(59,100,3.17156743064669),(59,102,-0.47842341380047),(59,112,3.44645527512436),(59,114,0.627979369487594),(60,85,0.0879161961729791),(60,87,-1.14507736442152),(60,90,0.896557512131108),(60,91,-2.35068819238868),(60,96,0.669118320261239),(60,100,-2.19217505417035),(60,101,1.27117221594897),(60,105,-2.17787713248085),(60,107,2.88011566515091),(60,109,3.93136387218848),(60,110,1.4481185338908),(60,114,2.8946653645436),(61,89,0.488151188695944),(61,94,-1.66479995117038),(61,96,-2.31942197943052),(61,98,1.61183507797479),(61,100,2.90166173284097),(61,102,3.85685293130284),(61,103,1.44230475783563),(61,114,-1.40021210364086),(61,115,5.1760917996765),(62,93,2.05224005859554),(62,95,-1.54026917325358),(62,107,0.0677510910367136),(62,109,-1.11366618854335),(62,110,-0.65164647358623),(62,111,2.24707785271767),(63,87,4.30270546586505),(63,90,3.78676717429121),(63,93,-1.03076265755181),(63,97,2.87611774040956),(63,100,-1.28463087862789),(63,103,-0.0708182012390512),(63,104,0.0152287362285226),(63,108,0.244903408917508),(63,111,3.82563249610889),(63,114,3.0960570085757),(63,117,0.5397961363567),(64,87,0.846392712179937),(64,94,-0.520554216132084),(64,99,1.4635761589404),(64,110,4.18492690816981),(64,112,1.03111362041078),(64,116,-0.677617725150304),(65,87,-1.17884609515671),(65,88,-3.32059694204535),(65,90,3.92750328073977),(65,97,5.80130924405652),(65,99,3.52520828882717),(65,107,1.79564043092135),(65,110,-6.97929319132054),(65,111,-3.89136936552019),(65,114,-3.1874141666921),(65,116,4.30555131687368),(65,117,-3.4255500961333),(66,85,1.44204535050508),(66,102,-2.81599627674184),(66,105,-1.6050904873806),(66,108,5.25308999908444),(66,111,1.17983794671468),(66,115,-3.01608325449385),(66,118,1.9453871272927),(67,86,0.289666432691427),(67,90,-2.70342112491226),(67,92,-1.89297158726768),(67,104,0.723853267006439),(67,109,-0.369258705404828),(67,111,0.206076235236671),(68,87,0.774498733481856),(68,88,-0.194006164738914),(68,90,-1.58459730826746),(68,93,-0.649029511398663),(68,95,-3.26737266151921),(68,96,0.747856074709311),(68,97,1.05368205816828),(68,103,3.19009979552599),(68,107,-1.46526993621632),(68,112,0.972777489547411),(68,114,0.100688192388684),(69,87,3.50186162907804),(69,88,-0.892101809747612),(69,92,1.48373363444929),(69,94,-0.683469649342326),(69,95,0.732329783013398),(69,97,-0.87290566728721),(69,108,1.54187139500107),(69,113,1.91679891354106),(69,114,0.386738181707205),(69,118,0.967650379955443),(70,85,-1.3449507126072),(70,86,1.47839289529099),(70,87,-1.6602679525132),(70,90,4.02298043763543),(70,96,-2.2442167424543),(70,97,-2.4982528153325),(70,99,1.94975127414777),(70,105,-1.56034272286142),(70,107,1.11713003936888),(70,109,-2.39761040070803),(70,110,-1.45599993896298),(70,111,-1.33841212195196),(71,85,1.44032105471969),(71,93,0.235908078249458),(71,96,-1.51913510544145),(71,100,-1.48212378307443),(71,104,0.92184972685934),(71,106,-1.48739585558641),(71,111,1.58818323313089),(71,113,1.11667226172674),(72,94,2.22338023010956),(72,96,1.6609088412122),(72,99,-0.702925199133274),(72,110,-0.173268837549974),(72,112,1.19838557084872),(72,114,-1.64136173589282),(72,115,0.618762779625843),(72,116,0.859935300759911),(73,88,1.50341807306131),(73,94,1.33082064271981),(73,99,-0.750450148014771),(73,100,-2.0570238349559),(73,106,1.94334238715781),(73,110,1.06845301675466),(73,115,-3.11816766869106),(74,90,-4.171491134373),(74,94,-0.0104068117313151),(74,99,-3.8399533066805),(74,102,-0.624408703878903),(74,106,2.65045625171667),(74,107,1.93597216711936),(74,110,2.39921262245552),(74,113,-0.374156926175726),(74,116,-2.20145268105106),(75,85,-0.0771660512100589),(75,86,0.486922818689535),(75,93,-1.53783532212287),(75,98,-1.1693243202002),(75,103,1.01872310556352),(75,105,-4.11381878109073),(75,111,1.43612475966674),(75,117,-3.69289223914304),(76,86,2.44788964506973),(76,89,0.304422132023072),(76,92,-2.93214972380749),(76,94,-0.741218298898282),(76,99,0.222220526749473),(76,101,-0.43351542710654),(76,103,0.444158757286294),(76,106,0.181508835108493),(76,110,2.3087710196234),(76,113,0.199324015015107),(77,88,-1.782586138493),(77,91,-1.40952787865841),(77,93,0.719969786675619),(77,98,0.781655323953978),(77,101,-0.900173955504013),(77,102,2.25589770195624),(77,103,0.10963774529252),(77,104,-1.66737876522111),(77,105,-0.13014618366039),(77,109,-2.26135288552507),(78,88,2.04641865291299),(78,93,-2.29331339457381),(78,94,-1.26308481093783),(78,101,-1.46473586230049),(78,104,2.26384777367473),(78,110,-0.681066316721091),(78,114,0.719206823938719),(78,116,1.14993743705557),(78,117,-2.15865047151097),(78,118,-1.55209509567553),(79,87,2.1976531266213),(79,92,-2.59617145298624),(79,94,2.74056978057192),(79,107,0.455641346476638),(79,108,-0.442548905911435),(79,114,4.16628772850734),(79,118,1.51860103152562),(80,87,-1.6567735831782),(80,88,-2.3703726310007),(80,91,0.288872951445051),(80,99,0.529297769096957),(80,101,-0.507873775444807),(80,107,-0.63373210852382),(80,113,-2.13316751609851),(81,85,-0.401814325388348),(81,86,2.01223792229987),(81,90,1.33998382518998),(81,93,1.17548142948698),(81,96,0.659733878597369),(81,97,-3.79487746818445),(81,106,-1.52523117770928),(81,107,-0.128177739799188),(81,110,1.96104312265389),(81,115,-0.878604998931852),(82,86,-0.472655415509507),(82,92,0.603198339793085),(82,110,1.91892757957701),(82,112,1.05121005890072),(83,87,-0.895184179204688),(83,91,1.89359721671194),(83,93,1.16901913510544),(83,101,-2.43075350199896),(83,103,-2.08174382763146),(83,105,1.28638569292276),(83,108,-1.96713919492172),(84,85,0.0994903408917509),(84,86,-2.86454359569079),(84,89,2.42370372631001),(84,95,-1.45123142185736),(84,99,1.65627765739921),(84,104,2.06942197943052),(84,111,2.26561021759697),(84,113,-5.47860652485733),(84,114,-1.44421216467788),(10,119,1.21573534348582),(119,109,4.20516830957976),(58,120,-1.36995300149541),(120,118,-3.66782891323588),(95,104,-1.3220618305002)]
orgname='BHNEAT_14_11'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()