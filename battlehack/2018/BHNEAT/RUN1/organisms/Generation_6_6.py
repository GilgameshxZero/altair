edge = [(0,85,-2.88384655293435),(0,89,-0.76204718161565),(0,90,-0.200888088625752),(0,93,-1.90254676961577),(0,98,0.551095614490188),(0,101,0.221190527054659),(0,105,-1.99165318765831),(0,108,-0.923184911648915),(0,113,-1.81257820368053),(0,114,-1.98338267159032),(0,117,-2.69562364574114),(0,118,-1.41193884090701),(1,86,0.223448896755882),(1,92,0.470442823572497),(1,98,-1.38546403393658),(1,102,1.44531083101901),(1,104,-1.89906002990814),(1,107,0.399487289040803),(1,108,1.01886043885617),(1,109,-0.779953917050691),(1,113,-2.36286507766961),(2,87,-0.86200292977691),(2,88,-4.64056825464644),(2,100,-1.78434095278787),(2,106,0.59195226905118),(2,108,-1.39026306955168),(2,110,1.4170354319895),(2,113,-2.57134464552751),(2,118,0.821939756462294),(3,89,1.51371807000946),(3,92,2.21241645558031),(3,97,2.23071230201117),(3,99,0.325617236854152),(3,101,-0.148457289345989),(3,103,-1.6239661854915),(3,105,6.24083681752983),(3,108,-2.39867854853969),(3,109,-1.82792901394696),(3,111,-0.0492873928037355),(3,112,2.20915860469375),(3,116,-0.466063417462691),(4,90,3.97505111850337),(4,91,0.634609515671255),(4,97,-1.46618549150059),(4,99,1.46908474990081),(4,101,-0.620899075289163),(4,108,1.25095370342112),(4,113,-1.47899563585314),(4,118,-1.16662343211158),(5,86,-2.32580034791101),(5,87,4.13644825586718),(5,89,-0.251014740440077),(5,92,2.59295175023652),(5,93,0.124973296304209),(5,99,-2.02124088259529),(5,104,0.00329599902340794),(5,114,0.998184148686178),(5,118,-0.0114444410534991),(6,89,1.0470061342204),(6,92,0.0942258980071413),(6,94,0.252082888271737),(6,100,-1.79227576525163),(6,101,-2.46818445387127),(6,103,-0.634601886043886),(6,107,-1.89310892056032),(6,110,2.60322122867519),(6,113,0.86246070741905),(7,85,3.81130405590991),(7,86,1.20189519943846),(7,90,1.78306680501724),(7,95,0.977439191869869),(7,99,1.0057832575457),(7,100,2.82569353312784),(7,104,0.639263588366344),(7,106,-1.34029663991211),(7,108,1.55219428083132),(7,112,3.09314249092074),(7,116,-3.10998870815149),(8,92,2.49183629871517),(8,93,-0.514847254860073),(8,95,3.40332499160741),(8,99,-0.523720511490219),(8,106,-0.505829035309916),(8,107,0.184850611896115),(8,115,-1.36875514999847),(8,116,-0.456221198156682),(8,118,-1.17648854029969),(9,85,0.491256447035127),(9,87,-1.53320413830988),(9,98,0.312128055665761),(9,101,-0.233161412396619),(9,103,0.164113284707175),(9,105,-0.423902096621601),(9,106,3.14585558641316),(9,113,2.41790520950957),(10,89,-2.34282967619861),(10,96,-3.14027069917905),(10,106,4.03042695394757),(10,108,0.196340830713828),(10,109,-0.259651478621784),(10,111,1.87176885280923),(10,112,-0.889461958677938),(10,114,0.926564836573382),(10,115,-0.032166508987701),(10,116,0.490050965910825),(10,117,-2.63138981292154),(11,89,0.0414059877315589),(11,97,-0.922345652638325),(11,105,-0.0307473982970672),(11,112,3.07049012726218),(11,115,0.880840479750969),(12,92,0.163510544145024),(12,93,-1.95707571642201),(12,94,2.33287301248207),(12,97,-5.00744651631214),(12,98,-1.09220404675436),(12,99,-0.935865352336192),(12,108,-4.15791802728355),(12,116,3.50296792504654),(13,86,3.82786034730064),(13,87,2.11645863216041),(13,90,1.76029999694815),(13,99,1.79586169011505),(13,102,-3.02232428968169),(13,104,-2.48731955931272),(13,113,0.518723105563524),(13,116,0.476248970000305),(13,118,-0.965109714041566),(14,90,-2.98573259681997),(14,93,-1.46848200933866),(14,95,1.61259804071169),(14,102,-2.07205420087283),(14,104,1.42464217047639),(14,106,-1.97401348918119),(14,109,0.467467268898587),(14,110,1.35054322946867),(14,111,-2.84965819269387),(15,85,-4.04714346751305),(15,92,1.10118411816767),(15,99,0.0440916165654471),(15,101,1.93235572374645),(15,104,0.480826746421705),(15,108,1.19220557267983),(15,117,3.86130100405896),(16,86,-1.23012482070376),(16,87,-3.0435117648854),(16,88,2.1973326822718),(16,90,3.38457899716178),(16,91,2.3089922788171),(16,95,0.787835322122867),(16,97,-0.403309732352672),(16,98,1.20026245918149),(16,99,0.499511703848384),(16,101,3.40232551042207),(16,108,-4.78690450758385),(16,110,1.38782921842097),(17,89,2.38234351634266),(17,96,-1.33648182622761),(17,99,-2.89203314310129),(17,101,1.29725791192358),(17,106,-0.42658009582812),(17,107,-0.393986327707755),(17,109,1.11817529831843),(18,90,-1.09065523239845),(18,91,-0.87343974120304),(18,93,1.40423291726432),(18,99,-2.9982528153325),(18,102,-5.09448530533769),(18,103,-0.617931150242622),(18,104,-0.423940244758446),(18,110,3.02317117831965),(18,111,2.26432081057161),(18,116,1.73665578173162),(18,117,-2.12157048249763),(18,118,-0.738578447828608),(19,87,-0.790604876857814),(19,89,1.43539231543931),(19,93,-1.42311624500259),(19,95,1.11293374431593),(19,101,-2.8677632984405),(19,105,-0.944143498031556),(19,115,0.635540330210272),(20,88,1.09263130588702),(20,101,0.633037812433241),(20,103,-0.924169133579516),(20,104,2.83585619678335),(20,105,1.2945951719718),(20,106,2.3600115970336),(20,111,-0.698034607989746),(20,116,-1.4813684499649),(21,86,3.67618335520493),(21,87,-0.86405529953917),(21,94,-3.45963927121799),(21,96,2.52258369701224),(21,101,-0.545678579058199),(21,102,-2.20165868099002),(21,105,-0.89074373607593),(21,107,-0.687276833399457),(21,108,0.290124210333567),(22,86,-2.09524826807459),(22,88,-5.38263344218268),(22,91,1.28316599017304),(22,92,-0.585016937772759),(22,93,-1.80725272377697),(22,98,-4.15504165776543),(22,106,-1.191671498764),(22,115,2.12215033417768),(22,117,-0.516411328470717),(23,85,-0.736411633655812),(23,86,-0.611819818720054),(23,88,2.34450819421979),(23,90,0.0919370097964415),(23,97,0.0152363658558917),(23,104,-3.61751152073733),(23,112,2.23254341257973),(23,114,0.46843623157445),(23,115,2.8362376781518),(23,116,-1.83867915890988),(24,89,1.18839075899533),(24,90,-1.99897000030519),(24,91,0.742919705801569),(24,101,2.51390881069369),(24,107,1.81722464674825),(24,108,-3.10423596911527),(24,110,0.785645619067965),(24,112,-0.77356028931547),(25,90,-1.83462782677694),(25,92,3.1387829218421),(25,94,0.25754570146794),(25,98,3.23068178350169),(25,105,1.90976439710685),(25,108,0.999099703970458),(25,109,1.47717215491195),(25,115,3.99684133426923),(26,85,0.863162633136998),(26,87,0.914044618060854),(26,89,0.43336283455916),(26,95,-0.0662022766808069),(26,98,2.11162907803583),(26,100,-0.255058442945647),(26,101,-0.810258796960356),(26,102,-1.36989959410382),(26,103,0.196844386120182),(26,104,-1.48083437604907),(26,107,-1.06791894283883),(26,109,3.06159398174993),(26,112,0.0600451673940245),(26,113,0.781350138859218),(26,117,-0.302995391705069),(27,85,1.73955504013184),(27,87,2.23044526505325),(27,94,2.24499496444594),(27,100,-0.883892330698569),(27,102,-2.83448286385693),(27,103,-0.968695638904996),(27,104,0.0585116122928557),(27,105,-1.84833063753166),(27,108,-0.582483901486252),(27,110,2.83320871608631),(27,114,-2.07245094149602),(28,87,1.2518692587054),(28,88,-1.91275521103549),(28,97,-0.549485763115329),(28,99,2.80304879909665),(28,104,4.53561510055849),(28,113,0.845110934781945),(28,114,-2.58352153080844),(29,88,-1.71857356486709),(29,91,0.299691763054293),(29,102,0.804773094882046),(29,105,0.266106143375958),(29,116,0.843310342722861),(30,95,-1.12597277748955),(30,96,0.719084749900815),(30,99,2.70096438489944),(30,101,-0.785782952360607),(30,104,-0.862681966612751),(30,109,0.865573595385602),(30,110,0.61406292916654),(30,114,-0.0984679708243049),(30,118,0.898617511520737),(31,85,1.33967101046785),(31,92,2.06624805444502),(31,94,0.657658619953001),(31,96,-2.28972746971038),(31,99,-3.57634968108158),(31,103,1.4836573381756),(31,107,1.71502578814051),(31,108,2.90831476790674),(31,109,-2.40791802728355),(31,111,0.183339945677053),(31,112,-0.553300576799829),(31,117,-2.11165196691794),(32,86,1.1310541093173),(32,87,-0.883678701132237),(32,89,-1.71856593523972),(32,92,1.80592516861476),(32,98,-0.349353007599109),(32,99,-0.114825891903439),(32,104,3.95896786400952),(32,106,2.34267708365123),(32,109,1.20792260505997),(32,116,0.728553117465743),(32,118,5.52954954680013),(33,96,0.414975432599872),(33,98,-0.344096194341868),(33,108,-1.46236304818873),(33,110,1.62053285317545),(33,111,0.595187231055635),(33,114,0.863917966246528),(34,85,1.14805291909543),(34,90,1.20213934751427),(34,99,-2.95087282937101),(34,104,-0.960097048860134),(34,109,0.371333964049196),(35,86,-0.0529496139408552),(35,87,2.4375133518479),(35,97,-3.13119907223731),(35,98,0.0318918424024171),(35,100,-3.91688283944212),(35,104,2.96350749229408),(35,107,1.74375133518479),(35,109,0.461806085390789),(35,110,1.85438093203528),(35,112,0.975180822168645),(36,85,0.173955504013184),(36,87,0.268570513016144),(36,90,2.22594378490555),(36,91,1.18583483382672),(36,104,0.406506546220283),(36,107,2.25684377574999),(36,109,1.86544389172033),(36,112,0.482779931028169),(36,115,0.512939848017823),(36,117,0.369762260811182),(36,118,-1.58085879085665),(37,85,3.32610553300577),(37,86,2.32894375438704),(37,87,0.54200872829371),(37,91,-4.8166219061861),(37,99,-3.14170506912442),(37,105,-0.922070986053041),(37,111,0.00993377483443703),(37,112,-3.22531815546129),(37,118,0.344866786706137),(38,87,2.60138248847926),(38,90,2.96197393719291),(38,103,-1.61161381878109),(38,105,-0.98734244819483),(38,106,2.14590899380474),(38,111,-1.34536271248512),(38,115,-1.07683034760582),(39,87,-1.19795068208869),(39,89,-0.314912869655446),(39,91,0.195127719962157),(39,94,-2.12415692617573),(39,97,0.276604510635701),(39,98,0.149998474074526),(39,107,0.262672811059908),(39,108,-1.01431318094424),(39,109,3.05240791039766),(39,111,-0.317331461531419),(39,113,1.7677694021424),(39,116,-0.769768364513077),(39,118,0.0193792535172582),(40,88,0.563226722006897),(40,92,-3.94165623950926),(40,99,0.976676229132969),(40,104,1.3378627887814),(40,110,1.89460432752464),(40,116,-4.63723410748619),(40,118,3.05188909573656),(41,88,0.419858394116031),(41,93,-2.00299081392865),(41,96,-0.043717764824366),(41,97,-3.36233863338115),(41,100,0.604953154087954),(41,101,-0.0996734519486068),(41,104,-1.13108462782678),(41,105,0.192060609759819),(41,106,0.76006347849971),(41,107,-0.0791955320902126),(41,109,5.21365245521409),(41,110,-1.04352702414014),(41,111,-0.255058442945647),(41,112,0.596881008331553),(42,85,-1.56591235084078),(42,86,-3.19466994232002),(42,87,1.83095797601245),(42,99,1.78449354533525),(42,100,-1.83332316049684),(42,103,0.178228095339823),(42,109,-2.30934324167608),(42,113,-2.80080568865017),(43,85,-0.153195287942137),(43,88,0.487609485152745),(43,89,-1.3301339762566),(43,93,0.512016663106174),(43,97,0.592654194769127),(43,98,1.02152317880795),(43,101,-0.841937009796441),(43,102,3.22162541581469),(43,103,2.07113864558855),(43,105,-1.8008209479049),(43,110,2.501426740318),(43,112,2.99388103885006),(43,114,-4.23062837611011),(43,116,1.51211584826197),(44,89,4.03008362071596),(44,98,-0.0575655384990998),(44,99,-1.78173162022767),(45,87,1.90742210150456),(45,88,0.175176244392224),(45,90,0.116885891293069),(45,91,1.89725943784906),(45,95,-0.983619190038759),(45,98,-0.942365794854579),(45,108,1.17489394817957),(45,109,-2.99561296426283),(45,112,-0.113925595873898),(45,115,2.14072084719382),(46,85,1.60634174626911),(46,89,-0.778046510208441),(46,91,0.958967864009522),(46,94,0.30932035279397),(46,97,-2.12523270363475),(46,100,-1.59663686025575),(46,101,0.501190221869564),(46,108,0.249183629871517),(46,112,0.043794061098056),(47,86,-0.264137699514756),(47,91,0.0508896145512254),(47,92,2.20380260628071),(47,94,-1.5448164311655),(47,95,-2.13923306985687),(47,100,1.77050843836787),(47,101,1.90507980590228),(47,104,-0.183797723319193),(47,105,-2.01332132938627),(47,108,0.721152378917814),(47,112,2.10066530350658),(47,114,-2.37891781365398),(47,118,-0.897412030396436),(48,86,0.625354777672658),(48,91,-1.61593981749931),(48,98,2.02858058412427),(48,99,-0.351725821710868),(48,100,0.637241737113559),(48,103,-3.03360850856044),(48,105,-0.244239631336406),(48,106,-1.28573717459639),(48,111,0.241782891323588),(48,115,2.64549699392682),(49,87,-3.43646046327097),(49,89,-1.48091067232276),(49,93,-2.84973448896756),(49,94,-1.46069215979492),(49,95,-0.718939786980804),(49,102,6.6498077333903),(49,113,1.23545030060732),(49,114,1.50701162755211),(50,89,2.47398297067171),(50,105,2.07733390301218),(50,107,2.0883053071688),(51,87,-3.71417889950255),(51,92,5.49019592883084),(51,97,2.73776970732749),(51,98,-4.0722830896939),(51,103,-0.968489638966033),(51,106,1.47389904477065),(51,112,-1.47663808099612),(51,118,-0.812547685171056),(52,89,1.01753288369396),(52,97,-1.85720389416181),(52,106,-2.47821741386151),(52,110,-1.68527024140141),(52,111,-1.12369914853359),(52,113,1.61486404004028),(52,114,-1.853465376751),(52,118,0.284401989806818),(53,88,-0.778267769402142),(53,90,1.37356181524094),(53,92,-0.411618396557512),(53,94,-0.172963652455214),(53,104,3.06864375743889),(53,105,-0.588473158970916),(53,109,-0.803300576799829),(54,85,-4.05586413159581),(54,91,0.869739371929075),(54,94,1.21343882564776),(54,96,1.33404034546953),(54,111,-1.28070925016022),(54,112,-1.04139072847682),(54,113,-0.784714804528947),(54,118,-3.50431073946348),(55,87,-2.50227362895596),(55,95,3.51527451399274),(55,107,-1.77694021423994),(55,110,1.94135868404187),(55,117,-0.150975066377758),(56,107,3.32635731070895),(56,111,2.08916745506149),(56,113,-3.59439374980926),(56,114,-1.23239844965972),(57,87,-1.19539475692007),(57,90,5.27671895504623),(57,91,-2.05534531693472),(57,92,0.944013794366283),(57,93,2.04921872615741),(57,94,1.11740470595416),(57,95,2.03339487899411),(57,96,-1.93318735312967),(57,100,-1.44573809015168),(57,102,1.5286721396527),(57,103,-0.449537644581439),(57,115,-2.24196600238044),(58,86,-1.11964781640065),(58,87,-1.03808709982604),(58,89,6.00239570299387),(58,90,-0.987807855464339),(58,95,0.781830805383465),(58,96,1.2526322214423),(58,101,2.21312601092563),(58,103,0.404919583727531),(58,109,-2.08082827234718),(58,110,2.97342600787378),(58,113,-0.356715598010193),(58,114,-1.39831995605335),(58,115,2.6272392956328),(58,118,-2.80404065065462),(59,85,1.28112125003815),(59,86,-0.539262062440871),(59,90,-1.8847468489639),(59,91,-1.92640461439863),(59,93,-0.76464125492111),(59,97,1.21669667653432),(59,98,-1.11445966978973),(59,100,0.684919278542436),(59,102,2.35621204260384),(59,112,-1.81203650013733),(59,114,-1.39385662404248),(60,85,2.74964903714103),(60,87,1.93548387096774),(60,90,-3.44989623706778),(60,91,1.43223364970855),(60,96,-1.61053804132206),(60,100,4.09955900753807),(60,101,1.49111148411512),(60,105,0.75922421948912),(60,107,1.35861537522507),(60,109,-0.0532853175450911),(60,110,-4.68278298287912),(60,114,0.254982146671956),(61,89,4.61650440992462),(61,94,-2.42005676442763),(61,96,0.737556077761162),(61,98,-1.2000640888699),(61,100,-0.995056001464888),(61,102,-1.25144962920011),(61,103,-1.65532395397809),(61,114,-1.65244758445997),(61,115,3.80779442732017),(62,93,-5.13972899563585),(62,95,-1.04426709799493),(62,107,0.515381328775903),(62,109,-0.203329569383832),(62,110,-2.01803643910031),(62,111,3.64879299295022),(63,87,1.13818018127995),(63,90,-0.726798303170873),(63,93,-2.58171330912198),(63,97,-1.57049012726218),(63,100,-2.33031708731346),(63,103,1.43588061159093),(63,104,2.03875850703452),(63,108,-2.03430280465102),(63,111,-1.49103518784143),(63,114,1.9037446211127),(63,117,-1.17077394940031),(64,87,0.328188421277505),(64,94,-0.838709677419355),(64,99,0.458334604937895),(64,110,0.292580950346385),(64,112,2.29392376476333),(64,116,3.00722525711844),(65,87,1.06868190557573),(65,88,1.07887508774071),(65,90,0.64798425244911),(65,97,1.6193884090701),(65,99,-0.215063936277352),(65,107,0.0500198370311593),(65,110,-4.14835810419019),(65,111,1.88184759056368),(65,114,-4.63441114535966),(65,116,2.55594805749687),(65,117,3.00431836909085),(66,85,3.19819483016449),(66,102,-4.43168431653798),(66,105,0.160756248664815),(66,108,0.685064241462447),(66,111,2.23512985625782),(66,115,-3.29754020813624),(66,118,1.97968230231636),(67,86,1.05972472304453),(67,90,1.15652180547502),(67,92,2.09678945280313),(67,104,-0.193258461256752),(67,109,-0.510032959990234),(67,111,3.81906338694418),(68,87,2.40340891750847),(68,88,-2.04039124729148),(68,90,0.981185338908048),(68,93,-1.07502975554674),(68,95,2.90781884212775),(68,96,4.36115604113895),(68,97,-2.12759788811914),(68,103,0.237739188818018),(68,107,-4.018753624073),(68,112,0.181623279519028),(68,114,1.44029816583758),(69,87,0.52371288186285),(69,88,-0.392780846583453),(69,92,1.43604846339305),(69,94,-0.523133030182806),(69,95,0.669804986724448),(69,97,2.08952604754784),(69,108,0.201300088503677),(69,113,1.7017120883816),(69,114,1.95669423505356),(69,118,1.24254585406049),(70,85,-3.3333079012421),(70,86,-0.724738303781243),(70,87,0.789849543748283),(70,90,5.06129642628254),(70,96,-0.954123050630207),(70,97,2.11575670644246),(70,99,-2.25501266518143),(70,105,-3.06105227820673),(70,107,0.0965910824915311),(70,109,-0.847117526779992),(70,110,2.1599475081637),(70,111,1.93656727805414),(71,85,4.96228675191504),(71,93,-1.76120792260506),(71,96,-2.22920926541948),(71,100,0.0917081209753716),(71,104,-0.194860683004242),(71,106,1.68439283425397),(71,111,2.81713309121982),(71,113,1.21494186223945),(72,94,-0.278679769280068),(72,96,-2.51890621662038),(72,99,-0.84774315622425),(72,110,-1.28582110049745),(72,112,-1.79960020752586),(72,114,3.03257850886563),(72,115,3.65050965910825),(72,116,-0.0328836939603869),(73,88,-0.880382702108829),(73,94,0.565507980590228),(73,99,1.20254371776482),(73,100,1.51231421857356),(73,106,-2.20553453169347),(73,110,-3.18243202002014),(73,115,0.987578966643269),(74,90,3.43890957365642),(74,94,-1.41422772911771),(74,99,-1.59680471205786),(74,102,-3.71858882412183),(74,106,-2.17961668752098),(74,107,2.22357860042116),(74,110,0.839953306680501),(74,113,-2.0903729361858),(74,116,1.16798913541063),(75,85,1.28460036011841),(75,86,1.46801660206915),(75,93,-1.94372386852626),(75,98,1.35374767296365),(75,103,-3.93536942655721),(75,105,2.82151249732963),(75,111,0.48330637531663),(75,117,1.30022583697012),(76,86,-1.00444044312876),(76,89,-0.565744499038667),(76,92,0.487685781426435),(76,94,-2.56176183355205),(76,99,1.61561937314982),(76,101,0.235030671102023),(76,103,-0.767128513443403),(76,106,-1.65387432477798),(76,110,0.817484054078799),(76,113,-0.194517349772637),(77,88,0.860232856227302),(77,91,-1.02625354777673),(77,93,-4.56740012817774),(77,98,0.622394482253487),(77,101,-1.08899197363201),(77,102,2.72740867336039),(77,103,-1.16664632099368),(77,104,-0.442442091128269),(77,105,-0.226317636646626),(77,109,-1.79159672841578),(78,88,-0.11078218939787),(78,93,0.616168706320383),(78,94,0.712683492538224),(78,101,-0.809961241492966),(78,104,-0.731597338785974),(78,110,-0.492271187475204),(78,114,-1.50257881405072),(78,116,-2.83433027130955),(78,117,-0.785943174535356),(78,118,-3.71289712210456),(79,87,-0.168736838892789),(79,92,1.11140781884213),(79,94,-0.853137302774132),(79,107,1.00138859218116),(79,108,3.44719534897916),(79,114,-0.865550706503495),(79,118,0.462294381542405),(80,87,1.84080019531846),(80,88,-2.09124271370586),(80,91,0.162030396435438),(80,99,-2.98677022614216),(80,101,2.3939024018067),(80,107,-0.096713156529435),(80,113,1.57528916287729),(81,85,-1.04037598803674),(81,86,-0.574282052064577),(81,90,0.527344584490493),(81,93,-0.73574022644734),(81,96,-1.06976531266213),(81,97,-1.05111087374493),(81,106,-1.06026642658773),(81,107,1.20226142155217),(81,110,2.34994811853389),(81,115,-2.14996032593768),(82,86,2.91461684011353),(82,92,-2.67899105807672),(82,110,-0.314722128971221),(82,112,2.06388286996063),(83,87,-0.182576982940153),(83,91,3.56830042420728),(83,93,-1.26590014343699),(83,101,-0.362178411206397),(83,103,2.28659932248909),(83,105,3.52018799401837),(83,108,-1.42994476149785),(84,85,0.773415326395459),(84,86,1.612521744438),(84,89,-2.79109317300943),(84,95,0.137821588793603),(84,99,-0.281609546189764),(84,104,1.90523239844966),(84,111,-0.649250770592364),(84,113,0.292977690969573),(84,114,-1.52213354899747)]
orgname='BHNEAT_6_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()