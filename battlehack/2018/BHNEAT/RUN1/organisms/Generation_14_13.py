edge = [(0,85,1.91483809930723),(0,89,-1.07410657063509),(0,90,-1.53347880489517),(0,93,-4.00431836909085),(0,98,0.504264961699271),(0,101,-2.13537247840815),(0,105,2.45910519730216),(0,108,-0.265434736167485),(0,113,1.23274941251869),(0,114,5.26879177220984),(0,117,1.36226996673483),(0,118,-1.20763267921995),(1,86,-1.84949034089175),(1,92,3.04171117282632),(1,98,2.53219702749718),(1,102,-1.64006469924009),(1,104,1.26948606830042),(1,107,-0.084711752677999),(1,108,-2.80129398480178),(1,109,2.6148106326487),(1,113,-2.90163121433149),(2,87,0.93130283516953),(2,88,3.75766777550584),(2,100,-2.63611255226295),(2,106,-0.408825952940458),(2,108,-0.255661183507798),(2,110,-1.88453321939756),(2,113,-0.348223822748497),(2,118,0.949812311166722),(3,89,1.29658650471511),(3,92,-2.11785485396893),(3,97,-1.66196172978912),(3,99,3.67200994903409),(3,101,-3.39201025421918),(3,103,-3.11592455824458),(3,105,1.28009125034333),(3,108,0.460371715445417),(3,109,-0.516708883938108),(3,111,2.91668446913053),(3,112,-5.84095278786584),(3,116,-0.279396954252754),(4,90,5.51894436475722),(4,91,-1.02110354930265),(4,97,2.44511246070742),(4,99,-2.65060121463668),(4,101,-1.23892941068758),(4,108,-1.59321878719443),(4,113,-3.79146702475051),(4,118,0.531922360911893),(5,86,0.822794274727622),(5,87,-2.7095400860622),(5,89,-1.76343577379681),(5,92,-3.26133762627033),(5,93,0.13411358989227),(5,99,0.00282296212652974),(5,104,-0.551683095797602),(5,114,-0.237128818628498),(5,118,0.194929349650563),(6,89,-0.672627948850978),(6,92,-0.403912472914823),(6,94,1.91648609881893),(6,100,-0.672261726737266),(6,101,1.28485213782159),(6,103,1.92167424542985),(6,107,0.345042268135624),(6,110,0.973380230109562),(6,113,0.263679921872616),(7,85,-0.727027191991943),(7,86,-5.76572466200751),(7,90,-0.619731742301706),(7,95,-2.16574602496414),(7,99,-0.527085177159948),(7,100,1.1056321909238),(7,104,-2.76423688467055),(7,106,-0.32547990356151),(7,108,1.88057344279305),(7,112,0.597453230384228),(7,116,-1.06273079622791),(8,92,-2.34275337992492),(8,93,1.6391262550737),(8,95,2.09899441511277),(8,99,1.90420239875484),(8,106,-0.724967192602313),(8,107,1.20303964354381),(8,115,-2.17123172704245),(8,116,-0.274178289132359),(8,118,-0.64676351207007),(9,85,0.433309427167577),(9,87,3.53511154515213),(9,98,-2.74017303994873),(9,101,-0.590151676992096),(9,103,2.02909939878536),(9,105,-0.562379833368938),(9,106,4.34626300851466),(9,113,-0.990783410138249),(10,89,-0.862483596301157),(10,96,0.895573290200507),(10,106,1.89318521683401),(10,108,0.608691671498764),(10,111,-1.40790276802881),(10,112,1.4219336527604),(10,114,-0.981948301644948),(10,115,-0.0699713126010924),(10,116,1.84873500778222),(10,117,-0.120670186468093),(11,89,-2.67714468825343),(11,97,1.19866786706137),(11,105,1.09035767693106),(11,112,1.1154744102298),(11,115,-4.56621753593554),(12,92,3.47328104495376),(12,93,1.75488296151616),(12,94,0.505615405743583),(12,97,0.114597003082369),(12,98,4.59350871303446),(12,99,0.897625659962767),(12,108,5.7989516891995),(12,116,-4.81397442548906),(13,86,2.37044892727439),(13,87,-1.78312021240883),(13,90,-0.296945097201453),(13,99,0.495979186376537),(13,102,2.68852809228797),(13,104,-1.79769280068361),(13,113,2.45863216040529),(13,116,-3.45159764397107),(13,118,-1.62427137058626),(14,90,-6.15224158452101),(14,93,4.2459639271218),(14,95,-5.053407391583),(14,102,2.70020142216254),(14,104,-1.62366100039674),(14,106,-0.454420606097599),(14,109,-1.84488967558824),(14,110,-0.758018738364818),(14,111,-0.717024750511185),(15,85,-0.516067995239113),(15,92,4.29441206091495),(15,99,-1.97306741538743),(15,101,-2.03962828455458),(15,104,-1.85048982207709),(15,108,1.38969084749901),(15,117,-0.646702475051118),(16,86,-0.742362743003632),(16,87,-2.78283791619617),(16,88,-0.0451521347697377),(16,90,-1.63963744010743),(16,91,-4.85976744895779),(16,95,-3.15752891628773),(16,97,-3.7916653950621),(16,98,-2.40585039826655),(16,99,-1.99102755821406),(16,101,-0.128894924771874),(16,108,1.56933805352947),(16,110,1.38567003387555),(17,89,-1.25965910824915),(17,96,-3.05586413159581),(17,99,3.30416272469253),(17,101,-0.138119144260994),(17,106,-0.318765831476791),(17,107,2.18597216711936),(17,109,-4.09060945463424),(18,90,-0.87290566728721),(18,91,-2.22235786004212),(18,93,2.63829462569048),(18,99,-0.972701193273721),(18,102,5.41665395062105),(18,103,0.886257515182959),(18,104,0.380260628070925),(18,110,0.409756767479476),(18,111,-3.10985137485885),(18,116,1.45123142185736),(18,117,-4.01825769829401),(18,118,0.987411114841151),(19,87,-0.0415051728873563),(19,89,-0.0773644215216529),(19,93,1.79338206122013),(19,95,-0.297784356212043),(19,101,-0.0382015442365795),(19,105,-2.83117923520615),(19,115,-1.19316690572832),(20,88,-7.17164372692038),(20,101,3.2183751945555),(20,103,2.30584887234108),(20,104,-0.319345683156835),(20,105,0.374355296487319),(20,106,1.33205664235359),(20,111,-2.24181340983306),(20,116,2.60856196783349),(21,86,2.43430890835292),(21,87,-1.2260048219245),(21,94,3.48598437452315),(21,96,3.40990936002686),(21,101,1.76731925412763),(21,102,1.59797204504532),(21,105,0.511696218756676),(21,107,0.497573778496658),(21,108,1.10634174626911),(22,86,-1.37974181340983),(22,88,-4.26536606952116),(22,91,-1.33686330759606),(22,92,-3.62072359385968),(22,93,2.11249122592853),(22,98,-1.29253517258217),(22,106,-4.66478469191565),(22,115,-1.21158482619709),(22,117,-2.9597613452559),(23,85,-2.92293313394574),(23,86,0.863399151585437),(23,88,-1.97204504531999),(23,90,1.06089968565935),(23,97,0.691793572801905),(23,104,5.94674520096438),(23,112,-3.89961699270608),(23,114,2.94985808893094),(23,115,-0.585268715475936),(23,116,-1.9978331858272),(24,89,-1.57002471999268),(24,90,-2.13798181096835),(24,91,-1.66548661763359),(24,101,-1.6041291543321),(24,107,3.39290292062136),(24,108,-1.1040070802942),(24,110,-0.176404614398633),(24,112,-0.45357371745964),(25,90,-1.17714468825343),(25,92,-1.67692342905972),(25,94,-5.79259620960112),(25,98,-3.60218359935301),(25,105,-0.281197546311838),(25,108,3.82442701498459),(25,109,0.504623554185614),(25,115,-1.30664998321482),(26,85,-0.115970336008789),(26,87,-3.23206274605548),(26,89,-1.59684286019471),(26,95,1.87879573961608),(26,98,-2.96634571367534),(26,100,-1.61336100344859),(26,101,1.41079439680166),(26,102,0.0399334696493421),(26,103,-1.24858851893674),(26,104,1.30195013275552),(26,107,-4.69489120151372),(26,109,3.4728537858211),(26,112,2.12414166692099),(26,113,-1.66351054414502),(26,117,-2.32518997772149),(27,85,1.95371868037965),(27,87,2.27607043671987),(27,94,3.04704428235725),(27,100,-0.469374675740837),(27,102,-1.33857997375408),(27,103,0.523621326334422),(27,104,2.24539170506912),(27,105,0.260917996765038),(27,108,-3.47827082125309),(27,110,2.10114597003082),(27,114,1.43626972258675),(28,87,-0.813074129459517),(28,88,-1.28038880581072),(28,97,2.51899777214881),(28,99,-2.1732383190405),(28,104,-5.48408459730827),(28,113,-1.88360240485855),(28,114,-1.79517502365184),(29,88,1.02703176976836),(29,91,-4.55058442945647),(29,102,-1.19565416425062),(29,105,-0.985076448866237),(29,116,-3.54261909848323),(30,95,2.56505020294809),(30,96,2.78003784295175),(30,99,-0.496612445448164),(30,101,-2.34046449171422),(30,104,-0.670720542008728),(30,109,-0.306909390545366),(30,110,2.48053682058168),(30,114,-2.87542344431898),(30,118,2.95906704916532),(31,85,4.6950666829432),(31,92,3.91389965514084),(31,94,1.67533646656697),(31,96,2.53695791497543),(31,99,-2.23578600421155),(31,103,-3.60165715506455),(31,107,-2.570879238258),(31,108,2.00735496078372),(31,109,-0.412839136936552),(31,111,1.83976256599628),(31,112,-2.2552415540025),(31,117,2.09257026886807),(32,86,1.01054414502396),(32,87,3.674985503708),(32,89,0.878177739799188),(32,92,-3.3342692342906),(32,98,1.78148747215186),(32,99,0.141529587694937),(32,104,2.08207953123569),(32,106,0.0575426496169926),(32,109,3.63232825708792),(32,116,-2.3092135380108),(32,118,-2.4318521683401),(33,96,-4.53092287972656),(33,98,0.0103686635944701),(33,108,4.95556505020295),(33,110,-2.28464613788263),(33,111,-2.54584643086032),(33,114,-2.67596209601123),(34,85,-3.06060213019196),(34,90,2.27150791955321),(34,99,-0.607623523667104),(34,104,-0.608294930875577),(34,109,-5.08639790032655),(35,86,2.35370189519944),(35,87,0.301644947660756),(35,97,2.45361186559648),(35,98,0.651303140354625),(35,100,-0.351794488357189),(35,104,-0.404599139378033),(35,107,-4.49604785302286),(35,109,1.33571886349071),(35,110,0.290612506485183),(35,112,0.231406598101749),(36,85,-0.977408673360393),(36,87,-4.64056062501907),(36,90,3.71223334452345),(36,91,0.0391018402661212),(36,104,-2.667355876339),(36,107,4.73805200354015),(36,109,-0.0421155430768761),(36,112,2.0142979216895),(36,115,2.65377513962218),(36,117,-7.40452284310434),(36,118,2.10544907986694),(37,85,0.480590227973266),(37,86,-5.38281655323954),(37,87,2.16017639698477),(37,91,-1.0064241462447),(37,99,-0.357371745963927),(37,105,2.10486159855953),(37,111,3.30360576189459),(37,112,-1.38226722006897),(37,118,-2.28690450758385),(38,87,1.05752739036225),(38,90,-0.130787072359386),(38,103,1.96210364085818),(38,105,0.0868709372234258),(38,106,-4.28331095309305),(38,111,2.19543290505692),(38,115,2.69598223822748),(39,87,-1.21059297463912),(39,89,-2.1919919431135),(39,91,0.32059694204535),(39,94,0.430928983428449),(39,97,1.73177282021546),(39,98,3.39732047486801),(39,107,1.1169774468215),(39,108,4.28473006378368),(39,109,0.686307870723594),(39,111,-4.17891476180303),(39,113,-0.95585497604297),(39,116,-2.28672902615436),(39,118,-6.40025788140507),(40,88,-2.29082613605152),(40,92,-1.52439954832606),(40,99,1.84832300790429),(40,104,-0.992233039338359),(40,110,1.81929990539262),(40,116,-0.149983214819788),(40,118,-3.20062868129521),(41,88,-4.37810907315287),(41,93,4.23384807885983),(41,96,-2.89040040284433),(41,97,-2.70992919705802),(41,100,2.43236335337382),(41,101,3.82512131107517),(41,104,0.481124301889096),(41,105,-0.450605792413099),(41,106,1.8509552293466),(41,107,-7.2217474898526),(41,109,1.89420758690146),(41,110,3.07298501541185),(41,111,0.0250251777703177),(41,112,3.09115115817744),(42,85,0.453688161870174),(42,86,-0.273018585772271),(42,87,1.67102572710349),(42,99,1.7299417096469),(42,100,-2.14418469801935),(42,103,-5.83227790154729),(42,109,-2.058328501236),(42,113,-0.226874599444563),(43,85,-2.92629779961547),(43,88,-1.96543015839106),(43,89,-1.82701345866268),(43,93,3.16788995025483),(43,97,-3.19061098055971),(43,98,-3.26316110721152),(43,101,-0.319002349925229),(43,102,-2.32268745994446),(43,103,-2.96372875148778),(43,105,1.34762108218635),(43,110,-2.98618274483474),(43,112,1.47577593310343),(43,114,-0.0932569353312782),(43,116,0.075304422132023),(44,89,1.90359202856532),(44,98,0.0907925656910916),(44,99,-2.29245887630848),(45,87,-0.405041657765435),(45,88,-2.46633808404797),(45,90,1.72136600848415),(45,91,0.450354014709922),(45,95,-0.43115024262215),(45,98,-1.61084322641682),(45,108,1.65151676992096),(45,109,4.77352214117862),(45,112,-1.68890957365642),(45,115,3.73996704000977),(46,85,-2.05487228003784),(46,89,0.0490813928647726),(46,91,-1.73764763328959),(46,94,-0.840250862147893),(46,97,-0.161107211523789),(46,100,-0.0315866573076571),(46,101,0.557054353465377),(46,108,-4.98634296700949),(46,112,-0.981200598162786),(47,86,-0.65332499160741),(47,91,-0.52546769615772),(47,92,2.39095736564226),(47,94,0.999015778069399),(47,95,-0.633526108584857),(47,100,1.12048707541124),(47,101,0.154042176580096),(47,104,-4.94613483077486),(47,105,7.92640461439863),(47,108,0.366985076448866),(47,112,1.27246162297433),(47,114,-1.41918698690756),(47,118,0.270416882839442),(48,86,-0.361079744865261),(48,91,-2.26148258919034),(48,98,2.16987365337077),(48,99,2.06411938840907),(48,100,1.3959929197058),(48,103,-1.564531388287),(48,105,-2.17398602252266),(48,106,0.572069460127567),(48,111,-1.84504989776299),(48,115,-1.1936170537431),(49,87,1.97625659962767),(49,89,-1.34542374950407),(49,93,3.544495986816),(49,94,4.4545197912534),(49,95,1.83948789941099),(49,102,1.15376750999481),(49,113,-2.59752189703055),(49,114,2.77017273476363),(50,89,-2.62541581469161),(50,105,2.25096896267586),(50,107,1.22862941373943),(51,87,0.970625934629353),(51,92,4.10509811700797),(51,97,2.43621631519517),(51,98,-1.93495742667928),(51,103,0.0995666371654408),(51,106,2.1940595721305),(51,112,2.77897732474746),(51,118,-3.22681356242561),(52,89,0.394764549699393),(52,97,4.24604785302286),(52,106,-0.287293618579668),(52,110,-2.50926999725333),(52,111,-2.33207190160833),(52,113,-1.50553910946989),(52,114,-1.73580889309366),(52,118,5.59843745231483),(53,88,3.58111056855983),(53,90,-2.63969847712638),(53,92,1.8992660298471),(53,94,-0.204168828394422),(53,104,-0.65523239844966),(53,105,1.02033295693838),(53,109,0.935087130344554),(54,85,1.59108249153111),(54,91,-2.83951841792047),(54,94,-3.33518478957488),(54,96,-2.26241340372936),(54,111,-0.946874904629658),(54,112,1.13064973906674),(54,113,2.88359477523118),(54,118,-0.775582140568255),(55,87,-1.39614551225318),(55,95,0.881984923856319),(55,107,0.183225501266518),(55,110,-3.08832056642354),(55,117,-1.62350840784936),(56,107,1.87058626056703),(56,111,1.68011261329997),(56,113,-0.865527817621387),(56,114,-1.10273293252358),(57,87,0.611377300332652),(57,90,2.00366985076449),(57,91,-2.48531296731468),(57,92,1.6185033722953),(57,93,7.74229407635731),(57,94,0.531556138798181),(57,95,-2.22533341471603),(57,96,-0.737815485091708),(57,100,-0.157116916409803),(57,102,-1.78144169438765),(57,103,-2.2198019348735),(57,115,-1.19747001556444),(58,86,-1.29512924588763),(58,87,-0.726462599566637),(58,89,3.11725211340678),(58,90,-4.29765465254677),(58,95,-0.141911069063387),(58,96,2.79793694875942),(58,101,-4.24186681722465),(58,103,-1.61433759575182),(58,109,-2.63222144230476),(58,110,4.68514816736351),(58,113,-1.28902554399243),(58,114,-2.47169408246101),(58,115,0.226981414227729),(59,85,-0.451673940244758),(59,86,-2.52891628772851),(59,90,-2.38855403302103),(59,91,-1.2366863002411),(59,93,5.42274239326151),(59,97,-2.18939786980804),(59,98,2.70461897640919),(59,100,-0.287865840632344),(59,102,1.94085512863552),(59,112,0.400860621967223),(59,114,1.38554033021027),(60,85,2.1920911282693),(60,87,-2.0647526474807),(60,90,1.8046357615894),(60,91,-1.5446943571276),(60,96,3.95443586535234),(60,100,-2.24846644489883),(60,101,2.33283486434523),(60,105,2.29102450636311),(60,107,-0.00251777703176977),(60,109,0.978316599017304),(60,110,1.19106112857448),(60,114,-1.98438978240303),(61,89,2.25090029602954),(61,94,-1.32016968291269),(61,96,1.61305581835383),(61,98,-0.0469985045930357),(61,100,-1.23619037446211),(61,102,1.58536027100436),(61,103,-0.471816156498917),(61,114,2.14827417828913),(61,115,1.83812982573931),(62,93,-3.20533616138188),(62,95,-2.17108676412244),(62,107,1.17282631916257),(62,109,0.247047334208197),(62,110,-0.0602740562150945),(62,111,-1.50105288857692),(63,87,-0.338396862697226),(63,90,6.17239906002991),(63,93,-0.456709494308298),(63,97,1.62813959166234),(63,100,2.72779015472884),(63,103,5.13367107150487),(63,104,-0.563097018341624),(63,108,-3.61407818842128),(63,111,-2.03474532303842),(63,114,1.42032380138554),(63,117,0.0389873958555864),(64,87,2.39009521774956),(64,94,0.504165776543474),(64,99,2.43385113071078),(64,110,1.41293069246498),(64,112,-1.27056184575945),(64,116,-2.28243354594562),(65,87,1.006202887051),(65,88,1.67932676168096),(65,90,-2.47947630237739),(65,97,5.38847010711997),(65,99,1.03846858119449),(65,107,-0.0594271675771356),(65,110,-4.99436933500168),(65,111,2.88001647999512),(65,114,-3.27690969573046),(65,116,-1.94509720145268),(65,117,-4.23291726432081),(66,85,0.764549699392681),(66,102,-2.28123569444868),(66,105,-1.8794061098056),(66,108,2.43629261146886),(66,111,0.000373851741081177),(66,115,-0.933103427228614),(66,118,-0.550492873928037),(67,86,5.39696951200903),(67,90,1.76091799676504),(67,92,-1.27993102816858),(67,104,-0.734702597125156),(67,109,-0.921948912015137),(67,111,-0.490661336100345),(68,87,-3.14989165929136),(68,88,-1.66965239417707),(68,90,-1.33845789971618),(68,93,-1.34454634235664),(68,95,-2.50151066621906),(68,96,1.80951872310556),(68,97,-1.71121860408338),(68,103,1.82844019898068),(68,107,1.57059694204535),(68,112,0.487838373973815),(68,114,-1.28012176885281),(69,87,-0.238044373912778),(69,88,-0.517944883571887),(69,92,-0.482497634815516),(69,94,-0.239349040192877),(69,95,-0.226180303353984),(69,97,-1.98637348551897),(69,108,1.29352702414014),(69,113,-2.26873836481826),(69,114,-2.06434827723014),(69,118,2.60901211584826),(70,85,-1.91236610003967),(70,86,-0.419248023926511),(70,87,-3.55302591021454),(70,90,0.776619769890439),(70,96,-4.03824732200079),(70,97,-1.39034699545274),(70,99,2.16901913510544),(70,105,1.23164311655019),(70,107,0.304498428296762),(70,109,-0.727019562364574),(70,110,-0.762619403668325),(70,111,-0.39600054933317),(71,85,3.66382335886715),(71,93,-0.617236854152043),(71,96,-1.53180028687399),(71,100,0.676755577257607),(71,104,1.68424024170659),(71,106,2.15521713919492),(71,111,3.18138676107059),(71,113,0.260246589556566),(72,94,0.178792687765129),(72,96,-1.44947660756249),(72,99,-0.727416302987762),(72,110,-2.2526093325602),(72,112,0.676519058809168),(72,114,-3.92551957762383),(72,115,-0.282296212652974),(72,116,-1.47328104495376),(73,88,-3.7556840723899),(73,94,-0.563463240455336),(73,99,-0.87496566667684),(73,100,-1.84301278725547),(73,106,1.94334238715781),(73,110,0.354777672658467),(73,115,1.6491439558092),(74,90,3.04552598651082),(74,94,-1.4118930631428),(74,99,0.124286629840999),(74,102,-1.23607593005158),(74,106,0.640430921353801),(74,107,2.86335337382122),(74,110,-1.66778313547166),(74,113,0.0209814752647481),(74,116,-2.20145268105106),(75,85,-3.63776055177465),(75,86,0.0233466597491376),(75,93,-2.7826090273751),(75,98,1.30634479812006),(75,103,-0.563890499588),(75,105,-4.29143650624104),(75,111,0.239745780816065),(75,117,-1.47694326609088),(76,86,2.15636158330027),(76,89,-0.268028809472945),(76,92,-4.16898861659597),(76,94,0.368434705648976),(76,99,3.52832117679373),(76,101,0.251930295724357),(76,103,0.304307687612537),(76,106,-1.52706991790521),(76,110,2.06343272194586),(76,113,-1.10087893307291),(77,88,-1.58085879085665),(77,91,-0.110965300454726),(77,93,-2.62531662953581),(77,98,2.06350901821955),(77,101,1.89954832605976),(77,102,-1.65387432477798),(77,103,-0.634479812005982),(77,104,-0.740302743614002),(77,105,-0.164288766136662),(77,109,-2.03551591540269),(78,88,-2.4192251350444),(78,93,-0.369029816583758),(78,94,-0.648236030152287),(78,101,2.35268715475936),(78,104,3.28431043427839),(78,110,0.278283028656881),(78,114,1.82367168187506),(78,116,1.14993743705557),(78,117,0.683309427167577),(78,118,-2.68745994445631),(79,87,4.73328348643452),(79,92,-2.07163457136753),(79,94,0.735267189550462),(79,107,4.24915311136204),(79,108,-0.442548905911435),(79,114,1.34347819452498),(79,118,-0.118587298196356),(80,87,1.03410443433943),(80,88,-3.0230109561449),(80,91,0.284524063844722),(80,99,-0.922467726676229),(80,101,-2.63275551622059),(80,107,0.0952177495651112),(80,113,-3.78158665730766),(81,85,1.0887478255562),(81,86,-0.600833155308695),(81,90,0.33135471663564),(81,93,-0.0160374767296363),(81,96,2.01223792229987),(81,97,-0.443815424054689),(81,106,2.76796014282662),(81,107,3.13767662587359),(81,110,2.0455793939024),(81,115,-2.00428022095401),(82,86,-1.59718619342631),(82,92,0.399029511398663),(82,110,-0.678571428571428),(82,112,0.268791772209845),(83,87,-2.90681173131504),(83,91,-0.177312540055544),(83,93,3.64071321756645),(83,101,-2.98764000366222),(83,103,0.21614734336375),(83,105,1.28638569292276),(83,108,-0.582438123722037),(84,85,-1.27795495468001),(84,86,-2.31902523880734),(84,89,-4.07498397778252),(84,95,1.68828394421216),(84,99,-2.03253273110141),(84,104,2.06942197943052),(84,111,-2.14812158574175),(84,113,-2.98562578203681),(84,114,-1.20853297524949),(10,119,2.1925565355388),(119,109,4.27894680623798),(58,120,2.19857631153294),(120,118,4.62313455610828),(95,104,-2.21274452955718)]
orgname='BHNEAT_14_13'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()