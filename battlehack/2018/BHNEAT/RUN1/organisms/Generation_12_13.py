edge = [(0,85,0.653660695211646),(0,89,-0.910145878475295),(0,90,1.66714987640004),(0,93,-0.688604388561663),(0,98,0.714056825464644),(0,101,-3.62856685079501),(0,105,0.500274666585284),(0,108,2.56393627735221),(0,113,3.54422132023072),(0,114,2.82898953215125),(0,117,1.88993499557482),(0,118,1.16579180272835),(1,86,-1.53171636097293),(1,92,1.44399090548418),(1,98,1.86864833521531),(1,102,-4.31799523911252),(1,104,-2.6530579546495),(1,107,1.14983825189978),(1,108,1.64883877071444),(1,109,-1.41561632129887),(1,113,-1.65220343638417),(2,87,-1.3656727805414),(2,88,-1.78281502731407),(2,100,1.04518265327921),(2,106,3.77594836268197),(2,108,0.678205206457716),(2,110,1.77167577135533),(2,113,-1.092341380047),(2,118,0.834833826715903),(3,89,3.42334513382366),(3,92,0.987655262916959),(3,97,0.0224311044648579),(3,99,0.686841944639424),(3,101,-0.722785119174779),(3,103,1.28614154484695),(3,105,-0.305154576250495),(3,108,-0.184408093508713),(3,109,-1.72048097170934),(3,111,-1.45287942136906),(3,112,-2.26464125492111),(3,116,-1.49903866695151),(4,90,2.21592608417005),(4,91,0.364589373455001),(4,97,2.32312997833186),(4,99,2.20451216162603),(4,101,1.81447798089541),(4,108,-2.58735923337504),(4,113,-3.10098574785607),(4,118,-0.0470900601214637),(5,86,0.307626575518052),(5,87,-1.18750572222053),(5,89,2.08417767876217),(5,92,-0.147556993316446),(5,93,3.16238898892178),(5,99,2.78272347178564),(5,104,-0.491500595110935),(5,114,2.26359599597156),(5,118,0.992996002075259),(6,89,-1.73164311655019),(6,92,-0.612163151951659),(6,94,-1.76412244026002),(6,100,2.54324472792749),(6,101,2.018112735374),(6,103,-1.67761009552293),(6,107,2.92614520706809),(6,110,1.43070009460738),(6,113,1.08706930753502),(7,85,-2.32802819910276),(7,86,2.44804223761711),(7,90,-0.159436323129978),(7,95,-0.349314859462264),(7,99,2.99375896481216),(7,100,2.30432294686728),(7,104,-0.880329294717246),(7,106,2.5297555467391),(7,108,-3.58319345683157),(7,112,-1.50046540726951),(7,116,1.73051393169958),(8,92,-2.06746879482406),(8,93,3.39489425336467),(8,95,-0.0463881344035157),(8,99,1.3449507126072),(8,106,-0.032486953337199),(8,107,1.83223975341044),(8,115,3.94936979277932),(8,116,1.22130497146519),(8,118,-0.813394573809015),(9,85,0.0146717734305856),(9,87,-1.45863216040529),(9,98,-3.26448103274636),(9,101,0.102206488235115),(9,103,-1.11209448530534),(9,105,0.284669026764733),(9,106,0.305459761345256),(9,113,1.19817957090976),(10,89,0.91155735953856),(10,96,0.393848994415113),(10,106,4.5411999877926),(10,108,-0.890224921414838),(10,111,-0.0576876125370036),(10,112,-0.248115482039857),(10,114,-2.45110934781945),(10,115,5.98501541184729),(10,116,-0.0589388714255196),(10,117,0.486541337321085),(11,89,-0.756385998107853),(11,97,0.882992034669027),(11,105,0.735114597003082),(11,112,0.0627155369731742),(11,115,-1.64784691915647),(12,92,2.28077028717917),(12,93,1.56410412915433),(12,94,2.37739188818018),(12,97,-4.10760826441237),(12,98,2.62758262886441),(12,99,-0.255668813135166),(12,108,0.607852412488174),(12,116,-0.692007202368236),(13,86,3.08577227088229),(13,87,-2.63948484756005),(13,90,-1.00109103671377),(13,99,-0.968146305734428),(13,102,1.120792260506),(13,104,0.463805047761467),(13,113,-1.24547563097018),(13,116,-4.25858333079012),(13,118,3.55998413037507),(14,90,-4.57229834894864),(14,93,4.38161870174261),(14,95,-1.75428022095401),(14,102,-1.56308175908689),(14,104,1.52439954832606),(14,106,-1.57902768028809),(14,109,2.78751487777337),(14,110,4.03300576799829),(14,111,-3.19734031189917),(15,85,0.962477492599262),(15,92,0.337733085116123),(15,99,-0.297173986022523),(15,101,0.21675771355327),(15,104,3.69098483230079),(15,108,3.007629627369),(15,117,1.97468489638966),(16,86,-2.66731772820215),(16,87,0.598010193182165),(16,88,0.85468611713004),(16,90,0.940046388134404),(16,91,-0.660191656239509),(16,95,-3.58665730765709),(16,97,-2.39410077211829),(16,98,-0.83188879055147),(16,99,0.904782250434889),(16,101,1.40469069490646),(16,108,1.96644489883114),(16,110,0.726317636646626),(17,89,-1.83661152989288),(17,96,-1.78434095278787),(17,99,-3.36289559617908),(17,101,3.35258796960356),(17,106,1.3531449324015),(17,107,2.03635517441328),(17,109,-5.43220313119907),(18,90,1.22368541520432),(18,91,0.107615894039735),(18,93,0.192770165105136),(18,99,0.0012970366527299),(18,102,4.38222907193213),(18,103,-0.739318521683401),(18,104,0.262230292672506),(18,110,0.990371410260323),(18,111,0.739234595782342),(18,116,1.55102694784387),(18,117,0.426801355021821),(18,118,-0.19953001495407),(19,87,0.856593523972289),(19,89,-2.04192480239265),(19,93,-1.25804925687429),(19,95,0.879848628192999),(19,101,1.64992980742821),(19,105,-4.0267036957915),(19,115,-0.0524155400250252),(20,88,-0.708204901272622),(20,101,-0.166051210058901),(20,103,0.877735221411786),(20,104,-0.129520554216132),(20,105,1.34022034363842),(20,106,-2.75473799859615),(20,111,2.27416302987762),(20,116,1.53926969206824),(21,86,3.20207831049531),(21,87,4.38793603320414),(21,94,0.295655690176092),(21,96,0.9789574877163),(21,101,4.67260505996887),(21,102,-1.56346324045534),(21,105,0.411618396557512),(21,107,2.3057191686758),(21,108,1.38604388561663),(22,86,0.601397747734001),(22,88,0.0458311716055788),(22,91,0.456610309152501),(22,92,-1.44025238807337),(22,93,2.1579790643025),(22,98,2.69775994140446),(22,106,-1.25751518295846),(22,115,-0.589365825373089),(22,117,-0.912961210974456),(23,85,-1.95631275368511),(23,86,0.419629505294961),(23,88,-2.07060457167272),(23,90,-0.0759605700857571),(23,97,0.0143589587084567),(23,104,2.87650685140538),(23,112,1.48083437604907),(23,114,2.30881679738762),(23,115,-5.82534257026887),(23,116,-1.49311807611316),(24,89,-6.68401898251289),(24,90,-1.01295510727256),(24,91,-0.771523178807947),(24,101,4.81714072084719),(24,107,0.233474227118748),(24,108,-0.752357554857021),(24,110,0.100779747917112),(24,112,0.403233436078982),(25,90,-0.361766411328471),(25,92,3.62204351939451),(25,94,-4.97973570970794),(25,98,-2.37572099978637),(25,105,-0.452406384472182),(25,108,-1.05845820490127),(25,109,-1.05578783532212),(25,115,-0.0686056093020418),(26,85,-1.57101657155065),(26,87,-2.64015625476852),(26,89,1.09385967589343),(26,95,0.192876979888302),(26,98,1.08292641987365),(26,100,1.8275246436964),(26,101,-1.50517288735618),(26,102,0.0772423474837487),(26,103,-0.696234015930662),(26,104,2.2810602130192),(26,107,-4.0068666646321),(26,109,-0.746131778923917),(26,112,-3.0184331797235),(26,113,0.561288796655171),(26,117,0.30474257637257),(27,85,-1.34533219397565),(27,87,-0.630619220557268),(27,94,-1.6839197973571),(27,100,-0.771813104647969),(27,102,0.81823938718833),(27,103,-0.921964171269875),(27,104,-1.61283455916013),(27,105,-0.452909939878536),(27,108,2.28263191625721),(27,110,2.7638554033021),(27,114,-0.173421430097354),(28,87,-4.61301004058962),(28,88,2.57470931119724),(28,97,-0.65523239844966),(28,99,-1.40279854731895),(28,104,-3.30628376110111),(28,113,1.08928189947203),(28,114,0.18015839106418),(29,88,1.46183660390027),(29,91,1.19244972075564),(29,102,0.376277962584307),(29,105,1.24103518784143),(29,116,3.57132175664541),(30,95,1.50277718436232),(30,96,0.302392651142918),(30,99,-0.546365245521409),(30,101,-2.27413251136814),(30,104,-0.818353831598865),(30,109,-2.20679342020936),(30,110,-0.00786614581743816),(30,114,-2.44923245948668),(30,118,-0.63685262611774),(31,85,-0.074900051881466),(31,92,1.13933225501267),(31,94,0.687604907376324),(31,96,4.27147740104373),(31,99,2.02200384533219),(31,103,-1.87873470259713),(31,107,-0.237434003723258),(31,108,5.29749443037202),(31,109,2.37444685201575),(31,111,3.26912747581408),(31,112,-0.508018738364818),(31,117,0.364001892147587),(32,86,-2.11546678060244),(32,87,-1.02496414075137),(32,89,-0.405667287209693),(32,92,-0.0449842829676199),(32,98,-0.846690267647328),(32,99,-0.23268837549974),(32,104,0.564775536362805),(32,106,0.736960966826381),(32,109,2.09099093600269),(32,116,1.27239295632801),(32,118,0.126804406872768),(33,96,0.411626026184881),(33,98,-0.883365886410108),(33,108,2.71939756462294),(33,110,-1.21764275032807),(33,111,-3.75796533097324),(33,114,0.292039246803186),(34,85,1.0545136875515),(34,90,0.526367992187262),(34,99,-0.53804132206183),(34,104,2.47041230506302),(34,109,-3.06584368419446),(35,86,-0.334673604541154),(35,87,-0.705313272499771),(35,97,-1.75160985137486),(35,98,1.26857814264351),(35,100,0.669125949888608),(35,104,-0.266495254371776),(35,107,-2.8435468611713),(35,109,-0.795861690115054),(35,110,-0.19350260933256),(35,112,-1.36631366924039),(36,85,-1.52254554887539),(36,87,-3.69257942442091),(36,90,-4.37520981475265),(36,91,-1.02481154820399),(36,104,0.464568010498367),(36,107,1.00907162694174),(36,109,0.846583452864162),(36,112,2.89945677053133),(36,115,0.389759514145329),(36,117,-0.832392345957823),(36,118,2.47815637684255),(37,85,3.51669362468337),(37,86,2.23433637501144),(37,87,-1.02481154820399),(37,91,-1.54168065431684),(37,99,0.0205923642689292),(37,105,1.86529129917295),(37,111,1.49904629657888),(37,112,2.21984008301035),(37,118,-1.62292855616932),(38,87,2.12950529496139),(38,90,0.825891903439436),(38,103,1.14298684652242),(38,105,0.313623462630085),(38,106,1.87128055665761),(38,111,1.20693838312937),(38,115,-0.797013763847773),(39,87,3.0274895474105),(39,89,1.80738242744224),(39,91,-3.95115512558367),(39,94,1.15459913937803),(39,97,-2.08796960356456),(39,98,1.58795434430982),(39,107,-0.40789513840144),(39,108,2.62292092654195),(39,109,1.66892757957701),(39,111,-3.31920834986419),(39,113,-2.62620929593799),(39,116,-2.13734092226936),(39,118,-1.25293740653706),(40,88,-2.99801629688406),(40,92,-1.34258552812281),(40,99,-1.50398266548662),(40,104,-1.67404705954161),(40,110,-1.70368053224281),(40,116,0.820276497695853),(40,118,0.0344859157078768),(41,88,-1.16466261787774),(41,93,0.0945463423566393),(41,96,3.01844080935087),(41,97,-0.91856898709067),(41,100,1.22817926572466),(41,101,4.51327555162206),(41,104,-0.505035554063539),(41,105,-1.81609546189764),(41,106,-1.78815576647237),(41,107,2.74559770500809),(41,109,1.30804620502335),(41,110,-1.0315256202887),(41,111,-1.94937742240669),(41,112,0.951651051362651),(42,85,-0.90789513840144),(42,86,-0.386471144749291),(42,87,-0.131031220435194),(42,99,2.79232917264321),(42,100,1.05624561296426),(42,103,-0.474448377941221),(42,109,-0.0799584948271126),(42,113,-2.61571092867824),(43,85,1.98153630176702),(43,88,-0.725692007202368),(43,89,-1.35695211645863),(43,93,1.64234595782342),(43,97,-1.62562181463057),(43,98,1.75751518295846),(43,101,0.249107333597827),(43,102,4.18860438856166),(43,103,1.25331888790551),(43,105,-0.393078402050844),(43,110,1.0524460585345),(43,112,2.16429639576403),(43,114,0.773392437513352),(43,116,0.86313974425489),(44,89,3.08671834467605),(44,98,4.21655171361431),(44,99,0.40888698995941),(45,87,-2.35824152348399),(45,88,-2.34998626667074),(45,90,0.423078096865749),(45,91,1.72429578539384),(45,95,1.80287331766717),(45,98,-2.81032746360668),(45,108,0.886951811273538),(45,109,2.04905850398266),(45,112,2.28589739677114),(45,115,-4.66957609790338),(46,85,-1.07402264473403),(46,89,-0.618434705648976),(46,91,1.15370647297586),(46,94,-2.41830957976012),(46,97,0.729194006164739),(46,100,4.35740989410077),(46,101,-1.7609027375103),(46,108,-3.1724753563036),(46,112,-2.45966978972747),(47,86,0.453886532181768),(47,91,-2.6009552293466),(47,92,1.17265846736045),(47,94,-2.04398480178228),(47,95,-3.05917538987396),(47,100,-0.101649525437177),(47,101,3.90499588000122),(47,104,-0.661946470534379),(47,105,-1.46543778801843),(47,108,1.0803552354503),(47,112,-1.27034821619312),(47,114,1.0277871028779),(47,118,-1.58472701193274),(48,86,1.68655964842677),(48,91,-2.82439649647511),(48,98,1.09302041688284),(48,99,2.03527939695425),(48,100,1.46145512253182),(48,103,-0.555055391094699),(48,105,-3.1499069185461),(48,106,-3.27680288094729),(48,111,-1.12153233436079),(48,115,-0.122760704367199),(49,87,-0.600527970213935),(49,89,-2.12813196203497),(49,93,0.714743491927854),(49,94,4.11275063325907),(49,95,0.197897274697104),(49,102,-1.46176030762658),(49,113,1.39139988402966),(49,114,-0.11040070802942),(50,89,0.531647694326609),(50,105,-0.818643757438887),(50,107,-1.80326242866298),(51,87,1.11459700308237),(51,92,-1.16435743278298),(51,97,-1.4691610461745),(51,98,0.11619159520249),(51,103,-2.92069002349925),(51,106,-0.0503479110080263),(51,112,3.03022095400861),(51,118,-0.895123142185736),(52,89,-0.965369121372112),(52,97,0.85460219122898),(52,106,-0.320482497634815),(52,110,1.24938962981048),(52,111,-1.32625812555315),(52,113,0.0373241370891444),(52,114,-2.47512741477706),(52,118,2.38377025666066),(53,88,-0.895115512558367),(53,90,-3.07359538560137),(53,92,-1.36516922513504),(53,94,-2.99272133548997),(53,104,-3.99806970427564),(53,105,1.28805658131657),(53,109,-0.63022247993408),(54,85,-2.42064424573504),(54,91,0.0930051576281015),(54,94,-2.24292733542894),(54,96,-2.41836298715171),(54,111,1.91347239600818),(54,112,1.26477858821375),(54,113,0.350253303628651),(54,118,1.94114505447554),(55,87,1.05761894589068),(55,95,1.04564043092135),(55,107,-1.73471022675253),(55,110,0.833155308694723),(55,117,-3.06866664632099),(56,107,-1.18332468642231),(56,111,4.02247688222907),(56,113,0.219862971892453),(56,114,-0.936445204016236),(57,87,-1.16479995117038),(57,90,0.00577562791833253),(57,91,-0.732177190466018),(57,92,0.0950193792535173),(57,93,4.42157506027406),(57,94,-0.766045106357006),(57,95,0.0836054567094942),(57,96,-1.46530045472579),(57,100,0.724204229865413),(57,102,-2.02848902859584),(57,103,2.7321314127018),(57,115,-0.287064729758599),(58,86,-2.25935392315439),(58,87,-0.640095217749565),(58,89,0.464278084658345),(58,90,-2.09330271309549),(58,95,-0.531228064821314),(58,96,-0.740684224982452),(58,101,-1.30350657673879),(58,103,-0.185460982085635),(58,109,0.430692464980011),(58,110,1.76094088564714),(58,113,-0.532387768181402),(58,114,3.63345744193854),(58,115,1.88650929288614),(59,85,-0.502037110507523),(59,86,-1.43459883419294),(59,90,-0.570619830927457),(59,91,-2.77542954802087),(59,93,1.65163121433149),(59,97,-0.460768456068605),(59,98,0.252456740012818),(59,100,1.44017609179968),(59,102,-0.961836603900265),(59,112,-0.499511703848384),(59,114,2.88444166386914),(60,85,2.27166814172796),(60,87,1.16662343211158),(60,90,2.92319254127628),(60,91,-0.845210119937742),(60,96,3.53564561906796),(60,100,-2.82145146031068),(60,101,-0.421765800958281),(60,105,-2.27317117831965),(60,107,-0.0392849513229775),(60,109,5.10701315347758),(60,110,1.88291573839534),(60,114,-0.157246620075076),(61,89,0.773499252296518),(61,94,-1.74527726065859),(61,96,0.392147587511826),(61,98,2.66739402447584),(61,100,0.681745353556932),(61,102,-1.92403942991424),(61,103,0.00709555345316926),(61,114,0.65515610217597),(61,115,-1.50814844203009),(62,93,1.50486770226142),(62,95,-0.64745017853328),(62,107,-1.59100619525742),(62,109,0.402386547441023),(62,110,-0.476393932920316),(62,111,0.998352000488296),(63,87,1.04592272713401),(63,90,-0.552613910336619),(63,93,0.299768059327982),(63,97,0.489875484481338),(63,100,-0.644810327463607),(63,103,0.360637226477859),(63,104,1.42750328073977),(63,108,1.49662007507553),(63,111,1.77467421491134),(63,114,2.02337717825861),(63,117,2.64835047456282),(64,87,-0.948515274513993),(64,94,-3.03661458174383),(64,99,1.52163762321848),(64,110,1.9945371868038),(64,112,-2.64522232734153),(64,116,0.517410809656056),(65,87,0.0712683492538225),(65,88,-1.87871944334239),(65,90,-1.09111301004059),(65,97,-0.888393810846278),(65,99,0.00138859218115789),(65,107,0.667676320688498),(65,110,0.0665913876766258),(65,111,2.43818475905637),(65,114,-4.13829462569048),(65,116,-0.10414441358684),(65,117,0.320215460676901),(66,85,3.34586626789148),(66,102,-1.50395214697714),(66,105,-1.57502975554674),(66,108,2.68297372356334),(66,111,0.194853053376873),(66,115,-0.806222724082156),(66,118,0.380855739005707),(67,86,2.06740012817774),(67,90,-1.34687337870418),(67,92,-1.55903805658132),(67,104,0.807214575640126),(67,109,1.97914059877316),(67,111,-0.0784325693533128),(68,87,-0.614093447676016),(68,88,0.991103854487747),(68,90,-0.0924634540849023),(68,93,-1.62839136936552),(68,95,-1.31075472273934),(68,96,-1.4740592669454),(68,97,-1.93388164922025),(68,103,-0.803476058229316),(68,107,0.730498672444838),(68,112,0.65660573137608),(68,114,-0.739715262306589),(69,87,1.46177556688131),(69,88,2.30849635303812),(69,92,-0.0444044312875759),(69,94,-1.22287667470321),(69,95,4.79468672750023),(69,97,0.0843073824274422),(69,108,-1.41930906094546),(69,113,-3.16033661915952),(69,114,2.08257545701468),(69,118,2.25501266518143),(70,85,-2.42637409588916),(70,86,1.05140842921232),(70,87,4.19118320261238),(70,90,4.02977080599384),(70,96,0.528923917355876),(70,97,0.259475997192297),(70,99,4.31385998107852),(70,105,-1.64349803155614),(70,107,-0.885280922879727),(70,109,-2.48443556016724),(70,110,-2.10882900479141),(70,111,1.77989288003174),(71,85,-0.475249488814966),(71,93,-0.46134830774865),(71,96,-1.93029572435682),(71,100,-1.23072756126591),(71,104,2.29594561601611),(71,106,0.75769829401532),(71,111,0.627903073213904),(71,113,-1.57338175603504),(72,94,1.20474868007446),(72,96,0.0476241340372936),(72,99,0.11634418774987),(72,110,-2.40764336069826),(72,112,-0.387218848231452),(72,114,-0.578753013702811),(72,115,0.608615375225074),(72,116,3.00918607135228),(73,88,1.62546159245582),(73,94,1.52621539963988),(73,99,1.80204168828394),(73,100,0.484267708365123),(73,106,0.659772026734214),(73,110,-3.75141148106326),(73,115,-2.5300759910886),(74,90,2.69837794122135),(74,94,0.756904812768944),(74,99,0.195814386425367),(74,102,-0.161976989043855),(74,106,0.777306436353648),(74,107,-0.420133060701315),(74,110,0.618915372173223),(74,113,0.315637684255501),(74,116,-0.510025330362865),(75,85,-0.0483260597552416),(75,86,-1.99056978057192),(75,93,-1.11034730063784),(75,98,-0.197996459852901),(75,103,1.90765099032563),(75,105,0.630359813226722),(75,111,-0.930257576219977),(75,117,-0.627582628864406),(76,86,-3.24153111362041),(76,89,2.07579271828364),(76,92,-1.67241431928465),(76,94,0.206686605426191),(76,99,0.969008453627125),(76,101,1.19487594225898),(76,103,-0.856158635212256),(76,106,0.104373302407911),(76,110,-2.28846095156713),(76,113,0.181051057466353),(77,88,1.62678914761803),(77,91,1.86571855830561),(77,93,-0.342265083773308),(77,98,-0.410374767296365),(77,101,2.28026673177282),(77,102,-4.54540391247292),(77,103,-1.13383892330699),(77,104,-0.241782891323588),(77,105,1.34591967528306),(77,109,2.91172521134068),(78,88,0.947309793389691),(78,93,-0.285332804345836),(78,94,2.10697500534074),(78,101,-0.410611285744804),(78,104,2.08233893856624),(78,110,0.618106631672109),(78,114,1.47103030487991),(78,116,0.948248237556078),(78,117,1.58641315958129),(78,118,-0.280083620715964),(79,87,-0.332422864467299),(79,92,0.160527359843745),(79,94,2.79954680013428),(79,107,-2.35055085909604),(79,108,-0.156239509262367),(79,114,5.19346446119572),(79,118,0.288071840571307),(80,87,0.547334208197272),(80,88,0.375606555375835),(80,91,1.29888302255318),(80,99,0.776238288521989),(80,101,-1.51750236518448),(80,107,2.45239112521744),(80,113,1.24057741019929),(81,85,0.641766106143376),(81,86,3.18300424207282),(81,90,0.10605182042909),(81,93,-1.31963560899686),(81,96,-0.533059175389874),(81,97,0.347682119205298),(81,106,3.10679189428388),(81,107,2.58727530747398),(81,110,-1.46089815973388),(81,115,-1.26649525437178),(82,86,-3.37504196295053),(82,92,1.91177098910489),(82,110,-2.19938505203406),(82,112,2.71541489913633),(83,87,-4.03790398876919),(83,91,1.59994811853389),(83,93,2.33452101199377),(83,101,-1.53949858088931),(83,103,2.13270973845637),(83,105,-1.69519638660848),(83,108,-0.959654530472732),(84,85,0.616252632221442),(84,86,-2.40365306558428),(84,89,-2.1485030671102),(84,95,-1.67447431867428),(84,99,-1.70464949491867),(84,104,-0.0663777581102939),(84,111,2.45207831049532),(84,113,-1.34281441694388),(84,114,0.748062074648274),(10,119,-2.29190954313791),(119,109,2.52397991882076),(58,120,1.53500473036897),(120,118,-0.673352763451033),(95,104,-0.641270180364391)]
orgname='BHNEAT_12_13'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()