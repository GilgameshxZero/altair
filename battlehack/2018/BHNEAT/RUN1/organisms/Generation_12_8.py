edge = [(0,85,0.378460036011841),(0,89,-0.191198461867122),(0,90,2.12950529496139),(0,93,-1.91334269234291),(0,98,-1.82638019959105),(0,101,-0.3886837366863),(0,105,1.06897183141575),(0,108,-0.773339030121769),(0,113,-2.31513412884915),(0,114,0.0285348063600572),(0,117,0.563676870021668),(0,118,-0.905331583605457),(1,86,1.7627491073336),(1,92,-0.193548387096774),(1,98,-1.79181798760948),(1,102,2.05877864925077),(1,104,1.37542344431898),(1,107,2.17352824488052),(1,108,0.636539811395611),(1,109,0.21866512039552),(1,113,-1.082003234962),(2,87,-0.385494552446059),(2,88,1.33152256843776),(2,100,0.836100344859157),(2,106,-0.696768089846492),(2,108,-0.535905026398511),(2,110,-0.490905484176153),(2,113,-0.216803491317484),(2,118,3.386837366863),(3,89,-2.44247260963775),(3,92,0.832163457136753),(3,97,-1.09111301004059),(3,99,0.127719962157048),(3,101,-0.00746177556688132),(3,103,1.38189336832789),(3,105,2.97589037751396),(3,108,-0.907696768089846),(3,109,-1.97102267525254),(3,111,1.57948545793023),(3,112,-1.46191290017396),(3,116,-2.35874507889035),(4,90,0.373699148533586),(4,91,4.28853724784082),(4,97,1.64079714346751),(4,99,2.2896969512009),(4,101,0.0285042878505814),(4,108,2.95167394024476),(4,113,-1.48223822748497),(4,118,-1.40598773155919),(5,86,-1.65858943449202),(5,87,1.06704916531877),(5,89,1.81745353556932),(5,92,-1.58255256813257),(5,93,2.18649861140782),(5,99,2.46220282601398),(5,104,-1.48387096774194),(5,114,1.65845210119938),(5,118,2.9283577990051),(6,89,0.782570879238258),(6,92,1.08394116031373),(6,94,0.930967131565294),(6,100,0.658360545670949),(6,101,-1.80549027985473),(6,103,-2.36373485518967),(6,107,2.74486526078066),(6,110,0.50358592486343),(6,113,1.41328165532395),(7,85,-1.94318979461043),(7,86,1.90861232337413),(7,90,3.03262428662984),(7,95,2.13641773735771),(7,99,-1.40179143650624),(7,100,-0.826303903317362),(7,104,-0.346690267647328),(7,106,0.645771660512101),(7,108,3.27835932493057),(7,112,1.55796990874966),(7,116,-0.251472518082217),(8,92,-2.19751579332865),(8,93,-0.13296914578692),(8,95,1.48519852290414),(8,99,0.796700949125645),(8,106,0.0225989562669757),(8,107,-1.55935850093081),(8,115,1.85717337565233),(8,116,1.9532151249733),(8,118,-0.530793176061281),(9,85,-1.2941526535844),(9,87,3.19197668385876),(9,98,1.93499557481613),(9,101,-0.165791802728355),(9,103,1.61740470595416),(9,105,-1.17244483779412),(9,106,0.37412640766625),(9,113,-0.73947874385815),(10,89,-2.92217780083621),(10,96,-1.56109805597095),(10,106,1.82886745811335),(10,108,2.88949247718741),(10,109,2.2057252723777),(10,111,1.41463972899564),(10,112,1.14093447676016),(10,114,1.03700369273965),(10,115,1.27257606738487),(10,116,-0.355082857753227),(10,117,0.232734153263955),(11,89,2.33780938138981),(11,97,1.4349040192877),(11,105,-0.813318277535325),(11,112,-1.37540818506424),(11,115,1.82950834681234),(12,92,1.04548783837397),(12,93,-1.9571520126957),(12,94,-2.73552659688101),(12,97,-0.363246559038057),(12,98,4.30861842707602),(12,99,0.650028992584002),(12,108,0.773964659566027),(12,116,1.8994872890408),(13,86,-0.345927304910428),(13,87,1.72496719260231),(13,90,-0.0184636982329783),(13,99,0.0829493087557604),(13,102,-0.596179082613605),(13,104,-1.16327402569659),(13,113,2.09378337961974),(13,116,-0.49679555650502),(13,118,1.83011871700186),(14,90,-1.49365215002899),(14,93,1.72501297036653),(14,95,0.896328623310038),(14,102,0.888180181279946),(14,104,-1.07127597888119),(14,106,-0.585879085665456),(14,109,1.80291146580401),(14,110,-2.13003936887722),(14,111,-3.40780358287301),(15,85,0.314264351329081),(15,92,-1.9585558641316),(15,99,-0.496658223212378),(15,101,-0.720389416180914),(15,104,1.34083071382794),(15,108,0.789208655049287),(15,117,0.584032715842159),(16,86,-0.0459303567613758),(16,87,-0.228125858333079),(16,88,2.26722006897183),(16,90,2.70001831110569),(16,91,-1.04922635578478),(16,95,0.803735465559862),(16,97,0.979216895046846),(16,98,-1.05578783532212),(16,99,-2.27677236243782),(16,101,-0.736060670796838),(16,108,-1.87018951994385),(16,110,4.20531327249977),(17,89,1.01825006866665),(17,96,-1.75959044160283),(17,99,-1.45266579180273),(17,101,-2.13397625659963),(17,106,1.98373363444929),(17,107,-1.71692556535539),(17,109,1.41598254341258),(18,90,2.34150212103641),(18,91,-1.39584032715842),(18,93,-0.307535019989624),(18,99,-0.241401409955138),(18,102,2.202795495468),(18,103,-2.59160130619221),(18,104,1.06822412793359),(18,110,-2.11317789239174),(18,111,-1.78176213873714),(18,116,-3.42303231910153),(18,117,3.21626941740165),(18,118,0.137684255500961),(19,87,0.537217322305979),(19,89,2.50125125888852),(19,93,0.148854029969176),(19,95,-4.27213354899747),(19,101,0.828653828547014),(19,105,0.0471358378856777),(19,115,-0.116626483962523),(20,88,3.3546708578753),(20,101,-2.67184972685934),(20,103,-2.62012085329753),(20,104,-1.57193212683493),(20,105,-1.79039887691885),(20,106,1.55005035554064),(20,111,1.90466017639698),(20,116,2.07631153294473),(21,86,-0.577486495559557),(21,87,0.706961272011475),(21,94,-1.76960051271096),(21,96,-2.20183416241951),(21,101,-1.48484756004517),(21,102,-0.935026093325602),(21,105,0.041520432142094),(21,107,0.0382702108829005),(21,108,0.442182683797723),(22,86,-0.238578447828608),(22,88,2.24311044648579),(22,91,-0.45974608600116),(22,92,-1.55302591021454),(22,93,-0.613406781212806),(22,98,-2.77838984344005),(22,106,-3.34681234168523),(22,115,-0.0468764305551317),(22,117,-3.35940122684408),(23,85,-0.805597094637898),(23,86,-2.1221198156682),(23,88,-0.311899166844691),(23,90,-1.25041962950529),(23,97,0.196768089846492),(23,104,-3.35476241340373),(23,112,1.52081362346263),(23,114,1.64366588335826),(23,115,1.05108798486282),(23,116,-0.998794518875698),(24,89,-2.42397839289529),(24,90,2.13805047761467),(24,91,1.61191137424848),(24,101,1.8432264168218),(24,107,-2.05900753807184),(24,108,0.946836756492813),(24,110,1.29496139408551),(24,112,-0.796487319559313),(25,90,-1.38421277504807),(25,92,-1.90939054536576),(25,94,-0.179906613361003),(25,98,-0.561433759575182),(25,105,3.0550553910947),(25,108,0.339747306741539),(25,109,-0.931333353679006),(25,115,1.72244941557054),(26,85,2.14108706930754),(26,87,-1.27161473433638),(26,89,-0.283211767937254),(26,95,0.818491164891507),(26,98,-2.93510238959929),(26,100,1.7101046784875),(26,101,-0.785851619006928),(26,102,-6.00898770104068),(26,103,1.77518539994507),(26,104,1.18440809350871),(26,107,3.1301919614246),(26,109,-0.382763145847957),(26,112,0.260109256263924),(26,113,-2.42414624469741),(26,117,1.10637226477859),(27,85,-1.20647297585986),(27,87,-0.392529068880276),(27,94,2.81733146153142),(27,100,-0.644978179265725),(27,102,-0.610141300698874),(27,103,1.83530686361278),(27,104,-1.097903378399),(27,105,0.903256324961089),(27,108,0.897778252510147),(27,110,-1.65266884365368),(27,114,-0.757255775627918),(28,87,0.772209845271157),(28,88,-0.391445661793878),(28,97,-0.425733207190161),(28,99,-0.542329172643208),(28,104,-1.10840174565874),(28,113,-0.161351359599597),(28,114,1.38981292153691),(29,88,1.68156987212745),(29,91,2.07327494125187),(29,102,-1.69631031220435),(29,105,-1.29522080141606),(29,116,-0.631611072115238),(30,95,3.29317606128117),(30,96,0.133472701193274),(30,99,-2.00904873805963),(30,101,-0.627994628742332),(30,104,-0.367061372722556),(30,109,0.0242622150334179),(30,110,0.981200598162786),(30,114,0.410550248725852),(30,118,-0.518707846308787),(31,85,1.61038544877468),(31,92,2.26213873714408),(31,94,-1.68356883449812),(31,96,1.12601092562639),(31,99,4.30448316904202),(31,103,1.47923215430158),(31,107,0.285805841242714),(31,108,-1.16830957976012),(31,109,0.347025971251564),(31,111,-2.63422040467544),(31,112,0.645161290322581),(31,117,-4.44323557237465),(32,86,-0.512863551744132),(32,87,-1.77077547532579),(32,89,-0.229529709768975),(32,92,-1.58594012268441),(32,98,0.80787072359386),(32,99,2.37220374156926),(32,104,2.3778801843318),(32,106,-0.315256202887051),(32,109,0.926023133030183),(32,116,-0.232276375621815),(32,118,0.125354777672658),(33,96,-0.559205908383435),(33,98,0.226554155095066),(33,108,0.421582689901425),(33,110,-1.09587389751885),(33,111,2.36342967009491),(33,114,-0.167760246589556),(34,85,-1.25592822046571),(34,90,-2.3487655262917),(34,99,-0.0739310892056032),(34,104,4.38605914487136),(34,109,3.00352488784448),(35,86,0.153431806390576),(35,87,1.45741142002625),(35,97,-0.302591021454512),(35,98,1.25003814813684),(35,100,-0.515442365794855),(35,104,0.168431653798028),(35,107,1.01910458693197),(35,109,-1.39240699484237),(35,110,1.87611011078219),(35,112,-0.53895687734611),(36,85,0.261085848567156),(36,87,-1.84441663869137),(36,90,-0.998031556138798),(36,91,-0.478530228583636),(36,104,-0.701849421674245),(36,107,0.756492812891018),(36,109,2.47535630359813),(36,112,-0.143665883358257),(36,115,1.27216406750694),(36,117,0.531128879665517),(36,118,1.68469801934874),(37,85,-0.698339793084506),(37,86,-0.646229438154241),(37,87,-0.302743614001892),(37,91,4.81810968352306),(37,99,1.54193243202002),(37,105,1.04614398632771),(37,111,-1.88412121951964),(37,112,1.78269295327616),(37,118,1.75310525833918),(38,87,0.187749870296335),(38,90,-0.54368724631489),(38,103,4.33899960325938),(38,105,0.349330118717002),(38,106,-1.86758018738365),(38,111,-0.331736198004089),(38,115,0.988952299569689),(39,87,-2.13773003326517),(39,89,1.50296029541917),(39,91,-3.26601458784753),(39,94,-0.441785943174535),(39,97,0.182760093997009),(39,98,-0.538621173741874),(39,107,1.17755668813135),(39,108,-3.68613238929411),(39,109,1.85222937711722),(39,111,0.324243903927732),(39,113,1.26345103305155),(39,116,2.28460036011841),(39,118,-0.927716910306101),(40,88,-0.982650227362896),(40,92,0.43908505508591),(40,99,2.05447553941466),(40,104,-0.0262001403851436),(40,110,0.912732322153386),(40,116,0.84614093447676),(40,118,1.17473372600482),(41,88,0.962019714957121),(41,93,1.3891262550737),(41,96,-1.48971526230659),(41,97,2.19450972014527),(41,100,-2.51579332865383),(41,101,1.66956083864864),(41,104,-2.04161198767052),(41,105,2.41987365337077),(41,106,1.53360087893307),(41,107,-0.724814600054933),(41,109,-0.919156468398084),(41,110,-1.50112918485061),(41,111,-2.37008270516068),(41,112,-0.412518692587054),(42,85,3.06065553758354),(42,86,-1.8525803399762),(42,87,1.24321726126896),(42,99,0.233085116122929),(42,100,-0.0921658986175115),(42,103,-0.410550248725852),(42,109,1.09518723105563),(42,113,-0.224311044648579),(43,85,-3.97231971190527),(43,88,-0.32868434705649),(43,89,-0.865871150852992),(43,93,-0.439970091860714),(43,97,2.84675130466628),(43,98,2.79396954252754),(43,101,4.26873073519089),(43,102,-1.71529282509842),(43,103,-0.843684194463942),(43,105,0.190435499130222),(43,110,2.37405011139256),(43,112,-2.08020264290292),(43,114,-0.382076479384747),(43,116,-0.0557725760673849),(44,89,0.907620471816156),(44,98,0.43450727866451),(44,99,-1.42863246559038),(45,87,-1.59762871181371),(45,88,-3.35177159947508),(45,90,1.402096621601),(45,91,-1.69782097842341),(45,95,-1.75344096194342),(45,98,1.49713126010926),(45,108,0.512833033234657),(45,109,-1.09988708151494),(45,112,-0.887493514816736),(45,115,-0.266365550706504),(46,85,-1.3019043549913),(46,89,-1.70117801446577),(46,91,-2.58473464156011),(46,94,-0.517578661458174),(46,97,1.78241828669088),(46,100,-2.58604693746757),(46,101,-1.7395397808771),(46,108,0.954771568956572),(46,112,2.24407177953429),(47,86,-0.158513138218329),(47,91,1.21996215704825),(47,92,0.309686574907682),(47,94,-2.20488601336711),(47,95,-2.04290902432325),(47,100,-0.67032380138554),(47,101,2.43652150028993),(47,104,-0.183721427045503),(47,105,0.178899502548296),(47,108,2.4085207678457),(47,112,-0.0229041413617359),(47,114,-1.81821649830622),(47,118,1.82638019959105),(48,86,1.97511215552232),(48,91,-1.07522812585833),(48,98,-1.25514999847407),(48,99,2.4405652027955),(48,100,-1.29564806054872),(48,103,-1.07023834955901),(48,105,-0.52699362163152),(48,106,-3.44836268196661),(48,111,-2.05703909421064),(48,115,-0.0369273964659569),(49,87,1.77521591845454),(49,89,0.683889278847621),(49,93,1.79918820764794),(49,94,3.01431318094424),(49,95,1.19028290658284),(49,102,0.0420392468031861),(49,113,-0.4383983886227),(49,114,0.902554399243141),(50,89,-0.962553788872951),(50,105,5.6819513534959),(50,107,-2.19531846064638),(51,87,4.03874324777978),(51,92,0.27774895474105),(51,97,0.543565172276986),(51,98,1.82190923795282),(51,103,0.0601367229224525),(51,106,-1.63548692281869),(51,112,0.888698995941038),(51,118,-2.5165868099002),(52,89,0.451948606830042),(52,97,-2.28751487777337),(52,106,-1.04411450544755),(52,110,-1.35616626483963),(52,111,0.995925778984954),(52,113,0.607623523667104),(52,114,2.40844447157201),(52,118,-1.87142551957762),(53,88,-1.40710165715506),(53,90,1.55438398388623),(53,92,-1.40333262123478),(53,94,-0.0276192510757775),(53,104,1.32518997772149),(53,105,-3.59456160161138),(53,109,-0.73558763389996),(54,85,1.70282601397748),(54,91,2.40409558397168),(54,94,-1.10698263496811),(54,96,-0.21797845393231),(54,111,1.43520920438246),(54,112,0.84408093508713),(54,113,1.34502700888089),(54,118,1.77481917783135),(55,87,-0.0599536118655964),(55,95,-1.62205877864925),(55,107,1.48937955870235),(55,110,2.26050599688711),(55,117,-2.82325205236976),(56,107,-0.185399945066683),(56,111,-2.55151524399548),(56,113,-2.65095980712302),(56,114,1.6029236732078),(57,87,1.81113620410779),(57,90,1.58973967711417),(57,91,1.21234778893399),(57,92,0.764061403241066),(57,93,1.9960631122776),(57,94,-1.69377727591784),(57,95,2.02558977019562),(57,96,-1.61972411267434),(57,100,-0.881191442609943),(57,102,-2.04435865352336),(57,103,0.882137516403699),(57,115,-0.129169591357158),(58,86,1.60101626636555),(58,87,-0.253501998962371),(58,89,2.2087771233253),(58,90,-1.28154850917081),(58,95,-1.29422894985809),(58,96,1.30054628131962),(58,101,0.19571520126957),(58,103,1.30207220679342),(58,109,1.440244758446),(58,110,0.792458876308481),(58,113,0.987502670369579),(58,114,0.223624378185369),(58,115,-2.38241218298898),(58,118,-2.78771324808496),(59,85,0.551576281014435),(59,86,-0.903271584215827),(59,90,-1.82302316354869),(59,91,1.36661885433515),(59,93,-0.914410840174566),(59,97,-1.16902676473281),(59,98,-0.91445661793878),(59,100,0.691778313547166),(59,102,0.712561418500321),(59,112,-2.61474959562975),(59,114,1.17397076326792),(60,85,-0.458418530838954),(60,87,-0.54445020905179),(60,90,0.0836207159642323),(60,91,-0.796227912228767),(60,96,-1.10164189580981),(60,100,-0.707983642078921),(60,101,-3.23097933896908),(60,105,-0.535447248756371),(60,107,1.26831873531297),(60,109,1.7628711813715),(60,110,-0.468459120456557),(60,114,-0.929761650440993),(61,89,0.706884975737785),(61,94,0.688711203344829),(61,96,-1.8946653645436),(61,98,0.448240607928709),(61,100,-2.72072511978515),(61,102,-0.892361217078158),(61,103,-0.683156834620197),(61,114,-2.2831507309183),(61,115,0.264824365977966),(62,93,-1.9463484603412),(62,95,-0.964842677083651),(62,107,-0.199591051973022),(62,109,-2.50103762932218),(62,110,0.65286721396527),(62,111,-0.204779198583941),(63,87,-0.11017181920835),(63,90,1.70667134617145),(63,93,-1.73581652272103),(63,97,1.39571825312052),(63,100,1.94544816431165),(63,103,-2.41967528305918),(63,104,-1.04548783837397),(63,108,-0.786477248451186),(63,111,1.44993438520463),(63,114,-0.162785729544969),(63,117,2.04118472853786),(64,87,1.52424695577868),(64,94,-0.0375988036744285),(64,99,0.516754661702322),(64,110,-0.455412457655568),(64,112,-0.71546067690054),(64,116,1.52864162114322),(65,87,-0.139042329172643),(65,88,-0.0688497573778497),(65,90,-0.0259407330545976),(65,97,0.323160496841334),(65,99,-1.89342936490982),(65,107,1.03393658253731),(65,110,-3.22643208105716),(65,111,-1.42509231849117),(65,114,-2.39461958677938),(65,116,-0.636860255745109),(65,117,1.70178838465529),(66,85,-0.0996734519486067),(66,102,0.702230903042695),(66,105,2.4205298013245),(66,108,-0.182271797845393),(66,111,1.58406323435163),(66,115,0.46165349284341),(66,118,-3.50926236762596),(67,86,0.47697378460036),(67,90,3.27652821436201),(67,92,-1.06843775749992),(67,104,1.26029236732078),(67,109,-0.593646046327097),(67,111,-1.57214575640126),(68,87,1.78069399090548),(68,88,0.222418897061067),(68,90,-0.208960234382153),(68,93,1.38111514633625),(68,95,-2.68013550218207),(68,96,-0.905194250312815),(68,97,1.63719595934935),(68,103,0.0318155461287271),(68,107,-0.198751792962432),(68,112,0.956144901882992),(68,114,-4.39983825189978),(69,87,4.32746360667745),(69,88,1.5420850245674),(69,92,0.504318369090854),(69,94,-1.26465651417585),(69,95,0.502258369701224),(69,97,-1.99301126133),(69,108,1.37972655415509),(69,113,-5.39455854976043),(69,114,2.65274513992737),(69,118,0.298074282052065),(70,85,-1.44184698019349),(70,86,-1.42535172582171),(70,87,-1.1003143406476),(70,90,0.917722098452711),(70,96,-2.0493942075869),(70,97,-1.65952024903104),(70,99,-2.7739951780755),(70,105,-0.960997344889676),(70,107,-2.65184484389782),(70,109,-0.145252845851009),(70,110,-0.487838373973815),(70,111,-2.14712973418378),(71,85,-1.24346140934477),(71,93,0.679052095095676),(71,96,-0.0121158482619709),(71,100,-2.08665730765709),(71,104,2.55462813196203),(71,106,-1.65149388103885),(71,111,-0.840128788109989),(71,113,0.981246375927),(72,94,1.14981536301767),(72,96,-2.72421948912015),(72,99,1.90214239936522),(72,110,0.206686605426191),(72,112,0.708487197485275),(72,114,2.25840021973327),(72,115,0.0448622089297155),(72,116,2.28864406262398),(73,88,1.69496749778741),(73,94,-1.16193121127964),(73,99,-0.0128177739799188),(73,100,1.830576494644),(73,106,1.2572099978637),(73,110,3.3470412305063),(73,115,0.154805139316996),(74,90,2.06711020233772),(74,94,0.531754509109775),(74,99,-0.440916165654469),(74,102,1.60977507858516),(74,106,-2.70735801263466),(74,107,2.23853267006439),(74,110,-0.0604876857814265),(74,113,0.709707937864315),(74,116,0.521332438123722),(75,85,-1.54103213599048),(75,86,3.62659077730644),(75,93,-1.74863429670095),(75,98,1.38370921964171),(75,103,2.4687185277871),(75,105,-1.65604113895077),(75,111,0.935819574571978),(75,117,2.01895199438459),(76,86,-2.19985045930357),(76,89,1.01184118167669),(76,92,0.630237739188818),(76,94,-2.0059816278573),(76,99,0.0958281197546312),(76,101,-1.8107394634846),(76,103,1.66504409924619),(76,106,-0.445127719962157),(76,110,0.796548356578265),(76,113,-1.77259132663961),(77,88,2.29250465407269),(77,91,-1.58314767906735),(77,93,-1.19891964476455),(77,98,-0.291482284005249),(77,101,2.677053132725),(77,102,0.207037568285165),(77,103,-0.658665730765709),(77,104,2.05633716849269),(77,105,-1.40673543504135),(77,109,-1.39611499374371),(78,88,-0.964003418073061),(78,93,2.19627979369488),(78,94,1.16911832026124),(78,101,-0.666798913541063),(78,104,-0.649998474074526),(78,110,-0.555558946501053),(78,114,2.85546433912168),(78,116,1.65211951048311),(78,117,-1.88726462599567),(78,118,-1.34298226874599),(79,87,0.144840845973083),(79,92,0.242164372692038),(79,94,1.66760765404218),(79,107,1.82483901486251),(79,108,-3.2628711813715),(79,114,0.797936948759423),(79,118,-0.195547349467452),(80,87,1.75855281228065),(80,88,1.65105136265145),(80,91,-1.69872127445296),(80,99,-1.84260078737754),(80,101,1.29470198675497),(80,107,-0.207144383068331),(80,113,-3.9349040192877),(81,85,0.275429548020875),(81,86,-2.45590075380718),(81,90,-0.734061708426161),(81,93,-1.04000976592303),(81,96,1.25934629352702),(81,97,-1.86971648304697),(81,106,0.624912259285256),(81,107,1.50614947965941),(81,110,2.4928128910184),(81,115,-0.505539109469893),(82,86,-0.820642719809564),(82,92,1.75313577684866),(82,110,0.470381786553545),(82,112,1.37493514816736),(83,87,-0.826059755241554),(83,91,-1.01937925351726),(83,93,1.64044618060854),(83,101,1.8504135258034),(83,103,0.226752525406659),(83,105,1.21814630573443),(83,108,1.33072908719138),(84,85,-0.638096255378887),(84,86,1.67873165074618),(84,89,1.34687337870418),(84,95,-2.28633991515854),(84,99,1.2084566789758),(84,104,-0.348445081942198),(84,111,-3.90621662038026),(84,113,-2.35274819177831),(84,114,0.73734244819483),(35,105,-1.11650440992462)]
orgname='BHNEAT_12_8'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()