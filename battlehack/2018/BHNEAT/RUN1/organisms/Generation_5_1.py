edge = [(0,85,1.71997741630299),(0,89,-0.531830805383465),(0,90,-0.621127964110233),(0,93,0.337626270332957),(0,98,-1.24938200018311),(0,101,-2.82100894192328),(0,105,2.03564561906796),(0,108,-1.4661091952269),(0,113,-1.45921201208533),(0,114,-0.594180120242927),(0,117,-1.82561723685415),(0,118,-1.5526444288461),(1,86,2.51351969969787),(1,92,2.10563982055116),(1,98,-1.41331217383343),(1,102,1.1587420270394),(1,104,0.331156346324046),(1,107,-2.4112521744438),(1,108,-2.19130527665029),(1,109,-2.8212988677633),(1,113,-1.74410229804376),(2,87,-1.94682149723807),(2,88,-1.58345286416211),(2,100,0.47354045228431),(2,106,0.239692373424482),(2,108,-0.0128482924893948),(2,110,-2.77971739860225),(2,113,1.79360332041383),(2,118,-1.70891445661794),(3,89,1.66335032197027),(3,92,-1.31754509109775),(3,97,-0.280312509537034),(3,99,1.69025238807337),(3,101,2.50787377544481),(3,103,2.35398419141209),(3,105,1.54693746757408),(3,108,0.123844111453597),(3,109,0.0963774529251991),(3,111,1.24968718527787),(3,112,1.16983550523392),(3,116,0.0817438276314585),(4,90,-0.609973448896756),(4,91,3.07498397778253),(4,97,0.0984679708243049),(4,99,-0.404782250434889),(4,101,-1.05497909482101),(4,108,0.54269539475692),(4,113,-2.60188604388562),(4,118,-2.98731955931272),(5,86,-0.109317300943022),(5,87,1.51750236518448),(5,89,-0.552888576921903),(5,92,0.0671254615924558),(5,93,1.78089236121708),(5,99,-1.33643604846339),(5,104,-2.1139255958739),(5,114,0.562761314737388),(5,118,-1.03080843531602),(6,89,-2.47853022858364),(6,92,-3.318811609241),(6,94,-0.101092562639241),(6,100,2.29367961668752),(6,101,-1.00247199926756),(6,103,-0.0738242744224372),(6,107,-0.876766258735923),(6,110,-2.18478957487716),(6,113,1.73517563402203),(7,85,0.314340647602771),(7,86,2.7177343058565),(7,90,1.46006653035066),(7,95,0.466139713736381),(7,99,-1.63818781090732),(7,100,-1.35183263649403),(7,104,0.586046937467574),(7,106,1.53660695211646),(7,108,-0.480300302133244),(7,112,1.93496505630665),(7,116,-0.382473220007935),(8,92,1.61088900418104),(8,93,-0.842829676198614),(8,95,1.32261116367077),(8,99,-2.44726401562548),(8,106,0.0987426374095889),(8,107,0.597537156285287),(8,115,-1.32705160679952),(8,116,-1.31142612994781),(8,118,1.1261329996643),(9,85,1.05989257484664),(9,87,-0.0360423596911527),(9,98,-2.19965208899197),(9,101,-0.701574755088961),(9,103,2.42004150517289),(9,105,-1.30729087191382),(9,106,0.396862697225867),(9,113,-1.78832361827448),(10,89,-2.77439191869869),(10,96,-0.348704489272744),(10,106,1.37414166692099),(10,108,1.34231086153752),(10,111,0.969298379467147),(10,112,-0.552690206610309),(10,114,2.52035584582049),(10,115,0.730643635364849),(10,116,-2.55287331766716),(10,117,0.598422193060091),(11,89,-1.33219397564623),(11,97,0.216849269081698),(11,105,-2.05850398266549),(11,112,-1.58331553086947),(11,115,2.1454512161626),(12,92,-0.322077089754936),(12,93,0.274010437330241),(12,94,0.951948606830043),(12,97,-2.18585772270882),(12,98,-1.26177251503037),(12,99,0.173558763389996),(12,108,-1.32929471724601),(12,116,-0.23566393017365),(13,86,-0.942518387401959),(13,87,1.31296731467635),(13,90,2.06796472060305),(13,99,1.19313638721885),(13,102,2.60719626453444),(13,104,-2.78533280434584),(13,113,-1.22724082155828),(13,116,-1.33010345774712),(13,118,2.3512985625782),(14,90,0.497955259865108),(14,93,-0.80458998382519),(14,95,0.0938444166386914),(14,102,-2.06669820245979),(14,104,0.0457777642139958),(14,106,2.67061372722556),(14,109,-2.01655629139073),(14,110,1.98231452375866),(14,111,-2.43136387218848),(15,85,-0.486663411358989),(15,92,-0.955717642750328),(15,99,1.49589526047548),(15,101,1.28864406262398),(15,104,-0.880336924344615),(15,108,-2.05452131717887),(15,117,2.70239875484481),(16,86,2.38212225714896),(16,87,-0.74024170659505),(16,88,-0.531693472090823),(16,90,2.25482955412458),(16,91,-2.72545548875393),(16,95,-2.12558366649373),(16,97,1.40189825128941),(16,98,-2.57396160771508),(16,99,1.47158726767785),(16,101,2.23926511429182),(16,108,-1.5930051576281),(16,110,1.88995025482955),(17,89,1.58516190069277),(17,96,1.83686330759606),(17,99,-2.68446913052767),(17,101,-2.07438886684774),(17,106,2.4769890438551),(17,107,-1.20459608752709),(17,109,0.118045594653157),(18,90,-0.143314920499283),(18,91,-2.04412976470229),(18,93,-2.55888546403394),(18,99,-0.507827997680593),(18,102,-0.977767265846736),(18,103,-2.14496292001099),(18,104,2.84203619495224),(18,110,-0.82219916379284),(18,111,1.53506576738792),(18,116,-1.10370189519944),(18,117,0.918607135227515),(18,118,-0.93015839106418),(19,87,-0.965361491744743),(19,89,-0.325754570146794),(19,93,1.30443739127781),(19,95,-0.698873867000336),(19,101,3.19771416364025),(19,105,-1.31444746238594),(19,115,-1.49118015076144),(20,88,2.4060335093234),(20,101,1.04118472853786),(20,103,0.930936613055818),(20,104,-1.31714835047456),(20,105,0.907132175664541),(20,106,0.942884609515671),(20,111,1.16580706198309),(20,116,0.844126712851344),(21,86,-0.902966399121067),(21,87,2.02038636432997),(21,94,-0.714423047578356),(21,96,1.47183141575365),(21,101,2.71098971526231),(21,102,-1.45216223639637),(21,105,-2.21158482619709),(21,107,-2.02310251167333),(21,108,-0.638935514389477),(22,86,1.01583910641804),(22,88,-0.288216803491318),(22,91,-1.50569170201727),(22,92,-2.16339609973449),(22,93,-0.00387585070345164),(22,98,-1.88511307107761),(22,106,-2.92721335489975),(22,115,1.14090395825068),(22,117,0.380565813165685),(23,85,0.172368541520432),(23,86,1.19165623950926),(23,88,0.384746848963897),(23,90,-0.404797509689627),(23,97,0.816537980285043),(23,104,0.151661732840968),(23,112,-0.0825525681325724),(23,114,-2.01886043885617),(23,115,0.681432538834803),(23,116,0.948118533890805),(24,89,0.0927304910428175),(24,90,0.38929410687582),(24,91,-1.25157933286538),(24,101,-1.66129032258065),(24,107,-0.06526383251442),(24,108,-0.757057405316324),(24,110,-0.161610766930143),(24,112,0.69693594164861),(25,90,2.91332743308817),(25,92,0.00529496139408547),(25,94,1.02294991912595),(25,98,1.83373516037477),(25,105,0.527161473433638),(25,108,0.449156163212989),(25,109,0.929303872798853),(25,115,0.901577806939909),(26,85,1.73580126346629),(26,87,-1.04409924619282),(26,89,-1.14726706747642),(26,95,-0.693624683370464),(26,98,1.52342295602283),(26,100,1.01924192022462),(26,101,-1.53709524826807),(26,102,2.16081728568377),(26,103,-1.10808130130924),(26,104,-1.48054445020905),(26,107,-1.27423932615131),(26,109,-0.530167546617023),(26,112,-0.246574297311319),(26,113,1.45658742027039),(26,117,-1.85901974547563),(27,85,0.173039948728904),(27,87,0.726355784783471),(27,94,0.40957365642262),(27,100,-1.48408459730827),(27,102,-1.10209967345195),(27,103,-1.18968779564806),(27,104,1.66130558183538),(27,105,1.4788354136784),(27,108,-1.00695822016053),(27,110,1.90907010101627),(27,114,-3.31371501815851),(28,87,0.786553544724876),(28,88,-0.80230109561449),(28,97,1.23958555864132),(28,99,-2.39976195562609),(28,104,1.67587817011017),(28,113,-1.684682760094),(28,114,2.61275063325907),(29,88,-3.0198370311594),(29,91,-0.0983916745506149),(29,102,-1.85126804406873),(29,105,-0.0352641376995148),(29,116,0.954664754173406),(30,95,1.61073641163366),(30,96,0.909939878536332),(30,99,-1.77512436292611),(30,101,2.39252906888028),(30,104,2.01246681112094),(30,109,2.41465498825037),(30,110,0.160023804437391),(30,114,-0.0147709585863827),(30,118,-1.0164647358623),(31,85,-3.02531510361034),(31,92,1.22214423047578),(31,94,-1.67258217108676),(31,96,1.50985747856075),(31,99,0.373241370891446),(31,103,0.406949064607685),(31,107,-2.31521042512284),(31,108,1.93145542771691),(31,109,-1.66467787713248),(31,111,-1.40203558458205),(31,112,-1.17046113467818),(31,117,1.57493820001831),(32,86,1.04846339304788),(32,87,1.35958433790094),(32,89,1.51597643971068),(32,92,1.0520035401471),(32,98,-2.40694906460768),(32,99,-0.221625415814692),(32,104,-0.497726371044038),(32,106,-2.20555742057558),(32,109,1.11966307565538),(32,116,-2.85007782219916),(32,118,-0.391460921048616),(33,96,-0.28171636097293),(33,98,2.34446241645558),(33,108,-0.557069612720115),(33,110,1.08413953062532),(33,111,-1.30652790917692),(33,114,1.1203497421186),(34,85,-0.988814966277047),(34,90,-0.525589770195624),(34,99,-3.06016724143193),(34,104,1.15445417645802),(34,109,-1.71852778710288),(35,86,-0.0689718314157537),(35,87,0.924298837244789),(35,97,0.0923184911648915),(35,98,-1.12926114688559),(35,100,1.70790734580523),(35,104,1.7148808252205),(35,107,1.10654011658071),(35,109,1.12474440748314),(35,110,0.958571123386334),(35,112,1.01779229102451),(36,85,0.441129795220801),(36,87,1.82367931150243),(36,90,-1.76679280983917),(36,91,-0.65057832575457),(36,104,-1.3769188512833),(36,107,0.756187627796258),(36,109,1.71201208532975),(36,112,-2.49922177800836),(36,115,-1.07066560869167),(36,117,0.860423596911527),(36,118,-0.749595629749443),(37,85,1.2307046723838),(37,86,0.942869350260933),(37,87,2.03932309945982),(37,91,-0.998794518875698),(37,99,1.45930356761376),(37,105,2.40627765739921),(37,111,1.84623249000519),(37,112,1.2007049775689),(37,118,-1.31339457380902),(38,87,1.927838984344),(38,90,2.15764336069826),(38,103,-1.74028748435926),(38,105,-1.69273964659566),(38,106,1.68103579821162),(38,111,2.54757835627308),(38,115,-1.07072664571062),(39,87,2.04200872829371),(39,89,1.26163518173772),(39,91,-2.63061922055727),(39,94,-0.131260109256264),(39,97,-2.13054292428358),(39,98,-0.254493850520341),(39,107,0.934080019531846),(39,108,1.11778618732261),(39,109,0.441358684041871),(39,111,-0.380657368694113),(39,113,-0.703085421308023),(39,116,1.44572283089694),(39,118,-2.30631427961058),(40,88,2.59976500747703),(40,92,-2.45330668050172),(40,99,1.2619861445967),(40,104,-2.69084749900815),(40,110,1.68364513077181),(40,116,-3.12988677632984),(40,118,-1.07974486526078),(41,88,1.77350688192389),(41,93,2.43913083285012),(41,96,0.0587176122318186),(41,97,-1.96440015869625),(41,100,2.28560747093112),(41,101,1.11877803888058),(41,104,-0.28286080507828),(41,105,-0.310998870815149),(41,106,-0.82609027375103),(41,107,0.817438276314585),(41,109,-1.28446302682577),(41,110,0.85216834009827),(41,111,-2.12570574053163),(41,112,-2.34685811944945),(42,85,2.38261055330058),(42,86,1.98138370921964),(42,87,-2.10840174565874),(42,99,-0.775551622058779),(42,100,-2.02279732657857),(42,103,-0.086596270638142),(42,109,-3.40873439741203),(42,113,1.5148167363506),(43,85,0.316904202398755),(43,88,-1.61038544877468),(43,89,-0.842295602282785),(43,93,-0.519089327677236),(43,97,1.89709158604694),(43,98,-0.597903378398999),(43,101,1.70136112552263),(43,102,1.54531998657186),(43,103,0.76311532944731),(43,105,-0.938825647755364),(43,110,1.42584002197333),(43,112,0.354869228186895),(43,114,-0.727088229010895),(43,116,-1.51394695883053),(44,89,2.5647755363628),(44,98,0.440916165654469),(44,99,0.711172826319163),(45,87,-0.461729789117099),(45,88,-1.55970946378979),(45,90,-0.684667500839259),(45,91,1.57049775688955),(45,95,-0.877910702841273),(45,98,-2.1788995025483),(45,108,-0.729651783806879),(45,109,-0.160405285805841),(45,112,1.32036805322428),(45,115,-0.661503952146977),(46,85,-0.208502456740013),(46,89,-0.274071474349193),(46,91,-1.39107943968017),(46,94,-1.46792504654073),(46,97,-1.25386822107608),(46,100,-0.231849116489151),(46,101,-1.99948118533891),(46,108,0.0853755302591021),(46,112,1.48873867000336),(47,86,0.673421430097354),(47,91,-1.20831934568316),(47,92,-1.05862605670339),(47,94,-0.114108706930753),(47,95,-2.43583483382672),(47,100,-2.18205816827906),(47,101,3.03048799096652),(47,104,1.83622241889706),(47,105,1.21317178868984),(47,108,0.54651020844142),(47,112,-0.763969847712638),(47,114,-1.87749870296335),(47,118,-1.84890285958434),(48,86,-1.01074251533555),(48,91,-2.3274025696585),(48,98,0.327784051026948),(48,99,-1.5300759910886),(48,100,1.66472365489669),(48,103,1.59250160222175),(48,105,1.58473464156011),(48,106,-2.00784325693533),(48,111,1.57977538377026),(48,115,-0.150608844264046),(49,87,-2.33349101229896),(49,89,-0.796639912106693),(49,93,2.20798364207892),(49,94,0.403378398998993),(49,95,0.986342967009491),(49,102,1.44193853572192),(49,113,2.83408612323374),(49,114,-0.0567186498611407),(50,89,-1.1715140232551),(50,105,-1.3171636097293),(50,107,-2.83849604785302),(51,87,-1.2766045106357),(51,92,0.545472579119236),(51,97,-0.937192907498398),(51,98,-0.245567186498611),(51,103,-2.25125888851588),(51,106,-1.1877346110416),(51,112,-0.292138431958983),(51,118,0.105410931730094),(52,89,1.89516891994995),(52,97,-0.892773216956084),(52,106,-2.64038514358959),(52,110,-1.62587359233375),(52,111,2.3664357432783),(52,113,2.63185522019105),(52,114,1.11546678060244),(52,118,-1.34032715842158),(53,88,0.545167394024476),(53,90,0.379879146702475),(53,92,-2.11929685354167),(53,94,1.31580553605762),(53,104,-0.987380596331675),(53,105,2.09149449140904),(53,109,-3.22070986053041),(54,85,-0.241279335917234),(54,91,-0.0919370097964417),(54,94,1.87054048280282),(54,96,-2.08883938108463),(54,111,2.55432294686728),(54,112,-0.315851313821833),(54,113,2.22956022827845),(54,118,-0.211783196508682),(55,87,0.559724723044526),(55,95,-1.16519669179357),(55,107,-2.64099551377911),(55,110,2.33489486373486),(55,117,1.43453779717399),(56,107,1.19902645954772),(56,111,-2.48750267036958),(56,113,-2.4620502334666),(56,114,2.35001678518021),(57,87,-2.1223181859798),(57,90,0.729499191259499),(57,91,-1.08836634418775),(57,92,-1.07704397717215),(57,93,1.13141270180364),(57,94,1.43678090762047),(57,95,-1.03802606280709),(57,96,0.90865810113834),(57,100,-0.0622272408215583),(57,102,-2.44926297799615),(57,103,-1.06654560991241),(57,115,0.300683614612262),(58,86,0.680043946653645),(58,87,0.411954100161748),(58,89,0.975234229560228),(58,90,-1.27948850978118),(58,95,1.65164647358623),(58,96,-1.84698019348735),(58,101,-2.38920255134739),(58,103,1.42004150517289),(58,109,-1.03244117557298),(58,110,2.38148136844996),(58,113,2.63859981078524),(58,114,0.116657002471999),(58,115,-0.506744590594195),(58,118,-0.605563524277474),(59,85,0.969679860835597),(59,86,0.00236518448438983),(59,90,-1.36132389294107),(59,91,0.669270912808618),(59,93,2.11123996704001),(59,97,2.01550340281381),(59,98,-0.545716727195044),(59,100,-0.61139255958739),(59,102,-0.358104190191351),(59,112,-0.769066438795129),(59,114,-0.522888882106998),(60,85,-0.850733970152898),(60,87,-0.180883205664235),(60,90,-0.137531662953581),(60,91,-2.84417249061556),(60,96,0.121433149204993),(60,100,-1.14836573381756),(60,101,-0.684591204565569),(60,105,-0.86497085482345),(60,107,-1.54594561601611),(60,109,-2.1270180364391),(60,110,1.8331858272042),(60,114,0.46226386303293),(61,89,1.53527939695425),(61,94,-0.243476668599506),(61,96,2.69095431379131),(61,98,0.618152409436323),(61,100,1.11957152012696),(61,102,1.66722617267373),(61,103,-2.63527329325236),(61,114,-2.21333964049196),(61,115,-1.41537217322306),(62,93,-1.40365306558428),(62,95,-2.3170415356914),(62,107,-0.86474196600238),(62,109,-1.22093874935148),(62,110,-1.49525437177648),(62,111,-1.45304727317118),(63,87,1.35322122867519),(63,90,1.14210943937498),(63,93,2.47810296945097),(63,97,-1.05674916837062),(63,100,-0.808923612170782),(63,103,-2.78963591418195),(63,104,-1.0108035523545),(63,108,1.65218054750206),(63,111,0.233298745689261),(63,114,0.2811822870571),(63,117,-0.218405713064974),(64,87,-2.24188970610675),(64,94,-2.25537888729514),(64,99,-2.34276863917966),(64,110,2.15497299111911),(64,112,-2.61294900357067),(64,116,-2.16531876583148),(65,87,-1.63498336741234),(65,88,-0.843714712973418),(65,90,-1.62686544389172),(65,97,1.78019043549913),(65,99,2.27593310342723),(65,107,-1.42303231910154),(65,110,-3.17600024414808),(65,111,-0.247764519180883),(65,114,-0.275490585039827),(65,116,-2.06062501907407),(65,117,3.06527909176916),(66,85,-1.42204046754357),(66,102,2.97111423078097),(66,105,3.11764885402997),(66,108,3.36010315256203),(66,111,-1.83466597491379),(66,115,2.92503128147221),(66,118,0.13243507187109),(67,86,1.35888241218299),(67,90,2.78693502609333),(67,92,2.66946928312021),(67,104,2.18912320322275),(67,109,2.33161412396619),(67,111,2.55876338999603),(68,87,-0.89211706900235),(68,88,3.17271950437941),(68,90,-2.51821955015717),(68,93,-0.675923947874386),(68,95,2.46530045472579),(68,96,0.277169103061007),(68,97,-0.611865596484268),(68,103,-0.449690237128819),(68,107,1.25667592394787),(68,112,2.37304300057985),(68,114,0.725516525772881),(69,87,-1.11566515091403),(69,88,-2.80512405774102),(69,92,0.673085726493118),(69,94,-0.795892208624531),(69,95,0.901058992278817),(69,97,-0.0344096194341868),(69,108,-0.176488540299692),(69,113,0.195928830835902),(69,114,0.905514694662313),(69,118,0.990844447157201),(70,85,-0.357799005096591),(70,86,-2.49235511337626),(70,87,-0.25693533127842),(70,90,0.444685201574755),(70,96,1.74069948423719),(70,97,-1.31574449903867),(70,99,2.97119052705466),(70,105,-2.44045838801233),(70,107,0.750511185033723),(70,109,0.119876705221717),(70,110,-2.2262489700003),(70,111,0.825388348033082),(71,85,-0.688482314523759),(71,93,-0.065599536118656),(71,96,-0.831385235145116),(71,100,-1.83179723502304),(71,104,2.68463698232978),(71,106,-0.0527207251197852),(71,111,0.767967772453993),(71,113,-1.1878566850795),(72,94,1.63383892330699),(72,96,1.92687765129551),(72,99,0.766533402508621),(72,110,-0.799737540818506),(72,112,0.15317239906003),(72,114,1.47636341441084),(72,115,0.147251808221686),(72,116,-0.962645344401379),(73,88,-1.1602679525132),(73,94,0.840693380535295),(73,99,-0.311136204107791),(73,100,0.589175084688864),(73,106,-1.49288918729209),(73,110,-1.98263496810816),(73,115,0.265266884365368),(74,90,0.257820368053224),(74,94,0.300119022186956),(74,99,-1.79364909817804),(74,102,0.912289803765984),(74,106,-0.253059480574969),(74,107,1.54507583849605),(74,110,0.0138096255378887),(74,113,-0.521149327066866),(74,116,-0.316232795190283),(75,85,1.35483870967742),(75,86,0.253303628650777),(75,93,1.45233008819849),(75,98,-0.769615771965697),(75,103,0.127033295693838),(75,105,0.606067079683828),(75,111,2.05012665181433),(75,117,-2.40556047242653),(76,86,-1.0921201208533),(76,89,-1.57144383068331),(76,92,1.86951811273537),(76,94,0.744651631214332),(76,99,0.903775139622181),(76,101,-1.74787133396405),(76,103,1.0406811731315),(76,106,-1.32581560716575),(76,110,-0.633472701193274),(76,113,1.41903439436018),(77,88,-0.644367809076205),(77,91,0.499481185338908),(77,93,-1.84797204504532),(77,98,-1.02031006805628),(77,101,-0.916348765526292),(77,102,-0.00430310983611559),(77,103,2.1683400982696),(77,104,0.423749504074221),(77,105,0.234015930661946),(77,109,0.834864345225379),(78,88,2.02230903042695),(78,93,-1.07782219916379),(78,94,-2.40249336222419),(78,101,-0.333384197515793),(78,104,-0.623493148594623),(78,110,0.0192266609698782),(78,114,-2.32894375438704),(78,116,2.20748008667257),(78,117,1.52066103091525),(78,118,-0.536133915219581),(79,87,-1.23741874446852),(79,92,1.5766624958037),(79,94,0.238166447950682),(79,107,-0.236457411420026),(79,108,1.15903195287942),(79,114,-1.52063051240577),(79,118,-2.16626483962523),(80,87,-1.643040253914),(80,88,0.930661946470534),(80,91,-1.98406933805353),(80,99,0.479476302377392),(80,101,0.353740043336283),(80,107,-1.59445478682821),(80,113,0.450910977507858),(81,85,-0.408490249336222),(81,86,-1.75978881191443),(81,90,-0.883297219763787),(81,93,-0.460905789361248),(81,96,0.86802270577105),(81,97,-0.780907620471816),(81,106,0.981444746238594),(81,107,1.26200140385144),(81,110,2.38937040314951),(81,115,-0.174886318552202),(82,86,0.294259468367565),(82,92,-1.13664662617878),(82,110,-2.52546769615772),(82,112,-1.09695730460524),(83,87,-3.06489761040071),(83,91,0.510513626514481),(83,93,0.0527665028839991),(83,101,-2.49514755699332),(83,103,-0.281151768547624),(83,105,-0.58790856654561),(83,108,0.529313028351695),(84,85,-1.93452253791925),(84,86,0.0379955442976165),(84,89,-0.228339487899411),(84,95,-0.849024933622242),(84,99,0.933103427228614),(84,104,1.45039216284677),(84,111,-0.297875911740471),(84,113,2.10074159978027),(84,114,0.0163274025696585),(10,119,1),(119,109,-0.134220404675436)]
orgname='BHNEAT_5_1'
cnodes = 120

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()