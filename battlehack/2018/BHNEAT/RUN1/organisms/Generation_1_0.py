edge = [(0,85,-0.904812768944365),(0,89,-0.901547288430433),(0,90,-0.878658406323435),(0,93,0.846736045411542),(0,98,0.621723075045015),(0,101,-0.717154454176458),(0,105,-0.780846583452864),(0,108,0.19434186834315),(0,113,0.481154820398572),(0,114,-0.859340189825129),(0,117,0.0333872493667409),(0,118,-0.0885341959898679),(1,86,-0.0562761314737388),(1,92,-0.202032532731101),(1,98,-0.139378032776879),(1,102,0.745048371837519),(1,104,0.492996002075259),(1,107,-0.0835291604358043),(1,108,0.964079714346751),(1,109,-0.340159306619465),(1,113,-0.962523270363475),(2,87,0.213507492294076),(2,88,0.86825159459212),(2,100,-0.539994506668294),(2,106,-0.99862666707358),(2,108,-0.691488387707144),(2,110,-0.835413678395947),(2,113,0.187749870296335),(2,118,-0.563524277474288),(3,89,-0.355296487319559),(3,92,0.687154759361553),(3,97,-0.618121890926847),(3,99,-0.185827204199347),(3,101,0.178502761925108),(3,103,0.97979674672689),(3,105,-0.567278054139836),(3,108,-0.0147099215674306),(3,109,0.935300759910886),(3,111,-0.676839503158666),(3,112,-0.14737388225959),(3,116,-0.133671071504868),(4,90,-0.851619006927702),(4,91,-0.190160832544939),(4,97,-0.854274117252113),(4,99,0.977996154667806),(4,101,0.461714529862362),(4,108,0.884487441633351),(4,113,-0.0770592364268929),(4,118,-0.199163792840358),(5,86,-0.388042847987304),(5,87,-0.638019959105197),(5,89,-0.0785851619006928),(5,92,0.820886867885372),(5,93,0.264198736533708),(5,99,0.554124576555681),(5,104,0.915189062166204),(5,114,-0.0289925840021973),(5,118,-0.518875698110904),(6,89,0.41636402478103),(6,92,0.264534440137944),(6,94,-0.440900906399731),(6,100,0.23993652150029),(6,101,0.982207708975494),(6,103,0.630848109378338),(6,107,-0.196234015930662),(6,110,-0.837611011078219),(6,113,0.707693716238899),(7,85,0.895352031006806),(7,86,-0.71462141788995),(7,90,0.724692526017029),(7,95,0.99801629688406),(7,99,0.681508835108493),(7,100,-0.462080751976074),(7,104,0.733756523331401),(7,106,-0.576860866115299),(7,108,0.50328073976867),(7,112,-0.571977904599139),(7,116,-0.488876003295999),(8,92,0.0690328684347056),(8,93,-0.165379802850429),(8,95,0.662495803704947),(8,99,-0.451460310678426),(8,106,0.389263588366344),(8,107,0.384380626850185),(8,115,0.6954863124485),(8,116,0.858699301126133),(8,118,-0.0317087313455611),(9,85,0.0988799707022309),(9,87,0.22003845332194),(9,98,0.273079622791223),(9,101,-0.853633228553118),(9,103,0.438367870113224),(9,105,-0.844477675710318),(9,106,0.962309640797143),(9,113,0.446638386181219),(10,89,0.818689535203101),(10,96,-0.280587176122318),(10,106,0.827784051026948),(10,108,-0.689992980742821),(10,109,0.133365886410108),(10,111,-0.804162724692526),(10,112,-0.100741599780267),(10,114,0.579027680288095),(10,115,-0.509353923154393),(10,116,0.474898525955992),(10,117,0.525040437025056),(11,89,0.922788171025727),(11,97,-0.595904416028321),(11,105,-0.960112308114872),(11,112,0.24420911282693),(11,115,0.0043946653645436),(12,92,-0.855525376140629),(12,93,0.305520798364208),(12,94,-0.113406781212806),(12,97,-0.79863887447737),(12,98,-0.825617236854152),(12,99,-0.497238074892422),(12,108,0.653004547257912),(12,116,-0.838953825495163),(13,86,-0.819360942411573),(13,87,-0.158360545670949),(13,90,0.36405529953917),(13,99,0.329538865321818),(13,102,-0.0351573229163488),(13,104,0.224158452101199),(13,113,-0.623676259651479),(13,116,-0.594836268196661),(13,118,-0.54277169103061),(14,90,0.93954283272805),(14,93,0.879238258003479),(14,95,-0.460646382030702),(14,102,-0.115085299233985),(14,104,0.0223700674459059),(14,106,0.360118411816767),(14,109,-0.660939359721671),(14,110,-0.374828333384198),(14,111,-0.336924344615009),(15,85,0.0259712515640736),(15,92,0.863368633075961),(15,99,0.223670155949583),(15,101,-0.920468764305551),(15,104,0.969756157109287),(15,108,-0.40812402722251),(15,117,-0.0241096224860378),(16,86,0.707144383068331),(16,87,0.994781334879605),(16,88,0.35316019165624),(16,90,-0.501632740256966),(16,91,0.793267616809595),(16,95,0.58439893795587),(16,97,-0.919827875606555),(16,98,-0.836146122623371),(16,99,-0.586901455732902),(16,101,0.982940153202918),(16,108,-0.932737205114902),(16,110,0.912137211218604),(17,89,0.686239204077273),(17,96,0.606616412854396),(17,99,-0.347453230384228),(17,101,-0.195379497665334),(17,106,0.830103457747124),(17,107,-0.50343333231605),(17,109,0.459852900784326),(18,90,0.205542161320841),(18,91,0.764549699392682),(18,93,-0.0806299020355846),(18,99,0.89089632862331),(18,102,-0.0530716879787591),(18,103,-0.36924344615009),(18,104,0.818384350108341),(18,110,-0.940397350993378),(18,111,0.00939970091860714),(18,116,0.887325663014618),(18,117,-0.188573870052187),(18,118,-0.403912472914823),(19,87,-0.579180272835475),(19,89,-0.602435377056185),(19,93,-0.497543259987182),(19,95,-0.446150090029603),(19,101,0.043031098361156),(19,105,0.806939909054842),(19,115,-0.871364482558672),(20,88,0.624713888973663),(20,101,0.939970091860714),(20,103,-0.404797509689627),(20,104,0.102114932706687),(20,105,-0.658101138340403),(20,106,0.457655568102054),(20,111,0.993102816858425),(20,116,0.574968718527787),(21,86,0.0314035462508011),(21,87,0.200170903653066),(21,94,0.765495773186438),(21,96,-0.993194372386853),(21,101,0.0340281380657369),(21,102,-0.300943021942808),(21,105,0.0821253089999084),(21,107,0.121463667714469),(21,108,-0.322367015594958),(22,86,0.350505081331828),(22,88,-0.0491042817468795),(22,91,0.265266884365368),(22,92,0.601825006866665),(22,93,0.107150486770226),(22,98,-0.951353495895261),(22,106,-0.705191198461867),(22,115,0.5218054750206),(22,117,0.459913937803278),(23,85,0.882808923612171),(23,86,0.80520035401471),(23,88,-0.377178258613849),(23,90,-0.61177404095584),(23,97,0.41788995025483),(23,104,0.0136112552262947),(23,112,0.710226752525407),(23,114,0.952909939878536),(23,115,-0.667531357768487),(23,116,0.47529526657918),(24,89,-0.406720175786615),(24,90,-0.591448713644826),(24,91,-0.56343272194586),(24,101,-0.47376934110538),(24,107,0.379833368938261),(24,108,0.0119022186956389),(24,110,0.715201269569994),(24,112,-0.422376171147801),(25,90,0.435895870845668),(25,92,-0.828791161839656),(25,94,0.682973723563341),(25,98,0.622974333933531),(25,105,0.415112765892514),(25,108,-0.104739524521622),(25,109,0.0101016266365551),(25,115,0.510971404156621),(26,85,-0.201971495712149),(26,87,0.202215643787957),(26,89,-0.859279152806177),(26,95,-0.605273598437452),(26,98,-0.698141422772912),(26,100,-0.636738181707205),(26,101,-0.595812860499893),(26,102,-0.882259590441603),(26,103,0.352061525315104),(26,104,0.900906399731437),(26,107,-0.162053285317545),(26,109,-0.792260505996887),(26,112,0.339182714316233),(26,113,-0.728171636097293),(26,117,0.586718344676046),(27,85,-0.637379070406201),(27,87,-0.986022522659993),(27,94,-0.764427625354778),(27,100,0.472243415631581),(27,102,-0.529343546861171),(27,103,-0.532181768242439),(27,104,-0.116733298745689),(27,105,-0.804986724448378),(27,108,0.646259956663716),(27,110,0.82433545945616),(27,114,-0.747795037690359),(28,87,0.931028168584246),(28,88,-0.00677510910367138),(28,97,-0.0350352488784448),(28,99,0.184698019348735),(28,104,-0.0419629505294961),(28,113,-0.480971709341716),(28,114,-0.00128177739799188),(29,88,0.511154515213477),(29,91,0.0142216254158147),(29,102,-0.255745109408856),(29,105,-0.275368511001923),(29,116,-0.111362041077914),(30,95,-0.945341349528489),(30,96,0.474593340861232),(30,99,0.482863856929228),(30,101,0.134769737846004),(30,104,-0.231543931394391),(30,109,0.269478438673055),(30,110,0.0806909390545366),(30,114,-0.150334177678762),(30,118,-0.530289620654927),(31,85,-0.904538102359081),(31,92,0.109530930509354),(31,94,-0.958800012207404),(31,96,0.450697347941527),(31,99,0.249305703909421),(31,103,0.0340281380657369),(31,107,-0.0319528794213691),(31,108,0.316751609851375),(31,109,0.30130924405652),(31,111,0.264534440137944),(31,112,-0.54795983764153),(31,117,-0.846552934354686),(32,86,-0.97582934049501),(32,87,0.454451124607074),(32,89,-0.490524002807703),(32,92,0.0907925656910916),(32,98,0.882106997894223),(32,99,-0.166539506210517),(32,104,0.78179265724662),(32,106,-0.475539414654988),(32,109,-0.304879909665212),(32,116,0.00231940672017579),(32,118,-0.916806543168432),(33,96,-0.291451765495773),(33,98,0.109286782433546),(33,108,-0.787865840632344),(33,110,0.0690633869441816),(33,111,-0.474776451918088),(33,114,0.788811914426099),(34,85,0.910092471083712),(34,90,0.135166478469192),(34,99,-0.0224311044648579),(34,104,0.37412640766625),(34,109,0.397259437849055),(35,86,0.687917722098453),(35,87,0.886257515182958),(35,97,0.422437208166753),(35,98,-0.837366863002411),(35,100,0.306161687063204),(35,104,-0.688863795892209),(35,107,-0.805261391033662),(35,109,0.727988525040437),(35,110,0.250526444288461),(35,112,0.106082338938566),(36,85,-0.514145329142125),(36,87,-0.351725821710868),(36,90,-0.95364238410596),(36,91,0.258888515884884),(36,104,0.202368236335337),(36,107,-0.770744956816309),(36,109,0.293099765007477),(36,112,-0.958800012207404),(36,115,0.682027649769585),(36,117,-0.0340281380657369),(36,118,-0.117221594897305),(37,85,0.15057832575457),(37,86,0.0947294534134953),(37,87,-0.191656239509262),(37,91,0.990600299081393),(37,99,-0.396343882564776),(37,105,-0.975005340739158),(37,111,0.208929715872677),(37,112,0.62968840601825),(37,118,-0.743583483382672),(38,87,-0.924893948179571),(38,90,-0.375225074007385),(38,103,0.996520889919736),(38,105,-0.822626422925504),(38,106,0.118778038880581),(38,111,0.300271614734336),(38,115,-0.519150364696188),(39,87,-0.515671254615925),(39,89,0.357066560869167),(39,91,0.0923184911648915),(39,94,0.408032471694082),(39,97,0.0423902096621601),(39,98,0.887173070467238),(39,107,0.811639759514145),(39,108,-0.536606952116459),(39,109,-0.80474257637257),(39,111,0.711081270790735),(39,113,-0.793115024262215),(39,116,0.855494857631153),(39,118,-0.835749382000183),(40,88,-0.597918637653737),(40,92,0.931791131321146),(40,99,-0.80809961241493),(40,104,-0.195318460646382),(40,110,0.520493179113132),(40,116,0.525040437025056),(40,118,-0.717459639271218),(41,88,0.15713980529191),(41,93,-0.734031189916684),(41,96,0.765129551072726),(41,97,0.612140263069552),(41,100,0.530350657673879),(41,101,-0.216650898770104),(41,104,-0.475875118259224),(41,105,0.460524307992798),(41,106,-0.95974608600116),(41,107,-0.689718314157537),(41,109,0.187200537125767),(41,110,-0.282052064577166),(41,111,0.547990356151006),(41,112,-0.937009796441542),(42,85,0.141514328440199),(42,86,0.104129154332102),(42,87,0.644489883114109),(42,99,-0.641529587694937),(42,100,-0.325113681447798),(42,103,-0.233405560472427),(42,109,-0.143162327951903),(42,113,-0.458723715933714),(43,85,-0.119144260994293),(43,88,0.810419019135105),(43,89,0.134525589770196),(43,93,0.544511246070742),(43,97,-0.663075655384991),(43,98,0.116092410046693),(43,101,-0.254463332010865),(43,102,0.257423627430036),(43,103,0.525070955534532),(43,105,-0.599047822504349),(43,110,0.574327829828791),(43,112,-0.253181554612873),(43,114,-0.772728659932249),(43,116,-0.0920438245796075),(44,89,-0.375713370159001),(44,98,0.690664387951292),(44,99,0.0377513962218085),(45,87,-0.187108981597339),(45,88,-0.653798028504288),(45,90,-0.767784661397137),(45,91,-0.668782616657002),(45,95,-0.23718985564745),(45,98,-0.692770165105136),(45,108,0.306466872157964),(45,109,0.56572161015656),(45,112,-0.953886532181768),(45,115,0.557603686635945),(46,85,-0.605121005890072),(46,89,0.789422284615619),(46,91,0.0691244239631336),(46,94,-0.845271156956694),(46,97,0.277138584551531),(46,100,-0.540604876857814),(46,101,0.0307321390423292),(46,108,-0.539506210516678),(46,112,-0.294961394085513),(47,86,0.601672414319285),(47,91,-0.199255348368786),(47,92,-0.313180944242683),(47,94,0.957640308847316),(47,95,-0.835077974791711),(47,100,-0.516006958220161),(47,101,0.121280556657613),(47,104,0.00097659230323191),(47,105,-0.832087160863063),(47,108,-0.110202337717826),(47,112,0.428815576647237),(47,114,0.569261757255776),(47,118,-0.305764946440016),(48,86,-0.814691610461745),(48,91,-0.917264320810572),(48,98,0.266762291329691),(48,99,0.321939756462294),(48,100,-0.0581377605517747),(48,103,0.0132450331125828),(48,105,-0.00823999755851924),(48,106,-0.961394085512864),(48,111,0.103488265633106),(48,115,0.0832850123599963),(49,87,-0.887050996429334),(49,89,0.507980590227973),(49,93,-0.100222785119175),(49,94,0.638233588671529),(49,95,0.779381694998016),(49,102,0.75548570207831),(49,113,0.920529801324503),(49,114,-0.391155735953856),(50,89,0.903775139622181),(50,105,-0.527665028839991),(50,107,0.246742149113437),(51,87,0.512802514725181),(51,92,-0.054475539414655),(51,97,-0.00457777642139958),(51,98,0.880153813287759),(51,103,-0.927671132541887),(51,106,-0.727164525284585),(51,112,-0.949766533402509),(51,118,-0.73863948484756),(52,89,0.995086519974364),(52,97,-0.856166264839625),(52,106,0.43107394634846),(52,110,-0.512955107272561),(52,111,-0.418836024048585),(52,113,0.381756035035249),(52,114,0.129795220801416),(52,118,-0.449781792657247),(53,88,0.728934598834193),(53,90,-0.366283150730918),(53,92,0.83120212408826),(53,94,-0.230445265053255),(53,104,-0.17932676168096),(53,105,0.877712332529679),(53,109,-0.190496536149174),(54,85,0.414288766136662),(54,91,-0.405682546464431),(54,94,0.359660634174627),(54,96,0.36802270577105),(54,111,0.41499069185461),(54,112,-0.686391796624653),(54,113,-0.706595049897763),(54,118,0.627277443769646),(55,87,0.478988006225776),(55,95,-0.150944547868282),(55,107,-0.762535477767266),(55,110,-0.489425336466567),(55,117,0.634601886043886),(56,107,-0.779320657979064),(56,111,0.462691122165593),(56,113,0.53865169225135),(56,114,0.0805688650166326),(57,87,-0.536179692983795),(57,90,-0.336252937406537),(57,91,0.470992156743065),(57,92,0.98284859767449),(57,93,0.483474227118748),(57,94,0.58912930692465),(57,95,-0.481795709097568),(57,96,0.148106326487014),(57,100,0.215491195410016),(57,102,-0.485824152348399),(57,103,-0.58409375286111),(57,115,0.54353465376751),(58,86,-0.45966978972747),(58,87,-0.248725852229377),(58,89,0.953001495406964),(58,90,0.130252998443556),(58,95,-0.187383648182623),(58,96,0.19357890560625),(58,101,-0.88876003295999),(58,103,0.980803857539598),(58,109,-0.0782494582964568),(58,110,0.320352793969543),(58,113,-0.493057039094211),(58,114,-0.147740104373302),(58,115,0.681447798089541),(58,118,0.0776390881069369),(59,85,-0.651661732840968),(59,86,0.253761406292917),(59,90,0.118411816766869),(59,91,-0.519913327433088),(59,93,0.417798394726402),(59,97,0.270577105014191),(59,98,-0.670033875545518),(59,100,0.575701162755211),(59,102,0.389202551347392),(59,112,0.45646534623249),(59,114,-0.0923795281838435),(60,85,-0.646351512192144),(60,87,0.173558763389996),(60,90,-0.920529801324503),(60,91,-0.00494399853511155),(60,96,-0.253334147160253),(60,100,-0.535264137699515),(60,101,-0.782677694021424),(60,105,-0.194616534928434),(60,107,-0.952970976897488),(60,109,0.317636646626179),(60,110,0.398266548661763),(60,114,0.179418317209388),(61,89,0.237891781365398),(61,94,-0.734397412030396),(61,96,0.615680410168767),(61,98,0.876064333017975),(61,100,-0.643269142735069),(61,102,0.123752555925169),(61,103,0.535966063417463),(61,114,0.71446882534257),(61,115,-0.776970732749413),(62,93,-0.759636219367046),(62,95,-0.743247779778436),(62,107,-0.043336283455916),(62,109,0.492233039338359),(62,110,-0.812555314798425),(62,111,0.474440748313852),(63,87,-0.17078157902768),(63,90,0.921903134250923),(63,93,0.0555131687368389),(63,97,0.697347941526536),(63,100,0.883022553178503),(63,103,-0.59233375041963),(63,104,-0.406994842371899),(63,108,0.56556901760918),(63,111,0.785576952421644),(63,114,-0.336527603991821),(63,117,0.906125064851833),(64,87,0.219153416547136),(64,94,0.310678426465651),(64,99,0.224585711233863),(64,110,-0.212927640614032),(64,112,0.399700918607135),(64,116,0.73406170842616),(65,87,-0.230658894619587),(65,88,0.227912228766747),(65,90,-0.848719748527482),(65,97,0.0453810235908078),(65,99,-0.854823450422681),(65,107,0.924497207556383),(65,110,0.957853938413648),(65,111,0.0162663655507065),(65,114,-0.418774987029633),(65,116,-0.987853633228553),(65,117,-0.639851069673757),(66,85,0.308725241859188),(66,102,-0.254493850520341),(66,105,-0.354533524582659),(66,108,0.889126255073702),(66,111,0.968901638843959),(66,115,0.503524887844478),(66,118,0.246101260414441),(67,86,9.15555284279916e-05),(67,90,-0.149021881771294),(67,92,-0.835688344981231),(67,104,-0.504684591204566),(67,109,-0.790307321390423),(67,111,-0.512619403668325),(68,87,0.30558183538316),(68,88,-0.401776177251503),(68,90,-0.891994994964446),(68,93,0.817621387371441),(68,95,0.824396496475112),(68,96,0.426709799493393),(68,97,0.833765678884243),(68,103,0.390606402783288),(68,107,-0.620838038270211),(68,112,0.239906002990814),(68,114,-0.973570970793786),(69,87,-0.179967650379955),(69,88,0.769066438795129),(69,92,-0.359813226722007),(69,94,0.641712698751793),(69,95,0.1346476638081),(69,97,0.598651081881161),(69,108,-0.854365672780541),(69,113,-0.363414410840175),(69,114,-0.208105716116825),(69,118,0.729819635608997),(70,85,-0.657277138584552),(70,86,-0.706442457350383),(70,87,-0.987212744529557),(70,90,0.733634449293497),(70,96,-0.509567552720725),(70,97,-0.753898739585559),(70,99,-0.946195867793817),(70,105,-0.417096469008454),(70,107,-0.525894955290384),(70,109,0.201727347636341),(70,110,0.32547990356151),(70,111,0.733390301217689),(71,85,0.385967589342937),(71,93,0.0815759758293405),(71,96,0.635700552385022),(71,100,0.316812646870327),(71,104,0.151005584887234),(71,106,-0.108157597582934),(71,111,0.786492507705924),(71,113,0.643299661244545),(72,94,-0.705099642933439),(72,96,-0.65218054750206),(72,99,-0.840418713950011),(72,110,0.815240943632313),(72,112,-0.821527756584368),(72,114,0.337809381389813),(72,115,-0.391949217200232),(72,116,-0.971770378734703),(73,88,-0.854365672780541),(73,94,-0.2654805139317),(73,99,-0.571337015900143),(73,100,-0.32395397808771),(73,106,-0.054689168980987),(73,110,-0.859492782372509),(73,115,-0.67345194860683),(74,90,0.814966277047029),(74,94,0.512253181554613),(74,99,-0.340525528733177),(74,102,-0.411755729850154),(74,106,-0.405072176274911),(74,107,0.721518601031526),(74,110,0.823603015228736),(74,113,0.797235023041475),(74,116,-0.982024597918638),(75,85,0.773369548631245),(75,86,-0.0403759880367443),(75,93,0.642231513412885),(75,98,-0.895992919705802),(75,103,0.171300393688772),(75,105,-0.687185277871029),(75,111,-0.689382610553301),(75,117,0.119907223731193),(76,86,0.273140659810175),(76,89,0.397320474868007),(76,92,0.365550706503494),(76,94,-0.0345164342173528),(76,99,0.357036042359691),(76,101,-0.338999603259377),(76,103,0.160710470900601),(76,106,-0.838587603381451),(76,110,-0.313180944242683),(76,113,-0.437757499923704),(77,88,0.63182470168157),(77,91,-0.583910641804254),(77,93,-0.960081789605396),(77,98,0.224341563158055),(77,101,0.0317697683645131),(77,102,0.835779900509659),(77,103,-0.986022522659993),(77,104,0.307199316385388),(77,105,0.563371684926908),(77,109,-0.95776238288522),(78,88,-0.515396588030641),(78,93,0.470229194006165),(78,94,-0.257972960600604),(78,101,0.022156437879574),(78,104,0.300210577715384),(78,110,0.395336771752068),(78,114,-0.479812005981628),(78,116,0.345042268135624),(78,117,0.536454359569079),(78,118,0.0102542191839351),(79,87,0.054414502395703),(79,92,-0.646351512192144),(79,94,-0.305398724326304),(79,107,0.461012604144414),(79,108,0.0229804376354259),(79,114,-0.835169530320139),(79,118,-0.640217291787469),(80,87,0.709738456373791),(80,88,-0.0209662160100101),(80,91,-0.419782097842341),(80,99,-0.217169713431196),(80,101,-0.75716422009949),(80,107,0.282113101596118),(80,113,-0.542893765068514),(81,85,-0.672170171208838),(81,86,0.490493484298227),(81,90,0.267311624500259),(81,93,-0.641773735770745),(81,96,0.542130802331614),(81,97,0.155888546403394),(81,106,0.918576616718039),(81,107,-0.733390301217689),(81,110,-0.83135471663564),(81,115,0.45616016113773),(82,86,-0.537827692495499),(82,92,-0.32456434827723),(82,110,-0.202917569505905),(82,112,-0.273415326395459),(83,87,0.290963469344157),(83,91,-0.947233497116001),(83,93,0.795251319925535),(83,101,0.0168462172307505),(83,103,-0.336680196539201),(83,105,-0.318338572344127),(83,108,0.663228247932371),(84,85,-0.595171971800897),(84,86,-0.580339976195563),(84,89,0.12533951841792),(84,95,-0.844904934842982),(84,99,-0.0144352549821467),(84,104,0.0528580584124271),(84,111,-0.436078981902524),(84,113,0.0526444288460952),(84,114,-0.600665303506577)]
orgname='BHNEAT_1_0'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()