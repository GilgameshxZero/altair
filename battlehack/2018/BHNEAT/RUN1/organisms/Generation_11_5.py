edge = [(0,85,-1.69901120029298),(0,89,-2.02960295419172),(0,90,0.240256965849788),(0,93,-0.690481276894437),(0,98,2.04325998718223),(0,101,0.646809289834285),(0,105,1.06447035126804),(0,108,2.16994232001709),(0,113,1.47376934110538),(0,114,-2.37897885067293),(0,117,0.854060487685781),(0,118,-0.835001678518021),(1,86,-0.66780602435377),(1,92,-2.33693960386975),(1,98,-0.0463118381298255),(1,102,-2.05256813257241),(1,104,-0.819467757194738),(1,107,-3.15157017731254),(1,108,-0.98033082064272),(1,109,0.10635700552385),(1,113,1.31400494399854),(2,87,-3.78708761864071),(2,88,3.71662038026063),(2,100,0.635746330149236),(2,106,-2.16951506088443),(2,108,0.438520462660604),(2,110,1.25856807153539),(2,113,0.345347453230384),(2,118,1.42564165166173),(3,89,0.183278908658101),(3,92,-2.55217139194922),(3,97,0.265739921262246),(3,99,0.881588183233131),(3,101,0.590395825067904),(3,103,-0.960173345133824),(3,105,0.887279885250404),(3,108,-1.86634418774987),(3,109,-2.77587206640828),(3,111,-2.70444349497971),(3,112,2.36532181768242),(3,116,-2.88343455305643),(4,90,-0.501022370067446),(4,91,2.74225592822047),(4,97,-1.87684255500961),(4,99,3.67653431806391),(4,101,0.267616809595019),(4,108,2.92672505874813),(4,113,0.924604022339549),(4,118,-2.07251197851497),(5,86,-2.98286385692923),(5,87,-2.24008911404767),(5,89,0.10399182103946),(5,92,-0.637012848292489),(5,93,-1.79747917111728),(5,99,-0.415692617572558),(5,104,-0.0392010254219184),(5,114,0.692922757652516),(5,118,0.597506637775811),(6,89,-1.17783135471664),(6,92,-2.22663045136875),(6,94,-2.41561632129887),(6,100,-2.03712576677755),(6,101,-2.36115604113895),(6,103,0.963881344035157),(6,107,-1.90043336283456),(6,110,-0.0775170140690329),(6,113,0.6901455732902),(7,85,0.895641956846828),(7,86,3.60994293038728),(7,90,0.804757835627308),(7,95,1.64186529129917),(7,99,1.73039948728904),(7,100,1.48356578264718),(7,104,1.87490462965789),(7,106,3.62422559282205),(7,108,1.7113101596118),(7,112,1.20847193823054),(7,116,-0.197759941404462),(8,92,-1.605533005768),(8,93,-1.65004425183874),(8,95,3.13380840479751),(8,99,-0.505905331583606),(8,106,1.04145939512314),(8,107,-2.94199957274087),(8,115,1.11183507797479),(8,116,-1.73052156132694),(8,118,-2.85958433790094),(9,85,2.47694326609088),(9,87,-0.603381450849941),(9,98,1.54309213538011),(9,101,-0.3963133640553),(9,103,-1.02298043763543),(9,105,-0.498290963469344),(9,106,1.0118869594409),(9,113,1.96966460158086),(10,89,1.74448377941221),(10,96,0.0812250129703666),(10,106,3.3860744041261),(10,108,-0.43206579790643),(10,109,2.27315591906491),(10,111,3.64096499526963),(10,112,0.604647968993194),(10,114,-0.535920285653249),(10,115,2.83046967986084),(10,116,1.99942014831996),(10,117,-3.83271279030732),(11,89,1.56469924008911),(11,97,1.26615192114017),(11,105,1.79812005981628),(11,112,-1.57133701590014),(11,115,-1.47541734061708),(12,92,-2.56373790704062),(12,93,1.40632343516343),(12,94,-1.04480117191076),(12,97,-2.03364665669729),(12,98,0.141621143223365),(12,99,0.590060121463668),(12,108,1.52914517654958),(12,116,1.92588579973754),(13,86,0.851130710776086),(13,87,1.44167912839137),(13,90,-2.02052369762261),(13,99,2.55029450361644),(13,102,-0.684530167546617),(13,104,0.177098910489212),(13,113,0.586397900326548),(13,116,1.6150090029603),(13,118,3.42913602099673),(14,90,-2.24161503952147),(14,93,2.28408154545732),(14,95,0.511261329996643),(14,102,1.80632953886532),(14,104,-1.51257362590411),(14,106,-1.43559068575091),(14,109,2.97784356212043),(14,110,0.250083925901059),(14,111,0.955961790826136),(15,85,-0.614764854884487),(15,92,0.538773766289255),(15,99,-3.45039216284677),(15,101,0.98170415356914),(15,104,-0.677465132602924),(15,108,-1.68669698171941),(15,117,0.283806878872036),(16,86,-0.206076235236671),(16,87,1.14580217902158),(16,88,-0.583040864284188),(16,90,0.629490035706656),(16,91,-0.993377483443709),(16,95,-2.64386425366985),(16,97,1.73874629963073),(16,98,-0.226294747764519),(16,99,-0.319772942289499),(16,101,-1.36039307840205),(16,108,1.51728873561815),(16,110,1.10242011780145),(17,89,0.818765831476791),(17,96,-0.441038239692373),(17,99,0.798226874599445),(17,101,-2.3057191686758),(17,106,-3.96038697470016),(17,107,0.15347758415479),(17,109,0.0862300485244301),(18,90,-0.571489608447524),(18,91,-1.64716025269326),(18,93,-2.91770683919797),(18,99,-1.65921506393628),(18,102,-1.37794122135075),(18,103,-4.55134739219337),(18,104,1.3174840540788),(18,110,0.0301828058717611),(18,111,0.0172276985992005),(18,116,-2.43964964751122),(18,117,-0.909375286111026),(18,118,-2.88975188451796),(19,87,-0.405957213049715),(19,89,1.64474929044465),(19,93,2.14339121677297),(19,95,-2.69692068239387),(19,101,2.74878688924833),(19,105,-0.638386181218909),(19,115,-0.749885555589465),(20,88,0.604495376445815),(20,101,-1.76544999542222),(20,103,0.101443525498215),(20,104,0.323831904049806),(20,105,2.0389110995819),(20,106,2.91421246986297),(20,111,3.28844569231239),(20,116,-0.381267738883633),(21,86,3.17987609485153),(21,87,-0.295052949613941),(21,94,-2.19556260872219),(21,96,0.913342692342906),(21,101,0.483565782647175),(21,102,0.758217108676412),(21,105,1.11851863155004),(21,107,-0.0133823664052251),(21,108,2.74304940946684),(22,86,-0.91216772972808),(22,88,0.415540025025178),(22,91,-1.87115085299234),(22,92,1.08401745658742),(22,93,-1.03540147099216),(22,98,-1.1128421887875),(22,106,-1.55560472426527),(22,115,1.73487044892727),(22,117,-0.493636890774255),(23,85,-1.52888576921903),(23,86,-1.31955931272317),(23,88,2.23004852443007),(23,90,-0.853114413892025),(23,97,-0.384517960142827),(23,104,-2.16156498916593),(23,112,-0.931119724112674),(23,114,-1.51980651264992),(23,115,0.71340067751091),(23,116,0.0662862025818658),(24,89,-0.90842921231727),(24,90,-0.43176061281167),(24,91,-3.39014862514115),(24,101,2.21791741691336),(24,107,0.983657338175604),(24,108,2.28232673116245),(24,110,-0.510422070986053),(24,112,0.920255134739219),(25,90,-0.139667958616901),(25,92,0.543259987182226),(25,94,-2.09871211890011),(25,98,1.95443586535234),(25,105,-1.11496322519608),(25,108,0.779213843195898),(25,109,-0.970549638355663),(25,115,-0.729941709646901),(26,85,1.08316293832209),(26,87,-0.0800958281197549),(26,89,-1.6376995147557),(26,95,0.263664662617878),(26,98,1.9025391399884),(26,100,1.92861720633564),(26,101,-1.67732779931028),(26,102,-0.722952970976897),(26,103,-2.90276802880947),(26,104,3.93198950163274),(26,107,-1.52693258461257),(26,109,-1.16861476485488),(26,112,-0.208883938108463),(26,113,-0.162877285073397),(26,117,-2.60435804315317),(27,85,0.906552323984497),(27,87,0.376689962462233),(27,94,-0.296700949125645),(27,100,-0.47903378398999),(27,102,-3.38610492263558),(27,103,-0.750373851741081),(27,104,0.891933957945494),(27,105,1.79470198675497),(27,108,0.87199011200293),(27,110,1.22362437818537),(27,114,-1.44354075746941),(28,87,1.63168736838893),(28,88,-1.5608386486404),(28,97,1.50936918240913),(28,99,0.107181005279702),(28,104,-0.489333780938139),(28,113,-2.12468337046419),(28,114,3.36268196661275),(29,88,0.745078890346995),(29,91,2.87937559129612),(29,102,-3.34881130405591),(29,105,0.0284432508316297),(29,116,1.43945127719962),(30,95,1.86007263405255),(30,96,0.329935605945006),(30,99,0.24428540910062),(30,101,2.19423505355998),(30,104,-2.32016968291269),(30,109,3.01194799645985),(30,110,0.382015442365795),(30,114,-1.09588915677358),(30,118,-0.553956724753563),(31,85,1.07431257057405),(31,92,-2.07739494003113),(31,94,-3.76386303292947),(31,96,3.55215613269448),(31,99,1.50082399975585),(31,103,-1.32757042146062),(31,107,1.04838709677419),(31,108,0.204641865291299),(31,109,0.916241950743126),(31,111,-0.126728110599078),(31,112,1.96798608355968),(31,117,-1.31524094363231),(32,86,-1.7390972624897),(32,87,-3.820093386639),(32,89,-1.03308206427198),(32,92,0.529374065370647),(32,98,1.87449262977996),(32,99,1.67455061494797),(32,104,2.83336893826106),(32,106,-2.2443159276101),(32,109,2.82549516281625),(32,116,-0.165898617511521),(32,118,-0.0919370097964416),(33,96,1.77774895474105),(33,98,-2.00823999755852),(33,108,0.979308450575274),(33,110,-3.29602954191717),(33,111,0.879314554277169),(33,114,0.530045472579119),(34,85,-3.50086977752007),(34,90,-2.43543809320353),(34,99,-1.66318247016816),(34,104,-2.08661152989288),(34,109,1.40084536271249),(35,86,-0.200659199804682),(35,87,1.21414838099307),(35,97,1.49258400219733),(35,98,-1.29894405957213),(35,100,-1.09262367625965),(35,104,1.33790093691824),(35,107,0.883068330942717),(35,109,-0.86970122379223),(35,110,2.7658009582812),(35,112,-0.619449446089053),(36,85,0.708319345683157),(36,87,1.14052247688223),(36,90,-3.01118503372295),(36,91,3.71120334482864),(36,104,-0.498672444837794),(36,107,-1.57481612598041),(36,109,-1.74581133457442),(36,112,1.79602954191717),(36,115,-1.84438612018189),(36,117,-1.1819513534959),(36,118,1.44438001648),(37,85,-1.34536271248512),(37,86,-0.892437513351848),(37,87,0.0779747917111728),(37,91,4.49888607440413),(37,99,1.16716513565477),(37,105,1.02676473281045),(37,111,-0.952543717764824),(37,112,0.589037751396222),(37,118,-0.088579973754082),(38,87,-2.48802148503067),(38,90,2.23981444746239),(38,103,-1.35888241218299),(38,105,-1.59752189703055),(38,106,-0.21553697317423),(38,111,0.70044557023835),(38,115,-2.38744773705252),(39,87,-0.35110019226661),(39,89,2.77100436414686),(39,91,1.16824854274117),(39,94,-1.71829889828181),(39,97,-1.88959929197058),(39,98,1.84998626667074),(39,107,-0.317026276436659),(39,108,-1.55891598254341),(39,109,1.36469618823817),(39,111,3.84830774864956),(39,113,4.40975676747948),(39,116,-0.914578691976684),(39,118,-1.71463667714469),(40,88,0.924222540971099),(40,92,-2.85645619067965),(40,99,-1.67648854029969),(40,104,-2.33576464125492),(40,110,-1.26650288399915),(40,116,0.752067629016999),(40,118,-1.46511734366894),(41,88,0.985213782158879),(41,93,3.98359630115665),(41,96,1.09550767540513),(41,97,-0.704672383800775),(41,100,-0.951567125461592),(41,101,0.632770775475326),(41,104,-0.701956236457412),(41,105,-1.95760979033784),(41,106,-1.11563463240455),(41,107,-2.37434003723258),(41,109,1.76609088412122),(41,110,0.598864711447493),(41,111,0.517578661458174),(41,112,3.38375499740593),(42,85,-0.503830072939238),(42,86,0.707007049775689),(42,87,-1.09221167638173),(42,99,-0.486617633594775),(42,100,-3.41108432264168),(42,103,-4.65208899197363),(42,109,1.16980498672445),(42,113,1.67549668874172),(43,85,-2.86945707571642),(43,88,1.05929746391186),(43,89,0.965529343546861),(43,93,1.95237586596271),(43,97,-0.712546159245582),(43,98,0.642567217017121),(43,101,2.86068300424207),(43,102,0.975920896023438),(43,103,2.24234748374889),(43,105,-3.5345774712363),(43,110,2.83449812311167),(43,112,3.04179509872738),(43,114,-0.905011139255959),(43,116,0.32876064333018),(44,89,-1.14452040162358),(44,98,-1.59710989715262),(44,99,1.48970000305185),(45,87,2.58676412244026),(45,88,-0.989410077211829),(45,90,-1.25551622058779),(45,91,2.95733512375256),(45,95,-0.998535111545152),(45,98,-1.15157017731254),(45,108,-2.58960234382153),(45,109,-1.32384716330454),(45,112,0.216971343119602),(45,115,0.501403851435896),(46,85,-0.865031891842402),(46,89,-0.842463454084903),(46,91,-2.08339182714316),(46,94,-1.03997924741356),(46,97,-0.864833521530809),(46,100,1.55325479903562),(46,101,2.06939909054842),(46,108,-1.04480117191076),(46,112,2.21706289864803),(47,86,-1.26366466261788),(47,91,0.659871211890011),(47,92,1.94912564470351),(47,94,1.27890865810114),(47,95,1.28017517624439),(47,100,2.02644428846095),(47,101,-0.517136143070773),(47,104,1.89825128940703),(47,105,-1.52952665791803),(47,108,0.700933866389965),(47,112,2.70043031098361),(47,114,1.46214178899503),(47,118,0.86832789086581),(48,86,1.60515152439955),(48,91,0.904889065218055),(48,98,-0.829630420850246),(48,99,1.31165501876888),(48,100,-2.15497299111911),(48,103,0.172780541398358),(48,105,1.74999237037263),(48,106,1.34919278542436),(48,111,-4.11215552232429),(48,115,4.41633350627155),(49,87,-0.173619800408948),(49,89,0.90926847132786),(49,93,-0.791222876674703),(49,94,-2.1203497421186),(49,95,1.52652058473464),(49,102,3.19835505233924),(49,113,-0.396755882442701),(49,114,-0.682805871761223),(50,89,3.04110843226417),(50,105,1.16002380443739),(50,107,-2.53582873012482),(51,87,-0.987060151982177),(51,92,-1.27205725272378),(51,97,-1.80262153996399),(51,98,-2.88381603442488),(51,103,1.47680593279824),(51,106,1.88013855403302),(51,112,-0.157856990264595),(51,118,-2.30875576036866),(52,89,-2.70386364329966),(52,97,0.705633716849269),(52,106,1.61900692770165),(52,110,-1.75031281472213),(52,111,-0.735694448683126),(52,113,1.36388744773705),(52,114,-2.53080843531602),(52,118,1.65964232306894),(53,88,-1.57945493942076),(53,90,-0.467772453993347),(53,92,-0.693624683370464),(53,94,2.76497695852535),(53,104,-1.15543076876125),(53,105,-2.67099520859401),(53,109,-3.17065950498978),(54,85,1.58784752952666),(54,91,1.56559953611866),(54,94,-0.688421277504807),(54,96,1.46374401074252),(54,111,-1.27330851161229),(54,112,-1.44824060792871),(54,113,-2.06881923886837),(54,118,1.43995483260598),(55,87,-0.959257789849543),(55,95,-2.93099765007477),(55,107,-3.11243018890957),(55,110,-3.23374126407666),(55,117,-2.66882839442122),(56,107,-2.53819391460921),(56,111,-2.6223181859798),(56,113,0.303689687795648),(56,114,-0.0752891628772852),(57,87,1.82012390514847),(57,90,-1.77347636341441),(57,91,-1.40224921414838),(57,92,3.11571092867824),(57,93,2.53488265633106),(57,94,-0.637333292641987),(57,95,-0.381801812799463),(57,96,-3.21660512100589),(57,100,1.20604571672719),(57,102,0.559251686147649),(57,103,-1.22714926602985),(57,115,-0.484328745384075),(58,86,-3.04901272621845),(58,87,0.61215552232429),(58,89,-0.35079500717185),(58,90,-0.86832789086581),(58,95,-0.505615405743584),(58,96,-0.0296029541917173),(58,101,-3.38036744285409),(58,103,2.56227301858577),(58,109,-2.2987304300058),(58,110,2.09849848933378),(58,113,2.82369457075716),(58,114,-1.27842036194952),(58,115,-1.72923978392895),(58,118,0.856959746086001),(59,85,-1.32355723746452),(59,86,-0.0807977538377025),(59,90,0.866145817438276),(59,91,2.69707327494125),(59,93,2.22385326700644),(59,97,1.40131839960936),(59,98,1.67862483596301),(59,100,-4.0727256080813),(59,102,2.92957853938414),(59,112,-1.99552903836177),(59,114,-1.31720938749351),(60,85,-1.05070650349437),(60,87,-2.39454329050569),(60,90,-3.96809289834284),(60,91,0.446714682454909),(60,96,0.757515182958464),(60,100,0.822443311868648),(60,101,-0.108249153111362),(60,105,-1.70751060518204),(60,107,1.42060609759819),(60,109,-0.740256965849788),(60,110,-0.142735068819239),(60,114,-1.20068971831416),(61,89,-1.55708487197485),(61,94,2.27903073213904),(61,96,0.674230170598468),(61,98,-1.65303506576739),(61,100,-2.63992736594745),(61,102,-0.565813165684988),(61,103,1.10126041444136),(61,114,-0.326532792138432),(61,115,-0.065080721457564),(62,93,-1.89271217993713),(62,95,-2.99348429822687),(62,107,-0.964079714346751),(62,109,-2.92646565141758),(62,110,-1.65990173039949),(62,111,-1.63777581102939),(63,87,1.90496536149174),(63,90,0.661595507675405),(63,93,2.12958159123508),(63,97,1.28905606250191),(63,100,-0.82647175511948),(63,103,-1.57034516434217),(63,104,-1.33986938077944),(63,108,-0.245918149357585),(63,111,3.62497329630421),(63,114,0.888882106997894),(63,117,0.191534165471359),(64,87,-0.676519058809168),(64,94,-0.613711966307565),(64,99,-1.28978850672933),(64,110,0.944685201574755),(64,112,-0.459028901028474),(64,116,4.07472457045198),(65,87,-1.89912106692709),(65,88,0.613315225684378),(65,90,-1.87055574205756),(65,97,-1.76812036500137),(65,99,-0.702749717703787),(65,107,-3.63048188726463),(65,110,-4.08543656727805),(65,111,-3.74312570574053),(65,114,-1.4185613574633),(65,116,-0.73543504135258),(65,117,2.68700216681417),(66,85,0.811685537278359),(66,102,3.4908444471572),(66,105,-2.21343119602039),(66,108,-0.852137821588794),(66,111,4.16763817255165),(66,115,-0.85140537736137),(66,118,2.5454573198645),(67,86,-1.52542191839351),(67,90,1.70398571733757),(67,92,-2.0224463637196),(67,104,1.50848414563433),(67,109,-2.19640186773278),(67,111,-0.737159337137974),(68,87,0.230567339091159),(68,88,0.510956144901883),(68,90,-3.66632587664418),(68,93,-2.41431928464614),(68,95,-0.106265449995422),(68,96,-1.52745139927366),(68,97,0.792596209601123),(68,103,2.40066225165563),(68,107,-0.140690328684347),(68,112,-0),(68,114,1.77153843806269),(69,87,3.55572679830317),(69,88,1.32692953276162),(69,92,-1.22974333933531),(69,94,-2.17426068910794),(69,95,0.901058992278817),(69,97,-0.210974456007569),(69,108,2.28164006469924),(69,113,-4.38981292153691),(69,114,5.8302560502945),(69,118,3.25646229438154),(70,85,-2.31574449903867),(70,86,-0.603411969359416),(70,87,-1.56930753501999),(70,90,-0.91796624652852),(70,96,-1.34678182317576),(70,97,-2.42255928220466),(70,99,0.368419446394238),(70,105,-0.897854548783837),(70,107,-0.297875911740471),(70,109,0.351207007049776),(70,110,0.277108066042055),(70,111,-1.39727469710379),(71,85,-2.88543351542711),(71,93,2.09883419293802),(71,96,-1.25202185125278),(71,100,5.48445081942198),(71,104,0.536286507766961),(71,106,4.4985961485641),(71,111,2.83811456648457),(71,113,-1.5401165807062),(72,94,3.06439405499435),(72,96,-1.25719473860897),(72,99,-0.358302560502945),(72,110,-2.53044221320231),(72,112,-3.88991973632008),(72,114,1.9747001556444),(72,115,2.13064973906674),(72,116,0.718008972441786),(73,88,-0.135151219214453),(73,94,-1.52378917813654),(73,99,-1.14825891903439),(73,100,0.234321115756706),(73,106,-0.444120609149449),(73,110,-1.44474623859371),(73,115,1.11148411511582),(74,90,-1.06173894466994),(74,94,0.862376781517991),(74,99,0.97849971007416),(74,102,-1.82049012726218),(74,106,-1.50042725913266),(74,107,-0.315073091830195),(74,110,2.27974791711173),(74,113,-0.964079714346751),(74,116,3.32888271736808),(75,85,1.60058900723289),(75,86,0.0996429334391308),(75,93,-0.858760338145085),(75,98,-2.29628894924772),(75,103,0.895413068025758),(75,105,2.42451246681112),(75,111,0.924375133518479),(75,117,-3.79209265419477),(76,86,-1.8438673055208),(76,89,0.451857051301614),(76,92,-0.341776787621693),(76,94,0.984832300790429),(76,99,3.24912259285257),(76,101,-0.343333231604968),(76,103,1.38282418286691),(76,106,0.748832667012543),(76,110,1.1649678029725),(76,113,-1.29238258003479),(77,88,0.0561082796716208),(77,91,-0.808008056886502),(77,93,0.638523514511551),(77,98,1.06692709128086),(77,101,1.45608386486404),(77,102,0.207037568285165),(77,103,-0.223242896816919),(77,104,2.05862605670339),(77,105,-0.108478041932432),(77,109,0.143925290688803),(78,88,-0.534440137943663),(78,93,-0.790719321268349),(78,94,1.42463454084902),(78,101,-1.95323038422803),(78,104,0.904309213538011),(78,110,0.0324564348277231),(78,114,-0.494399853511155),(78,116,1.19647816400647),(78,117,-1.02238532670064),(78,118,0.594561601611377),(79,87,1.21138645588549),(79,92,0.242164372692038),(79,94,0.118717001861629),(79,107,0.461973937192907),(79,108,-0.844584490493484),(79,114,4.4356669820246),(79,118,1.67836542863247),(80,87,1.75855281228065),(80,88,-1.22211371196631),(80,91,2.28553117465743),(80,99,0.479476302377392),(80,101,1.78933072908719),(80,107,1.26491592150639),(80,113,-0.919980468153935),(81,85,1.16733298745689),(81,86,-0.771370586260567),(81,90,2.21839045381024),(81,93,-0.677678762169255),(81,96,-1.45132297738578),(81,97,-0.189687795648061),(81,106,2.53285317545091),(81,107,-1.12202826013977),(81,110,0.285637989440595),(81,115,0.956053346354564),(82,86,2.47274697103793),(82,92,-0.445631275368511),(82,110,-2.15514084292123),(82,112,1.62376781517991),(83,87,0.00312814722128973),(83,91,0.991027558214057),(83,93,0.0527665028839991),(83,101,-1.99484237189856),(83,103,-1.25865962706381),(83,105,0.580919827875607),(83,108,-1.12582781456954),(84,85,-0.752616962187567),(84,86,0.152500991851558),(84,89,3.59768974883267),(84,95,-1.81666005432295),(84,99,-0.692770165105136),(84,104,3.22382274849696),(84,111,-0.139866328928495),(84,113,1.02282784508805),(84,114,1.55989257484664),(35,105,0.746574297311319)]
orgname='BHNEAT_11_5'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()