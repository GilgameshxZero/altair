edge = [(0,85,0.360683004242073),(0,89,0.01174199652089),(0,90,1.55468916898099),(0,93,-0.767540513321329),(0,98,3.02661976989044),(0,101,-1.99575029755547),(0,105,1.80776390881069),(0,108,0.630626850184637),(0,113,1.59881893368328),(0,114,3.78521073030793),(0,117,1.9880138554033),(0,118,-1.28208258308664),(1,86,-2.88674581133457),(1,92,0.74862666707358),(1,98,1.59352397228919),(1,102,-5.63921781060213),(1,104,-0.631130405590991),(1,107,-0.846377452925199),(1,108,-4.05957213049715),(1,109,0.463103122043519),(1,113,-0.923566393017365),(2,87,2.84294412060915),(2,88,1.74962614825892),(2,100,1.17900631733146),(2,106,3.13623462630085),(2,108,0.916936246833704),(2,110,1.15192114017151),(2,113,0.464636677144688),(2,118,1.24912259285257),(3,89,-1.18053224280526),(3,92,-0.18328653828547),(3,97,-0.557000946073794),(3,99,1.63238166447951),(3,101,-1.42539750358592),(3,103,-0.719397564622944),(3,105,2.49846644489883),(3,108,1.61915952024903),(3,109,-1.48139896847438),(3,111,3.37026581621754),(3,112,-3.63415936765648),(3,116,-3.0464415417951),(4,90,0.294557023834956),(4,91,2.25337992492447),(4,97,-0.0864436780907621),(4,99,1.17779320657979),(4,101,-1.50497451704459),(4,108,-2.31826227607044),(4,113,2.49679555650502),(4,118,2.24967192602313),(5,86,1.19663075655385),(5,87,-0.548753318887906),(5,89,-1.39554277169103),(5,92,2.18560594500565),(5,93,-2.00811792352062),(5,99,-1.68744468520157),(5,104,2.3615375225074),(5,114,0.3808328501236),(5,118,-3.24328592791528),(6,89,-2.17780083620716),(6,92,-3.32243568224128),(6,94,-0.586107974486526),(6,100,-0.169392986846522),(6,101,-0.241836298715171),(6,103,-0.761597033600879),(6,107,0.537079989013336),(6,110,3.0552766502884),(6,113,-2.58098086489456),(7,85,-0.229194006164739),(7,86,0.552613910336619),(7,90,-0.159436323129978),(7,95,0.204344309823908),(7,99,0.673818170720542),(7,100,-1.20494705038606),(7,104,-1.41585283974731),(7,106,1.87650685140538),(7,108,-2.40186010315256),(7,112,0.159741508224738),(7,116,-1.7463072603534),(8,92,-0.711073641163365),(8,93,-1.13447218237861),(8,95,3.80833613086337),(8,99,1.37913144322031),(8,106,-2.27118747520371),(8,107,-0.293816949980163),(8,115,2.84356975005341),(8,116,0.745979186376537),(8,118,-0.101168858912931),(9,85,1.47299874874111),(9,87,0.43145542771691),(9,98,-1.59656819360942),(9,101,0.235450300607318),(9,103,0.820490127262185),(9,105,-3.12952055421613),(9,106,0.753318887905515),(9,113,2.84068575090793),(10,89,0.25930051576281),(10,96,-0.99123355815302),(10,106,2.14458143864254),(10,108,-0.488830225531785),(10,111,1.87306588946196),(10,112,-3.04765465254677),(10,114,0.721518601031526),(10,115,-2.97212897122105),(10,116,0.607280190435499),(10,117,-0.684606463820307),(11,89,-2.37220374156926),(11,97,1.80934324167608),(11,105,-3.43317209387494),(11,112,0.576342051454207),(11,115,1.98866237372967),(12,92,4.27027191991943),(12,93,0.953016754661702),(12,94,2.38120670186468),(12,97,-2.33524582659383),(12,98,5.37028107547227),(12,99,0.384456923123875),(12,108,2.76235999633778),(12,116,-0.610660115359966),(13,86,-1.58317819757683),(13,87,3.09121982482376),(13,90,-1.16481521042512),(13,99,2.1028015991699),(13,102,0.382320627460555),(13,104,-2.14835047456282),(13,113,-2.286080507828),(13,116,-1.47190771202734),(13,118,3.37817011017182),(14,90,-1.52983184301279),(14,93,4.05644398327586),(14,95,-0.917538987395856),(14,102,1.66547135837886),(14,104,-1.51562547685171),(14,106,-1.77678762169256),(14,109,-2.32978301339763),(14,110,2.26094851527451),(14,111,1.34228797265542),(15,85,-2.19466231269265),(15,92,3.19185460982086),(15,99,-2.39292580950346),(15,101,0.485091708120975),(15,104,1.65547654652547),(15,108,2.48164311655019),(15,117,0.913861507003998),(16,86,1.16252632221442),(16,87,-4.20324564348277),(16,88,0.945631275368511),(16,90,1.00830103457747),(16,91,0.514999847407453),(16,95,-2.72363200781274),(16,97,0.343562120426039),(16,98,-2.09600360118412),(16,99,-2.07831049531541),(16,101,0.688879055146947),(16,108,-1.80890835291604),(16,110,-0.40713980529191),(17,89,-0.665692617572558),(17,96,-0.0280007324442275),(17,99,-0.317697683645131),(17,101,3.38249610889004),(17,106,0.32685323648793),(17,107,0.0781350138859219),(17,109,-5.48568681905576),(18,90,-1.9983520004883),(18,91,-1.02874080629902),(18,93,-0.259208960234382),(18,99,-4.19419690542314),(18,102,-1.61564989165929),(18,103,1.12216559343242),(18,104,4.02302621539964),(18,110,-1.35329752494888),(18,111,1.57115390484329),(18,116,0.213362529374065),(18,117,0.807214575640126),(18,118,0.899822992645039),(19,87,-2.36762596514786),(19,89,-4.41130558183538),(19,93,-0.691053498947112),(19,95,-1.2846766563921),(19,101,4.51554155095065),(19,105,-5.66764580217902),(19,115,1.53785821100497),(20,88,-1.64174321726127),(20,101,4.49778740806299),(20,103,-2.31749931333354),(20,104,0.628711813715018),(20,105,-1.7321085238197),(20,106,-0.380703146458327),(20,111,-0.802560502945036),(20,116,2.05587176122318),(21,86,-1.37371440778832),(21,87,2.90520950956755),(21,94,1.61886196478164),(21,96,0.714743491927854),(21,101,2.23554948576312),(21,102,0.0766777550584429),(21,105,1.66089358195746),(21,107,0.876155888546403),(21,108,-2.33886226996673),(22,86,-0.21507919553209),(22,88,-2.35025330362865),(22,91,-3.49362926114689),(22,92,-2.79931791131321),(22,93,-1.5248573259682),(22,98,1.78876613666189),(22,106,-0.76418347727897),(22,115,1.18215735343486),(22,117,0.54269539475692),(23,85,-2.99457533494064),(23,86,-0.660191656239509),(23,88,0.470397045808283),(23,90,0.399410992767113),(23,97,0.622974333933531),(23,104,4.30660420545061),(23,112,-2.15304269539476),(23,114,-3.64271217993713),(23,115,-2.01655629139073),(23,116,2.55346842860195),(24,89,-6.91100039674062),(24,90,0.536591692861721),(24,91,0.138538773766289),(24,101,2.00323496200446),(24,107,-2.93678853724784),(24,108,1.80581072420423),(24,110,-2.09456923123875),(24,112,2.01956236457411),(25,90,-2.63748588518937),(25,92,-1.18931394390698),(25,94,-0.87267677846614),(25,98,-2.08754997405927),(25,105,0.145222327341533),(25,108,0.0569933164464248),(25,109,0.0704214606158635),(25,115,2.94289986877041),(26,85,2.49468214972381),(26,87,-1.1177404095584),(26,89,1.28437147129734),(26,95,-0.793862727744377),(26,98,2.38433484908597),(26,100,-1.3891262550737),(26,101,-3.25601214636677),(26,102,-0.26052125614185),(26,103,-2.6431623279519),(26,104,1.8176061281167),(26,107,-1.59398174993133),(26,109,-0.282830286568804),(26,112,-1.61351359599597),(26,113,0.401142918179876),(26,117,2.44644001586963),(27,85,-2.79007843256935),(27,87,2.11096530045473),(27,94,3.27227088229011),(27,100,-0.464644306772057),(27,102,4.8517181920835),(27,103,-0.631656849879452),(27,104,-1.18969542527543),(27,105,-2.80687887203589),(27,108,-4.41572313608203),(27,110,2.17347483748894),(27,114,1.891613513596),(28,87,-1.35479293191321),(28,88,1.01345866267892),(28,97,-2.44819483016449),(28,99,-0.00335703604235969),(28,104,-0.952085940122684),(28,113,1.37607959227271),(28,114,-1.6117587817011),(29,88,0.213332010864589),(29,91,-0.23558763389996),(29,102,2.06900234992523),(29,105,0.65042573320719),(29,116,0.933149204992828),(30,95,1.89144566179388),(30,96,-1.13914914395581),(30,99,0.244293038727989),(30,101,-1.15787224951933),(30,104,0.558450575273904),(30,109,-3.63823358867153),(30,110,-0.00786614581743816),(30,114,-2.81629383220923),(30,118,-1.41347239600818),(31,85,-0.283211767937254),(31,92,1.30372783593249),(31,94,-0.373523667104098),(31,96,0.71774956511124),(31,99,1.60832544938505),(31,103,-0.253318887905514),(31,107,-0.469450972014527),(31,108,2.93398846400342),(31,109,2.91741691335795),(31,111,-0.335215308084353),(31,112,-0.16224402600177),(31,117,-1.00749992370373),(32,86,-6.14688558610797),(32,87,3.96384319589831),(32,89,-1.31457716605121),(32,92,-3.87902462843715),(32,98,1.95979186376537),(32,99,1.95829645680105),(32,104,3.2073732718894),(32,106,1.0224463637196),(32,109,0.0823389385662403),(32,116,1.26053651539659),(32,118,-2.06311227759636),(33,96,-0.712370677816096),(33,98,-0.762207403790399),(33,108,-0.347224341563158),(33,110,-2.47238074892422),(33,111,-1.91342661824396),(33,114,-0.743758964812159),(34,85,-2.85834070863979),(34,90,0.695799127170629),(34,99,-2.13133640552995),(34,104,1.80961027863399),(34,109,-1.28574480422376),(35,86,1.93178350169378),(35,87,-1.762550737022),(35,97,0.355388042847987),(35,98,3.09415723136082),(35,100,-0.464331492049928),(35,104,0.174573503830073),(35,107,0.492263557847835),(35,109,-0.0898922696615494),(35,110,-0.19350260933256),(35,112,1.95516830957976),(36,85,-2.02251503036592),(36,87,-3.60949278237251),(36,90,-1.2629703665273),(36,91,1.57116916409803),(36,104,-0.362598040711692),(36,107,2.74214148380993),(36,109,0.414326914273507),(36,112,-1.94657734916227),(36,115,-1.95341349528489),(36,117,-5.07252723776971),(36,118,1.17135380108035),(37,85,1.13628803369243),(37,86,-3.50554673909726),(37,87,1.13505966368603),(37,91,2.33691671498764),(37,99,0.551927243873409),(37,105,-2.018753624073),(37,111,2.71665852839747),(37,112,-1.65868861964782),(37,118,-0.989059114352854),(38,87,-0.835077974791711),(38,90,-2.13721121860408),(38,103,1.70117801446577),(38,105,-2.08288827173681),(38,106,1.95749534592731),(38,111,1.92099520859401),(38,115,-3.215987121189),(39,87,3.25065614795373),(39,89,-0.605334635456404),(39,91,-2.29346598712119),(39,94,1.46481215857418),(39,97,1.64578691976684),(39,98,0.207373271889401),(39,107,0.600146488845485),(39,108,6.58811456648457),(39,109,-0.239318521683401),(39,111,1.01931821649831),(39,113,0.419080172124393),(39,116,-0.00450148014770959),(39,118,-2.2036576433607),(40,88,-1.76392406994842),(40,92,1.42048402356029),(40,99,-1.57864619891964),(40,104,-1.7953581347087),(40,110,-0.326990569780572),(40,116,-1.5916776024659),(40,118,-2.46322519608142),(41,88,-1.46282845545824),(41,93,1.55058442945647),(41,96,0.0492950224311044),(41,97,-0.91856898709067),(41,100,1.14738151188696),(41,101,1.39790795617542),(41,104,2.12565996276742),(41,105,-0.10811181981872),(41,106,3.10694448683126),(41,107,0.920590838343455),(41,109,1.6010773033845),(41,110,1.51882992034669),(41,111,-2.96732230597858),(41,112,2.10769219031343),(42,85,1.28963591418195),(42,86,1.77587206640828),(42,87,2.10318308053835),(42,99,2.45418408764916),(42,100,0.63631855220191),(42,103,-4.24211096530045),(42,109,-0.892979216895047),(42,113,-0.443937498092593),(43,85,-0.528534806360057),(43,88,-3.19639423810541),(43,89,-0.0669347209082309),(43,93,-0.727950376903592),(43,97,-2.1362727744377),(43,98,-0.58737449262978),(43,101,4.74569689016388),(43,102,2.04906613361003),(43,103,-0.227668080690939),(43,105,0.0616473891415144),(43,110,-1.88352610858486),(43,112,-2.38753929258095),(43,114,-0.894978179265725),(43,116,1.34937589648122),(44,89,2.2331156346324),(44,98,2.83803064058351),(44,99,0.0857722708822901),(45,87,-2.12041077913755),(45,88,-0.853778191473129),(45,90,-0.119434186834315),(45,91,-0.0194784386730551),(45,95,2.17329172643208),(45,98,-1.56559953611866),(45,108,-0.0832316049684133),(45,109,3.13025299844356),(45,112,3.53063295388653),(45,115,-0.950804162724693),(46,85,-1.58040101321451),(46,89,-2.93196661275063),(46,91,2.22923978392895),(46,94,0.421971800897244),(46,97,1.01774651326029),(46,100,3.81387524033326),(46,101,0.786629840998566),(46,108,-4.21048615985595),(46,112,-1.40354625080111),(47,86,-2.45757927182836),(47,91,-1.21907712027345),(47,92,-2.17589342936491),(47,94,-1.05281991027558),(47,95,-0.76502273628956),(47,100,1.87452314828944),(47,101,-0.505615405743583),(47,104,-1.57399212622456),(47,105,-1.25112155522324),(47,108,-2.6410718100528),(47,112,-0.32296212652974),(47,114,3.37130344553972),(47,118,-1.17616046632282),(48,86,2.28323465681936),(48,91,-3.76360362559893),(48,98,-2.4507049775689),(48,99,0.157780693990905),(48,100,-2.93351542710654),(48,103,0.399029511398663),(48,105,-1.82662434766686),(48,106,-2.11061433759575),(48,111,0.476851710562456),(48,115,0.420888393810846),(49,87,3.35233619190039),(49,89,-1.56385998107852),(49,93,-1.40125736259041),(49,94,-2.38135929441206),(49,95,0.586703085421308),(49,102,-2.46191290017396),(49,113,-1.36816003906369),(49,114,1.5911587878048),(50,89,1.34099856563005),(50,105,2.00972014526811),(50,107,1.51641895809809),(51,87,-1.67731254005554),(51,92,2.06089205603198),(51,97,-2.26165044099246),(51,98,0.537957396160772),(51,103,-1.57497634815516),(51,106,-1.1812112796411),(51,112,-3.99372844630268),(51,118,-3.38032166508988),(52,89,-2.94571520126957),(52,97,-0.277710806604206),(52,106,-2.36896114993744),(52,110,2.61722922452467),(52,111,1.2190389721366),(52,113,0.373104037598804),(52,114,0.944395275734733),(52,118,-0.187185277871028),(53,88,0.507744071779535),(53,90,-0.845286416211432),(53,92,0.398037659840693),(53,94,-2.8857539597766),(53,104,0.912198248237556),(53,105,0.876567888424329),(53,109,-2.25409710989715),(54,85,-0.55054628131962),(54,91,-0.733512375255593),(54,94,-1.05491805780206),(54,96,-0.284737693411054),(54,111,-0.888508255256813),(54,112,-0.185689870906705),(54,113,2.92120883816034),(54,118,-1.08935819574572),(55,87,1.44451734977264),(55,95,2.48718222602008),(55,107,-2.03737754448073),(55,110,-0.285882137516404),(55,117,-3.81453901791437),(56,107,0.879619739371929),(56,111,0.5590914639729),(56,113,1.19769890438551),(56,114,2.09631641590625),(57,87,-3.32329783013398),(57,90,-0.0108569597460859),(57,91,-2.28595080416272),(57,92,-0.0636005737479781),(57,93,6.96552171391949),(57,94,1.20026245918149),(57,95,-1.91249580370495),(57,96,-0.841349528489029),(57,100,0.494987334818567),(57,102,0.555436872463149),(57,103,1.84076204718162),(57,115,-0.0635166478469191),(58,86,1.89520706808679),(58,87,1.14027832880642),(58,89,2.93177587206641),(58,90,-1.59710989715262),(58,95,1.37333292641987),(58,96,0.700476088747826),(58,101,2.00153355510117),(58,103,1.28621784112064),(58,109,1.58856471449934),(58,110,3.64912106692709),(58,113,0.0936231574449904),(58,114,-0.740913113803522),(58,115,0.798982207708976),(58,118,-1.44215216528825),(59,85,-0.337916196172979),(59,86,-3.43920712912381),(59,90,-0.898258919034394),(59,91,-1.00177007354961),(59,93,0.726096377452925),(59,97,-0.257118442335276),(59,98,-0.818361461226234),(59,100,0.0148854029969177),(59,102,-1.25176244392224),(59,112,2.50938444166387),(59,114,2.52386547441023),(60,85,3.33890041810358),(60,87,-1.18208105716117),(60,90,-0.139316995757927),(60,91,-1.68668172246467),(60,96,3.45507675405133),(60,100,0.731437116611225),(60,101,-1.68828394421216),(60,105,-0.338373973815119),(60,107,0.350131229590747),(60,109,-1.63319040498062),(60,110,0.624179815057833),(60,114,1.30825220496231),(61,89,-1.14803003021332),(61,94,-0.143833735160375),(61,96,2.22486037781915),(61,98,-0.405819879757073),(61,100,-1.14032410657064),(61,102,-1.25213629566332),(61,103,0.913571581163976),(61,114,2.04265724662007),(61,115,0.577944273201697),(62,93,-0.609584337900937),(62,95,-1.92571794793542),(62,107,-0.774101992858669),(62,109,-1.79636524552141),(62,110,1.00878933072909),(62,111,0.158925138096255),(63,87,-0.872241889706107),(63,90,1.42139957884457),(63,93,-2.03711050752281),(63,97,4.02842036194952),(63,100,-0.546617023224586),(63,103,1.23966185491501),(63,104,-1.42341380046999),(63,108,-1.27742851039155),(63,111,2.17484817041536),(63,114,-0.0146565141758477),(63,117,-1.1878566850795),(64,87,2.42313150425733),(64,94,-2.49452955717643),(64,99,-1.11615344706565),(64,110,-0.893505661183508),(64,112,-0.325304422132023),(64,116,2.58053834650716),(65,87,3.5725043488876),(65,88,-1.03712576677755),(65,90,-1.24088259529405),(65,97,-1.19510483108005),(65,99,-1.51026947843867),(65,107,-1.02587206640828),(65,110,-1.42368846705527),(65,111,-0.441770683919797),(65,114,1.39851069673757),(65,116,0.795846430860317),(65,117,-1.04029969176305),(66,85,1.44572283089694),(66,102,1.96874904629658),(66,105,-0.736610003967406),(66,108,3.89959410382397),(66,111,2.66349528489029),(66,115,-0.470076601458785),(66,118,1.55001983703116),(67,86,1.3480025635548),(67,90,-0.492873928037355),(67,92,-1.00856044190802),(67,104,-0.075685903500473),(67,109,-0.106341746269112),(67,111,-0.297097689748833),(68,87,1.60058900723289),(68,88,0.0409863582262642),(68,90,0.3293710135197),(68,93,-2.48878444776757),(68,95,-3.24723044526505),(68,96,3.1439252906888),(68,97,1.69468520157475),(68,103,0.230719931638539),(68,107,-2.03165532395398),(68,112,-2.4626148258919),(68,114,-2.02912228766747),(69,87,2.54869228186895),(69,88,-2.14625995666372),(69,92,0.838724936674093),(69,94,0.0231177709280679),(69,95,4.76500747703482),(69,97,-0.578989532151249),(69,108,-1.27617725150304),(69,113,0.992851039155248),(69,114,0.662785729544969),(69,118,0.0370036927396467),(70,85,3.18147068697165),(70,86,1.83405560472427),(70,87,-1.45121616260262),(70,90,3.55299539170507),(70,96,0.48848689230018),(70,97,-1.47671437726981),(70,99,4.54313028351695),(70,105,0.636150700399793),(70,107,-3.1887417218543),(70,109,-0.586634418774987),(70,110,-2.84047212134159),(70,111,0.871662038026063),(71,85,1.69348735007782),(71,93,-1.46605578783532),(71,96,3.36864070558794),(71,100,-2.05228583635975),(71,104,0.518623920407727),(71,106,2.61375774407178),(71,111,2.65845210119938),(71,113,-0.0494781334879606),(72,94,1.66779076509903),(72,96,1.80442213202307),(72,99,-2.34894100772118),(72,110,-0.848338267159032),(72,112,-0.781517990661336),(72,114,-0.845896786400952),(72,115,-0.450148014770959),(72,116,-1.92863246559038),(73,88,3.26544999542222),(73,94,-0.961500900296029),(73,99,0.320291756950591),(73,100,-3.6123996704001),(73,106,-1.26815851313822),(73,110,0.21553697317423),(73,115,2.43179113132115),(74,90,0.74931333353679),(74,94,1.97215186010315),(74,99,-0.10719626453444),(74,102,-1.4859462263863),(74,106,2.33016449476608),(74,107,0.365108188116093),(74,110,-0.753448591570788),(74,113,-3.26773888363292),(74,116,-1.62358470412305),(75,85,0.244575334940641),(75,86,-1.56949064607685),(75,93,-1.06547746208075),(75,98,2.59819330423902),(75,103,-0.252525406659139),(75,105,-1.54843287453841),(75,111,0.32395397808771),(75,117,1.43035676137577),(76,86,-0.631588183233131),(76,89,-1.02488784447768),(76,92,0.247123630481887),(76,94,-3.29393902401807),(76,99,-0.886288033692434),(76,101,0.43435468611713),(76,103,1.52871028778954),(76,106,-4.22299874874111),(76,110,2.12698751792962),(76,113,0.724662007507553),(77,88,2.00224311044649),(77,91,-0.575533310953093),(77,93,1.11915189062166),(77,98,0.588114566484573),(77,101,-5.34176152836695),(77,102,-5.0639896847438),(77,103,-0.493179113132115),(77,104,-1.5385906552324),(77,105,3.15833765678884),(77,109,-0.42635120700705),(78,88,-2.42235328226569),(78,93,2.04925687429426),(78,94,4.00301370281075),(78,101,1.68317209387494),(78,104,-1.75550096133305),(78,110,0.342524491103855),(78,114,-0.411427655873287),(78,116,0.64691610461745),(78,117,-0.442899868770409),(78,118,-0.258262886440626),(79,87,2.77254554887539),(79,92,1.87578203680532),(79,94,0.5365230262154),(79,107,-2.19315164647359),(79,108,1.56892605365154),(79,114,1.84833063753166),(79,118,-2.41510513626514),(80,87,-0.990798669392987),(80,88,-2.37891781365398),(80,91,1.98165837580493),(80,99,-2.81240272225105),(80,101,1.56788842432936),(80,107,2.08027893917661),(80,113,1.06200598162786),(81,85,-0.43069246498001),(81,86,0.00862147892696918),(81,90,-1.6306115909299),(81,93,-3.61104159672842),(81,96,1.16682180242317),(81,97,-1.5499359111301),(81,106,-0.22880489516892),(81,107,2.17367320780053),(81,110,4.46800897244179),(81,115,2.90759758293405),(82,86,0.0476851710562456),(82,92,-1.51789910580767),(82,110,-1.77075258644368),(82,112,-4.40061647389142),(83,87,-1.5980254524369),(83,91,1.23630481887265),(83,93,2.18329416791284),(83,101,-1.4996795556505),(83,103,1.16489150669881),(83,105,1.32827234717856),(83,108,-2.29765465254677),(84,85,1.39996795556505),(84,86,-1.71842097231971),(84,89,-1.6682180242317),(84,95,-1.96844386120182),(84,99,-0.613650929288614),(84,104,0.259216589861751),(84,111,4.94658497878964),(84,113,-0.664845728934599),(84,114,-0.8638264107181),(10,119,3.1808679464095),(119,109,0.247581408124027),(58,120,3.01670125431074),(120,118,0.829073458052309),(95,104,1.77219458601642)]
orgname='BHNEAT_12_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()