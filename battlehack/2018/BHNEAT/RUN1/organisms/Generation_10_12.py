edge = [(0,85,-0.951384014404736),(0,89,-2.11249122592853),(0,90,-0.0569933164464248),(0,93,-2.07525864436781),(0,98,0.949201940977203),(0,101,-0.502594073305459),(0,105,0.281060213019196),(0,108,2.16643269142735),(0,113,3.43046357615894),(0,114,0.264763328959014),(0,117,-0.997344889675588),(0,118,-1.96952726828822),(1,86,-2.26523636585589),(1,92,2.49328592791528),(1,98,-1.99262977996155),(1,102,-3.39423810541093),(1,104,-1.88387707144383),(1,107,1.15414899136326),(1,108,-1.20525223548082),(1,109,1.6015198217719),(1,113,-0.25457014679403),(2,87,1.74622333445235),(2,88,1.96562089907529),(2,100,-2.8955504013184),(2,106,-2.69672231208228),(2,108,1.97569200720237),(2,110,-0.697973570970794),(2,113,0.731559190649129),(2,118,2.08178960539567),(3,89,-0.139011810663167),(3,92,-2.89413129062777),(3,97,1.07776116214484),(3,99,-2.44880520035401),(3,101,0.728247932370983),(3,103,0.758476516006958),(3,105,0.774056215094455),(3,108,1.48153630176702),(3,109,-0.00823999755851929),(3,111,1.15385906552324),(3,112,-2.93520920438246),(3,116,-0.845866267891476),(4,90,2.56845301675466),(4,91,-1.62877285073397),(4,97,-2.13499862666707),(4,99,2.35877559739982),(4,101,0.322702719199194),(4,108,0.554597613452559),(4,113,1.10751670888394),(4,118,3.71393475142674),(5,86,1.36419263283181),(5,87,-0.28026673177282),(5,89,-0.378933072908719),(5,92,-1.03527939695425),(5,93,1.79219946897794),(5,99,0.80649739066744),(5,104,-1.42970061342204),(5,114,1.59291360209967),(5,118,-1.20926541947691),(6,89,-0.862758262886441),(6,92,-0.375988036744285),(6,94,-0.179982909634693),(6,100,0.43137913144322),(6,101,0.908368175298318),(6,103,-1.44047364726707),(6,107,0.955717642750328),(6,110,1.83103427228614),(6,113,-0.906430249946593),(7,85,-1.53157139805292),(7,86,-1.3906521805475),(7,90,1.78676717429121),(7,95,1.02275154881436),(7,99,0.842081972716452),(7,100,1.02891628772851),(7,104,-0.362773522141179),(7,106,0.086748863185522),(7,108,-0.54536576433607),(7,112,0.550569170201727),(7,116,0.471053193762017),(8,92,-2.25778984954375),(8,93,0.746726889858699),(8,95,1.32770775475326),(8,99,-3.66533402508621),(8,106,-1.95027008880886),(8,107,-3.8266396069216),(8,115,0.489257484664449),(8,116,-1.95242164372692),(8,118,-0.382930997650075),(9,85,-2.32979827265236),(9,87,-0.0265053254799036),(9,98,-1.42150639362774),(9,101,-1.46755882442702),(9,103,1.06143375957518),(9,105,-1.30726035340434),(9,106,1.21628467665639),(9,113,1.75922421948912),(10,89,-1.5711996826075),(10,96,0.167668691061128),(10,106,3.70239875484481),(10,108,2.35911130100406),(10,111,-0.80748924222541),(10,112,0.789590136417737),(10,114,1.8066805017243),(10,115,-2.75045014801477),(10,116,1.29024628437147),(10,117,-1.83916745506149),(11,89,-3.28949858088931),(11,97,2.94581438642537),(11,105,2.23982970671712),(11,112,-2.32505264442885),(11,115,-0.857722708822901),(12,92,-2.47637867366558),(12,93,2.92889187292093),(12,94,1.94761497848445),(12,97,-1.12953581347087),(12,98,-0.864345225379192),(12,99,-0.780968657490768),(12,108,1.37739188818018),(12,116,-0.660634174626911),(13,86,0.688238166447951),(13,87,-1.94219794305246),(13,90,-2.4765465254677),(13,99,0.146031067842647),(13,102,0.76044495986816),(13,104,-0.191885128330332),(13,113,-3.03828547013764),(13,116,-0.752693258461257),(13,118,1.285439619129),(14,90,-1.49960325937681),(14,93,3.07267983031709),(14,95,-1.15993224890896),(14,102,-0.21324808496353),(14,104,-0.404980620746483),(14,106,-0.154652546769616),(14,109,2.72472304452651),(14,110,0.799493392742698),(14,111,-1.33892330698569),(15,85,2.6150090029603),(15,92,-1.26659443952757),(15,99,0.109134189886166),(15,101,-2.73682363353374),(15,104,-1.2060457167272),(15,108,0.521103549302652),(15,117,-0.0127414777062288),(16,86,-0.0460829493087558),(16,87,-1.31145664845729),(16,88,0.130558183538316),(16,90,-1.51001007110813),(16,91,-0.359126560258797),(16,95,1.04185613574633),(16,97,-0.605075228125858),(16,98,-3.69666127506333),(16,99,-0.992172002319407),(16,101,2.80416272469253),(16,108,1.59190649128697),(16,110,1.02787865840632),(17,89,0.39516891994995),(17,96,3.35538804284799),(17,99,1.70294808801538),(17,101,-0.258644367809076),(17,106,1.84739219336528),(17,107,0.720664082766198),(17,109,-0.0224158452101197),(18,90,-1.04261909848323),(18,91,0.561540574358348),(18,93,2.64526810510575),(18,99,2.42294076357311),(18,102,-0.591555528427992),(18,103,0.411420026245918),(18,104,-2.39127780999176),(18,110,1.82444227423933),(18,111,1.1158940397351),(18,116,0.688268684957427),(18,117,-0.261619922482986),(18,118,-1.61137730033265),(19,87,-1.83256019775994),(19,89,-1.11694692831202),(19,93,-1.32106997894223),(19,95,0.75952940458388),(19,101,1.85055085909604),(19,105,-1.04794457838679),(19,115,-1.88520462660604),(20,88,-3.37878048036134),(20,101,-2.11076693014313),(20,103,3.1183050019837),(20,104,0.860957670827357),(20,105,-2.63194677571947),(20,106,0.175023651844844),(20,111,2.09601123081149),(20,116,2.09891048921171),(21,86,1.98294015320292),(21,87,1.87633899960326),(21,94,0.408032471694082),(21,96,-4.39428388317515),(21,101,1.84578997161779),(21,102,-1.71866512039552),(21,105,0.386532181768243),(21,107,3.80722983489486),(21,108,-1.81946775719474),(22,86,-4.44338816492203),(22,88,-1.91389202551347),(22,91,-2.14413892025513),(22,92,0.389416180913724),(22,93,2.44781334879604),(22,98,1.05548265022736),(22,106,-2.06697286904508),(22,115,-1.93304239020966),(22,117,-1.86460463270974),(23,85,-2.08989226966155),(23,86,-2.41882076479385),(23,88,-1.27315591906491),(23,90,2.16905728324229),(23,97,2.81496627704703),(23,104,3.57942442091128),(23,112,-2.03886532181768),(23,114,-0.772499771111179),(23,115,2.16063417462691),(23,116,0.0429395428327279),(24,89,-1.59173863948485),(24,90,-2.17426068910794),(24,91,2.52775658436842),(24,101,0.24420911282693),(24,107,-0.928632465590381),(24,108,2.28205206457717),(24,110,-0.143284401989807),(24,112,0.681402020325327),(25,90,0.797936948759422),(25,92,1.23519089327677),(25,94,1.20044557023835),(25,98,-1.93095187231056),(25,105,0.625049592577898),(25,108,1.45413068025758),(25,109,-3.68059327982421),(25,115,1.7105471968749),(26,85,-0.373165074617756),(26,87,0.135425885799738),(26,89,1.32457960753197),(26,95,0.491637928403577),(26,98,0.479995117038484),(26,100,0.129551072725608),(26,101,1.06407361064486),(26,102,-2.46726889858699),(26,103,-0.134235663930174),(26,104,1.9739371929075),(26,107,-1.30291146580401),(26,109,0.0192266609698782),(26,112,1.23677785576952),(26,113,0.115070039979247),(26,117,-1.08171330912198),(27,85,-0.640964995269631),(27,87,-1.23073519089328),(27,94,0.670796838282418),(27,100,4.81058687093722),(27,102,-0.021439252906888),(27,103,2.06816309091464),(27,104,0.380672627948851),(27,105,-2.95603808709983),(27,108,-1.33396404919584),(27,110,2.17557298501541),(27,114,0.738090151676992),(28,87,3.25656910916471),(28,88,-1.84919278542436),(28,97,-2.2255623035371),(28,99,0.333017975402081),(28,104,-0.697958311716056),(28,113,1.91199987792596),(28,114,-1.4260689107944),(29,88,0.0471205786309397),(29,91,1.34823145237587),(29,102,1.47875911740471),(29,105,2.19214453566088),(29,116,1.90638447218238),(30,95,-1.059755241554),(30,96,0.924970244453261),(30,99,3.49162266914884),(30,101,-2.38285470137638),(30,104,0.0275429548020871),(30,109,-1.10374767296365),(30,110,0.309793389690847),(30,114,-2.96560563982055),(30,118,-1.04499954222236),(31,85,2.03633228553117),(31,92,3.81321146275216),(31,94,-0.223334452345347),(31,96,3.99208044679098),(31,99,0.917081209753716),(31,103,-0.0586870937223426),(31,107,2.23075045014801),(31,108,1.58949552903836),(31,109,-0.484374523148289),(31,111,0.935621204260384),(31,112,-0.32464064455092),(31,117,1.42330698568682),(32,86,-0.295266579180273),(32,87,-0.570925016022217),(32,89,1.02989288003174),(32,92,-4.26943266090884),(32,98,-0.50221259193701),(32,99,-0.437238685262612),(32,104,-1.84511856440931),(32,106,2.54014709921567),(32,109,1.25919370097964),(32,116,-1.33819086275826),(32,118,-0.43549913022248),(33,96,1.29448835718863),(33,98,0.602816858424635),(33,108,-1.90636921292764),(33,110,0.534455397198401),(33,111,-0.462004455702383),(33,114,0.269569994201483),(34,85,-1.22922452467422),(34,90,1.68578142643513),(34,99,-2.38013855403302),(34,104,1.63206884975738),(34,109,2.49191259498886),(35,86,2.77924436170537),(35,87,-1.19635608996857),(35,97,2.2735526596881),(35,98,0.265282143620106),(35,100,-0.449537644581439),(35,104,2.54338206122013),(35,107,-1.51400799584948),(35,109,-4.05218665120396),(35,110,-2.73393963438826),(35,112,2.01750236518448),(36,85,1.20187994018372),(36,87,1.80028687398907),(36,90,1.47419660023804),(36,91,3.75614185003204),(36,104,-0.501266518143254),(36,107,1.51579332865383),(36,109,-0.633106479079562),(36,112,0.235831781975768),(36,115,-0.696203497421186),(36,117,-2.93806268501846),(36,118,1.21494186223945),(37,85,-1.07939390240181),(37,86,-0.936994537186804),(37,87,-2.84020508438368),(37,91,-1.67195654164251),(37,99,-1.67058320871609),(37,105,-0.164494766075625),(37,111,2.37594225898007),(37,112,1.27262184514908),(37,118,-1.18282113101596),(38,87,0.476760155034028),(38,90,-0.19342631305887),(38,103,3.60182500686667),(38,105,1.28624835963012),(38,106,2.41676076540422),(38,111,-0.200460829493088),(38,115,-4.31568346201971),(39,87,0.754814294869839),(39,89,1.50189214758751),(39,91,-1.54019287697989),(39,94,0.429212317270424),(39,97,0.644581438642537),(39,98,-0.883281960509049),(39,107,1.64775536362804),(39,108,2.77585680715354),(39,109,0.327829828791162),(39,111,-2.32970671712394),(39,113,0.622867519150365),(39,116,0.204245124668111),(39,118,0.183187353129673),(40,88,-0.492187261574145),(40,92,-0.368358409375286),(40,99,-2.4304483169042),(40,104,-0.315897091586047),(40,110,0.488464003418073),(40,116,-1.87910092471084),(40,118,-1.30306405835139),(41,88,-3.10060426648762),(41,93,2.92971587267678),(41,96,-0.646076845606861),(41,97,-4.83649708548234),(41,100,-1.31176183355205),(41,101,-1.32613605151524),(41,104,-2.00872829371014),(41,105,0.249259926145207),(41,106,-0.682424390392773),(41,107,-0.519348735007782),(41,109,0.579378643147069),(41,110,1.23120822779015),(41,111,1.29253517258217),(41,112,0.812097537156285),(42,85,0.331385235145115),(42,86,-2.71114230780969),(42,87,0.382778405102695),(42,99,-1.08577227088229),(42,100,-1.89591662343211),(42,103,-1.23912778099918),(42,109,1.71689504684591),(42,113,-2.69406720175787),(43,85,-2.04065065462203),(43,88,1.2084566789758),(43,89,-2.73169652394177),(43,93,0.8286080507828),(43,97,-3.82573931089206),(43,98,1.06985686819056),(43,101,2.02050843836787),(43,102,2.34742271187475),(43,103,-2.50663777581103),(43,105,1.64067506942961),(43,110,-2.04670857875301),(43,112,-0.127780999176),(43,114,-2.22167119357891),(43,116,-1.9991149632252),(44,89,-2.74498733481857),(44,98,3.86806848353526),(44,99,1.16673787652211),(45,87,1.26409192175054),(45,88,-1.31771294289987),(45,90,1.02374340037233),(45,91,2.59729300820948),(45,95,-0.306451612903226),(45,98,1.75241859187597),(45,108,-0.38547929319132),(45,109,4.13492233039338),(45,112,1.44648579363384),(45,115,2.0186315500351),(46,85,0.997589037751396),(46,89,-1.76664021729179),(46,91,-0.144199957274087),(46,94,0.230430005798517),(46,97,1.56468398083438),(46,100,-2.25125888851588),(46,101,-0.974898525955993),(46,108,1.74146244697409),(46,112,-2.20140690328684),(47,86,-0.279778435621204),(47,91,-0.963179418317209),(47,92,1.50379955442976),(47,94,-0.0811487166966765),(47,95,1.59985656300546),(47,100,-0.850688192388684),(47,101,0.716727195043794),(47,104,-1.13261818292795),(47,105,0.86420789208655),(47,108,-0.313501388592181),(47,112,-4.33332316049684),(47,114,1.8267616809595),(47,118,-0.895809808648946),(48,86,-1.24527726065859),(48,91,-0.117114780114139),(48,98,0.0650807214575644),(48,99,0.97491378521073),(48,100,-1.64172795800653),(48,103,-1.48380993072298),(48,105,2.00146488845485),(48,106,-2.84092226935636),(48,111,-0.843684194463942),(48,115,-2.83867915890988),(49,87,1.22779015472884),(49,89,-0.86794640949736),(49,93,1.91068758201849),(49,94,0.180211798455763),(49,95,2.93266090884121),(49,102,-1.36111026337474),(49,113,1.80410168767357),(49,114,-1.51725821710868),(50,89,-2.36907559434797),(50,105,-0.378566850795007),(50,107,1.36806848353526),(51,87,1.38033692434462),(51,92,1.55056917020173),(51,97,-1.20509964293344),(51,98,0.254783776360363),(51,103,-1.90870387890255),(51,106,3.00421155430769),(51,112,0.0363170262764365),(51,118,-0.905102694784387),(52,89,-0.50480666524247),(52,97,0.10895107882931),(52,106,-0.156102175969725),(52,110,-0.43816949980163),(52,111,-2.53692739646596),(52,113,0.638996551408429),(52,114,0.698339793084506),(52,118,-1.63841669972839),(53,88,-0.655583361308634),(53,90,-2.32177190466018),(53,92,1.20981475264748),(53,94,4.19019135105441),(53,104,0.69716483046968),(53,105,3.1150090029603),(53,109,-4.19951475569933),(54,85,-2.02081362346263),(54,91,-0.925321207312235),(54,94,1.5713980529191),(54,96,0.662099063081759),(54,111,2.26279488509781),(54,112,1.56668294320505),(54,113,0.576799829096347),(54,118,0.10689107943968),(55,87,2.80932035279397),(55,95,-1.49655140842921),(55,107,-3.19528794213691),(55,110,-1.99789422284616),(55,117,2.43858149967956),(56,107,-3.68218024231696),(56,111,0.0752281258583331),(56,113,-1.67104098635823),(56,114,0.713766899624622),(57,87,-0.167455061494797),(57,90,1.26506851405377),(57,91,0.283288064210944),(57,92,-0.251060518204291),(57,93,0.751976073488571),(57,94,4.21083712271493),(57,95,1.96789452803125),(57,96,-1.73706778160955),(57,100,-2.41401409955138),(57,102,1.63640247810297),(57,103,-1.37203588976714),(57,115,-1.50860621967223),(58,86,3.54174932096316),(58,87,-3.66425061799982),(58,89,-1.39385662404248),(58,90,-1.12262337107456),(58,95,0.677434614093448),(58,96,-0.198217719046602),(58,101,-1.853465376751),(58,103,0.950056459242531),(58,109,-0.133136997589038),(58,110,-0.76181829279458),(58,113,-0.655568102053896),(58,114,0.497451704458754),(58,115,2.68257698294015),(59,85,-0.444776757103183),(59,86,-1.30520035401471),(59,90,2.03695791497543),(59,91,2.0211645863216),(59,93,-3.6420789208655),(59,97,-0.778542435987426),(59,98,0.530518509475997),(59,100,1.78907132175665),(59,102,2.48049867244484),(59,112,-0.361873226111637),(59,114,3.96679586169012),(60,85,-1.21951963866085),(60,87,2.34176152836695),(60,90,-1.19174779503769),(60,91,1.41880550553911),(60,96,-0.11108737449263),(60,100,-2.15063936277352),(60,101,1.12018189031648),(60,105,1.27430036317026),(60,107,-1.98632770775475),(60,109,0.422803430280465),(60,110,-3.64664143803217),(60,114,2.07296975615711),(61,89,-1.30118717001862),(61,94,-1.95403912472915),(61,96,-1.88619647816401),(61,98,2.10989715262307),(61,100,-2.79686880092776),(61,102,-1.0300759910886),(61,103,0.64859462263863),(61,114,-0.248878444776757),(61,115,-1.27826776940214),(62,93,4.57785271767327),(62,95,-2.10623493148595),(62,107,0.0563066499832148),(62,109,-1.60722678304392),(62,110,1.11308633686331),(62,111,0.623798333689383),(63,87,1.61229285561693),(63,90,0.728736228522599),(63,93,-2.32528153324992),(63,97,1.48991363261818),(63,100,-2.68382824182867),(63,103,2.20908230842006),(63,104,0.144856105227821),(63,108,-0.0373088778344064),(63,111,-0.684682760093997),(63,114,0.121951963866085),(63,117,0.653355510116886),(64,87,4.00914029358806),(64,94,0.0622730185857721),(64,99,-1.41401409955138),(64,110,-1.71918393505661),(64,112,4.27396465956603),(64,116,1.67467268898587),(65,87,-1.21222571489608),(65,88,-2.20346690267647),(65,90,-1.94746238593707),(65,97,1.58757286294137),(65,99,1.61017181920835),(65,107,-1.61873226111637),(65,110,-4.60579241309854),(65,111,-3.96862697225867),(65,114,-2.94608905301065),(65,116,-3.71381267738884),(65,117,0.75983458967864),(66,85,0.298318430127873),(66,102,-3.60234382152776),(66,105,0.891857661671804),(66,108,-2.70926541947691),(66,111,0.598498489333781),(66,115,3.15224158452101),(66,118,0.212622455519272),(67,86,-1.09782708212531),(67,90,0.377040925321207),(67,92,-0.0197454756309705),(67,104,0.82311471907712),(67,109,-3.67601550340281),(67,111,3.16020691549425),(68,87,2.11928159428694),(68,88,-0.0748313852351452),(68,90,2.64801477095859),(68,93,-2.75400555436872),(68,95,0.651051362651448),(68,96,-1.46009704886013),(68,97,0.0405438398388622),(68,103,0.21584215826899),(68,107,-2.32902005066073),(68,112,-1.81394390697958),(68,114,-2.32335886715293),(69,87,0.420407727286599),(69,88,-0.936780907620472),(69,92,-1.4280373546556),(69,94,-3.77091280861843),(69,95,0.756782738731041),(69,97,-2.31339457380902),(69,108,2.26073488570818),(69,113,0.0455183568834497),(69,114,2.81223487044893),(69,118,2.09874263740959),(70,85,0.38769188512833),(70,86,2.33016449476608),(70,87,-4.00036622211371),(70,90,1.79436628315073),(70,96,-3.35940122684408),(70,97,-2.03491317484054),(70,99,0.255882442701498),(70,105,0.0783867915890988),(70,107,-1.16055787835322),(70,109,-0.355311746574297),(70,110,0.142368846705527),(70,111,2.25035859248634),(71,85,-2.73062837611011),(71,93,1.19808038575396),(71,96,0.740073854792932),(71,100,0.237022003845332),(71,104,0.916699728385266),(71,106,-0.314111758781701),(71,111,0.847804193243202),(71,113,0.502945036164434),(72,94,4.06860560930204),(72,96,-1.74221015045625),(72,99,-3.13699758903775),(72,110,-0.206228827784051),(72,112,0.0151524399548325),(72,114,2.71045564134648),(72,115,-2.6151310769982),(72,116,-0.19304483169042),(73,88,1.08474990081484),(73,94,3.72812585833308),(73,99,0.551240577410199),(73,100,0.543321024201178),(73,106,-2.15887936033204),(73,110,0.477309488204596),(73,115,1.20929593798639),(74,90,-1.78066347239601),(74,94,0.380077517014069),(74,99,1.30497146519364),(74,102,2.18750572222053),(74,106,0.342280343028047),(74,107,-2.6419568468276),(74,110,-1.27161473433638),(74,113,-2.68796349986267),(74,116,-2.46429334391308),(75,85,-0.232047486800745),(75,86,2.44674520096439),(75,93,0.932035279396954),(75,98,-1.15582750938444),(75,103,1.44561601611377),(75,105,1.09031952879421),(75,111,-2.46963408307138),(75,117,-1.97515793328654),(76,86,2.00651570177313),(76,89,0.412488174077578),(76,92,0.115283669545579),(76,94,0.713751640369884),(76,99,1.67459639271218),(76,101,-2.40981780449843),(76,103,-0.0495925778984955),(76,106,1.54934842982269),(76,110,-0.633472701193274),(76,113,-2.79984435560167),(77,88,-0.354289376506851),(77,91,0.416882839442122),(77,93,-1.89184240241707),(77,98,1.23477889339885),(77,101,1.09897152623066),(77,102,-1.05861079744865),(77,103,-0.988418225653859),(77,104,-1.73078096865749),(77,105,-0.86481826227607),(77,109,1.42967009491256),(78,88,2.07298501541185),(78,93,0.378978850672933),(78,94,0.400479140598773),(78,101,0.244865260780664),(78,104,2.45297097689749),(78,110,-3.24752037110508),(78,114,3.94604327524644),(78,116,-1.17503891109958),(78,117,-3.61104159672842),(78,118,1.93356120487075),(79,87,-0.392849513229774),(79,92,0.0235755485702078),(79,94,1.54763939329203),(79,107,0.540543839838862),(79,108,2.34778893398846),(79,114,1.22264778588214),(79,118,0.746574297311319),(80,87,0.108401745658742),(80,88,-1.68469801934874),(80,91,-2.38187810907315),(80,99,-0.238013855403302),(80,101,0.113864558854946),(80,107,1.38605914487136),(80,113,0.0333414716025269),(81,85,3.62620929593799),(81,86,-2.75194555497909),(81,90,-3.69267860957671),(81,93,-3.22750022888882),(81,96,3.00979644154179),(81,97,-4.24819177831355),(81,106,2.02101199377422),(81,107,1.44680623798334),(81,110,-1.43118076113163),(81,115,-1.28392895290994),(82,86,-1.99201940977203),(82,92,-2.41918698690756),(82,110,-2.35738700521867),(82,112,-0.712881862849818),(83,87,-0.805383465071566),(83,91,-1.36028626361888),(83,93,0.934522537919248),(83,101,-2.58319345683157),(83,103,-1.57353434858242),(83,105,-0.087557603686636),(83,108,3.27910702841273),(84,85,-1.22043519394513),(84,86,0.934461500900296),(84,89,0.775185399945067),(84,95,1.26361888485366),(84,99,2.60963774529252),(84,104,-0.239799188207648),(84,111,2.81814020203253),(84,113,0.666753135776849),(84,114,3.24100466933195),(10,119,-1.15588854640339),(119,109,-1.49748222296823),(58,120,2.85972167119358),(120,118,0.562913907284768),(95,104,-0.0148930326242862)]
orgname='BHNEAT_10_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()