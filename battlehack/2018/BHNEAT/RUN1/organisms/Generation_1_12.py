edge = [(0,85,0.665486617633595),(0,89,-0.209784234138005),(0,90,-0.592455824457534),(0,93,0.977690969573046),(0,98,0.510116885891293),(0,101,0.76494644001587),(0,105,-0.667165135654775),(0,108,-0.782219916379284),(0,113,0.0927762688070315),(0,114,0.342967009491256),(0,117,0.753746147038179),(0,118,0.660695211645863),(1,86,0.0819727164525285),(1,92,-0.225959044160283),(1,98,0.811944944608905),(1,102,-0.681325724051637),(1,104,0.597705008087405),(1,107,-0.715109714041566),(1,108,-0.587786492507706),(1,109,0.458265938291574),(1,113,-0.135166478469192),(2,87,-0.815790276802881),(2,88,0.245216223639637),(2,100,0.720480971709342),(2,106,0.334360789819025),(2,108,0.0884731589709159),(2,110,0.515335551011689),(2,113,0.905697805719169),(2,118,0.0636921292764061),(3,89,0.00946073793755913),(3,92,0.0821253089999084),(3,97,0.373790704062014),(3,99,-0.787224951933348),(3,101,-0.685079500717185),(3,103,0.423047578356273),(3,105,-0.332865382854701),(3,108,-0.683553575243385),(3,109,0.263130588702048),(3,111,-0.823633533738212),(3,112,-0.0720542008728294),(3,116,0.485671559801019),(4,90,-0.885616626483963),(4,91,0.784600360118412),(4,97,0.594683675649281),(4,99,-0.510055848872341),(4,101,-0.525711844233528),(4,108,-0.54017761772515),(4,113,0.245643482772301),(4,118,0.844111453596606),(5,86,0.553880428479873),(5,87,-0.906796472060305),(5,89,0.426557206946013),(5,92,-0.160283211767937),(5,93,0.375652333140049),(5,99,-0.180211798455763),(5,104,-0.992614520706809),(5,114,-0.126529740287484),(5,118,-0.985930967131565),(6,89,-0.300668355357524),(6,92,0.424787133396405),(6,94,-0.880306405835139),(6,100,0.782647175511948),(6,101,-0.00390636921292764),(6,103,-0.371440778832362),(6,107,0.536637470625935),(6,110,0.484237189855647),(6,113,0.17764824365978),(7,85,-0.652241584521012),(7,86,0.197515793328654),(7,90,-0.494277779473251),(7,95,-0.141605883968627),(7,99,-0.319315164647359),(7,100,0.43244727927488),(7,104,-0.557023834955901),(7,106,0.0704367198706015),(7,108,-0.868526261177404),(7,112,0.69808038575396),(7,116,-0.0478835413678396),(8,92,0.277535325174718),(8,93,-0.194830164494766),(8,95,0.666310617389447),(8,99,0.742362743003632),(8,106,0.579332865382855),(8,107,0.385723441267128),(8,115,0.929197058015687),(8,116,0.407147434919279),(8,118,0.458265938291574),(9,85,-0.946134830774865),(9,87,0.0495925778984954),(9,98,-0.0574663533433027),(9,101,-0.243232520523698),(9,103,-0.548753318887905),(9,105,0.426435132908109),(9,106,0.223883785515915),(9,113,-0.0264900662251656),(10,89,-0.903714102603229),(10,96,0.942808313241981),(10,106,-0.0729087191381573),(10,108,0.535691396832179),(10,109,-0.840784936063723),(10,111,0.86626789147618),(10,112,-0.724753563035981),(10,114,-0.679464094973601),(10,115,-0.198553422650838),(10,116,0.969969786675619),(10,117,-0.611865596484268),(11,89,0.986053041169469),(11,97,-0.613788262581256),(11,105,-0.342997528000732),(11,112,0.222846156193731),(11,115,0.652668843653676),(12,92,0.805017242957854),(12,93,0.859004486220893),(12,94,0.0741904965361492),(12,97,0.425519577623829),(12,98,-0.443983275856807),(12,99,0.771629993591113),(12,108,-0.254707480086673),(12,116,-0.0283211767937254),(13,86,0.208746604815821),(13,87,0.406109805597095),(13,90,-0.385845515305033),(13,99,0.358378856776635),(13,102,-0.112277596362194),(13,104,0.414746543778802),(13,113,-0.341746269112217),(13,116,-0.169133579515976),(13,118,0.699850459303568),(14,90,0.565965758232368),(14,93,-0.572954496902371),(14,95,-0.45783867915891),(14,102,0.209814752647481),(14,104,0.535172582171087),(14,106,0.377086703085421),(14,109,0.276772362437819),(14,110,-0.290566728720969),(14,111,0.666371654408399),(15,85,0.961058381908628),(15,92,0.187383648182623),(15,99,-0.368297372356334),(15,101,-0.173162022766808),(15,104,-0.637318033387249),(15,108,0.0754722739341411),(15,117,-0.258522293771172),(16,86,-0.748100222785119),(16,87,-0.99938962981048),(16,88,-0.546678060243538),(16,90,-0.115665150914029),(16,91,-0.0487380596331675),(16,95,0.419110690633869),(16,97,-0.620624408703879),(16,98,-0.314462721640675),(16,99,-0.0297555467390973),(16,101,0.710104678487503),(16,108,-0.942747276223029),(16,110,0.356334116641743),(17,89,0.58912930692465),(17,96,0.301034577471236),(17,99,0.232398449659719),(17,101,0.39539780877102),(17,106,-0.49778740806299),(17,107,-0.76235236671041),(17,109,0.186101870784631),(18,90,0.476851710562456),(18,91,0.0810266426587725),(18,93,-0.0302133243812372),(18,99,0.554429761650441),(18,102,-0.0824610126041444),(18,103,0.621021149327067),(18,104,-0.171666615802484),(18,110,0.611743522446364),(18,111,0.076204718161565),(18,116,-0.948057496871853),(18,117,-0.0341502121036409),(18,118,0.737144077883236),(19,87,0.644001586962493),(19,89,0.190771202734458),(19,93,-0.624103518784143),(19,95,0.32532731101413),(19,101,0.321481978820154),(19,105,-0.152836695455794),(19,115,-0.557267983031709),(20,88,-0.746635334330271),(20,101,0.703390606402783),(20,103,0.285561693166906),(20,104,-0.425458540604877),(20,105,0.574236274300363),(20,106,-0.928159428693503),(20,111,0.724723044526505),(20,116,0.422742393261513),(21,86,0.798089541306803),(21,87,-0.532029175695059),(21,94,-0.360972930082095),(21,96,0.0754722739341411),(21,101,0.24359874263741),(21,102,-0.765678884243294),(21,105,0.41178624835963),(21,107,-0.419263283181249),(21,108,-0.914487136448256),(22,86,0.967528305917539),(22,88,-0.464522232734153),(22,91,-0.467146824549089),(22,92,0.477614673299356),(22,93,0.0878017517624439),(22,98,-0.45844904934843),(22,106,-0.312601092562639),(22,115,0.610065004425184),(22,117,0.956328012939848),(23,85,-0.575487533188879),(23,86,-0.710806604205451),(23,88,-0.425305948057497),(23,90,0.388317514572588),(23,97,0.507553331095309),(23,104,-0.48246711630604),(23,112,-0.699056978057192),(23,114,0.72194586016419),(23,115,0.0697042756431776),(23,116,-0.583452864162114),(24,89,-0.111911374248482),(24,90,0.881191442609943),(24,91,0.627918332468642),(24,101,0.184209723197119),(24,107,-0.229163487655263),(24,108,0.557817316202277),(24,110,0.309610278633992),(24,112,-0.6029236732078),(25,90,0.434858241523484),(25,92,-0.60628070925016),(25,94,-0.466658528397473),(25,98,0.43549913022248),(25,105,0.540269173253578),(25,108,-0.245277260658589),(25,109,0.358745078890347),(25,115,-0.727103488265633),(26,85,0.28476821192053),(26,87,0.159703360087893),(26,89,0.526352732932524),(26,95,-0.528000732444227),(26,98,0.447889645069735),(26,100,0.0966216010010071),(26,101,-0.82189397869808),(26,102,0.678212836085086),(26,103,0.791741691335795),(26,104,-0.0492873928037355),(26,107,0.567644276253548),(26,109,-0.164189580980865),(26,112,-0.551896725363933),(26,113,-0.622882778405103),(26,117,-0.809778130436109),(27,85,0.891872920926542),(27,87,-0.696279793694876),(27,94,0.675160985137486),(27,100,-0.136356700338755),(27,102,-0.219000823999756),(27,103,-0.670003357036042),(27,104,-0.826990569780572),(27,105,-0.0289925840021973),(27,108,-0.0914944914090396),(27,110,-0.845515305032502),(27,114,0.935026093325602),(28,87,0.216040528580584),(28,88,0.126590777306436),(28,97,-0.396435438093204),(28,99,0.121585741752373),(28,104,0.996826075014496),(28,113,0.487441633350627),(28,114,0.814203314310129),(29,88,0.454756309701834),(29,91,-0.00506607257301553),(29,102,0.892086550492874),(29,105,-0.785576952421644),(29,116,0.872280037842952),(30,95,-0.380901516769921),(30,96,-0.601214636677145),(30,99,0.650837733085116),(30,101,-0.443891720328379),(30,104,-0.819269386883145),(30,109,0.728141117587817),(30,110,-0.160344248786889),(30,114,0.565080721457564),(30,118,-0.464430677205725),(31,85,-0.714682454908902),(31,92,0.748863185522019),(31,94,-0.176030762657552),(31,96,0.118991668446913),(31,99,0.316873683889279),(31,103,0.0460524307992798),(31,107,-0.599993896298105),(31,108,-0.735709707937864),(31,109,0.944273201696829),(31,111,0.842493972594379),(31,112,-0.0943327127903073),(31,117,0.661702322458571),(32,86,0.696432386242256),(32,87,-0.228827784051027),(32,89,0.708517715994751),(32,92,-0.60307626575518),(32,98,-0.94030579546495),(32,99,0.128116702780236),(32,104,0.54200872829371),(32,106,0.779137546922208),(32,109,-0.772759178441725),(32,116,-0.939268166142766),(32,118,-0.996856593523972),(33,96,-0.234717856379894),(33,98,-0.211066011535997),(33,108,0.510269478438673),(33,110,0.117679372539445),(33,111,-0.779717398602252),(33,114,-0.45631275368511),(34,85,0.160924100466933),(34,90,-0.61375774407178),(34,99,-0.523697622608112),(34,104,-0.0721457564012574),(34,109,-0.972563859981079),(35,86,0.656056398205512),(35,87,0.4759056367687),(35,97,-0.423871578112125),(35,98,0.0641804254280221),(35,100,-0.0436109500412),(35,104,-0.177526169621876),(35,107,-0.220587786492508),(35,109,0.0740073854792932),(35,110,-0.833124790185247),(35,112,0.836573381756035),(36,85,0.505020294808802),(36,87,0.564531388286996),(36,90,-0.0243232520523698),(36,91,-0.933164464247566),(36,104,-0.934080019531846),(36,107,0.57014679403058),(36,109,0.396862697225867),(36,112,0.764244514297922),(36,115,-0.694143498031556),(36,117,0.00631733146153142),(36,118,-0.0902737510299997),(37,85,0.896816919461654),(37,86,-0.895260475478378),(37,87,0.158787804803613),(37,91,-0.0226142155217139),(37,99,0.997589037751396),(37,105,-0.786950285348064),(37,111,0.971343119602039),(37,112,0.740348521378216),(37,118,0.00881984923856319),(38,87,-0.640858180486465),(38,90,0.351512192144536),(38,103,-0.793633838923307),(38,105,-0.138492996002075),(38,106,-0.642292550431837),(38,111,-0.212378307443464),(38,115,-0.230872524185919),(39,87,-0.63350321970275),(39,89,-0.636005737479782),(39,91,-0.469557786797693),(39,94,0.306283761101108),(39,97,0.80489516891995),(39,98,-0.0687887203588977),(39,107,0.711905270546586),(39,108,-0.993621631519517),(39,109,-0.273903622547075),(39,111,0.97338785973693),(39,113,-0.764915921506394),(39,116,0.400860621967223),(39,118,-0.907498397778252),(40,88,-0.336710715048677),(40,92,-0.865474410229804),(40,99,0.678670613727226),(40,104,0.411755729850154),(40,110,0.697378460036012),(40,116,0.666493728446303),(40,118,0.516861476485488),(41,88,-0.0526444288460952),(41,93,-0.314523758659627),(41,96,-0.790581987975707),(41,97,-0.822534867397076),(41,100,-0.472273934141057),(41,101,0.753501998962371),(41,104,-0.151127658925138),(41,105,-0.673512985625782),(41,106,-0.0694601275673696),(41,107,0.230689413129063),(41,109,-0.759971922971282),(41,110,-0.140995513779107),(41,111,-0.913968321787164),(41,112,-0.5623645741142),(42,85,-0.239753410443434),(42,86,-0.0751365703299051),(42,87,0.662068544572283),(42,99,0.0603350932340464),(42,100,0.76052125614185),(42,103,0.447187719351787),(42,109,0.443464461195715),(42,113,-0.219092379528184),(43,85,0.618518631550035),(43,88,0.341868343150121),(43,89,0.187108981597339),(43,93,0.537156285287027),(43,97,0.176610614337596),(43,98,0.194372386852626),(43,101,0.355571153904843),(43,102,0.317453535569323),(43,103,0.384685811944945),(43,105,-0.364787743766594),(43,110,-0.556108279671621),(43,112,-0.789788506729331),(43,114,0.598803674428541),(43,116,0.644245735038301),(44,89,0.997802667317728),(44,98,0.399090548417615),(44,99,-0.918027283547472),(45,87,0.78667561876278),(45,88,0.262642292550432),(45,90,-0.603869747001556),(45,91,0.75746940519425),(45,95,-0.659504989776299),(45,98,-0.360393078402051),(45,108,0.0277108066042055),(45,109,-0.876613666188543),(45,112,0.10727256080813),(45,115,-0.534867397076327),(46,85,0.308542130802332),(46,89,0.581255531479843),(46,91,0.122074037903989),(46,94,-0.791222876674703),(46,97,-0.488387707144383),(46,100,-0.318155461287271),(46,101,0.413983581041902),(46,108,0.612659077730644),(46,112,-0.288308359019745),(47,86,0.380870998260445),(47,91,-0.976073488570818),(47,92,-0.835383159886471),(47,94,0.111667226172674),(47,95,0.945982238227485),(47,100,0.737052522354808),(47,101,-0.150212103640858),(47,104,0.119663075655385),(47,105,-0.157536545915097),(47,108,-0.895657216101566),(47,112,-0.200354014709922),(47,114,0.222907193212683),(47,118,0.48002563554796),(48,86,-0.0303048799096652),(48,91,0.743247779778436),(48,98,0.332834864345225),(48,99,-0.0366222113711966),(48,100,-0.578081606494339),(48,103,-0.845698416089358),(48,105,-0.716422009949034),(48,106,-0.153233436078982),(48,111,-0.776421399578845),(48,115,0.581194494460891),(49,87,0.79848628192999),(49,89,-0.826227607043672),(49,93,0.661610766930143),(49,94,0.19769890438551),(49,95,-0.254646443067721),(49,102,0.332346568193609),(49,113,-0.217505417035432),(49,114,-0.224860377819147),(50,89,0.739432966093936),(50,105,-0.700735496078371),(50,107,0.268562883388775),(51,87,-0.489638966032899),(51,92,-0.0925016022217475),(51,97,0.26410718100528),(51,98,-0.210577715384381),(51,103,-0.508590960417493),(51,106,0.367473372600482),(51,112,-0.00952177495651112),(51,118,0.17322305978576),(52,89,0.226264229255043),(52,97,0.526505325479904),(52,106,0.946378978850673),(52,110,0.707907345805231),(52,111,-0.567583239234596),(52,113,0.144901882992035),(52,114,-0.210516678365429),(52,118,0.594775231177709),(53,88,-0.773827326273385),(53,90,-0.969054231391339),(53,92,-0.124149296548357),(53,94,0.862636188848537),(53,104,-0.990325632496109),(53,105,0.671498764000366),(53,109,-0.928739280373547),(54,85,0.615375225074007),(54,91,-0.0748313852351451),(54,94,0.647511215552232),(54,96,-0.41087069307535),(54,111,-0.759117404705954),(54,112,0.0957670827356792),(54,113,0.19586779381695),(54,118,-0.139774773400067),(55,87,-0.223029267250587),(55,95,-0.488021485030671),(55,107,0.928647724845119),(55,110,0.534195989867855),(55,117,0.768517105624561),(56,107,-0.336069826349681),(56,111,-0.752616962187567),(56,113,0.478713339640492),(56,114,0.97964415417951),(57,87,-0.752952665791803),(57,90,-0.267586291085543),(57,91,-0.707358012634663),(57,92,0.529190954313791),(57,93,-0.823389385662404),(57,94,0.923673207800531),(57,95,-0.673482467116306),(57,96,0.313821832941679),(57,100,0.0801416058839686),(57,102,0.78240302743614),(57,103,0.12503433332316),(57,115,-0.552140873439741),(58,86,-0.982634968108158),(58,87,-0.225196081423383),(58,89,0.103366191595202),(58,90,-0.4391613513596),(58,95,0.365764336069826),(58,96,-0.452833643604846),(58,101,-0.584734641560106),(58,103,-0.451551866206854),(58,109,0.32868434705649),(58,110,-0.119357890560625),(58,113,-0.482955412457656),(58,114,-0.896816919461654),(58,115,-0.531418805505539),(58,118,0.945005645924253),(59,85,0.232581560716575),(59,86,-0.800256355479598),(59,90,0.368694112979522),(59,91,0.650898770104068),(59,93,0.670339060640278),(59,97,-0.723807489242225),(59,98,0.989196447645497),(59,100,-0.0602130191961425),(59,102,0.434614093447676),(59,112,-0.61009552293466),(59,114,0.629505294961394),(60,85,0.708883938108463),(60,87,-0.600939970091861),(60,90,-0.245735038300729),(60,91,-0.231208227790155),(60,96,-0.809564500869777),(60,100,0.772820215460677),(60,101,0.437513351847896),(60,105,0.809900204474013),(60,107,-0.913510544145024),(60,109,-0.346049378948332),(60,110,0.495010223700674),(60,114,-0.544785912656026),(61,89,-0.112796411023286),(61,94,-0.166142765587329),(61,96,0.113956114383374),(61,98,-0.0580462050233467),(61,100,-0.127780999176),(61,102,-0.296426282540361),(61,103,-0.253517258217109),(61,114,0.852076784569842),(61,115,0.122775963621937),(62,93,0.116763817255165),(62,95,0.101443525498215),(62,107,-0.37382122257149),(62,109,0.594225898007141),(62,110,0.470870082705161),(62,111,-0.720908230842006),(63,87,-0.674916837061678),(63,90,-0.174626911221656),(63,93,0.0810571611682485),(63,97,-0.4728537858211),(63,100,0.136051515243995),(63,103,-0.69655446028016),(63,104,-0.949797051911985),(63,108,-0.807275612659078),(63,111,-0.224799340800195),(63,114,0.359874263740959),(63,117,0.965666676839503),(64,87,0.517502365184484),(64,94,-0.755058442945647),(64,99,-0.34644611957152),(64,110,0.433851130710776),(64,112,-0.0512405774101993),(64,116,0.617572557756279),(65,87,0.725791192358165),(65,88,0.748680074465163),(65,90,0.971709341715751),(65,97,-0.449690237128819),(65,99,-0.995330668050172),(65,107,0.927640614032411),(65,110,-0.163090914639729),(65,111,-0.213354899746696),(65,114,-0.0994903408917509),(65,116,0.225653859065523),(65,117,0.874019592883084),(66,85,0.150028992584002),(66,102,-0.270882290108951),(66,105,0.548020874660482),(66,108,0.192419202246162),(66,111,0.0814233832819605),(66,115,0.537339396343883),(66,118,-0.880825220496231),(67,86,0.0458998382518998),(67,90,0.524521622363964),(67,92,0.729453413495285),(67,104,-0.619861445966979),(67,109,0.45799127170629),(67,111,0.113620410779138),(68,87,-0.249366740928373),(68,88,0.589983825189978),(68,90,0.760277108066042),(68,93,0.553331095309305),(68,95,0.883083590197455),(68,96,-0.208319345683157),(68,97,0.0151371807000946),(68,103,-0.132297738578448),(68,107,0.361217078157903),(68,112,0.246559038056581),(68,114,-0.925107577745903),(69,87,-0.992858668782617),(69,88,0.347300637836848),(69,92,0.120944853053377),(69,94,-0.244453260902738),(69,95,-0.994140446180608),(69,97,-0.207007049775689),(69,108,0.818201239051485),(69,113,-0.11139255958739),(69,114,0.700643940549944),(69,118,0.902890102847377),(70,85,0.946256904812769),(70,86,0.505172887356181),(70,87,0.49519333475753),(70,90,-0.0137028107547227),(70,96,0.910000915555284),(70,97,0.827875606555376),(70,99,0.817499313333537),(70,105,0.879268776512955),(70,107,-0.212164677877132),(70,109,0.611682485427412),(70,110,0.527207251197852),(70,111,0.869594409009064),(71,85,-0.879055146946623),(71,93,-0.350749229407636),(71,96,-0.392376476332896),(71,100,-0.779778435621204),(71,104,-0.011200292977691),(71,106,-0.458388012329478),(71,111,-0.702627643665883),(71,113,-0.349253822443312),(72,94,-0.459395123142186),(72,96,0.348918118839076),(72,99,-0.00747703482161931),(72,110,-0.906582842493973),(72,112,0.625232703634754),(72,114,0.644856105227821),(72,115,-0.979674672688986),(72,116,0.138706625568407),(73,88,-0.387035737174596),(73,94,-0.508804589983825),(73,99,-0.403241065706351),(73,100,0.985686819055757),(73,106,0.150547807245094),(73,110,-0.100619525742363),(73,115,0.287118137150182),(74,90,-0.660145878475295),(74,94,-0.0248725852229377),(74,99,0.159398174993133),(74,102,-0.103152562028871),(74,106,-0.791863765373699),(74,107,0.123020111697745),(74,110,-0.710440382091739),(74,113,0.149571214941862),(74,116,-0.697225867488632),(75,85,-0.987914670247505),(75,86,0.897335734122745),(75,93,0.0390942106387524),(75,98,0.773796807763909),(75,103,-0.142887661366619),(75,105,-0.939024018066958),(75,111,-0.312326425977355),(75,117,-0.0198065126499222),(76,86,0.767876216925565),(76,89,0.211706900234993),(76,92,0.176030762657552),(76,94,0.678884243293558),(76,99,-0.499801629688406),(76,101,-0.45616016113773),(76,103,0.36634418774987),(76,106,-0.00921658986175115),(76,110,0.358623004852443),(76,113,-0.109317300943022),(77,88,0.137150181585131),(77,91,-0.178472243415632),(77,93,0.797997985778375),(77,98,0.761803033539842),(77,101,-0.373302407910398),(77,102,0.283028656880398),(77,103,0.880977813043611),(77,104,-0.739494003112888),(77,105,0.828882717368084),(77,109,0.492690816980499),(78,88,-0.580980864894559),(78,93,-0.810937833796197),(78,94,0.490554521317179),(78,101,-0.320139164403211),(78,104,0.207525864436781),(78,110,-0.0191045869319742),(78,114,-0.065767387920774),(78,116,-0.0154728843043306),(78,117,-0.956907864619892),(78,118,0.638630329294717),(79,87,-0.596209601123081),(79,92,0.0857570116275521),(79,94,0.588030640583514),(79,107,0.257637256996368),(79,108,0.19571520126957),(79,114,0.939603869747002),(79,118,-0.223212378307443),(80,87,0.985015411847285),(80,88,-0.914029358806116),(80,91,0.656514175847652),(80,99,-0.274025696584979),(80,101,0.782158879360332),(80,107,-0.724692526017029),(80,113,0.881679738761559),(81,85,0.491958372753075),(81,86,0.920285653248695),(81,90,-0.638508255256813),(81,93,0.845271156956694),(81,96,0.144169438764611),(81,97,-0.562273018585772),(81,106,-0.941862239448225),(81,107,-0.507126071962645),(81,110,0.314493240150151),(81,115,0.469771416364025),(82,86,0.559862056337168),(82,92,-0.826258125553148),(82,110,-0.328959013641774),(82,112,0.835230567339091),(83,87,0.544694357127598),(83,91,0.155247657704398),(83,93,-0.306711020233772),(83,101,-0.23886837366863),(83,103,-0.688955351420637),(83,105,-0.760002441480758),(83,108,0.835840937528611),(84,85,-0.730796227912229),(84,86,-0.26380199591052),(84,89,-0.464094973601489),(84,95,0.773979918820765),(84,99,0.0379955442976165),(84,104,0.882412182988983),(84,111,-0.418439283425397),(84,113,-0.174260689107944),(84,114,0.896359141819513)]
orgname='BHNEAT_1_12'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()