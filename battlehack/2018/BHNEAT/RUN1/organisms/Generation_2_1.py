edge = [(0,85,-1.27312540055544),(0,89,1.52458265938292),(0,90,-2.6253700369274),(0,93,-0.538392284920804),(0,98,2.55455183568835),(0,101,3.15515610217597),(0,105,-2.54496902371288),(0,108,-2.2917416913358),(0,113,1.49761955626087),(0,114,-1.78867458113346),(0,117,2.00973540452284),(0,118,0.852198858607746),(1,86,0.255241554002503),(1,92,2.21040986358226),(1,98,-0.614871669667653),(1,102,0.44114505447554),(1,104,-0.195242164372692),(1,107,-0.439756462294382),(1,108,0.507827997680593),(1,109,-0.553651539658803),(1,113,0.674489577929014),(2,87,0.109378337961974),(2,88,-1.48167363505966),(2,100,0.688970610675375),(2,106,-0.350093081453902),(2,108,-0.692114017151402),(2,110,0.159260841700491),(2,113,3.03306680501724),(2,118,-1.5419629505295),(3,89,0.176320688497574),(3,92,-2.32067323831904),(3,97,0.705832087160863),(3,99,0.0144962920010986),(3,101,0.467680898464919),(3,103,2.40545365764336),(3,105,1.74536881618702),(3,108,1.17014069032868),(3,109,0.625385296182134),(3,111,-3.04324472792749),(3,112,-2.08207953123569),(3,116,0.493224890896329),(4,90,-2.67354350413526),(4,91,0.224585711233863),(4,97,-1.70137638477737),(4,99,-2.99716177861873),(4,101,1.57701345866268),(4,108,1.04312265388958),(4,113,-0.196264534440138),(4,118,2.14984588152715),(5,86,1.52681051057466),(5,87,-3.22200689718314),(5,89,2.52920621356853),(5,92,-1.23995178075503),(5,93,1.74600970488601),(5,99,-0.139851069673757),(5,104,0.402386547441023),(5,114,1.71366008484146),(5,118,-3.37102877895444),(6,89,-0.415341654713584),(6,92,-0.785653248695334),(6,94,0.965681936094241),(6,100,2.82044434949797),(6,101,-1.28186895352031),(6,103,-1.39861751152074),(6,107,0.932386242255928),(6,110,0.576555681020539),(6,113,-0.788415173802911),(7,85,-2.87498092593158),(7,86,0.838480788598285),(7,90,0.37405011139256),(7,95,-0.7654805139317),(7,99,-1.20610675374615),(7,100,2.83043916135136),(7,104,-1.61044648579363),(7,106,-0.946897793511765),(7,108,-0.235343485824152),(7,112,-1.76247444074831),(7,116,-0.0320139164403211),(8,92,0.323923459578234),(8,93,0.218161564989166),(8,95,3.07910397656178),(8,99,0.859782708212531),(8,106,0.022141178624836),(8,107,2.7120731223487),(8,115,-0.511810663167211),(8,116,-1.61806085390789),(8,118,1.11288796655171),(9,85,0.989349040192877),(9,87,1.6963713492233),(9,98,-0.033051545762505),(9,101,-1.7581713309122),(9,103,0.528321176793725),(9,105,1.28560747093112),(9,106,-2.10734885708182),(9,113,-0.224631488998077),(10,89,-0.229102450636311),(10,96,1.39013336588641),(10,106,-1.47767571031831),(10,108,2.99632251960814),(10,109,-1.89184240241707),(10,111,0.233390301217689),(10,112,-2.48460341196936),(10,114,-0.112201300088504),(10,115,-2.43990905484176),(10,116,0.167485580004273),(10,117,-0.891415143284402),(11,89,2.09067049165319),(11,97,-2.41850032044435),(11,105,1.97732474745933),(11,112,1.75037385174108),(11,115,0.359920041505173),(12,92,0.667836542863247),(12,93,-0.481597338785974),(12,94,0.634815515610218),(12,97,-1.37278359324931),(12,98,-1.22869045075838),(12,99,2.39178136539811),(12,108,0.486587115085299),(12,116,-2.07458723715934),(13,86,-0.54574724570452),(13,87,2.73696096682638),(13,90,1.16441846980194),(13,99,0.891689809869686),(13,102,-0.941007721182897),(13,104,1.28673665578173),(13,113,-1.74063844721824),(13,116,-0.308908352916044),(13,118,-0.176183355204932),(14,90,1.24904629657888),(14,93,-1.01448103274636),(14,95,-2.90023499252296),(14,102,0.0450148014770959),(14,104,2.0911587878048),(14,106,1.26555681020539),(14,109,-0.249443037202063),(14,110,-0.465819269386883),(14,111,-1.78136539811396),(15,85,-1.35697500534074),(15,92,-1.61091952269051),(15,99,-2.78025147251808),(15,101,1.61964781640065),(15,104,-2.62643818475906),(15,108,-0.723426007873776),(15,117,-1.47476119266335),(16,86,-1.063890499588),(16,87,-1.1532792138432),(16,88,-2.56158635212256),(16,90,-1.69492172002319),(16,91,1.29506820886868),(16,95,0.0488448744163335),(16,97,-0.428815576647237),(16,98,-2.26818140202033),(16,99,1.08920560319834),(16,101,-1.60411389507736),(16,108,-1.58920560319834),(16,110,-1.71060823389386),(17,89,2.20004882961516),(17,96,2.39330729087191),(17,99,-1.84720908230842),(17,101,-0.337656788842433),(17,106,0.331629383220923),(17,107,-0.816599017303995),(17,109,2.0741294595172),(18,90,-0.688726462599567),(18,91,-0.555742057557909),(18,93,-1.13597521897031),(18,99,2.03190710165716),(18,102,-1.37255470442824),(18,103,-1.4392834253975),(18,104,-0.191961424604022),(18,110,2.18680379650258),(18,111,-1.48031556138798),(18,116,-1.55270546586505),(18,117,1.71807000946074),(18,118,0.778496658223212),(19,87,0.8955504013184),(19,89,1.75576036866359),(19,93,-2.37311929685354),(19,95,2.50907925656911),(19,101,-0.990127262184515),(19,105,-0.491210669270913),(19,115,-1.82103946043275),(20,88,-1.81447798089541),(20,101,2.8380840479751),(20,103,0.0479750968962676),(20,104,-0.593157750175481),(20,105,0.905133213293863),(20,106,0.465163121433149),(20,111,0.422284615619373),(20,116,2.68576616718039),(21,86,-1.19591357158116),(21,87,1.31510361033967),(21,94,0.252067629016999),(21,96,-0.519028290658284),(21,101,2.01771599475082),(21,102,-0.110827967162084),(21,105,0.513641773735771),(21,107,-0.156041138950774),(21,108,0.983001190221869),(22,86,-1.21996215704825),(22,88,-2.33126316110721),(22,91,-1.70513016144292),(22,92,1.88894314401685),(22,93,-0.752220221564379),(22,98,0.5240943632313),(22,106,-1.48100222785119),(22,115,2.10692159794916),(22,117,-0.388470107119968),(23,85,1.73918881801813),(23,86,-0.0134586626789147),(23,88,0.355967894528031),(23,90,-1.19490646076846),(23,97,1.33819086275826),(23,104,0.790688802758873),(23,112,-1.35001678518021),(23,114,1.12074648274178),(23,115,-1.84372997222816),(23,116,-0.121021149327067),(24,89,0.451307718131046),(24,90,1.29059724723045),(24,91,2.30117191076388),(24,101,2.44677571947386),(24,107,-1.08864101077303),(24,108,-0.261986144596698),(24,110,2.57003997924741),(24,112,1.8109378337962),(25,90,1.01211584826197),(25,92,-0.840510269478439),(25,94,-2.64461195715201),(25,98,-0.776924954985198),(25,105,0.803033539841914),(25,108,-2.21417889950255),(25,109,1.95234534745323),(25,115,-2.04969939268166),(26,85,-1.99908444471572),(26,87,-1.70436719870602),(26,89,0.373531296731468),(26,95,-1.11723685415204),(26,98,-0.69380779442732),(26,100,1.19406720175787),(26,101,-3.11322367015595),(26,102,-1.67232276375622),(26,103,-0.492400891140477),(26,104,1.44642475661489),(26,107,0.520645771660512),(26,109,0.585879085665456),(26,112,1.86577959532456),(26,113,-1.4706869716483),(26,117,-1.68268379772332),(27,85,1.94178594317454),(27,87,1.62373729667043),(27,94,-0.0415662099063082),(27,100,-0.586123233741264),(27,102,2.22362437818537),(27,103,-2.82285531174657),(27,104,0.925763725699637),(27,105,0.469145786919767),(27,108,-0.95532090212714),(27,110,0.928449354533525),(27,114,2.44035157322916),(28,87,-1.3752708517716),(28,88,-1.67842646565142),(28,97,-0.346461378826258),(28,99,-2.11427655873287),(28,104,1.96418652912992),(28,113,-0.138340403454695),(28,114,0.645283364360485),(29,88,-0.775444807275613),(29,91,-0.347254860072634),(29,102,0.525788140507218),(29,105,-3.23819696646016),(29,116,1.98330637531663),(30,95,-1.60255745109409),(30,96,1.45893734550005),(30,99,-1.51803643910031),(30,101,-0.293206579790643),(30,104,-1.03328043458357),(30,109,0.682058168279061),(30,110,2.18416394543291),(30,114,0.481917783135472),(30,118,-2.30713827936644),(31,85,-2.99639881588183),(31,92,2.32659382915738),(31,94,-1.5930051576281),(31,96,1.47767571031831),(31,99,-0.337672048097171),(31,103,-1.80443739127781),(31,107,0.64752647480697),(31,108,-0.682988982818079),(31,109,2.24024170659505),(31,111,2.18324839014863),(31,112,0.975264748069704),(31,117,0.0930661946470533),(32,86,-1.69606616412854),(32,87,-2.46453749198889),(32,89,-1.38154240546892),(32,92,1.61172826319163),(32,98,-2.93934446241646),(32,99,1.17154454176458),(32,104,1.0818811609241),(32,106,2.05641346476638),(32,109,-1.62392040772729),(32,116,0.466795861690115),(32,118,-0.509628589739677),(33,96,1.09749137852107),(33,98,-0.0333719901120029),(33,108,2.42217780083621),(33,110,-1.53199865718558),(33,111,0.27866451002533),(33,114,-2.46923734244819),(34,85,1.56904812768944),(34,90,1.59280678731651),(34,99,1.52569658497879),(34,104,-2.08148442030091),(34,109,-2.78566850795007),(35,86,2.26766258735923),(35,87,-1.15050202948088),(35,97,-2.67407757805109),(35,98,0.993087557603687),(35,100,-0.949171422467727),(35,104,0.473357341227454),(35,107,1.34127323221534),(35,109,0.32830286568804),(35,110,-0.304467909787286),(35,112,-0.499984740745262),(36,85,-0.321344645527512),(36,87,0.268196661275063),(36,90,-0.657200842310862),(36,91,-0.870906704916532),(36,104,-1.72801904354991),(36,107,-0.313516647846919),(36,109,-0.997909482100894),(36,112,0.948652607806635),(36,115,1.70125431073946),(36,117,1.48501541184729),(36,118,0.737311929685354),(37,85,3.24636066774499),(37,86,-2.95007171849727),(37,87,1.64877773369549),(37,91,-0.116840113528855),(37,99,3.30410168767357),(37,105,1.21491134372997),(37,111,1.55630664998321),(37,112,2.05973998229926),(37,118,1.22818689535203),(38,87,-0.0565050202948089),(38,90,1.85401470992157),(38,103,-0.391552476577044),(38,105,-1.11813715018159),(38,106,-0.561494796594134),(38,111,-0.577227088229011),(38,115,-2.5594347972045),(39,87,1.38552507095553),(39,89,-2.64908291879025),(39,91,1.52154606769005),(39,94,1.79039887691885),(39,97,1.92645039216285),(39,98,-2.52705465865047),(39,107,0.503311258278146),(39,108,-2.95977660451064),(39,109,-2.01033051545762),(39,111,-1.38866847743156),(39,113,-0.098544267097995),(39,116,0.797219763786737),(39,118,-2.69794305246132),(40,88,-0.687139500106815),(40,92,-2.01251258888516),(40,99,-0.554963835566271),(40,104,-1.08838160344249),(40,110,0.154377880184332),(40,116,-1.21314127018036),(40,118,2.6028015991699),(41,88,-1.23767815179907),(41,93,0.0500198370311594),(41,96,-1.64235358745079),(41,97,-2.34586626789148),(41,100,1.1070589312418),(41,101,1.61191137424848),(41,104,-1.77372051149022),(41,105,-2.56375316629536),(41,106,-1.71440778832362),(41,107,2.22896511734367),(41,109,0.374858851893673),(41,110,-2.259056367687),(41,111,0.469817194128239),(41,112,-0.0612506485183264),(42,85,-0.212134159367657),(42,86,-0.612567522202216),(42,87,-1.48818933683279),(42,99,-0.0793633838923307),(42,100,0.311517685476241),(42,103,0.256065553758354),(42,109,-1.5204016235847),(42,113,1.8357951597644),(43,85,1.98651081881161),(43,88,-1.30445265053255),(43,89,-0.634525589770196),(43,93,0.60513626514481),(43,97,1.56428724021119),(43,98,-0.61253700369274),(43,101,-0.655049287392804),(43,102,-0.676381725516526),(43,103,-1.17267372661519),(43,105,-2.09114352855007),(43,110,-2.97660756248665),(43,112,-3.24248481704154),(43,114,-0.0861079744865261),(43,116,-1.27567369609668),(44,89,1.35357219153417),(44,98,-0.283837397381512),(44,99,-1.56791894283883),(45,87,0.964064455092013),(45,88,-0.58615375225074),(45,90,0.249961851863155),(45,91,-0.957823419904172),(45,95,-2.53501998962371),(45,98,0.61123996704001),(45,108,-2.34998626667074),(45,109,-1.21720023194067),(45,112,1.89756462294382),(45,115,1.11427655873287),(46,85,-1.41384624774926),(46,89,2.57541123691519),(46,91,-1.78762169255654),(46,94,-1.26227607043672),(46,97,-0.712469862971892),(46,100,-1.7833491012299),(46,101,2.16017639698477),(46,108,2.6174199652089),(46,112,1.6113162633137),(47,86,-0.296334727011933),(47,91,-2.12509537034211),(47,92,-0.227835932493057),(47,94,-1.1472975859859),(47,95,2.44566179387799),(47,100,1.35398419141209),(47,101,-0.88967558824427),(47,104,-0.998077333903012),(47,105,0.903515732291635),(47,108,0.715033417767876),(47,112,-2.47581408124027),(47,114,-0.186727500228889),(47,118,-1.58104190191351),(48,86,-1.89551988280892),(48,91,-0.0745719779045991),(48,98,2.33217871639149),(48,99,0.54628131962035),(48,100,0.124454481643117),(48,103,-0.336420789208655),(48,105,-1.21059297463912),(48,106,1.25336466566973),(48,111,-2.62057863093967),(48,115,2.42603839228492),(49,87,0.740806299020356),(49,89,-1.64671773430586),(49,93,-0.561494796594134),(49,94,-1.78699606311228),(49,95,1.96656697286905),(49,102,-1.60214545121616),(49,113,2.07992797631764),(49,114,-0.158558915982543),(50,89,1.93621631519517),(50,105,-3.1928769798883),(50,107,-1.09286782433546),(51,87,-0.472167119357891),(51,92,1.59738456373791),(51,97,0.447370830408643),(51,98,0.148854029969176),(51,103,-1.37714774010437),(51,106,2.07872249519333),(51,112,-0.466307565538499),(51,118,2.37047944578387),(52,89,-1.83838923306986),(52,97,0.916531876583148),(52,106,-0.886181218909269),(52,110,-0.347346415601062),(52,111,-1.8461561937315),(52,113,-0.641178624835963),(52,114,-1.42477187414167),(52,118,0.795587023529771),(53,88,1.44936979277932),(53,90,-1.17131565294351),(53,92,-1.82616657002472),(53,94,-1.43800164799951),(53,104,1.47358623004852),(53,105,1.16872157963805),(53,109,-0.524140140995514),(54,85,-1.61781670583209),(54,91,1.15628528702658),(54,94,-0.250190740684225),(54,96,0.841456343272195),(54,111,1.64253669850765),(54,112,2.32865382854701),(54,113,1.00697347941527),(54,118,0.169148838770714),(55,87,0.322794274727622),(55,95,-1.95504623554186),(55,107,1.06666768395032),(55,110,-0.550508133182775),(55,117,0.713278603473006),(56,107,-0.301889095736564),(56,111,-2.83741264076662),(56,113,2.82734153263955),(56,114,0.698568681905576),(57,87,-2.70300912503433),(57,90,0.708090456862087),(57,91,0.233603930784021),(57,92,2.37830744346446),(57,93,1.13414410840175),(57,94,0.857829523606067),(57,95,1.41230506302072),(57,96,2.28562273018586),(57,100,0.920087282937101),(57,102,-1.07121494186224),(57,103,2.32854701376385),(57,115,-2.81340983306375),(58,86,-0.249809259315775),(58,87,-1.1178624835963),(58,89,1.82659382915738),(58,90,-1.98049867244484),(58,95,0.802865688039796),(58,96,1.1525162511063),(58,101,-0.98017822809534),(58,103,0.708838160344249),(58,109,1.05960264900662),(58,110,-1.21352275154881),(58,113,-0.378658406323435),(58,114,-0.593081453901791),(58,115,-2.71410260322886),(58,118,2.9002502517777),(59,85,0.0521408734397412),(59,86,-2.1062959685049),(59,90,0.83181249427778),(59,91,0.74077578051088),(59,93,0.883434553056429),(59,97,-3.18771935178686),(59,98,-0.66902676473281),(59,100,-0.0782952360606708),(59,102,0.0717490157780694),(59,112,0.238166447950682),(59,114,0.548173467207862),(60,85,0.898937955870235),(60,87,-2.27510910367138),(60,90,-0.12877285073397),(60,91,0.854869228186895),(60,96,-0.010055848872341),(60,100,-0.614856410412915),(60,101,-0.389996032593768),(60,105,2.18826868495743),(60,107,0.681997131260109),(60,109,0.406689657277139),(60,110,-0.254066591387677),(60,114,1.28441724906156),(61,89,-2.30829798272652),(61,94,0.17413861507004),(61,96,0.289208655049287),(61,98,-0.34522537919248),(61,100,2.26975310525834),(61,102,-0.651203955198828),(61,103,1.98326059755242),(61,114,2.74307992797632),(61,115,2.61568041016877),(62,93,-0.830378124332408),(62,95,0.814813684499649),(62,107,-2.25559251686148),(62,109,1.67252113406781),(62,110,0.444090090639973),(62,111,-0.373836481826228),(63,87,0.240791039765618),(63,90,-0.543519394512772),(63,93,1.15591906491287),(63,97,-2.62715536973174),(63,100,0.512649922177801),(63,103,0.813882869960631),(63,104,0.00611896114993749),(63,108,-2.04541154210028),(63,111,-0.0365764336069827),(63,114,-2.03186132389294),(63,117,1.19661549729911),(64,87,-1.58369701223792),(64,94,0.871807000946074),(64,99,-0.803689687795648),(64,110,1.40365306558428),(64,112,-1.50941496017335),(64,116,0.751319925534837),(65,87,1.24559770500809),(65,88,2.8122653889584),(65,90,2.01956236457411),(65,97,-1.07776116214484),(65,99,-1.06796472060305),(65,107,-1.10931730094302),(65,110,0.28324228644673),(65,111,0.105182042909024),(65,114,-2.20198675496689),(65,116,-1.63559373760186),(65,117,3.25278481398968),(66,85,-1.36674092837306),(66,102,-0.672200689718314),(66,105,0.281746879482406),(66,108,0.724738303781243),(66,111,2.0306405835139),(66,115,2.91702017273476),(66,118,0.672643208105716),(67,86,-2.322946867275),(67,90,0.594332712790307),(67,92,0.56884975737785),(67,104,-0.619861445966979),(67,109,2.22783593249306),(67,111,0.113620410779138),(68,87,-0.249366740928373),(68,88,2.40491958372753),(68,90,-2.34771263771477),(68,93,-1.65674306466872),(68,95,0.883083590197455),(68,96,-0.208319345683157),(68,97,0.0151371807000946),(68,103,0.197149571214942),(68,107,1.34296700949126),(68,112,0.725775933103427),(68,114,-0.925107577745903),(69,87,-1.07045197912534),(69,88,1.48731955931272),(69,92,1.70361949522385),(69,94,-0.43900875881222),(69,95,-0.379726554155095),(69,97,-2.66992706076235),(69,108,0.818201239051485),(69,113,1.3731040375988),(69,114,1.82799768059328),(69,118,-0.257576219977416),(70,85,0.490737632374035),(70,86,-0.150669881282998),(70,87,0.49519333475753),(70,90,1.63879818109684),(70,96,-0.330423902096622),(70,97,-0.788445692312387),(70,99,2.41216772972808),(70,105,-1.57506027405621),(70,107,1.39188818018128),(70,109,1.30964079714347),(70,110,-2.12118900112918),(70,111,-0.288354136783959),(71,85,1.99751274147771),(71,93,-1.73810541093173),(71,96,-0.392376476332896),(71,100,-0.779778435621204),(71,104,-1.2455214087344),(71,106,0.54467909787286),(71,111,1.64548173467208),(71,113,-0.349253822443312),(72,94,-0.1105533005768),(72,96,2.6970122379223),(72,99,1.35914181951353),(72,110,-2.81284524063845),(72,112,1.06950590533158),(72,114,0.644856105227821),(72,115,0.69693594164861),(72,116,1.03511154515213),(73,88,-2.6895046845912),(73,94,1.4626148258919),(73,99,0.969481490524003),(73,100,1.39150669881283),(73,106,1.05206457716605),(73,110,-0.100619525742363),(73,115,0.287118137150182),(74,90,-2.67284157841731),(74,94,-0.939970091860713),(74,99,-0.270531327249977),(74,102,-0.032959990234077),(74,106,-1.44627216406751),(74,107,2.29593798638874),(74,110,-2.34264656514176),(74,113,0.149571214941862),(74,116,-0.193212683492538),(75,85,-2.97390667439802),(75,86,2.45834223456526),(75,93,0.538193914609211),(75,98,-1.5964995269631),(75,103,0.582216864528336),(75,105,-0.939024018066958),(75,111,0.145527512436293),(75,117,-0.886410107730339),(76,86,-1.61867122409741),(76,89,0.211706900234993),(76,92,0.925946836756493),(76,94,0.678884243293558),(76,99,-2.13011566515091),(76,101,-0.45616016113773),(76,103,1.29578539384136),(76,106,0.403469954527421),(76,110,-1.02328562273019),(76,113,1.96212652974029),(77,88,1.72704245124668),(77,91,0.807824945829646),(77,93,-1.97637867366558),(77,98,0.761803033539842),(77,101,-1.56140324106571),(77,102,-1.28028199102756),(77,103,-0.721015045625172),(77,104,-0.739494003112888),(77,105,0.828882717368084),(77,109,0.881572923978393),(78,88,-1.06599627674184),(78,93,-0.810937833796197),(78,94,-0.617725150303659),(78,101,2.02841273232215),(78,104,0.207525864436781),(78,110,-0.0191045869319742),(78,114,-0.234534745323038),(78,116,-2.09418012024293),(78,117,-0.125125888851589),(78,118,0.638630329294717),(79,87,-2.94109927671133),(79,92,0.0857570116275521),(79,94,-1.83300271614734),(79,107,-0.949598681600391),(79,108,0.378139591662343),(79,114,3.40427869502853),(79,118,0.450560014648885),(80,87,0.985015411847285),(80,88,-1.93899349955748),(80,91,-0.862468337046419),(80,99,-0.274025696584979),(80,101,0.497268593401898),(80,107,0.0806146427808465),(80,113,0.383236182744835),(81,85,0.491958372753075),(81,86,1.11613818781091),(81,90,1.24845118564409),(81,93,0.170354319895016),(81,96,-1.27867976928007),(81,97,-0.562273018585772),(81,106,-0.638966032898953),(81,107,0.970641193884091),(81,110,-0.336237678151799),(81,115,0.590685750907926),(82,86,0.571993163853877),(82,92,0.474059266945402),(82,110,-0.91605883968627),(82,112,-0.975966673787652),(83,87,-1.72750022888882),(83,91,-2.1396679586169),(83,93,-2.58957182531205),(83,101,-0.23886837366863),(83,103,2.02505569627979),(83,105,-0.760002441480758),(83,108,-0.508041627246925),(84,85,-1.21425519577624),(84,86,-0.26380199591052),(84,89,-0.464094973601489),(84,95,-1.48011719107639),(84,99,1.35395367290262),(84,104,1.0286721396527),(84,111,0.00698873867000338),(84,113,-2.2979674672689),(84,114,0.705923642689291)]
orgname='BHNEAT_2_1'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()