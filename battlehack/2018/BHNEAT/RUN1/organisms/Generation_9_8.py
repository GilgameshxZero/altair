edge = [(0,85,-0.889736625263222),(0,89,-1.50117496261483),(0,90,-0.488601336710715),(0,93,-2.25692007202368),(0,98,0.949201940977203),(0,101,-2.36429944761498),(0,105,0.281060213019196),(0,108,1.7703787347026),(0,113,3.11825922421949),(0,114,-0.598071230201117),(0,117,-0.997344889675588),(0,118,-1.88087099826044),(1,86,-2.26523636585589),(1,92,1.06410412915433),(1,98,-1.35677663502915),(1,102,-1.38871425519578),(1,104,-2.39536729026154),(1,107,-0.400234992522965),(1,108,-2.99951170384838),(1,109,-0.568498794518876),(1,113,-1.58868678853725),(2,87,-0.461256752220222),(2,88,0.586565752128666),(2,100,-2.11191137424848),(2,106,-0.27958006530961),(2,108,-2.21582689901425),(2,110,-1.23471785637989),(2,113,0.451857051301614),(2,118,0.00302133243812372),(3,89,1.33968626972259),(3,92,-1.6976531266213),(3,97,-0.101626636555071),(3,99,0.212546159245582),(3,101,-0.496002075258644),(3,103,0.52012695699942),(3,105,2.60829493087558),(3,108,-0.267784661397137),(3,109,0.32074953459273),(3,111,1.32667012543107),(3,112,-0.697134311960204),(3,116,-0.845866267891476),(4,90,0.293527024140141),(4,91,-2.49214148380993),(4,97,-2.2811822870571),(4,99,-2.44135868404187),(4,101,0.446073793755913),(4,108,0.851084933011872),(4,113,-3.04783776360363),(4,118,1.56398205511643),(5,86,-0.99626148258919),(5,87,0.564409314249092),(5,89,1.69212927640614),(5,92,0.166997283852657),(5,93,2.98301644947661),(5,99,0.174230170598468),(5,104,0.895428327280496),(5,114,1.40072328867458),(5,118,-2.37446211127049),(6,89,-1.495864741966),(6,92,0.589922788171026),(6,94,-1.14467299417096),(6,100,0.13487655262917),(6,101,0.908368175298318),(6,103,0.458189642017884),(6,107,0.955717642750328),(6,110,1.06398205511643),(6,113,0.780861842707602),(7,85,0.929975280007324),(7,86,0.435712759788812),(7,90,1.57237464522233),(7,95,1.46038697470016),(7,99,2.32349620044557),(7,100,0.388256477553636),(7,104,-0.362773522141179),(7,106,1.16870632038331),(7,108,1.91174047059542),(7,112,0.534012878810999),(7,116,0.471053193762017),(8,92,-0.800454725791192),(8,93,-0.250617999816889),(8,95,1.32770775475326),(8,99,-1.84360789819025),(8,106,0.320535905026399),(8,107,-2.36762596514786),(8,115,-1.47689748832667),(8,116,0.925504318369091),(8,118,-0.605639820551164),(9,85,-0.324503311258278),(9,87,-0.361827448347423),(9,98,-0.777031769768364),(9,101,-2.90211188085574),(9,103,0.65485091708121),(9,105,-2.3565172276986),(9,106,-0.00903347880489513),(9,113,1.73923459578234),(10,89,-2.03286843470565),(10,96,1.87792596209601),(10,106,1.67940305795465),(10,108,0.39120151371807),(10,111,0.664647358623005),(10,112,1.06265449995422),(10,114,1.90548417615284),(10,115,-1.11320841090121),(10,116,1.39545884578997),(10,117,0.572023682363353),(11,89,-0.986495559556871),(11,97,2.47079378643147),(11,105,-2.80224005859554),(11,112,-0.947462385937071),(11,115,-0.280922879726554),(12,92,-0.509079256569109),(12,93,0.489928891872921),(12,94,0.129932554094058),(12,97,-2.08659627063814),(12,98,0.709341715750603),(12,99,-0.00360118411816768),(12,108,1.25356303598132),(12,116,-0.0682699056978057),(13,86,2.54300057985168),(13,87,-0.0566270943327128),(13,90,-0.47682119205298),(13,99,-1.0160222174749),(13,102,2.02757347331156),(13,104,-1.95722830896939),(13,113,-2.34749900814844),(13,116,-0.752693258461257),(13,118,2.88300729392376),(14,90,0.0477614673299356),(14,93,0.604113895077364),(14,95,1.39355143894772),(14,102,0.932035279396954),(14,104,-1.93670461134678),(14,106,0.662495803704947),(14,109,2.72472304452651),(14,110,0.799493392742698),(14,111,0.0156102175969726),(15,85,0.806939909054842),(15,92,-0.365489669484542),(15,99,0.109134189886166),(15,101,-1.4165929136021),(15,104,-3.19943845942564),(15,108,1.40507217627491),(15,117,0.827112643818476),(16,86,-0.11383404034547),(16,87,0.494170964690084),(16,88,0.130558183538316),(16,90,-0.902233954893643),(16,91,-2.42660298471023),(16,95,0.971129490035707),(16,97,-0.605075228125858),(16,98,-1.58935819574572),(16,99,-0.265449995422224),(16,101,0.90881069368572),(16,108,1.6755272072512),(16,110,0.361888485366375),(17,89,1.15881832331309),(17,96,1.36893826105533),(17,99,1.28392895290994),(17,101,-1.78533280434584),(17,106,1.65764336069826),(17,107,-0.693334757530442),(17,109,-2.25659962767418),(18,90,-1.6299478133488),(18,91,-0.311365092928861),(18,93,2.40760521256142),(18,99,0.469222083193457),(18,102,-0.624439222388379),(18,103,-0.00141911069063394),(18,104,-0.221869563890499),(18,110,1.92790002136296),(18,111,1.56299020355846),(18,116,2.50358592486343),(18,117,-1.45580919827876),(18,118,2.08159123508408),(19,87,0.62892544328135),(19,89,0.0807519760734886),(19,93,-0.690862758262886),(19,95,-0.842463454084903),(19,101,3.05771050141911),(19,105,-1.03596606341746),(19,115,0.250511185033723),(20,88,-2.0852534562212),(20,101,-0.910855433820612),(20,103,1.10026856288339),(20,104,-1.21300393688772),(20,105,-0.275460066530351),(20,106,0.973326822717978),(20,111,0.603427228614154),(20,116,0.0415814691610462),(21,86,0.139164403210547),(21,87,1.87633899960326),(21,94,0.736869411297952),(21,96,-2.21022675252541),(21,101,0.794122135074923),(21,102,0.0564439832758568),(21,105,1.45155186620685),(21,107,2.01243629261147),(21,108,-1.3989226966155),(22,86,-2.43618579668569),(22,88,-0.0462355418561358),(22,91,-2.42086550492874),(22,92,-0.945616016113773),(22,93,1.31511886959441),(22,98,1.05548265022736),(22,106,-0.738731040375988),(22,115,0.835215308084353),(22,117,0.463728751487777),(23,85,-0.482863856929228),(23,86,-2.41882076479385),(23,88,-1.55621509445479),(23,90,1.69823297830134),(23,97,1.74834437086093),(23,104,1.59205908383435),(23,112,-2.36625263222144),(23,114,2.35665456099124),(23,115,-2.19386883144627),(23,116,1.89922788171026),(24,89,-2.52278206732383),(24,90,-2.99307229834895),(24,91,0.619739371929075),(24,101,2.0872219000824),(24,107,0.776284066286203),(24,108,0.724387340922269),(24,110,-1.13132114627522),(24,112,-1.5232093264565),(25,90,2.16226691488388),(25,92,1.23519089327677),(25,94,2.14339121677297),(25,98,-0.0204931791131321),(25,105,-0.205053865169225),(25,108,-0.965987121189001),(25,109,-2.23630481887265),(25,115,1.22064882351146),(26,85,0.78659932248909),(26,87,-0.554124576555681),(26,89,-0.283211767937254),(26,95,0.491637928403577),(26,98,1.41134372997223),(26,100,2.23441267128513),(26,101,1.65346232490005),(26,102,-1.54573198644978),(26,103,-2.30349131748405),(26,104,-0.477080599383526),(26,107,0.146183660390027),(26,109,-0.606555375835444),(26,112,1.23677785576952),(26,113,0.783272804956206),(26,117,-2.0963774529252),(27,85,1.07112338633381),(27,87,-1.39545884578997),(27,94,0.0953703421124912),(27,100,2.579149754326),(27,102,0.840250862147893),(27,103,2.33619190038759),(27,104,0.473677785576953),(27,105,-1.22457045197913),(27,108,-0.947141941587573),(27,110,-0.139103366191595),(27,114,1.88085573900571),(28,87,1.64954069643239),(28,88,-0.352107303079318),(28,97,-0.554902798547319),(28,99,0.549470503860591),(28,104,-0.697958311716056),(28,113,-0.334772789696951),(28,114,-0.905423139133885),(29,88,-1.36275826288644),(29,91,-2.05816827906125),(29,102,-0.160924100466933),(29,105,-1.00636310922575),(29,116,-0.563859981078524),(30,95,-2.01414532914212),(30,96,1.98457289345988),(30,99,1.89344462416456),(30,101,-1.73021637623218),(30,104,-2.1150090029603),(30,109,-1.10374767296365),(30,110,-1.09863582262642),(30,114,-1.53222754600665),(30,118,0.911160618915372),(31,85,1.63119907223731),(31,92,1.50769066438795),(31,94,-0.223334452345347),(31,96,1.54190191351054),(31,99,1.04312265388958),(31,103,-0.0586870937223426),(31,107,0.533387249366741),(31,108,2.54503006073183),(31,109,1.87508774071474),(31,111,2.42957853938414),(31,112,1.0087130344554),(31,117,0.519150364696188),(32,86,-2.47978148747215),(32,87,-1.20175786614582),(32,89,0.985946226386303),(32,92,-2.18799401837214),(32,98,-0.439039277321696),(32,99,0.0333567308572649),(32,104,-0.981673635059664),(32,106,1.65060884426405),(32,109,2.07969908749657),(32,116,-0.39646595660268),(32,118,0.266975920896023),(33,96,-0.232505264442885),(33,98,-1.18164616840114),(33,108,-1.10800500503555),(33,110,-1.50321970274972),(33,111,-1.85799737540819),(33,114,1.41523483993042),(34,85,-0.939146092104862),(34,90,1.68578142643513),(34,99,-2.38013855403302),(34,104,0.928312021240883),(34,109,-0.032197027497177),(35,86,1.17519150364696),(35,87,1.12053285317545),(35,97,0.338221381267739),(35,98,0.336313974425489),(35,100,0.783791619617298),(35,104,2.05020294808802),(35,107,-1.27787102877895),(35,109,-1.90116580706198),(35,110,-0.443449201940977),(35,112,0.993835261085849),(36,85,-0.671956541642506),(36,87,-1.58241523483993),(36,90,-0.779595324564348),(36,91,1.78518021179846),(36,104,-1.53469954527421),(36,107,-0.291131321146275),(36,109,0.723899044770653),(36,112,1.3533433027131),(36,115,2.51686147648549),(36,117,-1.39077425458541),(36,118,1.26653340250862),(37,85,1.06865138706626),(37,86,0.0860621967223121),(37,87,-0.451368755149998),(37,91,0.335856196783349),(37,99,0.553300576799829),(37,105,-1.21115756706442),(37,111,2.36558122501297),(37,112,0.970595416119877),(37,118,-2.16539506210517),(38,87,1.64668721579638),(38,90,1.05958738975188),(38,103,2.50430310983612),(38,105,2.63631092257454),(38,106,-0.506454664754173),(38,111,0.233130893887143),(38,115,-2.54889065218055),(39,87,1.44766075624866),(39,89,1.73406170842616),(39,91,-0.265053254799036),(39,94,0.429212317270424),(39,97,-0.160725730155339),(39,98,0.246208075197607),(39,107,1.64775536362804),(39,108,3.17549668874172),(39,109,2.78380687887204),(39,111,-0.442228461561937),(39,113,2.12697225867489),(39,116,-0.251258888515885),(39,118,-3.23499252296518),(40,88,0.281426435132908),(40,92,-0.368358409375286),(40,99,-1.7046418652913),(40,104,-1.48956266975921),(40,110,-1.83613086336863),(40,116,-1.20851771599475),(40,118,0.634250923184912),(41,88,-0.694296090578936),(41,93,0.935178685872982),(41,96,-1.05322428052614),(41,97,-2.38166447950682),(41,100,-0.0139622180852687),(41,101,-1.32613605151524),(41,104,0.867381817072054),(41,105,1.39584032715842),(41,106,0.651310769981994),(41,107,-2.04519791253395),(41,109,0.579378643147069),(41,110,-0.835428937650685),(41,111,1.29253517258217),(41,112,0.812097537156285),(42,85,-1.18156987212745),(42,86,-0.700964384899441),(42,87,1.31412701803644),(42,99,0.701544236579486),(42,100,-0.368694112979522),(42,103,-1.97904904324473),(42,109,0.524872585222938),(42,113,-2.69406720175787),(43,85,-0.113406781212806),(43,88,-0.463881344035157),(43,89,-1.7280953398236),(43,93,0.812128055665761),(43,97,-2.32804345835749),(43,98,1.65855891598254),(43,101,2.49652088991974),(43,102,0.257591479232154),(43,103,-2.33710745567187),(43,105,-1.15527817621387),(43,110,-2.04670857875301),(43,112,0.896877956480606),(43,114,-1.08568071535386),(43,116,-0.776390881069369),(44,89,-0.585039826654866),(44,98,2.33947264015625),(44,99,1.16673787652211),(45,87,-0.730826746421705),(45,88,0.277199621570483),(45,90,1.56979583117161),(45,91,2.59729300820948),(45,95,1.2982879116184),(45,98,-0.298196356089969),(45,108,1.44853053376873),(45,109,2.67491683706168),(45,112,1.44648579363384),(45,115,0.688406018250068),(46,85,-0.402752769554735),(46,89,2.92838831751457),(46,91,2.08815271462142),(46,94,0.230430005798517),(46,97,-0.915173802911466),(46,100,-1.41917172765282),(46,101,1.00628681295206),(46,108,0.480285042878506),(46,112,0.2654805139317),(47,86,-0.337687307351909),(47,91,-1.59041108432264),(47,92,1.94631794183172),(47,94,-0.560289315469832),(47,95,0.54879909665212),(47,100,-2.73955504013184),(47,101,0.716727195043794),(47,104,-0.660496841334269),(47,105,-1.34237189855647),(47,108,-1.9518112735374),(47,112,-2.11027863399152),(47,114,0.748771629993591),(47,118,-1.03199865718558),(48,86,-0.406399731437117),(48,91,-1.00175481429487),(48,98,-2.0242164372692),(48,99,1.19133579515976),(48,100,-1.08522293771172),(48,103,-2.24100466933195),(48,105,0.740745262001404),(48,106,-2.94346446119572),(48,111,-0.0663167210913419),(48,115,-1.14253669850764),(49,87,-0.122043519394513),(49,89,-0.86794640949736),(49,93,0.367976928006836),(49,94,0.180211798455763),(49,95,1.86390270699179),(49,102,0.00383007293923765),(49,113,2.18427076021607),(49,114,-0.61322367015595),(50,89,0.41575365459151),(50,105,-0.378566850795007),(50,107,-1.41572313608203),(51,87,-1.09608752708518),(51,92,1.31923886837367),(51,97,1.44569231238746),(51,98,-0.15095980712302),(51,103,-1.04136783959471),(51,106,0.621860408337657),(51,112,2.01231421857356),(51,118,-1.87162388988922),(52,89,0.451948606830042),(52,97,0.0993072298348949),(52,106,1.14459669789727),(52,110,-0.43816949980163),(52,111,-1.22386852626118),(52,113,0.73406170842616),(52,114,-0.263222144230476),(52,118,0.661763359477523),(53,88,-1.28495132297739),(53,90,-1.37287514877773),(53,92,-0.607638782921842),(53,94,2.42263557847835),(53,104,-0.791909543137913),(53,105,1.26985992004151),(53,109,-2.04239020966216),(54,85,-2.02081362346263),(54,91,0.769600512710959),(54,94,-0.382549516281625),(54,96,-1.40079958494827),(54,111,0.995361186559648),(54,112,-0.579302346873379),(54,113,2.02787865840632),(54,118,0.00144962920010987),(55,87,1.2682119205298),(55,95,0.283822138126774),(55,107,-1.53202917569506),(55,110,-1.79410687582019),(55,117,0.569933164464248),(56,107,-2.0998718222602),(56,111,0.0752281258583331),(56,113,-1.67104098635823),(56,114,-1.46174504837184),(57,87,-1.5138554033021),(57,90,2.41042817468795),(57,91,0.283288064210944),(57,92,-1.31768242439039),(57,93,1.60513626514481),(57,94,1.87914670247505),(57,95,1.65767387920774),(57,96,-0.820062868129521),(57,100,1.09668263801996),(57,102,1.6407513657033),(57,103,0.594500564592425),(57,115,-0.925397503585925),(58,86,1.10736411633656),(58,87,-1.74044007690664),(58,89,1.54013183996094),(58,90,0.162053285317545),(58,95,-3.00852992339854),(58,96,2.593768120365),(58,101,1.31360820337535),(58,103,3.40069277016511),(58,109,-2.09936826685385),(58,110,1.01054414502396),(58,113,-0.225409710989715),(58,114,-0.0817896053956725),(58,115,1.74527726065859),(59,85,0.06526383251442),(59,86,-1.71277504806665),(59,90,-2.18634601886044),(59,91,1.10904263435774),(59,93,-2.22296823023164),(59,97,0.657887508774071),(59,98,-1.86220892971587),(59,100,1.57472457045198),(59,102,2.23780022583697),(59,112,1.24744407483139),(59,114,2.42065187536241),(60,85,-0.824686422315134),(60,87,0.438032166508988),(60,90,-0.939893795587023),(60,91,1.41880550553911),(60,96,-0.908459730826746),(60,100,-0.726187932981353),(60,101,2.26783043916135),(60,105,0.251091036713767),(60,107,-0.0350505081331828),(60,109,-0.860271004364147),(60,110,-2.08783227027192),(60,114,-1.66905728324229),(61,89,-1.30118717001862),(61,94,-1.89910580767235),(61,96,2.14185003204443),(61,98,0.562990203558458),(61,100,-0.831171605578783),(61,102,0.587633899960326),(61,103,-0.470137638477737),(61,114,1.59697256385998),(61,115,-0.054780724509415),(62,93,2.10066530350658),(62,95,0.0127414777062288),(62,107,0.0563066499832148),(62,109,-0.844111453596606),(62,110,-0.144962920010987),(62,111,0.0705893124179815),(63,87,2.31345561082797),(63,90,0.728736228522599),(63,93,-0.668584246345408),(63,97,2.45551927243873),(63,100,-1.11052278206732),(63,103,-1.6631214331492),(63,104,-0.819757683034761),(63,108,1.07470931119724),(63,111,-1.70180364391003),(63,114,-0.409222693563646),(63,117,0.629932554094058),(64,87,2.2384563737907),(64,94,-0.949949644459365),(64,99,-0.292611468855861),(64,110,-0.949903866695151),(64,112,1.9388409070101),(64,116,1.67467268898587),(65,87,0.6939603869747),(65,88,-0.82723471785638),(65,90,-1.38752403332621),(65,97,-1.7526322214423),(65,99,0.615192114017151),(65,107,-0.458494827112644),(65,110,-3.10702841273232),(65,111,-1.57170323801386),(65,114,-2.57002471999268),(65,116,-1.86461989196448),(65,117,0.75914792321543),(66,85,-2.12858973967711),(66,102,-1.563249610889),(66,105,2.47325052644429),(66,108,-0.394054994354076),(66,111,0.635578478347118),(66,115,2.95554979094821),(66,118,0.212622455519272),(67,86,0.311105685598315),(67,90,-0.599780266731773),(67,92,2.00675984984893),(67,104,0.82311471907712),(67,109,-1.8074434644612),(67,111,2.55792413098544),(68,87,1.51448103274636),(68,88,0.533478804895169),(68,90,2.43263039033174),(68,93,-1.83021027253029),(68,95,0.651051362651448),(68,96,0.277169103061007),(68,97,0.333368938261055),(68,103,2.49565111239967),(68,107,-1.44283883175146),(68,112,-0.897244178594317),(68,114,-0.912564470351268),(69,87,2.09595019379254),(69,88,-0.910000915555284),(69,92,-0.737556077761162),(69,94,-3.00932340464492),(69,95,-0.605868709372234),(69,97,-1.55684072389904),(69,108,-2.01010162663656),(69,113,0.0455183568834497),(69,114,0.905514694662313),(69,118,3.02475051118503),(70,85,1.38198492385632),(70,86,2.33016449476608),(70,87,-1.78533280434584),(70,90,0.739188818018128),(70,96,-1.71796319467757),(70,97,-1.1134830774865),(70,99,2.42185735648671),(70,105,0.50595110934782),(70,107,-1.53517258217109),(70,109,0.234000671407208),(70,110,0.120700704977569),(70,111,-1.92448194830164),(71,85,-0.721518601031526),(71,93,1.26699118015076),(71,96,2.28591265602588),(71,100,-0.0679342020935697),(71,104,2.92954802087466),(71,106,-0.208441419721061),(71,111,-0.210882900479141),(71,113,1.26094851527451),(72,94,2.40198980681784),(72,96,0.0884426404614398),(72,99,-2.22136600848415),(72,110,-1.76183355204932),(72,112,-0.966475417340617),(72,114,1.55769524216437),(72,115,-0.472045045319987),(72,116,0.379406109805597),(73,88,0.847773674733726),(73,94,2.43856624042482),(73,99,0.766853846858119),(73,100,0.543321024201178),(73,106,0.0840784936063723),(73,110,2.51266518143254),(73,115,-1.71202734458449),(74,90,-1.99063081759087),(74,94,-0.812433240760521),(74,99,-1.53767509994812),(74,102,-0.12770470290231),(74,106,2.16316721091342),(74,107,-2.6419568468276),(74,110,0.397824030274361),(74,113,-0.740348521378216),(74,116,-0.486297189245277),(75,85,-1.17819757683035),(75,86,1.05883968626972),(75,93,-1.47943052461318),(75,98,-1.5022888882107),(75,103,-0.91674550614948),(75,105,0.606067079683828),(75,111,-2.47505111850337),(75,117,-3.20453505050813),(76,86,-2.14514603106784),(76,89,-0.751945554979095),(76,92,-2.53872798852504),(76,94,-1.19022186956389),(76,99,-0.273171178319651),(76,101,-2.40981780449843),(76,103,-0.800424207281716),(76,106,0.940122684408094),(76,110,-0.633472701193274),(76,113,-2.27744376964629),(77,88,-0.644367809076205),(77,91,-0.986312448500015),(77,93,0.32204657124546),(77,98,1.32592242194891),(77,101,-0.831965086825159),(77,102,-1.71216467787713),(77,103,-0.0679799798577838),(77,104,-1.80074465163121),(77,105,0.898785363322855),(77,109,-0.513519699697867),(78,88,-0.153798028504288),(78,93,-1.23194067201758),(78,94,0.0901821955015717),(78,101,1.06588946195868),(78,104,2.45297097689749),(78,110,-1.34018982512894),(78,114,2.04451124607074),(78,116,0.911816766869106),(78,117,-1.86835840937529),(78,118,-0.158253730887783),(79,87,1.25225074007385),(79,92,0.0235755485702078),(79,94,0.839686269722587),(79,107,-0.170079653309732),(79,108,1.77434614093448),(79,114,-1.3151951658681),(79,118,0.889934995574816),(80,87,0.426175725577563),(80,88,-3.39877010406812),(80,91,-0.651326029236732),(80,99,1.70021668141728),(80,101,-0.0146946623126927),(80,107,1.38605914487136),(80,113,-1.36532181768242),(81,85,1.69202246162297),(81,86,-2.47247230445265),(81,90,-1.71408734397412),(81,93,-2.77086703085421),(81,96,1.96774193548387),(81,97,-2.25678273873104),(81,106,0.897595141453291),(81,107,1.08760338145085),(81,110,-1.43118076113163),(81,115,0.399166844691305),(82,86,-2.40829187902463),(82,92,-0.445631275368511),(82,110,-2.62251655629139),(82,112,0.119052705465865),(83,87,1.23378704184088),(83,91,2.09610278633992),(83,93,0.934522537919248),(83,101,-0.454908902249214),(83,103,-2.17238380077517),(83,105,-0.737296670430616),(83,108,1.34629352702414),(84,85,0.758125553147984),(84,86,1.38621173741874),(84,89,-0.215369121372112),(84,95,1.55815301980651),(84,99,0.511413922544023),(84,104,0.336771752067629),(84,111,0.439985351115452),(84,113,-0.456450086977752),(84,114,2.83083590197455),(10,119,-2.46513260292367),(119,109,-1.21190527054659),(58,120,1.28786584063234),(120,118,0.300378429517502),(95,104,-2.47338785973693)]
orgname='BHNEAT_9_8'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()