edge = [(0,85,2.01890621662038),(0,89,0.28370006408887),(0,90,-0.953169347209082),(0,93,-3.23174993133335),(0,98,1.4990157780694),(0,101,-2.50773644215217),(0,105,-1.1938612018189),(0,108,-1.27269814142277),(0,113,3.43588061159093),(0,114,-0.618976409192175),(0,117,-1.62770470290231),(0,118,0.918553727835933),(1,86,-0.437131870479446),(1,92,1.37990203558458),(1,98,1.27883999145482),(1,102,-2.52217169713431),(1,104,-2.86924344615009),(1,107,0.0938978240302744),(1,108,-1.94219794305246),(1,109,-0.730323191015351),(1,113,1.37553788872951),(2,87,1.98510696737571),(2,88,1.01466414380322),(2,100,-2.55641346476638),(2,106,-1.84006775109104),(2,108,-0.0679342020935698),(2,110,-2.39754936368908),(2,113,0.893612475966674),(2,118,-0.696005127109592),(3,89,0.0394528031250952),(3,92,-0.521774956511124),(3,97,-1.93037202063051),(3,99,0.460776085695975),(3,101,-2.29872280037843),(3,103,2.36977752006592),(3,105,-0.0611590929898982),(3,108,0.692365794854579),(3,109,0.294778283028657),(3,111,1.5391552476577),(3,112,0.336146122623371),(3,116,-1.43987090670492),(4,90,0.538819544053468),(4,91,-2.50933866389965),(4,97,-2.63662373729667),(4,99,-2.43609424115726),(4,101,0.288483840449232),(4,108,2.2091204565569),(4,113,-0.0852916043580429),(4,118,-1.5640125736259),(5,86,0.416249580370495),(5,87,0.743171483504746),(5,89,1.72875148777734),(5,92,2.03968932157353),(5,93,1.78863643299661),(5,99,2.5237739188818),(5,104,0.977866451002533),(5,114,0.301103244117557),(5,118,-0.384426404614399),(6,89,-3.14957121494186),(6,92,-1.32557145908994),(6,94,-0.112956633198035),(6,100,-1.84512619403668),(6,101,-1.70657216101566),(6,103,-2.37526322214423),(6,107,2.8688467055269),(6,110,0.0501190221869564),(6,113,-1.60938596758934),(7,85,0.362369151890622),(7,86,2.67310098574786),(7,90,0.45776238288522),(7,95,0.332369457075717),(7,99,0.671071504867702),(7,100,3.05893124179815),(7,104,-2.64929654835658),(7,106,-0.912732322153386),(7,108,2.45870845667898),(7,112,0.800744651631214),(7,116,-0.880916776024659),(8,92,-0.514915921506394),(8,93,-1.70390942106388),(8,95,1.58738975188452),(8,99,-1.59476760155034),(8,106,-0.269157994323557),(8,107,0.197561571092868),(8,115,-1.76037629322184),(8,116,2.7240363780633),(8,118,-0.875957518234809),(9,85,1.26131473738823),(9,87,1.99214148380993),(9,98,-1.26082644123661),(9,101,-1.40750602740562),(9,103,-1.39168218024232),(9,105,-2.92698446607868),(9,106,2.59724723044527),(9,113,2.22596667378765),(10,89,-1.63650929288614),(10,96,0.199636829737236),(10,106,1.66208380382702),(10,108,1.69712668233283),(10,111,0.723357341227455),(10,112,1.26079592272713),(10,114,0.897228919339579),(10,115,-0.5311822870571),(10,116,1.09721671193579),(10,117,2.10958433790094),(11,89,-1.95854823450423),(11,97,0.431737723929563),(11,105,-0.544404431287576),(11,112,-0.720061342204047),(11,115,1.65807061983093),(12,92,0.875926999725333),(12,93,-0.31450086977752),(12,94,1.60012359996338),(12,97,-2.63962981048006),(12,98,0.421628467665639),(12,99,-0.478240302743614),(12,108,1.43068483535264),(12,116,-1.58816797387616),(13,86,-0.578318124942778),(13,87,1.37343211157567),(13,90,1.53747672963652),(13,99,-0.285485396893216),(13,102,2.35866115298929),(13,104,-3.57935575426496),(13,113,-0.985038300729393),(13,116,-0.919362468337046),(13,118,2.92111728263192),(14,90,0.34621723075045),(14,93,-1.3080080568865),(14,95,-1.18316446424757),(14,102,2.48234504226814),(14,104,-1.28955961790826),(14,106,0.95982238227485),(14,109,0.108066042054506),(14,110,-1.40203558458205),(14,111,-0.929204687643056),(15,85,-0.483077486495559),(15,92,-0.17352824488052),(15,99,-0.200170903653066),(15,101,-3.3916364024781),(15,104,-3.47830133976257),(15,108,-1.31730094302194),(15,117,2.88131351664785),(16,86,1.12132633442183),(16,87,-0.31587420270394),(16,88,0.911832026123844),(16,90,2.18810846278268),(16,91,0.0897625659962769),(16,95,-1.80010376293222),(16,97,0.22636341441084),(16,98,-1.76564073610645),(16,99,-0.310769981994079),(16,101,0.739432966093936),(16,108,2.66798913541063),(16,110,1.09616382335887),(17,89,-1.0355388042848),(17,96,-1.71221045564135),(17,99,1.0543916135136),(17,101,-0.529328287606433),(17,106,-1.37032685323649),(17,107,-0.285416730246895),(17,109,-1.35615100558489),(18,90,-1.49005859553819),(18,91,0.697080904568621),(18,93,2.66667683950316),(18,99,-1.41476180303354),(18,102,-2.26419873653371),(18,103,1.56498153630177),(18,104,0.617084261604663),(18,110,1.78930784020508),(18,111,-0.350024414807581),(18,116,-0.97018341624195),(18,117,1.56693472090823),(18,118,-1.51140629291665),(19,87,1.18802453688162),(19,89,2.50033570360424),(19,93,-2.22025971251564),(19,95,0.183111056855983),(19,101,1.68681905575732),(19,105,1.21732993560595),(19,115,-2.61422315134129),(20,88,-0.552865688039796),(20,101,0.894772179326762),(20,103,1.33307138279366),(20,104,-1.39569536423841),(20,105,1.51162755211036),(20,106,-1.25353251747185),(20,111,-0.0699255348368786),(20,116,0.197523422956023),(21,86,0.767464217047639),(21,87,0.722815637684255),(21,94,1.50262459181494),(21,96,-0.958319345683157),(21,101,-1.01837214270455),(21,102,0.262329477828303),(21,105,-2.15474410229804),(21,107,3.05246894741661),(21,108,-0.0534760582293161),(22,86,-3.61767174291208),(22,88,-2.62442396313364),(22,91,-1.87981048005615),(22,92,1.18506424146245),(22,93,0.989570299386578),(22,98,2.59976500747703),(22,106,-0.82395397808771),(22,115,0.954489272743919),(22,117,1.67233802301096),(23,85,-1.02624591814936),(23,86,-0.7530518509476),(23,88,-2.35840174565874),(23,90,-1.0827661976989),(23,97,0.617709891048921),(23,104,1.51477095858638),(23,112,-3.24419385357219),(23,114,2.29268013550218),(23,115,-1.71354564043092),(23,116,2.51272621845149),(24,89,-2.09689626758629),(24,90,-0.348261970885342),(24,91,1.88648640400403),(24,101,-0.0265663624988555),(24,107,1.57277901547288),(24,108,-1.81444746238594),(24,110,-2.20783104953154),(24,112,-2.25603503524888),(25,90,2.7750785851619),(25,92,2.77748191778314),(25,94,3.15014343699454),(25,98,0.357745597705008),(25,105,-1.00204474013489),(25,108,-0.674497207556383),(25,109,-1.31655323953978),(25,115,2.75855281228065),(26,85,2.30981627857295),(26,87,-2.53378398998993),(26,89,-0.603122043519394),(26,95,0.0681554612872708),(26,98,0.805131687368389),(26,100,0.769600512710959),(26,101,-0.509613330484939),(26,102,-2.26108584856716),(26,103,-1.66531113620411),(26,104,1.15206610309153),(26,107,-0.0269020661030914),(26,109,2.30854213080233),(26,112,-1.00835444196905),(26,113,-1.15385143589587),(26,117,-2.78121280556658),(27,85,1.50498214667196),(27,87,-0.71774956511124),(27,94,-0.911389507736442),(27,100,-0.0230109561449017),(27,102,-1.10145115512558),(27,103,3.52771080660421),(27,104,-0.48055970946379),(27,105,1.7787942136906),(27,108,0.879238258003479),(27,110,-1.23319193090609),(27,114,-1.58761864070559),(28,87,-0.642818994720298),(28,88,-0.0307702871791742),(28,97,2.03775902584918),(28,99,0.265533921323283),(28,104,-2.13795892208625),(28,113,-2.55411694692831),(28,114,-2.38763084810938),(29,88,1.06350138859218),(29,91,-0.581591235084079),(29,102,-2.24526200140385),(29,105,-2.92883846552934),(29,116,1.66025269325846),(30,95,0.902607806634724),(30,96,1.30580309457686),(30,99,1.73756370738853),(30,101,-2.79958494827113),(30,104,-1.88142796105838),(30,109,-0.191511276589251),(30,110,-0.355433820612201),(30,114,-1.88979003265481),(30,118,1.48757896664327),(31,85,-0.703505050813318),(31,92,0.736388744773705),(31,94,-0.349070711386456),(31,96,2.69988860744041),(31,99,2.05046235541856),(31,103,1.89716788232063),(31,107,-0.573023163548692),(31,108,1.58682515945921),(31,109,-0.174306466872158),(31,111,1.57821893978698),(31,112,1.1218985564745),(31,117,1.69495223853267),(32,86,-3.55258339182714),(32,87,1.0983458967864),(32,89,-1.35371715445418),(32,92,-1.78766747032075),(32,98,1.89677114169744),(32,99,-0.321268349253822),(32,104,-0.937307351908933),(32,106,1.09253975035859),(32,109,0.0456022827845088),(32,116,-1.75736259041108),(32,118,-0.0987884151738029),(33,96,1.47031311990722),(33,98,0.61162144840846),(33,108,0.59454634235664),(33,110,-0.865001373332926),(33,111,-2.86671040986358),(33,114,1.57103183080538),(34,85,-0.397595141453292),(34,90,-1.124286629841),(34,99,-0.53964354380932),(34,104,-1.92272713400678),(34,109,-0.154438917203284),(35,86,2.33844264046144),(35,87,2.89407788323618),(35,97,2.21453749198889),(35,98,2.52449110385449),(35,100,1.74505600146489),(35,104,3.84835352641377),(35,107,-2.35929441206091),(35,109,-3.32573168126469),(35,110,-1.41092410046693),(35,112,-0.0933103427228614),(36,85,0.34682760093997),(36,87,0.212759788811914),(36,90,-0.661641285439619),(36,91,3.6299478133488),(36,104,-1.97008423108615),(36,107,-0.978293710135197),(36,109,-0.499282815027314),(36,112,-0.901165807061983),(36,115,1.13399151585437),(36,117,-2.65244758445998),(36,118,-0.657773064363536),(37,85,-1.2208853419599),(37,86,0.857570116275521),(37,87,-1.7543565172277),(37,91,2.02658162175359),(37,99,0.425305948057497),(37,105,-2.53810235908078),(37,111,3.18927579577013),(37,112,-1.52791680654317),(37,118,-2.5147175511948),(38,87,1.84231086153752),(38,90,1.50031281472213),(38,103,2.79205450605792),(38,105,3.34510330515458),(38,106,-1.22394482253487),(38,111,-1.75209814752647),(38,115,0.90713980529191),(39,87,-1.22305215613269),(39,89,2.25180822168645),(39,91,-0.21477401043733),(39,94,-0.191457869197668),(39,97,-0.333117160557878),(39,98,-1.91750083925901),(39,107,1.16151921140171),(39,108,1.25157170323801),(39,109,1.05912961210974),(39,111,0.897495956297494),(39,113,-0.354678487502671),(39,116,-1.16978972746971),(39,118,-4.40415662099063),(40,88,-1.9794991912595),(40,92,-1.04319895016327),(40,99,-1.55960264900662),(40,104,-2.98157444990387),(40,110,0.115489669484542),(40,116,-1.43164616840114),(40,118,-0.564401684621723),(41,88,1.26850184636982),(41,93,-0.683370464186529),(41,96,1.54519791253395),(41,97,-0.53765984069338),(41,100,2.52796258430738),(41,101,0.448706015198218),(41,104,1.0816599017304),(41,105,-1.17962431714835),(41,106,1.8540070802942),(41,107,-2.87469100009156),(41,109,2.41510513626515),(41,110,-1.51526688436537),(41,111,-0.504936368907743),(41,112,2.0015259254738),(42,85,-2.59705648976104),(42,86,-2.26355021820734),(42,87,0.362086855677969),(42,99,-1.07436597796564),(42,100,1.77027191991943),(42,103,0.477423932615131),(42,109,1.5411008026368),(42,113,-2.25296029541917),(43,85,2.2195806756798),(43,88,-0.526978362376782),(43,89,-2.02309488204596),(43,93,3.17502365184484),(43,97,-0.646855067598499),(43,98,-0.484374523148289),(43,101,3.8352534562212),(43,102,0.0510193182164983),(43,103,-0.32624286629841),(43,105,-2.47192297128208),(43,110,-3.34530930509354),(43,112,2.73661000396741),(43,114,-1.93565935239723),(43,116,0.939054536576434),(44,89,-0.209356975005341),(44,98,-0.190931424909207),(44,99,2.31534012878811),(45,87,-1.15991698965423),(45,88,0.258888515884884),(45,90,1.48534348582415),(45,91,0.541375469222083),(45,95,-0.474303415021211),(45,98,-1.49009674367504),(45,108,1.36422315134129),(45,109,2.33402508621479),(45,112,0.0929136020996737),(45,115,-2.4865871150853),(46,85,-1.47868282113102),(46,89,2.42525254066591),(46,91,0.612712485122227),(46,94,1.1839426862392),(46,97,1.08462019714957),(46,100,0.397824030274361),(46,101,-2.00474562822352),(46,108,-2.03730124820704),(46,112,-1.37153233436079),(47,86,0.656773583178198),(47,91,1.85650196844386),(47,92,2.26168095950194),(47,94,-1.85763115329447),(47,95,2.30548265022736),(47,100,-2.8847468489639),(47,101,0.357448042237617),(47,104,1.49849696340831),(47,105,-0.705107272560808),(47,108,-1.59619434186834),(47,112,-1.9943159276101),(47,114,-1.28002258369701),(47,118,0.18778801843318),(48,86,1.73504593035676),(48,91,-0.18397320474868),(48,98,1.11759544663839),(48,99,-1.4740363780633),(48,100,-0.0707495345927305),(48,103,-3.50325022125919),(48,105,1.61197241126743),(48,106,-2.07296212652974),(48,111,0.295403912472915),(48,115,-0.776047547837764),(49,87,-2.36004211554308),(49,89,-1.34328745384075),(49,93,0.380588702047792),(49,94,-0.065004425183874),(49,95,1.04039887691885),(49,102,2.91113773003327),(49,113,-0.883831293679616),(49,114,0.31724753563036),(50,89,2.01133762627033),(50,105,-1.69814905240028),(50,107,-1.28189947202979),(51,87,-0.478431043427839),(51,92,-1.48261207922605),(51,97,-0.69937742240669),(51,98,-2.81228827784051),(51,103,1.11538285470138),(51,106,0.180372020630512),(51,112,3.25483718375195),(51,118,-1.80323953978088),(52,89,0.943144016846217),(52,97,0.442869350260933),(52,106,0.0818659016693625),(52,110,1.01012451551866),(52,111,-2.12273781548509),(52,113,0.344416638691366),(52,114,-2.59990234076968),(52,118,-0.704550309762871),(53,88,-2.73335978270821),(53,90,-1.74237800225837),(53,92,-0.299058503982666),(53,94,1.09908597064119),(53,104,-2.4079790643025),(53,105,2.57288583025605),(53,109,-1.21366008484146),(54,85,-0.164448988311411),(54,91,3.10544907986694),(54,94,1.20505386516923),(54,96,1.54637287514878),(54,111,0.485702078310495),(54,112,1.46971037934507),(54,113,-0.130031739249855),(54,118,-0.465018158513138),(55,87,0.281052583391827),(55,95,-2.10783715323344),(55,107,-1.17038483840449),(55,110,-2.99733726004822),(55,117,0.749961851863155),(56,107,-1.08921323282571),(56,111,1.2433545945616),(56,113,-2.67828913235878),(56,114,-0.514374217963195),(57,87,1.21514786217841),(57,90,3.97074037903989),(57,91,-0.259674367503891),(57,92,-1.51326792199469),(57,93,-1.0796914578692),(57,94,2.18227179784539),(57,95,0.0593432416760765),(57,96,0.425778984954375),(57,100,-1.11635181737724),(57,102,0.424321726126896),(57,103,0.0101474044007691),(57,115,0.884922330393384),(58,86,0.0346079897457809),(58,87,-1.61317789239174),(58,89,0.659939878536332),(58,90,1.0780663472396),(58,95,-2.58138523514512),(58,96,1.08447523422956),(58,101,0.0361796929837946),(58,103,-0.133236182744835),(58,109,-2.10493789483322),(58,110,3.25878933072909),(58,113,1.18111209448531),(58,114,2.02200384533219),(58,115,1.5794930875576),(59,85,-0.0276268807031465),(59,86,1.22489852595599),(59,90,-2.05159154026917),(59,91,-1.33075960570086),(59,93,-0.0832544938505203),(59,97,1.55459761345256),(59,98,1.18681905575732),(59,100,-0.568590350047304),(59,102,-1.24008911404767),(59,112,-0.732520523697623),(59,114,-1.33394116031373),(60,85,-0.812379833368938),(60,87,-0.432889797662282),(60,90,1.40825373088778),(60,91,-0.044404431287576),(60,96,-1.03722495193335),(60,100,0.727393414105655),(60,101,2.28473769341105),(60,105,-0.92871639149144),(60,107,1.96036408581805),(60,109,-2.19991912594989),(60,110,-0.981994079409162),(60,114,-2.49035615100559),(61,89,-0.399288918729209),(61,94,-2.43447676015503),(61,96,0.826807458723716),(61,98,-0.423100985747856),(61,100,0.98498489333781),(61,102,1.77884762108219),(61,103,1.23599963377789),(61,114,2.58577227088229),(61,115,0.0466933194982757),(62,93,1.23960844752342),(62,95,-0.871494186223945),(62,107,-1.76595355082858),(62,109,-2.34852137821589),(62,110,2.1553697317423),(62,111,-1.41009247108371),(63,87,1.74353770561846),(63,90,-0.234618671224098),(63,93,-2.26649525437178),(63,97,2.36939603869747),(63,100,-1.64669484542375),(63,103,-3.34289834284494),(63,104,-1.19627979369488),(63,108,-1.73136082033753),(63,111,-1.93870357371746),(63,114,-0.724097415082247),(63,117,-0.955351420636616),(64,87,0.205656605731376),(64,94,-0.246116519669179),(64,99,0.312570574053163),(64,110,-1.37559892574847),(64,112,2.45832697531053),(64,116,-0.120426038392285),(65,87,-0.910245063631092),(65,88,0.0610827967162084),(65,90,-1.5172276985992),(65,97,-2.47901089510788),(65,99,1.07808160649434),(65,107,-1.78837702566607),(65,110,-0.034501174962615),(65,111,-3.07475508896146),(65,114,-1.15015106662191),(65,116,-1.83379619739372),(65,117,3.00279244361705),(66,85,1.03292184209723),(66,102,0.478286080507828),(66,105,-0.466750083925901),(66,108,-1.54170354319895),(66,111,0.418820764793847),(66,115,2.62614062929167),(66,118,2.06402783288064),(67,86,2.40467543565172),(67,90,2.01725821710868),(67,92,1.93248542741173),(67,104,2.25801873836482),(67,109,-1.86645863216041),(67,111,0.267395550401319),(68,87,0.317133091219825),(68,88,0.646435438093203),(68,90,1.7521897030549),(68,93,1.02712332529679),(68,95,2.18552201910459),(68,96,-0.262840662862026),(68,97,1.85628833887753),(68,103,1.05082857753227),(68,107,0.0769829401532029),(68,112,2.39104892117069),(68,114,-1.28872035889767),(69,87,1.42942594683676),(69,88,-2.0726035340434),(69,92,-0.945196386608478),(69,94,-1.64479506820887),(69,95,0.147595141453292),(69,97,-0.0705130161442914),(69,108,0.533082064271981),(69,113,-0.418858912930692),(69,114,0.905514694662313),(69,118,1.85856196783349),(70,85,0.264282662434767),(70,86,-0.449995422223579),(70,87,-0.123447370830409),(70,90,0.739188818018128),(70,96,0.43206579790643),(70,97,-0.67947172460097),(70,99,3.50923184911649),(70,105,-2.51412244026002),(70,107,1.86292611468856),(70,109,2.06602679525132),(70,110,0.0732444227423933),(70,111,-1.09929960020753),(71,85,-0.292733542893765),(71,93,2.8636051515244),(71,96,0.727263710440382),(71,100,-0.0999786370433668),(71,104,1.92579424420911),(71,106,-0.728507339701529),(71,111,-1.91360209967345),(71,113,0.716154972991119),(72,94,0.757042146061586),(72,96,-0.206900234992523),(72,99,-0.727416302987762),(72,110,-0.973235267189551),(72,112,-2.25280007324442),(72,114,-2.02223273415326),(72,115,0.780701620532853),(72,116,0.0606555375835444),(73,88,0.0157628101443527),(73,94,-0.207808160649434),(73,99,-0.405552842799158),(73,100,0.635013885921812),(73,106,2.44720297860653),(73,110,-0.873706778160954),(73,115,0.450819421979431),(74,90,-0.866405224768822),(74,94,-1.19643238624226),(74,99,-0.483565782647176),(74,102,1.76539658803064),(74,106,-0.649609363078707),(74,107,-1.4785149693289),(74,110,0.57334360789819),(74,113,1.55639820551164),(74,116,-0.40126499221778),(75,85,2.08326975310526),(75,86,0.954695272682882),(75,93,-3.03614154484695),(75,98,-0.450659199804681),(75,103,-0.866084780419324),(75,105,1.59695730460524),(75,111,1.07599108859523),(75,117,-2.42126224555193),(76,86,-2.8600115970336),(76,89,-0.15004425183874),(76,92,-1.6260338145085),(76,94,-2.07411420026246),(76,99,-0.164906765953551),(76,101,-1.42529068880276),(76,103,0.0256126590777307),(76,106,0.515793328653829),(76,110,0.140705587939085),(76,113,-1.06318857387005),(77,88,-1.36005737479781),(77,91,-0.45044557023835),(77,93,0.426152836695456),(77,98,0.31686605426191),(77,101,1.03419598986785),(77,102,-0.752563554795984),(77,103,1.60359508041627),(77,104,-2.2911008026368),(77,105,-1.17633594775231),(77,109,0.00975829340495007),(78,88,-0.344119083223975),(78,93,0.807611316263314),(78,94,0.3060396130253),(78,101,0.425351725821711),(78,104,3.27128666035951),(78,110,-0.947874385814997),(78,114,-0.827738273262734),(78,116,0.113490707113865),(78,117,-1.41565446943571),(78,118,0.852710043641469),(79,87,0.966498306222724),(79,92,-1.73425244911039),(79,94,0.538926358836634),(79,107,0.641102328562273),(79,108,-1.10045167394024),(79,114,1.03955198828089),(79,118,1.46387371440779),(80,87,0.50678273873104),(80,88,-2.95186468092898),(80,91,-0.509643848994415),(80,99,1.59271523178808),(80,101,2.24684133426923),(80,107,1.1387829218421),(80,113,2.41752372814112),(81,85,0.641766106143376),(81,86,-1.464560380871),(81,90,-1.13793603320414),(81,93,-1.52357554857021),(81,96,0.828333384197516),(81,97,-1.51884517960143),(81,106,0.699034089175085),(81,107,0.611583300271615),(81,110,-0.25251777703177),(81,115,1.96493423261208),(82,86,-0.739921262245552),(82,92,-0.445631275368511),(82,110,-1.73747978148747),(82,112,1.62338633381146),(83,87,0.0995284890285959),(83,91,0.427182836390271),(83,93,0.493644520401624),(83,101,-1.21840571306497),(83,103,-0.37961210974456),(83,105,-0.0380413220618305),(83,108,-1.22310556352428),(84,85,0.506385998107852),(84,86,1.62738425855281),(84,89,-0.221854304635762),(84,95,2.29132969145787),(84,99,1.47049623096408),(84,104,0.336771752067629),(84,111,1.37919248023927),(84,113,1.96622363963744),(84,114,2.55143894772179),(10,119,-2.72183904538102),(119,109,-1.79883724478896),(58,120,1.27544480727561),(120,118,-1.18049409466842),(95,104,-1.59403515732292)]
orgname='BHNEAT_9_9'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()