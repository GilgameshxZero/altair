edge = [(0,85,-1.03408917508469),(0,89,-1.44971312601093),(0,90,2.05969420453505),(0,93,1.18610187078463),(0,98,-2.83636738181707),(0,101,0.880916776024659),(0,105,2.17459639271218),(0,108,-1.82020020142216),(0,113,1.40433973204749),(0,114,2.68883327738273),(0,117,1.31511886959441),(0,118,-0.420010986663411),(1,86,-2.59978789635914),(1,92,0.891911069063387),(1,98,1.65082247383038),(1,102,-0.575045014801477),(1,104,-0.499443037202063),(1,107,2.00575273903623),(1,108,-1.53424176763207),(1,109,0.581987975707266),(1,113,0.729079561754204),(2,87,-1.50544755394147),(2,88,2.07060457167272),(2,100,2.88384655293435),(2,106,-2.30814539017914),(2,108,-3.17979216895047),(2,110,-3.70564897610401),(2,113,-1.44718771935179),(2,118,5.18898586993011),(3,89,4.61265144810327),(3,92,-2.53839991454817),(3,97,-2.10379345072787),(3,99,0.966521195104831),(3,101,-0.575533310953093),(3,103,-0.648197882015443),(3,105,5.08857234412671),(3,108,-1.18305001983703),(3,109,-6.16533402508621),(3,111,0.82746360667745),(3,112,0.384838404492325),(3,116,-2.64493240150151),(4,90,1.98703726310007),(4,91,1.23859370708335),(4,97,1.35468611713004),(4,99,0.912739951780755),(4,101,0.22080141605884),(4,108,0.207525864436781),(4,113,-0.927915280617695),(4,118,-0.0898159733878603),(5,86,3.22681356242561),(5,87,-1.78704184087649),(5,89,-1.73483230079043),(5,92,-1.25077822199164),(5,93,-0.395992919705802),(5,99,3.20963164159062),(5,104,3.55412457655568),(5,114,3.15771202734458),(5,118,-3.77655873287149),(6,89,-0.568483535264138),(6,92,-8),(6,94,2.46009704886013),(6,100,0.362620929593799),(6,101,-3.68104342783898),(6,103,0.920812097537156),(6,107,-0.413953062532426),(6,110,0.272675252540666),(6,113,-3.17403180028687),(7,85,4.76535081026643),(7,86,-3.43952757347331),(7,90,2.44125186925871),(7,95,-0.129093295083468),(7,99,3.21822260200812),(7,100,0.698133793145543),(7,104,-1.40865810113834),(7,106,0.87488937040315),(7,108,0.907086397900327),(7,112,-2.85213019196142),(7,116,-3.57177190466018),(8,92,1.67340617084262),(8,93,2.06241798150578),(8,95,1.96340830713828),(8,99,-2.26638080996124),(8,106,-5.48020874660482),(8,107,-0.796914578691977),(8,115,0.912656025879696),(8,116,-1.11351359599597),(8,118,0.969496749778741),(9,85,0.522766808069094),(9,87,0.914944914090396),(9,98,-4.23699148533586),(9,101,-0.456022827845088),(9,103,7.04687643055513),(9,105,1.64495529038362),(9,106,3.95287942136906),(9,113,0.367519150364696),(10,89,-3.38811914426099),(10,96,2.77734458449049),(10,106,1.26674703207495),(10,108,3.02079836420789),(10,111,-3.0288933988464),(10,112,-0.704443494979705),(10,114,-0.840037232581561),(10,115,-3.44775994140446),(10,116,-0.994331186864833),(10,117,-1.52993865779595),(11,89,-1.53697317423017),(11,97,0.882457960753197),(11,105,-1.03121280556658),(11,112,2.41060365611744),(11,115,-1.85808130130924),(12,92,4.26073488570818),(12,93,2.85461745048372),(12,94,-0.603274636066774),(12,97,-1.85465559862056),(12,98,0.0260170293282876),(12,99,0.64722128971221),(12,108,2.00218207342753),(12,116,-4.70799890133366),(13,86,2.37858211004975),(13,87,1.44070253608814),(13,90,0.944929349650563),(13,99,2.31925412762841),(13,102,-1.11217078157903),(13,104,-3.4614093447676),(13,113,1.73900570696127),(13,116,-3.40444654683065),(13,118,-2.93946653645436),(14,90,-4.32425916318247),(14,93,0.103564561906796),(14,95,-2.79854731894894),(14,102,-3.1640827661977),(14,104,1.36616107669301),(14,106,2.53381450849941),(14,109,1.13684499649037),(14,110,2.12651448103275),(14,111,-1.90564439832759),(15,85,0.141903439436018),(15,92,2.365230262154),(15,99,-3.59939878536332),(15,101,-0.0966673787652211),(15,104,-1.30305642872402),(15,108,0.306207464827418),(15,117,1.9568315683462),(16,86,-1.21242408520768),(16,87,2.29231391338847),(16,88,-0.302804651020844),(16,90,-0.2172917874691),(16,91,-4.23200170903653),(16,95,-4.86339915158544),(16,97,-3.46877956480605),(16,98,-1.9708853419599),(16,99,-3.09222693563646),(16,101,0.321710867641224),(16,108,6.69090090639973),(16,110,2.9905240028077),(17,89,-1.78456984160894),(17,96,-1.62988677632984),(17,99,0.0022125919370098),(17,101,0.530312509537034),(17,106,-1.51638843958861),(17,107,1.64861751152074),(17,109,-1.55787835322123),(18,90,2.60571611682485),(18,91,-5.00442518387402),(18,93,1.57266457106235),(18,99,-1.69042023987548),(18,102,6.70499282815027),(18,103,-2.09151738029115),(18,104,1.88802758873257),(18,110,-3.2684102908414),(18,111,-2.37229529709769),(18,116,1.39179662465285),(18,117,-1.24855037079989),(18,118,-0.119113742484817),(19,87,-2.61062959685049),(19,89,1.73184148686178),(19,93,1.23290963469344),(19,95,-1.97965941343425),(19,101,1.33536027100436),(19,105,-2.08790093691824),(19,115,-2.1623584704123),(20,88,-1.83355204931791),(20,101,0.220084231086154),(20,103,2.75378429517502),(20,104,-0.669545579393902),(20,105,0.374355296487319),(20,106,-0.420224616229743),(20,111,0.200888088625751),(20,116,0.608226264229255),(21,86,2.48649555955687),(21,87,-2.1645252845851),(21,94,-1.44969023712882),(21,96,3.511764885403),(21,101,6.59481337931455),(21,102,-1.06845301675466),(21,105,-1.87871944334239),(21,107,3.46938993499557),(21,108,-0.471083712271493),(22,86,-2.88766136661885),(22,88,-4.95210882900479),(22,91,-0.625843073824275),(22,92,-4.54490035706656),(22,93,1.74710837122715),(22,98,-0.413830988494522),(22,106,-5.77108066042054),(22,115,1.37038026062807),(22,117,-1.06120487075411),(23,85,1.16273232215339),(23,86,-1.39802240058596),(23,88,1.27115695669424),(23,90,0.843455305642872),(23,97,-1.6819513534959),(23,104,4.80382702108829),(23,112,-0.300645466475418),(23,114,1.55348368785668),(23,115,-0.600955229346599),(23,116,-2.39768669698172),(24,89,-3.46301919614246),(24,90,-3.43700216681417),(24,91,-1.14781640064699),(24,101,0.280144657734916),(24,107,0.712607196264534),(24,108,4.73436689352092),(24,110,-1.38882869960631),(24,112,-1.2742164372692),(25,90,-1.65948973052156),(25,92,1.74488814966277),(25,94,-4.70346690267647),(25,98,1.17267372661519),(25,105,2.51895199438459),(25,108,4.91065706350902),(25,109,-1.99658192693869),(25,115,-1.25125888851588),(26,85,1.03833887752922),(26,87,-0.0428022095400861),(26,89,0.951414532914213),(26,95,-2.58476516006958),(26,98,-0.83912930692465),(26,100,-0.912350840784936),(26,101,-0.427785576952422),(26,102,2.96116519669179),(26,103,0.0410931730094298),(26,104,4.5980254524369),(26,107,1.89092684713279),(26,109,-0.794885097811823),(26,112,0.158238471633045),(26,113,4.28157139805292),(26,117,-2.43627735221412),(27,85,0.584047975096896),(27,87,2.49855037079989),(27,94,2.08410901211585),(27,100,0.113940855128636),(27,102,-3.36081270790735),(27,103,-0.251472518082217),(27,104,0.550927762688071),(27,105,-0.480986968596453),(27,108,-1.11117893002106),(27,110,-0.408238471633045),(27,114,5.25390636921293),(28,87,0.416501358073672),(28,88,-1.02615436262093),(28,97,1.52047029023103),(28,99,-3.07444990386669),(28,104,-2.11934263130589),(28,113,2.10364085818049),(28,114,0.202032532731101),(29,88,1.1487243263039),(29,91,-5.33147679067354),(29,102,2.2430341502121),(29,105,1.35738700521867),(29,116,1.07490768150884),(30,95,5.6664937284463),(30,96,3.58656575212867),(30,99,3.23869289223914),(30,101,-1.26895962401196),(30,104,-1.76152836695456),(30,109,-2.60579241309854),(30,110,4.34575182348094),(30,114,-0.824808496353038),(30,118,-2.42820520645772),(31,85,0.157116916409803),(31,92,2.90778069399091),(31,94,1.80104983672597),(31,96,3.01319925534837),(31,99,-1.36539811395611),(31,103,1.75176244392224),(31,107,0.285119174779504),(31,108,0.96302682576983),(31,109,2.13538010803552),(31,111,2.70224616229743),(31,112,-4.39432203131199),(31,117,2.32817316202277),(32,86,-3.54228339487899),(32,87,0.866519669179357),(32,89,-0.479590746787927),(32,92,4.68744468520157),(32,98,2.72756126590777),(32,99,2.15622425000763),(32,104,4.23020111697745),(32,106,1.97761467329936),(32,109,6.01193273720511),(32,116,2.5169072542497),(32,118,0.254081850642415),(33,96,-2.72979674672689),(33,98,-1.2958998382519),(33,108,4.45124668111209),(33,110,0.777657399212623),(33,111,-1.96912289803766),(33,114,-2.01733451338237),(34,85,-0.963522751548815),(34,90,-1.71117282631916),(34,99,1.24034852137822),(34,104,-2.9151890621662),(34,109,-4.28727072969756),(35,86,1.92567979979858),(35,87,2.31940672017579),(35,97,-1.89054536576434),(35,98,-1.50879696035646),(35,100,2.36870937223426),(35,104,-0.690168462172308),(35,107,-6.15839106418043),(35,109,-5.00505081331828),(35,110,-0.991943113498337),(35,112,-0.280693990905484),(36,85,-0.977408673360393),(36,87,-2.50579088717307),(36,90,3.66637928403577),(36,91,-1.56819360942412),(36,104,-0.663968321787164),(36,107,3.58429975280007),(36,109,-0.3209784234138),(36,112,-0.489928891872921),(36,115,3.70353556932279),(36,117,-2.63112277596362),(36,118,2.68602557451094),(37,85,1.06021301919614),(37,86,-3.30343791009247),(37,87,2.10856196783349),(37,91,1.79445020905179),(37,99,-3.16972869045076),(37,105,1.22513504440443),(37,111,-0.236213263344218),(37,112,-1.95365001373333),(37,118,-1.01962340159307),(38,87,0.45448164311655),(38,90,-1.19380779442732),(38,103,1.5818811609241),(38,105,5.28577532273324),(38,106,-0.16598254341258),(38,111,-1.3680608539079),(38,115,-3.77111880855739),(39,87,0.101680043946653),(39,89,-2.1919919431135),(39,91,-5.29892880031739),(39,94,1.70103305154576),(39,97,-0.775292214728233),(39,98,0.511261329996643),(39,107,0.0939054536576435),(39,108,2.64275795770135),(39,109,1.12974181340983),(39,111,-0.857737968077639),(39,113,-2.55349894711142),(39,116,1.45648060548723),(39,118,-3.16117587817011),(40,88,2.01304666280099),(40,92,0.119785149693289),(40,99,-0.512359996337779),(40,104,0.486846522415845),(40,110,-1.31656849879452),(40,116,0.693014313180944),(40,118,1.08317819757683),(41,88,-5.31708731345561),(41,93,0.86664937284463),(41,96,-1.45580156865139),(41,97,-2.0985671559801),(41,100,1.23275704214606),(41,101,5.40670491653188),(41,104,0.663777581102939),(41,105,3.32216864528336),(41,106,0.144581438642537),(41,107,-5.19737846003601),(41,109,1.89420758690146),(41,110,-1.47350993377483),(41,111,-4.27938932462539),(41,112,-1.99728385265664),(42,85,1.47727896969512),(42,86,1.74143192846461),(42,87,2.17390972624897),(42,99,1.57811212500381),(42,100,-3.64294869838557),(42,103,-1.28070925016022),(42,109,0.0689718314157537),(42,113,-4.22273934141057),(43,85,-0.833796197393719),(43,88,2.30842005676443),(43,89,0.685903500473037),(43,93,2.65853602710044),(43,97,-1.73983733634449),(43,98,1.85982848597674),(43,101,-0.0631046479689932),(43,102,1.79320657979064),(43,103,-1.77259132663961),(43,105,1.15314188055055),(43,110,-2.36898403881954),(43,112,-1.63909573656423),(43,114,-4.37706381420331),(43,116,3.13905758842738),(44,89,-3.29989013336589),(44,98,6.20384075441755),(44,99,0.747627185888241),(45,87,-5.56022827845088),(45,88,-1.73152867213965),(45,90,0.392818994720298),(45,91,-0.966544083986938),(45,95,-0.20852534562212),(45,98,-2.61780144657735),(45,108,1.1349909970397),(45,109,1.20415356913968),(45,112,0.650028992584002),(45,115,-0.62976470229194),(46,85,-1.78501235999634),(46,89,-0.104426709799493),(46,91,1.4476760155034),(46,94,-3.87678914761803),(46,97,2.1270180364391),(46,100,1.62333292641987),(46,101,-0.703756828516495),(46,108,-0.612277596362194),(46,112,-3.27970213934751),(47,86,-2.00175481429487),(47,91,-2.84739219336528),(47,92,0.548554948576311),(47,94,-2.33634449293496),(47,95,0.810380870998261),(47,100,-1.0895107882931),(47,101,-0.193716238898892),(47,104,-4.99908444471572),(47,105,6.87702566606647),(47,108,-0.76479384746849),(47,112,0.0410473952452162),(47,114,4.44578386791589),(47,118,3.22102267525254),(48,86,4.50791955320902),(48,91,-1.90372936185797),(48,98,0.312356944486831),(48,99,-2.35689870906705),(48,100,-1.1360744041261),(48,103,0.0461592455824458),(48,105,1.24300363170263),(48,106,-4.56971953489792),(48,111,-1.8526032288583),(48,115,-0.343752861110263),(49,87,1.05619983520005),(49,89,0.350169377727592),(49,93,1.70690023499252),(49,94,3.25857570116276),(49,95,-1.92190313425092),(49,102,-3.57423627430036),(49,113,0.281304361095004),(49,114,0.533845027008881),(50,89,-2.28902554399243),(50,105,1.24568926053652),(50,107,1.72521134067812),(51,87,-0.599246192815943),(51,92,-1.56392101809748),(51,97,2.15726950895718),(51,98,2.20854060487686),(51,103,1.90016632587664),(51,106,0.395069734794153),(51,112,1.04636524552141),(51,118,-1.29209265419477),(52,89,2.40280617694632),(52,97,0.299699392681661),(52,106,-2.93286690878018),(52,110,-2.07663197729423),(52,111,-0.814462721640675),(52,113,-1.5848109378338),(52,114,-0.379871517075106),(52,118,-0.21317178868984),(53,88,1.3032090212714),(53,90,-4.87533188879055),(53,92,-2.25560014648885),(53,94,0.259941404461806),(53,104,0.811181981872005),(53,105,-1.28747672963652),(53,109,-1.68576616718039),(54,85,-1.30385753959777),(54,91,-3.71593371379742),(54,94,-2.172276985992),(54,96,3.47605822931608),(54,111,-1.03629413739433),(54,112,2.90224921414838),(54,113,4.74972533341472),(54,118,-2.34641560106204),(55,87,-0.97125156407361),(55,95,-1.41285439619129),(55,107,-1.40602587969604),(55,110,-2.00796533097324),(55,117,-2.65056306649983),(56,107,-2.34733115634632),(56,111,-1.02817621387371),(56,113,-4.07126834925382),(56,114,0.469527268288217),(57,87,-0.935239722891934),(57,90,-0.368205816827906),(57,91,0.0836207159642325),(57,92,2.29705191198462),(57,93,6.01273384807886),(57,94,1.0995513779107),(57,95,-0.116824854274117),(57,96,-1.76796777245399),(57,100,1.85245063631092),(57,102,-1.6834772789697),(57,103,-1.18041779839473),(57,115,-3.00794244209113),(58,86,-0.606624042481765),(58,87,-2.24224066896573),(58,89,2.65955076754051),(58,90,-0.434774315622425),(58,95,-1.99316385387738),(58,96,-1.73169652394177),(58,101,-5.25038911099582),(58,103,-4.8487655262917),(58,109,-4.85671559801019),(58,110,5.66814935758537),(58,113,-1.90205847346416),(58,114,1.05456709494308),(58,115,-3.48726615192114),(59,85,-0.253532517471847),(59,86,-2.7470473342082),(59,90,-1.63520462660604),(59,91,-4.06575212866604),(59,93,5.29387798699911),(59,97,-0.240485854670858),(59,98,-0.329531235694449),(59,100,1.44734031189917),(59,102,4.35959959715568),(59,112,2.92931913205359),(59,114,-1.14819788201544),(60,85,0.521965697195349),(60,87,-1.80450605792413),(60,90,1.10614337595752),(60,91,-1.71384319589831),(60,96,4.84397412030396),(60,100,-2.78186895352031),(60,101,2.05313272499771),(60,105,-3.60347300637837),(60,107,1.31146427808466),(60,109,-0.321237830744347),(60,110,4.3415784173101),(60,114,0.514603106784265),(61,89,3.8606753746147),(61,94,-4.39040803247169),(61,96,-0.270485549485763),(61,98,-0.144047364726707),(61,100,2.43030335398419),(61,102,3.64352855006562),(61,103,3.79413739432966),(61,114,2.39638966032899),(61,115,3.83411664174322),(62,93,2.0997726371044),(62,95,0.314035462508011),(62,107,-3.27471236304819),(62,109,-2.27790154728843),(62,110,-0.534150212103641),(62,111,-0.852000488296152),(63,87,2.10529648731956),(63,90,6.04414502395703),(63,93,1.53927732169561),(63,97,3.31413464766381),(63,100,0.26403088473159),(63,103,-1.60803552354503),(63,104,-1.93314920499283),(63,108,3.85020752586444),(63,111,1.06469924008911),(63,114,1.21504867702261),(63,117,0.601748710592975),(64,87,0.993186742759483),(64,94,-0.323404644917142),(64,99,-0.903592028565325),(64,110,3.16164128543962),(64,112,-1.98525955992309),(64,116,1.50028992584002),(65,87,-1.19647816400647),(65,88,-5.60704367198706),(65,90,0.270851771599475),(65,97,7.00717184972686),(65,99,-0.277855769524217),(65,107,1.69897305215613),(65,110,-5.1718344676046),(65,111,-4.43322550126652),(65,114,-2.46237067781609),(65,116,-0.781884212775048),(65,117,-5.48699911496323),(66,85,1.63583788567766),(66,102,-2.07693716238899),(66,105,-0.485137485885189),(66,108,1.25257118442335),(66,111,-1.10759300515763),(66,115,-1.02391125217444),(66,118,-0.638767662587359),(67,86,0.852504043702506),(67,90,-3.91348002563555),(67,92,1.79877620777001),(67,104,-0.0440687276833398),(67,109,-1.31212805566576),(67,111,0.482802819910276),(68,87,0.390652180547502),(68,88,-1.38872951445051),(68,90,1.25812555314798),(68,93,1.07898190252388),(68,95,-2.86834315012055),(68,96,-1.18747520371105),(68,97,-1.51956236457411),(68,103,2.10905789361248),(68,107,1.2217703787347),(68,112,-0.00907925656910913),(68,114,0.314088869899594),(69,87,1.42660298471023),(69,88,-4.20244453260903),(69,92,0.683767204809717),(69,94,-2.56234168523209),(69,95,2.47363963744011),(69,97,0.774101992858669),(69,108,-0.616397595141453),(69,113,1.8433256019776),(69,114,3.043069246498),(69,118,-0.679113132114628),(70,85,-2.6227607043672),(70,86,-3.52278206732383),(70,87,-3.08281197546312),(70,90,1.37264625995666),(70,96,-0.525032807397686),(70,97,0.540932950834681),(70,99,1.08424634540849),(70,105,-1.59543900875881),(70,107,-0.354167302468948),(70,109,-0.469985045930357),(70,110,-2.71206549272134),(70,111,0.769119846186712),(71,85,-1.65616321298868),(71,93,0.371868037965026),(71,96,-2.68501846369823),(71,100,0.236068300424207),(71,104,-1.81211279641102),(71,106,0.75769829401532),(71,111,1.24454481643117),(71,113,2.49282815027314),(72,94,-1.43452253791925),(72,96,3.86754966887417),(72,99,1.05341502121036),(72,110,0.528427991576891),(72,112,-1.76190984832301),(72,114,-1.2884914700766),(72,115,-0.281456953642384),(72,116,4.54062013611255),(73,88,-0.149342326120793),(73,94,1.06196783349101),(73,99,-2.00460829493088),(73,100,-2.65892513809626),(73,106,2.53059480574969),(73,110,-1.8450727866451),(73,115,-5.0788293099765),(74,90,-3.30064546647542),(74,94,-0.771309549241615),(74,99,-3.7774666585284),(74,102,0.0780510879848628),(74,106,2.11066011535997),(74,107,2.48904385509812),(74,110,1.83187353129673),(74,113,-0.804239020966216),(74,116,-3.51413006988739),(75,85,1.31649220252083),(75,86,-1.29169591357158),(75,93,-4.00144199957274),(75,98,-3.79452650532548),(75,103,-0.161351359599597),(75,105,-4.11381878109073),(75,111,-0.523239844965972),(75,117,-2.55409405804621),(76,86,-2.29606769005402),(76,89,-1.72299874874111),(76,92,-3.00455488753929),(76,94,0.354701376384777),(76,99,0.222220526749473),(76,101,0.931501205481124),(76,103,0.589960936307871),(76,106,-4.85251930295724),(76,110,1.4327372051149),(76,113,-1.52199621570483),(77,88,-0.785439619129002),(77,91,-1.23416852320933),(77,93,-0.92123935666982),(77,98,1.27010406811731),(77,101,-1.93093661305582),(77,102,5.06436353648488),(77,103,1.56163212988678),(77,104,1.5812402722251),(77,105,-1.24864955595569),(77,109,-1.87117374187445),(78,88,-2.14026306955168),(78,93,0.659062471388897),(78,94,1.53261665700247),(78,101,2.05040131839961),(78,104,1.1997436445204),(78,110,1.21840571306497),(78,114,1.73966948454238),(78,116,2.44827112643818),(78,117,2.13484603411969),(78,118,2.56445509201331),(79,87,1.30323191015351),(79,92,-2.07163457136753),(79,94,1.19351023895993),(79,107,-1.32450331125828),(79,108,-1.52389599291971),(79,114,4.16628772850734),(79,118,-0.466116824854274),(80,87,-0.52058473464156),(80,88,-0.883587145603809),(80,91,-0.742500076296274),(80,99,1.10747093111972),(80,101,-1.98329111606189),(80,107,-1.58482619708853),(80,113,1.6842402417066),(81,85,-1.63903469954527),(81,86,-1.22074037903989),(81,90,-2.22427289651173),(81,93,-0.373561815240943),(81,96,-0.212866603595081),(81,97,-1.36659596545305),(81,106,2.10746330149236),(81,107,2.41531113620411),(81,110,2.0455793939024),(81,115,-0.341273232215339),(82,86,-1.28231147190771),(82,92,0.928525650807215),(82,110,-4.43402661214026),(82,112,-0.479750968962676),(83,87,3.00889614551225),(83,91,1.95150608844264),(83,93,2.7178334910123),(83,101,-4.63716544083987),(83,103,1.88085573900571),(83,105,3.73175756096072),(83,108,-5.94186986907559),(84,85,-0.566949980162969),(84,86,2.3459578234199),(84,89,1.901455732902),(84,95,0.76036866359447),(84,99,2.49256111331523),(84,104,0.0111011078218937),(84,111,0.481124301889096),(84,113,-2.4245429853206),(84,114,2.64763328959014),(10,119,2.08868678853725),(119,109,2.73371837519456),(58,120,-1.75898770104068),(120,118,-2.38124485000153),(95,104,1.66293832209235)]
orgname='BHNEAT_13_9'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()