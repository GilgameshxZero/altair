edge = [(0,85,0.457655568102054),(0,89,0.412945951719718),(0,90,-3.2052827539903),(0,93,-3.46652119510483),(0,98,0.0522324289681691),(0,101,0.124561296426283),(0,105,0.951780755027924),(0,108,-1.58619953001495),(0,113,0.385708182012391),(0,114,1.16504409924619),(0,117,-3.52366710409864),(0,118,1.70659504989776),(1,86,2.65382854701376),(1,92,-2.93166905728324),(1,98,0.76212347788934),(1,102,-3.93739127780999),(1,104,-2.09704886013367),(1,107,1.12706381420331),(1,108,-3.11021759697256),(1,109,1.24134037293619),(1,113,3.33120212408826),(2,87,-2.93176061281167),(2,88,-0.721533860286264),(2,100,0.00553910946989356),(2,106,-2.95948667867061),(2,108,2.36652729880673),(2,110,-2.24701681569872),(2,113,3.36301767021699),(2,118,1.99893185216834),(3,89,0.0271004364146853),(3,92,-3.51747184667501),(3,97,-3.25090792565691),(3,99,0.372920926541948),(3,101,-0.555574205755791),(3,103,0.62816248054445),(3,105,-1.53993346964934),(3,108,3.69100009155553),(3,109,-1.46388134403516),(3,111,-2.67987609485153),(3,112,-2.75385296182134),(3,116,-1.47943052461318),(4,90,-0.194387646107364),(4,91,-0.01821955015717),(4,97,0.00823999755851912),(4,99,1.67020172734764),(4,101,-3.87473677785577),(4,108,-3.72486037781915),(4,113,-0.82990508743553),(4,118,-0.991866817224647),(5,86,-4.48567155980102),(5,87,-2.73242896816919),(5,89,-2.14801477095859),(5,92,-2.19589831232643),(5,93,2.45611438337352),(5,99,0.886181218909268),(5,104,-1.21036408581805),(5,114,1.30550553910947),(5,118,0.947599719229713),(6,89,-1.83260597552416),(6,92,0.384838404492325),(6,94,-2.41187780388806),(6,100,-2.7321085238197),(6,101,3.16315195165868),(6,103,1.01362651448103),(6,107,1.10594500564592),(6,110,0.0256355479598376),(6,113,-3.18951994384594),(7,85,0.0176244392223884),(7,86,-0.985518967253639),(7,90,2.75565355388043),(7,95,-0.589266640217292),(7,99,-2.55195776238289),(7,100,-0.53964354380932),(7,104,-2.04365672780541),(7,106,2.62108218634602),(7,108,2.69385357219153),(7,112,0.371868037965026),(7,116,2.02246162297433),(8,92,0.0315866573076571),(8,93,-3.90383617664113),(8,95,-0.742286446729941),(8,99,-1.6762901699881),(8,106,-1.16183965575121),(8,107,-1.01536606952116),(8,115,3.39637440107425),(8,116,-3.7635120700705),(8,118,1.10911893063143),(9,85,0.745323038422804),(9,87,-2.8421430097354),(9,98,1.84412671285134),(9,101,0.986709189123203),(9,103,-0.160451063570055),(9,105,-0.997726371044038),(9,106,3.55568102053896),(9,113,-2.36008789330729),(10,89,-2.47894222846156),(10,96,2.35615100558489),(10,106,0.538087099826045),(10,108,0.196569719534898),(10,111,-3.34136478774377),(10,112,1.96333201086459),(10,114,-2.45674001281777),(10,115,-0.818704794457839),(10,116,-0.934705648976104),(10,117,3.52171391949217),(11,89,-0.99595629749443),(11,97,0.613055818353832),(11,105,1.58563493758965),(11,112,-3.92194891201514),(11,115,-3.94947660756249),(12,92,-0.376018555253761),(12,93,1.49948118533891),(12,94,-5.20981475264748),(12,97,3.68140202032533),(12,98,1.33649708548235),(12,99,0.317850276192511),(12,108,2.27799310281686),(12,116,-1.70230719931639),(13,86,2.35096285897397),(13,87,-0.819513534958952),(13,90,2.95597705008087),(13,99,0.142155217139195),(13,102,2.57171849726859),(13,104,0.0771507919553214),(13,113,-2.68671224097415),(13,116,0.0505539109469892),(13,118,0.188375499740593),(14,90,-1.88810388500626),(14,93,-1.87891781365398),(14,95,-3.78200628681295),(14,102,-0.194540238654744),(14,104,2.67738883632923),(14,106,-1.97842341380047),(14,109,0.832850123599963),(14,110,0.555497909482101),(14,111,0.0995361186559648),(15,85,-1.52963347270119),(15,92,1.29532761619922),(15,99,-0.884929960020753),(15,101,-2.11523789178137),(15,104,0.37023529770806),(15,108,-1.32137516403699),(15,117,2.62114322336497),(16,86,2.19695120090335),(16,87,-0.117191076387829),(16,88,-2.78441724906156),(16,90,0.808511612292856),(16,91,-3.17140720847194),(16,95,0.906735435041352),(16,97,-0.284173100985748),(16,98,-3.06947538682211),(16,99,-0.262321848200934),(16,101,-2.46119571520127),(16,108,3.33024079103977),(16,110,-3.01118503372295),(17,89,-1.95918149357585),(17,96,-2.5588702047792),(17,99,-0.106494338816492),(17,101,-0.524124881740776),(17,106,1.75389873958556),(17,107,-1.47178563798944),(17,109,-0.0189825128940702),(18,90,0.414105655079806),(18,91,1.29016998809778),(18,93,-1.14978484450819),(18,99,-0.524307992797632),(18,102,-2.01944029053621),(18,103,0.261650440992462),(18,104,2.44712668233283),(18,110,1.27526169621876),(18,111,0.104663228247933),(18,116,-0.255516220587786),(18,117,0.639667958616901),(18,118,-0.435377056184576),(19,87,1.93488876003296),(19,89,1.40487380596332),(19,93,0.474028748435926),(19,95,1.37524033326212),(19,101,-1.58575701162755),(19,105,-0.361110263374737),(19,115,3.23335978270821),(20,88,4.25598925748466),(20,101,-2.39748832667013),(20,103,-1.70136112552263),(20,104,-1.6111941892758),(20,105,2.98643452253792),(20,106,-2.06494338816492),(20,111,-0.158391064180425),(20,116,3.67015594958342),(21,86,2.04237495040742),(21,87,-1.34199041718802),(21,94,-0.185537278359325),(21,96,-1.00222785119175),(21,101,1.41468550675985),(21,102,0.0551469466231269),(21,105,-2.7665639210181),(21,107,2.3589281899472),(21,108,-3.26070436719871),(22,86,2.57731864375744),(22,88,1.68103579821162),(22,91,4.25710318308054),(22,92,-2.42081972716452),(22,93,1.68478957487716),(22,98,-2.68279061250649),(22,106,1.25717947935423),(22,115,1.02722251045259),(22,117,0.98132267220069),(23,85,2.81733146153142),(23,86,-2.6509903256325),(23,88,2.44192327646718),(23,90,-0.280129398480178),(23,97,1.39255958738975),(23,104,0.35033722952971),(23,112,2.52479628894925),(23,114,1.15514084292123),(23,115,0.641148106326487),(23,116,-4.09855952635273),(24,89,-1.41496017334513),(24,90,2.20636616107669),(24,91,-0.123233741264077),(24,101,0.712439344462416),(24,107,3.50192266609699),(24,108,-1.39359721671194),(24,110,-2.97350993377483),(24,112,2.32242805261391),(25,90,2.57335123752556),(25,92,-0.798028504287851),(25,94,-0.890942106387524),(25,98,4.77671132541887),(25,105,1.60652485732597),(25,108,1.12392040772729),(25,109,-1.43527024140141),(25,115,-0.298944059572131),(26,85,1.60290841395306),(26,87,-0.298913541062655),(26,89,-0.605639820551164),(26,95,0.781197546311838),(26,98,-2.08059938352611),(26,100,0.299539170506912),(26,101,-0.0766319772942288),(26,102,-2.26371044038209),(26,103,1.63217566454054),(26,104,2.02443006683554),(26,107,0.498886074404126),(26,109,2.95199438459426),(26,112,-0.097033600878933),(26,113,-3.23883785515915),(26,117,-0.504684591204565),(27,85,-1.47038178655354),(27,87,-2.96852015747551),(27,94,-0.938291573839534),(27,100,-0.132419812616352),(27,102,2.04893642994476),(27,103,-3.12814722128971),(27,104,-3.73241370891446),(27,105,-2.21518601031526),(27,108,-0.410397656178472),(27,110,3.01423688467055),(27,114,-0.376384777367473),(28,87,2.44569231238746),(28,88,3.63570055238502),(28,97,1.3510544145024),(28,99,0.490798669392987),(28,104,2.03981139561144),(28,113,-0.803918576616718),(28,114,-0.990188299203467),(29,88,-2.66330454420606),(29,91,2.74883266701254),(29,102,-2.9783165990173),(29,105,-0.391109958189642),(29,116,2.89823603015229),(30,95,1.26458021790216),(30,96,-0.592715231788079),(30,99,-0.0957670827356789),(30,101,3.77829828791162),(30,104,-1.99346903897214),(30,109,-1.53157139805292),(30,110,-3.23020111697745),(30,114,0.790734580523087),(30,118,2.99893185216834),(31,85,0.902417065950499),(31,92,0.443357646412549),(31,94,-2.14088869899594),(31,96,-0.358516190069277),(31,99,2.6212347788934),(31,103,3.0303201391644),(31,107,3.05871761223182),(31,108,-3.59941404461806),(31,109,-1.10496841334269),(31,111,1.21814630573443),(31,112,-1.77587206640828),(31,117,-1.19739371929075),(32,86,-0.812250129703665),(32,87,0.546418652912992),(32,89,2.2950376903592),(32,92,0.415997802667317),(32,98,1.00512710959197),(32,99,-0.530091250343333),(32,104,3.30968657490768),(32,106,-1.35271767326884),(32,109,2.36634418774987),(32,116,-3.39757988219855),(32,118,-1.21980956450087),(33,96,-0.841319009979553),(33,98,0.427594836268197),(33,108,-1.26303903317362),(33,110,-1.49383526108585),(33,111,1.13586840418714),(33,114,1.80442213202307),(34,85,1.89564195684683),(34,90,0.543549913022248),(34,99,1.01214636677145),(34,104,0.243018890957365),(34,109,-2.2284157841731),(35,86,-2.95129245887631),(35,87,1.55053865169225),(35,97,-0.382015442365795),(35,98,-0.739234595782342),(35,100,-1.65073091830195),(35,104,-0.593081453901791),(35,107,-1.02273628955962),(35,109,0.547181615649892),(35,110,-2.54319895016327),(35,112,-0.790887173070467),(36,85,0.700231940672018),(36,87,-4.15009002960295),(36,90,2.71485030671102),(36,91,0.811181981872005),(36,104,0.303353984191412),(36,107,-0.973677785576952),(36,109,4.89837336344493),(36,112,0.234473708304086),(36,115,-2.08006530961028),(36,117,-1.61027863399152),(36,118,-1.56537064729759),(37,85,0.451368755149999),(37,86,-0.893124179815058),(37,87,2.39532151249733),(37,91,-2.53959776604511),(37,99,-2.62887966551714),(37,105,-0.0995666371654411),(37,111,-2.0414441358684),(37,112,-0.849528489028596),(37,118,1.44860683004242),(38,87,3.19565416425062),(38,90,3.15964232306894),(38,103,-1.56129642628254),(38,105,-1.90430921353801),(38,106,0.032578508865627),(38,111,-2.88270210882901),(38,115,2.03468428601947),(39,87,1.34054078798791),(39,89,0.658665730765709),(39,91,-0.284127323221534),(39,94,-0.423780022583697),(39,97,-0.441190832239753),(39,98,1.15981017487106),(39,107,2.86483352153081),(39,108,3.85448774681845),(39,109,-0.494872890408033),(39,111,1.46655171361431),(39,113,-0.529358806115909),(39,116,0.183553575243385),(39,118,3.9920499282815),(40,88,-0.380291146580401),(40,92,0.843836787011322),(40,99,-1.47152623065889),(40,104,0.456907864619892),(40,110,-0.419232764671773),(40,116,3.56457716605121),(40,118,-0.445722830896939),(41,88,-0.689260536515397),(41,93,2.46545304727317),(41,96,-0.457502975554674),(41,97,-0.839182714316233),(41,100,0.588396862697226),(41,101,0.0402081362346263),(41,104,1.48217719046602),(41,105,3.43096713156529),(41,106,-1.84461500900296),(41,107,1.08867152928251),(41,109,-3.4190038758507),(41,110,0.543244727927488),(41,111,0.67169713431196),(41,112,-0.264427625354777),(42,85,0.629093295083468),(42,86,1.59184545426801),(42,87,-0.328943754387036),(42,99,2.3185674611652),(42,100,1.47480697042756),(42,103,-2.01635792107913),(42,109,-0.778725547044282),(42,113,-0.973586230048525),(43,85,1.66753135776849),(43,88,2.127140110477),(43,89,-0.838251899777215),(43,93,5.0318460646382),(43,97,3.4473555711539),(43,98,-1.21681875057222),(43,101,-0.0202642902920621),(43,102,-0.898373363444929),(43,103,-3.53152562028871),(43,105,-1.74199652088992),(43,110,-1.17938779869991),(43,112,1.62756736960967),(43,114,-0.138767662587359),(43,116,-0.135502182073427),(44,89,1.71796319467757),(44,98,0.771126438184759),(44,99,-0.329279457991272),(45,87,1.3284859767449),(45,88,0.390194402905362),(45,90,-0.99809259315775),(45,91,-1.38850062562944),(45,95,1.19063386944182),(45,98,0.044480727561266),(45,108,-1.23442793053987),(45,109,0.211539048432875),(45,112,1.76891384624775),(45,115,-1.26851710562456),(46,85,-0.0854365672780542),(46,89,-0.0130619220557268),(46,91,2.86381115146336),(46,94,-3.14110232856227),(46,97,1.66988128299814),(46,100,-1.83391827143162),(46,101,-2.48785363322855),(46,108,0.682851649525437),(46,112,0.675572985015412),(47,86,-2.12840662862026),(47,91,0.512695699942015),(47,92,-3.50590533158361),(47,94,4.60951567125462),(47,95,-0.534150212103641),(47,100,1.53265480513932),(47,101,-1.33014923551134),(47,104,0.0413525803399761),(47,105,-1.2171697134312),(47,108,0.524079103976562),(47,112,2.05609302041688),(47,114,-0.375301370281075),(47,118,1.80027161473434),(48,86,3.9698019348735),(48,91,3.55281228064821),(48,98,1.18350779747917),(48,99,-1.67961668752098),(48,100,3.7773674733726),(48,103,1.21025727103488),(48,105,2.5179906613361),(48,106,0.163853877376629),(48,111,-2.09784234138005),(48,115,-0.814844203009125),(49,87,-0.204901272621845),(49,89,1.45524460585345),(49,93,-2.20522171697134),(49,94,-0.267876216925565),(49,95,0.209570604571673),(49,102,-0.302957243568224),(49,113,-1.21478926969207),(49,114,1.11458174382763),(50,89,4.05241554002503),(50,105,1.28858302560503),(50,107,-0.209173863948485),(51,87,-0.325113681447798),(51,92,-2.10928678243355),(51,97,1.24149296548357),(51,98,-0.190816980498673),(51,103,-3.31597338785974),(51,106,-0.434842982268746),(51,112,1.49250770592364),(51,118,-3.07339701528977),(52,89,-1.85708182012391),(52,97,-1.29386272774438),(52,106,-1.77861873226112),(52,110,-1.29978331858272),(52,111,3.1158940397351),(52,113,-0.391399884029664),(52,114,-1.6129642628254),(52,118,-0.021973326822718),(53,88,2.86892300180059),(53,90,-1.19373149815363),(53,92,3.30193487350078),(53,94,-0.43633838923307),(53,104,-0.671208838160344),(53,105,-1.10837122714927),(53,109,-1.53646961882382),(54,85,1.33263649403363),(54,91,1.39019440290536),(54,94,3.61856440931425),(54,96,2.16544083986938),(54,111,0.75670644245735),(54,112,-4.01248207037568),(54,113,1.11784722434156),(54,118,-1.88206122013001),(55,87,1.30422376171148),(55,95,-2.19901120029298),(55,107,1.75695059053316),(55,110,0.809884945219276),(55,117,0.560487685781426),(56,107,-2.59312723166601),(56,111,-2.30614642780847),(56,113,-0.952528458510086),(56,114,-1.91471602526933),(57,87,-1.60214545121616),(57,90,3.35146641438032),(57,91,0.75594347972045),(57,92,2.40549943540757),(57,93,0.306329538865322),(57,94,-1.22107608264412),(57,95,1.46182134464553),(57,96,-1.87897885067293),(57,100,2.76627399517808),(57,102,-4.07162694174017),(57,103,-0.00244148075807993),(57,115,-2.62558366649373),(58,86,1.4169133579516),(58,87,1.72013000885037),(58,89,2.74660481582079),(58,90,-2.08189642017884),(58,95,-0.0233466597491379),(58,96,-2.49908444471572),(58,101,-0.606921597949156),(58,103,1.49031037324137),(58,109,0.00358592486342967),(58,110,1.79735709707938),(58,113,-0.218390453810236),(58,114,-2.34939115573595),(58,115,-1.51301614429151),(58,118,1.00283822138127),(59,85,0.183599353007599),(59,86,1.55194250312815),(59,90,-0.441572313608203),(59,91,1.34372997222816),(59,93,-1.04788354136784),(59,97,1.38827173680837),(59,98,-2.58587908566546),(59,100,-4.31031220435194),(59,102,1.96023438215278),(59,112,-3.32583086642048),(59,114,-4.90687276833399),(60,85,0.233283486434523),(60,87,-3.04824976348155),(60,90,-0.831904049806207),(60,91,-1.06563005462813),(60,96,4.74987029633473),(60,100,1.60318308053835),(60,101,-4.4774315622425),(60,105,0.409558397167882),(60,107,2.79630420850246),(60,109,-1.41586046937468),(60,110,-0.660939359721671),(60,114,1.52583391827143),(61,89,1.93575853755303),(61,94,1.38430433057649),(61,96,3.02223273415326),(61,98,-0.986968596453749),(61,100,1.53607287820063),(61,102,1.77587206640828),(61,103,2.05046235541856),(61,114,1.53088473158971),(61,115,1.7818231757561),(62,93,-3.58801538132878),(62,95,-0.631046479689932),(62,107,-0.503784295175023),(62,109,3.5275887325663),(62,110,1.93792535172582),(62,111,0.919293801690725),(63,87,-0.703222754600665),(63,90,-2.31479842524491),(63,93,-3.86478774376659),(63,97,-0.76151310769982),(63,100,1.55870235297708),(63,103,0.0970336008789332),(63,104,1.88128299813837),(63,108,-0.849864192632832),(63,111,-0.717886898403882),(63,114,3.55510116885891),(63,117,3.24697103793451),(64,87,1.31946775719474),(64,94,-1.55780205694754),(64,99,-0.383098849452193),(64,110,2.47961363567003),(64,112,-1.67351298562578),(64,116,-0.233619190038759),(65,87,3.45336771752068),(65,88,-0.411114841151158),(65,90,-1.19182409131138),(65,97,-1.57867671742912),(65,99,0.936017944883572),(65,107,2.05275124362926),(65,110,0.629215369121372),(65,111,-0.626575518051698),(65,114,-1.56901760917997),(65,116,-0.911984618671224),(65,117,-2.86034730063784),(66,85,2.23155919064913),(66,102,0.527573473311563),(66,105,-0.91109958189642),(66,108,4.50790429395428),(66,111,2.92248298593097),(66,115,-0.0520340586565753),(66,118,-1.58009582811975),(67,86,-1.48323007904294),(67,90,1.7471694082461),(67,92,0.0242774742881557),(67,104,5.25470748008667),(67,109,1.52005066072573),(67,111,1.63550218207343),(68,87,0.061189611499374),(68,88,-0.718237861262856),(68,90,-1.00785851619007),(68,93,-3.77271340067751),(68,95,0.0248115482039857),(68,96,-2.49139378032777),(68,97,-0.611865596484268),(68,103,1.6887417218543),(68,107,-1.4349040192877),(68,112,0.6556901760918),(68,114,0.632496108890042),(69,87,-2.79311502426222),(69,88,-0.910000915555284),(69,92,-1.38065736869411),(69,94,-1.57823419904172),(69,95,-2.25127414777062),(69,97,0.276787621692557),(69,108,2.05388042847987),(69,113,1.5424054689169),(69,114,-2.4268318735313),(69,118,-2.63162633136998),(70,85,-0.271813104647969),(70,86,-1.30657368694113),(70,87,-2.52056947538682),(70,90,2.98150578325755),(70,96,2.87903988769189),(70,97,0.0388195440534682),(70,99,-2.75270851771599),(70,105,1.96989349040193),(70,107,2.1332438123722),(70,109,-0.797738578447829),(70,110,-0.702002014221625),(70,111,-0.78568376720481),(71,85,-0.863902706991791),(71,93,-0.67711416974395),(71,96,-1.31466109195227),(71,100,-2.46920682393872),(71,104,0.273598437452315),(71,106,-1.38155766472365),(71,111,3.30840479750969),(71,113,0.124362926114689),(72,94,-2.87720877712333),(72,96,2.06253242591632),(72,99,-1.67792291024506),(72,110,-1.59001434369945),(72,112,1.65048677022614),(72,114,1.503494369335),(72,115,-1.91412091433454),(72,116,-1.30794701986755),(73,88,0.65141758476516),(73,94,-1.40858180486465),(73,99,-0.465102084414197),(73,100,-2.01597643971068),(73,106,1.67210913418989),(73,110,0.807138279366436),(73,115,0.118396557512131),(74,90,-2.34641560106204),(74,94,1.40816980498672),(74,99,2.88361766411328),(74,102,0.910443433942686),(74,106,-2.45603808709983),(74,107,-1.43467513046663),(74,110,3.00517288735618),(74,113,-1.9390392773217),(74,116,1.17680898464919),(75,85,-0.262565996276742),(75,86,-1.59314249092074),(75,93,2.27449873348186),(75,98,1.80021057771538),(75,103,0.306665242469558),(75,105,0.470366527298807),(75,111,2.36983855708487),(75,117,1.57527390362255),(76,86,0.289773247474593),(76,89,4.11461226233711),(76,92,-0.340281380657369),(76,94,0.365764336069827),(76,99,2.41573839533677),(76,101,-1.83050019837031),(76,103,1.41232032227546),(76,106,0.044618060853908),(76,110,2.24991607409894),(76,113,-0.0617236854152043),(77,88,-0.241981261635182),(77,91,-1.15775017548143),(77,93,1.12804040650655),(77,98,-1.35528122806482),(77,101,-0.248527481917783),(77,102,0.299966429639576),(77,103,1.66035950804163),(77,104,-0.524994659260842),(77,105,0.698431348612934),(77,109,3.76204718161565),(78,88,-2.54271065401166),(78,93,0.386364329966124),(78,94,-1.88814966277047),(78,101,0.0340281380657369),(78,104,1.75519577623829),(78,110,-2.33227027191992),(78,114,1.18488113040559),(78,116,0.928678243354594),(78,117,2.37411114841151),(78,118,-1.00665303506577),(79,87,3.14976958525346),(79,92,-1.86498611407819),(79,94,1.81208227790155),(79,107,-0.0930204168828397),(79,108,-1.53872798852504),(79,114,1.14619891964476),(79,118,-0.792641987365337),(80,87,0.696584978789636),(80,88,0.169072542497024),(80,91,-0.367961668752098),(80,99,0.291634876552629),(80,101,-3.84560686056093),(80,107,-0.235908078249458),(80,113,-3.59767448957793),(81,85,-0.10650959807123),(81,86,-0.975997192297128),(81,90,-0.270714438306833),(81,93,-4.14450514236885),(81,96,-3.19682912686544),(81,97,-2.31926938688314),(81,106,-1.00833155308695),(81,107,1.3667561876278),(81,110,0.574587237159337),(81,115,1.25749992370373),(82,86,-1.26804406872768),(82,92,1.72843104342784),(82,110,-2.34984893337809),(82,112,-0.804086428418836),(83,87,-3.51062044129765),(83,91,-0.194860683004242),(83,93,-0.0714438306833094),(83,101,-0.986465041047395),(83,103,-3.65054780724509),(83,105,1.85201574755089),(83,108,-1.84159367656484),(84,85,0.684575945310831),(84,86,0.892422254097109),(84,89,-0.228339487899411),(84,95,-0.840327158421583),(84,99,-0.022049623096408),(84,104,-0.184102908413953),(84,111,0.0536210211493269),(84,113,-2.90907010101627),(84,114,-0.701162755211036),(35,105,-0.5413220618305)]
orgname='BHNEAT_7_4'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()