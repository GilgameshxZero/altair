edge = [(0,85,0.890484328745384),(0,89,-1.21597949156163),(0,90,-0.622425000762963),(0,93,-0.581072420422986),(0,98,-0.374080629902036),(0,101,-0.142399365215003),(0,105,2.68942838831751),(0,108,-0.0102999969481492),(0,113,2.65796380504776),(0,114,-2.97218237861263),(0,117,-2.6311532944731),(0,118,-2.42295602282785),(1,86,-4.06720175786615),(1,92,-0.194784386730552),(1,98,-0.10345774712363),(1,102,-0.4774315622425),(1,104,-1.44349497970519),(1,107,1.43949705496384),(1,108,-2.64023255104221),(1,109,-1.51029999694815),(1,113,-3.4082003234962),(2,87,-2.7998138370922),(2,88,-0.919675283059175),(2,100,-3.7143620105594),(2,106,-2.21193578905606),(2,108,-3.7647175511948),(2,110,-2.25746940519425),(2,113,2.54130680257576),(2,118,-0.245628223517563),(3,89,2.98760948515275),(3,92,0.127201147495956),(3,97,0.0373088778344066),(3,99,2.68225653859066),(3,101,-1.50509659108249),(3,103,-0.707327494125187),(3,105,4.94830164494766),(3,108,-1.62036500137333),(3,109,2.33550523392438),(3,111,2.58433790093692),(3,112,-2.64345225379192),(3,116,1.17667165135655),(4,90,-1.07492294076357),(4,91,-1.02511673329875),(4,97,-3.97045808282723),(4,99,-0.155980101931822),(4,101,0.0386516922513505),(4,108,-0.892742698446608),(4,113,-1.45736564226203),(4,118,1.12390514847255),(5,86,-0.580751976073488),(5,87,0.69022186956389),(5,89,-0.0816064943388166),(5,92,0.758445997497482),(5,93,2.54797509689627),(5,99,-0.438734092226936),(5,104,0.617404705954161),(5,114,1.86292611468856),(5,118,-2.45426801355022),(6,89,-2.47497482222968),(6,92,1.46000549333171),(6,94,0.561387981810969),(6,100,-2.21237830744346),(6,101,0.322946867275002),(6,103,-0.398236030152287),(6,107,1.17522202215644),(6,110,2.49514755699332),(6,113,0.0884731589709158),(7,85,2.3261970885342),(7,86,-1.01925717947935),(7,90,1.03822443311869),(7,95,3.73264259773553),(7,99,2.0099185155797),(7,100,-0.344721823786126),(7,104,1.81739249855037),(7,106,-0.153202917569506),(7,108,4.32201605273598),(7,112,-0.520630512405774),(7,116,1.49784844508194),(8,92,0.874553666798914),(8,93,-2.52859584337901),(8,95,0.413296914578692),(8,99,-3.52159184545427),(8,106,0.00596636860255745),(8,107,-0.256660664693136),(8,115,0.635288552507095),(8,116,-0.571047090060121),(8,118,-0.419858394116031),(9,85,1.69414349803156),(9,87,-0.295754875331889),(9,98,-1.69350260933256),(9,101,-3.41009247108371),(9,103,0.317011017181921),(9,105,-3.98170415356914),(9,106,1.24657429731132),(9,113,3.82677694021424),(10,89,-0.587282937101352),(10,96,2.25910214545122),(10,106,1.70740379039888),(10,108,0.521439252906888),(10,111,-1.31730094302194),(10,112,-0.194097720267342),(10,114,3.95922727134007),(10,115,-2.72229682302316),(10,116,3.3386486404004),(10,117,1.35787530137028),(11,89,-0.686422315134129),(11,97,0.0393078402050842),(11,105,-1.84083071382794),(11,112,0.645908993804743),(11,115,-0.132602923673208),(12,92,-0.709356975005341),(12,93,0.263634144108402),(12,94,-1.47358623004852),(12,97,-2.11352885525071),(12,98,2.38953825495163),(12,99,-1.73682363353374),(12,108,-0.24581133457442),(12,116,1.75803399761956),(13,86,4.09379863887448),(13,87,-1.15216528824732),(13,90,-0.512146366771447),(13,99,-2.22699667348247),(13,102,2.24677266762291),(13,104,-1.59978026673177),(13,113,-0.497924741355633),(13,116,-0.320017090365307),(13,118,1.25019074068422),(14,90,-0.75853755302591),(14,93,0.880458998382519),(14,95,0.251014740440077),(14,102,2.02330088198492),(14,104,-2.72171697134312),(14,106,0.503494369335002),(14,109,4.92838831751457),(14,110,1.35889767143773),(14,111,-0.989059114352855),(15,85,1.46896267586291),(15,92,-0.368617816705832),(15,99,1.58867152928251),(15,101,0.940656758323924),(15,104,-3.78318124942778),(15,108,2.67067476424451),(15,117,0.911191137424848),(16,86,-1.34136478774377),(16,87,1.6628772850734),(16,88,-0.734107486190374),(16,90,-1.11006500442518),(16,91,-4.73281044953765),(16,95,2.39138462477493),(16,97,-2.7410657063509),(16,98,-0.488402966399121),(16,99,-1.66754661702322),(16,101,1.82184820093387),(16,108,3.86507766960662),(16,110,0.121173741874447),(17,89,1.91346476638081),(17,96,1.47445600756859),(17,99,-0.938505203405865),(17,101,-0.640507217627491),(17,106,-0.188802758873257),(17,107,-0.0407727286599321),(17,109,-1.92570268868068),(18,90,-0.446745200964385),(18,91,-1.02710043641469),(18,93,1.69003875850703),(18,99,2.29270302438429),(18,102,1.26671651356548),(18,103,0.767723624378185),(18,104,0.0634784997100742),(18,110,-0.104785302285836),(18,111,3.34412671285134),(18,116,3.09717093417157),(18,117,-2.93038727988525),(18,118,3.70983001190222),(19,87,2.28478347117527),(19,89,1.85021515549181),(19,93,0.659199804681539),(19,95,-2.77161473433638),(19,101,0.636982329783014),(19,105,0.646748252815332),(19,115,2.4861445966979),(20,88,-2.30162968840602),(20,101,-0.515106662190619),(20,103,2.43758964812159),(20,104,-3.23912778099918),(20,105,-0.230140079958495),(20,106,0.84438612018189),(20,111,-0.0646992400891141),(20,116,2.04191717276528),(21,86,-1.41911069063387),(21,87,-0.331751457258827),(21,94,-0.616245002594073),(21,96,-0.0769066438795134),(21,101,-1.00280770287179),(21,102,-1.01712088381603),(21,105,3.57739494003113),(21,107,3.42139957884457),(21,108,-1.38404492324595),(22,86,-2.76685384685812),(22,88,-1.63426618243965),(22,91,-3.05313272499771),(22,92,-1.43581957457198),(22,93,0.752510147404401),(22,98,2.0776238288522),(22,106,-0.49641407513657),(22,115,0.497451704458754),(22,117,-1.67851802117985),(23,85,1.72095400860622),(23,86,-3.04307687612537),(23,88,0.76586199530015),(23,90,2.24329355754265),(23,97,1.96250801110874),(23,104,-0.830042420728172),(23,112,-2.19710379345073),(23,114,0.694845423749504),(23,115,-0.941084017456587),(23,116,3.75032807397687),(24,89,-3.90275276955474),(24,90,-5.10357982116154),(24,91,0.170125431073946),(24,101,3.09753715628529),(24,107,0.734397412030396),(24,108,2.77362895596179),(24,110,-3.30927457502976),(24,112,-0.82815027314066),(25,90,4.30436109500412),(25,92,1.72394482253487),(25,94,1.77671132541887),(25,98,-0.730201116977447),(25,105,0.674336985381634),(25,108,-0.361186559648427),(25,109,-0.923322244941557),(25,115,1.0411999877926),(26,85,-1.19069490646077),(26,87,-0.604785302285836),(26,89,-1.77762688070315),(26,95,0.855265968810083),(26,98,-0.0845210119937743),(26,100,0.964690084536271),(26,101,1.27144688253426),(26,102,-4.01361125522629),(26,103,-1.15866573076571),(26,104,-2.28484450819422),(26,107,0.898464918973357),(26,109,-0.150303659169286),(26,112,2.33262123477889),(26,113,2.90888698995941),(26,117,-3.59643848994415),(27,85,2.43568224127934),(27,87,-1.6902676473281),(27,94,-0.816446424756615),(27,100,3.02967925046541),(27,102,1.45229956968902),(27,103,0.561387981810968),(27,104,0.0789971617786189),(27,105,0.947889645069735),(27,108,1.36745811334574),(27,110,0.328821680349132),(27,114,0.225379192480239),(28,87,2.43951231421857),(28,88,1.74428540910062),(28,97,0.463728751487777),(28,99,-1.89056062501907),(28,104,-0.993377483443709),(28,113,2.06863612781152),(28,114,-0.31000701925718),(29,88,1.10924100466933),(29,91,0.303811761833552),(29,102,-0.475951414532914),(29,105,-2.71036408581805),(29,116,0.701055940427869),(30,95,-0.358439893795587),(30,96,2.34186834315012),(30,99,-0.605792413098544),(30,101,-0.795052949613941),(30,104,-0.966444898831141),(30,109,-3.41842402417066),(30,110,-3.19663075655385),(30,114,-3.0460219122898),(30,118,-1.51948606830042),(31,85,3.17429120761742),(31,92,2.3993652150029),(31,94,-1.48283333841975),(31,96,0.519302957243568),(31,99,2.82540360728782),(31,103,0.799798577837458),(31,107,2.50465407269509),(31,108,0.856822412793359),(31,109,2.34324167607654),(31,111,3.30568865016633),(31,112,-0.791497543259987),(31,117,-0.727988525040437),(32,86,-0.934171575060274),(32,87,0.832300790429395),(32,89,0.423184911648915),(32,92,-0.80092776268807),(32,98,0.341624195074313),(32,99,-0.412900173955504),(32,104,-0.928876613666188),(32,106,0.174275948362682),(32,109,1.00651570177313),(32,116,-0.460097048860134),(32,118,2.1213568529313),(33,96,-1.60896633808405),(33,98,-0.91239661854915),(33,108,-1.59454634235664),(33,110,-1.34940641499069),(33,111,-3.61265907773064),(33,114,-0.0586565752128667),(34,85,-3.21628467665639),(34,90,-0.367046113467818),(34,99,-0.483947264015625),(34,104,1.79152806176946),(34,109,2.23982970671712),(35,86,0.795007171849727),(35,87,1.1376995147557),(35,97,0.835596789452803),(35,98,1.73100985747856),(35,100,-0.721457564012573),(35,104,3.12704855494858),(35,107,-2.41041291543321),(35,109,0.56701864680929),(35,110,-1.09295937986389),(35,112,3.08374279000214),(36,85,-0.638080996124149),(36,87,-1.05513168736839),(36,90,1.42010254219184),(36,91,-0.65431684316538),(36,104,-0.246894741660817),(36,107,0.340220343638417),(36,109,0.703909421063875),(36,112,-0.335779900509659),(36,115,3.63132114627522),(36,117,-0.714178899502548),(36,118,1.00193792535173),(37,85,-1.3272041993469),(37,86,-0.594119083223975),(37,87,1.2572099978637),(37,91,-1.35464033936583),(37,99,0.131382183294168),(37,105,0.199255348368786),(37,111,3.10039063692129),(37,112,1.93986327707755),(37,118,-2.41358684041871),(38,87,1.34516434217353),(38,90,0.0223395489364302),(38,103,3.00473036896878),(38,105,2.92234565263833),(38,106,-0.272530289620655),(38,111,2.71794793542283),(38,115,-1.32547990356151),(39,87,2.13745536667989),(39,89,2.01834162419507),(39,91,-2.11066011535997),(39,94,-0.00079348124637596),(39,97,-1.33042390209662),(39,98,1.28406628620258),(39,107,2.24767296365246),(39,108,1.09810174871059),(39,109,4.0878627887814),(39,111,1.95927304910428),(39,113,1.87466048158208),(39,116,1.84871974852748),(39,118,-4.08684041871395),(40,88,1.69695120090335),(40,92,-0.224082155827509),(40,99,-2.92690816980499),(40,104,-1.42432935575426),(40,110,-1.90289010284738),(40,116,-1.47532578508866),(40,118,0.362788781395917),(41,88,-0.692236091189306),(41,93,1.53608813745537),(41,96,0.519470809045686),(41,97,-2.87141026032289),(41,100,0.32433545945616),(41,101,-0.491531113620411),(41,104,-0.421796319467757),(41,105,0.0490585039826656),(41,106,-1.52931302835169),(41,107,-0.076525162511063),(41,109,1.30976287118137),(41,110,-1.68758201849422),(41,111,0.413830988494522),(41,112,-0.587786492507706),(42,85,-0.571581163975952),(42,86,0.167287209692679),(42,87,2.65228736228523),(42,99,0.167546617023225),(42,100,0.984725486007264),(42,103,0.443357646412549),(42,109,-0.307596057008575),(42,113,-2.79210791344951),(43,85,0.797189245277261),(43,88,-1.48312326425977),(43,89,-3.5442518387402),(43,93,0.359233375041963),(43,97,-2.25975829340495),(43,98,3.61243018890957),(43,101,4.73306985686819),(43,102,2.16316721091342),(43,103,-2.07434308908353),(43,105,-0.531708731345561),(43,110,-1.20004882961516),(43,112,0.918698690755944),(43,114,-2.47793511764885),(43,116,-0.43549913022248),(44,89,-0.567033906064028),(44,98,1.40049439985351),(44,99,-0.962538529618213),(45,87,-0.585100863673818),(45,88,-0.775307473982971),(45,90,-0.10818811609241),(45,91,2.36413159581286),(45,95,1.4164708395642),(45,98,1.69695120090335),(45,108,1.90440076906644),(45,109,2.31197546311838),(45,112,-0.244315927610095),(45,115,1.13512070070498),(46,85,1.59620960112308),(46,89,4.81786553544725),(46,91,2.54936368907743),(46,94,1.60681478316599),(46,97,-1.26949369792779),(46,100,0.288644062623981),(46,101,-0.498275704214606),(46,108,2.91383098849452),(46,112,-1.4377574999237),(47,86,1.71254615924558),(47,91,0.595553453169348),(47,92,3.70731223487045),(47,94,1.61278115176855),(47,95,1.34693441572314),(47,100,-0.266258735923337),(47,101,-0.0905636768700216),(47,104,-0.010681478316599),(47,105,-3.13747062593463),(47,108,-1.70270393993957),(47,112,-4.24924466689047),(47,114,-0.842463454084903),(47,118,-1.19092379528184),(48,86,-2.03036591692862),(48,91,1.25150303659169),(48,98,-1.68584246345408),(48,99,1.09680471205786),(48,100,-2.33320108645894),(48,103,-4.13162633136998),(48,105,-0.188161870174261),(48,106,-3.1494644001587),(48,111,0.0578173162022767),(48,115,0.204626606036561),(49,87,-1.53123569444868),(49,89,0.441526535843989),(49,93,-0.552461317789239),(49,94,0.967360454115421),(49,95,3.5106814783166),(49,102,1.7493362224189),(49,113,2.96653645435957),(49,114,-1.16873683889279),(50,89,1.55874813074129),(50,105,-0.5699942014832),(50,107,-3.06082338938566),(51,87,0.394283883175146),(51,92,3.16499832148198),(51,97,0.471388897366253),(51,98,0.39600817896054),(51,103,-1.27674184392834),(51,106,-0.339625232703635),(51,112,3.89507736442152),(51,118,-4.31272316660054),(52,89,-1.60065004425184),(52,97,1.3671987060152),(52,106,3.12463759269997),(52,110,0.0696584978789636),(52,111,-2.35831781975768),(52,113,-0.692602313303018),(52,114,-2.17940305795465),(52,118,2.12993255409406),(53,88,-2.20165105136265),(53,90,-0.0772881252479629),(53,92,-2.34841456343272),(53,94,1.52768028809473),(53,104,1.09901730399487),(53,105,-0.971495712149419),(53,109,-3.25756096072268),(54,85,-0.994094668416394),(54,91,2.68616290780358),(54,94,2.06930753501999),(54,96,-1.27559739982299),(54,111,2.07441938535722),(54,112,0.95448164311655),(54,113,-0.22103030487991),(54,118,1.09523300881985),(55,87,1.21037934507279),(55,95,-1.49235511337626),(55,107,0.368358409375286),(55,110,-4.18713950010681),(55,117,2.64145329142125),(56,107,-0.117236854152043),(56,111,-1.8580431531724),(56,113,-0.914258247627186),(56,114,0.181524094363231),(57,87,-1.40337839899899),(57,90,1.46488845484787),(57,91,1.97721793267617),(57,92,0.206488235114597),(57,93,2.15271462141789),(57,94,2.79836420789209),(57,95,-0.641972106082339),(57,96,-1.32522049623096),(57,100,-0.828348643452254),(57,102,1.60847804193243),(57,103,-0.97422711874752),(57,115,0.304422132023072),(58,86,3.53694265572069),(58,87,-1.26854762413404),(58,89,2.24808496353038),(58,90,-0.344477675710318),(58,95,-2.89263588366344),(58,96,3.83999145481735),(58,101,2.26219977416303),(58,103,1.27912228766747),(58,109,-1.37958922086245),(58,110,2.00781273842586),(58,113,-1.58409375286111),(58,114,2.06907864619892),(58,115,1.27544480727561),(59,85,1.72089297158727),(59,86,-3.48597674489578),(59,90,-0.785851619006928),(59,91,3.15088351084933),(59,93,-2.24181340983306),(59,97,0.575640125736259),(59,98,-0.197882015442366),(59,100,3.17549668874172),(59,102,1.33567308572649),(59,112,3.14683980834376),(59,114,3.26502273628956),(60,85,-3.11731315042573),(60,87,0.784340952787866),(60,90,-0.354167302468947),(60,91,1.15169225135044),(60,96,-1.52417065950499),(60,100,0.565279091769158),(60,101,3.12295907467879),(60,105,1.06563005462813),(60,107,-2.11259804071169),(60,109,-2.24985503707999),(60,110,-3.67426068910794),(60,114,-0.932111575670644),(61,89,0.205206457716605),(61,94,-1.08189642017884),(61,96,1.00572222052675),(61,98,1.52813806573687),(61,100,0.0336466566972869),(61,102,0.499969481490524),(61,103,-0.319605090487381),(61,114,1.17383342997528),(61,115,-2.11622974333934),(62,93,1.736808374279),(62,95,-1.86605426190985),(62,107,-1.28437147129734),(62,109,1.4195226905118),(62,110,-1.41537217322306),(62,111,-2.41422772911771),(63,87,0.247962889492477),(63,90,2.4388409070101),(63,93,-1.87498092593158),(63,97,3.81557664723655),(63,100,-3.48677022614216),(63,103,-0.139637440107425),(63,104,-0.661824396496475),(63,108,-0.361568041016877),(63,111,-0.407284768211921),(63,114,-1.93171483504746),(63,117,0.619403668324839),(64,87,4.2360454115421),(64,94,-3.34763634144108),(64,99,0.24207281716361),(64,110,1.41161839655751),(64,112,3.43188268684957),(64,116,3.30596331675161),(65,87,-1.01507614368114),(65,88,-2.15974913785211),(65,90,-1.03808709982604),(65,97,-1.63124485000153),(65,99,0.287118137150182),(65,107,0.923917355876339),(65,110,-4.39063692129276),(65,111,-3.55929746391186),(65,114,-0.949034089175084),(65,116,-1.74544511246071),(65,117,2.87392803735466),(66,85,-4.28319650868252),(66,102,-0.488006225775933),(66,105,3.58626056703391),(66,108,0.683095797601245),(66,111,-1.03012176885281),(66,115,5.20567949461348),(66,118,1.92081972716453),(67,86,-1.82168034913175),(67,90,-1.09456160161138),(67,92,-0.0815454573198648),(67,104,-0.0129398480178228),(67,109,-1.52407910397656),(67,111,2.1991790520951),(68,87,-2.29132969145787),(68,88,-1.36837366863002),(68,90,0.737174596392712),(68,93,0.0534684286019471),(68,95,0.651051362651448),(68,96,0.277169103061007),(68,97,-1.02259895626698),(68,103,2.49565111239967),(68,107,-0.377285073397015),(68,112,1.47976622821741),(68,114,1.16612750633259),(69,87,1.76543473616749),(69,88,-1.64206366161077),(69,92,0.580767235328227),(69,94,0.645542771691031),(69,95,-1.64601580858791),(69,97,-1.55684072389904),(69,108,-2.01010162663656),(69,113,-0.533646656697287),(69,114,0.629016998809778),(69,118,3.02475051118503),(70,85,1.38198492385632),(70,86,3.88409070101016),(70,87,-1.78533280434584),(70,90,3.18028809472945),(70,96,0.676747947630238),(70,97,0.853740043336283),(70,99,2.42185735648671),(70,105,-2.49748222296823),(70,107,-3.14296395764031),(70,109,1.92770165105136),(70,110,0.120700704977569),(70,111,-0.437543870357372),(71,85,-0.721518601031526),(71,93,3.76493118076113),(71,96,1.4440595721305),(71,100,-0.0679342020935697),(71,104,2.92954802087466),(71,106,-0.208441419721061),(71,111,-0.210882900479141),(71,113,2.01841792046876),(72,94,2.40198980681784),(72,96,0.0884426404614398),(72,99,-2.93321024201178),(72,110,-1.06105227820673),(72,112,0.663823358867153),(72,114,2.03523361919004),(72,115,-2.03619495223853),(72,116,0.78019043549913),(73,88,0.847773674733726),(73,94,2.03465376750999),(73,99,2.45941038239692),(73,100,0.543321024201178),(73,106,1.45657216101566),(73,110,0.451521347697379),(73,115,-2.42158268990143),(74,90,2.44293038727989),(74,94,-0.812433240760521),(74,99,-1.76549577318644),(74,102,1.82036805322428),(74,106,2.16316721091342),(74,107,-2.6419568468276),(74,110,0.397824030274361),(74,113,1.35586107974487),(74,116,0.291314432203131),(75,85,-1.17819757683035),(75,86,0.367137668996246),(75,93,-3.36349070711386),(75,98,-1.5022888882107),(75,103,-0.91674550614948),(75,105,0.722724082155828),(75,111,-1.99736014893033),(75,117,-3.20453505050813),(76,86,0.197454756309702),(76,89,0.509460737937559),(76,92,-1.02839747306742),(76,94,-2.48771629993591),(76,99,-1.91712698751793),(76,101,-1.00550859096042),(76,103,-0.398190252388073),(76,106,-0.8691671498764),(76,110,-0.633472701193274),(76,113,-0.385753959776605),(77,88,0.229377117221595),(77,91,0.882259590441603),(77,93,1.16229743339335),(77,98,2.8806115909299),(77,101,1.16153447065645),(77,102,-0.171361430707724),(77,103,-2.10951567125462),(77,104,1.62678914761803),(77,105,2.68007446516312),(77,109,-0.513519699697867),(78,88,-0.153798028504288),(78,93,-1.23194067201758),(78,94,2.05916013061922),(78,101,0.0633564256721704),(78,104,4.62283700064089),(78,110,-1.34018982512894),(78,114,3.49215674306467),(78,116,0.138782921842097),(78,117,-0.920056764427625),(78,118,-0.546296578875088),(79,87,2.928479873043),(79,92,0.0235755485702078),(79,94,0.839686269722587),(79,107,-0.727652821436201),(79,108,1.77434614093448),(79,114,-2.21884823145238),(79,118,2.3928189947203),(80,87,0.604174932096316),(80,88,-2.54402294991913),(80,91,0.116214484084597),(80,99,2.78164006469924),(80,101,2.35026093325602),(80,107,1.38605914487136),(80,113,0.570314645832698),(81,85,1.69202246162297),(81,86,-0.556505020294809),(81,90,0.414212469862972),(81,93,-4.18471327860347),(81,96,3.60666219061861),(81,97,-0.40850550859096),(81,106,-1.55247657704398),(81,107,0.348902859584338),(81,110,-1.97996459852901),(81,115,1.4345835749382),(82,86,-2.40829187902463),(82,92,-0.445631275368511),(82,110,-0.582354197820978),(82,112,0.119052705465865),(83,87,-1.26956999420148),(83,91,2.09610278633992),(83,93,0.934522537919248),(83,101,0.614108706930754),(83,103,-0.98918118839076),(83,105,-2.70467238380078),(83,108,-2.02009643848994),(84,85,0.758125553147984),(84,86,1.47465437788018),(84,89,-1.51026947843867),(84,95,1.55815301980651),(84,99,0.511413922544023),(84,104,-0.0499740592669454),(84,111,-1.9899594103824),(84,113,-0.0667287209692679),(84,114,2.07115390484329),(10,119,1.68019653920103),(119,109,-0.577654347361675),(58,120,1.28786584063234),(120,118,0.300378429517502),(95,104,1.64326914273507)]
orgname='BHNEAT_9_15'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()