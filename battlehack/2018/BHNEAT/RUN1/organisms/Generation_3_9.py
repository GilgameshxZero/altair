edge = [(0,85,1.33564256721702),(0,89,-0.875820184942167),(0,90,1.07562486648152),(0,93,-0.282586138492996),(0,98,-0.742728965117344),(0,101,-0.247230445265053),(0,105,1.10042115543077),(0,108,-2.49247718741417),(0,113,-0.960234382152776),(0,114,-0.408673360393078),(0,117,0.0203405865657521),(0,118,0.489684743797113),(1,86,0.242866298409986),(1,92,0.862132633442183),(1,98,2.65544602801599),(1,102,1.64378795739616),(1,104,-0.831064790795617),(1,107,-1.54780724509415),(1,108,1.51763969847713),(1,109,1.55470442823572),(1,113,0.99900814844203),(2,87,0.446455275124363),(2,88,-0.883251441999573),(2,100,2.75064851832636),(2,106,2.2552415540025),(2,108,0.43740653706473),(2,110,-0.131488998077334),(2,113,2.47958311716056),(2,118,-1.97700430310984),(3,89,1.38106936857204),(3,92,-1.60936307870724),(3,97,0.639545884578997),(3,99,-2.19443342387158),(3,101,-1.9978331858272),(3,103,1.79772331919309),(3,105,1.51861629078036),(3,108,-1.11543626209296),(3,109,0.560487685781426),(3,111,1.57589953306681),(3,112,-0.387676625873592),(3,116,-2.7181768242439),(4,90,1.66856898709067),(4,91,2.12262337107456),(4,97,1.5681478316599),(4,99,-0.114185003204443),(4,101,-1.39474166081729),(4,108,-0.336603900265511),(4,113,-0.0899227881710257),(4,118,0.306604205450606),(5,86,-0.595782341990417),(5,87,-1.39735099337748),(5,89,0.141575365459151),(5,92,-1.69251075777459),(5,93,-0.441694387646107),(5,99,0.573259681997131),(5,104,-2.36368907742546),(5,114,2.13245033112583),(5,118,-2.47601245155187),(6,89,2.62739951780755),(6,92,-1.05742057557909),(6,94,-2.08594012268441),(6,100,0.140842921231727),(6,101,-1.36648152104251),(6,103,0.701025421918393),(6,107,2.26799829096347),(6,110,1.76747947630238),(6,113,-1.5366222113712),(7,85,1.59660634174627),(7,86,-0.149601733451338),(7,90,-2.67131565294351),(7,95,-0.558336130863369),(7,99,-1.50141911069063),(7,100,2.05270546586505),(7,104,0.646671956541643),(7,106,0.84446241645558),(7,108,-2.07992797631764),(7,112,2.1590624713889),(7,116,-0.871410260322886),(8,92,-0.267693105868709),(8,93,1.6864528336436),(8,95,0.342219306009094),(8,99,-0.224265266884365),(8,106,1.4422132023072),(8,107,1.9196447645497),(8,115,2.15958128604999),(8,116,0.115009002960295),(8,118,-2.0620441297647),(9,85,-2.57737968077639),(9,87,-2.44801171910764),(9,98,-0.961989196447646),(9,101,-1.68509475997192),(9,103,1.81600390636921),(9,105,2.17983031708731),(9,106,-2.22682882168035),(9,113,0.319101535081027),(10,89,-2.32970671712394),(10,96,-1.77994628742332),(10,106,2.01780755027924),(10,108,0.335612048707541),(10,109,-1.03682058168279),(10,111,0.93893246253853),(10,112,-1.93365276039918),(10,114,0.470717490157781),(10,115,0.766167180394909),(10,116,-1.76639606921598),(10,117,1.14572588274789),(11,89,-0.471739860225227),(11,97,-2.34931485946226),(11,105,-2.17802972502823),(11,112,1.65977965636158),(11,115,2.25815607165746),(12,92,2.05693227942747),(12,93,-0.756599627674184),(12,94,0.632633442182684),(12,97,-2.11542100283822),(12,98,-1.60841700491348),(12,99,-1.53788872951445),(12,108,-0.450972014526811),(12,116,0.184621723075045),(13,86,1.51490829187902),(13,87,-0.559007538071841),(13,90,-2.15234839930418),(13,99,-1.58316293832209),(13,102,-1.13763847773675),(13,104,-2.3104953154088),(13,113,-1.23442793053987),(13,116,-1.30181279946287),(13,118,1.74315622425001),(14,90,2.1052125614185),(14,93,-1.04020813623463),(14,95,1.67833491012299),(14,102,-0.308359019745476),(14,104,0.69571520126957),(14,106,-2.91886654255806),(14,109,-1.2677694021424),(14,110,-0.657277138584552),(14,111,1.03041169469283),(15,85,-0.851603747672964),(15,92,0.883693960386975),(15,99,1.21158482619709),(15,101,-1.44904934842982),(15,104,-0.974166081728568),(15,108,-0.0785393841364789),(15,117,-1.08949552903836),(16,86,1.71149327066866),(16,87,-0.796014282662435),(16,88,-2.47230445265053),(16,90,-0.544892727439192),(16,91,1.66557817316202),(16,95,-2.08587908566546),(16,97,1.05888546403394),(16,98,0.587572862941374),(16,99,2.24385814996796),(16,101,0.351985229041414),(16,108,0.116321298867763),(16,110,-1.609668263802),(17,89,1.88279366435743),(17,96,-1.83352153080844),(17,99,-0.0270088808862575),(17,101,-0.515350810266427),(17,106,0.791573839533677),(17,107,-0.520172734763634),(17,109,1.80991546372875),(18,90,2.43253883480331),(18,91,-0.515259254737999),(18,93,-0.892925809503464),(18,99,-1.52389599291971),(18,102,0.445860164189581),(18,103,-1.66618854335154),(18,104,0.0610522782067324),(18,110,-2.74553666798914),(18,111,1.33069856868191),(18,116,1.01408429212317),(18,117,1.06225775933103),(18,118,0.315225684377575),(19,87,1.8286080507828),(19,89,-1.94512771996216),(19,93,-0.829844050416578),(19,95,-1.4951017792291),(19,101,-1.98756370738853),(19,105,-0.278939176610614),(19,115,0.661687063203833),(20,88,-2.88288521988586),(20,101,-1.19524216437269),(20,103,0.350764488662374),(20,104,1.98193304239021),(20,105,0.568224127933592),(20,106,-1.37803277687918),(20,111,1.32078005310221),(20,116,-0.941755424665059),(21,86,0.0558030945768608),(21,87,-1.60458693197424),(21,94,1.37664418469802),(21,96,0.963698232978301),(21,101,0.108020264290292),(21,102,-2.22655415509506),(21,105,1.18607135227515),(21,107,-2.32786034730064),(21,108,1.12160100100711),(22,86,0.0486617633594775),(22,88,2.67052217169713),(22,91,-0.986754966887417),(22,92,1.70706808679464),(22,93,-1.71880245368816),(22,98,-1.39391766106143),(22,106,0.994018372142704),(22,115,-2.2739951780755),(22,117,-0.087435529648732),(23,85,-2.3500930814539),(23,86,-1.84893337809381),(23,88,-0.876445814386425),(23,90,-2.90481276894436),(23,97,2.24192022461623),(23,104,-1.50788903469955),(23,112,-0.0558641315958129),(23,114,0.568910794396802),(23,115,-1.02014221625416),(23,116,0.374919888912625),(24,89,-0.792565691091647),(24,90,-0.707281716360973),(24,91,0.244636371959594),(24,101,-2.21040986358226),(24,107,-1.40890224921415),(24,108,1.64874721518601),(24,110,0.732703634754479),(24,112,1.45654164250618),(25,90,2.52330088198492),(25,92,1.23499252296518),(25,94,0.734321115756706),(25,98,-2.61194189275796),(25,105,-1.13864558854946),(25,108,1.98379467146825),(25,109,2.12117374187445),(25,115,-2.83437604907376),(26,85,-0.0415662099063082),(26,87,-0.333460493789483),(26,89,2.23773918881802),(26,95,-2.42950224311045),(26,98,1.46896267586291),(26,100,-0.351893673512986),(26,101,2.20571001312296),(26,102,0.022476882229072),(26,103,1.80249946592608),(26,104,0.323587755973998),(26,107,-1.02632221442305),(26,109,-0.590762047181616),(26,112,0.587405011139256),(26,113,1.57727286599322),(26,117,-0.312433240760521),(27,85,3.1140476699118),(27,87,-3.2003845332194),(27,94,-0.707495345927305),(27,100,1.11912900173956),(27,102,2.60534989471114),(27,103,-0.0423596911526841),(27,104,0.0287179174169133),(27,105,-0.938261055330058),(27,108,-0.971205786309397),(27,110,0.738990447706534),(27,114,2.44904934842982),(28,87,-1.99464400158696),(28,88,2.58165227210303),(28,97,1.03047273171178),(28,99,-0.758064516129032),(28,104,1.44776757103183),(28,113,-1.32647175511948),(28,114,2.09459212012085),(29,88,1.8127842036195),(29,91,1.66948454237495),(29,102,-1.45896786400952),(29,105,1.25243385113071),(29,116,-1.9222540971099),(30,95,1.45355082857753),(30,96,-0.551240577410199),(30,99,-1.0535294656209),(30,101,-1.7433545945616),(30,104,1.41694387646107),(30,109,1.1816309091464),(30,110,0.47453230384228),(30,114,1.99592577898495),(30,118,0.813043610950041),(31,85,-1.116016113773),(31,92,1.72682882168035),(31,94,-0.908246101260414),(31,96,-1.44540238654744),(31,99,-0.294640949736015),(31,103,-1.70108645893735),(31,107,0.261101107821894),(31,108,-0.0689107943968017),(31,109,-2.35175634022034),(31,111,-1.25917844172491),(31,112,-1.35349589526048),(31,117,-1.96928312021241),(32,86,-2.9671926023133),(32,87,2.21492660298471),(32,89,-1.55046235541856),(32,92,0.123950926236763),(32,98,1.14764854884487),(32,99,-1.43870357371746),(32,104,-0.462920010986663),(32,106,-1.57251197851497),(32,109,1.45735038300729),(32,116,-0.852748191778314),(32,118,-0.801293984801782),(33,96,0.572679830317087),(33,98,-2.33816034424879),(33,108,1.0129703665273),(33,110,1.46514786217841),(33,111,-2.0678273873104),(33,114,1.70075075533311),(34,85,0.73657948545793),(34,90,-1.82840968047121),(34,99,1.2497787408063),(34,104,-1.14540543839839),(34,109,2.09106723227638),(35,86,-0.118732261116367),(35,87,-1.17976928006836),(35,97,0.466338084047975),(35,98,-1.95948667867061),(35,100,2.21878719443342),(35,104,-0.722067934202094),(35,107,0.0293435468611713),(35,109,1.04695272682882),(35,110,-2.33007293923765),(35,112,3.32880642109439),(36,85,1.46964934232612),(36,87,-2.36779381694998),(36,90,0.0269478438673054),(36,91,-0.883846552934355),(36,104,0.191610461745048),(36,107,0.823923459578234),(36,109,0.882351145970031),(36,112,1.42791528061769),(36,115,-0.269661549729911),(36,117,0.3924985503708),(36,118,0.604312265388958),(37,85,2.15422528763695),(37,86,0.590136417737358),(37,87,0.69457075716422),(37,91,0.613956114383373),(37,99,3.15591906491287),(37,105,-2.83603930784021),(37,111,-0.429441206091494),(37,112,1.88933988464003),(37,118,-0.422177800836207),(38,87,-1.75487533188879),(38,90,-0.602603228858303),(38,103,-0.858592486342967),(38,105,-0.236899929807428),(38,106,0.943342387157811),(38,111,0.36642048402356),(38,115,-2.0303201391644),(39,87,-1.8216193121128),(39,89,0.701803643910031),(39,91,0.329004791405988),(39,94,-2.63209936826685),(39,97,1.97485274819178),(39,98,0.662450025940733),(39,107,-1.67116306039613),(39,108,-3.10495315408795),(39,109,1.89179662465285),(39,111,2.18848231452376),(39,113,-0.429898983733634),(39,116,2.40824610126041),(39,118,-1.47323526718955),(40,88,-2.26537369914853),(40,92,-2.93345439008759),(40,99,-2.19623401593066),(40,104,-1.53535569322794),(40,110,0.00561540574358352),(40,116,1.37540818506424),(40,118,1.20206305124058),(41,88,-2.24428540910062),(41,93,-0.383236182744835),(41,96,-2.94135868404187),(41,97,-0.881359294412061),(41,100,0.345500045777764),(41,101,-0.121005890072329),(41,104,-2.49018829920347),(41,105,-0.972060304574725),(41,106,-1.65457625049593),(41,107,0.687704092532121),(41,109,-1.11293374431593),(41,110,-1.71263771477401),(41,111,-2.38329721976379),(41,112,-2.41257972960601),(42,85,1.06056398205512),(42,86,-1.82106997894223),(42,87,-1.6565752128666),(42,99,0.586977752006592),(42,100,-0.597827082125309),(42,103,-1.32709738456374),(42,109,-1.4464705343791),(42,113,1.10420545060579),(43,85,-0.254341257972961),(43,88,-0.99633777886288),(43,89,-0.808008056886502),(43,93,0.964720603045747),(43,97,-1.48025452436903),(43,98,0.26616718039491),(43,101,0.256309701834162),(43,102,-0.753990295113987),(43,103,2.83124790185247),(43,105,-0.436307870723594),(43,110,0.856089968565935),(43,112,0.054902798547319),(43,114,0.575685903500473),(43,116,0.511230811487167),(44,89,-0.144657734916227),(44,98,2.45084994048891),(44,99,-0.908185064241463),(45,87,-0.409161656544694),(45,88,2.3472396008179),(45,90,0.69876705221717),(45,91,-0.511108737449263),(45,95,-0.537629322183905),(45,98,-2.45985290078433),(45,108,0.0167088839381085),(45,109,2.44383068330943),(45,112,1.46742149113437),(45,115,-2.22208319345683),(46,85,0.128803369243446),(46,89,-0.850901821955016),(46,91,-1.84839930417798),(46,94,-0.638447218237861),(46,97,-0.577700125125889),(46,100,-0.0953703421124912),(46,101,-2.92571794793542),(46,108,2.43131809442427),(46,112,-0.220450453199866),(47,86,1.99372844630268),(47,91,0.56366161076693),(47,92,0.646931363872188),(47,94,-1.25559251686148),(47,95,-1.96755882442702),(47,100,0.0247352519302957),(47,101,-0.493560594500565),(47,104,-0.239997558519242),(47,105,-3.04025391399884),(47,108,1.21219519638661),(47,112,-0.483428449354533),(47,114,0.0957213049714652),(47,118,-0.665440839869381),(48,86,0.889477217932676),(48,91,0.986297189245277),(48,98,-0.194174016541032),(48,99,-0.924283577990051),(48,100,-1.33016449476608),(48,103,0.447798089541307),(48,105,1.14830469679861),(48,106,-0.169515060884426),(48,111,1.02856532486953),(48,115,0.265190588091678),(49,87,-1.58703878902554),(49,89,1.26160466322825),(49,93,0.0337687307351908),(49,94,-1.96298104800562),(49,95,-0.856242561113315),(49,102,-1.98301644947661),(49,113,1.94758445997497),(49,114,2.03831598864711),(50,89,-1.45919675283059),(50,105,1.28002258369701),(50,107,-2.48152104251228),(51,87,0.424710837122715),(51,92,-2.52900784325694),(51,97,-0.218054750206),(51,98,1.39211706900235),(51,103,0.47949156163213),(51,106,2.74855800042726),(51,112,1.51202429273354),(51,118,2.00648518326365),(52,89,1.32375560777612),(52,97,-0.287728507339702),(52,106,1.91921750541704),(52,110,-0.779564806054872),(52,111,0.450727866451003),(52,113,1.88363292336802),(52,114,1.51046784875027),(52,118,1.48333689382611),(53,88,-0.638111514633625),(53,90,0.10879848628193),(53,92,-1.92944120609149),(53,94,-0.363032929471724),(53,104,0.263542588579974),(53,105,1.63936277352214),(53,109,1.22858363597522),(54,85,-2.14374217963195),(54,91,0.229239783928953),(54,94,-2.05223242896817),(54,96,-0.758354441969054),(54,111,1.11598559526353),(54,112,2.24146244697409),(54,113,1.83693960386975),(54,118,-0.776314584795678),(55,87,-0.455580309457686),(55,95,-2.45017853328043),(55,107,-0.226371044038209),(55,110,-2.80336924344615),(55,117,-0.836085085604419),(56,107,0.41521958067568),(56,111,0.678670613727225),(56,113,0.876842555009613),(56,114,-1.73487044892727),(57,87,0.269157994323557),(57,90,3.15877254554888),(57,91,1.57522812585833),(57,92,0.203604235969115),(57,93,1.74188970610675),(57,94,-2.09753715628529),(57,95,-1.06730857264931),(57,96,1.97645496993927),(57,100,0.686071352275155),(57,102,0.532853175450911),(57,103,0.841410565507981),(57,115,1.34099856563005),(58,86,-1.74785607470931),(58,87,-0.0673696096682638),(58,89,1.3932615131077),(58,90,-0.52188177129429),(58,95,-1.70361949522385),(58,96,-2.52885525070956),(58,101,-0.290627765739921),(58,103,0.0476088747825556),(58,109,1.03155613879818),(58,110,2.15671254615925),(58,113,-0.63129062776574),(58,114,-1.59129612109745),(58,115,-2.71152378917814),(58,118,-1.3872798852504),(59,85,-2.00611896114994),(59,86,-0.385601367229225),(59,90,1.95182653279214),(59,91,-1.3595690786462),(59,93,1.34586626789148),(59,97,0.54292428357799),(59,98,-1.38023010956145),(59,100,-0.58333079012421),(59,102,-1.87893307290872),(59,112,-2.1106753746147),(59,114,-0.985641041291543),(60,85,1.44489883114109),(60,87,2.36959440900906),(60,90,0.042970061342204),(60,91,2.12262337107456),(60,96,-2.22554704428236),(60,100,0.753730887783441),(60,101,-2.79934080019532),(60,105,-2.82900479140599),(60,107,-0.146382030701621),(60,109,1.36864833521531),(60,110,-0.429944761497848),(60,114,2.72838526566363),(61,89,0.623889889217811),(61,94,-0.422238837855159),(61,96,-0.772408215582751),(61,98,-1.06093020416883),(61,100,-0.118350779747917),(61,102,0.792703024384289),(61,103,-2.04005554368725),(61,114,-0.123905148472549),(61,115,-1.81891842402417),(62,93,-1.70093386638997),(62,95,-1.74958037049471),(62,107,0.352748191778314),(62,109,-0.0990630817590869),(62,110,0.799752800073244),(62,111,0.889461958677938),(63,87,-0.761009552293466),(63,90,-1.0594347972045),(63,93,0.155827509384442),(63,97,1.48785363322855),(63,100,-1.30977813043611),(63,103,-2.54211554307688),(63,104,-2.9980315561388),(63,108,-1.1802270577105),(63,111,2.63536484878079),(63,114,0.899258400219733),(63,117,-0.0473036896877956),(64,87,-0.293145542771691),(64,94,0.792489394817957),(64,99,-0.860881374553667),(64,110,-1.97315897091586),(64,112,1.41491439558092),(64,116,-1.04844813379315),(65,87,1.72679830317087),(65,88,-0.437116611224708),(65,90,1.03831598864711),(65,97,-0.243110446485794),(65,99,-2.16046632282479),(65,107,2.46601763969848),(65,110,-1.50109866634114),(65,111,-0.181966612750633),(65,114,-1.5977050080874),(65,116,-0.520294808801538),(65,117,-1.02220221564379),(66,85,-0.570436719870602),(66,102,-0.415341654713584),(66,105,0.346888637958922),(66,108,2.46575823236793),(66,111,2.21771904660176),(66,115,-0.662175359355449),(66,118,0.930509353923154),(67,86,1.05269020661031),(67,90,-0.763313699758904),(67,92,2.67587817011017),(67,104,-0.588717307046724),(67,109,-1.72035889767144),(67,111,-0.905911435285501),(68,87,-3.12092959379864),(68,88,0.742362743003632),(68,90,0.687582018494217),(68,93,2.40295113986633),(68,95,1.67679372539445),(68,96,0.164799951170385),(68,97,-0.0634022034363842),(68,103,-0.532670064394055),(68,107,-0.396679586169011),(68,112,1.95677053132725),(68,114,-0.625293740653706),(69,87,0.582232123783074),(69,88,-0.720297860652486),(69,92,-1.06474501785333),(69,94,-0.0209662160100101),(69,95,-0.479598376415296),(69,97,1.07693716238899),(69,108,0.0570696127201147),(69,113,-0.0641041291543321),(69,114,-0.749076815088351),(69,118,0.437421796319468),(70,85,-0.795007171849727),(70,86,-0.84720908230842),(70,87,-0.970213934751427),(70,90,-1.91199987792596),(70,96,1.72284615619373),(70,97,-0.290993987853633),(70,99,1.87612537003693),(70,105,1.71015045625172),(70,107,-1.56730857264931),(70,109,0.803933835871456),(70,110,-1.46801660206915),(70,111,-0.194296090578936),(71,85,-2.81849116489151),(71,93,0.0202337717825861),(71,96,1.9426557206946),(71,100,0.651249732963042),(71,104,-0.963408307138279),(71,106,-0.0127414777062288),(71,111,-1.29229102450636),(71,113,-1.31327249977111),(72,94,-0.515335551011689),(72,96,-1.88978240302744),(72,99,-0.491714224677267),(72,110,-2.13678395947142),(72,112,-1.41618091372417),(72,114,0.75792718283639),(72,115,0.947691274758141),(72,116,0.615146336252937),(73,88,1.90324106570635),(73,94,0.549302652058474),(73,99,-0.119281594286935),(73,100,-0.493652150028993),(73,106,0.111377300332652),(73,110,-0.271324808496353),(73,115,0.572344126712851),(74,90,1.90404980620746),(74,94,-0.180700094607379),(74,99,0.910550248725852),(74,102,-1.41773735770745),(74,106,0.732413708914457),(74,107,0.2624286629841),(74,110,0.523453474532304),(74,113,-0.369075594347972),(74,116,1.22298348948637),(75,85,0.86443678090762),(75,86,-1.30593279824213),(75,93,0.317331461531419),(75,98,-2.22269356364635),(75,103,1.00285348063601),(75,105,0.596438489944151),(75,111,0.445707571642201),(75,117,0.434568315683462),(76,86,-0.727774895474105),(76,89,0.837092196417127),(76,92,-2.60235908078249),(76,94,2.17294839320048),(76,99,-0.307321390423292),(76,101,-0.24245429853206),(76,103,0.208273567918943),(76,106,-1.66499832148198),(76,110,0.84331797235023),(76,113,-0.643864253669851),(77,88,0.530472731711783),(77,91,-0.0179143650624104),(77,93,-1.8481246375927),(77,98,0.613330484939115),(77,101,-0.129352702414014),(77,102,-0.740379039887692),(77,103,-2.92411572618793),(77,104,-0.996307260353404),(77,105,1.93023468733787),(77,109,-0.110415967284158),(78,88,1.06575212866604),(78,93,-0.636616107669301),(78,94,-2.27683339945677),(78,101,-0.418866542558061),(78,104,-0.24237800225837),(78,110,1.90583513901181),(78,114,1.60478530228584),(78,116,-1.32984405041658),(78,117,-2.42732016968291),(78,118,-1.78319650868252),(79,87,1.06454664754173),(79,92,-1.64719077120273),(79,94,1.69064912869655),(79,107,1.64539017914365),(79,108,-0.0759758293404951),(79,114,-0.305703909421064),(79,118,-1.86147648548845),(80,87,1.93144016846217),(80,88,0.686056093020417),(80,91,1.86074404126102),(80,99,0.256675923947874),(80,101,-1.31472212897122),(80,107,-0.701544236579486),(80,113,0.489486373485519),(81,85,-1.50601214636677),(81,86,-0.740562150944548),(81,90,-0.227408673360393),(81,93,0.00259407330545976),(81,96,-1.91369365520188),(81,97,-0.530411694692831),(81,106,-0.201345866267891),(81,107,0.745567186498611),(81,110,-0.749534592730491),(81,115,-1.74263740958892),(82,86,2.33069856868191),(82,92,0.100650044251839),(82,110,-2.86080507827998),(82,112,1.66466261787774),(83,87,2.61233863338115),(83,91,-2.69574571977905),(83,93,1.99102755821406),(83,101,2.13301492355113),(83,103,0.975859859004486),(83,105,0.653920102542192),(83,108,1.0163426618244),(84,85,-1.97859126560259),(84,86,-0.581377605517747),(84,89,1.2846766563921),(84,95,-1.78220465712455),(84,99,-0.463454084902493),(84,104,1.71689504684591),(84,111,-2.91282387768181),(84,113,0.340266121402631),(84,114,0.261299478133488)]
orgname='BHNEAT_3_9'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()