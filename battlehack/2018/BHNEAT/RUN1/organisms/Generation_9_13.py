edge = [(0,85,-1.40137943662831),(0,89,-1.50117496261483),(0,90,1.93060090945158),(0,93,-2.25692007202368),(0,98,0.400555436872463),(0,101,-3.75136570329905),(0,105,1.94897305215613),(0,108,1.04266487624744),(0,113,5.01567125461592),(0,114,-2.13513595995972),(0,117,1.42139957884457),(0,118,-0.0608844264046144),(1,86,-3.54167302468947),(1,92,2.31696523941771),(1,98,0.621433149204993),(1,102,-1.38871425519578),(1,104,-0.839991454817347),(1,107,-2.53668324839015),(1,108,-2.99951170384838),(1,109,0.86565752128666),(1,113,-0.376644184698019),(2,87,-0.064622943815424),(2,88,-1.95753349406415),(2,100,0.00500503555406384),(2,106,-0.27958006530961),(2,108,-2.79041413617359),(2,110,-3.72296823023164),(2,113,0.410351878414258),(2,118,0.206381420331431),(3,89,1.52653584398938),(3,92,-1.88114566484573),(3,97,0.10483108005005),(3,99,1.5054628131962),(3,101,0.622882778405103),(3,103,-1.57367168187506),(3,105,-0.780129398480178),(3,108,-0.409848323007904),(3,109,1.82546464430677),(3,111,1.32667012543107),(3,112,-0.697134311960204),(3,116,-0.0661946470534378),(4,90,2.25106051820429),(4,91,-3.82152775658437),(4,97,-2.56210516678365),(4,99,-2.44135868404187),(4,101,0.683355204931791),(4,108,2.63939329203162),(4,113,-1.64693136387219),(4,118,2.80379650257881),(5,86,-2.2202215643788),(5,87,1.69347209082308),(5,89,1.89001129184851),(5,92,-2.3310190130314),(5,93,2.09706411938841),(5,99,1.53856013672292),(5,104,0.624042481765191),(5,114,2.79938657795953),(5,118,-3.01542710654012),(6,89,1.48373363444929),(6,92,1.89107943968017),(6,94,-0.750907925656911),(6,100,0.0393536179692984),(6,101,0.908368175298318),(6,103,-1.68764305551317),(6,107,-1.43208105716117),(6,110,0.340083010345775),(6,113,1.56877346110416),(7,85,2.74941251869259),(7,86,-0.19563890499588),(7,90,-0.695913571581164),(7,95,2.65221106601154),(7,99,3.46343882564776),(7,100,2.64174321726127),(7,104,1.63229773857845),(7,106,1.16870632038331),(7,108,3.09936826685385),(7,112,1.18543046357616),(7,116,-0.692007202368236),(8,92,1.56358531449324),(8,93,1.49732963042085),(8,95,1.21425519577624),(8,99,-2.65669728690451),(8,106,0.320535905026399),(8,107,-4.84237189855647),(8,115,-0.203131199072238),(8,116,-0.237815485091708),(8,118,0.00816370128482925),(9,85,-1.08204901272622),(9,87,1.15044099246193),(9,98,-0.242316965239418),(9,101,-0.847605822931608),(9,103,2.18192083498642),(9,105,-1.84052552873318),(9,106,2.04448072756127),(9,113,1.73923459578234),(10,89,-2.51620532853175),(10,96,0.954283272804956),(10,106,0.191091647083957),(10,108,-0.355967894528031),(10,111,0.440641499069186),(10,112,-0.678044984282967),(10,114,1.90548417615284),(10,115,1.06105227820673),(10,116,0.0628681295205544),(10,117,0.572023682363353),(11,89,-1.25994140446181),(11,97,3.31508835108493),(11,105,-2.28670613727226),(11,112,2.02963347270119),(11,115,1.79296243171483),(12,92,-1.80516983550523),(12,93,0.574770348216193),(12,94,2.13866084780419),(12,97,-3.3418988616596),(12,98,1.33390301217689),(12,99,2.03596606341746),(12,108,1.25356303598132),(12,116,1.99027985473189),(13,86,4.17184972685934),(13,87,-0.00779747917111734),(13,90,1.21810052797021),(13,99,-2.28583635975219),(13,102,1.48716696676534),(13,104,-0.930738242744224),(13,113,-4.28878139591662),(13,116,-3.22087771233253),(13,118,3.90957365642262),(14,90,0.0477614673299356),(14,93,0.274208807641835),(14,95,-1.02656636249886),(14,102,-0.848414563432722),(14,104,-4.1422772911771),(14,106,-1.49623096407971),(14,109,1.97935422833949),(14,110,0.799493392742698),(14,111,-1.85941648609882),(15,85,1.8525803399762),(15,92,1.11206396679586),(15,99,0.109134189886166),(15,101,1.96150090029603),(15,104,-3.19943845942564),(15,108,0.165639210180975),(15,117,2.08607745597705),(16,86,-2.00453199865719),(16,87,1.54126102481155),(16,88,0.787926877651296),(16,90,-0.542344431897946),(16,91,-4.28556169316691),(16,95,1.80669576097903),(16,97,-0.605075228125858),(16,98,-0.884762108218635),(16,99,-1.78008362071596),(16,101,-1.45565660573138),(16,108,0.709311197241127),(16,110,-1.31632435071871),(17,89,-1.29807428205206),(17,96,1.36893826105533),(17,99,1.38943144016846),(17,101,0.0634022034363839),(17,106,-2.08273567918943),(17,107,0.610034485915708),(17,109,-4.21497238074892),(18,90,-0.386928922391431),(18,91,2.12820825830866),(18,93,3.23625904110843),(18,99,0.469222083193457),(18,102,0.0148777733695486),(18,103,-1.50552385021516),(18,104,-0.694448683126316),(18,110,1.13937803277688),(18,111,1.56299020355846),(18,116,-0.559938352610858),(18,117,-0.676213873714408),(18,118,4.21720023194067),(19,87,0.62892544328135),(19,89,0.0807519760734886),(19,93,1.7856379894406),(19,95,0.734427930539872),(19,101,1.34089175084689),(19,105,-0.395596179082614),(19,115,1.38709677419355),(20,88,-2.40653706472976),(20,101,-1.48040711691641),(20,103,-0.643787957396161),(20,104,-1.33492538224433),(20,105,-0.188177129428999),(20,106,-0.819330423902097),(20,111,0.186620685445723),(20,116,1.02443006683554),(21,86,-0.959425641651662),(21,87,-0.788369396038697),(21,94,1.11667226172674),(21,96,-2.3139896847438),(21,101,2.011123996704),(21,102,0.0564439832758568),(21,105,-0.416257209997864),(21,107,2.01243629261147),(21,108,-1.90881069368572),(22,86,-4.15369121372112),(22,88,-1.81134983367412),(22,91,-2.7650379955443),(22,92,1.79960020752586),(22,93,0.682164983062227),(22,98,1.05548265022736),(22,106,-0.738731040375988),(22,115,-1.49014252143925),(22,117,2.9094058046205),(23,85,-0.482863856929228),(23,86,-0.661412396618549),(23,88,1.22028260139775),(23,90,2.44509720145268),(23,97,4.1250495925779),(23,104,2.31534775841548),(23,112,-0.228202154606769),(23,114,1.28240302743614),(23,115,-2.59335612048708),(23,116,4.33140049439985),(24,89,-4.86652729880673),(24,90,-1.74112674336985),(24,91,-0.594271675771355),(24,101,3.43842890713218),(24,107,2.5764183477279),(24,108,0.274391918698691),(24,110,-2.4199652088992),(24,112,-3.09033478804895),(25,90,0.253837702566607),(25,92,-0.616061891537218),(25,94,0.633182775353252),(25,98,-1.62462233344523),(25,105,-2.6724753563036),(25,108,0.459532456434828),(25,109,-1.76738792077395),(25,115,3.68959624011963),(26,85,-0.52043214209418),(26,87,-1.83895382549516),(26,89,-2.17085787530137),(26,95,2.774956511124),(26,98,1.41134372997223),(26,100,-1.88726462599567),(26,101,2.25681325724052),(26,102,-1.54573198644978),(26,103,2.49717703787347),(26,104,1.54034546952727),(26,107,0.257347331156346),(26,109,-1.34983367412336),(26,112,-1.06959746086001),(26,113,2.61804559465316),(26,117,-0.971633045442061),(27,85,-1.19388409070101),(27,87,-2.52876369518113),(27,94,1.53500473036897),(27,100,1.25522629474776),(27,102,2.91894283883175),(27,103,-0.65149388103885),(27,104,-0.229850154118473),(27,105,0.219718008972442),(27,108,-3.11685537278359),(27,110,2.19098483230079),(27,114,-0.250556962797937),(28,87,-2.46482741782891),(28,88,-0.627689443647572),(28,97,-2.56805627613147),(28,99,-0.19060335093234),(28,104,-2.46818445387127),(28,113,-0.0389721366008485),(28,114,0.904782250434889),(29,88,-0.17413861507004),(29,91,-2.05816827906125),(29,102,-0.160924100466933),(29,105,-2.25188451796014),(29,116,-1.70677816095462),(30,95,-0.837885677663503),(30,96,1.8365581225013),(30,99,3.41349528489029),(30,101,-0.618961149937437),(30,104,-2.1150090029603),(30,109,-2.79363383892331),(30,110,-0.0475783562730798),(30,114,2.23273415326395),(30,118,1.69029816583758),(31,85,0.139698477126377),(31,92,1.50769066438795),(31,94,2.03175450910978),(31,96,0.743736075930052),(31,99,0.0440229499191258),(31,103,-1.82219916379284),(31,107,-0.65134128849147),(31,108,3.85503707998901),(31,109,1.90369884334849),(31,111,3.83945738090152),(31,112,2.85348063600574),(31,117,-0.388546403393658),(32,86,-2.81128879665517),(32,87,-1.51029999694815),(32,89,-0.837687307351909),(32,92,-1.03614917447432),(32,98,-1.85380108035524),(32,99,1.54509109775079),(32,104,-3.0322885830256),(32,106,1.02414014099551),(32,109,0.993087557603687),(32,116,-2.27694021423994),(32,118,1.24806970427564),(33,96,-0.232505264442885),(33,98,1.11952574236274),(33,108,-1.2128360850856),(33,110,-3.63013092440565),(33,111,-4.32488479262673),(33,114,2.22305978576006),(34,85,-1.40951261940367),(34,90,3.10138248847926),(34,99,-3.34902493362224),(34,104,0.716574602496414),(34,109,0.386669515060884),(35,86,3.28829309976501),(35,87,2.48214667195654),(35,97,-0.998870815149388),(35,98,1.53637806329539),(35,100,1.29467146824549),(35,104,-0.177159947508164),(35,107,2.4016541032136),(35,109,0.259468367564928),(35,110,0.154026917325358),(35,112,0.400631733146153),(36,85,0.359569078646199),(36,87,-1.11410870693075),(36,90,-0.53933835871456),(36,91,0.424741355632191),(36,104,-1.47877437665944),(36,107,1.5259407330546),(36,109,2.26752525406659),(36,112,-1.28192999053926),(36,115,1.47412030396435),(36,117,0.0196386608478041),(36,118,1.93586535233619),(37,85,1.06865138706626),(37,86,1.73589281899472),(37,87,0.319071016571551),(37,91,0.157322916348766),(37,99,2.64992217780084),(37,105,-0.552568132572405),(37,111,0.19670705282754),(37,112,1.76682332834864),(37,118,1.51585436567278),(38,87,1.35050508133183),(38,90,1.05958738975188),(38,103,2.94865260780664),(38,105,2.47077852717673),(38,106,1.20120853297525),(38,111,0.233130893887143),(38,115,-0.200277718436232),(39,87,1.44766075624866),(39,89,0.686895352031007),(39,91,-2.71790215765862),(39,94,1.51165807061983),(39,97,0.193060090945158),(39,98,2.025742362743),(39,107,0.0602740562150945),(39,108,2.28591265602588),(39,109,2.78380687887204),(39,111,-2.53274636066774),(39,113,-0.208151493881039),(39,116,-0.855891598254341),(39,118,1.65456099124119),(40,88,0.485396893215735),(40,92,1.96684163945433),(40,99,-1.80677205725272),(40,104,1.6834772789697),(40,110,-1.83613086336863),(40,116,-1.73894466994232),(40,118,-0.7616657002472),(41,88,1.80257576219977),(41,93,-0.152577288125248),(41,96,-1.99388103885006),(41,97,-0.828348643452254),(41,100,1.22310556352428),(41,101,0.493606372264779),(41,104,-0.82181768242439),(41,105,1.59077730643635),(41,106,-1.78800317392499),(41,107,-3.16171758171331),(41,109,2.14688558610797),(41,110,0.998733481856746),(41,111,0.0703451643421735),(41,112,0.388653218176824),(42,85,-2.04165776543474),(42,86,-1.22478408154546),(42,87,-0.285729544969024),(42,99,0.701544236579486),(42,100,-1.47384563737907),(42,103,-3.50077822199164),(42,109,0.0283059175389874),(42,113,-2.72389904477065),(43,85,-0.877712332529679),(43,88,-0.463881344035157),(43,89,-2.08996856593524),(43,93,-1.55374309518723),(43,97,-1.72659993285928),(43,98,0.999282815027314),(43,101,0.93588061159093),(43,102,0.257591479232154),(43,103,-0.401623584704123),(43,105,-1.57963805047761),(43,110,1.36707663197729),(43,112,3.22849208044679),(43,114,-0.0523239844965973),(43,116,1.35464033936583),(44,89,-0.585039826654866),(44,98,4.70870082705161),(44,99,-0.054689168980987),(45,87,-0.404126102481155),(45,88,1.59054841761528),(45,90,3.02995391705069),(45,91,4.48905911435286),(45,95,-2.39432966093936),(45,98,0.825189977721488),(45,108,2.73946348460341),(45,109,2.67491683706168),(45,112,-0.943647572252571),(45,115,1.5085146641438),(46,85,0.0484633930478836),(46,89,3.00544755394147),(46,91,2.08815271462142),(46,94,0.8519394512772),(46,97,-1.44146549882504),(46,100,-0.45921201208533),(46,101,-0.263817255165258),(46,108,1.57994323557237),(46,112,0.239844965971862),(47,86,1.27132480849635),(47,91,-1.59041108432264),(47,92,2.16803491317484),(47,94,0.75891903439436),(47,95,1.5370647297586),(47,100,-3.16444898831141),(47,101,-1.4851832636494),(47,104,-0.643711661122471),(47,105,-0.19487594225898),(47,108,0.739082003234962),(47,112,2.47161778618732),(47,114,0.0817133091219824),(47,118,1.40742210150456),(48,86,0.410657063509018),(48,91,-1.61494796594134),(48,98,-1.99880977813044),(48,99,3.01840266121403),(48,100,-0.740745262001404),(48,103,-1.76827295754875),(48,105,2.10943937498093),(48,106,-2.94346446119572),(48,111,-1.24272896511734),(48,115,0.938749351481674),(49,87,1.51420636616108),(49,89,-1.27101962340159),(49,93,2.5061037018952),(49,94,1.6308328501236),(49,95,-0.00878933072908739),(49,102,-1.7959990234077),(49,113,4.5110019226661),(49,114,-0.754829554124577),(50,89,-2.19710379345073),(50,105,-0.589297158726768),(50,107,1.89825128940703),(51,87,-1.07243568224128),(51,92,-1.16336558122501),(51,97,-0.283104953154088),(51,98,-0.725241859187597),(51,103,-0.334482863856929),(51,106,0.621860408337657),(51,112,2.01231421857356),(51,118,-1.87162388988922),(52,89,1.2116306039613),(52,97,0.0993072298348949),(52,106,1.16283150730918),(52,110,-0.597170934171575),(52,111,-1.39255958738975),(52,113,2.72409741508225),(52,114,-0.263222144230476),(52,118,-0.752311777092807),(53,88,-1.08253730887783),(53,90,0.839716788232063),(53,92,0.447462385937071),(53,94,2.42263557847835),(53,104,-0.791909543137913),(53,105,0.622806482131413),(53,109,0.421063875240333),(54,85,-0.0512253181554612),(54,91,-0.738242744224372),(54,94,-1.88505203405866),(54,96,-2.21953489791559),(54,111,1.60771507919553),(54,112,-1.91906491286966),(54,113,1.52478102969451),(54,118,0.714133121738334),(55,87,-0.743430890835292),(55,95,-0.189825128940703),(55,107,-2.93328653828547),(55,110,-1.98568681905576),(55,117,-0.494705038605914),(56,107,-4.06610309152501),(56,111,1.74726096377453),(56,113,-2.67883846552934),(56,114,-0.247489852595599),(57,87,0.187856685079501),(57,90,1.30893887142552),(57,91,-1.41453291421247),(57,92,-1.67886898403882),(57,93,-0.0430921353801081),(57,94,1.45699942014832),(57,95,2.45970030823695),(57,96,-1.09805597094638),(57,100,1.09668263801996),(57,102,-0.442670979949339),(57,103,-1.12666707358013),(57,115,-2.29079561754204),(58,86,3.49154637287515),(58,87,-3.25484481337931),(58,89,2.63162633136998),(58,90,1.05525376140629),(58,95,-3.04057435834834),(58,96,0.989791558580279),(58,101,0.172597430341502),(58,103,1.00712607196265),(58,109,-3.22344126712851),(58,110,2.96784875026704),(58,113,1.64865565965758),(58,114,-1.48762474440748),(58,115,1.9373149815363),(59,85,0.679677724539934),(59,86,-0.603885006256294),(59,90,-1.41109958189642),(59,91,-0.239799188207648),(59,93,0.420697653126621),(59,97,0.657887508774071),(59,98,-1.12076174199652),(59,100,0.188573870052186),(59,102,2.65826899014252),(59,112,-0.700628681295205),(59,114,2.42065187536241),(60,85,0.456022827845088),(60,87,-2.35999633777886),(60,90,1.21723075045015),(60,91,0.247657704397717),(60,96,-2.99089022492141),(60,100,-2.14339121677297),(60,101,2.45162816248054),(60,105,0.251091036713767),(60,107,-1.34009826960051),(60,109,0.573824274422437),(60,110,-0.78934598834193),(60,114,-0.857570116275521),(61,89,-2.35048982207709),(61,94,-1.5942106387524),(61,96,2.14185003204443),(61,98,1.56575212866604),(61,100,0.632648701437422),(61,102,0.587633899960326),(61,103,-0.524307992797632),(61,114,3.77835932493057),(61,115,1.59642323068941),(62,93,1.66272469252602),(62,95,-1.41560106204413),(62,107,0.280388805810724),(62,109,0.536545915097506),(62,110,1.68858912930692),(62,111,0.0705893124179815),(63,87,2.15071565904721),(63,90,0.715582750938444),(63,93,-1.77831354716636),(63,97,3.91483809930723),(63,100,0.222907193212684),(63,103,-0.748023926511429),(63,104,0.245872371593371),(63,108,1.07470931119724),(63,111,-2.61667226172674),(63,114,-1.6286660359508),(63,117,0.629932554094058),(64,87,3.69327372051149),(64,94,0.655323953978088),(64,99,2.08668782616657),(64,110,-3.09993285927915),(64,112,1.59817804498428),(64,116,0.392818994720298),(65,87,2.23041474654378),(65,88,-2.53611865596484),(65,90,0.198675496688741),(65,97,-1.81473738822596),(65,99,-1.20226142155217),(65,107,-0.458494827112644),(65,110,-4.61952574236274),(65,111,-2.34359263893551),(65,114,-1.24782555619984),(65,116,-2.17079683828242),(65,117,-1.73886837366863),(66,85,0.98117007965331),(66,102,-1.84751426740318),(66,105,2.47325052644429),(66,108,-0.219260231330302),(66,111,2.16508987701041),(66,115,1.93997009186071),(66,118,2.32717368083743),(67,86,1.76172673726615),(67,90,-0.811578722495193),(67,92,3.07223731192969),(67,104,0.82311471907712),(67,109,-2.57834101382488),(67,111,2.00981170079653),(68,87,-1.51791436506241),(68,88,2.80512405774102),(68,90,1.42521439252907),(68,93,-3.63728751487777),(68,95,0.663487655262917),(68,96,1.78997161778619),(68,97,2.77385784478286),(68,103,-0.207296975615711),(68,107,-2.88995025482955),(68,112,-2.61604663228248),(68,114,0.696295052949614),(69,87,4.56260872219001),(69,88,0.293572801904355),(69,92,0.465178380687887),(69,94,-3.38615070039979),(69,95,-2.22815637684255),(69,97,-3.627140110477),(69,108,-0.443968016602069),(69,113,-0.828424939725944),(69,114,2.19843134861293),(69,118,-0.719779045991394),(70,85,0.775124362926114),(70,86,3.57745597705008),(70,87,-0.97949156163213),(70,90,-0.113116855372784),(70,96,0.270165105136265),(70,97,-1.1134830774865),(70,99,4.78124332407605),(70,105,1.86860255745109),(70,107,-0.0940885647144991),(70,109,0.0590533158360546),(70,110,0.143513290810877),(70,111,-0.282815027314066),(71,85,-0.721518601031526),(71,93,2.35778374584185),(71,96,2.19481490524003),(71,100,2.3026673177282),(71,104,4.2375713370159),(71,106,-1.99270607623524),(71,111,-0.0309762871181372),(71,113,-0.156941434980316),(72,94,-0.0609607226783044),(72,96,-0.260689107943968),(72,99,-2.45887630848109),(72,110,0.698263496810816),(72,112,-2.62210455641346),(72,114,1.24999237037263),(72,115,-2.1912289803766),(72,116,1.10271004364147),(73,88,0.847773674733726),(73,94,3.89323099459822),(73,99,-1.21715445417646),(73,100,1.35898922696615),(73,106,1.13307596057009),(73,110,1.25606555375835),(73,115,-0.975920896023438),(74,90,-2.42338328196051),(74,94,-1.42753379924924),(74,99,-0.673543504135258),(74,102,1.92992950224311),(74,106,0.335261085848567),(74,107,-1.38772240363781),(74,110,2.15285195471053),(74,113,-1.84221930600909),(74,116,1.40897854548784),(75,85,0.716696676534318),(75,86,1.02839747306742),(75,93,-1.07104709006012),(75,98,-2.01225318155461),(75,103,1.13475447859127),(75,105,2.9301278725547),(75,111,-2.35496078371532),(75,117,-1.97845393230995),(76,86,-3.02049317911313),(76,89,-2.40360728782006),(76,92,-1.85934018982513),(76,94,-2.95854060487686),(76,99,-1.13371684926908),(76,101,-4.17088839381085),(76,103,1.87742240668966),(76,106,-1.97004608294931),(76,110,-2.16505935850093),(76,113,0.126194036683248),(77,88,0.812585833307901),(77,91,-1.00294503616443),(77,93,1.75160985137486),(77,98,-0.211752677999206),(77,101,-1.73653370769372),(77,102,-1.71216467787713),(77,103,1.32290108951079),(77,104,-1.706289864803),(77,105,-1.16634113589892),(77,109,-0.140278328806421),(78,88,2.00170903653066),(78,93,-0.438688314462722),(78,94,1.1519974364452),(78,101,-0.658101138340403),(78,104,2.64157536545915),(78,110,-2.57748649555956),(78,114,0.10589922788171),(78,116,0.911816766869106),(78,117,-1.91337321085238),(78,118,0.119312112796411),(79,87,0.276192510757775),(79,92,-2.28949858088931),(79,94,-1.5050202948088),(79,107,0.206518753624073),(79,108,1.70735801263466),(79,114,-1.27086703085421),(79,118,0.889934995574816),(80,87,2.88451796014283),(80,88,-5.13870662556841),(80,91,1.78649250770592),(80,99,1.70021668141728),(80,101,-0.991592150639363),(80,107,0.693288979766228),(80,113,-0.529877620777001),(81,85,1.16481521042512),(81,86,-1.78168584246345),(81,90,0.509643848994415),(81,93,-2.41547898800623),(81,96,0.425412762840663),(81,97,-0.373775444807276),(81,106,2.52102725302896),(81,107,1.38889736625263),(81,110,-1.29331339457381),(81,115,-2.45048371837519),(82,86,-0.557344279305398),(82,92,-2.65921506393628),(82,110,-0.309213538010804),(82,112,1.40670491653188),(83,87,-1.22989593188269),(83,91,2.4080782494583),(83,93,2.47875911740471),(83,101,1.17317728202155),(83,103,-2.17238380077517),(83,105,-0.903775139622181),(83,108,-1.15004425183874),(84,85,3.15817743461409),(84,86,-0.172521134067812),(84,89,-1.4539780877102),(84,95,-1.89123203222755),(84,99,-1.87536240730003),(84,104,0.336771752067629),(84,111,-1.47207556382946),(84,113,-2.529877620777),(84,114,-0.491805780205695),(10,119,-3.21543015839106),(119,109,-0.363567003387554),(58,120,-1.57376323740349),(120,118,-1.78174687948241),(95,104,-0.539277321695608)]
orgname='BHNEAT_9_13'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()