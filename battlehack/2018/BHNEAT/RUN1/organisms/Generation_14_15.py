edge = [(0,85,1.68877224036378),(0,89,-3.2049851985229),(0,90,-1.6850032044435),(0,93,-1.33555101168859),(0,98,-1.34897152623066),(0,101,1.33999908444472),(0,105,4.3572801904355),(0,108,-2.43270668660543),(0,113,5.00788903469955),(0,114,2.25203711050752),(0,117,3.96496475112156),(0,118,-2.59691152684103),(1,86,-1.48632007812738),(1,92,2.04169591357158),(1,98,3.10335093234046),(1,102,-3.14410077211829),(1,104,0.251312295907468),(1,107,-3.82441175572985),(1,108,-1.63785210730308),(1,109,0.193243202002014),(1,113,1.70887630848109),(2,87,-3.13933225501267),(2,88,1.26911221655934),(2,100,0.617770928067873),(2,106,-2.63423566393017),(2,108,-4.26411481063265),(2,110,-1.31490524002808),(2,113,2.37704092532121),(2,118,2.60223700674459),(3,89,4.87434766685995),(3,92,-2.79406872768334),(3,97,-0.278519547105319),(3,99,-1.09021271401105),(3,101,-1.51290932950835),(3,103,-0.412823877681814),(3,105,6.57985930967132),(3,108,-2.87009796441542),(3,109,-7.3753929258095),(3,111,-0.15477462080752),(3,112,-3.07925656910916),(3,116,-1.78354747154149),(4,90,-0.388752403332621),(4,91,-2.04126102481155),(4,97,1.80117191076388),(4,99,-0.784852137821589),(4,101,-1.99288918729209),(4,108,2.61406292916654),(4,113,-3.36428418836024),(4,118,-0.434369945371868),(5,86,2.8289284951323),(5,87,-4.97500534073916),(5,89,0.374073000274666),(5,92,-2.69415112765892),(5,93,0.755241554002502),(5,99,5.00061037018952),(5,104,1.8858302560503),(5,114,3.08462019714957),(5,118,-1.03080843531602),(6,89,-3.12496566667684),(6,92,-7.57675405133213),(6,94,0.419362468337046),(6,100,1.20714438306833),(6,101,-2.63670003357036),(6,103,1.0790505691702),(6,107,0.163533433027131),(6,110,3.25708029419843),(6,113,-1.30088198492386),(7,85,2.03653828547014),(7,86,-3.22177800836207),(7,90,-2.03590502639851),(7,95,-1.97360911893063),(7,99,1.58777123325297),(7,100,4.1088061159093),(7,104,-0.064416943876461),(7,106,2.59102145451216),(7,108,1.26028473769341),(7,112,0.614238410596026),(7,116,-1.45447401348918),(8,92,-1.4865871150853),(8,93,-0.555841242713706),(8,95,-2.04496139408551),(8,99,0.118106631672109),(8,106,-1.43780327768792),(8,107,-0.440000610370189),(8,115,2.3076647236549),(8,116,0.00605792413098505),(8,118,0.256202887050997),(9,85,0.408322397534105),(9,87,0.611514633625294),(9,98,-2.77256080813013),(9,101,-3.88485366374706),(9,103,4.70213934751427),(9,105,2.29744102298044),(9,106,1.83726004821925),(9,113,-0.440015869624928),(10,89,-7.68634601886044),(10,96,1.46146275215918),(10,106,-0.8232673116245),(10,108,4.92973113193152),(10,111,-2.13019959105197),(10,112,1.51478621784112),(10,114,0.825968199713126),(10,115,-4.07064271980956),(10,116,-0.305604724265267),(10,117,-1.82726523636586),(11,89,-3.4870296334727),(11,97,1.77489547410504),(11,105,-1.17518387401959),(11,112,3.38788262581255),(11,115,-0.870883816034425),(12,92,4.42294076357311),(12,93,-1.11057618945891),(12,94,1.34109775078585),(12,97,0.420194097720267),(12,98,3.10527359843745),(12,99,-0.310907315286721),(12,108,1.16185491500595),(12,116,-1.05455183568835),(13,86,3.77259132663961),(13,87,1.18532364879299),(13,90,-0.70265816217536),(13,99,3.89001892147588),(13,102,1.86559648426771),(13,104,-4.98207037568285),(13,113,1.09697256385998),(13,116,-2.85473189489425),(13,118,0.247734000671407),(14,90,-4.10170293282876),(14,93,1.43577379680776),(14,95,-6.27529221472823),(14,102,-0.270775475325785),(14,104,-5.3095339823603),(14,106,-0.0780358287301235),(14,109,1.92529068880276),(14,110,2.22402111880856),(14,111,-1.67065187536241),(15,85,-0.171216467787713),(15,92,4.33680227057711),(15,99,-2.33112582781457),(15,101,-0.125278481398968),(15,104,-4.54061250648518),(15,108,-1.95223853267006),(15,117,0.969252601702933),(16,86,0.917615283669545),(16,87,2.48320719016083),(16,88,-1.23659474471267),(16,90,-3.68552201910459),(16,91,-1.35074922940764),(16,95,-2.06797997985778),(16,97,-4.32398449659719),(16,98,-2.04259620960112),(16,99,0.23818170720542),(16,101,0.777962584307383),(16,108,6.77871791741691),(16,110,5.68286690878018),(17,89,2.373645741142),(17,96,-3.20586260567034),(17,99,2.94343394268624),(17,101,-0.890400402844325),(17,106,-3.70044557023835),(17,107,-0.468756675923948),(17,109,-1.80248420667135),(18,90,3.2900173955504),(18,91,-3.23625904110843),(18,93,3.77747428815577),(18,99,-1.39221625415815),(18,102,3.9486373485519),(18,103,-2.25517288735618),(18,104,0.679570909756767),(18,110,-2.51864680928983),(18,111,-2.55372783593249),(18,116,5.58584093752861),(18,117,-2.26535081026643),(18,118,-1.03695791497543),(19,87,-1.55568102053896),(19,89,0.312425611133152),(19,93,1.79620502334666),(19,95,0.669042023987549),(19,101,0.351290932950835),(19,105,-5.38710440382092),(19,115,-3.37089144566179),(20,88,-0.434224982451857),(20,101,-0.482757042146062),(20,103,0.211439863277077),(20,104,1.15164647358623),(20,105,-1.9897610400708),(20,106,-0.0139469588305305),(20,111,-0.369121372112186),(20,116,3.17567217017121),(21,86,0.664845728934599),(21,87,2.20793786431471),(21,94,-0.749824518570513),(21,96,1.99888607440413),(21,101,5.70649586474197),(21,102,5.58895382549516),(21,105,1.47821741386151),(21,107,4.07190160832545),(21,108,1.77858821375164),(22,86,1.08233893856624),(22,88,-2.66985839411603),(22,91,3.00204474013489),(22,92,-1.86857966856899),(22,93,-0.880764183477279),(22,98,0.706122013000885),(22,106,-2.47866756187628),(22,115,4.44336527603992),(22,117,-0.54574724570452),(23,85,-3.06484420300912),(23,86,-0.847926267281106),(23,88,-1.47657704397717),(23,90,0.577364421521653),(23,97,1.03527939695425),(23,104,4.66298409985656),(23,112,-0.357638782921842),(23,114,3.30013428144169),(23,115,-0.729438154240547),(23,116,-0.0413678395947142),(24,89,-3.81688131351665),(24,90,-3.77629169591357),(24,91,-2.18575090792566),(24,101,-1.4314096499527),(24,107,1.77290414136174),(24,108,3.62585833307901),(24,110,-2.03452406384472),(24,112,-0.503318887905515),(25,90,-3.47000030518509),(25,92,2.80273598437452),(25,94,-5.95358134708701),(25,98,-2.87912381359294),(25,105,0.980132450331126),(25,108,3.86059144871364),(25,109,0.348536637470626),(25,115,1.75052644428846),(26,85,-1.64614551225318),(26,87,1.60658589434492),(26,89,1.18121890926847),(26,95,-0.238578447828608),(26,98,0.486518448438978),(26,100,-0.674764244514298),(26,101,-0.537575914792322),(26,102,4.32084109012116),(26,103,0.187658314767906),(26,104,3.38621173741874),(26,107,-5.28344065675832),(26,109,-0.616809595019379),(26,112,6.36438337351604),(26,113,3.11553544724876),(26,117,-3.12317270424512),(27,85,-0.690252388073366),(27,87,1.47912533951842),(27,94,3.92841883602405),(27,100,3.29862361522263),(27,102,0.795121616260262),(27,103,-0.0459303567613758),(27,104,-0.0138935514389475),(27,105,-0.776635029145176),(27,108,-0.272606585894345),(27,110,3.08033234656819),(27,114,1.66737113559374),(28,87,-3.7828302865688),(28,88,1.56120487075411),(28,97,-1.55671102023377),(28,99,-2.06398205511643),(28,104,-3.16208380382702),(28,113,0.691335795159764),(28,114,-2.91795098727378),(29,88,4.88716544083987),(29,91,-3.16542558061464),(29,102,-2.9288003173925),(29,105,-4.49119541001618),(29,116,1.0118869594409),(30,95,4.90627765739921),(30,96,1.70494705038606),(30,99,4.26235999633778),(30,101,-2.68333994567705),(30,104,0.768494216742454),(30,109,-2.10422070986053),(30,110,2.28834650715659),(30,114,-1.08932767723624),(30,118,-0.679731131931516),(31,85,4.09820093386639),(31,92,5.7478331858272),(31,94,-1.10077974791711),(31,96,3.23316141239662),(31,99,-1.11827448347423),(31,103,-1.70836512344737),(31,107,-0.707571642200995),(31,108,0.668370616779077),(31,109,-1.86078981902524),(31,111,-1.57972960600604),(31,112,-3.92815179906613),(31,117,4.1882763145848),(32,86,-5.33433027130955),(32,87,2.10221411786248),(32,89,2.14263588366344),(32,92,6.65520187994018),(32,98,2.48684652241585),(32,99,0.620532853175451),(32,104,4.01626636555071),(32,106,3.73746452223273),(32,109,3.51651051362651),(32,116,4.43896298104801),(32,118,-1.62097537156285),(33,96,-1.51477858821375),(33,98,-2.84624011963256),(33,108,1.11984618671224),(33,110,-1.80062257759331),(33,111,1.2212057863094),(33,114,-0.742728965117344),(34,85,1.05108035523545),(34,90,1.15598010193182),(34,99,3.36199530014954),(34,104,-7.09859004486221),(34,109,-6.11899166844691),(35,86,1.38611255226295),(35,87,-1.74034852137822),(35,97,0.197454756309702),(35,98,-0.114024781029695),(35,100,-1.33478804895169),(35,104,-2.24310281685842),(35,107,-5.17218543046358),(35,109,-3.98443556016724),(35,110,-0.0698263496810818),(35,112,2.88598284859767),(36,85,-2.97324289681692),(36,87,-2.15139469588305),(36,90,1.37634662923063),(36,91,1.39305551316874),(36,104,-1.58608508560442),(36,107,4.07534257026887),(36,109,-0.97926267281106),(36,112,-0.745292519913327),(36,115,3.53339487899411),(36,117,-4.80709250160222),(36,118,2.92506179998169),(37,85,0.712309640797144),(37,86,-4.26622058778649),(37,87,3.75518814661092),(37,91,1.09168523209326),(37,99,-1.56819360942412),(37,105,-0.846842860194708),(37,111,3.15734580523087),(37,112,0.248718222602008),(37,118,-2.711066011536),(38,87,0.395886104922635),(38,90,-3.29525131992553),(38,103,0.38952299569689),(38,105,5.27043977172155),(38,106,-0.586298715170751),(38,111,-0.0891064180425428),(38,115,-4.30900753807184),(39,87,0.753860591448713),(39,89,-1.14383373516038),(39,91,-3.59050263985107),(39,94,0.689649647511215),(39,97,-2.27626880703146),(39,98,0.852381969664602),(39,107,-2.41471602526933),(39,108,4.56359294412061),(39,109,4.79097109897153),(39,111,-1.78870509964293),(39,113,-2.70410779137547),(39,116,-1.4511703848384),(39,118,-5.47096926786096),(40,88,1.82993560594501),(40,92,-2.46520889919736),(40,99,3.20654927213355),(40,104,-2.37360759300516),(40,110,-4.59591967528306),(40,116,2.03910946989349),(40,118,-1.51547288430433),(41,88,-3.16454054383984),(41,93,1.90154728843043),(41,96,-1.83125553147984),(41,97,2.1023819696646),(41,100,2.4370937223426),(41,101,6.71572008423109),(41,104,2.48791467024751),(41,105,-0.640736106448561),(41,106,1.89192632831812),(41,107,-5.65904721213416),(41,109,1.70178838465529),(41,110,0.179754020813623),(41,111,-0.836672566911832),(41,112,3.69160283211768),(42,85,-1.93156224250008),(42,86,-0.100970488601337),(42,87,3.7047639393292),(42,99,-1.50090029602954),(42,100,-5.75879696035646),(42,103,-2.1489226966155),(42,109,-1.95975371562853),(42,113,-3.22096926786096),(43,85,1.34018982512894),(43,88,-0.797486800744652),(43,89,0.419682912686544),(43,93,-0.0991927854243593),(43,97,-0.363223670155949),(43,98,3.36935026093326),(43,101,2.5337916196173),(43,102,0.596957304605243),(43,103,-2.8736228522599),(43,105,3.37366863002411),(43,110,0.462065492721336),(43,112,0.343157750175481),(43,114,-0.435750907925657),(43,116,-0.138096255378887),(44,89,-3.10037537766655),(44,98,5.97273934141057),(44,99,-1.73030793176061),(45,87,-3.33207190160833),(45,88,-4.78826258125553),(45,90,-0.321771904660177),(45,91,-0.256073183385723),(45,95,-2.76170384838405),(45,98,-3.52969450972014),(45,108,3.84869685964538),(45,109,5.56303598132267),(45,112,-0.397900326548051),(45,115,-4.68079165013581),(46,85,1.60162663655507),(46,89,1.22457808160649),(46,91,3.33463545640431),(46,94,-3.13488418225654),(46,97,1.38496047853023),(46,100,2.38583788567766),(46,101,2.78971221045564),(46,108,-3.44889675588244),(46,112,-5.56035035248878),(47,86,-0.0593279824213393),(47,91,-2.8190099795526),(47,92,3.8179265724662),(47,94,-0.0813394573809016),(47,95,-1.57418286690878),(47,100,1.6253929258095),(47,101,1.77678762169256),(47,104,-4.04377880184332),(47,105,3.3368785668508),(47,108,0.199362163151952),(47,112,-0.96546067690054),(47,114,1.10042115543077),(47,118,0.313447981200598),(48,86,2.58868678853725),(48,91,0.979201635792108),(48,98,2.00500503555406),(48,99,-2.55267494735557),(48,100,-0.0181051057466355),(48,103,-1.34937589648122),(48,105,1.55681020538957),(48,106,-0.407376323740348),(48,111,-1.71794030579546),(48,115,-0.692655720694601),(49,87,2.95101779229102),(49,89,2.69032868434706),(49,93,2.45948667867061),(49,94,3.13299203466903),(49,95,0.970778527176733),(49,102,-0.374370555742058),(49,113,3.42782372508927),(49,114,2.13466292306284),(50,89,-2.42445142979217),(50,105,-1.04892117069002),(50,107,-2.36713766899625),(51,87,0.0131076998199406),(51,92,1.91409802545244),(51,97,0.0377590258491773),(51,98,1.76625110629597),(51,103,-0.636455885494553),(51,106,0.576197088534196),(51,112,1.29974517044588),(51,118,-2.34200567644276),(52,89,-0.531548509170812),(52,97,2.27523880733665),(52,106,-3.47190008239998),(52,110,-1.03827784051027),(52,111,1.37681966612751),(52,113,-0.838557084871975),(52,114,-1.50768303476058),(52,118,0.80695516830958),(53,88,-0.97064882351146),(53,90,-6.98789941099277),(53,92,1.49581133457442),(53,94,2.31734672078616),(53,104,-2.92053743095187),(53,105,-2.72444074831385),(53,109,1.31014435254982),(54,85,0.518860438856166),(54,91,-3.64642780846583),(54,94,-4.27072969756157),(54,96,0.102542191839351),(54,111,-3.64677114169744),(54,112,0.644718771935179),(54,113,3.82287820062868),(54,118,-3.02327036347545),(55,87,-3.00988799707022),(55,95,1.4013336588641),(55,107,-1.91843165379803),(55,110,-3.66679891354106),(55,117,-3.22354808191168),(56,107,-0.191854609820856),(56,111,-3.43181402020325),(56,113,-2.24740592669454),(56,114,1.40592669454024),(57,87,-2.99438459425642),(57,90,2.26605273598437),(57,91,1.45039216284677),(57,92,-0.726157414471877),(57,93,2.28680532242805),(57,94,2.68346201971496),(57,95,-0.778923917355877),(57,96,-0.0401623584704123),(57,100,-2.30119479964599),(57,102,-3.52435377056185),(57,103,1.70564134647664),(57,115,-4.11072878200629),(58,86,0.257660145878475),(58,87,1.64917447431867),(58,89,0.73360393078402),(58,90,-3.93799401837214),(58,95,-2.42734305856502),(58,96,-2.43194372386853),(58,101,-4.0458998382519),(58,103,-1.97140415662099),(58,109,-1.34205145420698),(58,110,2.53115176854762),(58,113,-4.88257240516373),(58,114,2.99501022370067),(58,115,1.00116733298746),(59,85,2.24089785454878),(59,86,0.864818262276071),(59,90,-1.49481948301645),(59,91,-3.69144260994293),(59,93,2.35502182073428),(59,97,-0.993758964812159),(59,98,-0.827974791711173),(59,100,2.07213812677389),(59,102,2.95178075502792),(59,112,0.962630085146642),(59,114,-2.72226630451369),(60,85,-0.384205145420697),(60,87,-1.64321573534349),(60,90,2.6699880977813),(60,91,-3.51138340403455),(60,96,3.61026337473678),(60,100,-1.68648335215308),(60,101,-1.81623279519028),(60,105,-3.50749229407636),(60,107,-0.581293679616687),(60,109,3.92846461378826),(60,110,5.28658406323435),(60,114,1.47563097018342),(61,89,0.841937009796442),(61,94,-5.55804620502335),(61,96,-1.07701345866268),(61,98,2.61123996704001),(61,100,1.00310525833918),(61,102,1.14116336558123),(61,103,2.45063631092257),(61,114,1.04378643147069),(61,115,5.49348429822687),(62,93,2.00890377513962),(62,95,-2.9017761772515),(62,107,1.14772484511856),(62,109,-0.6947233497116),(62,110,-3.93002105777154),(62,111,2.24112674336985),(63,87,2.48792229987487),(63,90,5.89155247657704),(63,93,-1.10515152439955),(63,97,3.10218359935301),(63,100,-0.810068056276132),(63,103,0.957350383007294),(63,104,0.669469283120212),(63,108,1.35654011658071),(63,111,0.478514969328898),(63,114,3.29381694998016),(63,117,-3.72287667470321),(64,87,4.22601245155187),(64,94,0.369670705282754),(64,99,1.25711844233528),(64,110,-0.270546586504715),(64,112,-1.63185522019105),(64,116,-1.38053529465621),(65,87,0.947302163762322),(65,88,-3.52095095675527),(65,90,-0.392468031861324),(65,97,5.90728476821192),(65,99,3.35247352519303),(65,107,1.64411603137303),(65,110,-3.9306466872158),(65,111,-1.69823297830134),(65,114,-0.952314828943754),(65,116,5.0609607226783),(65,117,-2.2125919370098),(66,85,1.15425580614643),(66,102,-2.63013855403302),(66,105,-1.74784081545457),(66,108,3.28479873043001),(66,111,2.94792779320658),(66,115,-0.442152165288248),(66,118,-1.09921567430647),(67,86,-0.970061342204047),(67,90,-2.63193151646474),(67,92,-1.61670278023621),(67,104,-1.24512466811121),(67,109,0.41392254402295),(67,111,-3.04353465376751),(68,87,1.11073641163366),(68,88,-0.660786767174291),(68,90,1.00932340464492),(68,93,-0.744933927426984),(68,95,-4.1183050019837),(68,96,0.0709555345316935),(68,97,2.43110446485794),(68,103,1.00405896176031),(68,107,-0.303888058107242),(68,112,1.56033509323405),(68,114,-1.69296090578936),(69,87,3.1300698873867),(69,88,-0.971831415753655),(69,92,0.234076967680898),(69,94,1.2076937162389),(69,95,0.732329783013398),(69,97,-0.87290566728721),(69,108,0.552232428968169),(69,113,1.67501602221748),(69,114,0.716109195226905),(69,118,0.967650379955443),(70,85,-1.24805444502091),(70,86,-1.24304940946684),(70,87,-1.84917752616962),(70,90,2.17806024353771),(70,96,-0.867145298623615),(70,97,-1.05777916806543),(70,99,1.40774254585406),(70,105,-0.606334116641743),(70,107,-0.558641315958129),(70,109,-3.49986266670736),(70,110,-2.50904110843226),(70,111,2.30641346476638),(71,85,1.44032105471969),(71,93,-0.248672444837794),(71,96,-3.38373973815119),(71,100,0.236068300424207),(71,104,0.446142460402234),(71,106,-0.168309579760125),(71,111,2.52800073244423),(71,113,2.04031495101779),(72,94,2.22338023010956),(72,96,2.36207159642323),(72,99,0.459219641712699),(72,110,1.29451887569811),(72,112,0.8699301126133),(72,114,0.499511703848384),(72,115,2.99806207464827),(72,116,2.345194860683),(73,88,0.294244209112827),(73,94,-0.835077974791711),(73,99,-2.52151554918058),(73,100,-1.80127872554704),(73,106,1.94334238715781),(73,110,2.98623615222633),(73,115,-4.38872951445051),(74,90,-2.59185308389538),(74,94,0.769951475569933),(74,99,-1.44379253517258),(74,102,-1.18503372295297),(74,106,2.65045625171667),(74,107,1.48712118900113),(74,110,4.02829065828425),(74,113,-3.82808923612171),(74,116,0.254600665303506),(75,85,-2.54390087588122),(75,86,-1.24874111148412),(75,93,-1.53783532212287),(75,98,-3.04316080202643),(75,103,0.267204809717093),(75,105,-6.12132633442183),(75,111,-0.98040711691641),(75,117,-0.21179845576342),(76,86,-0.466635639515366),(76,89,0.838724936674093),(76,92,-5.17899868770409),(76,94,2.70081179235206),(76,99,0.639332255012665),(76,101,2.17032380138554),(76,103,1.46050141911069),(76,106,-1.71933652760399),(76,110,1.72273934141057),(76,113,1.56773583178198),(77,88,-1.90050965910825),(77,91,-0.110965300454726),(77,93,-1.02874080629902),(77,98,-0.168996246223334),(77,101,-0.832422864467299),(77,102,3.19212927640614),(77,103,3.85280922879727),(77,104,1.79998168889431),(77,105,1.19023712881863),(77,109,-1.06960509048738),(78,88,-0.831003753776665),(78,93,-0.182180242316965),(78,94,-1.79214606158635),(78,101,1.00804162724693),(78,104,2.03404339732047),(78,110,0.00437940610980581),(78,114,0.544946134830775),(78,116,1.81577501754814),(78,117,3.00903347880489),(78,118,-1.58818323313089),(79,87,1.42316965239418),(79,92,-2.0139545884579),(79,94,4.73121585741752),(79,107,2.1035645619068),(79,108,0.663899655140843),(79,114,4.16628772850734),(79,118,0.0618533890804773),(80,87,1.4826502273629),(80,88,-0.244529557176427),(80,91,2.8845484786523),(80,99,-0.274712363048189),(80,101,-2.07965330973235),(80,107,1.56100650044252),(80,113,1.36387218848231),(81,85,-0.401814325388348),(81,86,3.18300424207282),(81,90,-1.59184545426801),(81,93,1.26139103366192),(81,96,-0.43923764763329),(81,97,-5.68404950102237),(81,106,0.377521591845454),(81,107,-0.258270516067995),(81,110,2.0455793939024),(81,115,0.0710547196874904),(82,86,-0.472655415509507),(82,92,0.928525650807215),(82,110,-2.34678945280313),(82,112,-1.20853297524949),(83,87,1.53828547013764),(83,91,1.89359721671194),(83,93,0.880314035462508),(83,101,-2.98764000366222),(83,103,-1.59222693563646),(83,105,1.64220099490341),(83,108,-4.45569475386822),(84,85,-0.566949980162969),(84,86,-1.71842097231971),(84,89,2.42370372631001),(84,95,-1.45123142185736),(84,99,4.76825006866665),(84,104,0.321474349192785),(84,111,1.85116885891293),(84,113,-3.8914151432844),(84,114,-0.528809472945341),(10,119,-0.890453810235908),(119,109,1.3814966277047),(58,120,-0.205694753868221),(120,118,-1.35517441328166),(95,104,0.262840662862026)]
orgname='BHNEAT_14_15'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()