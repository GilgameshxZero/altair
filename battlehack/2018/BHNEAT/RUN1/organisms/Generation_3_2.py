edge = [(0,85,-0.690481276894436),(0,89,1.08032471694082),(0,90,0.664044618060854),(0,93,0.159054841761528),(0,98,-1.2953581347087),(0,101,-2.29234443189795),(0,105,0.625476851710562),(0,108,-1.64496292001099),(0,113,1.4870296334727),(0,114,-0.69335001678518),(0,117,0.921582689901425),(0,118,0.990424817651906),(1,86,0.283799249244667),(1,92,-1.79037598803674),(1,98,1.09363078707236),(1,102,0.718031861323893),(1,104,-2.06970427564318),(1,107,-3.03119754631184),(1,108,-2.03408154545732),(1,109,-1.69325083162938),(1,113,0.486693929868465),(2,87,-0.11337626270333),(2,88,-1.10805078279977),(2,100,1.14507736442152),(2,106,0.18778801843318),(2,108,2.21822260200812),(2,110,0.846766563921018),(2,113,0.373958555864132),(2,118,-0.0801721243934446),(3,89,-1.37707144383068),(3,92,0.275872066408277),(3,97,-0.0349131748405408),(3,99,0.890522476882229),(3,101,1.49091311380352),(3,103,1.8935819574572),(3,105,-0.85079500717185),(3,108,-1.13631092257454),(3,109,0.337153233436079),(3,111,-1.95539719840083),(3,112,-2.42665639210181),(3,116,0.316568498794519),(4,90,0.197462385937071),(4,91,-1.44790490432447),(4,97,0.720465712454604),(4,99,2.22159489730522),(4,101,-1.7737739188818),(4,108,2.41109958189642),(4,113,-0.330858790856655),(4,118,-0.278542435987426),(5,86,-2.06724753563036),(5,87,-1.03122043519395),(5,89,-1.12057863093966),(5,92,0.852664265877255),(5,93,0.818903164769433),(5,99,0.917325357829524),(5,104,0.772606585894345),(5,114,1.97271645252846),(5,118,-0.85505996887112),(6,89,2.39974669637135),(6,92,-0.41613513595996),(6,94,2.33222449415571),(6,100,2.48107852412488),(6,101,1.80913724173711),(6,103,-1.0852534562212),(6,107,1.85367900631733),(6,110,1.61143070772423),(6,113,-1.37507248146001),(7,85,0.346003601184118),(7,86,-1.2060686056093),(7,90,-2.00910977507859),(7,95,0.521126438184759),(7,99,0.479911191137425),(7,100,-1.1103320413831),(7,104,-2.34801782280953),(7,106,-1.68236335337382),(7,108,1.41470839564196),(7,112,1.30888546403394),(7,116,2.22150334177679),(8,92,-1.53418073061312),(8,93,1.98748741111484),(8,95,1.24763481551561),(8,99,0.76052125614185),(8,106,1.80127872554704),(8,107,0.267654957731864),(8,115,0.489165929136021),(8,116,0.797524948881497),(8,118,-0.699400311288797),(9,85,-0.156346324045534),(9,87,1.88787499618519),(9,98,1.59558397167882),(9,101,-0.393215735343486),(9,103,0.489776299325541),(9,105,-1.87558366649373),(9,106,-0.148640400402844),(9,113,1.11289559617908),(10,89,-0.297738578447829),(10,96,1.54958494827113),(10,106,1.52217169713431),(10,108,2.71288186284982),(10,109,-1.07493820001831),(10,111,0.552766502883999),(10,112,-0.958853419598987),(10,114,-0.380817590868862),(10,115,-1.16064180425428),(10,116,-1.44481490524003),(10,117,-2.25386822107608),(11,89,2.38290810876797),(11,97,-0.956442457350383),(11,105,-0.704062013611255),(11,112,1.04824976348155),(11,115,-1.51493118076113),(12,92,-0.272820215460677),(12,93,-0.0533310953093051),(12,94,-0.870517593920713),(12,97,-1.19773705252235),(12,98,-0.938520462660604),(12,99,-0.913220618305002),(12,108,0.711371196630757),(12,116,-1.39625995666372),(13,86,0.534852137821589),(13,87,0.994445631275368),(13,90,2.00796533097324),(13,99,-1.76817377239296),(13,102,1.790215765862),(13,104,0.171933652760399),(13,113,-1.5675832392346),(13,116,-2.11041596728416),(13,118,1.77084414197211),(14,90,-0.386661885433515),(14,93,1.84921567430647),(14,95,-1.24993896298105),(14,102,1.92066713461715),(14,104,-0.597018341624195),(14,106,0.884365367595447),(14,109,-0.563943906979583),(14,110,-1.03019043549913),(14,111,2.21425519577624),(15,85,-0.0670491653187658),(15,92,1.47160252693258),(15,99,1.91421246986297),(15,101,-0.762466811120945),(15,104,0.211088900418104),(15,108,-1.52058473464156),(15,117,-2.28240302743614),(16,86,-2.37228003784295),(16,87,2.01319925534837),(16,88,-0.944776757103183),(16,90,0.835032197027497),(16,91,0.52577288125248),(16,95,-0.33790856654561),(16,97,-0.49016541032136),(16,98,-0.466177861873226),(16,99,1.4082003234962),(16,101,-0.616969817194128),(16,108,-0.721671193578906),(16,110,0.279801324503311),(17,89,1.77788628803369),(17,96,2.16040528580584),(17,99,-0.203054902798547),(17,101,1.55555894650105),(17,106,-1.67228461561937),(17,107,-0.0609683523056734),(17,109,-2.10427411725211),(18,90,2.12093722342601),(18,91,1.84345530564287),(18,93,1.40545365764336),(18,99,2.18801690725425),(18,102,1.1518753624073),(18,103,1.75077059236427),(18,104,0.0377132480849635),(18,110,-0.844561601611377),(18,111,1.31965086825159),(18,116,1.3876003295999),(18,117,1.62671285134434),(18,118,0.893169957579272),(19,87,0.30718405713065),(19,89,0.666714987640004),(19,93,-0.428586687826167),(19,95,-0.513779107028413),(19,101,1.74535355693228),(19,105,-1.91592150639363),(19,115,1.02427747428816),(20,88,-0.246467482528153),(20,101,-0.372859889522996),(20,103,-0.11177404095584),(20,104,0.773957029938658),(20,105,-0.850245674001282),(20,106,-2.01720480971709),(20,111,1.8700292977691),(20,116,-0.0294732505264443),(21,86,0.721236304818873),(21,87,1.79145176549577),(21,94,1.32419049653615),(21,96,1.82757042146062),(21,101,-0.785462508011109),(21,102,1.92509994811853),(21,105,-2.44320505386517),(21,107,-1.60567033906064),(21,108,0.405102694784387),(22,86,-1.93151646473586),(22,88,-0.642757957701346),(22,91,1.25133518478958),(22,92,0.367481002227851),(22,93,1.96432386242256),(22,98,-0.0676213873714408),(22,106,0.145222327341533),(22,115,-0.675252540665914),(22,117,2.4031800286874),(23,85,-0.481002227851192),(23,86,2.12111270485549),(23,88,2.28591265602588),(23,90,0.540528580584124),(23,97,1.20184179204688),(23,104,0.577570421460616),(23,112,-0.358149967955565),(23,114,-0.599993896298105),(23,115,2.12956633198035),(23,116,-1.95008697775201),(24,89,-1.08911404766991),(24,90,-0.300683614612262),(24,91,1.01902066103092),(24,101,-0.437490462965789),(24,107,0.334421826837977),(24,108,-2.37231055635243),(24,110,2.09937589648122),(24,112,-0.620052186651204),(25,90,0.239982299264504),(25,92,-0.0135196996978668),(25,94,-0.216063417462691),(25,98,-2.25276955473495),(25,105,3.00759910885952),(25,108,2.53164006469924),(25,109,-1.03114413892025),(25,115,-1.02907650990326),(26,85,0.643887142551958),(26,87,-0.155011139255959),(26,89,0.588564714499344),(26,95,-1.73673207800531),(26,98,0.0921124912259285),(26,100,2.33130893887143),(26,101,-2.35862300485244),(26,102,1.37798699911496),(26,103,-1.09584337900937),(26,104,0.292596209601123),(26,107,-2.03493606372265),(26,109,0.922650837733085),(26,112,-2.65319528794214),(26,113,0.0794320505386517),(26,117,-2.51757866145817),(27,85,2.7460631122776),(27,87,-0.284188360240486),(27,94,1.4507049775689),(27,100,1.06786553544725),(27,102,-2.26595355082858),(27,103,-1.62198248237556),(27,104,-1.30040131839961),(27,105,-0.960455641346477),(27,108,-0.482093264564959),(27,110,-1.98400830103458),(27,114,0.897778252510147),(28,87,-1.37152470473342),(28,88,-0.274414807580798),(28,97,-1.50746940519425),(28,99,0.0207983642078921),(28,104,-1.91882076479385),(28,113,0.346972563859981),(28,114,0.644596697897275),(29,88,-2.30449079866939),(29,91,-0.740836817529832),(29,102,2.586138492996),(29,105,1.76119266335032),(29,116,0.957670827356792),(30,95,2.59521774956511),(30,96,-0.314058351390118),(30,99,-0.577166051210059),(30,101,0.715849787896359),(30,104,-1.59823908200323),(30,109,2.70297860652486),(30,110,-0.264137699514756),(30,114,0.447508163701285),(30,118,2.01803643910031),(31,85,-1.42046876430555),(31,92,-1.9780724509415),(31,94,-1.42660298471023),(31,96,1.63799707022309),(31,99,0.0254524369029816),(31,103,1.65151676992096),(31,107,-0.00506607257301554),(31,108,0.186735129856258),(31,109,0.649113437299722),(31,111,1.42815179906613),(31,112,0.0561540574358348),(31,117,-0.410245063631092),(32,86,-1.25553910946989),(32,87,-1.27172917874691),(32,89,-1.62358470412305),(32,92,0.352183599353008),(32,98,-3.13487655262917),(32,99,1.97986541337321),(32,104,1.3273033845027),(32,106,1.43996246223334),(32,109,-1.22203741569262),(32,116,-0.408307138279366),(32,118,-0.274330881679739),(33,96,2.24211096530045),(33,98,2.4885555589465),(33,108,-0.195455793939024),(33,110,0.972365489669484),(33,111,-1.80730613116855),(33,114,-2.40035706656087),(34,85,0.615138706625568),(34,90,-0.874790185247353),(34,99,-1.20957823419904),(34,104,0.453833124790185),(34,109,0.168767357402264),(35,86,0.0572374645222327),(35,87,0.296121097445601),(35,97,-2.17159794915616),(35,98,-1.70003357036042),(35,100,2.18575090792566),(35,104,2.29631183812983),(35,107,-2.04444257942442),(35,109,-1.79868465224158),(35,110,-0.801835688344981),(35,112,-0.32303842280343),(36,85,2.20277260658589),(36,87,-0.838770714438307),(36,90,-0.0942945646534624),(36,91,-2.20310831019013),(36,104,-0.214400158696249),(36,107,2.42773216956084),(36,109,2.00189214758751),(36,112,1.97667622913297),(36,115,-0.289941099276711),(36,117,0.93961912900174),(36,118,-1.55080568865017),(37,85,0.518501846369823),(37,86,1.65582750938444),(37,87,1.07249671926023),(37,91,0.781998657185583),(37,99,2.07475508896146),(37,105,-2.69683675649281),(37,111,2.36777855769524),(37,112,1.91326639606922),(37,118,-0.240401928769799),(38,87,-1.29615924558245),(38,90,2.50029755546739),(38,103,1.94090090639973),(38,105,-0.922116763817255),(38,106,0.410405285805841),(38,111,1.29431287575915),(38,115,-0.110545670949431),(39,87,-1.37585833307901),(39,89,-0.493202002014222),(39,91,-0.730224005859554),(39,94,-0.527565843684194),(39,97,-0.514084292123173),(39,98,1.31222724082156),(39,107,1.37414166692099),(39,108,1.64561906796472),(39,109,2.91292306283761),(39,111,-0.98086489455855),(39,113,-1.77224036378063),(39,116,2.65157017731254),(39,118,0.97811822870571),(40,88,1.37230292672506),(40,92,-1.28830835901975),(40,99,-0.330500198370312),(40,104,1.81372264778588),(40,110,-1.15215765861995),(40,116,-0.451185644093142),(40,118,-0.844172490615558),(41,88,-0.121463667714469),(41,93,-0.686315500350963),(41,96,-0.667180394909513),(41,97,-0.0986053041169469),(41,100,-2.03357799005097),(41,101,1.57741019928587),(41,104,-0.086664937284463),(41,105,-2.06331064790796),(41,106,1.14294869838557),(41,107,0.229102450636311),(41,109,-1.30626850184637),(41,110,-1.74253059480575),(41,111,-0.0672170171208838),(41,112,0.336733603930784),(42,85,1.73642689291055),(42,86,-0.0777077547532578),(42,87,-0.476310007019257),(42,99,0.0514999847407453),(42,100,1.37664418469802),(42,103,1.10660115359966),(42,109,-1.3850901821955),(42,113,1.38569292275765),(43,85,2.67991424298837),(43,88,-2.31637012848292),(43,89,0.862071596423231),(43,93,1.85925626392407),(43,97,-0.157551805169835),(43,98,-0.211989196447645),(43,101,0.641148106326487),(43,102,2.91970580156865),(43,103,-1.05858027893918),(43,105,0.579027680288095),(43,110,-0.766327402569659),(43,112,-1.53527939695425),(43,114,-0.972525711844234),(43,116,-1.06880397961364),(44,89,0.632763145847957),(44,98,1.83770256660665),(44,99,-0.784394360179449),(45,87,-1.74513992736595),(45,88,0.402729880672628),(45,90,0.0939130832850124),(45,91,2.90235602893155),(45,95,-0.218939786980804),(45,98,-1.89267403180029),(45,108,-0.105952635273293),(45,109,1.5226905117954),(45,112,0.0944547868282113),(45,115,-1.33640552995392),(46,85,1.06991027558214),(46,89,-1.82171849726859),(46,91,-0.173726615192114),(46,94,-0.376979888302255),(46,97,-1.86605426190985),(46,100,-1.73912778099918),(46,101,-0.0501342814416944),(46,108,0.578249458296457),(46,112,-1.16682943205054),(47,86,-0.230300302133244),(47,91,1.01815851313822),(47,92,-0.557878353221229),(47,94,1.88581499679556),(47,95,-1.79082613605152),(47,100,-1.17568742942595),(47,101,-0.653569139683218),(47,104,1.36986907559435),(47,105,1.03541673024689),(47,108,-0.146862697225867),(47,112,0.271202734458449),(47,114,-0.412427137058626),(47,118,1.05499435407575),(48,86,0.282502212591937),(48,91,1.58543656727805),(48,98,2.55619983520005),(48,99,0.00279244361705377),(48,100,-0.427373577074496),(48,103,-1.17751853999451),(48,105,-1.56253242591632),(48,106,-1.54103213599048),(48,111,-0.0178838465529344),(48,115,1.29891354106265),(49,87,0.889156773583178),(49,89,2.53552354503006),(49,93,-1.67637409588916),(49,94,1.60666219061861),(49,95,0.329226050599689),(49,102,-1.63451796014283),(49,113,-0.721144749290445),(49,114,1.50804925687429),(50,89,-0.415814691610462),(50,105,-2.09338663899655),(50,107,0.323366496780297),(51,87,-2.45197912533952),(51,92,1.25048829615162),(51,97,2.52484206671346),(51,98,-0.268639179662465),(51,103,2.21915341654714),(51,106,-0.921193578905606),(51,112,-0.857036042359691),(51,118,0.427076021607105),(52,89,2.211066011536),(52,97,2.3750495925779),(52,106,-1.76788384655293),(52,110,0.525986510818812),(52,111,1.6399884029664),(52,113,2.46580401013215),(52,114,0.0196615497299112),(52,118,-2.44434949797052),(53,88,-0.154049806207465),(53,90,-0.586680196539201),(53,92,-1.71060060426649),(53,94,0.795228431043428),(53,104,-0.842989898373363),(53,105,0.428617206335643),(53,109,1.72956022827845),(54,85,-1.5343562120426),(54,91,0.326914273506882),(54,94,2.72738578447829),(54,96,-0.911511581774346),(54,111,-1.48158207953124),(54,112,-0.377567369609668),(54,113,2.0237510299997),(54,118,2.33558915982543),(55,87,-1.04258857997375),(55,95,-1.04987487411115),(55,107,-1.59269234290597),(55,110,-0.690099795525986),(55,117,0.0238044373912778),(56,107,-2.87855922116764),(56,111,-0.44441816461684),(56,113,1.75290688802759),(56,114,-0.316148869289224),(57,87,-0.393993957335124),(57,90,0.714514603106784),(57,91,0.811487166966765),(57,92,1.36848811304056),(57,93,-0.0268257698294015),(57,94,-1.00024414807581),(57,95,-1.96059297463912),(57,96,-2.90068514053774),(57,100,1.69009979552599),(57,102,1.6071810052797),(57,103,2.0052186651204),(57,115,1.66818750572222),(58,86,-0.0564134647663808),(58,87,2.22134311960204),(58,89,1.29918820764794),(58,90,0.241660817285684),(58,95,0.742431409649953),(58,96,0.086680196539201),(58,101,-0.48520615253151),(58,103,1.01825006866665),(58,109,-2.07787560655538),(58,110,1.29521317178869),(58,113,-0.562326425977355),(58,114,1.02414014099551),(58,115,-0.925397503585925),(58,118,-1.52694784386731),(59,85,0.45966978972747),(59,86,2.66308328501236),(59,90,2.44083986938078),(59,91,1.4870296334727),(59,93,2.18030335398419),(59,97,-2.03611865596484),(59,98,-0.21851252784814),(59,100,-0.845019379253517),(59,102,0.316690572832423),(59,112,-0.488456373790704),(59,114,-0.451902829065828),(60,85,0.791566209906308),(60,87,-0.475539414654988),(60,90,2.68374431592761),(60,91,-0.372280037842952),(60,96,-0.257736442152165),(60,100,0.105830561235389),(60,101,-1.18095187231056),(60,105,-0.349513229773858),(60,107,-0.601062044129765),(60,109,-1.84873500778222),(60,110,1.35055848872341),(60,114,-2.02685628833888),(61,89,-0.994567705313273),(61,94,0.146961882381664),(61,96,-1.16763817255165),(61,98,1.51210058900723),(61,100,-2.10610522782067),(61,102,2.44170201727348),(61,103,-0.862727744376965),(61,114,-1.52679525131993),(61,115,-2.0647755363628),(62,93,-2.57473982970672),(62,95,-0.544289986877041),(62,107,-0.333262123477889),(62,109,-0.984832300790429),(62,110,2.18715475936155),(62,111,-0.908757286294137),(63,87,-1.28303628650777),(63,90,-0.670850245674001),(63,93,0.279335917233802),(63,97,-0.411259804071169),(63,100,-0.666539506210517),(63,103,-1.96234015930662),(63,104,-1.89065981017487),(63,108,-0.348445081942198),(63,111,-1.80052339243751),(63,114,2.21922971282083),(63,117,0.438375499740593),(64,87,1.13330484939116),(64,94,1.33459730826746),(64,99,1.56627094332713),(64,110,-0.141911069063387),(64,112,1.91628772850734),(64,116,2.28348643452254),(65,87,0.0901593066194647),(65,88,-0.897396771141697),(65,90,2.53322702719199),(65,97,-2.1931974242378),(65,99,0.255951109347819),(65,107,0.113155003509629),(65,110,-1.88798181096835),(65,111,0.835879085665456),(65,114,-0.226203192236091),(65,116,-2.20399334696493),(65,117,-0.284119693594165),(66,85,2.15800195318461),(66,102,0.143749809259316),(66,105,0.521164586321604),(66,108,1.00094607379376),(66,111,-0.881069368572039),(66,115,1.15407269508957),(66,118,0.543603320413831),(67,86,1.30153813287759),(67,90,2.25768303476058),(67,92,-1.12238685262612),(67,104,0.22209845271157),(67,109,-2.22054963835566),(67,111,0.76555681020539),(68,87,-1.18350779747917),(68,88,0.639637440107425),(68,90,2.51576281014435),(68,93,-2.13176366466262),(68,95,-1.69257179479354),(68,96,0.488319040498062),(68,97,1.28366191595203),(68,103,-1.10850093081454),(68,107,-2.16087832270272),(68,112,1.56037324137089),(68,114,2.30420850245674),(69,87,-2.147961363567),(69,88,-0.345896786400952),(69,92,0.640049439985351),(69,94,-1.76322214423048),(69,95,2.04046754356517),(69,97,-1.29254280220954),(69,108,-0.7454222235786),(69,113,-2.88478499710074),(69,114,0.66102328562273),(69,118,0.201116977446822),(70,85,-2.19445631275368),(70,86,2.38799707022309),(70,87,-0.143070772423475),(70,90,0.942228461561937),(70,96,0.932111575670644),(70,97,-1.64297158726768),(70,99,1.58404034546953),(70,105,1.07132938627277),(70,107,2.77643665883358),(70,109,-0.97865230262154),(70,110,1.02273628955962),(70,111,2.62016663106174),(71,85,1.24385814996796),(71,93,1.16032898953215),(71,96,-2.15140232551042),(71,100,-1.96802423169652),(71,104,-1.91576128421888),(71,106,-0.116557817316202),(71,111,2.17824335459456),(71,113,1.94117557298502),(72,94,0.358058412427137),(72,96,0.808893093661306),(72,99,1.90893276772362),(72,110,-1.43063142796106),(72,112,-0.194708090456862),(72,114,2.62868892483291),(72,115,2.53892635883663),(72,116,-1.42168187505722),(73,88,1.8872798852504),(73,94,1.53950621051668),(73,99,-0.0577715384380627),(73,100,0.20173497726371),(73,106,0.0945997497482223),(73,110,1.17953276161992),(73,115,0.883739738151189),(74,90,2.52486495559557),(74,94,-2.27820673238319),(74,99,2.15063936277352),(74,102,1.67699209570605),(74,106,-0.179067354350414),(74,107,-1.64708395641957),(74,110,1.11938077944273),(74,113,-0.636539811395611),(74,116,-2.6806466872158),(75,85,1.97010711996826),(75,86,-0.734244819483016),(75,93,-1.04687643055513),(75,98,2.2898953215125),(75,103,-2.38624225592822),(75,105,-0.0475096896267587),(75,111,-1.41166417432173),(75,117,-0.36299478133488),(76,86,1.66661580248421),(76,89,0.810312204351939),(76,92,1.88174077578051),(76,94,-0.163449507126072),(76,99,-1.9475539414655),(76,101,-1.16167943357646),(76,103,1.02191991943114),(76,106,0.538155766472366),(76,110,0.917783135471663),(76,113,-1.8352534562212),(77,88,0.0076754051332133),(77,91,-1.22638630329295),(77,93,0.681257057405316),(77,98,-1.70192571794794),(77,101,2.00323496200446),(77,102,2.19695883053072),(77,103,1.15058595538194),(77,104,1.8618579668569),(77,105,-1.20439771721549),(77,109,-1.31511886959441),(78,88,-0.561212500381481),(78,93,2.47372356334117),(78,94,-0.761009552293466),(78,101,-0.011085848567156),(78,104,-2.23169652394177),(78,110,-0.232558671834468),(78,114,-1.65887936033204),(78,116,0.228240302743614),(78,117,0.0838648640400403),(78,118,0.33233893856624),(79,87,0.399029511398663),(79,92,1.5591906491287),(79,94,0.0560625019074069),(79,107,-0.999954222235786),(79,108,0.79544206060976),(79,114,-0.3582644123661),(79,118,1.15759758293405),(80,87,-1.84324930570391),(80,88,-0.325907162694174),(80,91,-2.1408505508591),(80,99,-2.47924741355632),(80,101,0.604419080172124),(80,107,1.5411999877926),(80,113,0.366283150730918),(81,85,0.92589342936491),(81,86,2.22668385876034),(81,90,-1.77100436414685),(81,93,0.174161503952147),(81,96,-1.46353801080355),(81,97,0.730765709402753),(81,106,2.25882747886593),(81,107,-0.58455153050325),(81,110,0.70493942075869),(81,115,0.651051362651448),(82,86,0.47529526657918),(82,92,-2.76435132908109),(82,110,-0.715872676778466),(82,112,2.05396435438093),(83,87,-2.11615344706565),(83,91,-0.352839747306742),(83,93,-0.21660512100589),(83,101,-1.3160573137608),(83,103,1.92177343058565),(83,105,2.16198461867122),(83,108,-2.40997039704581),(84,85,-1.95186468092898),(84,86,2.28044984282968),(84,89,-0.887783440656758),(84,95,-1.46351512192145),(84,99,-0.458540604876858),(84,104,-2.15513321329386),(84,111,-0.409100619525742),(84,113,-2.20366527298807),(84,114,0.485778374584185)]
orgname='BHNEAT_3_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()