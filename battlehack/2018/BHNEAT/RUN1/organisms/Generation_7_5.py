edge = [(0,85,-1.75539414654988),(0,89,-1.74158452101199),(0,90,0.0520340586565752),(0,93,-0.492629779961547),(0,98,-1.48010193182165),(0,101,-0.0819727164525283),(0,105,1.54322946867275),(0,108,-1.24515518662069),(0,113,0.861949522385327),(0,114,2.35200048829615),(0,117,-0.937070833460494),(0,118,-1.61825922421949),(1,86,1.40256965849788),(1,92,-2.06273079622791),(1,98,3.1175420392468),(1,102,2.34957426679281),(1,104,0.443769646290475),(1,107,-1.54925687429426),(1,108,-1.12529374065371),(1,109,-0.585741752372814),(1,113,1.88370921964171),(2,87,-0.0787835322122867),(2,88,-0.678960539567248),(2,100,1.00303659169286),(2,106,-2.52543717764824),(2,108,0.243354594561602),(2,110,-0.0631122775963622),(2,113,0.248832667012543),(2,118,-1.74835963011567),(3,89,-0.56755272072512),(3,92,0.999954222235786),(3,97,-1.04892117069002),(3,99,2.7055269020661),(3,101,1.16628009887997),(3,103,0.754280220954009),(3,105,1.93925290688803),(3,108,1.88377025666066),(3,109,-1.70970793786431),(3,111,1.52069154942473),(3,112,1.67651905880917),(3,116,-0.447141941587573),(4,90,-1.99742118594928),(4,91,-0.654988250373852),(4,97,0.117007965330973),(4,99,-1.00935392315439),(4,101,-1.18689535203101),(4,108,-1.19716483046968),(4,113,-1.56936857203894),(4,118,-1.36114078188421),(5,86,1.61772515030366),(5,87,-0.644199957274087),(5,89,-1.579149754326),(5,92,-0.933118686483352),(5,93,-1.28988006225776),(5,99,-0.0347453230384228),(5,104,-0.613711966307566),(5,114,1.3335062715537),(5,118,-2.58801538132878),(6,89,2.00013733329264),(6,92,-3.14523758659627),(6,94,0.249259926145207),(6,100,-1.34603411969359),(6,101,-0.982024597918638),(6,103,-2.84986419263283),(6,107,0.0209356975005341),(6,110,-0.567461165196692),(6,113,-1.21756645405438),(7,85,1.36982329783013),(7,86,-1.62283700064089),(7,90,-2.2197027497177),(7,95,0.424710837122715),(7,99,0.573488570818201),(7,100,1.45327616199225),(7,104,-1.64523758659627),(7,106,-0.97506637775811),(7,108,2.08096560563982),(7,112,2.07061983092746),(7,116,-0.641499069185461),(8,92,0.577837458418531),(8,93,-2.22890408032472),(8,95,-0.857097079378643),(8,99,-1.11192663350322),(8,106,0.19388409070101),(8,107,-0.558656575212867),(8,115,-1.07985168004395),(8,116,-1.10122989593188),(8,118,1.09050263985107),(9,85,-0.250114444410535),(9,87,2.30625324259163),(9,98,2.01358073671682),(9,101,-0.634510330515458),(9,103,-1.39919736320078),(9,105,-1.73699148533586),(9,106,-1.17064424573504),(9,113,0.55885494552446),(10,89,-0.0465712454603717),(10,96,2.05195776238289),(10,106,1.4861445966979),(10,108,1.98106326487014),(10,109,1.23155919064913),(10,111,0.562410351878414),(10,112,1.60687582018494),(10,114,1.65157017731254),(10,115,1.69594409009064),(10,116,-2.1089053010651),(10,117,1.96145512253182),(11,89,-2.06547746208075),(11,97,-1.32799768059328),(11,105,-2.35323648792993),(11,112,1.39231543931394),(11,115,1.48724326303903),(12,92,0.936658833582568),(12,93,2.19034394360179),(12,94,1.21562852870266),(12,97,0.312387462996307),(12,98,2.08503982665487),(12,99,-1.03802606280709),(12,108,-0.510177922910245),(12,116,0.805246131778924),(13,86,0.144856105227821),(13,87,0.652851954710532),(13,90,0.0503097628711814),(13,99,2.48834192938017),(13,102,-0.0868251594592121),(13,104,1.32383190404981),(13,113,-0.597186193426313),(13,116,-0.887279885250404),(13,118,-0.717871639149144),(14,90,-1.2151249732963),(14,93,2.19980468153935),(14,95,-1.47312845240638),(14,102,1.28003784295175),(14,104,1.56788842432936),(14,106,1.06350901821955),(14,109,0.130497146519364),(14,110,0.803537095248268),(14,111,-1.0382702108829),(15,85,1.80138554033021),(15,92,0.00729392376476334),(15,99,-1.72525711844234),(15,101,-1.38554033021027),(15,104,0.422803430280465),(15,108,-0.231116672261727),(15,117,0.0536973174230171),(16,86,0.167546617023225),(16,87,1.29892880031739),(16,88,-2.03450117496262),(16,90,-0.634968108157598),(16,91,-2.66434217352824),(16,95,-1.96040223395489),(16,97,0.137897885067293),(16,98,0.37275307473983),(16,99,0.742805261391034),(16,101,1.92324594866787),(16,108,-0.95265053254799),(16,110,-1.19150364696188),(17,89,0.542268135624256),(17,96,-0.563798944059572),(17,99,-0.751426740318003),(17,101,0.866374706259346),(17,106,-1.11839655751213),(17,107,-2.04019287697989),(17,109,1.36678670613727),(18,90,-0.560121463667714),(18,91,1.50440992461928),(18,93,-1.10429700613422),(18,99,-2.02711569566942),(18,102,-0.656025879696036),(18,103,-2.89190343943602),(18,104,-0.122913296914579),(18,110,3.09187597277749),(18,111,0.516663106173894),(18,116,0.630283516953032),(18,117,-1.20456556901761),(18,118,-1.71425519577624),(19,87,0.0601367229224525),(19,89,-2.16609698782311),(19,93,-2.45468001342814),(19,95,-2.8164006469924),(19,101,2.20380260628071),(19,105,2.00238044373913),(19,115,-1.05522324289682),(20,88,1.77277443769646),(20,101,-2.97016815698721),(20,103,-1.4270760216071),(20,104,-2.35546433912168),(20,105,-0.896969512009034),(20,106,-0.67925046540727),(20,111,1.34441663869137),(20,116,-1.45719779045991),(21,86,1.00825525681326),(21,87,2.93639942625202),(21,94,-1.64867091891232),(21,96,1.92670979949339),(21,101,-0.0343791009247109),(21,102,-1.15521713919492),(21,105,0.73718985564745),(21,107,-2.4525742362743),(21,108,-1.26937162388989),(22,86,-1.51322977385784),(22,88,-2.32006286812952),(22,91,-1.58053834650716),(22,92,-0.932584612567522),(22,93,0.708655049287393),(22,98,1.39066743980224),(22,106,-3.0411999877926),(22,115,1.11748100222785),(22,117,1.77404095583972),(23,85,-1.76273384807886),(23,86,-0.155278176213874),(23,88,1.04173406170843),(23,90,2.69077120273446),(23,97,1.26630451368755),(23,104,-2.39831232642598),(23,112,-0.493102816858425),(23,114,0.458326975310526),(23,115,-1.41763054292428),(23,116,1.51774651326029),(24,89,-0.561815240943632),(24,90,-2.06729331339457),(24,91,1.8165227210303),(24,101,1.76525162511063),(24,107,1.63507492294076),(24,108,2.07986693929868),(24,110,-0.487243263039033),(24,112,-3.15640736106449),(25,90,0.643436994537187),(25,92,0.93595690786462),(25,94,1.63156529435102),(25,98,1.19139683217872),(25,105,0.592089602343822),(25,108,2.63489181188391),(25,109,1.47314371166112),(25,115,0.963225196081424),(26,85,1.06736960966826),(26,87,-0.873348185674612),(26,89,-2.10905789361248),(26,95,2.23607593005158),(26,98,0.0901211584826198),(26,100,-1.8740653706473),(26,101,1.97604297006134),(26,102,-1.63148899807733),(26,103,-1.90339365825373),(26,104,3.05916013061922),(26,107,-1.63237403485214),(26,109,2.09312723166601),(26,112,-2.46603289895322),(26,113,-1.02838221381268),(26,117,0.500061037018952),(27,85,-0.917157506027406),(27,87,-2.37569811090426),(27,94,-1.81598864711448),(27,100,0.416608172856838),(27,102,-3.21657460249641),(27,103,0.501266518143254),(27,104,0.784585100863674),(27,105,0.412366100039674),(27,108,-3.27791680654317),(27,110,-0.203726310007019),(27,114,0.813531907101657),(28,87,2.3989226966155),(28,88,-1.44463942381054),(28,97,1.549272133549),(28,99,-0.695074312570574),(28,104,-0.348567155980102),(28,113,0.0560930204168828),(28,114,0.257713553270058),(29,88,-1.58302560502945),(29,91,2.76874599444563),(29,102,-2.12585833307901),(29,105,-1.90223395489364),(29,116,-1.21069978942228),(30,95,2.74297311319315),(30,96,-1.97688222907193),(30,99,0.88784447767571),(30,101,2.3130283516953),(30,104,-0.946836756492813),(30,109,-0.00256355479598369),(30,110,1.05879390850551),(30,114,1.43348490859706),(30,118,-0.59073152867214),(31,85,-0.599780266731773),(31,92,1.11250648518326),(31,94,0.8970763267922),(31,96,1.93360698263497),(31,99,0.119861445966979),(31,103,1.41283913693655),(31,107,-0.395290993987854),(31,108,-0.202475051118504),(31,109,2.6629993591113),(31,111,0.691915646839808),(31,112,0.888546403393658),(31,117,-1.53588976714377),(32,86,0.644550920133061),(32,87,-0.436429944761498),(32,89,-1.2105471968749),(32,92,-0.00141911069063388),(32,98,-1.19170201727348),(32,99,-1.87855159154027),(32,104,1.40983306375317),(32,106,-1.64416943876461),(32,109,1.68921475875118),(32,116,-0.539674062318796),(32,118,0.0749382000183111),(33,96,-1.26219977416303),(33,98,-2.04310739463485),(33,108,0.69991149632252),(33,110,-2.22910245063631),(33,111,0.598818933683279),(33,114,1.6044495986816),(34,85,1.97468489638966),(34,90,-1.45304727317118),(34,99,0.43832209234901),(34,104,-0.113971373638112),(34,109,1.104892117069),(35,86,-0.198446607867672),(35,87,0.0372783593249305),(35,97,0.374614703817866),(35,98,2.71019623401593),(35,100,-0.965208899197363),(35,104,-1.00935392315439),(35,107,0.713538010803552),(35,109,-1.66968291268654),(35,110,1.80187383648183),(35,112,0.97476119266335),(36,85,-0.527375102999969),(36,87,1.77851191747795),(36,90,-1.6842402417066),(36,91,0.786156804101688),(36,104,-2.02299569689016),(36,107,2.30172124393445),(36,109,0.926236762596515),(36,112,-2.74329355754265),(36,115,0.404522843104343),(36,117,-0.292184209723197),(36,118,-1.08545182653279),(37,85,0.299584948271126),(37,86,-1.49227881710257),(37,87,-2.12202826013977),(37,91,-2.01612903225806),(37,99,1.40475173192541),(37,105,-0.323145237586596),(37,111,1.81434064760277),(37,112,0.534791100802637),(37,118,1.34568315683462),(38,87,1.14114810632649),(38,90,3.15208899197363),(38,103,2.30547502059999),(38,105,1.42571794793542),(38,106,3.21497238074892),(38,111,2.19730216376232),(38,115,-0.833521530808435),(39,87,-1.18593401898251),(39,89,2.38799707022309),(39,91,-0.938444166386914),(39,94,-1.32102420117801),(39,97,-2.55345316934721),(39,98,-2.01541184728538),(39,107,0.78438673055208),(39,108,1.46134830774865),(39,109,-0.514023255104221),(39,111,2.47495956297494),(39,113,2.67867061372723),(39,116,-1.20442823572497),(39,118,-0.422635578478347),(40,88,0.748817407757805),(40,92,-0.130542924283578),(40,99,2.35439619129002),(40,104,0.409833063753166),(40,110,2.54419080172124),(40,116,-1.34493545335246),(40,118,-1.22920926541948),(41,88,-1.46557512131108),(41,93,0.96012756736961),(41,96,0.324304940946684),(41,97,-1.32221442304758),(41,100,-1.6155735953856),(41,101,0.435239722891934),(41,104,1.31043427838984),(41,105,-0.591540269173254),(41,106,-0.428586687826167),(41,107,-0.368739890743736),(41,109,2.69736320078127),(41,110,-0.847025971251564),(41,111,-1.13362529374065),(41,112,0.367381817072054),(42,85,-0.532441175572985),(42,86,-1.19055757316813),(42,87,2.30968657490768),(42,99,-1.37241737113559),(42,100,0.663136692403943),(42,103,0.87176122318186),(42,109,-0.0151524399548325),(42,113,-0.0547502059999391),(43,85,0.882641071810053),(43,88,-1.13628040406507),(43,89,0.677220984527116),(43,93,-1.58136234626301),(43,97,-0.532334360789819),(43,98,1.51771599475082),(43,101,1.85418256172369),(43,102,2.5186315500351),(43,103,0.362254707480087),(43,105,-0.526139103366192),(43,110,0.356166264839625),(43,112,1.96632282479324),(43,114,-1.60144352549821),(43,116,-2.94801171910764),(44,89,1.86574907681509),(44,98,2.41241187780389),(44,99,-2.1368144779809),(45,87,2.04795983764153),(45,88,-0.99877925962096),(45,90,-0.619510483108005),(45,91,-1.76906643879513),(45,95,0.996841334269234),(45,98,-1.45583971678823),(45,108,-2.15967284157842),(45,109,-0.0645771660512101),(45,112,1.46403393658254),(45,115,-1.48161259804071),(46,85,0.643421735282449),(46,89,2.52569658497879),(46,91,-0.965193639942625),(46,94,-0.537949766533403),(46,97,-1.23250526444288),(46,100,-0.372081667531358),(46,101,-2.33518478957488),(46,108,-1.28627887813959),(46,112,1.95963927121799),(47,86,0.629932554094058),(47,91,0.0737632374034852),(47,92,-1.85309915463729),(47,94,1.25815607165746),(47,95,0.987655262916959),(47,100,0.657765434736168),(47,101,-1.23538926358837),(47,104,0.945387127292703),(47,105,-1.67273476363414),(47,108,-1.23996704000977),(47,112,-0.453444013794366),(47,114,1.98866237372967),(47,118,0.546266060365612),(48,86,-0.489028595843379),(48,91,-3.01239051484725),(48,98,1.22907193212683),(48,99,1.21269875179296),(48,100,0.318781090731529),(48,103,-1.5338145084994),(48,105,-0.977904599139378),(48,106,-2.56816309091464),(48,111,-1.08853419598987),(48,115,-1.00688192388684),(49,87,-0.0721457564012574),(49,89,-1.87516403698843),(49,93,-0.592013306070132),(49,94,-0.616397595141453),(49,95,0.380092776268807),(49,102,-1.09880367442854),(49,113,-1.16109195226905),(49,114,-0.428281502731407),(50,89,2.35680715353862),(50,105,0.603213599047822),(50,107,0.0543534653767509),(51,87,0.0576647236548967),(51,92,0.415540025025178),(51,97,-0.676870021668142),(51,98,-1.38711203344829),(51,103,-0.491180150761437),(51,106,1.00082399975585),(51,112,2.44354075746941),(51,118,-0.265617847224342),(52,89,0.37290566728721),(52,97,1.13228247932371),(52,106,-2.51998962370678),(52,110,-0.53941465498825),(52,111,0.113025299844356),(52,113,-0.753257850886563),(52,114,-1.46639912106693),(52,118,0.413418988616596),(53,88,-1.64499343852046),(53,90,-2.80602435377056),(53,92,-1.99127170628986),(53,94,1.01153599658193),(53,104,-2.52352977080599),(53,105,-0.325495162816248),(53,109,0.626300851466414),(54,85,2.05066072573016),(54,91,2.84379100924711),(54,94,1.81987975707266),(54,96,-0.32609027375103),(54,111,2.38013855403302),(54,112,-1.10277108066042),(54,113,-2.5100405896176),(54,118,-0.812311166722617),(55,87,-1.94927823725089),(55,95,2.01384014404736),(55,107,-1.92007202368236),(55,110,-1.49723807489242),(55,117,-0.704809717093417),(56,107,1.24686422315134),(56,111,-2.23618274483474),(56,113,0.852336191900388),(56,114,-0.0805536057618946),(57,87,0.374095889156774),(57,90,1.60232856227302),(57,91,-0.882442701498459),(57,92,2.81681264687033),(57,93,2.28600421155431),(57,94,0.905224768822291),(57,95,2.20960112308115),(57,96,-0.219916379284036),(57,100,-1.33660390026551),(57,102,-2.18474379711295),(57,103,-1.71803949095126),(57,115,1.7154454176458),(58,86,-0.213690603350932),(58,87,1.16843165379803),(58,89,0.41376995147557),(58,90,0.991622669148839),(58,95,-3.28922391430403),(58,96,1.43253883480331),(58,101,0.706289864803003),(58,103,3.05117954039125),(58,109,-0.235984374523148),(58,110,3.18648335215308),(58,113,0.469878231147191),(58,114,-0.405896176030763),(58,115,-0.00502029480880153),(58,118,-3.18330942716758),(59,85,1.09648426770837),(59,86,3.08618427076022),(59,90,1.01736503189184),(59,91,0.754799035615101),(59,93,1.93690298165838),(59,97,-0.62808618427076),(59,98,-1.49728385265664),(59,100,1.72739341410565),(59,102,0.754600665303506),(59,112,-0.395977660451063),(59,114,-1.5262611774041),(60,85,-2.42899868770409),(60,87,-0.311273537400433),(60,90,1.80352183599353),(60,91,-2.05603198339793),(60,96,1.65521713919492),(60,100,-1.85975218970305),(60,101,-1.04165776543474),(60,105,-1.88222907193213),(60,107,-1.35863826410718),(60,109,-2.05888546403394),(60,110,-2.54499954222236),(60,114,1.57969908749657),(61,89,-0.254402294991913),(61,94,-0.542405468916898),(61,96,-1.3017822809534),(61,98,1.58604693746757),(61,100,-1.86452833643605),(61,102,1.75199133274331),(61,103,0.938901944029054),(61,114,-0.99572740867336),(61,115,-0.996200445570238),(62,93,0.869823297830134),(62,95,0.188451796014283),(62,107,-2.89681691946165),(62,109,-1.66040528580584),(62,110,1.72574541459395),(62,111,-1.87839899899289),(63,87,1.29927976317637),(63,90,3.1044495986816),(63,93,-0.965605639820551),(63,97,1.19261757255776),(63,100,1.9526963103122),(63,103,-1.88102359080782),(63,104,-0.140873439741203),(63,108,-0.309625537888729),(63,111,-1.91077913754692),(63,114,1.93284401989807),(63,117,-0.58256782738731),(64,87,-0.043336283455916),(64,94,-0.0881069368572039),(64,99,-1.69333475753044),(64,110,-1.17101046784875),(64,112,-1.22016052735984),(64,116,1.11587878048036),(65,87,-0.913754692220832),(65,88,2.01113925595874),(65,90,-0.0514999847407453),(65,97,-0.17207861568041),(65,99,-1.02265999328593),(65,107,-1.59630115665151),(65,110,0.12831507309183),(65,111,-1.44492934965056),(65,114,-2.14993743705557),(65,116,-2.82122257148961),(65,117,3.2014679403058),(66,85,0.744621112704856),(66,102,2.05639820551164),(66,105,-0.212454603717155),(66,108,-0.194616534928434),(66,111,1.85410626545),(66,115,1.91608935819575),(66,118,1.29404583880123),(67,86,0.706244087038789),(67,90,1.77814569536424),(67,92,-1.95851008636738),(67,104,0.82311471907712),(67,109,1.41370891445662),(67,111,0.992172002319407),(68,87,0.661122470778527),(68,88,0.759392071291238),(68,90,0.474883266701254),(68,93,-0.675923947874386),(68,95,0.423596911526841),(68,96,-1.4702444532609),(68,97,-0.611865596484268),(68,103,1.23416852320933),(68,107,-1.08584856715598),(68,112,1.05342265083773),(68,114,0.725516525772881),(69,87,-1.73635059663686),(69,88,0.339503158665731),(69,92,-1.56399731437117),(69,94,-0.102435377056185),(69,95,2.61581774346141),(69,97,-1.53868221076083),(69,108,-2.39608447523423),(69,113,-2.97413556321909),(69,114,0.905514694662313),(69,118,0.990844447157201),(70,85,-0.357799005096591),(70,86,-0.603411969359416),(70,87,1.77658925138096),(70,90,0.739188818018128),(70,96,0.640736106448561),(70,97,0.375591296121097),(70,99,0.743186742759484),(70,105,-0.960997344889676),(70,107,2.21219519638661),(70,109,-0.715338602862636),(70,110,1.31282998138371),(70,111,-0.681920834986419),(71,85,1.72904141361736),(71,93,-0.46134830774865),(71,96,2.46971037934507),(71,100,1.02592547379986),(71,104,-0.691167943357646),(71,106,-0.206213568529313),(71,111,-1.70662556840724),(71,113,-0.709479049043245),(72,94,1.84502700888089),(72,96,-0.122837000640889),(72,99,2.99934385204627),(72,110,0.252998443556017),(72,112,0.810388500625629),(72,114,-0.0816827906125064),(72,115,-0.378505813776055),(72,116,-1.97126682332835),(73,88,0.847773674733726),(73,94,1.81858272041993),(73,99,-1.79784539323099),(73,100,0.975386822107608),(73,106,0.0778221991637928),(73,110,0.158848841822565),(73,115,1.4773094882046),(74,90,-0.879299295022431),(74,94,-2.31246375927),(74,99,-1.35425885799738),(74,102,-0.518723105563524),(74,106,-0.253059480574969),(74,107,-1.33034760582293),(74,110,-2.13354899746696),(74,113,-0.740348521378216),(74,116,-0.316232795190283),(75,85,1.03675954466384),(75,86,0.971251564073611),(75,93,-0.858760338145085),(75,98,2.03053376873074),(75,103,-0.815424054689169),(75,105,2.1959288308359),(75,111,-0.520416882839442),(75,117,2.11241492965484),(76,86,0.302591021454512),(76,89,1.39831232642598),(76,92,-0.710974456007569),(76,94,3.22786645100253),(76,99,2.18146305734428),(76,101,-1.80898464918973),(76,103,1.07951597643971),(76,106,1.20783104953154),(76,110,-1.67056794946135),(76,113,-2.03863643299661),(77,88,-2.26195562608722),(77,91,-1.4369945371868),(77,93,1.44474623859371),(77,98,0.581682790612506),(77,101,1.55946531571398),(77,102,-0.885753959776605),(77,103,-2.2415082247383),(77,104,-1.56598101748711),(77,105,1.33108005005036),(77,109,0.143925290688803),(78,88,-2.02832117679373),(78,93,0.501876888332774),(78,94,0.521897030549028),(78,101,-0.634678182317576),(78,104,0.102511673329875),(78,110,-1.4280373546556),(78,114,-0.0717947935422834),(78,116,-0.684835352641377),(78,117,1.08775597399823),(78,118,1.89100314340648),(79,87,-1.43520920438246),(79,92,2.28675191503647),(79,94,0.238166447950682),(79,107,-2.26371044038209),(79,108,0.676686910611286),(79,114,2.31696523941771),(79,118,-0.911267433698538),(80,87,-2.0710776085696),(80,88,0.144047364726707),(80,91,-2.13155003509629),(80,99,0.479476302377392),(80,101,0.634784997100742),(80,107,0.89150669881283),(80,113,1.71514023255104),(81,85,-0.408490249336222),(81,86,-1.77603991821039),(81,90,0.461210974456008),(81,93,-0.276284066286203),(81,96,-2.26540421765801),(81,97,1.54124576555681),(81,106,-0.347560045167394),(81,107,0.13556321909238),(81,110,1.0007629627369),(81,115,-0.232413708914457),(82,86,0.588702047791986),(82,92,-2.38876003295999),(82,110,-0.520493179113132),(82,112,0.838831751457259),(83,87,-0.97460860011597),(83,91,2.35245826593829),(83,93,-1.80504776146733),(83,101,-1.67130039368877),(83,103,0.713675344096194),(83,105,2.0576647236549),(83,108,-0.982726523636586),(84,85,1.24848170415357),(84,86,-0.598559526352733),(84,89,-0.228339487899411),(84,95,-0.812372203741569),(84,99,0.254982146671957),(84,104,0.336771752067629),(84,111,-2.63803521835994),(84,113,2.24143192846461),(84,114,-1.51547288430433),(35,105,3.09550767540513)]
orgname='BHNEAT_7_5'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()