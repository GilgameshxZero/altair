edge = [(0,85,-0.815424054689169),(0,89,0.421918393505661),(0,90,0.870265816217536),(0,93,-0.691488387707144),(0,98,0.252723776970733),(0,101,-0.753288369396039),(0,105,-0.573168126468703),(0,108,0.257332071901608),(0,113,-0.997375408185064),(0,114,0.263008514664144),(0,117,0.134403515732292),(0,118,-0.0854518265327921),(1,86,-0.133457441938536),(1,92,-0.842799157689138),(1,98,0.589770195623646),(1,102,-0.744071779534287),(1,104,-0.409588915677358),(1,107,-0.341196935941649),(1,108,-0.877956480605487),(1,109,0.382366405224769),(1,113,0.942838831751457),(2,87,0.181493575853755),(2,88,0.291665395062105),(2,100,0.177098910489212),(2,106,0.284066286202582),(2,108,-0.223120822779015),(2,110,-0.336924344615009),(2,113,0.757988219855342),(2,118,-0.0633259071626942),(3,89,-0.961394085512864),(3,92,0.469191564683981),(3,97,0.954741050447096),(3,99,0.934110538041322),(3,101,-0.658619953001495),(3,103,-0.675313577684866),(3,105,0.710959196752831),(3,108,0.0348521378215888),(3,109,0.500900296029542),(3,111,0.369884334849086),(3,112,-0.507065034943693),(3,116,0.687612537003693),(4,90,-0.373729667043062),(4,91,-0.574785607470931),(4,97,0.137089144566179),(4,99,0.550706503494369),(4,101,-0.350688192388684),(4,108,-0.850764488662374),(4,113,-0.182775353251747),(4,118,0.946043275246437),(5,86,0.488723410748619),(5,87,0.949583422345653),(5,89,0.0284432508316294),(5,92,-0.578661458174383),(5,93,-0.0238044373912778),(5,99,-0.6556901760918),(5,104,-0.760917996765038),(5,114,0.367625965147862),(5,118,-0.560899685659352),(6,89,-0.786248359630116),(6,92,0.797631763664663),(6,94,-0.60719626453444),(6,100,-0.351420636616108),(6,101,-0.817743461409345),(6,103,-0.58745078890347),(6,107,0.176305429242836),(6,110,-0.252754295480209),(6,113,0.108615375225074),(7,85,-0.226996673482467),(7,86,0.0164799951170385),(7,90,0.462996307260353),(7,95,-0.186407055879391),(7,99,-0.337168492690817),(7,100,-0.595110934781945),(7,104,-0.624805444502091),(7,106,-0.0676290169988098),(7,108,0.0429090243232521),(7,112,0.574571977904599),(7,116,0.392101809747612),(8,92,-0.0802026429029206),(8,93,0.400311288796655),(8,95,0.404736472670675),(8,99,-0.0535905026398511),(8,106,0.156132694479202),(8,107,-0.114841151158177),(8,115,-0.0583208716086306),(8,116,0.306558427686392),(8,118,-0.0638142033143101),(9,85,0.894222846156194),(9,87,0.627307962279122),(9,98,0.774742881557665),(9,101,0.548661763359477),(9,103,-0.27973265785699),(9,105,0.99969481490524),(9,106,0.364177373577074),(9,113,-0.850428785058138),(10,89,0.300149540696432),(10,96,-0.334849085970641),(10,106,0.0507827997680593),(10,108,-0.566423535874508),(10,109,0.791192358165227),(10,111,0.556657612842189),(10,112,0.193029572435682),(10,114,0.32914212469863),(10,115,-0.725028229621265),(10,116,0.58287301248207),(10,117,0.964232306894131),(11,89,-0.267067476424451),(11,97,0.393505661183508),(11,105,0.509475997192297),(11,112,0.997070223090304),(11,115,-0.717398602252266),(12,92,0.788079470198676),(12,93,0.469069490646077),(12,94,0.835444196905423),(12,97,0.159520249031037),(12,98,0.0211798455763421),(12,99,0.381603442487869),(12,108,-0.286324655903806),(12,116,0.838099307229835),(13,86,-0.132480849635304),(13,87,-0.316751609851375),(13,90,-0.26578569902646),(13,99,0.043855098117008),(13,102,-0.123020111697745),(13,104,-0.685934018982513),(13,113,0.232856227301859),(13,116,0.522141178624836),(13,118,-0.562334055604724),(14,90,0.98361156041139),(14,93,-0.805383465071566),(14,95,-0.976195562608722),(14,102,0.611194189275796),(14,104,-0.295815912350841),(14,106,0.650746177556688),(14,109,0.13571581163976),(14,110,0.804162724692526),(14,111,-0.295205542161321),(15,85,0.246192815942869),(15,92,-0.358317819757683),(15,99,-0.435682241279336),(15,101,0.941160313730277),(15,104,-0.601794488357189),(15,108,-0.232673116245003),(15,117,-0.89364299447615),(16,86,-0.603595080416273),(16,87,0.54002502517777),(16,88,-0.152836695455794),(16,90,0.783410138248848),(16,91,-0.82952360606708),(16,95,0.625965147862178),(16,97,0.331705679494613),(16,98,-0.187383648182623),(16,99,0.470870082705161),(16,101,0.341380046998505),(16,108,-0.222815637684255),(16,110,-0.902401806695761),(17,89,0.392254402294992),(17,96,0.596850489822077),(17,99,-0.818933683278909),(17,101,-0.999755851924192),(17,106,0.477858821375164),(17,107,0.175481429486984),(17,109,-0.796655171361431),(18,90,0.551103244117557),(18,91,-0.155552842799158),(18,93,0.202063051240577),(18,99,0.97506637775811),(18,102,0.864345225379192),(18,103,-0.157628101443525),(18,104,0.231299783318583),(18,110,0.0579546494949187),(18,111,-0.0725424970244453),(18,116,0.736533707693716),(18,117,-0.0488601336710715),(18,118,-0.127811517685476),(19,87,0.420850245674001),(19,89,-0.054139835810419),(19,93,-0.779442732016968),(19,95,-0.860469374675741),(19,101,0.0935697500534074),(19,105,-0.964323862422559),(19,115,-0.394543290505692),(20,88,-0.929288613544115),(20,101,-0.926847132786035),(20,103,0.905819879757073),(20,104,0.215124973296304),(20,105,0.567644276253548),(20,106,0.849085970641194),(20,111,-0.126194036683248),(20,116,-0.50175481429487),(21,86,-0.758171330912198),(21,87,-0.39432966093936),(21,94,-0.954069643238624),(21,96,0.726279488509781),(21,101,0.0177922910245064),(21,102,-0.13113803521836),(21,105,-0.338755455183569),(21,107,0.619220557267983),(21,108,-0.247291482284005),(22,86,-0.351603747672964),(22,88,-0.376964629047517),(22,91,0.58623004852443),(22,92,0.613849299600208),(22,93,-0.863429670094913),(22,98,-0.04376354258858),(22,106,-0.587115085299234),(22,115,0.935789056062502),(22,117,-0.229834894863735),(23,85,-0.84789574877163),(23,86,-0.0719626453444014),(23,88,0.537980285042879),(23,90,-0.300149540696432),(23,97,0.629474776451918),(23,104,0.0673848689230018),(23,112,-0.0465102084414197),(23,114,0.375011444441053),(23,115,0.219000823999756),(23,116,-0.00695822016052736),(24,89,0.0917691579943236),(24,90,0.850550859096042),(24,91,0.176610614337596),(24,101,-0.399517807550279),(24,107,-0.388409070101016),(24,108,-0.684347056489761),(24,110,-0.32990508743553),(24,112,0.929197058015687),(25,90,0.160893581957457),(25,92,0.527878658406323),(25,94,-0.329569383831294),(25,98,0.0806909390545366),(25,105,-0.383800775170141),(25,108,0.868282113101596),(25,109,-0.941221350749229),(25,115,0.883999145481735),(26,85,0.804956205938902),(26,87,0.0238654744102298),(26,89,-0.292336802270577),(26,95,-0.871486556596576),(26,98,-0.220770897549364),(26,100,-0.336985381633961),(26,101,0.793145542771691),(26,102,0.842188787499619),(26,103,-0.972289193395795),(26,104,-0.407727286599323),(26,107,0.949797051911985),(26,109,-0.526139103366192),(26,112,0.130466628009888),(26,113,-0.71233252967925),(26,117,0.789147618030335),(27,85,-0.742973113193152),(27,87,-0.339945677053133),(27,94,0.450422681356243),(27,100,-0.113559373760186),(27,102,-0.14828943754387),(27,103,-0.789513840144047),(27,104,0.964293343913083),(27,105,-0.304422132023072),(27,108,0.161900692770165),(27,110,-0.278420361949522),(27,114,0.574022644734031),(28,87,-0.893398846400342),(28,88,0.171178319650868),(28,97,0.847254860072634),(28,99,-0.172887356181524),(28,104,-0.619678334910123),(28,113,0.603808709982604),(28,114,-0.941618091372417),(29,88,-0.425702688680685),(29,91,0.192938016907254),(29,102,-0.963286233100375),(29,105,0.578234199041719),(29,116,-0.91491439558092),(30,95,-0.479506820886868),(30,96,0.420880764183477),(30,99,-0.481460005493332),(30,101,-0.0771813104647969),(30,104,-0.331217383342998),(30,109,0.0585955381939146),(30,110,-0.659413434247871),(30,114,-0.275429548020875),(30,118,0.776085695974609),(31,85,0.355510116885891),(31,92,0.388012329477828),(31,94,0.848750267036958),(31,96,-0.788354136783959),(31,99,-0.0124820703756829),(31,103,0.0725119785149693),(31,107,0.484847560045167),(31,108,-0.357829523606067),(31,109,0.708365123447371),(31,111,0.954161198767052),(31,112,0.758598590044862),(31,117,0.0767845698416089),(32,86,0.881679738761559),(32,87,0.131534775841548),(32,89,-0.180242316965239),(32,92,-0.962920010986663),(32,98,0.131229590746788),(32,99,-0.865413373210852),(32,104,-0.597033600878933),(32,106,0.737540818506424),(32,109,-0.329996642963958),(32,116,0.634907071138646),(32,118,0.292367320780053),(33,96,0.277809991760002),(33,98,-0.0451368755149998),(33,108,0.914944914090396),(33,110,0.625690481276894),(33,111,-0.461073641163366),(33,114,-0.358897671437727),(34,85,-0.142826624347667),(34,90,-0.557298501541185),(34,99,-0.121005890072329),(34,104,0.683248390148625),(34,109,0.843226416821802),(35,86,-0.901669362468337),(35,87,0.333506271553697),(35,97,-0.662739951780755),(35,98,0.379802850428785),(35,100,0.653035065767388),(35,104,-0.751579332865383),(35,107,-0.758781701101718),(35,109,0.3029877620777),(35,110,-0.226874599444563),(35,112,0.207678456984161),(36,85,0.60933256019776),(36,87,-0.761803033539842),(36,90,-0.961394085512864),(36,91,0.302652058473464),(36,104,-0.757988219855342),(36,107,-0.949125644703513),(36,109,-0.722190008239998),(36,112,0.199285866878262),(36,115,-0.845515305032502),(36,117,0.0486770226142155),(36,118,-0.954588457899716),(37,85,0.340159306619465),(37,86,-0.858302560502945),(37,87,-0.65324869533372),(37,91,-0.0266121402630696),(37,99,-0.307840205084384),(37,105,-0.527359843745231),(37,111,-0.121524704733421),(37,112,-0.207037568285165),(37,118,-0.546342356639302),(38,87,0.471022675252541),(38,90,-0.84392834253975),(38,103,-0.121646778771325),(38,105,0.162907803582873),(38,106,-0.175939207129124),(38,111,0.884945219275491),(38,115,0.0320444349497971),(39,87,-0.528397473067415),(39,89,0.409527878658406),(39,91,-0.971251564073611),(39,94,-0.780388805810724),(39,97,-0.895260475478378),(39,98,-0.157689138462477),(39,107,-0.294442579424421),(39,108,0.743583483382672),(39,109,0.752006591998047),(39,111,0.682088686788537),(39,113,0.0967436750389111),(39,116,0.641682180242317),(39,118,-0.132602923673208),(40,88,-0.789757988219855),(40,92,0.508865627002777),(40,99,0.542832728049562),(40,104,-0.599932859279153),(40,110,-0.90987884151738),(40,116,-0.608294930875576),(40,118,-0.909634693441572),(41,88,0.121250038148137),(41,93,0.0705282753990295),(41,96,-0.167516098513749),(41,97,0.0300912503433332),(41,100,0.555742057557909),(41,101,0.369975890377514),(41,104,0.0598467970824305),(41,105,-0.67741935483871),(41,106,-0.971648304696799),(41,107,-0.0353099154637288),(41,109,-0.792748802148503),(41,110,-0.341441084017457),(41,111,0.512253181554613),(41,112,-0.663350321970275),(42,85,0.136387218848231),(42,86,-0.876857814264351),(42,87,-0.0297860652485733),(42,99,-0.736442152165288),(42,100,0.317117831965087),(42,103,-0.910428174687948),(42,109,-0.205175939207129),(42,113,-0.00772118289742729),(43,85,0.743705557420576),(43,88,-0.852412488174078),(43,89,-0.373271889400922),(43,93,-0.849055452131718),(43,97,-0.735831781975768),(43,98,0.854792931913205),(43,101,-0.771721549119541),(43,102,-0.155644398327586),(43,103,-0.223212378307443),(43,105,-0.560563982055116),(43,110,0.432325205236976),(43,112,-0.901364177373577),(43,114,-0.884090701010163),(43,116,-0.988158818323313),(44,89,-0.43412579729606),(44,98,-0.937467574083682),(44,99,0.691946165349284),(45,87,0.39387188329722),(45,88,0.735953856013672),(45,90,-0.130191961424604),(45,91,-0.339304788354137),(45,95,0.456892605365154),(45,98,-0.308389538254952),(45,108,-0.429151280251473),(45,109,0.507156590472121),(45,112,-0.63029877620777),(45,115,-0.782982879116184),(46,85,-0.96157719656972),(46,89,0.448683126316111),(46,91,-0.00164799951170385),(46,94,0.337748344370861),(46,97,-0.745475630970183),(46,100,0.856471449934385),(46,101,0.507431257057405),(46,108,0.0381481368449965),(46,112,-0.115909298989837),(47,86,0.481337931455428),(47,91,-0.84423352763451),(47,92,-0.35132908108768),(47,94,0.457777642139958),(47,95,-0.472334971160009),(47,100,0.921628467665639),(47,101,-0.0533158360545671),(47,104,-0.338816492202521),(47,105,0.905728324228645),(47,108,-0.199102755821406),(47,112,0.247627185888241),(47,114,0.637134922330393),(47,118,-0.472334971160009),(48,86,-0.752250740073855),(48,91,0.713461714529862),(48,98,-0.75624866481521),(48,99,-0.792016357921079),(48,100,0.41041291543321),(48,103,0.30329294717246),(48,105,0.522141178624836),(48,106,-0.323557237464522),(48,111,-0.811029389324625),(48,115,0.607684560686056),(49,87,0.855250709555345),(49,89,-0.339335306863613),(49,93,-0.71340067751091),(49,94,0.606555375835444),(49,95,0.812005981627857),(49,102,-0.932859279152806),(49,113,0.416028321176794),(49,114,0.525498214667196),(50,89,-0.0891140476699118),(50,105,-0.528336436048463),(50,107,0.621326334421827),(51,87,-0.615894039735099),(51,92,-0.584490493484298),(51,97,-0.861323892941069),(51,98,0.591143528550066),(51,103,0.0777611621448408),(51,106,0.108279671620838),(51,112,-0.898220770897549),(51,118,-0.937192907498398),(52,89,0.843684194463942),(52,97,-0.838831751457259),(52,106,-0.664448988311411),(52,110,-0.890011291848506),(52,111,-0.442945646534623),(52,113,0.615405743583483),(52,114,-0.449354533524583),(52,118,0.3902096621601),(53,88,-0.664662617877743),(53,90,0.663716544083987),(53,92,0.356822412793359),(53,94,0.845515305032502),(53,104,0.238013855403302),(53,105,-0.845942564165166),(53,109,0.670461134678182),(54,85,-0.897885067293313),(54,91,-0.249549851985229),(54,94,0.0303659169286172),(54,96,-0.00186162907803583),(54,111,-0.043824579607532),(54,112,0.514694662312693),(54,113,0.67375713370159),(54,118,-0.691030610065004),(55,87,-0.452436902981658),(55,95,-0.623798333689383),(55,107,0.210364085818049),(55,110,0.426984466078677),(55,117,0.823786126285592),(56,107,-0.880397961363567),(56,111,0.341410565507981),(56,113,0.558610797448653),(56,114,0.632709738456374),(57,87,-0.850978118228706),(57,90,0.818659016693625),(57,91,-0.0629902035584582),(57,92,0.600817896053957),(57,93,-0.744529557176428),(57,94,0.815790276802881),(57,95,0.641224402600177),(57,96,0.74077578051088),(57,100,0.341441084017457),(57,102,-0.481582079531236),(57,103,0.90942106387524),(57,115,-0.816553239539781),(58,86,-0.689413129062777),(58,87,-0.768425550096133),(58,89,0.154667806024354),(58,90,0.563646351512192),(58,95,-0.286049989318522),(58,96,-0.129795220801416),(58,101,0.623920407727287),(58,103,-0.512680440687277),(58,109,-0.966460158085879),(58,110,0.181005279702139),(58,113,0.814874721518601),(58,114,-0.760155034028138),(58,115,0.214575640125736),(58,118,-0.916226691488388),(59,85,-0.737449262977996),(59,86,0.530411694692831),(59,90,0.117191076387829),(59,91,0.576006347849971),(59,93,0.615131076998199),(59,97,-0.872432630390332),(59,98,-0.679342020935698),(59,100,-0.759056367687002),(59,102,0.993926816614277),(59,112,-0.334665974913785),(59,114,0.71950437940611),(60,85,-0.871852778710288),(60,87,-0.728720969267861),(60,90,-0.962828455458235),(60,91,0.0639057588427381),(60,96,-0.509720145268105),(60,100,-0.815118869594409),(60,101,0.463087862788781),(60,105,-0.25846125675222),(60,107,0.863612781151769),(60,109,0.535905026398511),(60,110,-0.875514999847407),(60,114,-0.51661732840968),(61,89,-0.745811334574419),(61,94,-0.890499588000122),(61,96,-0.600573747978149),(61,98,0.122745445112461),(61,100,-0.328470717490158),(61,102,-0.776573992126225),(61,103,-0.123294778283029),(61,114,0.00909451582384716),(61,115,-0.189123203222755),(62,93,-0.89211706900235),(62,95,0.27820673238319),(62,107,0.725486007263405),(62,109,-0.756126590777306),(62,110,0.827356791894284),(62,111,-0.399212622455519),(63,87,-0.520035401470992),(63,90,0.748619037446211),(63,93,-0.314340647602771),(63,97,0.19769890438551),(63,100,-0.750419629505295),(63,103,-0.704184087649159),(63,104,0.104098635822626),(63,108,-0.713370159001434),(63,111,0.3435468611713),(63,114,0.188238166447951),(63,117,0.438886684774316),(64,87,-0.180455946531571),(64,94,-0.523056733909116),(64,99,-0.778771324808496),(64,110,0.58928189947203),(64,112,-0.154515213476974),(64,116,-0.52302621539964),(65,87,-0.420117801446577),(65,88,-0.424420911282693),(65,90,0.741904965361492),(65,97,0.506759849848933),(65,99,-0.239906002990814),(65,107,-0.484084597308267),(65,110,0.277016510513627),(65,111,-0.40949736014893),(65,114,-0.422376171147801),(65,116,0.521561326944792),(65,117,-0.290566728720969),(66,85,-0.923703726310007),(66,102,-0.232123783074435),(66,105,0.985992004150517),(66,108,-0.112247077852718),(66,111,-0.34537797173986),(66,115,0.782189397869808),(66,118,-0.412762840662862),(67,86,0.952452162236396),(67,90,0.501113925595874),(67,92,-0.754936368907743),(67,104,-0.323526718955046),(67,109,0.191045869319742),(67,111,-0.470717490157781),(68,87,-0.740287484359264),(68,88,-0.473036896877956),(68,90,-0.645527512436293),(68,93,-0.744071779534287),(68,95,-0.676992095706046),(68,96,-0.646687215796381),(68,97,0.976653340250862),(68,103,0.34232612079226),(68,107,0.951384014404737),(68,112,0.0796227912228767),(68,114,0.121189001129185),(69,87,0.0788598284859768),(69,88,0.328897976622822),(69,92,-0.668294320505387),(69,94,0.217169713431196),(69,95,0.828669087801752),(69,97,-0.379711294900357),(69,108,-0.802362132633442),(69,113,0.0921353801080355),(69,114,0.922910245063631),(69,118,0.0296334727011933),(70,85,0.32181768242439),(70,86,0.876644184698019),(70,87,0.66841639454329),(70,90,-0.235847041230506),(70,96,0.599078341013825),(70,97,0.7421491134373),(70,99,-0.992370372631001),(70,105,-0.787682729575488),(70,107,-0.745902890102847),(70,109,0.764732810449538),(70,110,-0.211584826197089),(70,111,-0.232367931150243),(71,85,-0.945371868037965),(71,93,-0.913113803521836),(71,96,-0.927335428937651),(71,100,0.925931577501755),(71,104,-0.909146397289956),(71,106,0.161931211279641),(71,111,0.0445265053254799),(71,113,0.208777123325297),(72,94,0.459242530594806),(72,96,0.730185857722709),(72,99,-0.916653950621052),(72,110,0.706717123935667),(72,112,0.235297708059938),(72,114,0.444318979461043),(72,115,0.614886928922391),(72,116,-0.75655384990997),(73,88,0.526383251442),(73,94,-0.226722006897183),(73,99,-0.323007904293954),(73,100,-0.956907864619892),(73,106,-0.228186895352031),(73,110,-0.708792382580035),(73,115,0.856654560991241),(74,90,0.844050416577654),(74,94,-0.925016022217475),(74,99,-0.969328897976623),(74,102,0.307962279122288),(74,106,0.692709128086184),(74,107,-0.0967131565294351),(74,110,-0.397808771019623),(74,113,-0.815149388103885),(74,116,-0.441694387646107),(75,85,-0.450910977507859),(75,86,0.682699056978057),(75,93,-0.456892605365154),(75,98,0.744865260780664),(75,103,0.379833368938261),(75,105,-0.924680318613239),(75,111,-0.272011474959563),(75,117,-0.14676351207007),(76,86,-0.542497024445326),(76,89,0.874874111148412),(76,92,0.403942991424299),(76,94,0.383556627094333),(76,99,-0.571611682485427),(76,101,-0.298257393108921),(76,103,-0.370220038453322),(76,106,-0.808618427076022),(76,110,-0.905697805719169),(76,113,0.46195867793817),(77,88,-0.457136753440962),(77,91,0.943418683431501),(77,93,0.746147038178655),(77,98,0.748283333841975),(77,101,0.239112521744438),(77,102,0.153355510116886),(77,103,0.139072847682119),(77,104,-0.393322550126652),(77,105,-0.223303933835871),(77,109,0.448500015259255),(78,88,0.182653279213843),(78,93,0.350047303689688),(78,94,-0.619251075777459),(78,101,-0.409253212073122),(78,104,0.358775597399823),(78,110,0.276589251380963),(78,114,-0.233161412396619),(78,116,-0.23734244819483),(78,117,0.990447706534013),(78,118,-0.649616992706076),(79,87,-0.487655262916959),(79,92,-0.931424909207434),(79,94,-0.823480941190832),(79,107,0.00250251777703177),(79,108,-0.5661793877987),(79,114,0.587939085055086),(79,118,0.733848078859829),(80,87,-0.288735618152409),(80,88,0.682607501449629),(80,91,-0.82692953276162),(80,99,-0.559434797204505),(80,101,0.370097964415418),(80,107,0.475661488692892),(80,113,-0.342722861415448),(81,85,-0.0572832422864467),(81,86,0.629902035584582),(81,90,-0.528672139652699),(81,93,0.579821161534471),(81,96,-0.985534226508377),(81,97,-0.711478011413923),(81,106,0.0137943662831507),(81,107,0.533585619678335),(81,110,0.310342722861415),(81,115,0.381206701864681),(82,86,0.461836603900265),(82,92,-0.676107058931242),(82,110,-0.538163396099735),(82,112,-0.517044587542344),(83,87,-0.656575212866604),(83,91,0.00686666463209937),(83,93,-0.172551652577288),(83,101,-0.22156437879574),(83,103,-0.654377880184332),(83,105,0.228675191503647),(83,108,-0.296365245521409),(84,85,-0.0604266487624744),(84,86,-0.928769798883023),(84,89,0.0483718375194555),(84,95,-0.278633991515854),(84,99,-0.425550096133305),(84,104,-0.639851069673757),(84,111,0.602526932584613),(84,113,0.6067384868923),(84,114,0.0234076967680898)]
orgname='BHNEAT_1_14'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()