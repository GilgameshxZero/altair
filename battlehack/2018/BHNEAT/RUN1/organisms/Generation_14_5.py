edge = [(0,85,3.84650715659047),(0,89,0.994628742332224),(0,90,-0.230643635364849),(0,93,-2.20586260567034),(0,98,1.58349864192633),(0,101,-5.27156895657216),(0,105,-2.63229773857845),(0,108,2.70760216071047),(0,113,-1.56015198217719),(0,114,0.145893734550004),(0,117,-1.78754539628285),(0,118,-1.62260811181982),(1,86,0.611209448530534),(1,92,0.181981872005371),(1,98,1.82935575426496),(1,102,-0.327738273262733),(1,104,-0.318735312967315),(1,107,-2.86040833765679),(1,108,-2.06129642628254),(1,109,-4.5726035340434),(1,113,1.61713003936888),(2,87,2.46734519486068),(2,88,1.72421948912015),(2,100,1.78273873104038),(2,106,-2.7949156163213),(2,108,1.39382610553301),(2,110,-1.80610065004425),(2,113,1.33132419812616),(2,118,-0.238914151432844),(3,89,0.174428540910062),(3,92,-3.37534714804529),(3,97,-1.48770104068117),(3,99,3.0075075533311),(3,101,1.63809625537889),(3,103,4.02708517715995),(3,105,-0.316751609851375),(3,108,-0.882671590319529),(3,109,-4.74492629779962),(3,111,2.43266090884121),(3,112,-0.261619922482986),(3,116,-2.41131321146275),(4,90,0.708349864192633),(4,91,1.09912411877804),(4,97,-3.96201971495712),(4,99,3.28353221228675),(4,101,-0.904293954283272),(4,108,1.25408185064241),(4,113,2.23308511612293),(4,118,1.34754478591266),(5,86,-1.87000640888699),(5,87,-1.76628925443281),(5,89,-0.359813226722007),(5,92,0.312509537034211),(5,93,1.69666127506333),(5,99,-0.138782921842097),(5,104,1.84653767509995),(5,114,4.88883632923368),(5,118,-0.489333780938139),(6,89,1.50769066438795),(6,92,-1.25446333201086),(6,94,1.52195806756798),(6,100,3.18993194372387),(6,101,1.74060792870876),(6,103,-2.7662434766686),(6,107,-0.734962004455702),(6,110,-1.73487044892727),(6,113,0.284096804712058),(7,85,-3.21733756523331),(7,86,-0.247810296945097),(7,90,0.244514297921689),(7,95,-1.69899594103824),(7,99,0.517334513382366),(7,100,-0.907940916165655),(7,104,-3.79749443037202),(7,106,4.48789941099277),(7,108,-2.8182470168157),(7,112,0.987655262916959),(7,116,1.9083223975341),(8,92,2.20264290292062),(8,93,0.188924832911161),(8,95,-1.88871425519578),(8,99,-3.29850154118473),(8,106,2.02484206671346),(8,107,1.50416577654347),(8,115,0.0793176061281167),(8,116,1.06894131290628),(8,118,-1.74451429792169),(9,85,-1.55958738975188),(9,87,-1.13455610827967),(9,98,1.10332041383099),(9,101,0.54330576494644),(9,103,-0.0614947965941344),(9,105,-0.273293252357555),(9,106,2.02693258461257),(9,113,1.58885464033937),(10,89,1.31348612933744),(10,96,-0.822550126651814),(10,106,2.1790215765862),(10,108,2.330576494644),(10,109,0.248252815332499),(10,111,1.59855952635273),(10,112,-2.15269936216315),(10,114,-0.921887874996185),(10,115,1.60507522812586),(10,116,0.523850215155492),(10,117,-0.268074587237159),(11,89,-2.71309549241615),(11,97,-1.3926206244087),(11,105,0.0402539139988404),(11,112,-1.02665791802728),(11,115,0.189519943845943),(12,92,-2.7767265846736),(12,93,3.58702352977081),(12,94,-0.528275399029511),(12,97,1.40456862086856),(12,98,0.0244300668355359),(12,99,-2.75759147923215),(12,108,-1.97041230506302),(12,116,3.99862666707358),(13,86,-0.704779198583941),(13,87,1.83208716086306),(13,90,0.622074037903989),(13,99,3.89722891933958),(13,102,4.02768028809473),(13,104,-3.43728446302683),(13,113,-3.85297708059938),(13,116,-2.86190374462111),(13,118,3.32247383037812),(14,90,-1.50665303506577),(14,93,0.0138401440473648),(14,95,-2.84676656392102),(14,102,3.02417065950499),(14,104,0.0610370189519944),(14,106,1.00819421979431),(14,109,1.66214484084597),(14,110,-1.53752250740074),(14,111,0.511383404034547),(15,85,-3.27513962218085),(15,92,-2.78896450697348),(15,99,-0.393124179815058),(15,101,-2.62619403668325),(15,104,-0.150334177678762),(15,108,1.10986663411359),(15,117,-1.27301858577227),(16,86,-2.28797265541551),(16,87,-0.879940183721427),(16,88,-1.86985381633961),(16,90,-0.0954466383861812),(16,91,-1.50212103640858),(16,95,3.32753990295114),(16,97,-1.88418225653859),(16,98,-2.46562089907529),(16,99,-0.976454969939268),(16,101,0.705099642933439),(16,108,2.97904904324473),(16,110,1.63756218146306),(17,89,0.64737388225959),(17,96,0.115161595507675),(17,99,-0.473555711539049),(17,101,4.06654560991241),(17,106,-1.49095126194037),(17,107,3.3022247993408),(17,109,1.01284829248939),(18,90,5.30942716757714),(18,91,-3.95695364238411),(18,93,1.26300851466414),(18,99,-2.70287179174169),(18,102,-0.443769646290475),(18,103,-4.2642750328074),(18,104,0.795999023407697),(18,110,1.5936460463271),(18,111,-2.30507827997681),(18,116,3.2045197912534),(18,117,1.00253303628651),(18,118,-4.78830835901975),(19,87,-2.54646443067721),(19,89,-4.45376445814386),(19,93,-2.38700521866512),(19,95,-0.11413922544023),(19,101,2.2214270455031),(19,105,3.21076082644124),(19,115,-4.2636341441084),(20,88,-2.53227332377087),(20,101,-0.100512710959197),(20,103,-0.522507400738548),(20,104,1.28119754631184),(20,105,1.44669942320017),(20,106,-2.71781060213019),(20,111,-2.70020142216254),(20,116,-0.256370738853114),(21,86,1.87017426068911),(21,87,-1.69142735068819),(21,94,-0.396649067659536),(21,96,0.54048280281991),(21,101,-1.78156376842555),(21,102,3.40319528794214),(21,105,-0.879467146824549),(21,107,0.578447828608051),(21,108,-3.64317758720664),(22,86,1.50421155430769),(22,88,-4.70004882961516),(22,91,4.27199621570483),(22,92,0.772026734214301),(22,93,-3.67708365123447),(22,98,-0.0637684255500957),(22,106,-3.0670644245735),(22,115,4.86858729819636),(22,117,0.0172429578539386),(23,85,1.63946958830531),(23,86,-3.51414532914213),(23,88,-0.329767754142888),(23,90,0.362208929715873),(23,97,1.42933439130833),(23,104,1.68277535325175),(23,112,0.0742362743003631),(23,114,-1.68582720419935),(23,115,-2.17647328104495),(23,116,-0.577654347361675),(24,89,-0.310342722861415),(24,90,0.0097659230323191),(24,91,-0.324884792626728),(24,101,-2.04261909848323),(24,107,0.687704092532121),(24,108,0.683385723441267),(24,110,-1.07342753379925),(24,112,-1.83011871700186),(25,90,-2.10791344950713),(25,92,-3.64314706869716),(25,94,0.411008026367992),(25,98,-3.9884334849086),(25,105,-2.32792138431959),(25,108,-0.733664967802973),(25,109,2.51168858912931),(25,115,-0.591448713644825),(26,85,0.491576891384625),(26,87,-3.92397839289529),(26,89,-2.09845271156957),(26,95,0.489654225287637),(26,98,1.4763481551561),(26,100,3.00363170262764),(26,101,-0.00949125644703513),(26,102,-0.574709311197241),(26,103,-0.199545274208808),(26,104,0.0105899227881709),(26,107,0.811243018890958),(26,109,-2.29352702414014),(26,112,-4.18597979674673),(26,113,1.19061861018708),(26,117,2.20656453138829),(27,85,0.186010315256203),(27,87,-1.06454664754173),(27,94,0.647312845240638),(27,100,3.43671987060152),(27,102,1.53881954405347),(27,103,-1.32625812555315),(27,104,-1.78415784173101),(27,105,3.05771050141911),(27,108,-3.9638966032899),(27,110,-0.595660267952513),(27,114,-2.20618305001984),(28,87,2.21275978881191),(28,88,-0.734626300851467),(28,97,-1.81951353495895),(28,99,-2.66901150547807),(28,104,1.51931821649831),(28,113,1.38950773644215),(28,114,4.3996856593524),(29,88,-1.92236091189306),(29,91,2.08723715933714),(29,102,0.265419476912748),(29,105,4.21344645527512),(29,116,-3.48055970946379),(30,95,4.23479415265358),(30,96,0.832728049562059),(30,99,0.867854853968932),(30,101,0.0902127140110478),(30,104,0.86519974364452),(30,109,3.35126804406873),(30,110,0.298654133732108),(30,114,-2.23166600543229),(30,118,1.00195318460646),(31,85,0.306787316507462),(31,92,0.338251899777215),(31,94,1.04333628345592),(31,96,0.883922849208044),(31,99,-4.92271187475204),(31,103,-3.04347361674856),(31,107,2.45826593829157),(31,108,2.01644947660756),(31,109,-2.36396374401074),(31,111,-2.85288552507096),(31,112,0.558565019684438),(31,117,-3.27895443586535),(32,86,1.47152623065889),(32,87,-1.21211890011292),(32,89,-1.56544694357128),(32,92,-0.783608508560442),(32,98,1.50987273781549),(32,99,0.0757774590289009),(32,104,1.75507370220038),(32,106,-0.810480056154057),(32,109,2.83190404980621),(32,116,0.25792718283639),(32,118,-1.55574205755791),(33,96,0.650242622150334),(33,98,1.46545304727317),(33,108,0.737449262977996),(33,110,-2.66479995117038),(33,111,1.34606463820307),(33,114,-3.25226599932859),(34,85,2.32602923673208),(34,90,1.24195074312571),(34,99,0.899075289162877),(34,104,-1.96781823175756),(34,109,-2.31035798211615),(35,86,-0.10437330240791),(35,87,-1.32956938383129),(35,97,-2.17238380077517),(35,98,3.01431318094424),(35,100,-1.51431318094424),(35,104,-1.13486129337443),(35,107,0.489532151249733),(35,109,0.989089632862331),(35,110,-4.47212134159368),(35,112,1.83118686483352),(36,85,-0.935865352336192),(36,87,2.09315775017548),(36,90,1.91908017212439),(36,91,-2.20030823694571),(36,104,0.184789574877163),(36,107,-0.0394299142429884),(36,109,-2.08822901089511),(36,112,0.124759666737877),(36,115,1.38920255134739),(36,117,2.07437360759301),(36,118,3.04675435651723),(37,85,1.79667043061617),(37,86,1.62884914700766),(37,87,-0.371715445417646),(37,91,2.73300881984924),(37,99,-1.64503921628468),(37,105,2.28125858333079),(37,111,1.00697347941527),(37,112,-3.50692770165105),(37,118,-1.69922482985931),(38,87,0.582964568010498),(38,90,-0.73574022644734),(38,103,-1.53688161870174),(38,105,-0.97346415601062),(38,106,2.27446821497238),(38,111,-2.48649555955687),(38,115,-2.88070314645833),(39,87,0.170842616046633),(39,89,-1.20593890194403),(39,91,-3.27181310464797),(39,94,2.72267830439161),(39,97,-2.68475905636769),(39,98,-0.846400341807306),(39,107,1.9797204504532),(39,108,-1.59363078707236),(39,109,0.750282296212653),(39,111,0.244209112826929),(39,113,4.45965453047273),(39,116,-4.50584429456465),(39,118,-0.862331003753777),(40,88,0.91254921109653),(40,92,2.28461561937315),(40,99,2.71298867763298),(40,104,2.28229621265297),(40,110,-0.798959318826868),(40,116,-1.3910946989349),(40,118,2.71591845454268),(41,88,-3.08809167760247),(41,93,-2.26798303170873),(41,96,1.69634083071383),(41,97,1.02992339854122),(41,100,1.18495742667928),(41,101,0.641773735770745),(41,104,-0.422223578600421),(41,105,0.718390453810236),(41,106,-3.17059846797082),(41,107,-1.25560777611621),(41,109,0.689245277260659),(41,110,-1.94828638569292),(41,111,1.0724051637318),(41,112,-1.99856563005463),(42,85,0.663426618243965),(42,86,4.16925565355388),(42,87,-0.359538560136723),(42,99,1.80730613116855),(42,100,1.05865657521287),(42,103,-2.75147251808222),(42,109,-1.36704611346782),(42,113,0.579165013580737),(43,85,1.33736686300241),(43,88,-2.99287392803735),(43,89,-0.360866115298929),(43,93,1.32667012543107),(43,97,-0.615100558488723),(43,98,0.315820795312357),(43,101,0.239494003112888),(43,102,1.14842677083651),(43,103,-0.200735496078372),(43,105,-1.3060396130253),(43,110,0.0131229590746786),(43,112,2.05284279915769),(43,114,-4.62285225989563),(43,116,-0.881298257393109),(44,89,1.0643330179754),(44,98,1.26834925382244),(44,99,1.20503860591449),(45,87,4.17906735435041),(45,88,-2.24568926053652),(45,90,3.00860621967223),(45,91,3.74256111331523),(45,95,1.64421521652882),(45,98,1.46203497421186),(45,108,-3.85703604235969),(45,109,1.7932676168096),(45,112,2.43726920377209),(45,115,-0.661275063325907),(46,85,-1.29261146885586),(46,89,1.05166783654286),(46,91,2.05468916898099),(46,94,-3.41485335856197),(46,97,-2.23015533921323),(46,100,-1.70894497512741),(46,101,-1.34685811944945),(46,108,1.33548997466964),(46,112,2.03044221320231),(47,86,2.19476912747581),(47,91,0.830622272408216),(47,92,-1.21022675252541),(47,94,1.94878994109928),(47,95,-1.24919888912625),(47,100,1.16315195165868),(47,101,-1.82645649586474),(47,104,-1.69148838770714),(47,105,0.78034302804651),(47,108,2.86690878017518),(47,112,3.83196508682516),(47,114,-1.21562852870266),(47,118,-3.15507980590228),(48,86,-0.769875179296243),(48,91,2.47497482222968),(48,98,3.53785821100497),(48,99,0.558412427137059),(48,100,0.204336680196539),(48,103,0.412884914700766),(48,105,1.89442121646779),(48,106,-0.981048005615406),(48,111,0.0546891689809867),(48,115,-0.43801690725425),(49,87,-2.82685323648793),(49,89,-0.576982940153203),(49,93,-3.09984130375072),(49,94,-1.0795922727134),(49,95,-0.418866542558061),(49,102,1.40195928830836),(49,113,0.179586169011506),(49,114,-2.71861934263131),(50,89,1.7081362346263),(50,105,2.62430188909574),(50,107,-1.70740379039888),(51,87,0.732047486800745),(51,92,-1.48648030030213),(51,97,1.53732413708914),(51,98,-2.84955900753807),(51,103,3.42219306009095),(51,106,0.558915982543412),(51,112,-0.151905880916776),(51,118,2.39696951200903),(52,89,-2.43548387096774),(52,97,1.56308175908689),(52,106,-0.380565813165685),(52,110,1.06402783288064),(52,111,2.02142399365215),(52,113,-3.48178044984283),(52,114,-0.626606036561174),(52,118,-2.5617236854152),(53,88,1.89187292092654),(53,90,-2.64664143803217),(53,92,0.943006683553575),(53,94,-0.150303659169286),(53,104,-3.0853755302591),(53,105,-1.71835993530076),(53,109,2.97637867366558),(54,85,-0.819269386883145),(54,91,-0.534913174840541),(54,94,-2.45187231055635),(54,96,1.35372478408155),(54,111,0.686513870662557),(54,112,2.50749229407636),(54,113,1.68675801873836),(54,118,0.684621723075045),(55,87,-2.2755211035493),(55,95,-2.03894161809137),(55,107,0.454649494918668),(55,110,-1.38851588488418),(55,117,-1.89014862514115),(56,107,1.93803216650899),(56,111,-2.9223761711478),(56,113,-1.58413953062532),(56,114,-1.50187688833277),(57,87,-0.56968901638844),(57,90,-0.0421613208410905),(57,91,4.81559190649129),(57,92,3.60930204168828),(57,93,-2.22493667409284),(57,94,0.137760551774651),(57,95,-1.5797143467513),(57,96,-1.10754722739341),(57,100,1.50253303628651),(57,102,-2.24471266823328),(57,103,1.23096407971435),(57,115,-1.25629444257942),(58,86,0.234855189672537),(58,87,-0.209860530411695),(58,89,-2.57187108981597),(58,90,2.52800073244423),(58,95,3.12553788872951),(58,96,3.3180486465041),(58,101,-0.97582934049501),(58,103,0.916776024658956),(58,109,-1.29696035645619),(58,110,-0.0292519913327433),(58,113,3.5424054689169),(58,114,1.25545518356883),(58,115,-0.515839106418043),(58,118,-3.76628925443281),(59,85,2.2177343058565),(59,86,0.788598284859768),(59,90,-3.53805658131657),(59,91,-1.80784020508438),(59,93,4.54638813440352),(59,97,3.97837763603626),(59,98,0.691808832056642),(59,100,1.70458082827235),(59,102,1.51466414380322),(59,112,1.70735801263466),(59,114,1.08772545548875),(60,85,2.25658436841945),(60,87,0.123233741264076),(60,90,4.48037659840693),(60,91,0.0364696188238167),(60,96,2.14229255043184),(60,100,0.0736716818750573),(60,101,-1.29480880153813),(60,105,0.799966429639576),(60,107,-0.747352519302957),(60,109,1.518753624073),(60,110,0.186010315256203),(60,114,-1.20198675496689),(61,89,-1.9028595843379),(61,94,-0.492202520828882),(61,96,-2.71172215948973),(61,98,0.938901944029054),(61,100,-1.80349131748405),(61,102,2.90658284249397),(61,103,-2.28751487777337),(61,114,-0.953993346964934),(61,115,-1.04594561601611),(62,93,2.04844813379315),(62,95,-3.33620715964232),(62,107,-2.62367625965148),(62,109,1.38938566240425),(62,110,-2.14857936338389),(62,111,-1.54187139500107),(63,87,-2.06004516739402),(63,90,2.35773796807764),(63,93,3.24648274178289),(63,97,-3.43879512924589),(63,100,2.23491622669149),(63,103,0.0059358500930814),(63,104,-3.5191961424604),(63,108,1.00488296151616),(63,111,-0.671483504745628),(63,114,-0.676259651478622),(63,117,0.869426557206946),(64,87,-0.3255561998352),(64,94,-3.1373790704062),(64,99,-2.31659901730399),(64,110,1.48097170934172),(64,112,-2.31371501815851),(64,116,-1.379848628193),(65,87,2.64976958525346),(65,88,0.839991454817347),(65,90,0.450682088686789),(65,97,-0.662205877864925),(65,99,-2.72475356303598),(65,107,0.04246650593585),(65,110,-0.0777459028901029),(65,111,-0.126682332834864),(65,114,1.70537430951872),(65,116,-3.00212103640858),(65,117,2.9902035584582),(66,85,2.30727561265908),(66,102,1.73061311685537),(66,105,2.4373149815363),(66,108,-0.102145451216163),(66,111,-2.48207037568285),(66,115,-2.16652424695578),(66,118,2.61627552110355),(67,86,2.28141117587817),(67,90,-3.73509933774834),(67,92,-0.711386455885495),(67,104,-0.197149571214942),(67,109,-1.45161290322581),(67,111,0.18915372173223),(68,87,-1.69728690450758),(68,88,-1.07242042298654),(68,90,0.335337382122257),(68,93,-3.17386394848476),(68,95,0.549272133548997),(68,96,-0.393093661305582),(68,97,-1.55290383617664),(68,103,-1.63602099673452),(68,107,-1.69705801568651),(68,112,4.1193884090701),(68,114,-1.11185033722953),(69,87,2.57913449507126),(69,88,-3.12060914944914),(69,92,3.52534562211982),(69,94,-1.27750480666524),(69,95,-1.38080996124149),(69,97,-0.748237556077761),(69,108,-0.864665669728691),(69,113,-1.17560350352489),(69,114,0.210654011658071),(69,118,-0.0657826471755119),(70,85,-0.864787743766595),(70,86,-1.39042329172643),(70,87,1.80036317026276),(70,90,1.7566454054384),(70,96,-1.18488113040559),(70,97,-1.3390911587878),(70,99,-1.21265297402875),(70,105,-1.60097048860134),(70,107,1.45739616077151),(70,109,1.01635792107913),(70,110,0.211264381847591),(70,111,-1.79332865382855),(71,85,-1.4364299447615),(71,93,-1.00137333292642),(71,96,-0.899914548173467),(71,100,1.47564622943815),(71,104,-1.7604602191229),(71,106,-0.119617297891171),(71,111,0.767967772453993),(71,113,0.386593218787194),(72,94,-1.41373943296609),(72,96,-3.77008880886257),(72,99,1.28757591479232),(72,110,-1.68317209387494),(72,112,3.80481887264626),(72,114,-2.98226874599445),(72,115,2.40821558275094),(72,116,-1.65465254676962),(73,88,0.179189428388318),(73,94,-1.22539445173498),(73,99,-0.417416913357952),(73,100,1.85888241218299),(73,106,1.19586779381695),(73,110,2.07884456923124),(73,115,1.43137913144322),(74,90,1.81768242439039),(74,94,1.54512161626026),(74,99,-1.20715964232307),(74,102,-1.86207159642323),(74,106,-0.477294228949858),(74,107,2.55455183568834),(74,110,1.49877925962096),(74,113,1.39851069673757),(74,116,-0.78225043488876),(75,85,-1.31362346263009),(75,86,2.43278298287912),(75,93,2.94785912656026),(75,98,-1.91077913754692),(75,103,-2.54925687429426),(75,105,-1.37542344431898),(75,111,2.1058534501175),(75,117,0.450910977507859),(76,86,-2.06001464888455),(76,89,-2.56688131351665),(76,92,-2.10089419232765),(76,94,-1.8618579668569),(76,99,2.21172215948973),(76,101,-1.47556993316446),(76,103,1.62834559160131),(76,106,2.86483352153081),(76,110,-2.79723502304148),(76,113,1.41590624713889),(77,88,-0.69953001495407),(77,91,0.189291055024873),(77,93,-1.4303262428663),(77,98,1.22569963682974),(77,101,1.66943876461074),(77,102,2.24071474349193),(77,103,0.54612872707297),(77,104,2.91718802453688),(77,105,0.234015930661946),(77,109,-1.51409955137791),(78,88,-1.42939542832728),(78,93,0.797463911862544),(78,94,2.81566820276498),(78,101,-0.878627887813959),(78,104,1.69359416486099),(78,110,-1.28289132358776),(78,114,-2.79984435560167),(78,116,0.816522721030305),(78,117,0.251915036469619),(78,118,2.48480178228095),(79,87,0.406659138767663),(79,92,0.781273842585528),(79,94,-2.4047059541612),(79,107,-1.70264290292062),(79,108,-2.37830744346446),(79,114,2.85500656147954),(79,118,1.70119327372051),(80,87,-3.29883724478896),(80,88,-0.141300698873867),(80,91,-0.413525803399762),(80,99,2.48886074404126),(80,101,0.723776970732749),(80,107,3.45789971617786),(80,113,-1.24370555742058),(81,85,3.03491317484054),(81,86,-1.77245399334697),(81,90,-3.07856990264596),(81,93,-1.43766594439528),(81,96,-1.9658650471511),(81,97,-0.20136112552263),(81,106,-0.0124668111209448),(81,107,1.5001220740379),(81,110,-1.15636158330027),(81,115,0.65546128727073),(82,86,-2.11180455946532),(82,92,-3.83593249305704),(82,110,-1.10805078279977),(82,112,-0.32761619922483),(83,87,-2.20091860713523),(83,91,2.26075014496292),(83,93,2.27744376964629),(83,101,-0.919904171880245),(83,103,0.817590868861965),(83,105,-1.11641285439619),(83,108,-2.17149876400037),(84,85,2.30404065065462),(84,86,-1.4572740867336),(84,89,1.8374431592761),(84,95,0.568712424085208),(84,99,0.54025391399884),(84,104,3.53885006256294),(84,111,-1.36495559556871),(84,113,-1.26392406994842),(84,114,1.7970061342204),(35,105,-3.12958159123508)]
orgname='BHNEAT_14_5'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()