edge = [(0,85,-0.137150181585131),(0,89,-1.07910397656178),(0,90,-0.281991027558214),(0,93,-0.323175756096072),(0,98,0.571581163975951),(0,101,-2.62530899990844),(0,105,2.56895657216102),(0,108,0.923337504196295),(0,113,-0.408642841883602),(0,114,-2.46343882564776),(0,117,2.46459852900784),(0,118,-0.454893642994476),(1,86,1.82212286751915),(1,92,-1.56582842493973),(1,98,0.183492538224433),(1,102,1.65207373271889),(1,104,-0.131199072237312),(1,107,-1.69476912747581),(1,108,-3.37878048036134),(1,109,0.0541550950651569),(1,113,-0.47918637653737),(2,87,0.228080080568865),(2,88,0.573595385601367),(2,100,1.41312906277657),(2,106,0.999404889065218),(2,108,-0.788628803369243),(2,110,-0.962569048127689),(2,113,2.3259987182226),(2,118,-0.607852412488174),(3,89,-0.632190923795282),(3,92,-0.256660664693136),(3,97,0.283822138126774),(3,99,0.0742210150456252),(3,101,-2.41560106204413),(3,103,-1.38309884945219),(3,105,-1.3290505691702),(3,108,2.01551866206854),(3,109,-0.469908749656667),(3,111,-0.0258339182714317),(3,112,1.07492294076357),(3,116,-0.196050904873806),(4,90,-0.56915494247261),(4,91,1.51005584887234),(4,97,0.744651631214332),(4,99,-0.645649586474197),(4,101,0.0285042878505814),(4,108,-1.11835077974792),(4,113,-0.556382946256905),(4,118,-0.985229041413617),(5,86,-0.685354167302469),(5,87,0.949781792657247),(5,89,-1.68553727835932),(5,92,-2.4781945249794),(5,93,2.14619891964476),(5,99,0.242591631824702),(5,104,-0.631031220435194),(5,114,-1.71117282631916),(5,118,2.39074373607593),(6,89,-2.1136051515244),(6,92,1.4745017853328),(6,94,-1.31252479628895),(6,100,-0.906033509323405),(6,101,-0.395764030884732),(6,103,-0.106631672109134),(6,107,0.488021485030671),(6,110,0.473525193029572),(6,113,-0.504242072817164),(7,85,1.05548265022736),(7,86,0.435712759788812),(7,90,2.49359111301004),(7,95,1.17096469008454),(7,99,1.50585955381939),(7,100,0.314249092074343),(7,104,1.4992370372631),(7,106,2.32398449659719),(7,108,-2.47499008148442),(7,112,2.00592059083834),(7,116,-0.262153996398816),(8,92,0.199255348368786),(8,93,-0.13296914578692),(8,95,0.451139866328928),(8,99,-2.9792779320658),(8,106,-1.32921842097232),(8,107,1.13673818170721),(8,115,-1.33147679067354),(8,116,-0.358256782738731),(8,118,1.2405011139256),(9,85,1.27176732688375),(9,87,1.17969298379467),(9,98,-1.86036255989257),(9,101,-0.479171117282632),(9,103,-0.097659230323191),(9,105,-1.47346415601062),(9,106,0.718375194555498),(9,113,-1.0493942075869),(10,89,0.999908444471572),(10,96,-1.74980925931578),(10,106,1.15692617572558),(10,108,-0.595461897640919),(10,111,1.45637379070406),(10,112,-2.26607562486648),(10,114,-0.745200964384899),(10,115,0.773796807763909),(10,116,-1.48800622577593),(10,117,0.481307412945952),(11,89,1.14583269753105),(11,97,1.58484145634327),(11,105,-1.67236854152043),(11,112,1.37858211004975),(11,115,-1.83324686422315),(12,92,0.707846308786279),(12,93,3.12009033478805),(12,94,0.363856929227577),(12,97,-0.421277504806665),(12,98,-2.06907864619892),(12,99,-1.52349925229652),(12,108,0.151005584887234),(12,116,-1.75106051820429),(13,86,0.922544022949919),(13,87,0.576479384746849),(13,90,0.406079287087619),(13,99,1.65312662129582),(13,102,-2.19740897854549),(13,104,-1.27451399273659),(13,113,0.12976470229194),(13,116,1.27373577074496),(13,118,0.911816766869106),(14,90,0.571047090060122),(14,93,0.454527420880764),(14,95,-2.06221198156682),(14,102,2.08069093905454),(14,104,1.80433057649464),(14,106,1.14377269814142),(14,109,-1.29856257820368),(14,110,2.07701345866268),(14,111,1.3450727866451),(15,85,-0.655354472487564),(15,92,-1.14993743705557),(15,99,-3.10614337595752),(15,101,0.402310251167333),(15,104,-2.00987273781549),(15,108,0.861308633686331),(15,117,1.01367229224525),(16,86,2.32627338480789),(16,87,-0.938535721915342),(16,88,1.601397747734),(16,90,-1.45774712363048),(16,91,-0.428632465590381),(16,95,-0.791619617297891),(16,97,-0.983199560533464),(16,98,-0.354655598620563),(16,99,-1.09227271340068),(16,101,1.56422620319224),(16,108,1.61075167088839),(16,110,0.361888485366375),(17,89,-1.4571520126957),(17,96,-0.466551713614307),(17,99,0.84713278603473),(17,101,2.18733787041841),(17,106,-0.985946226386303),(17,107,2.17426068910794),(17,109,-0.805902279732658),(18,90,0.738822595904416),(18,91,-0.707876827295755),(18,93,-1.87084566789758),(18,99,0.272530289620655),(18,102,-2.69397564622944),(18,103,0.076372569963683),(18,104,0.570085757011628),(18,110,-0.775887325663015),(18,111,0.410840174565874),(18,116,-1.73131504257332),(18,117,0.929136020996735),(18,118,-2.74112674336985),(19,87,2.37975707266457),(19,89,0.0173955504013184),(19,93,1.12796411023286),(19,95,-2.26218451490829),(19,101,2.81348612933744),(19,105,1.54477065340129),(19,115,0.0566423535874506),(20,88,-0.940015869624927),(20,101,1.82917264320811),(20,103,1.7300637836848),(20,104,-0.595385601367229),(20,105,-2.38616595965453),(20,106,0.08745078890347),(20,111,-0.22064882351146),(20,116,-0.870632038331248),(21,86,0.752586443678091),(21,87,1.07400738547929),(21,94,-1.7954802087466),(21,96,-2.39295632801294),(21,101,1.29180272835475),(21,102,-2.03933835871456),(21,105,1.059755241554),(21,107,-0.142246772667623),(21,108,-2.95452742088076),(22,86,-3.16351817377239),(22,88,0.515945921201209),(22,91,0.590548417615284),(22,92,2.26424451429792),(22,93,1.01139866328929),(22,98,-1.1443678090762),(22,106,-0.976470229194006),(22,115,-0.300759910885952),(22,117,2.73934141056551),(23,85,-0.482863856929228),(23,86,1.31159398174993),(23,88,-1.52357554857021),(23,90,1.65794854579302),(23,97,-1.22942289498581),(23,104,0.987945188756981),(23,112,-0.0581377605517747),(23,114,-1.83765678884243),(23,115,1.06875820184942),(23,116,-0.146885586107974),(24,89,0.595980712302011),(24,90,-0.946043275246437),(24,91,-0.62976470229194),(24,101,1.06889553514206),(24,107,2.32883693960387),(24,108,0.0597705008087405),(24,110,-1.02787865840632),(24,112,-0.507019257179479),(25,90,-1.24184392834254),(25,92,-1.16386913663137),(25,94,-0.297128208258309),(25,98,0.228614154484695),(25,105,1.36542863246559),(25,108,-0.143284401989807),(25,109,-1.20538956877346),(25,115,-1.45559556871242),(26,85,-1.89300210577715),(26,87,0.319605090487381),(26,89,-0.283211767937254),(26,95,0.325235755485702),(26,98,-0.172109134189886),(26,100,1.27605517746513),(26,101,0.907055879390851),(26,102,-1.19304483169042),(26,103,-1.49472029786065),(26,104,2.63296914578692),(26,107,1.97918637653737),(26,109,-0.444883571886349),(26,112,-0.462111270485549),(26,113,-0.630573442793054),(26,117,-2.10715048677023),(27,85,0.863139744254891),(27,87,0.0770744956816309),(27,94,0.275444807275613),(27,100,0.71752067629017),(27,102,-1.87307351908933),(27,103,2.30208746604816),(27,104,1.52076784569842),(27,105,-0.968962675862911),(27,108,0.732520523697623),(27,110,-0.0363322855311747),(27,114,-1.4024170659505),(28,87,1.19450972014527),(28,88,-3.06563005462813),(28,97,-1.12781151768548),(28,99,-0.188543351542711),(28,104,2.026383251442),(28,113,-0.654225287636952),(28,114,-0.439252906888028),(29,88,-1.60408337656789),(29,91,0.82731101413007),(29,102,-0.160924100466933),(29,105,-0.779595324564348),(29,116,2.09768974883267),(30,95,-1.16644795068209),(30,96,0.908795434430982),(30,99,-0.472518082216865),(30,101,0.686773277993103),(30,104,-1.74260689107944),(30,109,0.620319223609119),(30,110,0.104251228370006),(30,114,-0.878292184209723),(30,118,1.78350169377728),(31,85,1.237449262978),(31,92,-1.00479140598773),(31,94,1.51377910702841),(31,96,-1.31867427594836),(31,99,-0.918912320322275),(31,103,-1.07388531144139),(31,107,-0.0796533097323527),(31,108,-0.0189825128940704),(31,109,1.84235663930174),(31,111,-0.855128635517441),(31,112,-1.15588854640339),(31,117,0.10536515396588),(32,86,-1.81028168584246),(32,87,-0.756187627796258),(32,89,-2.63461714529862),(32,92,-2.45323038422803),(32,98,0.211386455885494),(32,99,0.246299630726035),(32,104,-1.03080843531602),(32,106,1.36678670613727),(32,109,-2.22838526566362),(32,116,-0.39646595660268),(32,118,-0.266335032197027),(33,96,1.78385265663625),(33,98,0.272560808130131),(33,108,-1.40472121341594),(33,110,1.53962828455458),(33,111,0.37443159276101),(33,114,0.858653523361919),(34,85,-1.5007629627369),(34,90,0.0341959898678549),(34,99,-2.57980590227973),(34,104,-2.00497451704459),(34,109,1.07455671864986),(35,86,0.390484328745384),(35,87,0.123874629963073),(35,97,-0.0440992461928159),(35,98,-0.822473830378124),(35,100,-2.58383434553056),(35,104,2.93401898251289),(35,107,0.152531510361034),(35,109,0.768517105624561),(35,110,-2.32911160618915),(35,112,1.84286019470809),(36,85,-2.16743980224006),(36,87,2.27626880703146),(36,90,-1.21425519577624),(36,91,-1.34197515793329),(36,104,-1.40987884151738),(36,107,1.72026734214301),(36,109,0.32319101535081),(36,112,0.0525833918271432),(36,115,-0.367366557817316),(36,117,-1.12762840662862),(36,118,-1.39078951384014),(37,85,0.819925534836879),(37,86,-1.55804620502335),(37,87,-0.188756981109043),(37,91,0.629444257942442),(37,99,-3.034012878811),(37,105,-1.17941831720939),(37,111,-0.13510544145024),(37,112,2.50483718375195),(37,118,-1.80626850184637),(38,87,0.187749870296335),(38,90,1.78058717612232),(38,103,0.200689718314158),(38,105,2.75548570207831),(38,106,1.08005005035554),(38,111,2.61181981872005),(38,115,-0.0688955351420637),(39,87,-0.530869472334971),(39,89,-0.787987914670247),(39,91,0.389263588366344),(39,94,-0.130802331614124),(39,97,-1.97268593401898),(39,98,2.47657704397717),(39,107,-1.61337626270333),(39,108,2.38158818323313),(39,109,-0.100787377544481),(39,111,0.00189214758751183),(39,113,3.37777336954863),(39,116,-0.139484847560045),(39,118,-0.424314096499527),(40,88,-0.144077883236183),(40,92,-0.776772362437819),(40,99,-0.548066652424696),(40,104,1.00677510910367),(40,110,-0.436246833704642),(40,116,0.352732932523575),(40,118,2.15224158452101),(41,88,-2.20336008789331),(41,93,0.21942808313242),(41,96,-1.24747459334086),(41,97,-2.09402752769555),(41,100,-0.293359172338023),(41,101,0.356578264717551),(41,104,1.51445051423688),(41,105,0.0281380657368694),(41,106,1.37757499923704),(41,107,-0.223014007995849),(41,109,-1.7238380077517),(41,110,0.30939664906766),(41,111,1.26963103122044),(41,112,-0.24146244697409),(42,85,-0.269371623889889),(42,86,0.410855433820612),(42,87,1.42854091006195),(42,99,0.7578508865627),(42,100,1.25191503646962),(42,103,-0.305795464949492),(42,109,-1.98870815149388),(42,113,1.04330576494644),(43,85,1.62828455458235),(43,88,-0.0731681264687033),(43,89,-0.283501693777276),(43,93,2.59051789910581),(43,97,1.71056245612964),(43,98,1.63933225501267),(43,101,-1.37955870235298),(43,102,-0.317239906002991),(43,103,-0.43565172276986),(43,105,-1.38035218359935),(43,110,0.00923184911648915),(43,112,0.896877956480606),(43,114,-1.1158940397351),(43,116,-1.00085451826533),(44,89,-0.392773216956084),(44,98,1.64899136326182),(44,99,-0.634083071382794),(45,87,0.402478102969451),(45,88,2.26738792077395),(45,90,0.962950529496139),(45,91,-0.611728263191626),(45,95,-1.64014099551378),(45,98,0.173314615314188),(45,108,-0.304528946806238),(45,109,0.195745719779046),(45,112,0.750968962675863),(45,115,-0.819208349864193),(46,85,0.0564745017853328),(46,89,-0.0149693288979766),(46,91,-2.07667775505844),(46,94,-2.24347666859951),(46,97,2.77098910489212),(46,100,-0.796288949247719),(46,101,-1.93424787133396),(46,108,0.699636829737236),(46,112,-1.09686574907681),(47,86,1.49143955809198),(47,91,0.418469801934873),(47,92,1.94065675832392),(47,94,-0.560289315469832),(47,95,0.4300057985168),(47,100,-1.24063844721824),(47,101,0.0296792504654072),(47,104,0.161214026306955),(47,105,-1.80442213202307),(47,108,-0.175939207129124),(47,112,1.19768364513077),(47,114,2.03749198889126),(47,118,1.04548783837397),(48,86,-1.28376110110782),(48,91,-1.76181829279458),(48,98,-0.945158238471633),(48,99,0.999069185460982),(48,100,0.440015869624928),(48,103,1.68858912930692),(48,105,-1.79114658040101),(48,106,-0.843867305520798),(48,111,-1.81495101779229),(48,115,-0.205999938962981),(49,87,-1.82024597918638),(49,89,-0.50503555406354),(49,93,1.99557481612598),(49,94,2.42271187475204),(49,95,-0.19945371868038),(49,102,0.949980162968841),(49,113,-0.300988799707022),(49,114,-0.676091799676504),(50,89,0.714377269814142),(50,105,3.40015869624928),(50,107,-2.80355235450301),(51,87,-0.442075869014557),(51,92,0.696844386120182),(51,97,-1.03538621173742),(51,98,-2.96583452864162),(51,103,-0.544892727439192),(51,106,-1.91491439558092),(51,112,0.892056031983398),(51,118,0.432416760765404),(52,89,-1.7932676168096),(52,97,-1.46858119449446),(52,106,-2.70821253089999),(52,110,-3.07046723838008),(52,111,0.624057741019929),(52,113,2.71585741752373),(52,114,-0.633777886288034),(52,118,-0.190313425092318),(53,88,0.123935666982025),(53,90,-2.09471419415876),(53,92,1.17633594775231),(53,94,1.48274178289132),(53,104,-0.662892544328135),(53,105,0.66963713492233),(53,109,0.13335062715537),(54,85,-1.51054414502396),(54,91,-0.786156804101688),(54,94,1.8165227210303),(54,96,-1.63327433088168),(54,111,-1.92396313364055),(54,112,-2.36921292764061),(54,113,0.653660695211646),(54,118,0.493728446302683),(55,87,0.264458143864254),(55,95,1.07997375408185),(55,107,1.54744102298044),(55,110,-0.0205999938962981),(55,117,-2.8908505508591),(56,107,1.50238044373913),(56,111,-0.892681661427656),(56,113,-1.69306009094516),(56,114,-0.326151310769982),(57,87,-0.35026093325602),(57,90,2.55130161442915),(57,91,-1.10362559892575),(57,92,3.0541703543199),(57,93,-0.796060060426649),(57,94,1.12083803827021),(57,95,-0.537369914853359),(57,96,-3.18028809472945),(57,100,0.860957670827357),(57,102,0.777153843806269),(57,103,2.90375988036744),(57,115,-2.88789025543992),(58,86,-0.395977660451064),(58,87,-0.355433820612201),(58,89,0.9609668263802),(58,90,2.08555864131596),(58,95,0.21492660298471),(58,96,-0.0962858973967711),(58,101,-0.284646137882626),(58,103,1.88360240485855),(58,109,1.35837885677663),(58,110,0.69106112857448),(58,113,2.53811761833552),(58,114,-1.58055360576189),(58,115,0.500061037018952),(59,85,-0.206122013000885),(59,86,2.78214362010559),(59,90,3.14534440137944),(59,91,-1.97515793328654),(59,93,-1.00119022186956),(59,97,-0.708197271645253),(59,98,0.909253212073122),(59,100,0.541215247047334),(59,102,1.72028260139775),(59,112,-0.766319772942289),(59,114,0.163243507187109),(60,85,1.64654988250374),(60,87,-2.02763451033052),(60,90,-0.324991607409894),(60,91,-0.689031647694327),(60,96,1.87182226020081),(60,100,-2.04878383739738),(60,101,0.549348429822688),(60,105,0.0411999877925962),(60,107,0.893169957579272),(60,109,0.967101046784875),(60,110,-2.19975890377514),(60,114,2.41576891384625),(61,89,-1.6307107760857),(61,94,-0.831034272286142),(61,96,0.445478682821131),(61,98,-1.95905941953795),(61,100,-3.2059694204535),(61,102,-0.287865840632343),(61,103,-0.683156834620197),(61,114,2.12607196264534),(61,115,-0.470976897488327),(62,93,1.3923764763329),(62,95,2.20717490157781),(62,107,1.82004760887478),(62,109,-1.77416302987762),(62,110,2.03245643482772),(62,111,-1.71077608569597),(63,87,-1.78049562059389),(63,90,3.06210516678365),(63,93,-0.232245857112339),(63,97,-1.81353190710166),(63,100,-1.16016113773003),(63,103,-0.665395062105167),(63,104,-1.76834925382244),(63,108,0.269402142399365),(63,111,-1.40325632496109),(63,114,1.3082064271981),(63,117,1.07252723776971),(64,87,-0.273140659810175),(64,94,-0.277016510513626),(64,99,-2.01330607013153),(64,110,-2.11226233710746),(64,112,2.30849635303812),(64,116,0.575167088839381),(65,87,-0.701498458815272),(65,88,-0.021851252784814),(65,90,2.2827082125309),(65,97,-1.64726706747642),(65,99,-1.43826105533006),(65,107,2.1858882412183),(65,110,1.240943632313),(65,111,0.634525589770196),(65,114,0.553849909970397),(65,116,2.46444593646046),(65,117,-1.33968626972259),(66,85,-0.430646687215796),(66,102,0.770043031098361),(66,105,2.37360759300516),(66,108,-0.690160832544939),(66,111,1.31102938932463),(66,115,-0.238364818262276),(66,118,0.208731345561083),(67,86,-1.00065614795373),(67,90,1.71292764061403),(67,92,-0.32753990295114),(67,104,2.53192236091189),(67,109,-2.21005890072329),(67,111,2.14706869716483),(68,87,-1.84537797173986),(68,88,0.759392071291238),(68,90,0.430860316782128),(68,93,-2.4568315683462),(68,95,1.64084292123173),(68,96,-1.37060151982177),(68,97,0.81785027619251),(68,103,0.0968199713126011),(68,107,1.90618610187078),(68,112,-1.54812768944365),(68,114,-1.71039460432752),(69,87,2.2753990295114),(69,88,1.07080294198431),(69,92,-1.27483443708609),(69,94,-2.00984221930601),(69,95,-0.691244239631336),(69,97,1.09620960112308),(69,108,0.247276223029267),(69,113,0.254493850520341),(69,114,1.39350566118351),(69,118,1.31771294289987),(70,85,-0.357799005096591),(70,86,-1.28192999053926),(70,87,-0.190176091799677),(70,90,1.75629444257942),(70,96,1.55957213049715),(70,97,2.54721213415937),(70,99,-0.0313577684865871),(70,105,-1.84267708365123),(70,107,1.41726432081057),(70,109,0.696523941770684),(70,110,0.450148014770959),(70,111,-2.07188634907071),(71,85,0.282845545823542),(71,93,1.43003631702628),(71,96,-0.209189123203223),(71,100,1.15883358256783),(71,104,2.40829187902463),(71,106,-1.80607013153478),(71,111,0.767967772453993),(71,113,0.171361430707724),(72,94,-1.25862910855434),(72,96,-0.502243110446486),(72,99,-2.12012085329753),(72,110,-0.184636982329783),(72,112,1.90226447340312),(72,114,2.54901272621845),(72,115,0.470976897488327),(72,116,0.718008972441786),(73,88,2.77059236426893),(73,94,-0.374401074251534),(73,99,-2.11310159611805),(73,100,0.683019501327555),(73,106,-0.319757683034761),(73,110,2.27568895535142),(73,115,-1.71919919431135),(74,90,-0.89265114291818),(74,94,-0.112109744560076),(74,99,2.60719626453444),(74,102,-0.306924649800104),(74,106,0.653187658314768),(74,107,-0.315073091830195),(74,110,-0.411526841029084),(74,113,-0.740348521378216),(74,116,-1.80248420667135),(75,85,-1.45881527146214),(75,86,0.746711630603961),(75,93,1.46377452925199),(75,98,-1.17015594958342),(75,103,-0.815424054689169),(75,105,1.68352305673391),(75,111,1.47271645252846),(75,117,-1.51106295968505),(76,86,0.687185277871029),(76,89,2.86846522415845),(76,92,-0.341776787621693),(76,94,-0.609378337961974),(76,99,-0.897122104556414),(76,101,-1.62038026062807),(76,103,-3.26148258919034),(76,106,-1.47886593218787),(76,110,-1.70764793847468),(76,113,0.147480697042756),(77,88,0.698980681783502),(77,91,-1.83111056855983),(77,93,0.912350840784936),(77,98,2.08708456678976),(77,101,-0.187490462965789),(77,102,-1.65665150914029),(77,103,-2.08059938352611),(77,104,1.89046906949065),(77,105,0.0557115390484329),(77,109,-1.92904446546831),(78,88,-0.534440137943663),(78,93,1.46398815881832),(78,94,-1.69977416302988),(78,101,-0.601947080904569),(78,104,-0.614947965941343),(78,110,-0.352839747306742),(78,114,0.581225012970367),(78,116,-0.162739951780755),(78,117,-2.5559404278695),(78,118,2.23157444990387),(79,87,-0.779183324686422),(79,92,-0.158085879085665),(79,94,1.84076967680898),(79,107,-0.695760979033784),(79,108,2.02238532670064),(79,114,1.87012848292489),(79,118,0.179998168889431),(80,87,-2.23471785637989),(80,88,-0.64828943754387),(80,91,1.28766747032075),(80,99,-0.25846125675222),(80,101,2.81521042512284),(80,107,-1.46984771263771),(80,113,-0.602587969603565),(81,85,-1.1657307657094),(81,86,1.29168065431684),(81,90,-3.15234839930418),(81,93,-2.08702352977081),(81,96,-1.01681569872127),(81,97,-0.175725577562792),(81,106,1.68317209387494),(81,107,-0.0585345011749626),(81,110,-0.414822840052492),(81,115,-0.992629779961547),(82,86,-0.595202490310373),(82,92,-0.602725302896207),(82,110,-1.65210425122837),(82,112,-2.04168828394421),(83,87,-0.97460860011597),(83,91,-0.371242408520768),(83,93,1.10759300515763),(83,101,-1.06822412793359),(83,103,-2.16284676656392),(83,105,2.50857570116275),(83,108,0.774147770622883),(84,85,0.827127903073214),(84,86,0.152500991851558),(84,89,-1.71924497207556),(84,95,0.344431897946104),(84,99,1.87070833460494),(84,104,-0.921887874996185),(84,111,-0.251258888515885),(84,113,0.437971129490036),(84,114,-0.824365977965636),(10,119,1.86748863185522),(119,109,-1.16429639576403),(58,120,3.10448011719108),(120,118,-1.49571214941862),(95,104,-2.49864192632832)]
orgname='BHNEAT_8_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()