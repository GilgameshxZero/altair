edge = [(0,85,-1.5157017731254),(0,89,-3.4596621601001),(0,90,-0.0195318460646381),(0,93,-2.37813959166234),(0,98,-0.483870967741935),(0,101,-2.6892834253975),(0,105,3.93612475966674),(0,108,1.29757072664571),(0,113,4.53996398815882),(0,114,4.46203497421186),(0,117,3.23931089205603),(0,118,0.2398602252266),(1,86,-3.09807885982849),(1,92,3.51249732963042),(1,98,2.94957579271828),(1,102,-0.0920133060701315),(1,104,0.853671376689962),(1,107,-0.264595477156896),(1,108,1.07165746024964),(1,109,-0.814096499526963),(1,113,2.1796624652852),(2,87,0.812891018402661),(2,88,1.87650685140538),(2,100,-0.312700277718436),(2,106,-1.73310037537767),(2,108,-2.94369335001679),(2,110,-1.50907925656911),(2,113,-1.29195150608844),(2,118,0.942640461439863),(3,89,1.82859279152806),(3,92,-1.00423444318979),(3,97,-1.10797448652608),(3,99,4.68448057496872),(3,101,1.18526261177404),(3,103,-0.621875667592395),(3,105,3.82747123630482),(3,108,-1.94738608966338),(3,109,-3.36661885433515),(3,111,1.18918424024171),(3,112,-2.45521408734397),(3,116,-2.95353175450911),(4,90,-0.431783501693777),(4,91,0.15881832331309),(4,97,-0.555162205877865),(4,99,-0.1774956511124),(4,101,-2.34080019531846),(4,108,2.1839426862392),(4,113,-3.15412610248115),(4,118,-0.862887966551714),(5,86,2.12776573992126),(5,87,-2.32874538407544),(5,89,-1.13239692373424),(5,92,-1.66170995208594),(5,93,-0.933347575304422),(5,99,2.67502365184484),(5,104,3.26854762413404),(5,114,-0.0420773949400313),(5,118,-0.953959013641774),(6,89,-1.80553605761895),(6,92,-6.07354579302347),(6,94,0.811353648487808),(6,100,-0.714796899319437),(6,101,-1.39024781029695),(6,103,-1.07288583025605),(6,107,-1.35074922940764),(6,110,-0.697660756248665),(6,113,-1.02472762230293),(7,85,-1.35242774742882),(7,86,1.26689962462233),(7,90,-1.03415402691733),(7,95,-1.54707480086673),(7,99,-2.28225043488876),(7,100,-0.456175420392468),(7,104,-1.79136020996735),(7,106,0.687505722220527),(7,108,-0.924535355693228),(7,112,-0.602610858485672),(7,116,-2.11607715079196),(8,92,1.09833063753166),(8,93,-2.02294228949858),(8,95,0.287034211249123),(8,99,1.15596484267708),(8,106,-3.50409710989715),(8,107,-1.18037965025788),(8,115,1.29303872798852),(8,116,2.5097201452681),(8,118,0.496345408490249),(9,85,0.211420789208655),(9,87,2.36136967070528),(9,98,-4.1312257759331),(9,101,0.607013153477584),(9,103,4.59727011932737),(9,105,-0.286484878078555),(9,106,0.752128666035951),(9,113,-0.22232734153264),(10,89,-5.33581041901913),(10,96,1.84469893490402),(10,106,3.12926114688559),(10,108,4.15059358500931),(10,111,2.29201635792108),(10,112,0.942182683797724),(10,114,-2.46102786339915),(10,115,-1.42197943052461),(10,116,-1.20101779229102),(10,117,2.04187139500107),(11,89,-3.23426007873775),(11,97,4.28887676625874),(11,105,-1.55377361369671),(11,112,-1.11619159520249),(11,115,-3.75511185033723),(12,92,1.35766167180395),(12,93,-0.214323862422559),(12,94,1.93859294412061),(12,97,-0.755302591021455),(12,98,4.76265755180517),(12,99,2.13950010681478),(12,108,-0.777001251258889),(12,116,1.71262245551927),(13,86,1.27480391857662),(13,87,2.31871242408521),(13,90,-1.71842097231971),(13,99,-1.64960173345134),(13,102,3.25262459181494),(13,104,-2.08189642017884),(13,113,-0.285134434034242),(13,116,-3.66785943174535),(13,118,-2.12729270302438),(14,90,-4.51374095889157),(14,93,-0.0490432447279279),(14,95,-4.67772453993347),(14,102,1.56945249794),(14,104,-3.49055452131718),(14,106,-0.219992675557725),(14,109,2.08998382518998),(14,110,-0.171452986236152),(14,111,-3.0064470351268),(15,85,1.54377117221595),(15,92,4.21031830805383),(15,99,-1.18652912991729),(15,101,0.646000549333171),(15,104,-0.179177983947264),(15,108,1.05745872371593),(15,117,0.0852839747306748),(16,86,-2.49488814966277),(16,87,0.222434156315805),(16,88,1.81491286965545),(16,90,-2.20155949583422),(16,91,-2.102038636433),(16,95,-0.815519425031282),(16,97,-0.354441969054231),(16,98,-1.77945036164434),(16,99,-2.30216376232185),(16,101,0.977706228827784),(16,108,5.73632007812738),(16,110,-2.48840296639912),(17,89,0.655377361369671),(17,96,0.431028168584247),(17,99,2.28797265541551),(17,101,-1.0110248115482),(17,106,-1.15569780571917),(17,107,1.18885616626484),(17,109,-5.35953093050935),(18,90,0.00391399884029664),(18,91,0.161461989196447),(18,93,0.554948576311533),(18,99,1.6445661793878),(18,102,2.20519119846187),(18,103,-2.99005859553819),(18,104,0.49527726065859),(18,110,1.22166356395154),(18,111,-1.75910214545122),(18,116,-1.1428418836024),(18,117,-3.44611194189276),(18,118,-0.892056031983398),(19,87,-2.10825678273873),(19,89,-1.35975218970305),(19,93,2.13618121890927),(19,95,-1.13948484756005),(19,101,1.59934537797174),(19,105,-1.1817529831843),(19,115,0.577181310464797),(20,88,-2.55068361461226),(20,101,1.46005127109592),(20,103,2.17352824488052),(20,104,0.229575487533189),(20,105,-1.90557573168126),(20,106,-3.43720816675314),(20,111,-0.455412457655568),(20,116,-2.34008301034577),(21,86,-0.179677724539933),(21,87,-0.108989226966155),(21,94,-0.722857600634785),(21,96,2.94400616473891),(21,101,5.16021454512162),(21,102,3.43182927945799),(21,105,-2.4549851985229),(21,107,3.49571214941862),(21,108,2.29377880184332),(22,86,-3.06524094363231),(22,88,-0.641979735709708),(22,91,2.40281380657369),(22,92,-1.19709616382336),(22,93,-0.536896877956481),(22,98,-2.10722678304392),(22,106,-3.58694723349712),(22,115,0.935392315439314),(22,117,-4.24340800195318),(23,85,-2.77961058381909),(23,86,0.385708182012391),(23,88,-2.85135959959716),(23,90,1.69850764488662),(23,97,-0.476912747581408),(23,104,5.75951414532914),(23,112,0.207907345805231),(23,114,3.01913510544145),(23,115,-4.61196478164007),(23,116,0.147160252693258),(24,89,-2.80687124240852),(24,90,1.11491744743187),(24,91,0.646977141636403),(24,101,1.15165791802728),(24,107,-0.335245826593829),(24,108,4.11125522629475),(24,110,-0.907399212622456),(24,112,-2.89459669789728),(25,90,-3.03152562028871),(25,92,-2.02693258461257),(25,94,-7.35644093142491),(25,98,-1.38715018158513),(25,105,-0.847346415601062),(25,108,5.53209021271401),(25,109,-2.53238013855403),(25,115,-0.0938138981292153),(26,85,-3.30757316812647),(26,87,-1.62910855433821),(26,89,-2.01515625476852),(26,95,-0.105632190923795),(26,98,-0.390202032532731),(26,100,-1.43803216650899),(26,101,2.30819879757073),(26,102,3.33227027191992),(26,103,0.171788689840388),(26,104,5.02917569505905),(26,107,-4.59662160100101),(26,109,1.85562456129643),(26,112,1.80516983550523),(26,113,-0.972800378429517),(26,117,-2.70419171727653),(27,85,-1.5873439741203),(27,87,1.99725333414716),(27,94,1.92159794915616),(27,100,1.17864009521775),(27,102,-2.88403729361858),(27,103,0.0384533219397567),(27,104,-1.55362102114933),(27,105,-1.79263435773797),(27,108,1.30260628070925),(27,110,-1.99270607623524),(27,114,1.77990813928648),(28,87,-1.19192327646718),(28,88,2.39043855098117),(28,97,2.82599490340892),(28,99,-0.136280404065065),(28,104,-1.28687398907437),(28,113,0.184263130588702),(28,114,-5.48425244911039),(29,88,1.88161870174261),(29,91,-3.91396832178716),(29,102,-3.15768913846248),(29,105,-2.26975310525834),(29,116,1.0262611774041),(30,95,5.53282265694143),(30,96,2.60570085757012),(30,99,-1.00505844294565),(30,101,-1.38599810785241),(30,104,-0.889576403088473),(30,109,2.48367259743034),(30,110,2.90260780663472),(30,114,-2.35786767174291),(30,118,-1.82775353251747),(31,85,1.21847437971129),(31,92,1.52842036194952),(31,94,-1.02898495437483),(31,96,1.20329905087436),(31,99,-1.94212164677877),(31,103,-3.97199926755577),(31,107,-2.0756782738731),(31,108,2.21729941709647),(31,109,-0.0597781304361094),(31,111,1.22105319376202),(31,112,-1.96211127048555),(31,117,0.778443250831629),(32,86,-1.35265663624989),(32,87,0.332956938383129),(32,89,-1.32121494186224),(32,92,-0.903118991668447),(32,98,3.72872096926786),(32,99,0.369823297830134),(32,104,1.0262611774041),(32,106,0.0703604235969117),(32,109,3.67619861445967),(32,116,2.18856624042482),(32,118,-3.04466383861812),(33,96,-2.8028885769219),(33,98,-0.627353740043336),(33,108,-2.1058534501175),(33,110,-1.859027375103),(33,111,0.550141911069063),(33,114,0.97842341380047),(34,85,-3.14952543717765),(34,90,3.07765434736168),(34,99,-0.32868434705649),(34,104,2.44880520035401),(34,109,-4.81402020325327),(35,86,-2.01307718131046),(35,87,2.20950956755272),(35,97,-2.46364482558672),(35,98,2.65366069521165),(35,100,0.0945425275429548),(35,104,-1.73699148533586),(35,107,-6.14931180761132),(35,109,-3.15433210242012),(35,110,-0.759239478743858),(35,112,1.42605365153966),(36,85,-3.34785760063479),(36,87,2.03009125034333),(36,90,0.0952940458388012),(36,91,-1.20536667989135),(36,104,-0.918187505722221),(36,107,0.583666493728446),(36,109,-0.188528092287973),(36,112,0.344477675710318),(36,115,3.25193792535173),(36,117,-5.58329264198737),(36,118,2.66449095126194),(37,85,-0.260925626392407),(37,86,-3.49906155583361),(37,87,1.34559923093356),(37,91,3.90488143559069),(37,99,1.8728827784051),(37,105,-0.0466475417340617),(37,111,-0.21393475142674),(37,112,0.0939512314218574),(37,118,-3.23537400433363),(38,87,3.1130634479812),(38,90,-0.451231421857356),(38,103,2.49085589159825),(38,105,3.57444990386669),(38,106,-0.178685872981964),(38,111,2.08975493636891),(38,115,-1.05817590868862),(39,87,1.71336252937407),(39,89,-2.07487716299936),(39,91,-4.7240363780633),(39,94,-1.9787362285226),(39,97,-0.827951902829066),(39,98,0.565775017548143),(39,107,0.0528656880397962),(39,108,4.04935605945006),(39,109,2.70617542039247),(39,111,0.193487350077822),(39,113,-2.025742362743),(39,116,-3.22927411725211),(39,118,-4.16882076479385),(40,88,-1.711851863155),(40,92,-0.890072328867458),(40,99,3.83698538163396),(40,104,-1.61743522446364),(40,110,0.215819269386883),(40,116,0.00756859035004744),(40,118,-2.7424695577868),(41,88,2.47108371227149),(41,93,0.728759117404706),(41,96,1.09516434217353),(41,97,-0.0603885006256294),(41,100,0.362903225806452),(41,101,2.69748146000549),(41,104,-0.477004303109836),(41,105,2.28614154484695),(41,106,4.5308618427076),(41,107,-7.59414960173345),(41,109,2.27828302865688),(41,110,3.35547196874905),(41,111,-2.44625690481277),(41,112,5.91106143375958),(42,85,-0.162175359355449),(42,86,-0.707953123569445),(42,87,1.49557481612598),(42,99,2.31290246284371),(42,100,-4.58871730704672),(42,103,-3.59946745200964),(42,109,-3.30108035523545),(42,113,2.34832300790429),(43,85,0.0725577562791833),(43,88,-1.16130558183538),(43,89,1.91312906277657),(43,93,1.64356669820246),(43,97,2.43041779839473),(43,98,0.978949858088931),(43,101,1.05738242744224),(43,102,4.64445554979095),(43,103,-2.19702749717704),(43,105,0.610370189519944),(43,110,-2.53559602649007),(43,112,1.26239814447462),(43,114,-1.11913663136692),(43,116,-0.301217688528092),(44,89,-0.505653553880429),(44,98,3.95420697653127),(44,99,-1.75529496139409),(45,87,-2.14749595629749),(45,88,-0.527512436292611),(45,90,4.14972380748924),(45,91,1.5294351023896),(45,95,-2.2824869533372),(45,98,-5.25749992370373),(45,108,2.44286172063356),(45,109,1.67950987273782),(45,112,1.34142582476272),(45,115,-0.648869289223914),(46,85,-0.12877285073397),(46,89,2.09893337809381),(46,91,3.53399761955626),(46,94,-0.824098941007721),(46,97,0.242881557664724),(46,100,3.56564531388287),(46,101,-0.489692373424482),(46,108,-4.69107638782922),(46,112,-0.0278786584063233),(47,86,-0.0127109591967535),(47,91,-0.206930753501999),(47,92,-2.4100466933195),(47,94,-1.32374034852138),(47,95,-2.45258186590167),(47,100,1.96399578844569),(47,101,2.41622669148839),(47,104,-3.39976195562609),(47,105,4.15843684194464),(47,108,0.185247352519303),(47,112,0.276261177404096),(47,114,2.18985564745018),(47,118,2.82397686696982),(48,86,3.23720511490219),(48,91,-1.22020630512406),(48,98,-0.134281441694388),(48,99,-0.589114047669912),(48,100,-1.85893200476089),(48,103,0.795236060670797),(48,105,0.146397289956358),(48,106,-2.77942747276223),(48,111,-1.13648640400403),(48,115,0.225226599932859),(49,87,0.0709555345316935),(49,89,-0.0620136112552265),(49,93,3.72508926664022),(49,94,3.45000305185095),(49,95,0.45158238471633),(49,102,-0.803575243385113),(49,113,-1.26413006988739),(49,114,1.97674871059297),(50,89,-1.45388653218177),(50,105,-0.457701345866268),(50,107,-2.01522110660115),(51,87,0.538331247901852),(51,92,-2.10394604327525),(51,97,1.57520905178991),(51,98,-2.23151341288491),(51,103,2.62749870296335),(51,106,0.269631031220435),(51,112,-1.99102755821406),(51,118,-3.6851252784814),(52,89,-3.10555589465011),(52,97,0.638981292153691),(52,106,-1.64777062288278),(52,110,-0.654889065218055),(52,111,1.21881008331553),(52,113,3.03592028565325),(52,114,-0.0849101229895931),(52,118,4.24188970610675),(53,88,-0.731612598040712),(53,90,-3.3985030671102),(53,92,2.63777581102939),(53,94,-1.6114154484695),(53,104,-2.04458754234443),(53,105,0.501289407025361),(53,109,3.61925107577746),(54,85,0.863662373729667),(54,91,-2.21701712088382),(54,94,-0.902249214148381),(54,96,-0.295342875453963),(54,111,1.45332956938383),(54,112,3.10046693319498),(54,113,4.7902386547441),(54,118,-0.86443678090762),(55,87,-0.43519394512772),(55,95,0.296639912106693),(55,107,-1.8241294595172),(55,110,-3.21924497207556),(55,117,-3.05947294534135),(56,107,-0.879665517136143),(56,111,1.98525955992309),(56,113,-1.07499923703726),(56,114,1.48686178167058),(57,87,0.0283822138126774),(57,90,4.41295358134709),(57,91,-0.732234412671285),(57,92,0.8324228644673),(57,93,3.67974639118625),(57,94,-1.52496414075137),(57,95,-1.11201437421796),(57,96,-1.90575884273812),(57,100,-3.37327188940092),(57,102,1.34823145237587),(57,103,2.16017639698477),(57,115,-3.79554887539293),(58,86,-0.175855281228065),(58,87,-1.11297952208014),(58,89,0.834070863979003),(58,90,-1.79231391338847),(58,95,-4.19894253364666),(58,96,-0.722487563707389),(58,101,-1.32404934842982),(58,103,-3.9269539475692),(58,109,-2.7294991912595),(58,110,5.44017609179968),(58,113,0.865245521408734),(58,114,1.09912411877804),(58,115,-0.0344782860805076),(59,85,0.445036164433729),(59,86,0.887859736930448),(59,90,-1.40507217627491),(59,91,-0.786461989196448),(59,93,4.73638111514634),(59,97,0.64645832697531),(59,98,3.51900540177618),(59,100,2.23937192907498),(59,102,-2.41218298898282),(59,112,2.35145115512558),(59,114,1.19341105380413),(60,85,-0.281434064760277),(60,87,-3.03943754387036),(60,90,-0.073244422742393),(60,91,-0.963660084841456),(60,96,5.14992217780084),(60,100,-0.796227912228767),(60,101,2.6715140232551),(60,105,-0.500694296090579),(60,107,0.717726676229133),(60,109,-0.493713187047945),(60,110,3.74497207556383),(60,114,-1.65242469557787),(61,89,1.38600573747978),(61,94,-3.17954802087466),(61,96,-0.249580370494705),(61,98,-2.24509414960173),(61,100,0.307626575518052),(61,102,1.57506027405622),(61,103,1.4790795617542),(61,114,-0.418561357463301),(61,115,0.478720969267861),(62,93,-0.281014435254982),(62,95,-1.01802117984558),(62,107,0.27188177129429),(62,109,-5.49917600024415),(62,110,-1.6746650593585),(62,111,0.959273049104282),(63,87,-0.607417523728141),(63,90,1.91244239631336),(63,93,-2.30262153996399),(63,97,3.87277596362194),(63,100,2.15144810327464),(63,103,4.01584673604541),(63,104,-0.971053193762016),(63,108,-1.22383419293802),(63,111,0.143726920377209),(63,114,-0.0787644581438645),(63,117,1.09691152684103),(64,87,5.58034760582293),(64,94,1.57477034821619),(64,99,-2.33031708731346),(64,110,2.06556901760918),(64,112,-1.91987365337077),(64,116,-3.83811456648457),(65,87,2.61994537186804),(65,88,0.551934873500779),(65,90,1.51532029175695),(65,97,7.1273384807886),(65,99,3.13747062593463),(65,107,1.97493667409284),(65,110,-7.64307077242348),(65,111,-0.530396435438093),(65,114,-1.9019745475631),(65,116,3.19746238593707),(65,117,-3.88771477401044),(66,85,-1.59739982299264),(66,102,-0.454779198583941),(66,105,1.21787163914914),(66,108,0.975653859065523),(66,111,-2.3619800408948),(66,115,2.5077288125248),(66,118,1.26562547685171),(67,86,2.41872920926542),(67,90,-0.350665303506577),(67,92,0.320345164342174),(67,104,-2.28649250770592),(67,109,1.21984008301035),(67,111,0.87237159337138),(68,87,2.08663441877499),(68,88,2.21077608569597),(68,90,-2.54073839533677),(68,93,-2.6664937284463),(68,95,-2.44802697836238),(68,96,-0.582300790429396),(68,97,-0.163853877376629),(68,103,2.36869411297952),(68,107,1.20994445631275),(68,112,-0.885494552446059),(68,114,2.74298074282052),(69,87,2.63765373699149),(69,88,-3.43822290719321),(69,92,0.737174596392712),(69,94,-0.683469649342326),(69,95,0.732329783013398),(69,97,-2.17307046723838),(69,108,0.787835322122867),(69,113,-0.973838007751701),(69,114,0.600711081270791),(69,118,0.967650379955443),(70,85,-1.9640186773278),(70,86,-0.0522934659871213),(70,87,-0.845271156956694),(70,90,4.55444502090518),(70,96,-0.0360118411816767),(70,97,0.97918637653737),(70,99,2.67654576250496),(70,105,0.939054536576434),(70,107,-1.17043061616871),(70,109,-0.963999603259377),(70,110,-2.01246681112094),(70,111,3.10126804406873),(71,85,-0.532242805261391),(71,93,-1.79229865413373),(71,96,-0.628833887752922),(71,100,-1.25258644367809),(71,104,-0.816217535935545),(71,106,2.02764976958525),(71,111,2.95406964323862),(71,113,0.806909390545365),(72,94,4.33354441969054),(72,96,2.39303262428663),(72,99,-0.256889553514206),(72,110,0.486751152073733),(72,112,1.2742164372692),(72,114,-1.60916470839564),(72,115,-1.27956480605487),(72,116,2.45887630848109),(73,88,-1.67119357890561),(73,94,1.48272652363659),(73,99,-1.78624835963012),(73,100,-0.201193273720512),(73,106,2.50106814783166),(73,110,2.22304452650533),(73,115,-1.93282876064333),(74,90,-0.588694418164617),(74,94,-0.0258186590166937),(74,99,0.0950651570177312),(74,102,0.384304330576495),(74,106,2.4024170659505),(74,107,4.35143589587085),(74,110,2.1401371807001),(74,113,-1.63304544206061),(74,116,-2.23593859675893),(75,85,-0.972396008178961),(75,86,-2.10215308084353),(75,93,-2.50111392559587),(75,98,0.589304788354137),(75,103,3.09695730460524),(75,105,-4.24550614947966),(75,111,-1.11189230018006),(75,117,1.22867519150365),(76,86,0.452925199133274),(76,89,2.02314828943754),(76,92,-2.96968749046297),(76,94,0.399029511398663),(76,99,3.04691457869198),(76,101,1.81051057466353),(76,103,1.49960325937681),(76,106,-3.1480605487228),(76,110,2.27805413983581),(76,113,-2.09238715781121),(77,88,-0.247032074953459),(77,91,1.24993133335368),(77,93,-1.47503585924863),(77,98,-0.614337595751823),(77,101,-0.00613422040467526),(77,102,-0.480784783471175),(77,103,3.37176122318186),(77,104,-0.861995300149541),(77,105,-1.19770271919919),(77,109,-2.44461653492843),(78,88,1.45012131107517),(78,93,2.11807611316263),(78,94,-1.91284676656392),(78,101,0.162335581530198),(78,104,2.27506332590716),(78,110,2.08627582628864),(78,114,1.5396969512009),(78,116,3.38435010834071),(78,117,3.43836024048585),(78,118,0.522392956328013),(79,87,0.730399487289041),(79,92,2.10547196874905),(79,94,-1.80257576219977),(79,107,0.947363200781274),(79,108,-0.442548905911435),(79,114,1.16084780419324),(79,118,-0.5677053132725),(80,87,-2.17703787347026),(80,88,-0.410473952452162),(80,91,2.71173741874447),(80,99,-0.0718405713064973),(80,101,0.694807275612659),(80,107,1.16148869289224),(80,113,-1.1724257637257),(81,85,0.0767540513321329),(81,86,-0.141453291421247),(81,90,1.55568102053896),(81,93,0.231864375743889),(81,96,-1.01198232978301),(81,97,-4.82495345927305),(81,106,-1.47495956297494),(81,107,0.222548600726341),(81,110,3.54541154210028),(81,115,-1.29911191137425),(82,86,-0.942564165166173),(82,92,1.32267220068972),(82,110,-2.23776207770013),(82,112,-3.00065614795373),(83,87,-1.14604632709738),(83,91,0.421994689779351),(83,93,2.39021729178747),(83,101,-3.88930936613056),(83,103,0.475630970183416),(83,105,-1.09958189642018),(83,108,-4.89565721610157),(84,85,1.42041535691397),(84,86,-4.28571428571429),(84,89,1.58646656697287),(84,95,-2.50091555528428),(84,99,2.08523438215278),(84,104,4.06769768364513),(84,111,1.05425428022095),(84,113,-5.44763023773919),(84,114,0.522095400860622),(10,119,-0.622623371074557),(119,109,0.0426496169927061),(58,120,0.302613910336619),(120,118,-1.03816339609973),(95,104,-0.311365092928861)]
orgname='BHNEAT_14_9'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()