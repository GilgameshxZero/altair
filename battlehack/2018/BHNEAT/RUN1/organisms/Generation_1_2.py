edge = [(0,85,0.878749961851863),(0,89,-0.719290749839778),(0,90,-0.021698660237434),(0,93,-0.994079409161656),(0,98,-0.518387401959288),(0,101,0.872310556352428),(0,105,-0.855525376140629),(0,108,-0.623065889461959),(0,113,0.443830683309427),(0,114,-0.845851008636738),(0,117,-0.80840479750969),(0,118,-0.435438093203528),(1,86,0.523453474532304),(1,92,-0.244331186864834),(1,98,-0.422376171147801),(1,102,0.223395489364299),(1,104,0.114535966063417),(1,107,0.322367015594958),(1,108,0.339732047486801),(1,109,-0.931333353679006),(1,113,-0.192144535660878),(2,87,0.144596697897275),(2,88,0.744315927610096),(2,100,-0.628070925016022),(2,106,-0.103030487990967),(2,108,0.371105075228126),(2,110,0.428022095400861),(2,113,-0.104800561540574),(2,118,0.944669942320017),(3,89,0.667378765221107),(3,92,0.482222968230232),(3,97,0.097750785851619),(3,99,0.568834498123112),(3,101,0.739616077150792),(3,103,0.614093447676015),(3,105,0.135624256111332),(3,108,0.210913418988617),(3,109,0.994811853389081),(3,111,0.0880153813287759),(3,112,0.0124515518662069),(3,116,0.743614001892148),(4,90,-0.825891903439436),(4,91,0.292184209723197),(4,97,-0.885158848841823),(4,99,0.555711539048433),(4,101,0.521927549058504),(4,108,-0.929715872676778),(4,113,0.996215704824976),(4,118,0.0563066499832148),(5,86,0.803277687917722),(5,87,0.835230567339091),(5,89,0.021332438123722),(5,92,0.80352183599353),(5,93,-0.981719412823878),(5,99,-0.41621143223365),(5,104,-0.0421765800958281),(5,114,-0.258278145695364),(5,118,-0.745567186498611),(6,89,-0.71950437940611),(6,92,0.143864253669851),(6,94,0.163548692281869),(6,100,0.569963682973724),(6,101,0.122531815546129),(6,103,0.637745292519913),(6,107,0.547990356151006),(6,110,0.751915036469619),(6,113,0.64989165929136),(7,85,0.908993804742576),(7,86,0.354869228186895),(7,90,0.0704367198706015),(7,95,0.914670247505112),(7,99,0.889339884640034),(7,100,0.696188238166448),(7,104,0.0718100527970214),(7,106,-0.684804834131901),(7,108,0.154606769005402),(7,112,-0.731284524063845),(7,116,0.979735709707938),(8,92,-0.0745872371593371),(8,93,-0.64760277108066),(8,95,-0.170964690084536),(8,99,0.230262153996399),(8,106,0.361064485610523),(8,107,-0.0253608813745537),(8,115,-0.406323435163427),(8,116,-0.632312997833186),(8,118,-0.425366985076449),(9,85,0.632251960814234),(9,87,-0.262611774040956),(9,98,0.152531510361034),(9,101,0.819177831354717),(9,103,-0.097354045228431),(9,105,-0.378276924954985),(9,106,0.32563249610889),(9,113,0.456068605609302),(10,89,0.557267983031709),(10,96,-0.208716086306345),(10,106,-0.289376506851405),(10,108,0.928006836146123),(10,109,-0.503524887844478),(10,111,-0.655323953978088),(10,112,0.444929349650563),(10,114,0.446699423200171),(10,115,-0.255592516861476),(10,116,0.319162572099979),(10,117,-0.741904965361492),(11,89,0.409985656300546),(11,97,0.0582903530991546),(11,105,0.380199591051973),(11,112,-0.588427381206702),(11,115,-0.593340861232337),(12,92,0.804498428296762),(12,93,-0.100985747856075),(12,94,-0.38654744102298),(12,97,0.966154972991119),(12,98,0.382793664357433),(12,99,0.9556260872219),(12,108,0.692159794915616),(12,116,-0.1331217383343),(13,86,0.650227362895596),(13,87,0.383617664113285),(13,90,-0.000244148075807978),(13,99,-0.400860621967223),(13,102,0.0297860652485733),(13,104,0.168919949949644),(13,113,0.155064546647542),(13,116,0.469130527665029),(13,118,0.733298745689261),(14,90,-0.443708609271523),(14,93,-0.385265663624989),(14,95,0.747215186010315),(14,102,-0.60872219000824),(14,104,0.317270424512467),(14,106,-0.964049195837275),(14,109,-0.295480208746605),(14,110,-0.613269447920164),(14,111,-0.130100405896176),(15,85,-0.494277779473251),(15,92,-0.391644032105472),(15,99,0.910611285744804),(15,101,-0.332590716269417),(15,104,0.818781090731529),(15,108,-0.722312082277902),(15,117,0.593890194402905),(16,86,0.989043855098117),(16,87,0.555314798425245),(16,88,0.19922482985931),(16,90,0.033112582781457),(16,91,-0.906552323984497),(16,95,0.256904812768944),(16,97,0.400769066438795),(16,98,-0.84804834131901),(16,99,-0.388897366252632),(16,101,-0.196844386120182),(16,108,0.638447218237861),(16,110,-0.505630664998321),(17,89,0.615558336130863),(17,96,0.778984954374828),(17,99,-0.6480605487228),(17,101,-0.54277169103061),(17,106,0.645435956907865),(17,107,-0.572740867336039),(17,109,-0.906399731437117),(18,90,0.414044618060854),(18,91,0.0458693197424238),(18,93,0.97338785973693),(18,99,0.572344126712851),(18,102,-0.964232306894131),(18,103,0.146580401013215),(18,104,0.487166966765343),(18,110,-0.0535905026398511),(18,111,-0.526017029328288),(18,116,-0.918485061189611),(18,117,0.641438032166509),(18,118,0.197790459913938),(19,87,0.642719809564501),(19,89,-0.477614673299356),(19,93,-0.519791253395184),(19,95,-0.109164708395642),(19,101,0.415784173100986),(19,105,-0.21408734397412),(19,115,0.922299874874111),(20,88,0.589678640095218),(20,101,-0.477675710318308),(20,103,0.546006653035066),(20,104,-0.15057832575457),(20,105,0.205694753868221),(20,106,0.589251380962554),(20,111,-0.298226874599445),(20,116,0.41804254280221),(21,86,0.979216895046846),(21,87,0.862697225867489),(21,94,-0.706503494369335),(21,96,-0.885006256294443),(21,101,0.704306161687063),(21,102,-0.608935819574572),(21,105,0.0461745048371838),(21,107,-0.318704794457839),(21,108,0.888637958922086),(22,86,0.810480056154057),(22,88,-0.886196478164006),(22,91,0.378765221106601),(22,92,-0.319620349742119),(22,93,-0.21897030549028),(22,98,0.967986083559679),(22,106,-0.527115695669424),(22,115,-0.25617236854152),(22,117,-0.0779137546922208),(23,85,0.709341715750603),(23,86,0.5631275368511),(23,88,0.244788964506973),(23,90,0.470259712515641),(23,97,-0.333384197515793),(23,104,0.783989989928892),(23,112,0.561174352244636),(23,114,0.291024506363109),(23,115,-0.622516556291391),(23,116,-0.769646290475173),(24,89,0.276467177343059),(24,90,0.845179601428266),(24,91,-0.297036652729881),(24,101,-0.793023468733787),(24,107,-0.948881496627705),(24,108,-0.0699484237189856),(24,110,-0.0195013275551622),(24,112,0.855250709555345),(25,90,-0.93984801782281),(25,92,-0.382824182866909),(25,94,0.0232551042207099),(25,98,0.345713675344096),(25,105,0.355601672414319),(25,108,0.15393536179693),(25,109,-0.36649678029725),(25,115,0.32731101413007),(26,85,-0.6136051515244),(26,87,0.80397961363567),(26,89,0.811151463362529),(26,95,-0.446516312143315),(26,98,0.633716849269082),(26,100,0.526505325479904),(26,101,0.326761680959502),(26,102,0.468581194494461),(26,103,-0.6549272133549),(26,104,-0.63594470046083),(26,107,-0.219519638660848),(26,109,0.437726981414228),(26,112,0.676534318063906),(26,113,0.540116580706198),(26,117,-0.886013367107151),(27,85,-0.462202826013977),(27,87,0.524582659382916),(27,94,0.337809381389813),(27,100,-0.192083498641926),(27,102,0.124546037171545),(27,103,0.54338206122013),(27,104,0.0415356913968322),(27,105,-0.477034821619312),(27,108,-0.516708883938108),(27,110,0.911801507614368),(27,114,0.425183874019593),(28,87,0.182195501571703),(28,88,0.900112918485061),(28,97,-0.584673604541154),(28,99,-0.496627704702902),(28,104,0.105075228125858),(28,113,-0.990997039704581),(28,114,-0.859340189825129),(29,88,-0.595385601367229),(29,91,-0.27805413983581),(29,102,0.870357371745964),(29,105,-0.56678975798822),(29,116,0.115329447309793),(30,95,-0.472518082216865),(30,96,0.519333475753044),(30,99,0.888424329355754),(30,101,-0.852351451155126),(30,104,-0.327555162205878),(30,109,-0.979216895046846),(30,110,0.797143467513047),(30,114,0.976866969817194),(30,118,0.104037598803674),(31,85,-0.136509292886135),(31,92,-0.123874629963073),(31,94,0.631641590624714),(31,96,0.0634174626911222),(31,99,-0.133365886410108),(31,103,-0.249092074343089),(31,107,0.15439313943907),(31,108,0.471663563951537),(31,109,0.402539139988403),(31,111,0.419019135105441),(31,112,0.925504318369091),(31,117,0.228095339823603),(32,86,-0.327585680715354),(32,87,-0.687154759361553),(32,89,0.840449232459487),(32,92,0.119510483108005),(32,98,-0.527970213934751),(32,99,0.48063600573748),(32,104,-0.407727286599323),(32,106,-0.69884334849086),(32,109,0.769341105380413),(32,116,-0.791711172826319),(32,118,-0.471449934385205),(33,96,-0.789147618030335),(33,98,0.498611407818842),(33,108,0.994079409161656),(33,110,0.558885464033937),(33,111,-0.612598040711692),(33,114,0.00408948026978362),(34,85,-0.284279915768914),(34,90,0.853205969420453),(34,99,-0.544267097994934),(34,104,0.200720236823634),(34,109,0.748191778313547),(35,86,-0.791100802636799),(35,87,0.491134372997223),(35,97,-0.0401928769798883),(35,98,-0.0523087252418592),(35,100,-0.285500656147954),(35,104,-0.89593188268685),(35,107,-0.546006653035066),(35,109,-0.760307626575518),(35,110,0.573137607959227),(35,112,-0.366008484145634),(36,85,-0.473830378124332),(36,87,0.274300363170263),(36,90,0.687307351908933),(36,91,-0.927396465956603),(36,104,0.596484267708365),(36,107,-0.401348918118839),(36,109,-0.555436872463149),(36,112,0.903500473036897),(36,115,-0.614154484694967),(36,117,-0.544816431165502),(36,118,0.72179326761681),(37,85,0.419202246162297),(37,86,-0.689565721610157),(37,87,0.520706808679464),(37,91,-0.695059053315836),(37,99,0.529648731955931),(37,105,-0.608142338328196),(37,111,0.999328592791528),(37,112,-0.921140171514023),(37,118,-0.974211859492782),(38,87,-0.563097018341624),(38,90,-0.571306497390667),(38,103,0.380657368694113),(38,105,-0.555314798425245),(38,106,-0.565691091647084),(38,111,-0.439374980925932),(38,115,-0.811792352061525),(39,87,-0.142429883724479),(39,89,-0.480300302133244),(39,91,-0.7345194860683),(39,94,0.557634205145421),(39,97,0.30100405896176),(39,98,0.684591204565569),(39,107,-0.45753349406415),(39,108,-0.0392468031861324),(39,109,-0.54628131962035),(39,111,-0.354747154148991),(39,113,0.0453199865718558),(39,116,0.852961821344645),(39,118,-0.22217474898526),(40,88,0.375499740592669),(40,92,-0.562395092623676),(40,99,-0.493240150151067),(40,104,0.00531022064882351),(40,110,-0.875453962828455),(40,116,0.517197180089724),(40,118,-0.700247199926756),(41,88,-0.0338450270088809),(41,93,-0.387035737174596),(41,96,-0.303537095248268),(41,97,-0.432569353312784),(41,100,-0.661427655873287),(41,101,0.63182470168157),(41,104,0.267067476424451),(41,105,-0.464766380809961),(41,106,0.835993530075991),(41,107,-0.930600909451582),(41,109,-0.396588030640584),(41,110,0.610187078463088),(41,111,0.10376293221839),(41,112,-0.23856318857387),(42,85,0.640461439863277),(42,86,-0.568437757499924),(42,87,-0.238196966460158),(42,99,0.805566576128422),(42,100,0.848139896847438),(42,103,-0.398174993133335),(42,109,0.493758964812159),(42,113,-0.460951567125462),(43,85,-0.336375011444441),(43,88,-0.614764854884487),(43,89,0.484908597064119),(43,93,-0.524124881740776),(43,97,-0.0808130130924406),(43,98,0.912839136936552),(43,101,-0.690023499252297),(43,102,0.339457380901517),(43,103,0.532334360789819),(43,105,-0.513962218085269),(43,110,-0.580278939176611),(43,112,-0.436475722525712),(43,114,-0.0583208716086306),(43,116,0.139469588305307),(44,89,0.373546555986206),(44,98,0.315042573320719),(44,99,-0.00933866389965514),(45,87,0.607867671742912),(45,88,0.413281655323954),(45,90,-0.855586413159581),(45,91,0.410290841395306),(45,95,0.0576494644001587),(45,98,0.172490615558336),(45,108,-0.354075746940519),(45,109,0.276985992004151),(45,112,0.794946134830775),(45,115,0.882656331064791),(46,85,-0.182378612628559),(46,89,0.557420575579089),(46,91,-0.766075624866482),(46,94,-0.787408062990204),(46,97,0.0732749412518693),(46,100,-0.698324533829768),(46,101,-0.655293435468612),(46,108,-0.021759697256386),(46,112,0.0306711020233772),(47,86,0.836420789208655),(47,91,0.607470931119724),(47,92,0.115909298989837),(47,94,0.864772484511856),(47,95,-0.614947965941343),(47,100,-0.575640125736259),(47,101,0.123996704000977),(47,104,-0.352153080843532),(47,105,0.624988555558947),(47,108,-0.293801690725425),(47,112,-0.378124332407605),(47,114,0.0210272530289621),(47,118,-0.471938230536821),(48,86,-0.874446852015748),(48,91,-0.867275002288888),(48,98,0.561387981810968),(48,99,-0.466841639454329),(48,100,-0.0311899166844691),(48,103,0.241218298898282),(48,105,-0.860011597033601),(48,106,-0.942899868770409),(48,111,-0.926664021729179),(48,115,0.439374980925932),(49,87,0.660847804193243),(49,89,0.196752830591754),(49,93,-0.644856105227821),(49,94,0.944792016357921),(49,95,0.849971007415998),(49,102,0.0549943540757469),(49,113,0.288979766228217),(49,114,-0.662892544328135),(50,89,0.36588641010773),(50,105,-0.06549272133549),(50,107,0.704123050630207),(51,87,-0.425580614642781),(51,92,-0.734611041596728),(51,97,0.313852351451155),(51,98,-0.824762718588824),(51,103,0.120059816278573),(51,106,-0.229773857844783),(51,112,0.864833521530808),(51,118,-0.647541734061708),(52,89,-0.442732016968291),(52,97,0.657979064302499),(52,106,-0.828669087801752),(52,110,-0.82891323587756),(52,111,-0.278023621326334),(52,113,0.768669698171941),(52,114,0.0525223548081912),(52,118,0.90774254585406),(53,88,-0.702505569627979),(53,90,0.289559617908261),(53,92,0.43702505569628),(53,94,0.152989288003174),(53,104,0.613574633014924),(53,105,0.586596270638142),(53,109,0.877468184453871),(54,85,0.0364696188238166),(54,91,-0.983520004882962),(54,94,0.949217200231941),(54,96,-0.830225531785028),(54,111,0.330301828058718),(54,112,-0.738303781243324),(54,113,0.500442518387402),(54,118,0.504379406109806),(55,87,0.829737235633412),(55,95,-0.261604663228248),(55,107,-0.732169560838649),(55,110,-0.677938169499802),(55,117,-0.700704977568895),(56,107,0.523606067079684),(56,111,-0.665089877010407),(56,113,0.139164403210547),(56,114,-0.452558977019562),(57,87,0.834955900753807),(57,90,0.634052552873318),(57,91,-0.753349406414991),(57,92,-0.535691396832179),(57,93,-0.225592822046571),(57,94,-0.698171941282388),(57,95,-0.153691213721122),(57,96,-0.56419568468276),(57,100,-0.448896755882443),(57,102,0.675923947874386),(57,103,-0.0582293160802026),(57,115,0.163426618243965),(58,86,0.610217596972564),(58,87,-0.80535294656209),(58,89,0.210821863460189),(58,90,-0.442915128025147),(58,95,-0.421124912259285),(58,96,-0.0291756950590533),(58,101,-0.947843867305521),(58,103,0.0937223426007874),(58,109,-0.0780663472396008),(58,110,0.905087435529649),(58,113,-0.389416180913724),(58,114,0.111270485549486),(58,115,-0.766563921018097),(58,118,-0.140629291665395),(59,85,-0.255928220465712),(59,86,0.142979216895047),(59,90,0.789666432691427),(59,91,0.753746147038179),(59,93,-0.30939664906766),(59,97,-0.46089053010651),(59,98,0.322336497085482),(59,100,0.857509079256569),(59,102,0.419843134861293),(59,112,0.559343241676077),(59,114,0.790124210333567),(60,85,-0.0705587939085055),(60,87,0.256691183202612),(60,90,-0.377544480727561),(60,91,-0.873012482070376),(60,96,-0.552323984496597),(60,100,-0.605304116946928),(60,101,0.147434919278542),(60,105,-0.134434034241768),(60,107,-0.662800988799707),(60,109,-0.308206427198096),(60,110,0.866145817438276),(60,114,-0.275215918454543),(61,89,-0.248115482039857),(61,94,-0.831690420239875),(61,96,-0.393688772240364),(61,98,0.0123294778283029),(61,100,0.550431836909085),(61,102,-0.45692312387463),(61,103,-0.175695059053316),(61,114,-0.582964568010498),(61,115,-0.743247779778436),(62,93,0.0967436750389111),(62,95,-0.591082491531114),(62,107,-0.873317667165136),(62,109,-0.0914334543900876),(62,110,0.736808374279),(62,111,-0.924497207556383),(63,87,0.172521134067812),(63,90,-0.736472670674764),(63,93,0.501937925351726),(63,97,0.964232306894131),(63,100,0.551622058778649),(63,103,0.106601153599658),(63,104,0.347788933988464),(63,108,-0.224768822290719),(63,111,-0.867427594836268),(63,114,-0.95196386608478),(63,117,-0.377086703085421),(64,87,0.794457838679159),(64,94,-0.391308328501236),(64,99,-0.00466933194982757),(64,110,0.780968657490768),(64,112,-0.808069093905454),(64,116,-0.0633564256721702),(65,87,0.264198736533708),(65,88,0.405529953917051),(65,90,-0.544633320108646),(65,97,-0.371135593737602),(65,99,-0.907315286721396),(65,107,-0.943266090884121),(65,110,0.149937437055574),(65,111,-0.853511154515213),(65,114,-0.823206274605548),(65,116,0.749229407635731),(65,117,0.984374523148289),(66,85,0.229651783806879),(66,102,0.773918881801813),(66,105,-0.282692953276162),(66,108,-0.595233008819849),(66,111,-0.153050325022126),(66,115,0.179204687643056),(66,118,-0.173497726371044),(67,86,-0.314828943754387),(67,90,-0.590227973265786),(67,92,0.526963103122044),(67,104,0.91338847010712),(67,109,-0.482802819910276),(67,111,-0.824671163060396),(68,87,0.408001953184606),(68,88,-0.172368541520432),(68,90,0.293893246253853),(68,93,0.0858790856654561),(68,95,0.176671651356548),(68,96,-0.740348521378216),(68,97,-0.270638142033143),(68,103,0.803186132389294),(68,107,0.23566393017365),(68,112,-0.0932645649586474),(68,114,-0.361003448591571),(69,87,0.484542374950407),(69,88,0.946317941831721),(69,92,-0.584673604541154),(69,94,-0.661000396740623),(69,95,-0.22064882351146),(69,97,0.163670766319773),(69,108,0.262092959379864),(69,113,-0.76235236671041),(69,114,-0.813776055177465),(69,118,0.396862697225867),(70,85,0.308450575273904),(70,86,0.725150303659169),(70,87,-0.531510361033967),(70,90,-0.593951231421857),(70,96,-0.108371227149266),(70,97,0.675618762779626),(70,99,0.485976744895779),(70,105,0.552293465987121),(70,107,0.939786980803858),(70,109,-0.0285653248695334),(70,110,0.637409588915677),(70,111,0.953733939634388),(71,85,-0.290078432569353),(71,93,-0.335245826593829),(71,96,-0.423291726432081),(71,100,0.0244758445997497),(71,104,0.797784356212043),(71,106,-0.755882442701499),(71,111,0.0121768852809229),(71,113,-0.820703756828516),(72,94,-0.818720053712577),(72,96,-0.15729239783929),(72,99,-0.182622760704367),(72,110,-0.138157292397839),(72,112,-0.617572557756279),(72,114,-0.835779900509659),(72,115,0.827082125309),(72,116,-0.0478835413678396),(73,88,-0.184270760216071),(73,94,-0.86443678090762),(73,99,0.0806909390545366),(73,100,-0.0559404278695029),(73,106,-0.675344096194342),(73,110,-0.0661336100344859),(73,115,0.0754722739341411),(74,90,-0.888821069978942),(74,94,0.48033082064272),(74,99,-0.61101107821894),(74,102,0.318918424024171),(74,106,0.903408917508469),(74,107,-0.913266396069216),(74,110,0.239051484725486),(74,113,-0.698141422772912),(74,116,0.122257148960845),(75,85,0.528946806237983),(75,86,-0.107943968016602),(75,93,-0.108523819696646),(75,98,-0.893856624042482),(75,103,-0.0644856105227821),(75,105,-0.26563310647908),(75,111,-0.707998901333659),(75,117,-0.177465132602924),(76,86,0.00564592425305948),(76,89,-0.747947630237739),(76,92,0.795525986510819),(76,94,0.453627124851222),(76,99,0.778252510147404),(76,101,0.301217688528092),(76,103,-0.315286721396527),(76,106,0.25907162694174),(76,110,-0.564561906796472),(76,113,-0.730155339213233),(77,88,0.985564745017853),(77,91,-0.346964934232612),(77,93,-0.74474318674276),(77,98,0.87023529770806),(77,101,-0.0525223548081912),(77,102,-0.472060304574725),(77,103,0.963255714590899),(77,104,-0.185460982085635),(77,105,-0.669240394299142),(77,109,-0.800897244178594),(78,88,0.820215460676901),(78,93,0.991241187780389),(78,94,0.899472029786065),(78,101,0.946867275002289),(78,104,0.187841425824763),(78,110,0.301492355113376),(78,114,0.34675130466628),(78,116,0.630420850245674),(78,117,-0.151860103152562),(78,118,-0.301950132755516),(79,87,-0.408154545731986),(79,92,0.964232306894131),(79,94,0.577959532456435),(79,107,0.447370830408643),(79,108,0.153202917569506),(79,114,0.363353373821223),(79,118,-0.303048799096652),(80,87,0.184301278725547),(80,88,0.827906125064852),(80,91,-0.0803552354503006),(80,99,0.951780755027924),(80,101,-0.298867763298441),(80,107,-0.983428449354534),(80,113,-0.365520187994018),(81,85,-0.377941221350749),(81,86,0.889278847621082),(81,90,0.230231635486923),(81,93,-0.251869258705405),(81,96,0.730918301950133),(81,97,0.963499862666707),(81,106,-0.616901150547807),(81,107,0.965544602801599),(81,110,-0.14691610461745),(81,115,-0.662007507553331),(82,86,-0.633991515854366),(82,92,-0.960692159794916),(82,110,-0.065584276863918),(82,112,0.10528885769219),(83,87,0.84301278725547),(83,91,-0.579912717062899),(83,93,-0.17123935666982),(83,101,0.866756187627796),(83,103,0.130283516953032),(83,105,-0.339152195806757),(83,108,0.959471419415876),(84,85,-0.0700399792474136),(84,86,0.585863826410718),(84,89,0.838068788720359),(84,95,0.928281502731407),(84,99,0.111972411267434),(84,104,0.00744651631214331),(84,111,-0.295022431104465),(84,113,-0.394756920072024),(84,114,0.0101016266365551)]
orgname='BHNEAT_1_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()