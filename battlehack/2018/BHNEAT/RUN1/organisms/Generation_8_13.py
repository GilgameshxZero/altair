edge = [(0,85,0.385326700643941),(0,89,-0.80024109622486),(0,90,-1.36349070711386),(0,93,-1.80942716757714),(0,98,2.9690389721366),(0,101,0.897061067537462),(0,105,0.821924497207556),(0,108,-0.503402813806574),(0,113,-0.737296670430616),(0,114,-0.594027527695547),(0,117,3.03422650837733),(0,118,-2.47453230384228),(1,86,1.25302896206549),(1,92,-2.15497299111911),(1,98,0.971098971526231),(1,102,-1.73609118930631),(1,104,0.0419934690389722),(1,107,0.698965422528763),(1,108,-2.88895840327158),(1,109,-0.753517258217109),(1,113,-1.91271706289865),(2,87,-1.26236762596515),(2,88,-0.681020538956877),(2,100,-2.29158909878842),(2,106,0.555940427869503),(2,108,0.0951872310556352),(2,110,0.276787621692557),(2,113,2.3870357371746),(2,118,1.79850154118473),(3,89,0.265297402874844),(3,92,2.01683095797601),(3,97,-0.202490310373241),(3,99,3.31696523941771),(3,101,0.119342631305887),(3,103,-0.45554979094821),(3,105,-0.7999359111301),(3,108,-2.07829523606067),(3,109,-0.465010528885769),(3,111,-1.59295937986389),(3,112,-0.30321665089877),(3,116,-1.74936674092837),(4,90,-2.56231879634999),(4,91,2.0466628009888),(4,97,-3.07118442335276),(4,99,-2.27922910245064),(4,101,-1.92841883602405),(4,108,0.485244300668355),(4,113,-0.865077669606616),(4,118,-2.10373241370891),(5,86,-0.334925382244331),(5,87,-1.3371227149266),(5,89,1.37015900143437),(5,92,-0.118045594653157),(5,93,-0.0201574755088961),(5,99,0.709448530533769),(5,104,-1.23537400433363),(5,114,-1.42254402294992),(5,118,0.981658375804926),(6,89,-0.767433698538163),(6,92,1.62259285256508),(6,94,-0.971098971526231),(6,100,-1.40661336100345),(6,101,-0.581774346140934),(6,103,1.42822046571245),(6,107,0.185354167302469),(6,110,-1.11435285500656),(6,113,0.26349681081576),(7,85,1.5294351023896),(7,86,1.1021607104709),(7,90,-1.30758079775384),(7,95,3.28116702780236),(7,99,2.50950651570177),(7,100,0.0164647358623005),(7,104,0.19441816461684),(7,106,-0.1097903378399),(7,108,1.91059602649007),(7,112,0.30489516891995),(7,116,0.306176946317942),(8,92,0.284707174901578),(8,93,-1.61403241065706),(8,95,1.67159031952879),(8,99,-2.40728476821192),(8,106,-1.03227332377087),(8,107,-2.17430646687216),(8,115,-0.622760704367199),(8,116,-1.25656910916471),(8,118,-0.791573839533677),(9,85,-0.901913510544145),(9,87,1.46157719656972),(9,98,-2.16951506088443),(9,101,1.44998016296884),(9,103,0.968504898220771),(9,105,0.37183751945555),(9,106,1.01379436628315),(9,113,-2.13768425550096),(10,89,1.47347941526536),(10,96,1.33385723441267),(10,106,-0.384411145359661),(10,108,1.80664998321482),(10,111,-2.12871181371502),(10,112,-2.32947782830287),(10,114,1.63074129459517),(10,115,2.86266670735801),(10,116,1.84751426740318),(10,117,-2.16373180333872),(11,89,-0.654911954100162),(11,97,2.2357249671926),(11,105,-0.484282967619861),(11,112,-2.4621723075045),(11,115,-0.241401409955138),(12,92,-3.11772515030366),(12,93,0.303384502700888),(12,94,0.629367961668752),(12,97,-1.15616321298868),(12,98,1.61329996642964),(12,99,1.44770653401288),(12,108,-1.80492568742943),(12,116,-2.09469893490402),(13,86,2.97079378643147),(13,87,-2.63040559099094),(13,90,2.74173711355937),(13,99,-1.53712576677755),(13,102,-1.68782616657002),(13,104,-1.84154789880062),(13,113,-1.75131992553484),(13,116,-2.30364391003143),(13,118,0.0933103427228613),(14,90,-0.305063020722068),(14,93,-1.43479720450453),(14,95,-0.893963438825648),(14,102,-2.14421521652882),(14,104,-1.74565874202704),(14,106,2.11769463179418),(14,109,-1.72441785943175),(14,110,0.0841395306253243),(14,111,2.27550584429456),(15,85,0.295220801416059),(15,92,1.63316751609851),(15,99,-0.538010803552355),(15,101,-2.9338206122013),(15,104,0.773308511612293),(15,108,-0.492431409649953),(15,117,0.643543809320353),(16,86,-2.15399639881588),(16,87,-1.22945341349529),(16,88,1.89040803247169),(16,90,2.13435773796808),(16,91,0.879314554277169),(16,95,-2.85886715292825),(16,97,-0.612781151768548),(16,98,-1.22832422864467),(16,99,1.76830347605823),(16,101,1.97695852534562),(16,108,2.09080782494583),(16,110,-0.875331888790551),(17,89,1.16599017303995),(17,96,-0.117465742973113),(17,99,-3.1988586077456),(17,101,-1.79621265297403),(17,106,0.246772667622913),(17,107,-0.342143009735405),(17,109,0.85262611774041),(18,90,0.384884182256539),(18,91,1.12514114810633),(18,93,0.658604693746757),(18,99,-0.745414593951231),(18,102,-2.31775872066408),(18,103,-2.76586199530015),(18,104,2.76619769890439),(18,110,2.58549760429701),(18,111,0.843897824030274),(18,116,2.61162144840846),(18,117,1.67004913480026),(18,118,-1.14073610644856),(19,87,-2.4280373546556),(19,89,1.11929685354167),(19,93,0.262306588946196),(19,95,0.231788079470199),(19,101,3.18474379711295),(19,105,-1.18520157475509),(19,115,-1.27182836390271),(20,88,-0.614993743705557),(20,101,-0.289727469710379),(20,103,-1.68953520310068),(20,104,-2.54124576555681),(20,105,-0.745750297555467),(20,106,-1.67598498489334),(20,111,-2.25035859248634),(20,116,0.00944547868282108),(21,86,-1.43726920377209),(21,87,1.6839197973571),(21,94,1.67746513260292),(21,96,1.30489516891995),(21,101,-0.816415906247139),(21,102,2.23187963499863),(21,105,-1.10238959929197),(21,107,-1.83053071687979),(21,108,1.62324900051881),(22,86,0.290719321268349),(22,88,-1.85457930234687),(22,91,-2.52600177007355),(22,92,-1.87568285164953),(22,93,-1.61311685537278),(22,98,-0.191717276528214),(22,106,-0.146900845362713),(22,115,3.13444929349651),(22,117,1.00428785058138),(23,85,-0.0310373241370892),(23,86,-2.26433606982635),(23,88,0.416486098818934),(23,90,2.21178319650868),(23,97,2.63155003509629),(23,104,-2.89744254890591),(23,112,-0.811944944608905),(23,114,-1.30892361217078),(23,115,-1.45173497726371),(23,116,0.143574327829829),(24,89,-0.441648609881893),(24,90,-1.35689870906705),(24,91,0.000518814661091955),(24,101,2.57353434858242),(24,107,-0.161091952269051),(24,108,-0.734015930661946),(24,110,0.223685415204321),(24,112,-0.0239112521744439),(25,90,-1.76912747581408),(25,92,1.75865962706381),(25,94,1.42373424481948),(25,98,-1.65796380504776),(25,105,1.02545243690298),(25,108,0.601825006866665),(25,109,0.577959532456435),(25,115,-1.80129398480178),(26,85,0.292504654072695),(26,87,-2.47381511886959),(26,89,-1.71658986175115),(26,95,2.43726920377209),(26,98,1.87278359324931),(26,100,0.312662129581591),(26,101,-0.137516403698843),(26,102,2.27655873287149),(26,103,-0.295068208868679),(26,104,2.1626789147618),(26,107,-0.180455946531571),(26,109,2.58905301065096),(26,112,-0.399014252143925),(26,113,1.03611865596484),(26,117,-0.736320078127384),(27,85,-0.0412762840662861),(27,87,2.21634571367534),(27,94,0.214102603228858),(27,100,1.05024872585223),(27,102,-0.0220496230964079),(27,103,1.65440839869381),(27,104,1.38587603381451),(27,105,2.4905240028077),(27,108,-2.54539628284555),(27,110,-0.260261848811304),(27,114,-1.87049470503861),(28,87,2.37565233314005),(28,88,1.49070711386456),(28,97,0.784936063722648),(28,99,0.543519394512772),(28,104,0.336344492934965),(28,113,-2.00825525681326),(28,114,2.38920255134739),(29,88,-0.852488784447768),(29,91,-0.847849971007416),(29,102,-0.664326914273507),(29,105,-1.8759117404706),(29,116,0.672902615436262),(30,95,2.71687978759117),(30,96,-1.29212317270425),(30,99,-1.56370738853114),(30,101,0.791604358043153),(30,104,-2.36877040925321),(30,109,-1.45974608600116),(30,110,2.21895504623554),(30,114,1.08526871547594),(30,118,0.727820673238319),(31,85,-1.36838892788476),(31,92,0.645115512558367),(31,94,0.212393566698202),(31,96,1.691671498764),(31,99,-0.209814752647481),(31,103,-2.45492416150395),(31,107,0.614871669667653),(31,108,-0.828180791650136),(31,109,0.162083803827021),(31,111,-2.02018799401837),(31,112,-0.76448866237373),(31,117,-1.76317636646626),(32,86,0.678273873104037),(32,87,1.78875087740715),(32,89,1.66994232001709),(32,92,-1.0301980651265),(32,98,-1.56273079622791),(32,99,1.22571489608448),(32,104,-0.378780480361339),(32,106,0.74001281777398),(32,109,1.09181493575854),(32,116,-0.879650257881405),(32,118,-1.00083925901059),(33,96,-1.65779595324564),(33,98,0.49549851985229),(33,108,-2.07429731131931),(33,110,-0.641300698873867),(33,111,-1.08656575212867),(33,114,1.23708304086428),(34,85,-1.38517410809656),(34,90,0.149784844508194),(34,99,-1.97416608172857),(34,104,-1.40894802697836),(34,109,2.27863399151585),(35,86,1.09767448957793),(35,87,2.44442579424421),(35,97,-0.54193243202002),(35,98,1.78342539750359),(35,100,-0.715109714041566),(35,104,-0.136524552140873),(35,107,1.85287026581622),(35,109,0.274803918576617),(35,110,1.53201391644032),(35,112,-1.7299417096469),(36,85,-1.23586230048524),(36,87,-1.10388500625629),(36,90,-2.28011413922544),(36,91,-1.64319284646138),(36,104,0.880764183477279),(36,107,-0.844737083040864),(36,109,0.848948637348552),(36,112,1.27179784539323),(36,115,-1.53836176641133),(36,117,1.33948789941099),(36,118,3.09466841639454),(37,85,-1.36497085482345),(37,86,-1.61229285561693),(37,87,-0.0925473799859615),(37,91,2.03138828699606),(37,99,-2.15141758476516),(37,105,-1.59569078646199),(37,111,1.26691488387707),(37,112,2.78507339701529),(37,118,-1.22801904354991),(38,87,-1.23303933835871),(38,90,1.42321543015839),(38,103,2.06643879512925),(38,105,1.77149266029847),(38,106,0.0566118350779748),(38,111,-2.08978545487838),(38,115,-2.26834925382244),(39,87,-1.53689687795648),(39,89,2.08151493881039),(39,91,-2.86210211493271),(39,94,0.426999725333415),(39,97,-0.979461043122654),(39,98,0.2865230262154),(39,107,-1.03344828638569),(39,108,0.860286263618885),(39,109,1.32570879238258),(39,111,0.878536332285531),(39,113,-1.53250221259194),(39,116,1.10864589373455),(39,118,-3.3849909970397),(40,88,-0.462691122165593),(40,92,-0.704672383800775),(40,99,1.48736533707694),(40,104,0.440351573229164),(40,110,-1.68979461043123),(40,116,-2.3776818140202),(40,118,2.65045625171667),(41,88,1.76587725455489),(41,93,1.08685567796869),(41,96,-0.157734916226691),(41,97,-0.637455366679891),(41,100,2.60589922788171),(41,101,2.13336588641011),(41,104,0.885769219031343),(41,105,-2.29531235694449),(41,106,1.61142307809687),(41,107,1.2336344492935),(41,109,0.89181188390759),(41,110,2.65932187871944),(41,111,-1.68044068727683),(41,112,-2.30336924344615),(42,85,2.80750450148015),(42,86,-0.61314737388226),(42,87,-1.48406933805353),(42,99,-1.36608478041932),(42,100,2.08430738242744),(42,103,1.86994537186804),(42,109,-0.663975951414533),(42,113,-1.47187719351787),(43,85,0.734397412030396),(43,88,2.31238746299631),(43,89,-0.501937925351726),(43,93,-1.23749504074221),(43,97,2.30619220557268),(43,98,1.47750785851619),(43,101,1.09793389690848),(43,102,-1.09491256447035),(43,103,2.53372295297098),(43,105,1.26140629291665),(43,110,-2.30848109378338),(43,112,1.91177098910489),(43,114,-0.179738761558885),(43,116,0.8691671498764),(44,89,0.0572222052674947),(44,98,-0.64752647480697),(44,99,-0.295327616199225),(45,87,-1.86947233497116),(45,88,1.50030518509476),(45,90,-0.200872829371014),(45,91,1.91009247108371),(45,95,1.27265236365856),(45,98,1.82436597796564),(45,108,-0.448423718985565),(45,109,1.84466078676717),(45,112,-1.27561265907773),(45,115,-0.768395031586657),(46,85,-1.27459028901028),(46,89,0.712668233283486),(46,91,2.35476241340373),(46,94,1.96426282540361),(46,97,1.57695242164373),(46,100,0.999877925962096),(46,101,2.10213019196142),(46,108,1.83256019775994),(46,112,-0.375789666432691),(47,86,1.68816187017426),(47,91,0.810327463606678),(47,92,-2.40723899044771),(47,94,-0.860515152439955),(47,95,1.31687368388928),(47,100,1.64877773369549),(47,101,2.57347331156346),(47,104,0.423749504074221),(47,105,1.98788415173803),(47,108,-1.42872402111881),(47,112,1.8348338267159),(47,114,2.3223822748497),(47,118,2.99102755821406),(48,86,-0.768272957548753),(48,91,-0.354915005951109),(48,98,1.96212652974029),(48,99,2.22980437635426),(48,100,0.386837366863002),(48,103,-1.88889736625263),(48,105,0.753868221076083),(48,106,-1.40525528733177),(48,111,1.74091311380352),(48,115,1.81348612933744),(49,87,1.17499313333537),(49,89,-0.565767387920774),(49,93,1.15684987945189),(49,94,2.04428235724967),(49,95,-0.19571520126957),(49,102,-0.0724662007507554),(49,113,-1.14987640003662),(49,114,2.8059175389874),(50,89,2.73294778283029),(50,105,-0.447843867305521),(50,107,-3.01016266365551),(51,87,0.603106784264656),(51,92,-0.0369731742301706),(51,97,0.0670949430829797),(51,98,0.755897701956237),(51,103,0.62579729606006),(51,106,0.976485488448744),(51,112,0.179906613361003),(51,118,1.83527634510331),(52,89,0.417310098574786),(52,97,1.3710135196997),(52,106,-0.363475447859127),(52,110,-2.72217474898526),(52,111,2.08116397595141),(52,113,1.98257393108921),(52,114,1.20259712515641),(52,118,-2.20590838343455),(53,88,1.86036255989257),(53,90,0.250099185155797),(53,92,0.0655995361186559),(53,94,3.10396130252998),(53,104,-0.638096255378887),(53,105,1.96850489822077),(53,109,-0.19159520249031),(54,85,1.86152226325266),(54,91,-0.797753837702567),(54,94,0.939344462416456),(54,96,-1.73306985686819),(54,111,-1.40606402783288),(54,112,-1.35203100680563),(54,113,-0.0893887142551958),(54,118,-1.53132724997711),(55,87,0.102710043641469),(55,95,-2.21076082644124),(55,107,-1.1626789147618),(55,110,1.65791802728355),(55,117,0.0885189367351299),(56,107,-2.79569383831294),(56,111,1.16418958098087),(56,113,-0.740119632557146),(56,114,-2.18770409253212),(57,87,1.16345713675344),(57,90,1.30408642841884),(57,91,2.04733420819727),(57,92,2.09146397289956),(57,93,0.723227637562181),(57,94,-0.3932615131077),(57,95,2.25026703695791),(57,96,-2.29525131992553),(57,100,1.61049226355785),(57,102,-0.833536790063173),(57,103,0.365764336069826),(57,115,-1.4973906674398),(58,86,2.69586779381695),(58,87,-1.79392376476333),(58,89,-0.497589037751396),(58,90,-0.270165105136265),(58,95,-3.21155430768761),(58,96,0.621967223120823),(58,101,0.62800988799707),(58,103,-0.501556443983276),(58,109,-0.705893124179815),(58,110,1.88998077333903),(58,113,1.78232673116245),(58,114,-0.660039063692129),(58,115,-2.42231513412885),(59,85,-0.925443281350139),(59,86,1.59436323129978),(59,90,2.80269783623768),(59,91,2.11821344645527),(59,93,0.561738944669942),(59,97,-1.27378154850917),(59,98,-1.15501876888333),(59,100,1.7003845332194),(59,102,1.19879757072665),(59,112,0.721381267738884),(59,114,1.83298745689261),(60,85,-1.12173833429975),(60,87,1.57026886806848),(60,90,0.0577867976928006),(60,91,0.823084200567644),(60,96,-1.15271462141789),(60,100,-1.40670491653188),(60,101,-3.25135044404431),(60,105,-1.48663289284951),(60,107,-1.40601825006867),(60,109,-2.18729209265419),(60,110,-1.62036500137333),(60,114,1.41894283883175),(61,89,0.433713797418134),(61,94,0.903942991424299),(61,96,-0.567278054139836),(61,98,-0.470061342204047),(61,100,0.229422894985809),(61,102,0.833079012421033),(61,103,0.513397625659963),(61,114,1.08105716116825),(61,115,-0.482192449720756),(62,93,-2.62355418561357),(62,95,-0.0460066530350658),(62,107,-2.52418591875973),(62,109,-0.274101992858669),(62,110,-1.56422620319224),(62,111,-1.94889675588244),(63,87,-0.889965514084292),(63,90,-1.4350260933256),(63,93,2.00796533097324),(63,97,2.38268684957427),(63,100,2.52552873317667),(63,103,-0.133304849391156),(63,104,-0.406460768456069),(63,108,1.48409985656301),(63,111,0.843668935209204),(63,114,0.383114108706931),(63,117,1.01469466231269),(64,87,1.01191747795038),(64,94,-1.78623310037538),(64,99,2.08165227210303),(64,110,1.55169835505234),(64,112,1.11526841029084),(64,116,2.03189184240242),(65,87,0.837244788964507),(65,88,-2.34492019409772),(65,90,1.73413800469985),(65,97,1.24932096316416),(65,99,-0.661015655995361),(65,107,-1.87142551957762),(65,110,-3.37566759239479),(65,111,1.21140171514023),(65,114,-2.81348612933744),(65,116,1.70116275521104),(65,117,1.51684621723075),(66,85,0.0842005676442762),(66,102,1.16479995117038),(66,105,0.153386028626362),(66,108,0.673940244758446),(66,111,0.852565080721458),(66,115,-1.43247779778436),(66,118,0.281441694387646),(67,86,1.44891201513718),(67,90,2.11133152256844),(67,92,-0.0504165776543474),(67,104,2.52085940122684),(67,109,-0.56091494491409),(67,111,-0.378109073152867),(68,87,-1.38598284859767),(68,88,0.759392071291238),(68,90,-0.552674947355571),(68,93,1.92045350505081),(68,95,0.651051362651448),(68,96,-1.44720297860653),(68,97,-0.611865596484268),(68,103,2.48802148503067),(68,107,0.9774315622425),(68,112,-1.16809595019379),(68,114,0.725516525772881),(69,87,1.60779137546922),(69,88,-1.07495345927305),(69,92,2.36098818933683),(69,94,-0.795892208624531),(69,95,-0.0788140507217627),(69,97,-1.71414838099307),(69,108,-0.542252876369518),(69,113,-0.82448805200354),(69,114,-0.58104190191351),(69,118,0.990844447157201),(70,85,-0.195318460646382),(70,86,-2.40461439863277),(70,87,-0.875774407177953),(70,90,0.739188818018128),(70,96,-0.00350962858973968),(70,97,-1.74292733542894),(70,99,0.743186742759484),(70,105,-2.84597308267464),(70,107,0.750511185033723),(70,109,-1.29763176366466),(70,110,2.40447706534013),(70,111,-2.44322031311991),(71,85,0.136051515243995),(71,93,-0.46134830774865),(71,96,-3.01460310678426),(71,100,0.604312265388958),(71,104,2.7645954771569),(71,106,-1.4432966093936),(71,111,-2.40104373302408),(71,113,-2.26905117954039),(72,94,0.951902829065828),(72,96,-1.14725180822169),(72,99,0.279457991271706),(72,110,-0.184636982329783),(72,112,0.448133793145543),(72,114,-1.12430188909574),(72,115,1.95196386608478),(72,116,1.00976592303232),(73,88,0.847773674733726),(73,94,1.85399945066683),(73,99,-2.13675344096194),(73,100,0.789300210577715),(73,106,-0.991393780327769),(73,110,2.0844904934843),(73,115,0.933637501144444),(74,90,0.257820368053224),(74,94,1.44029053621021),(74,99,2.22128971221046),(74,102,-0.518723105563524),(74,106,0.95577867976928),(74,107,-0.460722678304392),(74,110,-0.425428022095401),(74,113,-0.740348521378216),(74,116,-0.665898617511521),(75,85,-0.140415662099063),(75,86,-0.335627307962279),(75,93,0.363277077547532),(75,98,0.600970488601337),(75,103,-1.56933805352947),(75,105,-1.0329294717246),(75,111,2.2949156163213),(75,117,1.62456129642628),(76,86,1.49378948332163),(76,89,-1.35895870845668),(76,92,-1.96375926999725),(76,94,0.744651631214332),(76,99,-1.94703512680441),(76,101,-0.343333231604968),(76,103,-2.38438062685018),(76,106,-0.436735129856258),(76,110,1.55278176213874),(76,113,0.151066621906186),(77,88,-0.644367809076205),(77,91,2.25437177648244),(77,93,-1.34464552751244),(77,98,0.0988494521927549),(77,101,1.10286263618885),(77,102,-0.957701345866268),(77,103,-0.598391674550615),(77,104,2.13560899685659),(77,105,-2.46505630664998),(77,109,-1.06216620380261),(78,88,-0.504226813562426),(78,93,0.84690389721366),(78,94,0.521897030549028),(78,101,-0.601947080904569),(78,104,0.534882656331065),(78,110,0.300714133121738),(78,114,0.601138340403455),(78,116,0.718176824243904),(78,117,-0.962950529496139),(78,118,0.623935666982025),(79,87,0.894375438703574),(79,92,0.752281258583331),(79,94,0.414334543900876),(79,107,-0.170079653309732),(79,108,0.113315225684378),(79,114,0.841883602404859),(79,118,-1.09414960173345),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,-0.367961668752098),(80,99,0.391018402661214),(80,101,0.298043763542589),(80,107,0.89150669881283),(80,113,0.674840540787988),(81,85,1.03488265633106),(81,86,-2.14033936582537),(81,90,-0.52645954771569),(81,93,-2.70097964415418),(81,96,1.91511276589251),(81,97,-0.780907620471816),(81,106,-0.228766747032075),(81,107,-1.41712698751793),(81,110,0.926145207068087),(81,115,-2.41898861659597),(82,86,-0.569338053529466),(82,92,-0.445631275368511),(82,110,-2.70316171758171),(82,112,-1.24634540849025),(83,87,1.30108035523545),(83,91,1.18642231513413),(83,93,0.0527665028839991),(83,101,-2.04446546830653),(83,103,-0.950117496261483),(83,105,3.08957182531205),(83,108,0.032090212714011),(84,85,-0.422864467299417),(84,86,0.152500991851558),(84,89,-0.228339487899411),(84,95,-1.27938169499802),(84,99,1.30687887203589),(84,104,0.336771752067629),(84,111,-0.139866328928495),(84,113,-0.465834528641621),(84,114,0.388668477431562),(10,119,1),(119,109,-0.477858821375164),(58,120,1.26972258674886),(120,118,-1.86284981841487)]
orgname='BHNEAT_8_13'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()