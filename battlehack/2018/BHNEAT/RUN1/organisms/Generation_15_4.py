edge = [(0,85,-1.09596545304727),(0,89,-2.50874355296487),(0,90,0.769981994079409),(0,93,-2.71758171330912),(0,98,-1.77274391918699),(0,101,-0.990279854731895),(0,105,0.397106845301675),(0,108,-1.05601672414319),(0,113,2.69481490524003),(0,114,0.268410290841395),(0,117,1.20357371745964),(0,118,-1.61291848506119),(1,86,-0.34301278725547),(1,92,0.189077425458541),(1,98,0.0205236976226082),(1,102,-1.34484389782403),(1,104,-0.871349223303934),(1,107,2.15109714041566),(1,108,-0.971861934263131),(1,109,-1.57332071901608),(1,113,0.124088259529405),(2,87,2.18080690939055),(2,88,-0.403530991546373),(2,100,-0.317270424512467),(2,106,-2.38283944212165),(2,108,0.0836664937284463),(2,110,-0.0875270851771599),(2,113,0.451857051301614),(2,118,0.0891140476699118),(3,89,1.49496444593646),(3,92,2.90011291848506),(3,97,2.1217993713187),(3,99,3.0417645802179),(3,101,-0.681859797967467),(3,103,-1.96957304605243),(3,105,1.70545060579241),(3,108,-0.0627765739921262),(3,109,-1.88833277382733),(3,111,1.31949827570421),(3,112,-1.71332438123722),(3,116,0.691702017273476),(4,90,1.42194891201514),(4,91,2.57440412610248),(4,97,1.01463362529374),(4,99,0.032624286629841),(4,101,-0.511520737327189),(4,108,1.82660908841212),(4,113,-1.9646595660268),(4,118,-1.38395336771752),(5,86,-2.12590411084323),(5,87,-1.84922330393384),(5,89,2.42342905972472),(5,92,-0.983703115939817),(5,93,-0.720557267983032),(5,99,-0.454756309701834),(5,104,-1.81981872005371),(5,114,0.716727195043794),(5,118,0.921231727042451),(6,89,-0.219397564622944),(6,92,-0.741294595171972),(6,94,-0.10689107943968),(6,100,-1.69585253456221),(6,101,1.64394054994354),(6,103,0.703024384289071),(6,107,2.99511703848384),(6,110,-0.522675252540666),(6,113,1.49415570543535),(7,85,0.364391003143406),(7,86,0.0491195410016175),(7,90,0.723197119052705),(7,95,1.66772972808008),(7,99,-0.60719626453444),(7,100,1.7184972685934),(7,104,0.879100924710837),(7,106,1.16168706320383),(7,108,-1.44064149906919),(7,112,0.839503158665731),(7,116,-0.801034577471236),(8,92,-1.73215430158391),(8,93,-0.67864009521775),(8,95,0.695684682760094),(8,99,0.161381878109073),(8,106,0.41758476516007),(8,107,-0.0240485854670858),(8,115,-1.47293008209479),(8,116,-0.00134281441694384),(8,118,1.45756401257363),(9,85,-0.207388531144139),(9,87,2.29056672872097),(9,98,2.00358592486343),(9,101,2.27851191747795),(9,103,-1.26812036500137),(9,105,-2.65857417523728),(9,106,0.639439069795831),(9,113,2.12576677755058),(10,89,-0.28690450758385),(10,96,2.21759697256386),(10,106,0.134556108279672),(10,108,2.09692678609577),(10,109,1.85650196844386),(10,111,-2.81072420422987),(10,112,-1.40087588122196),(10,114,2.74077578051088),(10,115,-0.00950651570177308),(10,116,-1.32992034669027),(10,117,-1.68329416791284),(11,89,-0.45432905056917),(11,97,2.17835016937773),(11,105,1.2954802087466),(11,112,-0.682241279335917),(11,115,-1.60016174810022),(12,92,-1.03277687917722),(12,93,0.425534836878567),(12,94,-0.0389873958555864),(12,97,0.246314889980773),(12,98,-0.571596423230689),(12,99,-0.63594470046083),(12,108,-1.24178289132359),(12,116,2.24472792748802),(13,86,-1.31209753715629),(13,87,-1.76267281105991),(13,90,0.737205114902188),(13,99,2.00080874050111),(13,102,-0.370189519943846),(13,104,2.16476943266091),(13,113,1.28771324808496),(13,116,-0.239371929074984),(13,118,1.92938016907254),(14,90,0.611941892757958),(14,93,1.24068422498245),(14,95,0.196768089846492),(14,102,-1.31916257209998),(14,104,0.135425885799738),(14,106,-1.00038148136845),(14,109,1.64502395702994),(14,110,-1.59903256324961),(14,111,2.29999694814905),(15,85,0.291405987731559),(15,92,0.0996124149296549),(15,99,-1.93507187108982),(15,101,-1.67157506027406),(15,104,-0.617694631794183),(15,108,1.54643391216773),(15,117,0.065828424939726),(16,86,-0.0952940458388012),(16,87,1.15993224890896),(16,88,-0.992522965178381),(16,90,0.229163487655263),(16,91,-2.02330088198492),(16,95,-1.53230384228034),(16,97,-2.98475600451674),(16,98,0.551210058900723),(16,99,1.98414563432722),(16,101,-0.837916196172979),(16,108,1.74922940763573),(16,110,2.27417828913236),(17,89,-1.03057954649495),(17,96,-0.106784264656514),(17,99,-0.446699423200171),(17,101,0.50419629505295),(17,106,-1.25450910977508),(17,107,1.08131656849879),(17,109,1.83173619800409),(18,90,3.05937376018555),(18,91,-2.41607409894101),(18,93,-0.845133823664052),(18,99,-0.859172338023011),(18,102,1.06956694235054),(18,103,-2.7296212652974),(18,104,0.621051667836543),(18,110,2.33222449415571),(18,111,-0.948759422589801),(18,116,-2.42477187414167),(18,117,2.6052125614185),(18,118,-0.493362224188971),(19,87,-0.922406689657277),(19,89,0.660374767296365),(19,93,-0.599307229834895),(19,95,-3.18819238868374),(19,101,2.42155217139195),(19,105,-2.75995666371654),(19,115,1.31255531479843),(20,88,-1.3649098178045),(20,101,1.21208838160344),(20,103,-0.299111911374248),(20,104,-0.595385601367229),(20,105,0.00973540452284311),(20,106,1.55951109347819),(20,111,-2.66174810022278),(20,116,1.01976073488571),(21,86,-0.0196081423383282),(21,87,0.486831263161107),(21,94,1.91198461867122),(21,96,-0.165410321359905),(21,101,2.16280098879971),(21,102,-2.0138554033021),(21,105,-1.66820276497696),(21,107,1.81096835230567),(21,108,-1.6710715048677),(22,86,0.131260109256264),(22,88,-1.5730460524308),(22,91,-1.11651966917936),(22,92,1.74924466689047),(22,93,0.122547074800867),(22,98,-2.22379222998749),(22,106,-2.48255867183447),(22,115,0.905377361369671),(22,117,-1.70026245918149),(23,85,0.828135013885922),(23,86,-0.656086916714988),(23,88,2.74542985320597),(23,90,-1.73410748619037),(23,97,2.73119296853542),(23,104,-0.829416791283914),(23,112,0.447782830286569),(23,114,-1.01228370006409),(23,115,-1.44108401745659),(23,116,1.19981994079409),(24,89,-1.44654683065279),(24,90,-3.30611590929899),(24,91,1.46914578691977),(24,101,0.35277871028779),(24,107,-1.67648854029969),(24,108,1.8397320474868),(24,110,-0.456495864741966),(24,112,0.861507003997925),(25,90,-0.202154606769005),(25,92,-1.29013946958831),(25,94,-2.16417432172613),(25,98,1.79261146885586),(25,105,0.854396191290017),(25,108,1.447874385815),(25,109,-0.852610858485672),(25,115,-0.63502914517655),(26,85,-0.95692312387463),(26,87,-0.688650166325877),(26,89,1.45443586535234),(26,95,1.30312509537034),(26,98,-0.978255561998352),(26,100,-0.625324259163182),(26,101,1.43551438947722),(26,102,-1.81966612750633),(26,103,-1.838847010712),(26,104,3.28659932248909),(26,107,2.2031159398175),(26,109,0.782280953398236),(26,112,0.232413708914457),(26,113,0.685079500717185),(26,117,-1.00053407391583),(27,85,0.639820551164281),(27,87,0.121250038148137),(27,94,0.43885616626484),(27,100,0.660603656117435),(27,102,1.34144108401746),(27,103,-1.54095583971679),(27,104,0.136600848414564),(27,105,0.903256324961089),(27,108,-1.4912869655446),(27,110,-0.222495193334758),(27,114,-1.29583117160558),(28,87,-0.945753349406415),(28,88,0.492141483809931),(28,97,0.205618457594531),(28,99,0.445402386547441),(28,104,-0.593096713156529),(28,113,-0.161351359599597),(28,114,1.59686574907682),(29,88,-0.72103030487991),(29,91,0.5443739127781),(29,102,-2.06085390789514),(29,105,-0.536454359569079),(29,116,-1.29177220984527),(30,95,0.533356730857265),(30,96,-1.87891781365398),(30,99,-0.835001678518021),(30,101,2.0286721396527),(30,104,-0.269859920041505),(30,109,1.67630542924284),(30,110,2.57121494186224),(30,114,-0.0206457716605121),(30,118,1.95374919888913),(31,85,1.11940366832484),(31,92,-0.943296609393597),(31,94,-2.66077150791955),(31,96,-0.222449415570544),(31,99,-0.558107242042299),(31,103,-1.09936826685385),(31,107,0.365077669606616),(31,108,2.5841700491348),(31,109,2.92332224494156),(31,111,0.484008301034577),(31,112,-0.592745750297555),(31,117,-1.55946531571398),(32,86,-1.15001373332926),(32,87,0.259086886196478),(32,89,-1.52282784508805),(32,92,1.63261818292795),(32,98,-0.273552659688101),(32,99,-0.358195745719779),(32,104,3.38338877529221),(32,106,0.904812768944365),(32,109,-0.964308603167821),(32,116,0.623920407727287),(32,118,-0.597155674916837),(33,96,2.14712973418378),(33,98,1.46415601062044),(33,108,-2.0538499099704),(33,110,1.02145451216163),(33,111,1.85366374706259),(33,114,1.64748069704276),(34,85,-0.514099551377911),(34,90,-1.94973601489303),(34,99,1.48411511581774),(34,104,0.499282815027314),(34,109,1.95750297555467),(35,86,-1.84797204504532),(35,87,2.20630512405774),(35,97,0.414212469862972),(35,98,-0.506988738670003),(35,100,0.972777489547411),(35,104,3.02114932706687),(35,107,1.54325998718223),(35,109,-2.25945310831019),(35,110,1.37217322305979),(35,112,-1.28406628620258),(36,85,-0.139027069917905),(36,87,-1.01728873561815),(36,90,-2.09166234321116),(36,91,-0.494399853511155),(36,104,1.03427228614154),(36,107,3.12205877864925),(36,109,-0.352259895626698),(36,112,0.706213568529313),(36,115,2.56698812829981),(36,117,-0.0518814661091952),(36,118,-0.305780205694754),(37,85,-1.15149388103885),(37,86,-1.62511062959685),(37,87,-0.188756981109043),(37,91,1.02221747489853),(37,99,0.700460829493088),(37,105,0.491851557969909),(37,111,1.66661580248421),(37,112,-1.50643940549944),(37,118,0.783333841975158),(38,87,0.564745017853328),(38,90,0.613711966307566),(38,103,-1.91248817407758),(38,105,1.91625720999786),(38,106,0.465941343424787),(38,111,1.62454603717154),(38,115,-2.42170476393933),(39,87,1.90208136234626),(39,89,0.553224280526139),(39,91,-0.54643391216773),(39,94,1.17221594897305),(39,97,-1.72566911832026),(39,98,1.08122501297037),(39,107,-2.5171056245613),(39,108,2.9820093386639),(39,109,1.16235847041231),(39,111,1.973616748558),(39,113,1.23827326273385),(39,116,-0.9789574877163),(39,118,-2.50071718497269),(40,88,-2.25692007202368),(40,92,-0.368358409375286),(40,99,1.55755790887173),(40,104,-1.16553239539781),(40,110,2.15637684255501),(40,116,-0.427182836390271),(40,118,1.31389812921537),(41,88,-0.901974547563097),(41,93,0.283974730674154),(41,96,-1.55464339121677),(41,97,1.31504257332072),(41,100,0.163884395886105),(41,101,0.356578264717551),(41,104,-0.794351023895993),(41,105,-1.53791924802393),(41,106,1.77935117648854),(41,107,1.4089632862331),(41,109,0.827738273262734),(41,110,-1.66949980162969),(41,111,-0.861781670583209),(41,112,1.26935636463515),(42,85,2.45616016113773),(42,86,-2.41465498825037),(42,87,-0.705389568773461),(42,99,0.282753990295114),(42,100,1.57086397900327),(42,103,-1.06379894405957),(42,109,-1.77408673360393),(42,113,-1.16508987701041),(43,85,2.27703176976836),(43,88,1.59253212073122),(43,89,1.54303109836116),(43,93,-0.141346476638081),(43,97,-1.75261696218757),(43,98,-0.559831537827692),(43,101,0.768028809472945),(43,102,0.246894741660817),(43,103,1.03877376628925),(43,105,0.514313180944243),(43,110,-1.66455580309458),(43,112,-0.118778038880581),(43,114,0.358073671681875),(43,116,2.09082308420057),(44,89,-1.03228858302561),(44,98,2.50465407269509),(44,99,-1.53682058168279),(45,87,-0.185842463454085),(45,88,-1.6854457228309),(45,90,-2.77030243842891),(45,91,2.97381511886959),(45,95,-0.902478102969451),(45,98,0.471022675252541),(45,108,-2.33947264015625),(45,109,-2.33314004943999),(45,112,-1.95204016235847),(45,115,1.53857539597766),(46,85,-1.04510635700552),(46,89,2.66890469069491),(46,91,-0.621814630573443),(46,94,-2.65478988006226),(46,97,0.337900936918241),(46,100,-2.19464705343791),(46,101,1.39875484481338),(46,108,-0.592516861476486),(46,112,-0.541276284066286),(47,86,-2.75281533249916),(47,91,2.52043214209418),(47,92,-0.690496536149175),(47,94,0.206564531388287),(47,95,-0.210959196752831),(47,100,0.259727774895474),(47,101,-0.355006561479537),(47,104,2.00621051667837),(47,105,2.31641590624714),(47,108,2.55355998413037),(47,112,-0.518753624073),(47,114,-2.20130008850368),(47,118,-1.69904171880245),(48,86,2.57098605304117),(48,91,-0.591357158116398),(48,98,0.253547776726585),(48,99,1.82050538651692),(48,100,2.91895809808649),(48,103,-0.672170171208838),(48,105,-2.0211645863216),(48,106,-2.2452009643849),(48,111,-0.986526078066347),(48,115,-0.751136814477981),(49,87,1.10541093173009),(49,89,0.192388683736686),(49,93,0.309732352671896),(49,94,-1.43070772423475),(49,95,2.81936094241157),(49,102,0.499221778008362),(49,113,0.0539262062440871),(49,114,-1.72211371196631),(50,89,2.67145298623615),(50,105,2.46910000915555),(50,107,-2.40528580584124),(51,87,-1.23372600482192),(51,92,0.0029297769096957),(51,97,-0.563264870143742),(51,98,-2.7837916196173),(51,103,-0.263969847712638),(51,106,0.318613238929411),(51,112,-1.42178106021302),(51,118,-2.13728751487777),(52,89,-1.84072389904477),(52,97,-0.473830378124332),(52,106,-1.26567888424329),(52,110,-1.16740928373058),(52,111,0.591753898739586),(52,113,0.914120914334544),(52,114,0.992919705801569),(52,118,1.23772392956328),(53,88,0.123935666982025),(53,90,-1.53004547257912),(53,92,-2.66695150608844),(53,94,0.507827997680593),(53,104,-2.90501113925596),(53,105,0.277855769524216),(53,109,-2.10022278511917),(54,85,-0.892391735587634),(54,91,1.74794763023774),(54,94,0.768517105624561),(54,96,2.40897854548784),(54,111,-0.578554643391217),(54,112,-1.71459089938047),(54,113,-0.116550187688833),(54,118,1.8720969267861),(55,87,0.219138157292398),(55,95,0.632496108890042),(55,107,0.367061372722556),(55,110,0.494323557237465),(55,117,0.107898190252388),(56,107,-1.70358897671438),(56,111,1.01785332804346),(56,113,0.764900662251656),(56,114,-1.69476912747581),(57,87,1.89864803003021),(57,90,0.681356242561113),(57,91,-1.48678548539689),(57,92,1.87874996185186),(57,93,-2.00772118289743),(57,94,0.241523483993042),(57,95,-2.01034577471236),(57,96,-3.2233954893643),(57,100,0.860957670827357),(57,102,-1.90847499008148),(57,103,-2.21472823267312),(57,115,0.343562120426038),(58,86,1.94343394268624),(58,87,0.364803003021332),(58,89,-2.36312448500015),(58,90,2.75269325846126),(58,95,-1.86674092837306),(58,96,0.294351023895993),(58,101,-0.814828943754387),(58,103,0.41407513657033),(58,109,-0.0395977660451064),(58,110,3.04899746696371),(58,113,0.173009430219428),(58,114,2.06648457289346),(58,115,-0.722907193212683),(58,118,-0.559480574968719),(59,85,-2.32593768120365),(59,86,0.720847193823054),(59,90,0.890865810113834),(59,91,0.746330149235511),(59,93,0.172170171208838),(59,97,-0.733680227057711),(59,98,1.84479812005982),(59,100,1.2307046723838),(59,102,1.31751457258827),(59,112,0.786004211554308),(59,114,-1.32682271797845),(60,85,-1.98190252388073),(60,87,-1.31266212958159),(60,90,1.74080629902036),(60,91,-1.8900875881222),(60,96,-0.847651600695822),(60,100,-1.00271614734336),(60,101,0.887722403637806),(60,105,-2.99974059266945),(60,107,1.91782891323588),(60,109,1.85198522904141),(60,110,-0.388714255195776),(60,114,2.08120975371563),(61,89,0.468733787041841),(61,94,-1.14194158757286),(61,96,-0.831858272041993),(61,98,-0.65103610339671),(61,100,1.25759147923215),(61,102,-0.0639362773522141),(61,103,-0.683156834620197),(61,114,-0.840998565630055),(61,115,-1.9754631183813),(62,93,-0.551499984740745),(62,95,-2.54478591265603),(62,107,1.72437208166753),(62,109,1.01477095858638),(62,110,2.56439405499435),(62,111,-1.92715231788079),(63,87,1.25334940641499),(63,90,2.08948026978362),(63,93,1.3472396008179),(63,97,-1.29070406201361),(63,100,-1.17491683706168),(63,103,-1.0490737632374),(63,104,1.16035950804163),(63,108,-1.19283120212409),(63,111,-0.495635853144932),(63,114,-0.760795922727134),(63,117,0.580721457564013),(64,87,2.28926969206824),(64,94,0.156041138950774),(64,99,1.68506424146245),(64,110,2.37951292458876),(64,112,1.68489638966033),(64,116,-1.3615375225074),(65,87,2.16190069277016),(65,88,-1.65977965636158),(65,90,-0.265511032441176),(65,97,-1.07397686696982),(65,99,-0.168675801873836),(65,107,0.208334604937895),(65,110,0.689626758629108),(65,111,1.24698629718925),(65,114,-1.77883236182745),(65,116,1.80858790856655),(65,117,1.43955809198279),(66,85,2.46639912106693),(66,102,1.64256721701712),(66,105,0.779595324564348),(66,108,-0.537186803796503),(66,111,-1.13673818170721),(66,115,-1.64313180944243),(66,118,-1.50297555467391),(67,86,-1.18521683400983),(67,90,2.17268898586993),(67,92,-1.71764275032807),(67,104,0.82311471907712),(67,109,-1.50135807367168),(67,111,-0.23802911465804),(68,87,2.16423535874508),(68,88,0.759392071291238),(68,90,1.4473555711539),(68,93,-0.675923947874386),(68,95,0.987746818445387),(68,96,1.0945310831019),(68,97,-0.247123630481887),(68,103,-1.05845820490127),(68,107,-0.140690328684347),(68,112,0.810571611682485),(68,114,0.725516525772881),(69,87,-1.41024506363109),(69,88,-1.80358287301248),(69,92,-1.61091952269051),(69,94,1.57226783043916),(69,95,2.82471694082461),(69,97,1.59160130619221),(69,108,0.212546159245583),(69,113,0.819391460921049),(69,114,0.725806451612903),(69,118,0.77729117709891),(70,85,-1.83942686239204),(70,86,-1.2713858455153),(70,87,-1.20888393810846),(70,90,1.29638050477615),(70,96,2.45529038361766),(70,97,1.14000366222114),(70,99,1.29123813592944),(70,105,1.27517014069033),(70,107,2.46633808404798),(70,109,2.06855983153783),(70,110,1.07676931058687),(70,111,-0.274117252113407),(71,85,-1.47051911984619),(71,93,1.66197698904386),(71,96,1.36648152104251),(71,100,-0.784813989684744),(71,104,0.790429395428327),(71,106,-0.206213568529313),(71,111,0.767967772453993),(71,113,1.09836115604114),(72,94,0.951902829065828),(72,96,-2.46534623249001),(72,99,-1.09120456556902),(72,110,-0.528122806482131),(72,112,2.30152287362285),(72,114,0.623676259651479),(72,115,-1.35502182073428),(72,116,0.0104373302407911),(73,88,1.65727713858455),(73,94,-1.38822595904416),(73,99,-2.11432233649709),(73,100,0.0804315317239906),(73,106,-2.08555864131596),(73,110,-1.41911069063387),(73,115,-1.5378276924955),(74,90,1.56050294503616),(74,94,-0.804193243202002),(74,99,0.570543534653768),(74,102,-0.482253486739708),(74,106,1.05716116824854),(74,107,-0.636844996490371),(74,110,-0.617297891170995),(74,113,-1.9504074221015),(74,116,-0.928510391552477),(75,85,-0.140415662099063),(75,86,-0.396664326914273),(75,93,-0.858760338145085),(75,98,0.526200140385144),(75,103,1.54815820795312),(75,105,-0.488555558946501),(75,111,0.655735953856014),(75,117,-1.4039429914243),(76,86,-2.47781304361095),(76,89,-0.988921781060213),(76,92,-0.853724784081545),(76,94,0.909146397289956),(76,99,-0.629596850489822),(76,101,0.21591845454268),(76,103,-1.23558763389996),(76,106,0.748832667012543),(76,110,-0.633472701193274),(76,113,-1.00886562700278),(77,88,-0.0138554033021028),(77,91,0.952452162236396),(77,93,-2.21968749046297),(77,98,2.25048066652425),(77,101,-0.413861507003998),(77,102,-1.82355723746452),(77,103,-0.566728720969268),(77,104,-1.62083803827021),(77,105,-1.17656483657338),(77,109,1.98091067232276),(78,88,-1.06714072084719),(78,93,0.841639454329051),(78,94,-0.253578295236061),(78,101,0.460753196813868),(78,104,-0.124668111209449),(78,110,0.906430249946593),(78,114,-1.67867061372723),(78,116,-0.900524918362987),(78,117,-1.50944547868282),(78,118,2.98469496749779),(79,87,2.27083651234474),(79,92,2.4603259376812),(79,94,1.61004974517045),(79,107,-2.0497146519364),(79,108,-0.318002868739891),(79,114,-1.2253639332255),(79,118,1.60635700552385),(80,87,-0.327249977111118),(80,88,0.269020661030915),(80,91,-2.21829889828181),(80,99,-1.81669057283242),(80,101,-1.06895657216102),(80,107,-1.01803643910031),(80,113,0.618839075899533),(81,85,-1.08806115909299),(81,86,0.933088167973876),(81,90,-1.07808160649434),(81,93,-0.276284066286203),(81,96,2.28583635975219),(81,97,2.35000152592547),(81,106,-0.806863612781152),(81,107,-1.97112949003571),(81,110,2.11415448469497),(81,115,-2.84922330393384),(82,86,-1.13698232978301),(82,92,-2.69812616351817),(82,110,-2.39576403088473),(82,112,-0.211386455885494),(83,87,-2.03909421063875),(83,91,-1.82950834681234),(83,93,-0.533158360545671),(83,101,-0.454908902249214),(83,103,-1.04655598620563),(83,105,3.0251777703177),(83,108,0.141880550553911),(84,85,-0.727896969512009),(84,86,-2.13348796044801),(84,89,-2.13155003509629),(84,95,2.56282235175634),(84,99,0.884502700888089),(84,104,2.54463332010865),(84,111,1.90427869502853),(84,113,-0.465834528641621),(84,114,0.710257271034883),(35,105,2.28264717551195)]
orgname='BHNEAT_15_4'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()