edge = [(0,85,0.991332743308817),(0,89,-0.939420758690146),(0,90,0.215399639881588),(0,93,0.459761345255898),(0,98,-0.421948912015137),(0,101,0.957487716299936),(0,105,-0.205816827906125),(0,108,0.390606402783288),(0,113,0.370799890133366),(0,114,-0.858485671559801),(0,117,-0.273445844904935),(0,118,0.134891811883908),(1,86,-0.383770256660665),(1,92,-0.690725424970244),(1,98,-0.350444044312876),(1,102,-0.684102908413953),(1,104,-0.90758995330668),(1,107,0.0785241248817408),(1,108,0.555040131839961),(1,109,-0.964110232856227),(1,113,0.212500381481368),(2,87,0.933835871456038),(2,88,-0.111484115115818),(2,100,-0.62572099978637),(2,106,-0.17642750328074),(2,108,0.911313211462752),(2,110,0.178044984282968),(2,113,-0.313577684865871),(2,118,-0.149021881771294),(3,89,0.701956236457411),(3,92,-0.0518509475997192),(3,97,-0.757286294137394),(3,99,-0.614642780846583),(3,101,-0.757988219855342),(3,103,-0.719626453444014),(3,105,0.528672139652699),(3,108,-0.872890408032472),(3,109,-0.543168431653798),(3,111,0.222724082155828),(3,112,-0.808740501113926),(3,116,-0.455458235419782),(4,90,-0.902310251167333),(4,91,-0.80565813165685),(4,97,-0.00805688650166326),(4,99,-0.498214667195654),(4,101,0.643726920377209),(4,108,0.316110721152379),(4,113,-0.584795678579058),(4,118,-0.786797692800684),(5,86,-0.928312021240883),(5,87,-0.826044495986816),(5,89,-0.903073213904233),(5,92,0.695059053315836),(5,93,0.558763389996033),(5,99,0.942075869014557),(5,104,0.476790673543504),(5,114,-0.734733115634632),(5,118,-0.763481551561022),(6,89,0.774132511368145),(6,92,-0.441633350627155),(6,94,0.935239722891934),(6,100,0.567644276253548),(6,101,0.0310678426465651),(6,103,0.599291970580157),(6,107,0.772179326761681),(6,110,0.346629230628376),(6,113,0.211890011291849),(7,85,0.877864925077059),(7,86,0.863582262642293),(7,90,-0.654347361674856),(7,95,0.361491744743187),(7,99,-0.551896725363933),(7,100,-0.152378917813654),(7,104,0.920926541947691),(7,106,-0.359569078646199),(7,108,-0.0659810174871059),(7,112,-0.794000061037019),(7,116,0.113132114627522),(8,92,0.211676381725517),(8,93,0.80581072420423),(8,95,-0.467665639210181),(8,99,0.9518112735374),(8,106,0.310556352427747),(8,107,0.659749137852107),(8,115,-0.330545976134526),(8,116,-0.778954435865352),(8,118,0.137485885189367),(9,85,-0.715781121250038),(9,87,-0.332895901364177),(9,98,0.669911801507614),(9,101,-0.371288186284982),(9,103,0.936460463270974),(9,105,-0.11352885525071),(9,106,0.882717368083743),(9,113,-0.874691000091556),(10,89,-0.156559953611866),(10,96,0.194097720267342),(10,106,0.239234595782342),(10,108,0.526047547837764),(10,109,-0.246345408490249),(10,111,0.690664387951292),(10,112,0.532029175695059),(10,114,-0.366008484145634),(10,115,-0.784905545213172),(10,116,0.262092959379864),(10,117,0.549851985229041),(11,89,0.0267647328104495),(11,97,-0.08676412244026),(11,105,-0.513016144291513),(11,112,0.816553239539781),(11,115,0.913876766258736),(12,92,-0.926053651539659),(12,93,0.571031830805383),(12,94,0.636066774498734),(12,97,0.10803552354503),(12,98,-0.801355021820734),(12,99,-0.0562150944547868),(12,108,-0.538407544175542),(12,116,0.45738090151677),(13,86,0.0855739005706961),(13,87,-0.162083803827021),(13,90,-0.719290749839778),(13,99,0.826746421704764),(13,102,0.904263435773797),(13,104,-0.0665608691671499),(13,113,-0.567827387310404),(13,116,0.974944303720206),(13,118,0.0860316782128361),(14,90,-0.391918698690756),(14,93,-0.876033814508499),(14,95,0.0270088808862575),(14,102,-0.0293893246253853),(14,104,0.932096316415906),(14,106,-0.823389385662404),(14,109,0.0114139225440229),(14,110,-0.828821680349132),(14,111,0.366374706259346),(15,85,-0.330851161229286),(15,92,0.430066835535752),(15,99,0.504715109714042),(15,101,0.178502761925108),(15,104,-0.877651295510727),(15,108,-0.330607013153478),(15,117,-0.680623798333689),(16,86,-0.49900814844203),(16,87,0.37443159276101),(16,88,-0.849085970641194),(16,90,-0.551225318155461),(16,91,0.0906094546342357),(16,95,-0.187505722220527),(16,97,0.6924344615009),(16,98,0.485396893215735),(16,99,-0.194738608966338),(16,101,-0.906430249946593),(16,108,-0.528916287728507),(16,110,0.107455671864986),(17,89,-0.45814386425367),(17,96,-0.949919125949889),(17,99,0.75548570207831),(17,101,0.200994903408918),(17,106,-0.658406323435163),(17,107,0.60338145084994),(17,109,0.611072115237892),(18,90,-0.27851191747795),(18,91,0.446882534257027),(18,93,-0.581896420178838),(18,99,0.104129154332102),(18,102,-0.160893581957457),(18,103,-0.82830286568804),(18,104,0.711935789056062),(18,110,-0.723532822656941),(18,111,-0.410382396923734),(18,116,-0.594897305215613),(18,117,0.82647175511948),(18,118,0.401135288552507),(19,87,0.960844752342296),(19,89,0.434949797051912),(19,93,0.466505935850093),(19,95,-0.695516830957976),(19,101,-0.789056062501907),(19,105,0.933500167851802),(19,115,-0.482863856929228),(20,88,-0.664723654896695),(20,101,-0.970671712393567),(20,103,-0.184484389782403),(20,104,0.132450331125828),(20,105,-0.397442548905911),(20,106,-0.964812158574175),(20,111,0.233283486434523),(20,116,0.762077700125126),(21,86,0.671102023377178),(21,87,0.470931119724113),(21,94,-0.0674153874324778),(21,96,-0.67406231879635),(21,101,-0.705679494613483),(21,102,-0.701498458815272),(21,105,0.375530259102145),(21,107,0.267281105990783),(21,108,-0.481795709097568),(22,86,-0.414716025269326),(22,88,-0.792138431958983),(22,91,-0.0472731711783197),(22,92,0.592394787438582),(22,93,-0.550614947965941),(22,98,0.84789574877163),(22,106,0.599353007599109),(22,115,-0.0958891567735832),(22,117,0.814355906857509),(23,85,-0.343424787133396),(23,86,-0.118015076143681),(23,88,-0.340464491714225),(23,90,0.0506607257301553),(23,97,0.365794854579302),(23,104,-0.58729819635609),(23,112,0.227484969634083),(23,114,0.753013702810755),(23,115,0.666280098879971),(23,116,-0.204779198583941),(24,89,-0.883297219763787),(24,90,0.551225318155461),(24,91,0.618366039002655),(24,101,-0.143772698141423),(24,107,0.207922605059969),(24,108,-0.021485030671102),(24,110,0.474318674275948),(24,112,-0.246925260170293),(25,90,0.269569994201483),(25,92,0.662312692648091),(25,94,0.139591662343211),(25,98,-0.745506149479659),(25,105,0.0132755516220588),(25,108,0.380077517014069),(25,109,0.183385723441267),(25,115,-0.597491378521073),(26,85,0.253242591631825),(26,87,0.328501235999634),(26,89,-0.304422132023072),(26,95,-0.538773766289254),(26,98,0.416608172856838),(26,100,0.445020905178991),(26,101,0.970336008789331),(26,102,-0.441053498947111),(26,103,0.00830103457747124),(26,104,-0.528244880520035),(26,107,-0.449812311166723),(26,109,-0.0698873867000336),(26,112,-0.265236365855892),(26,113,-0.200354014709922),(26,117,0.956266975920896),(27,85,0.837031159398175),(27,87,-0.968626972258675),(27,94,0.597918637653737),(27,100,-0.120883816034425),(27,102,0.640644550920133),(27,103,0.883297219763787),(27,104,0.134739219336528),(27,105,0.515488143559069),(27,108,-0.387249366740928),(27,110,0.792779320657979),(27,114,0.181218909268471),(28,87,0.441969054231391),(28,88,0.288796655171361),(28,97,-0.598803674428541),(28,99,0.00299081392864772),(28,104,0.708914456617939),(28,113,-0.529221472823267),(28,114,0.453901791436506),(29,88,-0.80336924344615),(29,91,-0.61268959624012),(29,102,0.393536179692984),(29,105,0.396221808526872),(29,116,0.212897122104556),(30,95,0.842707602160711),(30,96,0.453962828455458),(30,99,-0.454664754173406),(30,101,0.0701315347758416),(30,104,0.529099398785363),(30,109,-0.906002990813929),(30,110,0.69380779442732),(30,114,-0.836939603869747),(30,118,-0.15179906613361),(31,85,0.649006622516556),(31,92,0.166875209814753),(31,94,0.492324594866787),(31,96,0.529740287484359),(31,99,0.204565569017609),(31,103,-0.245735038300729),(31,107,0.248908963286233),(31,108,-0.608661152989288),(31,109,-0.0663777581102939),(31,111,-0.296487319559313),(31,112,0.93481246375927),(31,117,-0.266792809839167),(32,86,-0.575609607226783),(32,87,-0.169652394177068),(32,89,0.385784478286081),(32,92,-0.856685079500717),(32,98,-0.91552476577044),(32,99,0.473433637501144),(32,104,-0.690786461989196),(32,106,0.702139347514267),(32,109,0.318674275948363),(32,116,0.0989715262306589),(32,118,-0.63441877498703),(33,96,0.268929105502487),(33,98,0.0812402722251045),(33,108,-0.966399121066927),(33,110,0.181035798211615),(33,111,0.228308969389935),(33,114,-0.477187414166692),(34,85,0.460158085879086),(34,90,-0.34308908352916),(34,99,0.131626331369976),(34,104,-0.166905728324229),(34,109,0.52272103030488),(35,86,-0.278176213873714),(35,87,-0.914944914090396),(35,97,-0.19373149815363),(35,98,-0.875148777733695),(35,100,0.958433790093692),(35,104,0.952848902859584),(35,107,-0.162022766808069),(35,109,-0.333231604968413),(35,110,-0.255745109408856),(35,112,0.879482406079287),(36,85,0.690664387951292),(36,87,-0.688558610797449),(36,90,0.787011322367016),(36,91,-0.896023438215278),(36,104,-0.735618152409436),(36,107,0.122074037903989),(36,109,-0.362559892574847),(36,112,0.783440656758324),(36,115,-0.875484481337931),(36,117,0.620288705099643),(36,118,0.382122257148961),(37,85,0.338602862636189),(37,86,-0.15378276924955),(37,87,0.361613818781091),(37,91,-0.021790215765862),(37,99,0.45356608783227),(37,105,-0.571337015900143),(37,111,0.542588579973754),(37,112,-0.555528427991577),(37,118,-0.555619983520005),(38,87,-0.823084200567644),(38,90,0.612109744560076),(38,103,-0.655415509506516),(38,105,0.627826776940214),(38,106,0.372539445173498),(38,111,0.382518997772149),(38,115,0.0140385143589587),(39,87,-0.528244880520035),(39,89,-0.458174382763146),(39,91,-0.986754966887417),(39,94,-0.133091219824824),(39,97,0.826593829157384),(39,98,0.124912259285257),(39,107,-0.149388103885006),(39,108,-0.621417889950255),(39,109,0.877468184453871),(39,111,0.874996185186316),(39,113,0.741477706228828),(39,116,0.846797082430494),(39,118,-0.348551896725364),(40,88,0.0314340647602771),(40,92,-0.086886196478164),(40,99,0.28492080446791),(40,104,0.922605059968871),(40,110,-0.40858180486465),(40,116,0.989684743797113),(40,118,-0.409558397167882),(41,88,-0.39204077272866),(41,93,-0.382518997772149),(41,96,-0.950621051667837),(41,97,0.467177343058565),(41,100,-0.864955595568712),(41,101,-0.956144901882992),(41,104,-0.54216132084109),(41,105,-0.980224005859554),(41,106,0.300973540452284),(41,107,-0.911618396557512),(41,109,0.410321359904782),(41,110,-0.322763756218146),(41,111,0.0963164159062471),(41,112,-0.644978179265725),(42,85,0.872035889767144),(42,86,-0.212134159367656),(42,87,-0.93603320413831),(42,99,-0.775627918332469),(42,100,0.577288125247963),(42,103,0.460066530350658),(42,109,-0.632770775475326),(42,113,-0.125431073946348),(43,85,0.204351939451277),(43,88,-0.827784051026948),(43,89,0.170659504989776),(43,93,-0.160344248786889),(43,97,0.656727805413984),(43,98,0.327890865810114),(43,101,0.672963652455214),(43,102,0.488967558824427),(43,103,0.731192968535417),(43,105,-0.817743461409345),(43,110,0.512253181554613),(43,112,0.511093478194525),(43,114,0.724997711111789),(43,116,0.227179784539323),(44,89,-0.281991027558214),(44,98,-0.810968352305673),(44,99,-0.951384014404737),(45,87,-0.265053254799036),(45,88,0.84820093386639),(45,90,0.387890255439924),(45,91,0.632038331247902),(45,95,-0.947843867305521),(45,98,-0.19983520004883),(45,108,0.318826868495743),(45,109,0.13525803399762),(45,112,-0.794366283150731),(45,115,-0.316965239417707),(46,85,0.946226386303293),(46,89,-0.0286568803979614),(46,91,0.0302743614001892),(46,94,-0.775017548142949),(46,97,0.184911648915067),(46,100,0.914792321543016),(46,101,-0.646137882625813),(46,108,0.304239020966216),(46,112,0.0422681356242561),(47,86,-0.519028290658284),(47,91,0.652394177068392),(47,92,-0.0230719931638539),(47,94,-0.944486831263161),(47,95,-0.998077333903012),(47,100,0.375926999725333),(47,101,0.563982055116428),(47,104,0.963621936704611),(47,105,-0.937772759178442),(47,108,0.140964995269631),(47,112,0.810480056154057),(47,114,0.53865169225135),(47,118,-0.00936918240913114),(48,86,-0.178594317453536),(48,91,0.464552751243629),(48,98,-0.784508804589984),(48,99,0.752525406659139),(48,100,0.108676412244026),(48,103,-0.162724692526017),(48,105,0.982482375560778),(48,106,0.45402386547441),(48,111,0.837519455549791),(48,115,-0.359752189703055),(49,87,0.346385082552568),(49,89,0.591174047059542),(49,93,0.215582750938444),(49,94,-0.698446607867672),(49,95,0.657704397717215),(49,102,-0.80809961241493),(49,113,-0.298654133732109),(49,114,-0.0849330118717002),(50,89,0.863460188604389),(50,105,-0.894222846156194),(50,107,-0.556016724143193),(51,87,-0.187566759239479),(51,92,0.230964079714347),(51,97,-0.733359782708213),(51,98,-0.870052186651204),(51,103,-0.578234199041719),(51,106,0.152958769493698),(51,112,0.692190313425092),(51,118,0.67024750511185),(52,89,0.235236671040986),(52,97,0.19663075655385),(52,106,0.417096469008454),(52,110,0.0458693197424238),(52,111,-0.626361888485366),(52,113,0.490859706411939),(52,114,-0.507858516190069),(52,118,-0.181066316721091),(53,88,-0.0902432325205237),(53,90,0.0448011719107639),(53,92,-0.0369579149754326),(53,94,0.9556260872219),(53,104,-0.736014893032624),(53,105,-0.0921353801080355),(53,109,0.383648182622761),(54,85,-0.0557573168126469),(54,91,-0.578630939664907),(54,94,-0.054261909848323),(54,96,0.350810266426588),(54,111,0.438428907132176),(54,112,-0.129734183782464),(54,113,-0.216406750694296),(54,118,-0.0340281380657369),(55,87,-0.492660298471023),(55,95,0.162236396374401),(55,107,0.710470900601215),(55,110,-0.41148106326487),(55,117,-0.742240668965728),(56,107,-0.867244483779412),(56,111,-0.898220770897549),(56,113,0.122806482131413),(56,114,-0.432844019898068),(57,87,-0.122501297036653),(57,90,0.748496963408307),(57,91,0.406750694296091),(57,92,-0.848017822809534),(57,93,0.0911893063142796),(57,94,0.302621539963988),(57,95,0.665395062105167),(57,96,-0.696981719412824),(57,100,-0.86886196478164),(57,102,0.821039460432752),(57,103,-0.624164555803095),(57,115,0.418958098086489),(58,86,-0.398632770775475),(58,87,0.705710013122959),(58,89,0.556321909237953),(58,90,0.746910000915555),(58,95,-0.372325815607166),(58,96,-0.791375469222083),(58,101,0.540757469405194),(58,103,0.374797814874722),(58,109,0.336832789086581),(58,110,0.0999176000244148),(58,113,-0.221442304757836),(58,114,-0.0723899044770653),(58,115,-0.724234748374889),(58,118,0.651295510727256),(59,85,0.0379955442976165),(59,86,0.0908536027100436),(59,90,0.0245063631092257),(59,91,-0.424695577867977),(59,93,0.395367290261544),(59,97,0.203039643543809),(59,98,-0.819696646015809),(59,100,0.0640888698995941),(59,102,-0.741752372814112),(59,112,0.22247993408002),(59,114,0.897885067293313),(60,85,-0.421674245429853),(60,87,0.0237128818628498),(60,90,0.344645527512436),(60,91,-0.166264839625233),(60,96,-0.532609027375103),(60,100,-0.486770226142155),(60,101,-0.154026917325358),(60,105,0.581743827631458),(60,107,0.115512558366649),(60,109,0.290536210211493),(60,110,-0.641224402600177),(60,114,0.817621387371441),(61,89,0.192022461622974),(61,94,-0.906949064607685),(61,96,0.0733054597613453),(61,98,-0.885647144993439),(61,100,-0.919095431379131),(61,102,0.770653401287881),(61,103,-0.0616168706320383),(61,114,-0.43183690908536),(61,115,0.228003784295175),(62,93,0.149845881527146),(62,95,-0.670583208716086),(62,107,-0.924832911160619),(62,109,0.363994262520218),(62,110,-0.706900234992523),(62,111,0.911191137424848),(63,87,-0.45539719840083),(63,90,0.919614246040223),(63,93,0.71675771355327),(63,97,-0.462996307260353),(63,100,-0.366466261787774),(63,103,0.456221198156682),(63,104,-0.412640766624958),(63,108,0.968565935239723),(63,111,-0.431501205481124),(63,114,-0.307168797875912),(63,117,0.427350688192389),(64,87,0.743644520401624),(64,94,0.800744651631214),(64,99,0.656331064790796),(64,110,-0.798974578081607),(64,112,-0.247352519302957),(64,116,-0.433729056672872),(65,87,0.485457930234687),(65,88,0.509720145268105),(65,90,-0.155796990874966),(65,97,-0.236854152043214),(65,99,-0.485091708120975),(65,107,0.0270699179052095),(65,110,0.382885219885861),(65,111,0.624713888973663),(65,114,0.521439252906888),(65,116,0.815118869594409),(65,117,-0.892300180059206),(66,85,-0.724173711355937),(66,102,-0.754020813623463),(66,105,-0.28568376720481),(66,108,0.643971068453017),(66,111,0.939603869747002),(66,115,0.997375408185064),(66,118,0.157689138462477),(67,86,-0.519486068300424),(67,90,0.098300119022187),(67,92,0.980651264992218),(67,104,-0.137974181340983),(67,109,-0.693258461256752),(67,111,-0.665272988067263),(68,87,-0.687765129551073),(68,88,0.894741660817286),(68,90,0.614886928922391),(68,93,0.160496841334269),(68,95,0.779625843073824),(68,96,-0.888546403393658),(68,97,-0.141941587572863),(68,103,0.852259895626698),(68,107,0.866176335947752),(68,112,-0.36725974303415),(68,114,-0.32547990356151),(69,87,0.582232123783074),(69,88,0.967741935483871),(69,92,-0.521256141850032),(69,94,0.949003570665609),(69,95,0.0349436933500168),(69,97,-0.940641499069185),(69,108,0.315408795434431),(69,113,-0.0168156987212745),(69,114,0.132419812616352),(69,118,-0.0280465102084414),(70,85,-0.446211127048555),(70,86,0.367473372600482),(70,87,-0.553605761894589),(70,90,-0.535813470870083),(70,96,0.423657948545793),(70,97,-0.411755729850154),(70,99,0.378917813653981),(70,105,-0.633136997589038),(70,107,0.778527176732688),(70,109,0.9961851863155),(70,110,0.859797967467269),(70,111,0.278328806421094),(71,85,-0.394085512863552),(71,93,0.391216772972808),(71,96,-0.313272499771111),(71,100,-0.269844660786767),(71,104,-0.963408307138279),(71,106,0.404583880123295),(71,111,0.141392254402295),(71,113,0.421765800958281),(72,94,-0.571275978881191),(72,96,-0.619495223853267),(72,99,-0.975951414532914),(72,110,0.864711447492904),(72,112,0.401165807061983),(72,114,0.75792718283639),(72,115,0.947691274758141),(72,116,0.471633045442061),(73,88,-0.567461165196692),(73,94,-0.16895046845912),(73,99,-0.0811487166966765),(73,100,0.408551286355174),(73,106,0.0722067934202094),(73,110,-0.442030091250343),(73,115,0.814142277291177),(74,90,0.810388500625629),(74,94,-0.887447737052522),(74,99,-0.145237586596271),(74,102,0.642078920865505),(74,106,0.581713309121982),(74,107,0.161961729789117),(74,110,-0.688558610797449),(74,113,-0.887722403637806),(74,116,-0.322489089632862),(75,85,-0.553575243385113),(75,86,-0.312173833429975),(75,93,0.595568712424085),(75,98,-0.378948332163457),(75,103,0.685964537491989),(75,105,-0.199774163029878),(75,111,0.551530503250221),(75,117,-0.0192876979888302),(76,86,-0.730826746421705),(76,89,0.716788232062746),(76,92,-0.427381206701865),(76,94,-0.7345194860683),(76,99,-0.114841151158177),(76,101,-0.773705252235481),(76,103,0.0502029480880154),(76,106,0.664174321726127),(76,110,0.351725821710868),(76,113,0.314310129093295),(77,88,0.797143467513047),(77,91,-0.147099215674306),(77,93,0.999267555772576),(77,98,0.929044465468307),(77,101,0.114597003082369),(77,102,-0.397381511886959),(77,103,-0.741355632190924),(77,104,-0.593157750175481),(77,105,0.163151951658681),(77,109,0.304879909665212),(78,88,-0.594988860744041),(78,93,0.530167546617023),(78,94,-0.586870937223426),(78,101,0.361186559648427),(78,104,-0.24237800225837),(78,110,0.19998779259621),(78,114,-0.407757805108798),(78,116,-0.710409863582263),(78,117,-0.487899410992767),(78,118,0.412274544511246),(79,87,0.0455336161381878),(79,92,-0.324777977843562),(79,94,-0.840113528855251),(79,107,0.5646534623249),(79,108,0.461989196447646),(79,114,-0.305703909421064),(79,118,0.218878749961852),(80,87,0.00607318338572344),(80,88,-0.430494094668416),(80,91,-0.309305093539232),(80,99,0.787377544480728),(80,101,-0.52516251106296),(80,107,-0.93069246498001),(80,113,0.097293008209479),(81,85,-0.908993804742576),(81,86,-0.963225196081423),(81,90,-0.667867061372723),(81,93,-0.212836085085604),(81,96,-0.229529709768975),(81,97,-0.952787865840632),(81,106,0.717612231818598),(81,107,0.7811822870571),(81,110,-0.884243293557543),(81,115,-0.780816064943388),(82,86,-0.295205542161321),(82,92,-0.43549913022248),(82,110,-0.829645680104984),(82,112,-0.376934110538041),(83,87,-0.650288399914548),(83,91,-0.36771752067629),(83,93,0.300820947904904),(83,101,0.426831873531297),(83,103,0.0863063447981201),(83,105,-0.504226813562426),(83,108,-0.3932615131077),(84,85,-0.610339671010468),(84,86,0.105105746635334),(84,89,0.806756797997986),(84,95,-0.769981994079409),(84,99,-0.964903714102603),(84,104,-0.676381725516526),(84,111,-0.698049867244484),(84,113,-0.493514816736351),(84,114,-0.373760185552538)]
orgname='BHNEAT_1_7'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()