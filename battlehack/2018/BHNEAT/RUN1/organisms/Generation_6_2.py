edge = [(0,85,0.0181890316476944),(0,89,-2.41528061769463),(0,90,-0.780358287301248),(0,93,-3.72701956236457),(0,98,0.256515701773125),(0,101,-2.75302896206549),(0,105,-2.3272041993469),(0,108,2.14300973540452),(0,113,-1.05270546586505),(0,114,-2.40499588000122),(0,117,0.000381481368449954),(0,118,0.872356334116642),(1,86,1.7176351207007),(1,92,0.751899777214881),(1,98,-0.549104281746879),(1,102,3.89960936307871),(1,104,0.640461439863277),(1,107,-1.97155674916837),(1,108,-2.12149418622394),(1,109,-2.03212836085086),(1,113,-0.885311441389202),(2,87,0.382732627338481),(2,88,-0.272911770989105),(2,100,1.11648915066988),(2,106,-1.57631153294473),(2,108,1.95742667928098),(2,110,1.01266518143254),(2,113,1.72299111911374),(2,118,-0.902844325083163),(3,89,-2.13982818079165),(3,92,-0.0255058442945644),(3,97,2.07430494094668),(3,99,1.69795831171606),(3,101,-1.75914792321543),(3,103,0.094660786767174),(3,105,2.21979430524613),(3,108,0.257362590411084),(3,109,-4.55689413129063),(3,111,-0.942304757835627),(3,112,-0.894665364543596),(3,116,-0.58088930936613),(4,90,2.04963835566271),(4,91,-3.5796914578692),(4,97,-0.473067415387432),(4,99,-1.10823389385662),(4,101,-0.996917630542924),(4,108,1.26308481093783),(4,113,-2.04908139286477),(4,118,-2.45862453077792),(5,86,-1.85489974669637),(5,87,-1.14813684499649),(5,89,-2.30140842921232),(5,92,1.66431165501877),(5,93,0.788430433057649),(5,99,2.56367687002167),(5,104,0.868037965025788),(5,114,1.23126926480911),(5,118,0.640659810174871),(6,89,0.949270607623524),(6,92,-0.269783623767815),(6,94,3.27280495620594),(6,100,1.71382793664357),(6,101,0.719992675557726),(6,103,3.54994354075747),(6,107,3.09369182409131),(6,110,-0.0783639027069918),(6,113,-0.83104953154088),(7,85,1.10560930204169),(7,86,1.16908780175176),(7,90,-1.73926511429182),(7,95,-1.01686910611286),(7,99,-0.559358500930815),(7,100,-0.065553758354442),(7,104,0.0114215521713921),(7,106,1.07020783104953),(7,108,1.24285103915525),(7,112,4.01037629322184),(7,116,-1.89840388195441),(8,92,0.786660359508042),(8,93,-1.82805871761223),(8,95,0.726355784783471),(8,99,-2.76374095889157),(8,106,2.43554490798669),(8,107,-2.83915219580676),(8,115,1.21124912259285),(8,116,-1.47408978545488),(8,118,0.0242622150334178),(9,85,0.363994262520219),(9,87,2.56199835200049),(9,98,-1.04715872676778),(9,101,0.824198126163518),(9,103,-1.57864619891964),(9,105,-1.49612414929655),(9,106,1.2551194799646),(9,113,0.296777245399335),(10,89,-2.72457045197913),(10,96,1.45986053041169),(10,106,2.08644367809076),(10,108,0.0913571581163977),(10,109,-3.25023651844844),(10,111,-2.90800195318461),(10,112,-4.05751213110752),(10,114,0.155629139072848),(10,115,2.61226233710746),(10,116,-2.15063936277352),(10,117,-2.41570024719993),(11,89,-0.122363963744011),(11,97,2.89706106753746),(11,105,-2.21758171330912),(11,112,2.45249031037324),(11,115,-1.96897793511765),(12,92,-1.793069246498),(12,93,1.64070558793909),(12,94,-1.77900021362957),(12,97,-1.83970152897732),(12,98,2.66168706320383),(12,99,1.70421460615863),(12,108,0.44236579485458),(12,116,-2.22280037842952),(13,86,1.43215735343486),(13,87,2.03526413769951),(13,90,-0.417462691122166),(13,99,2.96960356456191),(13,102,0.376369518112735),(13,104,-5.09016693624683),(13,113,1.48356578264718),(13,116,1.89875484481338),(13,118,2.94312875759148),(14,90,-2.50682088686789),(14,93,1.01248207037568),(14,95,-2.86133915219581),(14,102,1.48420667134617),(14,104,-2.71698660237434),(14,106,-0.78255561998352),(14,109,-1.90390484328745),(14,110,1.19459364604633),(14,111,1.15974913785211),(15,85,-2.12222663045137),(15,92,-2.79468672750023),(15,99,-3.11743522446364),(15,101,-2.33466597491379),(15,104,1.11919766838588),(15,108,-0.503707998901334),(15,117,3.53910184026612),(16,86,0.151066621906186),(16,87,0.391155735953856),(16,88,1.89212469862972),(16,90,0.00572222052674953),(16,91,0.943288979766228),(16,95,-1.25804925687429),(16,97,-2.37759025849178),(16,98,-0.967390972624897),(16,99,0.538941618091372),(16,101,2.13946958830531),(16,108,-2.66815698721274),(16,110,-0.277718436231574),(17,89,4.3399533066805),(17,96,3.93611713003937),(17,99,0.839121677297281),(17,101,-1.36761833552049),(17,106,-0.277382732627338),(17,107,1.11969359416486),(17,109,1.73476363414411),(18,90,1.27240058595538),(18,91,-0.491653187658315),(18,93,-1.10002441480758),(18,99,-0.340205084383679),(18,102,-4.40835291604358),(18,103,1.18769646290475),(18,104,-0.966902676473281),(18,110,2.16800439466536),(18,111,-1.69066438795129),(18,116,3.56257820368053),(18,117,1.88924832911161),(18,118,-0.113177892391736),(19,87,-0.441358684041871),(19,89,2.27846613971374),(19,93,0.786843470564898),(19,95,-3.67633594775231),(19,101,2.06791894283883),(19,105,3.11191900387585),(19,115,-1.85145115512558),(20,88,3.05924405652028),(20,101,1.01833399456771),(20,103,-2.34339426862392),(20,104,3.65985595263527),(20,105,-1.52038636432997),(20,106,2.10319833979308),(20,111,-1.53637806329539),(20,116,-1.32032227546007),(21,86,0.458006530961028),(21,87,-0.784188360240486),(21,94,1.21526230658895),(21,96,0.144581438642537),(21,101,-1.17863246559038),(21,102,-2.84880367442854),(21,105,-0.011810663167211),(21,107,-0.60948515274514),(21,108,-2.5623645741142),(22,86,-1.94323557237465),(22,88,-1.07673879207739),(22,91,0.643040253913999),(22,92,-1.63863032929472),(22,93,1.71645252845851),(22,98,-0.385967589342937),(22,106,1.21643726920377),(22,115,-1.33849604785302),(22,117,-2.04836420789209),(23,85,-1.6511123996704),(23,86,-1.69936216315195),(23,88,-1.55211035493027),(23,90,-0.814889980773339),(23,97,2.29096346934416),(23,104,-2.22266304513688),(23,112,2.49950407422101),(23,114,-2.0586489455855),(23,115,-0.340784936063723),(23,116,-2.22443311868648),(24,89,-2.27191991943114),(24,90,-3.36940366832484),(24,91,2.36200292977691),(24,101,2.01966154972991),(24,107,2.89648121585742),(24,108,2.23200170903653),(24,110,-1.11909085360271),(24,112,1.56175420392468),(25,90,-0.0841624195074315),(25,92,1.12051759392071),(25,94,-0.634586626789148),(25,98,-0.324457533494064),(25,105,2.2585146641438),(25,108,-1.04842524491104),(25,109,-1.63739432966094),(25,115,0.307992797631764),(26,85,-1.08498641926328),(26,87,-0.939039277321696),(26,89,2.5781655323954),(26,95,-0.606570635090182),(26,98,1.46002075258644),(26,100,-3.13177129428999),(26,101,0.247360148930326),(26,102,-2.06973479415265),(26,103,0.416890469069491),(26,104,2.40850550859096),(26,107,-1.03289895321512),(26,109,1.77169103061007),(26,112,-0.0856044190801721),(26,113,2.40348521378216),(26,117,-2.64548173467208),(27,85,0.174489577929014),(27,87,-2.09721671193579),(27,94,0.143375957518235),(27,100,1.39175084688864),(27,102,-1.75420392468032),(27,103,-5.22770622882778),(27,104,0.316316721091342),(27,105,-0.214064455092013),(27,108,0.345851008636738),(27,110,-2.4255500961333),(27,114,0.67055269020661),(28,87,-1.09254737998596),(28,88,-2.66358684041871),(28,97,-3.50527970213935),(28,99,-1.01651051362651),(28,104,4.17839594714194),(28,113,1.9623935666982),(28,114,-3.05610065004425),(29,88,0.649555955687124),(29,91,-0.133976256599628),(29,102,-1.48565630054628),(29,105,2.15680410168767),(29,116,-1.51722006897183),(30,95,-0.750480666524247),(30,96,1.54441969054231),(30,99,1.31374553666799),(30,101,-3.57883693960387),(30,104,0.561922055726798),(30,109,1.14664906765954),(30,110,-0.755760368663594),(30,114,-2.31937620166631),(30,118,1.5599536118656),(31,85,-1.20198675496689),(31,92,1.15935239722892),(31,94,0.696569719534898),(31,96,-0.520424512466811),(31,99,-3.35440382091739),(31,103,-2.64535966063417),(31,107,-1.05243079927976),(31,108,4.26669362468337),(31,109,0.0284890285958433),(31,111,0.562150944547868),(31,112,0.0791955320902127),(31,117,-0.427533799249245),(32,86,-3.16576128421888),(32,87,2.45893734550005),(32,89,2.88950010681478),(32,92,-1.07296212652974),(32,98,1.29189428388318),(32,99,-1.89308603167821),(32,104,3.03212073122349),(32,106,-1.05983153782769),(32,109,-1.2835932493057),(32,116,-2.09138767662587),(32,118,4.32155064546648),(33,96,-2.31028168584246),(33,98,0.6097903378399),(33,108,1.14910580767235),(33,110,-0.50503555406354),(33,111,2.40134891811884),(33,114,-0.976271858882412),(34,85,2.95688497573778),(34,90,-0.474394970549638),(34,99,-3.8552125614185),(34,104,-0.615314188055055),(34,109,-1.10155796990875),(35,86,-2.79480880153813),(35,87,2.9042634357738),(35,97,1.60115359965819),(35,98,-2.14568010498367),(35,100,-0.401303140354625),(35,104,0.272003845332194),(35,107,-0.881130405590991),(35,109,-2.68236335337382),(35,110,-4.71581163975951),(35,112,2.44651631214331),(36,85,-0.198217719046602),(36,87,-1.23503830072939),(36,90,0.65576647236549),(36,91,2.5647755363628),(36,104,2.35915707876827),(36,107,0.639110995818964),(36,109,0.626850184636982),(36,112,-1.47261726737266),(36,115,-0.00289925840021971),(36,117,-0.91552476577044),(36,118,0.0193945127719962),(37,85,2.21820734275338),(37,86,0.670873134556108),(37,87,-1.34838404492325),(37,91,-1.12041077913755),(37,99,-1.13663899655141),(37,105,-2.47531052583392),(37,111,1.41348002563555),(37,112,-0.171025727103488),(37,118,-0.393986327707755),(38,87,0.945448164311655),(38,90,0.0736869411297952),(38,103,1.38881344035157),(38,105,-0.539063692129277),(38,106,2.76429029206214),(38,111,-1.87279885250404),(38,115,-2.61755729850154),(39,87,0.0016556291390728),(39,89,-0.145878475295267),(39,91,-1.46286660359508),(39,94,-1.67122409741508),(39,97,-1.84992522965178),(39,98,-1.3099765007477),(39,107,3.5624866481521),(39,108,-1.11304055909909),(39,109,2.32976775414289),(39,111,1.67888424329356),(39,113,-0.707663197729423),(39,116,-0.488616595965453),(39,118,-2.46569719534898),(40,88,0.673932615131077),(40,92,-2.81083101901303),(40,99,2.7441175572985),(40,104,-1.99220252082888),(40,110,2.69685964537492),(40,116,-4.45313119907224),(40,118,-0.142368846705527),(41,88,-0.844523453474532),(41,93,2.29195532090213),(41,96,-3.78070162053285),(41,97,-2.96102023377178),(41,100,-1.23531296731468),(41,101,0.174764244514298),(41,104,-1.43661305581835),(41,105,-2.3893475142674),(41,106,-0.780846583452864),(41,107,1.06692709128086),(41,109,3.41130558183538),(41,110,-1.66114535966063),(41,111,-0.326258125553148),(41,112,2.21192052980132),(42,85,1.41956083864864),(42,86,0.42085787530137),(42,87,-0.156361583300272),(42,99,0.148472548600727),(42,100,-1.09312723166601),(42,103,-2.21129490035707),(42,109,-3.17786187322611),(42,113,-2.04531998657186),(43,85,0.677175206762902),(43,88,-0.302209540086062),(43,89,0.378368480483413),(43,93,0.712828455458235),(43,97,-2.45896786400952),(43,98,0.443617053743095),(43,101,-2.05344553971984),(43,102,1.34794152653584),(43,103,0.492034669026765),(43,105,-0.54757835627308),(43,110,1.76818140202033),(43,112,4.69368572038942),(43,114,0.920911282692953),(43,116,-2.79759361552782),(44,89,3.99216437269204),(44,98,-0.566957609790338),(44,99,-2.8969542527543),(45,87,-1.67369609668264),(45,88,4.19611957152013),(45,90,0.0467848750267037),(45,91,2.88504440443129),(45,95,2.78850672933134),(45,98,1.96421704763939),(45,108,-1.15195165868099),(45,109,2.2378917813654),(45,112,2.54644917142247),(45,115,1.3571581163976),(46,85,-0.853205969420453),(46,89,1.76551866206854),(46,91,3.71524704733421),(46,94,-2.48380993072298),(46,97,0.99931333353679),(46,100,-0.417096469008454),(46,101,-0.742194891201514),(46,108,0.789284951322977),(46,112,-2.41801202429273),(47,86,3.93131809442427),(47,91,3.34757530442213),(47,92,2.35303811761834),(47,94,-2.00465407269509),(47,95,1.25759147923215),(47,100,-0.817194128238777),(47,101,3.05696279793695),(47,104,-1.38737144077883),(47,105,-4.19768364513077),(47,108,-0.289086581011383),(47,112,0.00120548112430191),(47,114,0.818811609241005),(47,118,-1.07968382824183),(48,86,-1.24024170659505),(48,91,-2.63266396069216),(48,98,-1.06317331461531),(48,99,1.97447126682333),(48,100,4.39300210577715),(48,103,-5.06774346140934),(48,105,-1.30964079714347),(48,106,1.56884975737785),(48,111,-0.287156285287026),(48,115,3.14462721640675),(49,87,-0.164311655018769),(49,89,-1.79100924710837),(49,93,-1.36455122531816),(49,94,0.474410229804376),(49,95,-3.78414258247627),(49,102,6.05080568865017),(49,113,0.151738029114658),(49,114,-0.364574114200262),(50,89,1.85834833826716),(50,105,2.96259956663717),(50,107,0.927564317758721),(51,87,2.40003662221137),(51,92,1.94222846156194),(51,97,-1.08795434430982),(51,98,-4.02681051057466),(51,103,0.19571520126957),(51,106,-0.142132328257088),(51,112,-3.85052034058657),(51,118,2.9263130588702),(52,89,-0.400280770287179),(52,97,-2.45185705130161),(52,106,0.190778832361827),(52,110,-2.32192449720756),(52,111,2.3481246375927),(52,113,1.37109744560076),(52,114,1.10577715384381),(52,118,-0.71523178807947),(53,88,-0.26364940336314),(53,90,-1.89817499313334),(53,92,1.21654408398694),(53,94,-1.05578783532212),(53,104,0.893055513168737),(53,105,2.81310464796899),(53,109,0.523071993163854),(54,85,-2.70633564256722),(54,91,2.34885708182012),(54,94,-1.09574419385357),(54,96,1.66020691549425),(54,111,3.20673238319041),(54,112,1.65037995544298),(54,113,-2.14297921689505),(54,118,-2.86311685537278),(55,87,-3.62131107516709),(55,95,-2.49984740745262),(55,107,1.51974547563097),(55,110,0.225302896206549),(55,117,-2.67622913296915),(56,107,3.17765587328715),(56,111,1.43324839014863),(56,113,-0.535065767387921),(56,114,-1.22438734092227),(57,87,0.911145359660634),(57,90,1.57184820093387),(57,91,3.31408124027223),(57,92,0.582979827265236),(57,93,2.17609942930387),(57,94,-0.494430372020631),(57,95,-1.74147770622883),(57,96,1.12533951841792),(57,100,-1.76512192144536),(57,102,1.60405285805841),(57,103,1.55713064973907),(57,115,0.751289407025361),(58,86,-0.517212439344462),(58,87,-0.48300119022187),(58,89,2.11822870571001),(58,90,-2.7626499221778),(58,95,-0.57441175572985),(58,96,-1.95852534562212),(58,101,-0.223990600299081),(58,103,2.34490493484298),(58,109,0.949354533524583),(58,110,1.20068208868679),(58,113,1.21216467787713),(58,114,-0.0207525864436781),(58,115,2.20318460646382),(58,118,-2.53181554612873),(59,85,1.57394634846034),(59,86,-3.16949980162969),(59,90,1.47267067476424),(59,91,0.22247993408002),(59,93,-0.648060548722801),(59,97,1.90784936063723),(59,98,-1.85061189611499),(59,100,2.05130924405652),(59,102,-2.07606738486892),(59,112,0.207068086794641),(59,114,-2.77408673360393),(60,85,-0.551118503372295),(60,87,1.88085573900571),(60,90,-0.69182409131138),(60,91,-1.80448316904202),(60,96,-4.4220557267983),(60,100,0.750343333231605),(60,101,2.28421124912259),(60,105,-0.359965819269387),(60,107,1.34854426709799),(60,109,2.2081362346263),(60,110,-2.34292886135441),(60,114,-1.11416974394971),(61,89,-0.436826685384686),(61,94,-0.0963011566515091),(61,96,2.41605883968627),(61,98,-0.614795373393963),(61,100,0.443739127780999),(61,102,-1.34891811883908),(61,103,-2.19893490401929),(61,114,0.990569780571917),(61,115,1.10965300454726),(62,93,1.0812402722251),(62,95,-3.29851680043947),(62,107,0.246589556566057),(62,109,-2.70116275521104),(62,110,-0.420239875484481),(62,111,-2.21776482436598),(63,87,0.955107272560808),(63,90,-0.0239570299386578),(63,93,2.58941923276467),(63,97,0.503013702810755),(63,100,4.85428174687948),(63,103,0.290520950956755),(63,104,-2.56328012939848),(63,108,-2.57417523728141),(63,111,1.74785607470931),(63,114,-1.6073793755913),(63,117,-0.613353373821223),(64,87,-1.37192144535661),(64,94,1.03009125034333),(64,99,-2.3836634418775),(64,110,-0.548966948454238),(64,112,-0.2842341380047),(64,116,1.91626483962523),(65,87,2.89391766106143),(65,88,-0.0793023468733787),(65,90,-1.34304330576495),(65,97,-0.201986754966887),(65,99,-4.41578417310099),(65,107,-1.52389599291971),(65,110,-3.66990417188025),(65,111,1.92442091128269),(65,114,1.59865108188116),(65,116,0.501136814477981),(65,117,-0.642567217017121),(66,85,3.34968108157598),(66,102,-1.30185857722709),(66,105,-2.21922971282083),(66,108,1.29499191259499),(66,111,3.82209234900967),(66,115,-0.672643208105716),(66,118,0.159291360209967),(67,86,0.91087069307535),(67,90,-0.182821131015961),(67,92,0.00764488662373708),(67,104,1.75682851649525),(67,109,-0.616229743339335),(67,111,-0.54300057985168),(68,87,0.809198278756066),(68,88,-0.199438459425642),(68,90,-0.208960234382153),(68,93,0.169454023865474),(68,95,-1.13917966246529),(68,96,2.4562669759209),(68,97,0.651371807000946),(68,103,0.237739188818018),(68,107,0.97689748832667),(68,112,-1.21971037934507),(68,114,2.20158238471633),(69,87,-2.43636890774255),(69,88,-2.44203009125034),(69,92,3.78017517624439),(69,94,1.98663289284951),(69,95,0.204016235847041),(69,97,-1.66930143131809),(69,108,0.934308908352916),(69,113,0.144550920133061),(69,114,-2.37632374034852),(69,118,-0.673635059663686),(70,85,-1.44093142490921),(70,86,1.84133426923429),(70,87,-1.64026306955168),(70,90,1.51565599536119),(70,96,-2.32181005279702),(70,97,1.14236884670553),(70,99,-0.21668141727958),(70,105,-2.86428418836024),(70,107,0.0542313913388469),(70,109,-2.00537125766778),(70,110,0.0257881405072176),(70,111,0.668675801873836),(71,85,2.6005355998413),(71,93,0.205710013122959),(71,96,-1.66782128360851),(71,100,-0.523468733787042),(71,104,-2.18909268471328),(71,106,1.50160222174749),(71,111,-1.61301004058962),(71,113,-1.06761375774407),(72,94,0.479476302377392),(72,96,-0.628589739677114),(72,99,0.761040070802942),(72,110,-1.40713217566454),(72,112,1.24306466872158),(72,114,0.623676259651479),(72,115,-0.879543443098239),(72,116,0.469664601580859),(73,88,0.847773674733726),(73,94,-0.265602587969604),(73,99,-0.311136204107791),(73,100,-0.0196691793572802),(73,106,2.13438825647755),(73,110,-1.64742728965117),(73,115,-2.47985778374584),(74,90,0.257820368053224),(74,94,-0.43542283394879),(74,99,-0.292596209601123),(74,102,-1.67682424390393),(74,106,0.165883358256783),(74,107,2.39211706900235),(74,110,-1.68361461226234),(74,113,-1.51242103335673),(74,116,0.785470137638478),(75,85,0.209707937864315),(75,86,-0.98086489455855),(75,93,-0.490661336100345),(75,98,-1.11909085360271),(75,103,-2.39242225409711),(75,105,0.606067079683828),(75,111,2.45190282906583),(75,117,-0.725363933225501),(76,86,-1.4562669759209),(76,89,1.09148686178167),(76,92,-2.32189397869808),(76,94,0.744651631214332),(76,99,-0.0566423535874508),(76,101,-2.45292519913327),(76,103,2.20534379100925),(76,106,0.748832667012543),(76,110,-0.752357554857021),(76,113,-0.987617114780114),(77,88,-1.0039139988403),(77,91,-0.0407345805230872),(77,93,-1.22058778649251),(77,98,1.56793420209357),(77,101,0.120609149449141),(77,102,0.861735892818995),(77,103,1.64624469740898),(77,104,0.423749504074221),(77,105,-1.68063905758843),(77,109,2.63728751487777),(78,88,1.14678640095218),(78,93,0.661275063325907),(78,94,-1.22173223059786),(78,101,1.31778923917356),(78,104,1.83401745658742),(78,110,0.55710776085696),(78,114,0.476775414288766),(78,116,-1.07837153233436),(78,117,0.742347483748894),(78,118,0.594561601611377),(79,87,1.56631672109134),(79,92,2.32413708914457),(79,94,0.0731681264687033),(79,107,0.453810235908078),(79,108,1.35866115298929),(79,114,0.841883602404859),(79,118,1.07670827356792),(80,87,0.363078707235939),(80,88,0.858943449201941),(80,91,-0.367961668752098),(80,99,1.5301980651265),(80,101,-2.04802087466048),(80,107,2.3084505752739),(80,113,0.243079927976318),(81,85,0.483184301278726),(81,86,0.514755699331645),(81,90,-0.559877315591907),(81,93,1.007629627369),(81,96,-0.311075167088839),(81,97,1.68881801812799),(81,106,0.500473036896878),(81,107,0.13556321909238),(81,110,-0.217726676229133),(81,115,0.260773033845027),(82,86,-1.69463179418317),(82,92,-4.20293282876064),(82,110,-0.852443006683554),(82,112,0.946600238044374),(83,87,-0.97460860011597),(83,91,0.359675893429365),(83,93,0.797914059877316),(83,101,1.3412579729606),(83,103,1.34296700949126),(83,105,1.19566942350536),(83,108,-2.25737784966582),(84,85,-1.59797967467269),(84,86,1.4826502273629),(84,89,0.451651051362651),(84,95,0.344431897946104),(84,99,2.33031708731346),(84,104,-1.495864741966),(84,111,-0.973509933774834),(84,113,-0.465834528641621),(84,114,-3.25367748039186),(35,105,1.40462965788751)]
orgname='BHNEAT_6_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()