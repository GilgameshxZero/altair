edge = [(0,85,0.60811181981872),(0,89,3.01110873744926),(0,90,2.14140751365703),(0,93,-1.34546952726829),(0,98,0.234046449171422),(0,101,-1.37008270516068),(0,105,-0.145054475539415),(0,108,-0.184102908413953),(0,113,1.90549943540757),(0,114,-3.2685323648793),(0,117,-1.85171056245613),(0,118,-1.52073732718894),(1,86,-0.0292977690969573),(1,92,-0.634693441572314),(1,98,0.104220709860531),(1,102,-0.115787224951933),(1,104,1.51107821893979),(1,107,-0.885250404370251),(1,108,0.589465010528886),(1,109,1.43498031556139),(1,113,-0.0396435438093204),(2,87,-2.09544663838618),(2,88,2.09349345377972),(2,100,1.73818170720542),(2,106,0.391323587755974),(2,108,1.99893185216834),(2,110,1.9899594103824),(2,113,-0.54292428357799),(2,118,3.77831354716636),(3,89,-1.94454786828211),(3,92,-0.556031983397931),(3,97,0.918149357585376),(3,99,0.297479171117283),(3,101,-2.20365001373333),(3,103,-1.77425458540605),(3,105,0.834406567583239),(3,108,-2.7653584398938),(3,109,1.59102145451216),(3,111,-0.330790124210333),(3,112,1.94372386852626),(3,116,-1.90054017761773),(4,90,-1.35218359935301),(4,91,3.82236701559496),(4,97,-1.47903378398999),(4,99,2.1387829218421),(4,101,-1.02644428846095),(4,108,-1.38271736808374),(4,113,-1.96488845484787),(4,118,0.731299783318583),(5,86,-2.38935514389477),(5,87,-0.162694174016541),(5,89,-0.860133671071505),(5,92,-0.30787072359386),(5,93,-0.356303598132267),(5,99,3.74466689046907),(5,104,-1.02465895565661),(5,114,0.564058351390118),(5,118,1.32361827448347),(6,89,1.90504165776543),(6,92,-2.56424146244697),(6,94,-1.93838312936796),(6,100,-0.615939817499313),(6,101,-3.24306466872158),(6,103,1.61793877986999),(6,107,-0.849604785302286),(6,110,2.17157506027406),(6,113,-0.323145237586596),(7,85,-2.64442884609516),(7,86,-0.142292550431837),(7,90,1.8122653889584),(7,95,-0.124011963255715),(7,99,-0.940733054597613),(7,100,0.845133823664052),(7,104,-2.28673665578173),(7,106,-0.0636310922574541),(7,108,0.0510269478438674),(7,112,1.3459578234199),(7,116,0.32624286629841),(8,92,1.33037812433241),(8,93,-2.36999114963225),(8,95,-0.32235175634022),(8,99,0.164571062349315),(8,106,-0.202108829004791),(8,107,-0.514481032746361),(8,115,2.01785332804346),(8,116,-1.21491134372997),(8,118,0.810419019135105),(9,85,0.705496383556627),(9,87,1.56778160954619),(9,98,0.209555345316935),(9,101,0.0775170140690329),(9,103,1.70102542191839),(9,105,0.507599108859523),(9,106,1.97962889492477),(9,113,0.920117801446577),(10,89,-1.14142277291177),(10,96,0.323389385662404),(10,106,0.80214850306711),(10,108,2.41264076662496),(10,109,-0.377834406567583),(10,111,1.34681234168523),(10,112,-2.31337931455428),(10,114,-2.18749046296579),(10,115,-0.786004211554308),(10,116,-0.271614734336375),(10,117,1.92548905911435),(11,89,-0.135868404187139),(11,97,2.93511764885403),(11,105,-0.604647968993194),(11,112,0.0411084322641683),(11,115,-1.11384929960021),(12,92,-1.9593188268685),(12,93,-1.26931058687094),(12,94,-1.94296090578936),(12,97,-0.942228461561937),(12,98,1.93099765007477),(12,99,2.29642628254036),(12,108,1.082644123661),(12,116,-1.08423108615375),(13,86,-0.533265175328837),(13,87,-1.83944212164678),(13,90,-0.470107119968261),(13,99,0.696676534318064),(13,102,0.156407361064486),(13,104,-0.303262428662984),(13,113,2.15636158330027),(13,116,-0.113254188665426),(13,118,3.23999755851924),(14,90,-0.600787377544481),(14,93,-0.614993743705557),(14,95,3.60225226599933),(14,102,1.36114078188421),(14,104,0.43877986999115),(14,106,1.81340983306375),(14,109,-0.0790124210333568),(14,110,-1.49893185216834),(14,111,-2.24550614947966),(15,85,-1.67909787285989),(15,92,1.50163274025697),(15,99,-1.42365794854579),(15,101,-1.94860683004242),(15,104,-1.35131382183294),(15,108,4.01516769920957),(15,117,-2.05009613330485),(16,86,-1.92342905972472),(16,87,-0.832178716391492),(16,88,-1.83117160557878),(16,90,-0.626117740409559),(16,91,0.505767998290964),(16,95,1.39480269783624),(16,97,-2.27367473372601),(16,98,1.67920468764306),(16,99,1.60251167332987),(16,101,0.277184362315745),(16,108,-0.161763359477523),(16,110,2.74263740958892),(17,89,-0.484328745384075),(17,96,-0.91720328379162),(17,99,-2.10707419049654),(17,101,-3.61030915250099),(17,106,-1.26541947691275),(17,107,0.952375865962706),(17,109,-0.546494949186682),(18,90,0.793145542771691),(18,91,-1.18182927945799),(18,93,-0.642628254036073),(18,99,-2.25882747886593),(18,102,-0.553254799035615),(18,103,-0.136310922574541),(18,104,0.76464125492111),(18,110,-1.74149296548357),(18,111,2.53088473158971),(18,116,-2.64244514297922),(18,117,-0.291604358043153),(18,118,0.248649555955687),(19,87,1.34580523087252),(19,89,0.0807519760734886),(19,93,0.356227301858577),(19,95,-1.10393078402051),(19,101,-1.65091402935881),(19,105,-1.7699362163152),(19,115,-2.18153935361797),(20,88,2.42004150517289),(20,101,-2.12732322153386),(20,103,-0.743537705618458),(20,104,-1.36857203894162),(20,105,-2.00181585131382),(20,106,-0.739600817896054),(20,111,0.523087252418592),(20,116,-1.0623645741142),(21,86,0.752586443678091),(21,87,0.573427533799249),(21,94,-2.58894619586779),(21,96,1.08043153172399),(21,101,2.85000152592547),(21,102,1.06820886867885),(21,105,0.041291543321024),(21,107,-1.29393902401807),(21,108,0.524048585467086),(22,86,-2.78119754631184),(22,88,-1.12907803582873),(22,91,-1.44267097994934),(22,92,-1.03787347025971),(22,93,0.585436567278054),(22,98,-0.329966124454482),(22,106,-1.4150669881283),(22,115,-0.448545793023469),(22,117,-1.67714468825343),(23,85,0.530732139042329),(23,86,-3.02394177068392),(23,88,-0.886562700277718),(23,90,0.490615558336131),(23,97,1.60908841212195),(23,104,1.05754264961699),(23,112,-0.0743888668477433),(23,114,0.270027771843623),(23,115,-0.776970732749413),(23,116,-1.62404248176519),(24,89,0.0298623615222633),(24,90,-1.84720908230842),(24,91,-0.0817133091219828),(24,101,1.46327097384564),(24,107,-1.67371135593738),(24,108,-0.00709555345316935),(24,110,-1.12309640797143),(24,112,1.32943205053865),(25,90,-2.15857417523728),(25,92,1.02598651081881),(25,94,0.970793786431471),(25,98,-0.104647968993194),(25,105,0.692236091189306),(25,108,1.79784539323099),(25,109,1.24814600054933),(25,115,1.03982665486618),(26,85,1.42413098544267),(26,87,1.88285470137638),(26,89,0.533692434461501),(26,95,0.618152409436323),(26,98,-0.777230140079958),(26,100,-0.0336466566972868),(26,101,0.491424298837245),(26,102,-1.68027283547472),(26,103,0.320032349620044),(26,104,0.811471907712027),(26,107,0.866481521042512),(26,109,-0.75731681264687),(26,112,0.274834437086093),(26,113,-0.757911923581652),(26,117,0.689657277138584),(27,85,-3.02003540147099),(27,87,0.499603259376812),(27,94,-1.08026367992187),(27,100,1.77918332468642),(27,102,0.2150028992584),(27,103,-1.67325357829524),(27,104,-2.5848109378338),(27,105,0.903256324961089),(27,108,0.959120456556902),(27,110,-0.0198522904141362),(27,114,-1.54249702444533),(28,87,-0.123752555925169),(28,88,-1.99343852046266),(28,97,-1.39767143772698),(28,99,-0.40881069368572),(28,104,0.135425885799738),(28,113,-0.948973052156133),(28,114,2.18520157475509),(29,88,1.29654835657826),(29,91,2.23754081850642),(29,102,1.02250740073855),(29,105,0.746848963896604),(29,116,0.898052919095431),(30,95,1.82737205114902),(30,96,0.764061403241066),(30,99,-0.472518082216865),(30,101,0.849711600085452),(30,104,-0.0746177556688131),(30,109,1.13330484939116),(30,110,-0.893505661183508),(30,114,1.36291085543382),(30,118,-2.03154087954344),(31,85,-1.79740287484359),(31,92,-0.00645466475417339),(31,94,-1.97257911923582),(31,96,0.958540604876857),(31,99,1.16588335825678),(31,103,-0.752891628772851),(31,107,2.39585558641316),(31,108,1.91801202429273),(31,109,-0.380840479750969),(31,111,2.06196783349101),(31,112,-1.62259285256508),(31,117,-2.78768272957549),(32,86,1.45374919888913),(32,87,-0.202887050996429),(32,89,0.441831720938749),(32,92,1.27086703085421),(32,98,0.3699301126133),(32,99,3.03399761955626),(32,104,3.26940214239937),(32,106,-0.961561937314982),(32,109,0.926023133030183),(32,116,2.3162785729545),(32,118,2.28049562059389),(33,96,-0.873241370891446),(33,98,-2.39330729087191),(33,108,-2.87823114719077),(33,110,-0.883236182744835),(33,111,1.76534318063906),(33,114,1.73094882045961),(34,85,-0.651051362651448),(34,90,-0.968199713126011),(34,99,-1.4532151249733),(34,104,0.101947080904568),(34,109,-0.0337229529709769),(35,86,0.126346629230628),(35,87,0.550294503616443),(35,97,-0.0489059114352855),(35,98,1.06395153660695),(35,100,-1.29236732078005),(35,104,0.168431653798028),(35,107,0.283455916013062),(35,109,-3.50238044373913),(35,110,-0.228141117587817),(35,112,-0.810037537766656),(36,85,-0.832789086581011),(36,87,1.38787499618519),(36,90,-1.25019074068422),(36,91,0.906933805352947),(36,104,-0.10864589373455),(36,107,-0.844660786767174),(36,109,0.32120731223487),(36,112,1.79273354289377),(36,115,0.796227912228767),(36,117,-1.62927640614032),(36,118,0.622959074678793),(37,85,2.7372508926664),(37,86,0.697882015442366),(37,87,-3.40701010162664),(37,91,2.99638355662709),(37,99,-0.752220221564379),(37,105,-1.09297463911863),(37,111,-1.6483809930723),(37,112,0.0421918393505661),(37,118,-2.68520157475509),(38,87,0.187749870296335),(38,90,3.44369335001679),(38,103,1.341700491348),(38,105,1.61203344828639),(38,106,1.05555894650105),(38,111,0.54071169164098),(38,115,0.691488387707144),(39,87,0.508835108493301),(39,89,-1.0589922788171),(39,91,-2.33298745689261),(39,94,-1.05894650105289),(39,97,-0.54750205999939),(39,98,0.135074922940764),(39,107,-1.20381786553545),(39,108,-1.26418347727897),(39,109,2.57147434919279),(39,111,2.49304177983947),(39,113,1.17174291207617),(39,116,2.66356395153661),(39,118,-1.36146122623371),(40,88,-0.414700766014588),(40,92,-1.38142033143101),(40,99,0.349665822321238),(40,104,-0.0629749443037202),(40,110,3.53205969420454),(40,116,3.05629139072848),(40,118,-1.07921079134495),(41,88,-0.674993133335368),(41,93,2.23488570818201),(41,96,-2.21552171391949),(41,97,2.44193853572192),(41,100,1.63144322031312),(41,101,2.67522202215644),(41,104,1.56488235114597),(41,105,0.818414868617817),(41,106,-1.26967680898465),(41,107,-3.01248207037568),(41,109,0.586947233497116),(41,110,-1.45870845667898),(41,111,0.065462202826014),(41,112,0.773796807763909),(42,85,2.15616321298868),(42,86,0.0835139011810663),(42,87,3.57956175420392),(42,99,0.622119815668203),(42,100,0.228324228644673),(42,103,-2.93961912900174),(42,109,-0.712652974028748),(42,113,-0.198904385509812),(43,85,-3.77410199285867),(43,88,0.10757774590289),(43,89,1.47375408185064),(43,93,2.29956968901639),(43,97,-1.30643635364849),(43,98,3.09198278756066),(43,101,2.41637928403577),(43,102,0.784096804712058),(43,103,2.17986083559679),(43,105,-2.56439405499435),(43,110,0.762443922238838),(43,112,-1.27611621448408),(43,114,-2.48358104190191),(43,116,0.473036896877956),(44,89,0.907620471816156),(44,98,3.73615222632527),(44,99,0.749778740806299),(45,87,2.28218939786981),(45,88,-1.61435285500656),(45,90,-5.64888454847865),(45,91,2.69403668324839),(45,95,-0.337199011200293),(45,98,-1.31641590624714),(45,108,2.19740897854549),(45,109,1.75096896267586),(45,112,-2.57020783104953),(45,115,-3.23207800531022),(46,85,-2.34014404736473),(46,89,1.38080996124149),(46,91,-0.817819757683035),(46,94,-0.12717062898648),(46,97,0.658040101321451),(46,100,-1.07400738547929),(46,101,1.50793481246376),(46,108,-2.15933713797418),(46,112,-0.144230475783563),(47,86,-1.76519058809168),(47,91,3.44972075563829),(47,92,-1.05914487136448),(47,94,0.418866542558061),(47,95,-0.689184240241707),(47,100,-1.17801446577349),(47,101,-2.10692159794916),(47,104,-2.55119479964599),(47,105,0.433576464125492),(47,108,-0.282143620105594),(47,112,-0.0453962828455458),(47,114,0.806833094271676),(47,118,0.621585741752373),(48,86,2.81986449781793),(48,91,1.47709585863826),(48,98,2.89835810419019),(48,99,-1.42509231849116),(48,100,-0.244895779290139),(48,103,2.44674520096439),(48,105,-0.116428113650929),(48,106,-4.08764915921506),(48,111,-0.95753349406415),(48,115,-0.1067384868923),(49,87,1.06451612903226),(49,89,-0.305063020722068),(49,93,3.46633808404797),(49,94,-0.705969420453505),(49,95,1.26810510574664),(49,102,-1.09430219428083),(49,113,1.04556413464766),(49,114,1.00387585070345),(50,89,-1.54103213599048),(50,105,5.75275429548021),(50,107,-3.78403576769311),(51,87,-1.22768333994568),(51,92,0.27774895474105),(51,97,-0.678395947141942),(51,98,1.70723593859676),(51,103,1.07243568224128),(51,106,0.0666829432050539),(51,112,1.7490157780694),(51,118,-1.51924192022462),(52,89,-0.673802911465804),(52,97,-0.473830378124332),(52,106,-0.626163518173772),(52,110,-0.611209448530534),(52,111,0.565996276741844),(52,113,0.308542130802332),(52,114,-0.633777886288034),(52,118,-0.190313425092318),(53,88,1.65825373088778),(53,90,-1.07760856959746),(53,92,-1.98066652424696),(53,94,-0.736411633655812),(53,104,-1.57719656971953),(53,105,-0.164967802972503),(53,109,0.885250404370251),(54,85,1.39947202978607),(54,91,3.46110415967284),(54,94,0.811487166966765),(54,96,0.147862178411206),(54,111,2.14529862361522),(54,112,0.0076448866237373),(54,113,1.0551774651326),(54,118,-0.0560625019074068),(55,87,-0.739524521622364),(55,95,-3.4881130405591),(55,107,-2.75490585039827),(55,110,-1.89565721610157),(55,117,1.65349284340953),(56,107,-0.695822016052736),(56,111,0.0404980620746482),(56,113,0.0775933103427229),(56,114,1.1683400982696),(57,87,0.736030152287362),(57,90,-1.24878688924833),(57,91,-2.71011993774224),(57,92,-1.65890987884152),(57,93,-1.58909878841517),(57,94,1.03645435956908),(57,95,0.980773339030122),(57,96,-1.44882045960875),(57,100,1.65878780480361),(57,102,0.32731101413007),(57,103,-1.830576494644),(57,115,-1.60992767113254),(58,86,2.46551408429212),(58,87,1.80486465041047),(58,89,-0.383373516037477),(58,90,0.774407177953429),(58,95,-0.887264625995666),(58,96,1.60992767113254),(58,101,-2.0841700491348),(58,103,-0.921735282448805),(58,109,-1.96653645435957),(58,110,2.08578753013703),(58,113,0.59218115787225),(58,114,-1.62556840723899),(58,115,0.875804925687429),(58,118,-1.16618854335154),(59,85,-1.33370464186529),(59,86,-0.203100680562761),(59,90,0.681890316476943),(59,91,-2.47268593401898),(59,93,-4.51559495834223),(59,97,-1.22045045319987),(59,98,1.61903744621113),(59,100,-3.5520035401471),(59,102,1.15637684255501),(59,112,-2.06099124118778),(59,114,-0.442091128269295),(60,85,1.55053865169225),(60,87,-0.164860988189337),(60,90,-1.55758842738121),(60,91,1.05082857753227),(60,96,0.775902584917753),(60,100,0.0686361278115177),(60,101,2.36213263344218),(60,105,-0.535447248756371),(60,107,-1.57066560869167),(60,109,4.12057863093967),(60,110,-2.51623584704123),(60,114,-3.50712607196265),(61,89,-0.249717703787347),(61,94,-2.48863185522019),(61,96,1.33182775353252),(61,98,0.158925138096255),(61,100,-0.708792382580035),(61,102,-0.275124362926115),(61,103,-0.267113254188665),(61,114,-1.41497543259987),(61,115,2.12858973967711),(62,93,-1.34589678640095),(62,95,-2.4732963042085),(62,107,-0.744804223761711),(62,109,1.10419019135105),(62,110,-1.35402996917631),(62,111,-2.6669362468337),(63,87,4.24871059297464),(63,90,1.49685659352397),(63,93,0.2165288247322),(63,97,-0.443891720328379),(63,100,0.0661946470534379),(63,103,-1.29728080080569),(63,104,-2.42350535599841),(63,108,-1.04161198767052),(63,111,1.32815027314066),(63,114,-0.335520493179113),(63,117,-1.46218756675924),(64,87,-0.75762199774163),(64,94,0.139408551286355),(64,99,-2.40569780571917),(64,110,-1.67639698477126),(64,112,1.93758964812159),(64,116,-0.457197790459914),(65,87,-2.2674489577929),(65,88,-0.0688497573778497),(65,90,-1.20265816217536),(65,97,1.42167424542985),(65,99,-1.67575609607227),(65,107,0.287682729575487),(65,110,0.0730002746665852),(65,111,-2.23494674520096),(65,114,-3.12012085329753),(65,116,-0.905255287331767),(65,117,3.23297830133976),(66,85,2.25597399822993),(66,102,3.00888088625751),(66,105,-1.50094607379376),(66,108,1.87040314951018),(66,111,-1.56613361003449),(66,115,-0.933713797418134),(66,118,1.35830256050295),(67,86,0.596224860377819),(67,90,2.28582110049745),(67,92,0.491286965544603),(67,104,-0.561159092989898),(67,109,-0.769356364635151),(67,111,-2.57452620014039),(68,87,4.19631031220435),(68,88,-1.56596575823237),(68,90,-1.94416638691366),(68,93,1.86140018921476),(68,95,-0.0823236793115023),(68,96,3.5),(68,97,1.4240241706595),(68,103,2.28431043427839),(68,107,-0.140690328684347),(68,112,-0.897854548783837),(68,114,-5.09657582323679),(69,87,3.13708914456618),(69,88,-1.39545884578997),(69,92,-1.57795953245643),(69,94,0.49519333475753),(69,95,-0.418332468642232),(69,97,-0.842463454084903),(69,108,-2.90690328684347),(69,113,-2.76393932920316),(69,114,3.76880703146458),(69,118,3.07113864558855),(70,85,-3.4722128971221),(70,86,-2.81104464857936),(70,87,2.4273964659566),(70,90,0.739188818018128),(70,96,-0.00350962858973968),(70,97,0.732215338602863),(70,99,-2.89889217810602),(70,105,-0.960997344889676),(70,107,0.770348216193121),(70,109,0.465865047151097),(70,110,-1.38027588732566),(70,111,1.54013183996094),(71,85,-1.14230780968657),(71,93,1.14589373455),(71,96,-0.202932828760643),(71,100,1.48912015137181),(71,104,0.245674001281777),(71,106,-2.00688192388684),(71,111,0.767967772453993),(71,113,0.171361430707724),(72,94,1.46736045411542),(72,96,-2.50311288796655),(72,99,1.76290169988098),(72,110,0.943479720450453),(72,112,-3.1578569902646),(72,114,-0.351466414380322),(72,115,2.42896816919462),(72,116,-0.537522507400739),(73,88,1.48820459608753),(73,94,-1.82296212652974),(73,99,-2.14041566209906),(73,100,0.450300607318339),(73,106,1.52966399121067),(73,110,1.54942472609638),(73,115,2.06534012878811),(74,90,-1.13672292245247),(74,94,-1.61117893002106),(74,99,1.71452986236152),(74,102,-1.45527512436293),(74,106,2.28102969450972),(74,107,3.98861659596545),(74,110,0.174352244636372),(74,113,-0.859706411938841),(74,116,0.10643330179754),(75,85,-1.6101107821894),(75,86,1.81051057466353),(75,93,-0.636509292886136),(75,98,-0.355693227942747),(75,103,-2.94119083223975),(75,105,1.42159794915616),(75,111,1.7857600634785),(75,117,-1.71591845454268),(76,86,2.05616931669057),(76,89,-0.388317514572588),(76,92,0.925199133274331),(76,94,-2.18962675862911),(76,99,2.02589495529038),(76,101,-1.50852992339854),(76,103,1.80555131687368),(76,106,-1.22647785882137),(76,110,-0.644322031311991),(76,113,-1.84301278725547),(77,88,-1.44093142490921),(77,91,2.00617999816889),(77,93,1.21768852809229),(77,98,-2.08655049287393),(77,101,1.977111117893),(77,102,-1.6634418774987),(77,103,1.5172276985992),(77,104,-1.18121890926847),(77,105,-0.254280220954009),(77,109,-1.67284157841731),(78,88,-0.227347636341441),(78,93,1.52548295541246),(78,94,1.55807672353282),(78,101,1.63109225745415),(78,104,-1.42280343028047),(78,110,-2.53170873134556),(78,114,1.15764336069826),(78,116,-1.80036317026276),(78,117,1.65044099246193),(78,118,1.4467909787286),(79,87,-1.19858394116031),(79,92,2.04443494979705),(79,94,1.66760765404218),(79,107,2.16458632160405),(79,108,-0.504531998657186),(79,114,3.3484450819422),(79,118,0.942335276345103),(80,87,1.75855281228065),(80,88,1.39057588427381),(80,91,-0.167073580126347),(80,99,-1.43235572374645),(80,101,2.06643879512925),(80,107,-0.174428540910062),(80,113,-1.75099948118534),(81,85,1.8427838984344),(81,86,-2.07274086733604),(81,90,-3.77217932676168),(81,93,-0.634647663808099),(81,96,0.912945951719718),(81,97,-2.33071382793664),(81,106,-2.26564836573382),(81,107,0.76059755241554),(81,110,1.72229682302316),(81,115,1.01672414319285),(82,86,-1.46557512131108),(82,92,3.43592638935514),(82,110,-1.05403302102725),(82,112,0.0928830835901975),(83,87,-0.97460860011597),(83,91,2.28675191503647),(83,93,-0.586443678090762),(83,101,-0.010834070863979),(83,103,0.681630909146397),(83,105,-0.311029389324625),(83,108,-1.341700491348),(84,85,-1.36214789269692),(84,86,1.78081606494339),(84,89,-1.74266792809839),(84,95,-2.0830866420484),(84,99,2.14796899319437),(84,104,1.03137302774133),(84,111,0.0777459028901029),(84,113,-1.38756981109043),(84,114,1.52815332499161),(35,105,1.51724295785394)]
orgname='BHNEAT_12_7'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()