edge = [(0,85,-0.978637043366802),(0,89,-0.275368511001923),(0,90,-0.177098910489212),(0,93,0.874233222449416),(0,98,0.916837061677908),(0,101,-0.0352793969542528),(0,105,0.0627765739921262),(0,108,-0.0916165654469436),(0,113,-0.542588579973754),(0,114,-0.767418439283425),(0,117,0.258095034638508),(0,118,-0.633838923306986),(1,86,-0.43671987060152),(1,92,0.519791253395184),(1,98,-0.578295236060671),(1,102,0.28385265663625),(1,104,0.653889584032716),(1,107,0.854243598742637),(1,108,-0.712851344340342),(1,109,0.942014831995605),(1,113,0.554429761650441),(2,87,-0.334727011932737),(2,88,0.619861445966979),(2,100,-0.17658009582812),(2,106,-0.761619922482986),(2,108,-0.140537736136967),(2,110,-0.0456556901760918),(2,113,0.899899288918729),(2,118,-0.243476668599506),(3,89,-0.804559465315714),(3,92,-0.169347209082308),(3,97,0.16879787591174),(3,99,0.520004882961516),(3,101,-0.076601458784753),(3,103,-0.372203741569262),(3,105,0.110690633869442),(3,108,0.995025482955412),(3,109,-0.911801507614368),(3,111,0.132419812616352),(3,112,0.974120303964354),(3,116,-0.41331217383343),(4,90,0.583574938200018),(4,91,0.0444044312875759),(4,97,-0.304574724570452),(4,99,0.442701498458815),(4,101,0.922238837855159),(4,108,-0.963591418195135),(4,113,0.245460371715445),(4,118,0.380932035279397),(5,86,0.678121280556658),(5,87,-0.275582140568255),(5,89,-0.963621936704611),(5,92,0.987853633228553),(5,93,0.0098269600512711),(5,99,-0.291116061891537),(5,104,-0.200262459181494),(5,114,0.442274239326151),(5,118,-0.097689748832667),(6,89,0.765312662129582),(6,92,0.946836756492813),(6,94,0.424268318735313),(6,100,-0.881832331308939),(6,101,0.542222357860042),(6,103,-0.245460371715445),(6,107,0.321878719443342),(6,110,-0.925565355388043),(6,113,0.324533829767754),(7,85,0.115207373271889),(7,86,0.56343272194586),(7,90,0.403576769310587),(7,95,0.567888424329356),(7,99,0.602404858546709),(7,100,0.0743430890835292),(7,104,-0.215430158391064),(7,106,-0.500564592425306),(7,108,0.956724753563036),(7,112,-0.859340189825129),(7,116,-0.223670155949583),(8,92,0.267891476180303),(8,93,-0.931852168340098),(8,95,-0.709341715750603),(8,99,0.617023224585711),(8,106,-0.201940977202673),(8,107,-0.211249122592853),(8,115,-0.0335398419141209),(8,116,-0.398876918851283),(8,118,0.21591845454268),(9,85,0.959044160283212),(9,87,0.816583758049257),(9,98,0.000488296151615955),(9,101,0.323679311502426),(9,103,-0.49565111239967),(9,105,0.700277718436232),(9,106,-0.0192266609698782),(9,113,-0.284371471297342),(10,89,0.0986968596453749),(10,96,-0.190923795281838),(10,106,-0.0818811609241005),(10,108,0.371959593493454),(10,109,0.928739280373547),(10,111,0.991241187780389),(10,112,0.832941679128391),(10,114,-0.269600512710959),(10,115,0.0799890133365886),(10,116,-0.457289345988342),(10,117,0.0478530228583636),(11,89,0.0893887142551958),(11,97,-0.756279183324686),(11,105,0.180730613116855),(11,112,0.871364482558672),(11,115,-0.516708883938108),(12,92,0.571550645466475),(12,93,-0.695669423505356),(12,94,-0.180761131626331),(12,97,0.0798669392986847),(12,98,0.975951414532914),(12,99,-0.310708944975127),(12,108,-0.0741294595171972),(12,116,-0.544633320108646),(13,86,-0.806360057374798),(13,87,0.0661030915250099),(13,90,-0.48368785668508),(13,99,-0.433698538163396),(13,102,-0.962431714835047),(13,104,0.815637684255501),(13,113,-0.914059877315592),(13,116,-0.671193578905606),(13,118,0.207007049775689),(14,90,0.433759575182348),(14,93,-0.305459761345256),(14,95,0.352366710409864),(14,102,-0.0922879726554155),(14,104,0.147556993316446),(14,106,0.022125919370098),(14,109,0.637958922086245),(14,110,-0.010406811731315),(14,111,-0.993835261085849),(15,85,-0.965544602801599),(15,92,0.773827326273385),(15,99,0.369212927640614),(15,101,0.401104770043031),(15,104,-0.812616351817377),(15,108,0.23535874507889),(15,117,-0.893063142796106),(16,86,0.896633808404798),(16,87,-0.379100924710837),(16,88,0.99725333414716),(16,90,-0.0486465041047395),(16,91,-0.938505203405866),(16,95,-0.107821893978698),(16,97,0.927732169560839),(16,98,-0.595782341990417),(16,99,0.872554704428236),(16,101,0.682058168279061),(16,108,0.308236945707572),(16,110,-0.263069551683096),(17,89,-0.0144962920010987),(17,96,-0.763512070070498),(17,99,0.47804193243202),(17,101,-0.548905911435286),(17,106,0.857020783104953),(17,107,-0.856013672292245),(17,109,-0.603656117435225),(18,90,-0.646961882381665),(18,91,-0.401532029175695),(18,93,-0.293435468611713),(18,99,-0.573320719016083),(18,102,-0.497207556382946),(18,103,0.615558336130863),(18,104,0.353221228675192),(18,110,-0.0166936246833705),(18,111,-0.961638233588672),(18,116,0.0144962920010987),(18,117,0.494613483077486),(18,118,0.449293496505631),(19,87,0.124942777794733),(19,89,-0.368846705526902),(19,93,0.72179326761681),(19,95,0.541947691274758),(19,101,0.720450453199866),(19,105,0.535996581926939),(19,115,0.0722678304391614),(20,88,0.515488143559069),(20,101,-0.680806909390545),(20,103,0.417493209631642),(20,104,0.230323191015351),(20,105,-0.660206915494247),(20,106,-0.813715018158513),(20,111,-0.0410168767357402),(20,116,-0.264900662251656),(21,86,-0.980376598406934),(21,87,0.602893154698324),(21,94,-0.767326883754997),(21,96,-0.493270668660543),(21,101,-0.963713492233039),(21,102,-0.133640552995392),(21,105,0.622333445234535),(21,107,0.469100009155553),(21,108,0.476119266335032),(22,86,0.143833735160375),(22,88,-0.754173406170843),(22,91,-0.0957365642262032),(22,92,0.780999176000244),(22,93,0.199468977935118),(22,98,-0.0151371807000946),(22,106,0.864711447492904),(22,115,-0.683828241828669),(22,117,-0.995696890163884),(23,85,-0.668935209204382),(23,86,-0.218573564867092),(23,88,-0.80184331797235),(23,90,0.782341990417188),(23,97,0.222357860042116),(23,104,0.0397350993377483),(23,112,0.958403271584216),(23,114,0.914944914090396),(23,115,-0.382641071810053),(23,116,0.263283181249428),(24,89,-0.702505569627979),(24,90,-0.530320139164403),(24,91,0.139316995757927),(24,101,-0.615497299111911),(24,107,-0.953520310068056),(24,108,0.34751426740318),(24,110,0.971373638111515),(24,112,0.477065340128788),(25,90,-0.770439771721549),(25,92,-0.593462935270241),(25,94,-0.179052095095676),(25,98,-0.871395001068148),(25,105,0.246711630603961),(25,108,-0.0538346507156591),(25,109,-0.341257972960601),(25,115,-0.577837458418531),(26,85,0.529496139408551),(26,87,-0.248817407757805),(26,89,-0.897183141575365),(26,95,0.370067445905942),(26,98,-0.964415417950987),(26,100,0.733817560350353),(26,101,0.853572191534166),(26,102,0.379284035767693),(26,103,-0.364848780785546),(26,104,0.52531510361034),(26,107,-0.616748558000427),(26,109,-0.582445753349406),(26,112,-0.406781212805567),(26,113,0.651692251350444),(26,117,0.949583422345653),(27,85,0.415692617572558),(27,87,-0.14798425244911),(27,94,0.828882717368084),(27,100,0.0535294656208991),(27,102,0.512527848139897),(27,103,0.672872096926786),(27,104,-0.261238441114536),(27,105,-0.775749992370373),(27,108,-0.56709494308298),(27,110,-0.861720633564257),(27,114,-0.567369609668264),(28,87,0.940916165654469),(28,88,0.32258064516129),(28,97,-0.285500656147954),(28,99,-0.83074434644612),(28,104,0.808465834528642),(28,113,0.684286019470809),(28,114,-0.225165562913907),(29,88,0.775627918332469),(29,91,0.654652546769616),(29,102,0.958098086489456),(29,105,-0.816400646992401),(29,116,-0.0678121280556658),(30,95,0.479354228339488),(30,96,-0.21362956633198),(30,99,0.318857387005219),(30,101,0.740409558397168),(30,104,-0.838282418286691),(30,109,-0.772698141422773),(30,110,-0.511062959685049),(30,114,0.74459059419538),(30,118,-0.80001220740379),(31,85,0.822321237830744),(31,92,0.209570604571673),(31,94,-0.625446333201086),(31,96,0.0278328806421094),(31,99,0.153263954588458),(31,103,0.91384624774926),(31,107,-0.322641682180242),(31,108,0.987121189001129),(31,109,0.0231635486922819),(31,111,-0.575426496169927),(31,112,-0.0963774529251991),(31,117,0.276924954985199),(32,86,0.144901882992035),(32,87,0.492873928037355),(32,89,0.578051087984863),(32,92,0.087466048158208),(32,98,-0.799798577837458),(32,99,-0.330912198248238),(32,104,0.945951719718009),(32,106,0.78179265724662),(32,109,0.075899533066805),(32,116,0.26517532883694),(32,118,-0.226233710745567),(33,96,0.602954191717276),(33,98,0.231391338847011),(33,108,-0.251777703176977),(33,110,0.718619342631306),(33,111,-0.506118961149937),(33,114,-0.182714316232795),(34,85,0.421613208410901),(34,90,-0.547166356395154),(34,99,0.115482039857173),(34,104,0.117923520615253),(34,109,-0.600146488845485),(35,86,0.336008789330729),(35,87,-0.806360057374798),(35,97,0.234992522965178),(35,98,-0.9518112735374),(35,100,-0.0102237006744591),(35,104,0.912106692709128),(35,107,0.605090487380596),(35,109,0.749504074221015),(35,110,-0.721579638050478),(35,112,0.0563371684926908),(36,85,-0.160679952391125),(36,87,0.269203772087771),(36,90,0.899288918729209),(36,91,0.609881893368328),(36,104,0.809198278756066),(36,107,0.809564500869777),(36,109,-0.425763725699637),(36,112,0.272682882168035),(36,115,-0.670888393810846),(36,117,0.836207159642323),(36,118,0.937589648121586),(37,85,-0.780999176000244),(37,86,-0.442335276345103),(37,87,0.251441999572741),(37,91,-0.250984221930601),(37,99,0.73940244758446),(37,105,0.884823145237587),(37,111,0.788872951445051),(37,112,-0.91293069246498),(37,118,0.577715384380627),(38,87,0.437299722281564),(38,90,-0.532609027375103),(38,103,-0.876613666188543),(38,105,0.63319803460799),(38,106,0.95501571703238),(38,111,0.562181463057344),(38,115,0.302468947416608),(39,87,0.357371745963927),(39,89,-0.572527237769707),(39,91,-0.72179326761681),(39,94,-0.483901486251411),(39,97,0.648274178289132),(39,98,0.692190313425092),(39,107,-0.514938810388501),(39,108,0.897946104312265),(39,109,0.307351908932768),(39,111,-0.0972014526810511),(39,113,-0.124027222510453),(39,116,0.381115146336253),(39,118,-0.621509445478683),(40,88,0.190191351054415),(40,92,-0.554795983764153),(40,99,0.430372020630512),(40,104,-0.0701315347758416),(40,110,0.356242561113315),(40,116,-0.905819879757073),(40,118,0.628528702658162),(41,88,0.157231360820338),(41,93,0.451216162602618),(41,96,0.763176366466262),(41,97,0.195348979155858),(41,100,0.36832789086581),(41,101,0.415173802911466),(41,104,-0.719840083010346),(41,105,-0.663228247932371),(41,106,-0.252510147404401),(41,107,0.010498367259743),(41,109,0.0203253273110141),(41,110,0.677938169499802),(41,111,-0.629566331980346),(41,112,-0.685323648792993),(42,85,0.330179754020814),(42,86,0.924405652027955),(42,87,0.921872615741447),(42,99,0.5616016113773),(42,100,-0.630420850245674),(42,103,-0.177526169621876),(42,109,0.611529892880032),(42,113,-0.548661763359477),(43,85,-0.237220374156926),(43,88,0.47804193243202),(43,89,-0.822382274849696),(43,93,-0.581225012970367),(43,97,0.946378978850673),(43,98,0.433118686483352),(43,101,0.0270088808862575),(43,102,0.982879116183966),(43,103,0.302713095492416),(43,105,0.642231513412885),(43,110,0.878841517380291),(43,112,-0.95425275429548),(43,114,-0.994933927426984),(43,116,0.248023926511429),(44,89,0.16895046845912),(44,98,0.186346018860439),(44,99,-0.374706259346294),(45,87,-0.61192663350322),(45,88,0.90850550859096),(45,90,0.598803674428541),(45,91,0.101657155064547),(45,95,-0.115085299233985),(45,98,-0.535294656208991),(45,108,-0.203192236091189),(45,109,-0.912594988860744),(45,112,0.0840479750968963),(45,115,0.246192815942869),(46,85,-0.0912503433332316),(46,89,-0.516067995239113),(46,91,-0.841639454329051),(46,94,0.45402386547441),(46,97,-0.548234504226814),(46,100,0.612018189031648),(46,101,-0.882534257026887),(46,108,0.369457075716422),(46,112,0.291116061891537),(47,86,0.0362865077669607),(47,91,-0.174321726126896),(47,92,-0.708273567918943),(47,94,-0.831965086825159),(47,95,-0.0300912503433332),(47,100,0.583147679067354),(47,101,-0.523270363475448),(47,104,0.966124454481643),(47,105,-0.634510330515458),(47,108,0.424390392773217),(47,112,0.161259804071169),(47,114,-0.385540330210273),(47,118,-0.210150456251717),(48,86,0.138676107058931),(48,91,0.345194860683004),(48,98,0.417157506027406),(48,99,0.0815759758293405),(48,100,0.0924710837122715),(48,103,0.381206701864681),(48,105,0.885952330088199),(48,106,-0.306894131290628),(48,111,-0.503952146977142),(48,115,0.490493484298227),(49,87,-0.103396710104678),(49,89,0.572222052674947),(49,93,0.493667409283731),(49,94,0.266487624744407),(49,95,0.980773339030122),(49,102,-0.211310159611805),(49,113,-0.260567033906064),(49,114,-0.256874294259468),(50,89,0.267220068971831),(50,105,-0.350016785180212),(50,107,-0.382518997772149),(51,87,0.67055269020661),(51,92,0.913296914578692),(51,97,0.175786614581744),(51,98,-0.24222540971099),(51,103,-0.209692678609577),(51,106,0.559099093600269),(51,112,0.332346568193609),(51,118,-0.578020569475387),(52,89,-0.0268257698294015),(52,97,0.147556993316446),(52,106,0.43900875881222),(52,110,-0.159520249031037),(52,111,-0.80687887203589),(52,113,0.662831507309183),(52,114,0.73543504135258),(52,118,-0.588641010773034),(53,88,0.97399822992645),(53,90,0.993346964934233),(53,92,-0.850978118228706),(53,94,0.225012970366527),(53,104,0.0238349559007538),(53,105,-0.920316171758171),(53,109,0.699331644642476),(54,85,-0.237220374156926),(54,91,0.980620746482742),(54,94,0.230964079714347),(54,96,0.498001037629322),(54,111,-0.778221991637928),(54,112,-0.978789635914182),(54,113,0.956755272072512),(54,118,-0.912900173955504),(55,87,-0.286233100375378),(55,95,0.970488601336711),(55,107,0.73665578173162),(55,110,0.327738273262734),(55,117,0.910580767235328),(56,107,0.557267983031709),(56,111,-0.305459761345256),(56,113,-0.238807336649678),(56,114,-0.0623798333689383),(57,87,0.947386089663381),(57,90,-0.107181005279702),(57,91,-0.774224066896573),(57,92,-0.0904873805963317),(57,93,0.0375377666554765),(57,94,-0.033051545762505),(57,95,-0.338633381145665),(57,96,-0.0820032349620045),(57,100,0.620227668080691),(57,102,-0.285103915524766),(57,103,-0.382732627338481),(57,115,0.788354136783959),(58,86,0.715445417645802),(58,87,0.364238410596026),(58,89,-0.297738578447829),(58,90,-0.675832392345958),(58,95,-0.0279549546800134),(58,96,-0.183629871517075),(58,101,-0.434949797051912),(58,103,-0.101474044007691),(58,109,0.529313028351695),(58,110,0.307016205328532),(58,113,-0.250282296212653),(58,114,-0.613971373638111),(58,115,0.164677877132481),(58,118,-0.311777092806787),(59,85,-0.573809015167699),(59,86,-0.379131443220313),(59,90,0.685140537736137),(59,91,0.277504806665242),(59,93,-0.00427259132663961),(59,97,-0.731070894497513),(59,98,-0.604480117191076),(59,100,0.399121066927091),(59,102,0.428662984099857),(59,112,-0.84759056367687),(59,114,0.28141117587817),(60,85,-0.725150303659169),(60,87,-0.666615802484207),(60,90,-0.551194799645985),(60,91,-0.12656025879696),(60,96,0.0210272530289621),(60,100,-0.24008911404767),(60,101,-0.234931485946226),(60,105,-0.93435468611713),(60,107,0.75746940519425),(60,109,0.267860957670827),(60,110,0.91293069246498),(60,114,-0.340220343638417),(61,89,-0.223548081911679),(61,94,0.485061189611499),(61,96,0.396374401074252),(61,98,-0.402569658497879),(61,100,0.76525162511063),(61,102,0.38761558885464),(61,103,-0.594225898007141),(61,114,-0.309823908200324),(61,115,-0.14844203009125),(62,93,0.50190740684225),(62,95,0.938993499557482),(62,107,0.212378307443464),(62,109,-0.0474562822351756),(62,110,0.779168065431684),(62,111,0.937528611102634),(63,87,0.179784539323099),(63,90,0.658192693868831),(63,93,-0.115176854762413),(63,97,-0.846797082430494),(63,100,-0.28263191625721),(63,103,-0.436323129978332),(63,104,-0.994689779351177),(63,108,0.47468489638966),(63,111,-0.799676503799554),(63,114,0.960905789361248),(63,117,-0.260872219000824),(64,87,0.10574663533433),(64,94,0.549760429700613),(64,99,-0.922238837855159),(64,110,-0.0101016266365551),(64,112,0.552079836420789),(64,116,-0.34904019287698),(65,87,-0.235450300607318),(65,88,-0.611255226294748),(65,90,-0.328897976622822),(65,97,0.592761009552293),(65,99,-0.278725547044282),(65,107,0.850306711020234),(65,110,0.955534531693472),(65,111,0.962553788872951),(65,114,-0.256416516617328),(65,116,0.199865718558306),(65,117,0.381054109317301),(66,85,-0.258217108676412),(66,102,0.687612537003693),(66,105,-0.213843195898312),(66,108,0.535233619190039),(66,111,-0.354991302224799),(66,115,0.0191045869319742),(66,118,-0.0467238380077517),(67,86,0.00411999877925962),(67,90,-0.285317545091098),(67,92,-0.363902706991791),(67,104,-0.098269600512711),(67,109,-0.830957976012452),(67,111,-0.446180608539079),(68,87,-0.364452040162358),(68,88,-0.783043916135136),(68,90,0.441877498702963),(68,93,-0.930814539017914),(68,95,-0.180791650135807),(68,96,0.424848170415357),(68,97,0.696798608355968),(68,103,0.986022522659993),(68,107,0.604113895077364),(68,112,0.276375621814631),(68,114,-0.065065462202826),(69,87,-0.594012268440809),(69,88,0.294686727500229),(69,92,-0.663686025574511),(69,94,-0.926419873653371),(69,95,0.179479354228339),(69,97,-0.145481734672079),(69,108,-0.255653553880428),(69,113,0.996459852900784),(69,114,-0.441785943174535),(69,118,0.770226142155217),(70,85,0.458723715933714),(70,86,-0.877834406567583),(70,87,0.311685537278359),(70,90,0.116672261726737),(70,96,-0.93618579668569),(70,97,0.735648670918912),(70,99,-0.0336313974425489),(70,105,-0.205114902188177),(70,107,-0.252784813989685),(70,109,-0.0985442670979949),(70,110,-0.372722556230354),(70,111,-0.991454817346721),(71,85,-0.644428846095157),(71,93,-0.784295175023652),(71,96,0.946653645435957),(71,100,-0.355479598376415),(71,104,-0.91247291482284),(71,106,-0.950621051667837),(71,111,0.682821131015961),(71,113,0.214270455030976),(72,94,0.443342387157811),(72,96,-0.270943327127903),(72,99,-0.400402844325083),(72,110,-0.760490737632374),(72,112,0.35316019165624),(72,114,-0.23535874507889),(72,115,0.517288735618152),(72,116,-0.82540360728782),(73,88,-0.757133701590014),(73,94,0.576158940397351),(73,99,-0.882168034913175),(73,100,0.367503891109958),(73,106,-0.164159062471389),(73,110,0.818720053712577),(73,115,-0.731528672139653),(74,90,0.0856349375896481),(74,94,-0.996398815881832),(74,99,-0.957365642262032),(74,102,-0.771691030610065),(74,106,-0.157231360820338),(74,107,-0.233588671529283),(74,110,-0.255989257484664),(74,113,-0.385937070833461),(74,116,-0.101657155064547),(75,85,0.182927945799127),(75,86,-0.17398602252266),(75,93,0.966368602557451),(75,98,0.768517105624561),(75,103,0.373332926419874),(75,105,-0.41697439497055),(75,111,-0.37107455671865),(75,117,0.450758384960479),(76,86,-0.575029755546739),(76,89,0.112491225928526),(76,92,-0.506149479659413),(76,94,0.123264259773553),(76,99,0.944151127658925),(76,101,0.110904263435774),(76,103,0.032563249610889),(76,106,-0.805902279732658),(76,110,0.292184209723197),(76,113,0.411145359660634),(77,88,-0.198522904141362),(77,91,-0.0517899105807672),(77,93,0.480605487228004),(77,98,-0.711478011413923),(77,101,0.796136356700339),(77,102,-0.560808130130924),(77,103,-0.940275276955474),(77,104,0.0852381969664602),(77,105,-0.243629261146886),(77,109,-0.917569505905332),(78,88,-0.316080202642903),(78,93,-0.78179265724662),(78,94,-0.792474135563219),(78,101,0.454908902249214),(78,104,0.236487929929502),(78,110,0.152043214209418),(78,114,0.859157078768273),(78,116,-0.242133854182562),(78,117,-0.207861568041017),(78,118,0.699484237189856),(79,87,-0.48246711630604),(79,92,0.198278756065554),(79,94,-0.634357737968078),(79,107,-0.255745109408856),(79,108,-0.905362102114933),(79,114,0.330393383587146),(79,118,-0.962034974211859),(80,87,0.28156376842555),(80,88,0.28202154606769),(80,91,-0.0967741935483871),(80,99,-0.948698385570849),(80,101,-0.292489394817957),(80,107,-0.510025330362865),(80,113,-0.895382549516282),(81,85,-0.0583513901181066),(81,86,0.409588915677358),(81,90,0.187170018616291),(81,93,-0.676900540177618),(81,96,0.980742820520646),(81,97,0.0353404339732048),(81,106,-0.693624683370464),(81,107,-0.683309427167577),(81,110,-0.275673696096683),(81,115,-0.65446943571276),(82,86,-0.398968474379711),(82,92,0.310861537522507),(82,110,-0.142918179876095),(82,112,-0.75945310831019),(83,87,0.994170964690085),(83,91,0.0986358226264229),(83,93,-0.316476943266091),(83,101,-0.901608325449385),(83,103,-0.948576311532945),(83,105,0.841639454329051),(83,108,-0.0841395306253243),(84,85,0.86672566911832),(84,86,-0.0921353801080355),(84,89,0.82906582842494),(84,95,-0.432172612689596),(84,99,-0.975890377513962),(84,104,-0.322244941557054),(84,111,-0.207770012512589),(84,113,-0.314554277169103),(84,114,0.511185033722953)]
orgname='BHNEAT_1_10'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()