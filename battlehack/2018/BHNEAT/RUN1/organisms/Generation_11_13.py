edge = [(0,85,1.36649678029725),(0,89,-0.109492782372509),(0,90,-0.939054536576434),(0,93,-1.89011810663167),(0,98,-0.00981933042390215),(0,101,-3.22053437910092),(0,105,-0.345942564165166),(0,108,3.36355937376019),(0,113,-0.0141911069063387),(0,114,-1.48554948576312),(0,117,2.06209753715629),(0,118,1.04406109805597),(1,86,1.18740653706473),(1,92,3.02294228949858),(1,98,-1.35097811822871),(1,102,-2.78779717398602),(1,104,-5.08599353007599),(1,107,-0.606021301919614),(1,108,-3.59370708334605),(1,109,-1.93801690725425),(1,113,0.751510666219062),(2,87,1.46412549211097),(2,88,-1.02389599291971),(2,100,1.98599200415052),(2,106,-1.62773522141179),(2,108,0.189756462294381),(2,110,-0.345637379070406),(2,113,-0.698576311532945),(2,118,-1.0245368816187),(3,89,2.44972838526566),(3,92,1.91610461745048),(3,97,-0.387241737113559),(3,99,1.98532822656941),(3,101,-0.837382122257149),(3,103,-1.31678212836085),(3,105,2.59345530564287),(3,108,-2.11354411450545),(3,109,-1.00355540635395),(3,111,2.49774163029878),(3,112,0.750663777581103),(3,116,-0.433980834376049),(4,90,0.303865169225135),(4,91,-2.58555864131596),(4,97,1.01915036469619),(4,99,-2.74856563005463),(4,101,1.40369884334849),(4,108,-0.238425855281228),(4,113,-1.18266090884121),(4,118,-2.49642933439131),(5,86,-0.246436964018677),(5,87,-0.996841334269234),(5,89,-2.11333811456648),(5,92,-2.17131565294351),(5,93,-1.11966307565539),(5,99,1.7918637653737),(5,104,0.9563890499588),(5,114,-0.32494582964568),(5,118,2.06640827661977),(6,89,-1.46079134495071),(6,92,2.08998382518998),(6,94,0.0370418408764914),(6,100,2.76633503219703),(6,101,-1.63495284890286),(6,103,-0.74984740745262),(6,107,1.30024109622486),(6,110,0.700621051667837),(6,113,-0.71355327005829),(7,85,2.36056855983154),(7,86,0.89181188390759),(7,90,-0.185300759910886),(7,95,0.857058931241798),(7,99,0.248084963530381),(7,100,0.493179113132115),(7,104,-1.26097140415662),(7,106,2.99333170567949),(7,108,-0.0282830286568803),(7,112,-1.23167363505966),(7,116,2.73487807855464),(8,92,0.300004577776421),(8,93,-1.21496475112156),(8,95,0.681257057405316),(8,99,1.32722708822901),(8,106,0.828783532212287),(8,107,-1.16852320932646),(8,115,0.64226966154973),(8,116,-1.93571275978881),(8,118,-2.48100222785119),(9,85,-2.56254005554369),(9,87,0.613193151646474),(9,98,-0.606471449934385),(9,101,-0.360110782189398),(9,103,3.99151585436567),(9,105,-0.209120456556902),(9,106,-1.20487075411237),(9,113,-0.275711844233528),(10,89,-3.41879024628437),(10,96,1.29116946928312),(10,106,3.71674245429853),(10,108,-0.432683797723319),(10,111,1.5342341380047),(10,112,-0.675222022156438),(10,114,0.583651234473708),(10,115,-1.48931089205603),(10,116,-2.14770195623646),(10,117,-3.23706778160955),(11,89,-0.767220068971831),(11,97,0.422200689718315),(11,105,-0.636913663136693),(11,112,-1.53536332285531),(11,115,-1.46153141880551),(12,92,0.724707785271767),(12,93,-1.63694418164617),(12,94,1.14803003021332),(12,97,-3.64830469679861),(12,98,-0.0372173223059784),(12,99,-1.27971739860225),(12,108,1.49172185430464),(12,116,-2.42553483687857),(13,86,-1.02735984374523),(13,87,-0.544961394085513),(13,90,0.305566576128422),(13,99,0.441503646961882),(13,102,1.13994262520219),(13,104,1.27182836390271),(13,113,0.954603717154454),(13,116,0.659474471266823),(13,118,0.0920896023438211),(14,90,-3.94483779412213),(14,93,-1.30411694692831),(14,95,-3.01591540269173),(14,102,3.9052705465865),(14,104,-0.381786553544725),(14,106,1.1275597399823),(14,109,3.55009613330485),(14,110,1.80393383587146),(14,111,-0.369342631305887),(15,85,1.28398236030152),(15,92,-0.861384929960021),(15,99,-0.322702719199194),(15,101,-2.71057771538438),(15,104,-3.93520157475509),(15,108,-1.73619800408948),(15,117,1.71825312051759),(16,86,0.503707998901334),(16,87,1.40353862117374),(16,88,-0.841532639545884),(16,90,0.755485702078311),(16,91,0.43755912961211),(16,95,-3.41624958037049),(16,97,-1.78278450880459),(16,98,-2.42186498611408),(16,99,-1.5236518448439),(16,101,2.14320810571612),(16,108,-0.190336313974425),(16,110,1.81094546342357),(17,89,-1.15398876918851),(17,96,-1.89382610553301),(17,99,-0.053392132328257),(17,101,2.40109714041566),(17,106,2.72499008148442),(17,107,-0.618602557451094),(17,109,-1.77654347361675),(18,90,-0.0317316202276682),(18,91,-1.2026963103122),(18,93,-0.396847437971129),(18,99,0.132564775536363),(18,102,2.20458845789972),(18,103,1.16648609881893),(18,104,1.77922910245064),(18,110,0.579210791344951),(18,111,2.1406292916654),(18,116,4.3873790704062),(18,117,0.0167470320749536),(18,118,2.51882992034669),(19,87,0.289025543992431),(19,89,-1.4293420209357),(19,93,-1.95066682943205),(19,95,1.5012054811243),(19,101,3.06965086825159),(19,105,-3.60337382122257),(19,115,0.16811120944853),(20,88,-1.3487884151738),(20,101,-1.58307138279366),(20,103,-0.0201193273720512),(20,104,-2.27153843806269),(20,105,-1.67595446638386),(20,106,0.486938077944273),(20,111,2.13126010925626),(20,116,-1.03374584185308),(21,86,0.813318277535325),(21,87,1.95629749443037),(21,94,1.07974486526078),(21,96,-0.636158330027161),(21,101,0.77706991790521),(21,102,1.6796624652852),(21,105,2.57978301339763),(21,107,3.323587755974),(21,108,-0.0762504959257789),(22,86,-2.26924954985199),(22,88,-3.61608478041932),(22,91,0.133823664052248),(22,92,1.24301889095737),(22,93,2.26790673543504),(22,98,-0.639927365947447),(22,106,-0.216788232062746),(22,115,-1.81582842493973),(22,117,-1.95310831019013),(23,85,0.284180730613117),(23,86,-3.56262398144475),(23,88,-3.03816339609973),(23,90,-0.032425916318247),(23,97,1.51838740195929),(23,104,3.78389843440046),(23,112,-0.991203039643544),(23,114,-1.10349589526048),(23,115,-0.848719748527482),(23,116,-1.75382244331187),(24,89,-1.41995757927183),(24,90,-0.96317178868984),(24,91,1.06889553514206),(24,101,0.540581987975707),(24,107,2.92741935483871),(24,108,2.78659932248909),(24,110,1.10926389355144),(24,112,1.29002502517777),(25,90,1.55301065095981),(25,92,-0.472739341410565),(25,94,-0.658070619830928),(25,98,-1.55583361308634),(25,105,1.89324625385296),(25,108,1.51539658803064),(25,109,-2.07474745933409),(25,115,-0.58028656880398),(26,85,1.37350840784936),(26,87,-3.24417859431745),(26,89,0.70921201208533),(26,95,-1.45101779229102),(26,98,-2.07396160771508),(26,100,1.33266701254311),(26,101,2.08457441938536),(26,102,2.01371807000946),(26,103,-0.817697683645131),(26,104,1.40556047242653),(26,107,0.868091372417371),(26,109,0.897747734000671),(26,112,3.04412213507492),(26,113,1.86399426252022),(26,117,1.28591265602588),(27,85,-2.41218298898282),(27,87,1.71312601092563),(27,94,1.00421155430769),(27,100,2.0439313943907),(27,102,0.291642506179998),(27,103,-0.334559160130619),(27,104,1.58115634632405),(27,105,-2.78109073152867),(27,108,-2.24356822412793),(27,110,0.355998413037507),(27,114,1.46443067720573),(28,87,-0.710303048799097),(28,88,-2.39944151127659),(28,97,-2.40955076754051),(28,99,-1.63144322031312),(28,104,1.91854609820856),(28,113,-0.0793481246375927),(28,114,1.83746604815821),(29,88,1.2372280037843),(29,91,1.65532395397809),(29,102,0.836344492934965),(29,105,-1.07377086703085),(29,116,2.1860103152562),(30,95,0.190496536149175),(30,96,-0.0836207159642323),(30,99,-1.8740653706473),(30,101,-1.71938230536821),(30,104,-0.334215826899014),(30,109,-2.77471236304819),(30,110,0.776009399700919),(30,114,-2.46475112155522),(30,118,-1.325655384991),(31,85,0.40752128666036),(31,92,1.48861659596545),(31,94,0.158337656788843),(31,96,0.839823603015229),(31,99,-0.178075502792444),(31,103,-1.18802453688162),(31,107,-2.83135471663564),(31,108,2.01362651448103),(31,109,0.669301431318094),(31,111,2.86297189245277),(31,112,1.9301049836726),(31,117,-1.25919370097964),(32,86,-4.52429273354289),(32,87,0.146282845545823),(32,89,-1.13741721854305),(32,92,-3.31862849818415),(32,98,-0.0459608752708516),(32,99,-1.05723746452223),(32,104,-1.00250251777703),(32,106,-1.69347209082308),(32,109,3.01730399487289),(32,116,-0.845164342173528),(32,118,0.298944059572131),(33,96,1.33763389996033),(33,98,-0.647228919339579),(33,108,-0.263557847834712),(33,110,-2.99359111301004),(33,111,1.37433240760521),(33,114,-2.34023560289315),(34,85,-0.477004303109836),(34,90,3.02817621387371),(34,99,-2.40676595355083),(34,104,-0.159215063936278),(34,109,-2.16526535843989),(35,86,-0.690252388073366),(35,87,2.92638935514389),(35,97,2.57179479354228),(35,98,3.4366512039552),(35,100,0.293366801965392),(35,104,2.39410840174566),(35,107,-2.33878597369304),(35,109,-0.84537797173986),(35,110,-0.136051515243996),(35,112,-2.4092837305826),(36,85,-1.27114932706687),(36,87,-1.28001495406964),(36,90,-1.71132541886654),(36,91,1.85262611774041),(36,104,1.5229117709891),(36,107,-1.44049653614917),(36,109,-0.0336848048341321),(36,112,-0.164876247444075),(36,115,3.59962004455702),(36,117,1.50852992339854),(36,118,1.6505706961272),(37,85,1.53630939664907),(37,86,2.15323343607898),(37,87,-0.0094225898007142),(37,91,-0.125621814630574),(37,99,3.34199804681539),(37,105,-2.02829065828425),(37,111,0.821405682546464),(37,112,0.409779656361583),(37,118,-2.92194891201514),(38,87,1.89083529160436),(38,90,-0.861896114993744),(38,103,2.88635670033876),(38,105,1.45799127170629),(38,106,0.26753288369396),(38,111,-2.49671926023133),(38,115,-1.59339426862392),(39,87,2.02640614032411),(39,89,-2.11554307687613),(39,91,-1.9426557206946),(39,94,-0.476157414471877),(39,97,1.2130344553972),(39,98,2.13965269936216),(39,107,2.56510361033967),(39,108,-2.12820825830866),(39,109,1.89484084597308),(39,111,-0.207312234870449),(39,113,2.6887417218543),(39,116,-1.39299447614978),(39,118,-3.52297280800806),(40,88,3.20319223609119),(40,92,0.732215338602862),(40,99,0.125095370342112),(40,104,-1.01850947599719),(40,110,-1.73000274666585),(40,116,0.0850703451643422),(40,118,1.5172276985992),(41,88,-1.31763664662618),(41,93,2.26279488509781),(41,96,-1.02229377117222),(41,97,-3.00153355510117),(41,100,0.626735740226447),(41,101,0.471976378673666),(41,104,1.11793877986999),(41,105,1.60442670979949),(41,106,3.71250801110874),(41,107,-2.53978850672933),(41,109,1.50791955320902),(41,110,-0.473555711539048),(41,111,2.73078859828486),(41,112,-0.572748496963408),(42,85,2.29326761680959),(42,86,-2.00491348002564),(42,87,2.09614856410413),(42,99,1.13216040528581),(42,100,-2.14910580767235),(42,103,-2.34042634357738),(42,109,-0.622501297036653),(42,113,-2.2973265785699),(43,85,-1.97267067476424),(43,88,-0.740569780571917),(43,89,0.0588778344065675),(43,93,1.03495132297739),(43,97,-1.09589678640095),(43,98,1.26227607043672),(43,101,1.9067964720603),(43,102,2.80729850154118),(43,103,-0.265282143620106),(43,105,-1.41872920926542),(43,110,-1.64876247444075),(43,112,-0.249588000122074),(43,114,-1.62114322336497),(43,116,-0.489745780816065),(44,89,-1.74295022431104),(44,98,2.87228766747032),(44,99,0.136738181707205),(45,87,-1.13313699758904),(45,88,-2.42067476424451),(45,90,-0.891552476577044),(45,91,-2.11943418683432),(45,95,2.57514419995727),(45,98,-0.0302438428907131),(45,108,-0.829866939298685),(45,109,1.23764763328959),(45,112,1.11598559526353),(45,115,-1.08699301126133),(46,85,-1.57267983031709),(46,89,1.50837733085116),(46,91,-0.728461561937315),(46,94,-1.14843440046388),(46,97,0.766579180272835),(46,100,-2.366657002472),(46,101,-0.553056428724021),(46,108,0.293969542527543),(46,112,-1.00691244239631),(47,86,-0.6744438001648),(47,91,1.32731101413007),(47,92,1.21089053010651),(47,94,-0.558488723410749),(47,95,-1.70571764275033),(47,100,2.23860896633808),(47,101,1.75901058992279),(47,104,1.32023071993164),(47,105,2.54652546769616),(47,108,0.0711844233527633),(47,112,-0.960806604205451),(47,114,-1.36120181890316),(47,118,1.63457136753441),(48,86,1.07348094119083),(48,91,-3.52891628772851),(48,98,0.734733115634632),(48,99,2.29663991210669),(48,100,0.353305154576251),(48,103,-0.571031830805383),(48,105,-2.59859004486221),(48,106,-1.98030030213324),(48,111,0.695463423566393),(48,115,1.03408154545732),(49,87,2.10611285744804),(49,89,-1.77413251136814),(49,93,-2.05648976104007),(49,94,0.732711264381848),(49,95,-0.378673665578173),(49,102,1.42591631824702),(49,113,-2.18376720480972),(49,114,0.721465193639943),(50,89,0.455793939024018),(50,105,-0.0549943540757469),(50,107,1.75514999847407),(51,87,-0.839274269844661),(51,92,0.480361339152196),(51,97,0.175557725760674),(51,98,0.904560991241188),(51,103,-4.12372966704306),(51,106,-0.681394390697958),(51,112,-0.318842127750481),(51,118,-1.29277932065798),(52,89,0.53933835871456),(52,97,1.80669576097903),(52,106,0.878666035950804),(52,110,-0.426038392284921),(52,111,-0.147785882137516),(52,113,2.16019165623951),(52,114,1.96486556596576),(52,118,2.49073763237404),(53,88,-0.988502151554918),(53,90,-1.30405590990936),(53,92,-0.633236182744835),(53,94,0.396206549272133),(53,104,-0.0169377727591784),(53,105,0.350222785119175),(53,109,-1.48798333689383),(54,85,-0.148693807794427),(54,91,-0.185094759971923),(54,94,2.72838526566362),(54,96,-0.293511764885403),(54,111,-0.696279793694876),(54,112,1.80137028107547),(54,113,-1.22556993316446),(54,118,1.03950621051668),(55,87,-2.04926450392163),(55,95,-1.75984984893338),(55,107,-2.88983581041902),(55,110,0.939817499313333),(55,117,-1.19681386761071),(56,107,-0.633762627033295),(56,111,0.900517288735618),(56,113,-2.21940519425031),(56,114,-0.511795403912473),(57,87,-1.23529770805994),(57,90,0.819475386822108),(57,91,0.883892330698569),(57,92,-0.726310007019257),(57,93,2.18441572313608),(57,94,-1.43653675954466),(57,95,-1.65339365825373),(57,96,0.812173833429975),(57,100,4.16323587755974),(57,102,-2.32963042085025),(57,103,-1.60775322733238),(57,115,-0.287064729758599),(58,86,0.732451857051302),(58,87,0.894604327524644),(58,89,0.0676137577440716),(58,90,-3.01641132847072),(58,95,-2.64036225470748),(58,96,-1.62259285256508),(58,101,-0.574663533433027),(58,103,0.822412793359172),(58,109,-0.87405011139256),(58,110,1.71073793755913),(58,113,-2.90573595385601),(58,114,1.99636829737236),(58,115,-0.802323984496597),(58,118,0.250938444166387),(59,85,-2.54380169072543),(59,86,-0.633335367900632),(59,90,-1.90521713919492),(59,91,0.587328714865566),(59,93,-0.362727744376965),(59,97,-1.36949522385327),(59,98,0.365222632526627),(59,100,0.0157933286538285),(59,102,-1.73952452162236),(59,112,2.51693777275918),(59,114,-1.70638142033143),(60,85,-2.28901791436506),(60,87,-1.86058381908628),(60,90,-0.94029816583758),(60,91,-0.134014404736473),(60,96,-2.40163121433149),(60,100,-1.88987395855586),(60,101,0.0103076265755179),(60,105,-0.360614337595752),(60,107,-2.47618793298135),(60,109,1.39317758720664),(60,110,-1.67869350260933),(60,114,0.064691610461745),(61,89,0.934713278603473),(61,94,-4.23857844782861),(61,96,1.11474959562975),(61,98,2.79950102237007),(61,100,2.01784569841609),(61,102,1.26720480971709),(61,103,-0.0945310831019013),(61,114,0.197454756309702),(61,115,2.52151554918058),(62,93,0.872928556169317),(62,95,-0.0335703604235968),(62,107,-1.97218237861263),(62,109,-2.82094790490432),(62,110,-0.557191686758019),(62,111,-1.83250679036836),(63,87,1.07209234900967),(63,90,-0.983458967864009),(63,93,2.38593707083346),(63,97,2.68812372203742),(63,100,-3.91853083895383),(63,103,2.08623004852443),(63,104,-1.14149906918546),(63,108,1.50333414716025),(63,111,1.62917722098453),(63,114,-2.76643421735282),(63,117,2.52654347361675),(64,87,-0.389301736503189),(64,94,-2.69991912594989),(64,99,0.412747581408124),(64,110,-1.20667897579882),(64,112,1.90048677022614),(64,116,-2.18866542558062),(65,87,-1.00527207251198),(65,88,-2.52223273415326),(65,90,0.349894711142308),(65,97,-1.38309884945219),(65,99,-0.258552812280648),(65,107,-3.05863368633076),(65,110,-4.54712057863094),(65,111,-0.491668446913053),(65,114,-2.66982024597919),(65,116,-0.960089419232765),(65,117,0.248802148503067),(66,85,-1.51396221808527),(66,102,-0.568689535203101),(66,105,1.31972716452528),(66,108,1.42873928037355),(66,111,2.41637928403577),(66,115,1.8905301065096),(66,118,-0.491973632007813),(67,86,3.04937894833216),(67,90,1.06431775872066),(67,92,1.81365398113956),(67,104,2.33904538102359),(67,109,0.576815088351085),(67,111,3.51822717978454),(68,87,0.0426496169927061),(68,88,-1.40215765861995),(68,90,-1.83346812341685),(68,93,-0.337687307351909),(68,95,0.290078432569353),(68,96,1.35737174596393),(68,97,-1.81692709128086),(68,103,-1.18144779808954),(68,107,1.54076509903256),(68,112,-0.920209356975005),(68,114,-0.346255378887295),(69,87,0.478316599017304),(69,88,0.131794183172094),(69,92,2.20206305124058),(69,94,0.392544328135014),(69,95,-0.563791314432203),(69,97,-0.87305825983459),(69,108,-0.652836695455794),(69,113,-0.257499923703726),(69,114,-0.902439954832606),(69,118,0.838099307229835),(70,85,0.977729117709891),(70,86,-0.790917691579943),(70,87,-1.60525833918271),(70,90,-0.655812250129704),(70,96,-2.07369457075716),(70,97,-2.01490829187902),(70,99,3.15881069368572),(70,105,1.612521744438),(70,107,2.2277748954741),(70,109,-0.411992248298593),(70,110,-2.32852412488174),(70,111,0.582575457014679),(71,85,-1.53437910092471),(71,93,0.908055360576189),(71,96,-0.670178838465529),(71,100,0.236068300424207),(71,104,-0.734885708182012),(71,106,-0.82334360789819),(71,111,-1.81060213019196),(71,113,-1.51779992065188),(72,94,0.847300637836848),(72,96,-1.56962797936949),(72,99,-0.727416302987762),(72,110,-2.22018341624195),(72,112,-2.36428418836024),(72,114,-0.224738303781243),(72,115,2.34527115695669),(72,116,0.967574083681753),(73,88,-0.452085940122684),(73,94,0.297463911862545),(73,99,-1.70136875515),(73,100,2.03544724875637),(73,106,-1.48541215247047),(73,110,3.02373577074496),(73,115,-2.56028931546983),(74,90,0.103617969298379),(74,94,-1.42468031861324),(74,99,-2.1816537980285),(74,102,-0.473746452223273),(74,106,0.837939085055086),(74,107,0.208517715994751),(74,110,0.211165196691794),(74,113,-2.24826807458724),(74,116,-0.86703085421308),(75,85,2.25363933225501),(75,86,2.77939695425275),(75,93,-2.41913357951598),(75,98,0.684301278725547),(75,103,-0.895947141941588),(75,105,0.137180700094607),(75,111,-3.34236426892911),(75,117,-0.814737388225959),(76,86,-2.28851435895871),(76,89,0.499755851924192),(76,92,-3.26342814416944),(76,94,-2.44796594134342),(76,99,-0.109286782433546),(76,101,1.48884548478652),(76,103,0.729544969023713),(76,106,-0.630283516953032),(76,110,-1.10747093111972),(76,113,0.951071199682607),(77,88,-2.13245033112583),(77,91,1.13113803521836),(77,93,-0.180631427961058),(77,98,2.37075411236915),(77,101,-1.86898403881954),(77,102,1.37198248237556),(77,103,-0.44022949919126),(77,104,-1.64967802972503),(77,105,0.874485000152593),(77,109,-0.461905270546587),(78,88,-2.44760734885708),(78,93,0.19380779442732),(78,94,2.50791192358165),(78,101,-1.17700735496078),(78,104,-1.54264961699271),(78,110,1.16252632221442),(78,114,0.469641712698752),(78,116,-0.757660145878475),(78,117,-2.7934888760033),(78,118,0.460142826624348),(79,87,2.12158574175237),(79,92,-1.64712210455641),(79,94,-0.0353175450910977),(79,107,-0.3052766502884),(79,108,-1.81992553483688),(79,114,1.55024109622486),(79,118,-1.31199072237312),(80,87,0.075823236793115),(80,88,-3.64452040162359),(80,91,-0.747535630359813),(80,99,0.815942869350261),(80,101,1.01896725363933),(80,107,-1.10194708090457),(80,113,-2.09788048951689),(81,85,0.710470900601215),(81,86,0.173650318918424),(81,90,-1.45123905148473),(81,93,-1.25455488753929),(81,96,-1.38940855128636),(81,97,-3.14910580767235),(81,106,0.357608264412366),(81,107,0.301217688528092),(81,110,-1.05111087374493),(81,115,-1.9250846888638),(82,86,-2.33581041901913),(82,92,1.80594805749687),(82,110,-1.65120395519883),(82,112,-1.97009186071352),(83,87,0.243537705618458),(83,91,2.85032959990234),(83,93,1.54233680227058),(83,101,0.786393322550127),(83,103,-1.62205877864925),(83,105,-1.28048036133915),(83,108,-0.176770836512345),(84,85,-0.128246406445509),(84,86,0.385967589342937),(84,89,0.271355327005829),(84,95,2.2559816278573),(84,99,0.302514725180822),(84,104,-0.367976928006836),(84,111,-0.850169377727592),(84,113,1.55224005859554),(84,114,0.553811761833552),(10,119,0.0286416211432233),(119,109,0.666623432111575),(58,120,1.2617877742851),(120,118,-1.58684804834132),(95,104,-0.692403942991424)]
orgname='BHNEAT_11_13'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()