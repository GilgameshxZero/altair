edge = [(0,85,-1.51757866145817),(0,89,-0.559068575090793),(0,90,-0.0662251655629139),(0,93,1.4603259376812),(0,98,-1.62770470290231),(0,101,-2.97528000732444),(0,105,2.54507583849605),(0,108,2.24288155766472),(0,113,0.313501388592181),(0,114,-2.15681936094241),(0,117,3.04322946867275),(0,118,2.32015442365795),(1,86,-1.77356791894284),(1,92,-1.02754295480209),(1,98,2.06450086977752),(1,102,-0.519394512771996),(1,104,-0.828653828547014),(1,107,0.264152958769494),(1,108,-3.30774864955596),(1,109,-2.90202032532731),(1,113,-0.831217383342998),(2,87,-0.964735862300485),(2,88,-0.445875423444319),(2,100,-1.85494552446059),(2,106,0.498947111423078),(2,108,0.222602008117924),(2,110,0.879924924466689),(2,113,-1.97184667500839),(2,118,-1.02804651020844),(3,89,1.4687185277871),(3,92,0.549272133548998),(3,97,0.121921445356609),(3,99,-0.269646290475173),(3,101,0.101321451460311),(3,103,0.404385509811701),(3,105,-1.60977507858516),(3,108,-0.989028595843379),(3,109,-1.95501571703238),(3,111,-0.69060335093234),(3,112,0.567720572527238),(3,116,-1.5972624897),(4,90,-2.63380840479751),(4,91,-1.97920163579211),(4,97,-2.36117130039369),(4,99,-1.81076998199408),(4,101,-2.18080690939055),(4,108,-0.11192663350322),(4,113,-2.59578234199042),(4,118,1.70467238380078),(5,86,0.768013550218207),(5,87,-2.83748893704032),(5,89,-0.538850062562944),(5,92,0.4602038636433),(5,93,0.920041505172887),(5,99,-2.22032837916196),(5,104,-0.0575121311075167),(5,114,2.66220587786492),(5,118,-1.27582628864406),(6,89,0.870799890133366),(6,92,-0.930890835291604),(6,94,-0.231482894375439),(6,100,-0.151692251350444),(6,101,1.87946714682455),(6,103,-0.423261207922605),(6,107,-1.11969359416486),(6,110,1.75606555375835),(6,113,0.609683523056734),(7,85,2.79343546861171),(7,86,0.0443891720328379),(7,90,-2.42715231788079),(7,95,2.8783227027192),(7,99,2.33066805017243),(7,100,1.77388836329234),(7,104,-0.530243842890713),(7,106,0.645771660512101),(7,108,-0.919461653492843),(7,112,0.681173131504257),(7,116,-2.07640308847316),(8,92,1.91378521073031),(8,93,-1.2005066072573),(8,95,0.0843989379558703),(8,99,-2.44817957090976),(8,106,-0.223609118930631),(8,107,0.761345255897702),(8,115,-0.0255134739219336),(8,116,0.290185247352519),(8,118,-2.90345469527268),(9,85,-0.324503311258278),(9,87,1.87441633350627),(9,98,-0.220984527115696),(9,101,-2.28049562059389),(9,103,0.729621265297403),(9,105,-0.791299172948393),(9,106,-0.498062074648274),(9,113,1.75739310892056),(10,89,-2.7445600756859),(10,96,2.8531449324015),(10,106,3.09302041688284),(10,108,-1.50743125705741),(10,109,0.797357097079379),(10,111,-0.438444166386914),(10,112,1.42765587328715),(10,114,0.264809106723228),(10,115,-1.58357493820002),(10,116,1.39126255073702),(10,117,0.163762321848201),(11,89,1.59308145390179),(11,97,-1.39735099337748),(11,105,1.85407574694052),(11,112,0.183095797601245),(11,115,-0.960875270851772),(12,92,-1.20276497695853),(12,93,-0.257805108798486),(12,94,-2.2118289742729),(12,97,-0.212225714896084),(12,98,0.0753959776604511),(12,99,1.86870937223426),(12,108,1.22876674703208),(12,116,1.48854029969176),(13,86,0.575243385113071),(13,87,-0.452223273415326),(13,90,0.406079287087619),(13,99,-0.802636799218726),(13,102,-0.710470900601215),(13,104,0.0756248664815211),(13,113,-0.713003936887722),(13,116,2.17551194799646),(13,118,-0.32822656941435),(14,90,-1.66756187627796),(14,93,1.74652851954711),(14,95,0.494705038605915),(14,102,1.73902096621601),(14,104,1.38660847804193),(14,106,-0.707571642200995),(14,109,2.00936918240913),(14,110,1.21095919675283),(14,111,0.287255470442824),(15,85,0.585528122806482),(15,92,1.81742301705985),(15,99,0.774285103915525),(15,101,-1.24576555681021),(15,104,-3.15236365855892),(15,108,0.353389080477309),(15,117,0.827112643818476),(16,86,-1.44650105288858),(16,87,0.916608172856838),(16,88,-1.44610431226539),(16,90,-0.294274727622303),(16,91,1.49388103885006),(16,95,0.901318399609363),(16,97,-0.523056733909116),(16,98,-1.80001220740379),(16,99,-2.37151707510605),(16,101,-1.07954649494919),(16,108,-0.586870937223426),(16,110,1.49504074221015),(17,89,-1.55885494552446),(17,96,-0.790856654560991),(17,99,0.527451399273659),(17,101,0.125766777550584),(17,106,0.143620105594043),(17,107,1.32432020020142),(17,109,-1.37835322122868),(18,90,-0.197714163640248),(18,91,-0.146259956663717),(18,93,1.9322946867275),(18,99,2.32718894009217),(18,102,-0.837916196172979),(18,103,2.37289040803247),(18,104,2.27767265846736),(18,110,2.45567186498611),(18,111,-1.9399243140965),(18,116,2.17833491012299),(18,117,1.7200231940672),(18,118,-0.402569658497879),(19,87,-0.318002868739891),(19,89,-0.438749351481674),(19,93,0.0225836970122379),(19,95,-0.75853755302591),(19,101,-1.49481185338908),(19,105,-2.60362559892575),(19,115,0.82067323831904),(20,88,-0.522064882351146),(20,101,-1.46000549333171),(20,103,-2.594409009064),(20,104,-0.508713034455397),(20,105,-0.916653950621052),(20,106,1.51136814477981),(20,111,-0.100329599902341),(20,116,-0.651356547746208),(21,86,0.313577684865871),(21,87,2.02481154820399),(21,94,-2.62289803765984),(21,96,0.497375408185064),(21,101,-1.35967589342936),(21,102,0.478743858149968),(21,105,-1.75128940702536),(21,107,2.3110599078341),(21,108,1.35048982207709),(22,86,-1.13357951597644),(22,88,0.188940092165899),(22,91,0.508819849238563),(22,92,-1.95777764213996),(22,93,-0.647892696920682),(22,98,-2.30474257637257),(22,106,0.572038941618091),(22,115,2.67102572710349),(22,117,-1.96668904690695),(23,85,0.127811517685476),(23,86,-0.474883266701254),(23,88,0.333323160496841),(23,90,-1.3335062715537),(23,97,-0.824976348155156),(23,104,-1.83036286507767),(23,112,2.61314737388226),(23,114,1.70468764305551),(23,115,-0.389309366130558),(23,116,1.04982146671957),(24,89,0.0519577623828852),(24,90,-0.825754570146794),(24,91,-0.680715353862117),(24,101,-1.69621875667592),(24,107,-0.664159062471389),(24,108,-2.15152439954833),(24,110,0.696035645619068),(24,112,0.505539109469893),(25,90,0.301858577227088),(25,92,1.86330759605701),(25,94,1.75519577623829),(25,98,0.228614154484695),(25,105,2.40191351054415),(25,108,1.58749656666768),(25,109,1.90063173314615),(25,115,-0.200277718436232),(26,85,-0.682638019959105),(26,87,-2.15100558488723),(26,89,2.06205938901944),(26,95,0.657734916226691),(26,98,-2.84797204504532),(26,100,0.343485824152348),(26,101,0.392284920804468),(26,102,0.834253975035859),(26,103,-0.750068666646321),(26,104,1.24613177892392),(26,107,-0.542939542832728),(26,109,2.84220404675436),(26,112,2.05993835261086),(26,113,0.341593676564837),(26,117,1.23456526383251),(27,85,-0.518662068544572),(27,87,-0.362392040772729),(27,94,1.80182805871761),(27,100,1.25869014557329),(27,102,2.45071260719626),(27,103,0.489440595721305),(27,104,-2.16551713614307),(27,105,0.680166020691549),(27,108,-0.955839716788232),(27,110,0.599673451948607),(27,114,0.718466750083926),(28,87,0.989867854853969),(28,88,-2.00679036835841),(28,97,-0.132068849757378),(28,99,0.468916898098697),(28,104,2.20381786553545),(28,113,-2.01451155125584),(28,114,-0.269417401654103),(29,88,-0.72103030487991),(29,91,0.994979705191198),(29,102,-2.61018707846309),(29,105,-1.19641712698752),(29,116,-0.818918424024171),(30,95,1.47897274697104),(30,96,-1.60188604388562),(30,99,-0.552537614062929),(30,101,-0.111133152256844),(30,104,0.857722708822901),(30,109,-0.168584246345408),(30,110,-0.938566240424818),(30,114,0.672124393444624),(30,118,0.977080599383526),(31,85,-3.15578173162023),(31,92,-1.17885372478408),(31,94,0.250923184911649),(31,96,2.17256691183203),(31,99,-0.209814752647481),(31,103,1.99452192754906),(31,107,2.00476088747826),(31,108,-0.642933439130833),(31,109,-1.9130985442671),(31,111,0.764397106845302),(31,112,0.0106051820429089),(31,117,-0.58500930814539),(32,86,0.569780571916868),(32,87,1.13956114383374),(32,89,-2.32401501510666),(32,92,1.95654164250618),(32,98,-0.385021515549181),(32,99,1.35128330332347),(32,104,1.24861903744621),(32,106,-0.297997985778375),(32,109,0.526139103366192),(32,116,-0.661442915128025),(32,118,-1.41360209967345),(33,96,-1.74248481704154),(33,98,-1.69595934934538),(33,108,-2.13258766441847),(33,110,-1.31733146153142),(33,111,2.13061922055727),(33,114,1.01284829248939),(34,85,-0.317865535447249),(34,90,-0.394970549638356),(34,99,-2.39387188329722),(34,104,0.922437208166753),(34,109,1.45809808648946),(35,86,-1.25408185064241),(35,87,2.08682515945921),(35,97,0.363933225501266),(35,98,-0.480285042878506),(35,100,-2.15680410168767),(35,104,-1.01217688528092),(35,107,-1.5092776268807),(35,109,-3.06727805413984),(35,110,-2.1946012756737),(35,112,1.20120853297525),(36,85,0.298608355967895),(36,87,-0.111270485549486),(36,90,0.229880672627949),(36,91,2.55554368724631),(36,104,0.000457777642139945),(36,107,1.24562822351756),(36,109,-0.65210425122837),(36,112,-0.278328806421094),(36,115,1.6132847071749),(36,117,-1.90923795281838),(36,118,0.62709433271279),(37,85,-0.0561845759453108),(37,86,-0.294274727622303),(37,87,-0.527817621387371),(37,91,-0.272835474715415),(37,99,-1.18543046357616),(37,105,0.15088351084933),(37,111,-1.69711905270547),(37,112,-1.22093874935148),(37,118,-1.77254554887539),(38,87,1.33837397381512),(38,90,1.68414868617817),(38,103,-0.290276802880947),(38,105,0.685110019226661),(38,106,0.167317728202155),(38,111,-2.07231360820338),(38,115,0.418576616718039),(39,87,-1.46014282662435),(39,89,0.470900601214637),(39,91,-1.21707815790277),(39,94,-2.38528092287973),(39,97,1.28142643513291),(39,98,-1.6538438062685),(39,107,2.46574297311319),(39,108,0.36466566972869),(39,109,1.7349620044557),(39,111,2.025742362743),(39,113,3.30582598345897),(39,116,-0.302285836359752),(39,118,-2.82116153447066),(40,88,0.749656666768395),(40,92,-0.0528733176671652),(40,99,2.42210150456252),(40,104,0.978545487838374),(40,110,2.69983520004883),(40,116,-3.06099124118778),(40,118,0.531327249977111),(41,88,-0.225684377574999),(41,93,0.935178685872982),(41,96,-2.25786614581744),(41,97,-1.3685262611774),(41,100,0.458159123508408),(41,101,1.2823877681814),(41,104,-0.290948210089419),(41,105,0.0281380657368694),(41,106,-0.0122379222998749),(41,107,-0.946531571398053),(41,109,-0.723914304025391),(41,110,2.03048799096652),(41,111,-2.44607379375591),(41,112,1.41210669270913),(42,85,0.970519119846187),(42,86,-0.0117801446577349),(42,87,-0.150028992584002),(42,99,-1.37455366679891),(42,100,0.58409375286111),(42,103,-0.988723410748619),(42,109,1.02412488174078),(42,113,-0.617969298379467),(43,85,-1.60328989532151),(43,88,-0.718253120517594),(43,89,1.53990295113987),(43,93,0.812128055665761),(43,97,-0.977523117770928),(43,98,0.737662892544328),(43,101,0.883007293923765),(43,102,2.83075960570086),(43,103,2.15979491561632),(43,105,-1.9457075716422),(43,110,-2.1337626270333),(43,112,1.7935117648854),(43,114,-3.13682973723563),(43,116,0.720465712454604),(44,89,1.59146397289956),(44,98,0.76403088473159),(44,99,-2.31344035157323),(45,87,-1.65301980651265),(45,88,0.490066225165563),(45,90,-2.30695516830958),(45,91,1.52723776970733),(45,95,-1.28975798821986),(45,98,-0.261726737266152),(45,108,-0.788399914548173),(45,109,1.57258827478866),(45,112,-1.70638142033143),(45,115,1.63783684804834),(46,85,-1.77097384563738),(46,89,-0.187170018616291),(46,91,0.986312448500015),(46,94,-0.0424817651905881),(46,97,-0.284142582476272),(46,100,-0.189596240119633),(46,101,1.64191106906339),(46,108,0.469222083193457),(46,112,-0.451704458754234),(47,86,-0.25830866420484),(47,91,1.31853694265572),(47,92,0.0833765678884243),(47,94,-1.76424451429792),(47,95,-2.33069856868191),(47,100,0.43290505691702),(47,101,1.6178624835963),(47,104,-1.22005371257668),(47,105,-1.88132877590258),(47,108,1.12903225806452),(47,112,2.64654988250374),(47,114,0.0627918332468642),(47,118,0.0643177587206641),(48,86,3.14587847529527),(48,91,1.64694662312693),(48,98,-1.00549333170568),(48,99,-1.66084780419324),(48,100,0.522095400860622),(48,103,0.14928128910184),(48,105,-0.445814386425367),(48,106,-2.29067354350414),(48,111,2.0505996887112),(48,115,1.72582171086764),(49,87,-1.44120609149449),(49,89,1.61104159672842),(49,93,-2.35457930234687),(49,94,-2.04954680013428),(49,95,1.36942655720695),(49,102,0.949980162968841),(49,113,-0.786309396649068),(49,114,-0.50511185033723),(50,89,-1.13718070009461),(50,105,2.53366191595202),(50,107,0.270958586382641),(51,87,0.224524674214911),(51,92,1.42120120853298),(51,97,-1.32805871761223),(51,98,1.55548265022736),(51,103,-0.574434644611957),(51,106,-0.253257850886563),(51,112,2.17879268776513),(51,118,0.992996002075259),(52,89,0.855021820734275),(52,97,0.421231727042451),(52,106,-1.6140476699118),(52,110,-1.09385967589343),(52,111,-0.0149235511337626),(52,113,2.86844996490371),(52,114,0.993621631519517),(52,118,-0.0416119876705222),(53,88,-1.80079042939543),(53,90,-0.42977690969573),(53,92,-0.746406445509201),(53,94,-0.945387127292703),(53,104,-2.8360393078402),(53,105,-1.10539567247536),(53,109,-2.75484481337931),(54,85,-0.124851222266305),(54,91,0.98055970946379),(54,94,-0.637318033387249),(54,96,2.13118381298257),(54,111,3.03109836115604),(54,112,-1.74602496414075),(54,113,-1.52658162175359),(54,118,-1.74221015045625),(55,87,-1.01029999694815),(55,95,0.913190099795526),(55,107,-0.632343516342662),(55,110,-0.304040650654622),(55,117,-3.18924527726066),(56,107,-0.490630817590869),(56,111,1.76822717978454),(56,113,0.00498977629932551),(56,114,0.627231666005432),(57,87,1.08166753135777),(57,90,2.63927121799371),(57,91,-0.298318430127873),(57,92,-1.43021942808313),(57,93,0.796929837946715),(57,94,1.9047059541612),(57,95,-1.66959135715812),(57,96,-2.27892391735588),(57,100,1.96259956663717),(57,102,-1.63609729300821),(57,103,0.924405652027955),(57,115,1.99812311166723),(58,86,2.65146336252937),(58,87,-1.99198889126255),(58,89,3.21613208410901),(58,90,-1.76519058809168),(58,95,-1.70918912320322),(58,96,2.17490157780694),(58,101,0.918774987029633),(58,103,2.14363536484878),(58,109,1.69042023987548),(58,110,-0.00956755272072507),(58,113,1.41541795098727),(58,114,-0.244987334818567),(58,115,0.815149388103885),(58,118,-2.1668141727958),(59,85,-1.50979644154179),(59,86,0.518662068544572),(59,90,-0.423749504074221),(59,91,2.4458296456801),(59,93,3.26354258857997),(59,97,-0.880932035279397),(59,98,-2.05763420514542),(59,100,0.194524979400006),(59,102,-0.993957335123753),(59,112,-2.7858821375164),(59,114,-2.08772545548875),(60,85,-2.27907650990326),(60,87,2.02757347331156),(60,90,3.04928739280374),(60,91,-1.31229590746788),(60,96,1.2482528153325),(60,100,-1.68396557512131),(60,101,1.27721488082522),(60,105,1.24691000091556),(60,107,0.075960570085757),(60,109,-0.297433393353069),(60,110,0.383785515915403),(60,114,2.39181188390759),(61,89,-1.57455671864986),(61,94,0.290749839777825),(61,96,-1.14383373516037),(61,98,-1.39873958555864),(61,100,-0.952330088198492),(61,102,2.24028748435926),(61,103,-2.30918301950133),(61,114,0.402630695516831),(61,115,1.15359965819269),(62,93,-1.09358500930815),(62,95,-3.16148869289224),(62,107,-0.43168431653798),(62,109,-0.844111453596606),(62,110,-0.485702078310495),(62,111,0.880016479995117),(63,87,1.1518753624073),(63,90,1.45309305093539),(63,93,-0.483489486373486),(63,97,2.01387066255684),(63,100,0.780175176244392),(63,103,-2.57448042237617),(63,104,-1.6565752128666),(63,108,-1.4783165990173),(63,111,1.19501327555162),(63,114,-0.554643391216773),(63,117,-1.36201055940428),(64,87,-1.68675801873836),(64,94,1.52197332682272),(64,99,-0.73459578234199),(64,110,-2.51451155125584),(64,112,-0.626422925504318),(64,116,1.95745719779046),(65,87,0.109836115604114),(65,88,0.147785882137516),(65,90,0.536057618945891),(65,97,-0.728659932248909),(65,99,1.81311990722373),(65,107,-1.65695669423505),(65,110,2.2293008209479),(65,111,-0.952055421613208),(65,114,-0.0826288644062624),(65,116,0.178823206274606),(65,117,1.19724112674337),(66,85,0.0929746391186254),(66,102,-1.3764763328959),(66,105,1.58149967955565),(66,108,0.899319437238685),(66,111,-1.8626209295938),(66,115,0.394680623798334),(66,118,2.05372783593249),(67,86,-1.48414563432722),(67,90,2.0887478255562),(67,92,-1.60792870876186),(67,104,0.778527176732688),(67,109,-0.853968932157353),(67,111,1.73010956144902),(68,87,2.29638050477615),(68,88,-0.545274208807642),(68,90,0.0972014526810511),(68,93,-0.904126102481155),(68,95,0.651051362651448),(68,96,1.38369396038697),(68,97,-2.80835901974548),(68,103,-2.09959715567492),(68,107,2.33695486312449),(68,112,-0.890987884151738),(68,114,-0.124652851954711),(69,87,1.11401715140233),(69,88,-1.39204077272866),(69,92,1.79631946775719),(69,94,-1.18388927884762),(69,95,1.80280465102084),(69,97,1.45686208685568),(69,108,-0.0191503646961882),(69,113,1.56488235114597),(69,114,-1.40916165654469),(69,118,1.30091250343333),(70,85,-0.21515549180578),(70,86,1.10425122837001),(70,87,0.181356242561113),(70,90,1.83922849208045),(70,96,0.282906582842494),(70,97,0.375591296121097),(70,99,-0.694235053559984),(70,105,-1.08803064058351),(70,107,-1.03556932279427),(70,109,1.12645344401379),(70,110,-2.46047853022858),(70,111,-0.729987487411115),(71,85,-0.0878017517624439),(71,93,-0.183339945677053),(71,96,2.22586748863186),(71,100,1.15074617755669),(71,104,1.13429670094913),(71,106,-0.032639545884579),(71,111,-1.71979430524613),(71,113,-0.733817560350352),(72,94,1.31667531357768),(72,96,-1.82888271736808),(72,99,1.47387615588855),(72,110,2.30468153935362),(72,112,2.09433271279031),(72,114,-1.21750541703543),(72,115,1.64983062227241),(72,116,0.34827723014008),(73,88,1.97352519302957),(73,94,-0.52233954893643),(73,99,-2.07731864375744),(73,100,0.572313608203375),(73,106,1.07310708944975),(73,110,2.0883053071688),(73,115,1.31968138676107),(74,90,0.257820368053224),(74,94,0.269447920163579),(74,99,2.33413190099796),(74,102,-1.15764336069826),(74,106,1.79404583880123),(74,107,0.336390270699179),(74,110,0.292229987487411),(74,113,1.67603076265755),(74,116,1.49557481612598),(75,85,-0.0617999816888943),(75,86,-2.21518601031526),(75,93,0.668889431440168),(75,98,1.8511764885403),(75,103,-0.528092287972656),(75,105,-0.806405835139012),(75,111,0.25914792321543),(75,117,0.141071810052797),(76,86,-1.66777550584429),(76,89,-1.24832911160619),(76,92,2.31345561082797),(76,94,2.75879696035646),(76,99,-1.00103762932218),(76,101,1.6933194982757),(76,103,-1.80323191015351),(76,106,-0.905423139133885),(76,110,-2.18642231513413),(76,113,1.72559282204657),(77,88,0.0282601397747734),(77,91,0.0854213080233161),(77,93,0.0955992309335612),(77,98,0.0988494521927549),(77,101,-1.35520493179113),(77,102,-1.46865749076815),(77,103,-1.73886837366863),(77,104,-0.502868739890744),(77,105,-2.18160039063692),(77,109,0.420957060457167),(78,88,-0.967955565050203),(78,93,-1.23903622547075),(78,94,-1.23520615253151),(78,101,-2.27840510269478),(78,104,0.26128421887875),(78,110,-0.947264015625477),(78,114,0.32586138492996),(78,116,1.71590319528794),(78,117,-0.490432447279275),(78,118,-1.85363322855312),(79,87,-0.0968657490768151),(79,92,0.717490157780694),(79,94,-1.22038941618091),(79,107,-2.24037903988769),(79,108,0.608233893856624),(79,114,0.509079256569109),(79,118,0.573686941129795),(80,87,-2.00996429334391),(80,88,-2.38006225775933),(80,91,1.63466292306284),(80,99,-0.851054414502396),(80,101,0.353740043336283),(80,107,0.301049836725974),(80,113,1.3113803521836),(81,85,1.61183507797479),(81,86,1.36927396465957),(81,90,-1.78786584063234),(81,93,1.84955900753807),(81,96,-0.651432844019898),(81,97,-2.31347087008271),(81,106,-1.12608722190008),(81,107,2.36173589281899),(81,110,-0.981185338908048),(81,115,-0.515396588030641),(82,86,2.69644764549699),(82,92,-2.48464918973357),(82,110,-2.43316446424757),(82,112,1.12204351939451),(83,87,1.42178106021302),(83,91,0.510513626514481),(83,93,-0.573244422742393),(83,101,-1.91117587817011),(83,103,0.146717734305856),(83,105,-0.0522324289681692),(83,108,0.268456068605609),(84,85,-0.752616962187567),(84,86,0.636219367046113),(84,89,-1.21561326944792),(84,95,1.11967833491012),(84,99,-2.15346232490005),(84,104,0.462813196203497),(84,111,-1.41170995208594),(84,113,1.29966124454482),(84,114,0.710257271034883),(35,105,1.88605914487136)]
orgname='BHNEAT_8_1'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()