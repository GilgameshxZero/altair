edge = [(0,85,2.90203558458205),(0,89,-1.34968871120334),(0,90,-1.99186681722465),(0,93,2.37171544541765),(0,98,-1.35560930204169),(0,101,-2.00795770134587),(0,105,3.24083681752983),(0,108,-1.73902096621601),(0,113,4.22974333933531),(0,114,3.184682760094),(0,117,-1.10267189550462),(0,118,-2.18170720542009),(1,86,-3.32849360637226),(1,92,5.30717642750328),(1,98,3.84159367656484),(1,102,-7.61239204077273),(1,104,1.29199346903897),(1,107,-3.10554826502274),(1,108,-1.44627216406751),(1,109,0.902645954771569),(1,113,2.62687307351909),(2,87,2.31291390728477),(2,88,3.06817835016938),(2,100,2.91215247047334),(2,106,0.577532273323771),(2,108,1.10248878444777),(2,110,-0.789132358775597),(2,113,-0.300920133060701),(2,118,-0.923413800469985),(3,89,4.03814050721763),(3,92,-1.10601367229225),(3,97,0.896290475173193),(3,99,1.97781304361095),(3,101,-4.09958189642018),(3,103,-2.62152470473342),(3,105,1.57047486800745),(3,108,1.0677053132725),(3,109,-8),(3,111,-0.267311624500259),(3,112,-2.09305093539232),(3,116,-4.44212927640614),(4,90,0.930639057588428),(4,91,-0.958769493697928),(4,97,-0.0858638264107181),(4,99,0.299546800134281),(4,101,1.24321726126896),(4,108,3.73790704062014),(4,113,-3.08442945646535),(4,118,-1.10364085818049),(5,86,2.41174047059542),(5,87,-5.55401776177252),(5,89,-0.273606067079684),(5,92,0.0394680623798336),(5,93,1.09271523178808),(5,99,-1.35525070955535),(5,104,-2.24881740775781),(5,114,1.83229316080203),(5,118,-0.788605914487136),(6,89,-3.50125888851588),(6,92,-4.61081270790735),(6,94,-3.57123783074435),(6,100,0.723120822779016),(6,101,4.94257179479354),(6,103,-3.03614154484695),(6,107,-2.69704275643178),(6,110,-1.73483230079043),(6,113,-3.80393383587146),(7,85,5.2733314004944),(7,86,-3.85732596819971),(7,90,-0.487777336954863),(7,95,-0.0775704214606161),(7,99,2.29625843073824),(7,100,0.73559526352733),(7,104,-0.774201178014466),(7,106,-0.288476210821864),(7,108,-0.0610904263435772),(7,112,-2.23649555955687),(7,116,2.56351664784692),(8,92,1.4205298013245),(8,93,-2.15638447218238),(8,95,2.22663808099612),(8,99,-0.3217413861507),(8,106,0.528351695303201),(8,107,-0.247123630481887),(8,115,1.33381908627583),(8,116,-1.56244087038789),(8,118,2.27034821619312),(9,85,2.3990447706534),(9,87,3.16721091341899),(9,98,-4.10656300546281),(9,101,-1.23622852259896),(9,103,1.89870906704917),(9,105,-3.08091982787561),(9,106,4.57667775505844),(9,113,1.23319956053346),(10,89,-1.28341013824885),(10,96,-1.28588976714377),(10,106,1.08551286355174),(10,108,2.93549913022248),(10,111,2.95212408825953),(10,112,-0.219656971953489),(10,114,-1.3292489394818),(10,115,-0.144207586901455),(10,116,0.92200231940672),(10,117,1.73783074434645),(11,89,-1.53468428601947),(11,97,1.48226111636708),(11,105,-1.25636310922575),(11,112,-1.77127140110477),(11,115,-4.97554704428236),(12,92,4.10608233893857),(12,93,-0.407429731131931),(12,94,1.9918286690878),(12,97,-4.88430433057649),(12,98,1.46284371471297),(12,99,-0.705816827906125),(12,108,2.64776299325541),(12,116,-4.65794854579302),(13,86,-1.21260719626453),(13,87,3.40540787987915),(13,90,-1.72197637867367),(13,99,-2.63323618274483),(13,102,3.40907010101627),(13,104,-1.99789422284616),(13,113,-1.7394177068392),(13,116,-5.62726218451491),(13,118,3.60209967345195),(14,90,-4.27695547349467),(14,93,-0.0757316812646871),(14,95,-4.50224311044649),(14,102,-0.11040070802942),(14,104,-5.2584917752617),(14,106,0.939436017944883),(14,109,-2.80545976134526),(14,110,0.352168340098269),(14,111,-1.06745353556932),(15,85,1.16869869075594),(15,92,4.54066591387677),(15,99,1.38679158909879),(15,101,-1.00367748039186),(15,104,-1.82484664448988),(15,108,-0.671452986236152),(15,117,1.64317758720664),(16,86,-0.717108676412244),(16,87,-3.74813837092196),(16,88,1.87873470259713),(16,90,-1.5406811731315),(16,91,-2.20793786431471),(16,95,-3.60863063447981),(16,97,-1.41175572985015),(16,98,2.21053956724754),(16,99,1.26924954985198),(16,101,0.907818842127751),(16,108,7.59226508377331),(16,110,-2.46485030671102),(17,89,-0.711165196691794),(17,96,2.64526810510575),(17,99,0.388271736808374),(17,101,0.984885708182012),(17,106,-0.699865718558306),(17,107,-2.85271004364147),(17,109,-2.98988311410871),(18,90,1.69061861018708),(18,91,-3.17140720847194),(18,93,3.76038392284921),(18,99,0.370761741996521),(18,102,2.96388134403516),(18,103,0.156781212805567),(18,104,0.619754631183813),(18,110,-1.83617664113285),(18,111,-1.56729331339457),(18,116,1.9529938657796),(18,117,-3.83095034638508),(18,118,1.52079836420789),(19,87,-1.38431958983123),(19,89,-1.28804132206183),(19,93,-5.39166692098758),(19,95,-2.85264137699515),(19,101,2.67962431714835),(19,105,-2.23782311471908),(19,115,-2.13512070070498),(20,88,-2.07764671773431),(20,101,2.52537614062929),(20,103,4.77433851130711),(20,104,4.41079439680166),(20,105,1.27442243720817),(20,106,-2.61008026367992),(20,111,2.07312234870449),(20,116,3.50534836878567),(21,86,1.480605487228),(21,87,0.21439252906888),(21,94,-1.88015381328776),(21,96,2.97372356334117),(21,101,2.77099673451949),(21,102,2.09578234199042),(21,105,-2.43784142582476),(21,107,3.47350993377483),(21,108,1.69588305307169),(22,86,0.885723441267128),(22,88,-1.14698477126377),(22,91,-0.966772972808008),(22,92,-3.85525833918271),(22,93,2.19710379345073),(22,98,-1.82813501388592),(22,106,-3.26268807031465),(22,115,2.60737174596393),(22,117,-2.61650440992462),(23,85,-0.18137913144322),(23,86,1.66310617389447),(23,88,1.27016510513627),(23,90,1.93963438825648),(23,97,-2.45939512314219),(23,104,4.1144901882992),(23,112,-3.86307107760857),(23,114,0.473319193090609),(23,115,-5.59622486037782),(23,116,-0.284447767571032),(24,89,-1.29177983947264),(24,90,-1.8989455854976),(24,91,1.443739127781),(24,101,3.57290108951079),(24,107,2.22228919339579),(24,108,4.95196386608478),(24,110,-2.51007873775445),(24,112,-4.14570299386578),(25,90,-0.91178624835963),(25,92,2.89871669667653),(25,94,-6.15240943632313),(25,98,-3.88722647785882),(25,105,-0.459959715567492),(25,108,6.57910397656179),(25,109,-3.98562578203681),(25,115,1.48425244911039),(26,85,0.0926465651417585),(26,87,-1.3029877620777),(26,89,-1.86742759483627),(26,95,-2.00071718497269),(26,98,-2.13464003418073),(26,100,0.412839136936552),(26,101,1.81265449995422),(26,102,2.96673482467116),(26,103,-2.17088839381085),(26,104,2.40878017517624),(26,107,-3.82877590258492),(26,109,1.31897946104312),(26,112,1.63866847743156),(26,113,-3.13381603442488),(26,117,-2.3898892178106),(27,85,0.687429425946837),(27,87,-2.41633350627155),(27,94,3.32773827326273),(27,100,2.81101413006989),(27,102,-1.64223914304025),(27,103,5.02700888088626),(27,104,1.13833277382733),(27,105,-0.771675771355327),(27,108,0.937681203650014),(27,110,-0.115184484389782),(27,114,-1.1899243140965),(28,87,-3.99989318521683),(28,88,-1.77501754814295),(28,97,0.392200994903409),(28,99,-2.87020477919858),(28,104,-5.63950010681478),(28,113,2.11624500259407),(28,114,-2.70477919858394),(29,88,4.32028412732322),(29,91,-4.60589922788171),(29,102,-0.0428937650685142),(29,105,-3.23635059663686),(29,116,-0.456358531449324),(30,95,4.77903073213904),(30,96,0.50038148136845),(30,99,2.22036652729881),(30,101,-3.27982421338542),(30,104,2.23246711630604),(30,109,-3.20166631061739),(30,110,1.54483932004761),(30,114,-0.973586230048525),(30,118,0.706724753563036),(31,85,-1.11298715170751),(31,92,5.43021179845576),(31,94,1.56752983184301),(31,96,4.30191961424604),(31,99,-0.503402813806574),(31,103,-1.9330576494644),(31,107,-1.07158116397595),(31,108,2.49047822504349),(31,109,1.4150669881283),(31,111,-0.558000427259133),(31,112,-1.18652150028993),(31,117,1.93204290902432),(32,86,-4.6111941892758),(32,87,4.45282601397748),(32,89,-1.55590227973266),(32,92,4.03602710043641),(32,98,1.50849940488907),(32,99,0.590548417615284),(32,104,1.75720999786371),(32,106,2.89118625446333),(32,109,-0.337595751823481),(32,116,1.36468092898343),(32,118,-2.62694174016541),(33,96,-2.04526657918027),(33,98,-1.47229682302316),(33,108,3.38523514511551),(33,110,-2.04423657948546),(33,111,1.40454573198645),(33,114,1.94171727652821),(34,85,-0.788346507156591),(34,90,-0.886432996612445),(34,99,-1.20456556901761),(34,104,0.644032105471968),(34,109,-0.540612506485183),(35,86,2.39185003204443),(35,87,-0.166051210058901),(35,97,-1.83912167729728),(35,98,-0.802827539902951),(35,100,-2.04457991271706),(35,104,-6.39156010620441),(35,107,-0.703207495345928),(35,109,-0.264992217780084),(35,110,-3.78141117587817),(35,112,-4.0751365703299),(36,85,-1.10680715353862),(36,87,-2.81273079622791),(36,90,2.23063600573748),(36,91,2.80491805780206),(36,104,-5.77009643848994),(36,107,-1.42653431806391),(36,109,-0.378658406323435),(36,112,1.09672841578417),(36,115,5.10982848597675),(36,117,-6.99359111301004),(36,118,4.38827173680837),(37,85,3.51047547837764),(37,86,-3.72291482284005),(37,87,-3.76293221839045),(37,91,3.73031556138798),(37,99,0.635319071016572),(37,105,-2.30326242866298),(37,111,1.38872188482315),(37,112,-3.03263191625721),(37,118,-0.71309549241615),(38,87,2.56765953550829),(38,90,3.91920987578967),(38,103,-0.138714255195776),(38,105,4.35404522843104),(38,106,3.1629001739555),(38,111,-1.69987334818567),(38,115,2.92822809533982),(39,87,0.290055543687246),(39,89,-1.20288705099643),(39,91,-4.02668843653676),(39,94,0.729934080019532),(39,97,-3.67343668935209),(39,98,0.205923642689291),(39,107,1.45564134647664),(39,108,5.0081713309122),(39,109,0.708510086367382),(39,111,-4.55665761284219),(39,113,-0.0304574724570453),(39,116,-0.570291756950591),(39,118,-6.43382824182867),(40,88,-1.72043519394513),(40,92,0.314569536423841),(40,99,-0.28080080568865),(40,104,1.78102969450972),(40,110,-4.04940946684164),(40,116,-2.02603228858303),(40,118,-0.535828730124821),(41,88,-3.14012573625904),(41,93,1.5328073976867),(41,96,-1.25819421979431),(41,97,-1.06040375988037),(41,100,4.43048646504105),(41,101,2.51480910672323),(41,104,-1.71181371501816),(41,105,-0.754951628162481),(41,106,0.0059587389751885),(41,107,-8),(41,109,3.65367595446638),(41,110,2.13667714468825),(41,111,-3.5069658497879),(41,112,4.44724112674337),(42,85,0.201452681051057),(42,86,0.144779808954131),(42,87,1.07988219855342),(42,99,3.00107577745903),(42,100,-1.00344096194342),(42,103,-5.58339945677053),(42,109,-2.29499954222236),(42,113,-2.54338206122013),(43,85,1.66612750633259),(43,88,0.480857264931181),(43,89,-1.15217291787469),(43,93,4.07261116367077),(43,97,-0.89592425305948),(43,98,2.45142979216895),(43,101,2.27514725180822),(43,102,5.81207464827418),(43,103,-2.11584826197089),(43,105,-0.97613452558977),(43,110,-2.21135593737602),(43,112,0.188352610858486),(43,114,-0.144909512619404),(43,116,-0.883739738151189),(44,89,3.83915219580676),(44,98,7.22224341563158),(44,99,-1.1303903317362),(45,87,-3.06839197973571),(45,88,-2.34281441694388),(45,90,-0.700125125888852),(45,91,0.593104342783898),(45,95,1.41994232001709),(45,98,-4.27747428815577),(45,108,3.50994140446181),(45,109,3.58337656788842),(45,112,1.37804803613392),(45,115,-0.10536515396588),(46,85,1.51876888332774),(46,89,1.9442808313242),(46,91,2.60820337534715),(46,94,-3.87511062959685),(46,97,4.56949064607685),(46,100,1.33096560563982),(46,101,0.985305337687307),(46,108,-0.791726432081057),(46,112,-5.59643848994415),(47,86,2.93053987243263),(47,91,-0.0742515335551011),(47,92,1.81179998168889),(47,94,3.63497573778497),(47,95,-1.70194097720267),(47,100,4.91620380260628),(47,101,-0.589999084444716),(47,104,-2.64465773491623),(47,105,0.718161564989166),(47,108,-0.10727256080813),(47,112,2.62733085116123),(47,114,2.03672902615436),(47,118,-2.7782296212653),(48,86,1.97267067476424),(48,91,-1.44007690664388),(48,98,0.41476180303354),(48,99,-2.21742912076174),(48,100,-0.760544145023957),(48,103,-0.800653096102786),(48,105,-0.962569048127689),(48,106,-4.21158482619709),(48,111,-4.07290108951079),(48,115,2.14785454878384),(49,87,0.667928098391674),(49,89,3.86582537308878),(49,93,1.32580034791101),(49,94,3.35211493270669),(49,95,3.89979247413556),(49,102,-2.5759758293405),(49,113,-0.161687063203833),(49,114,1.62664418469802),(50,89,2.9645832697531),(50,105,1.74405652027955),(50,107,1.2975249488815),(51,87,-1.13209936826685),(51,92,0.35986663411359),(51,97,3.03338724936674),(51,98,4.92606128116703),(51,103,2.53586687826167),(51,106,1.16138950773644),(51,112,2.76089510788293),(51,118,-2.69800408948027),(52,89,-0.792405468916898),(52,97,0.0452513199255347),(52,106,-0.210997344889675),(52,110,-0.260895107882931),(52,111,0.0979415265358441),(52,113,1.02658162175359),(52,114,2.18017365031892),(52,118,-0.842799157689138),(53,88,-0.498985259559923),(53,90,-2.47459334086123),(53,92,-2.52958006530961),(53,94,0.224768822290719),(53,104,-2.91847743156224),(53,105,-3.09073915829951),(53,109,3.62955107272561),(54,85,-1.23950163274026),(54,91,-2.68951994384594),(54,94,-3.70567949461348),(54,96,3.94116031373028),(54,111,-1.88882869960631),(54,112,3.48858607745598),(54,113,0.416249580370495),(54,118,-2.87853633228553),(55,87,0.118488113040559),(55,95,3.03605761894589),(55,107,-0.749267555772576),(55,110,-2.24799340800195),(55,117,-2.78293710135197),(56,107,0.485808893093661),(56,111,2.13026062807092),(56,113,-0.958456678975799),(56,114,-0.679136020996734),(57,87,1.23906674398022),(57,90,1.73403881954405),(57,91,-2.02101199377422),(57,92,-2.0846125675222),(57,93,3.8966566972869),(57,94,-0.428052613910337),(57,95,-3.85950041199988),(57,96,-0.0816675313577685),(57,100,-1.10410626545),(57,102,-4.52284310434278),(57,103,1.76705984679708),(57,115,-0.321169164098025),(58,86,2.14629810480056),(58,87,-3.27697073274941),(58,89,0.268425550096134),(58,90,2.7557832575457),(58,95,-3.69821008941923),(58,96,-2.46429334391308),(58,101,-0.0193258461256756),(58,103,-0.324320200201422),(58,109,1.87688833277383),(58,110,5.06304361095004),(58,113,-1.88595995971557),(58,114,0.898693807794428),(58,115,0.649288918729209),(59,85,3.54327524643696),(59,86,-2.60696737571337),(59,90,0.0326319162572104),(59,91,-1.99850459303568),(59,93,-2.92170476393933),(59,97,-2.79145176549577),(59,98,-0.544152653584399),(59,100,5.50348673970763),(59,102,0.118060853907895),(59,112,0.493789483321635),(59,114,-2.56936857203894),(60,85,0.431783501693777),(60,87,0.123043000579852),(60,90,2.34412671285134),(60,91,-3.26754051332133),(60,96,1.48258919034394),(60,100,-1.56906338694418),(60,101,0.314340647602771),(60,105,-1.75122837000641),(60,107,0.616405224768822),(60,109,1.30780205694754),(60,110,2.06556901760918),(60,114,2.02488784447768),(61,89,2.81717123935667),(61,94,-3.71137119663076),(61,96,0.483321634571367),(61,98,-0.284356212042604),(61,100,-1.99365977965636),(61,102,-3.76213110751671),(61,103,3.35062715536973),(61,114,-0.381122775963622),(61,115,4.10351878414258),(62,93,-1.73121585741752),(62,95,3.29432050538652),(62,107,0.629749443037202),(62,109,-1.43128757591479),(62,110,-3.42890713217566),(62,111,0.260475478377636),(63,87,1.52300332651753),(63,90,4.21486556596576),(63,93,-0.720389416180914),(63,97,-0.491828669087802),(63,100,3.47724845118564),(63,103,0.125949888607441),(63,104,2.48348948637349),(63,108,-0.266357921079134),(63,111,2.30890072328867),(63,114,0.692114017151402),(63,117,3.12982573931089),(64,87,-1.52405621509446),(64,94,-2.70983764152959),(64,99,-0.142765587328715),(64,110,1.49922177800836),(64,112,0.261185033722953),(64,116,-0.38845484786523),(65,87,3.0143971068453),(65,88,-4.81211279641102),(65,90,-0.250938444166387),(65,97,5.14233832819605),(65,99,-2.51234473708304),(65,107,-5.05469679860836),(65,110,-4.98445081942198),(65,111,-1.04193243202002),(65,114,-3.06213568529313),(65,116,2.94694357127598),(65,117,-3.75934629352702),(66,85,-1.04504531998657),(66,102,-1.80957213049715),(66,105,-1.17600024414808),(66,108,0.891918698690756),(66,111,2.82257301553392),(66,115,-1.43972594378491),(66,118,-0.140934476760155),(67,86,5.98269600512711),(67,90,-3.30646687215796),(67,92,0.105151524399548),(67,104,-1.94410534989471),(67,109,-0.526200140385144),(67,111,1.59779656361583),(68,87,0.52050843836787),(68,88,-1.1120792260506),(68,90,1.00932340464492),(68,93,-3.25233466597491),(68,95,-2.50151066621906),(68,96,-1.8015839106418),(68,97,2.05671864986114),(68,103,-0.396511734366894),(68,107,-0.0864818262276071),(68,112,0.972777489547411),(68,114,0.314088869899594),(69,87,4.81743827631458),(69,88,-2.73458052308725),(69,92,-2.05587939085055),(69,94,2.20350505081332),(69,95,1.03587450788904),(69,97,0.32105471968749),(69,108,-0.473952452162236),(69,113,0.0863750114444413),(69,114,-1.83745078890347),(69,118,-1.44894253364666),(70,85,-1.26888332773827),(70,86,1.38825647755364),(70,87,-4.59797967467269),(70,90,2.0142979216895),(70,96,-1.92838831751457),(70,97,-1.05777916806543),(70,99,1.94975127414777),(70,105,-1.56034272286142),(70,107,-1.68378246406445),(70,109,-0.609828485976745),(70,110,-2.39101077303385),(70,111,0.520317697683645),(71,85,1.44032105471969),(71,93,2.43758964812159),(71,96,-1.83339945677053),(71,100,-2.17649616992706),(71,104,3.41578417310099),(71,106,-0.861156041138951),(71,111,-1.68561357463301),(71,113,0.371639149143956),(72,94,2.22338023010956),(72,96,-2.09402752769555),(72,99,1.38141270180364),(72,110,-1.10583819086276),(72,112,-0.95883053071688),(72,114,-1.68713950010681),(72,115,2.01536606952116),(72,116,-0.772804956205939),(73,88,-4.07162694174017),(73,94,1.74114200262459),(73,99,0.821634571367534),(73,100,-1.95043794061098),(73,106,1.15497299111911),(73,110,1.26209295937986),(73,115,0.75853755302591),(74,90,1.2602618488113),(74,94,-1.28066347239601),(74,99,-1.5911587878048),(74,102,1.40560625019074),(74,106,2.25554673909726),(74,107,1.88879055146947),(74,110,-1.40774254585406),(74,113,3.03109836115604),(74,116,-2.00323496200446),(75,85,-1.77961058381909),(75,86,-1.35860774559771),(75,93,0.575113681447798),(75,98,0.881832331308939),(75,103,-0.547334208197272),(75,105,1.18190557573168),(75,111,-3.48168126468703),(75,117,0.481734672078616),(76,86,-0.0785927915280619),(76,89,3.29837946714682),(76,92,-1.29848628192999),(76,94,-2.00605792413099),(76,99,-0.336390270699179),(76,101,1.30901516769921),(76,103,2.79835657826472),(76,106,-3.78360850856044),(76,110,-0.075258644367809),(76,113,3.41872157963805),(77,88,-2.29931028168584),(77,91,-0.531739249855037),(77,93,1.00245674001282),(77,98,0.285271767326884),(77,101,-1.42692342905972),(77,102,-6.43449964903714),(77,103,1.56163212988678),(77,104,-0.234305856501968),(77,105,1.13938566240425),(77,109,-0.849940488906522),(78,88,2.02270577105014),(78,93,-0.285332804345836),(78,94,0.712050233466598),(78,101,1.63756218146306),(78,104,-1.32381664479507),(78,110,-3.40957365642262),(78,114,0.38266396069216),(78,116,0.416539506210517),(78,117,2.04091006195257),(78,118,1.10956144901883),(79,87,4.15076143681143),(79,92,-2.38994262520219),(79,94,2.32047486800745),(79,107,2.41149632251961),(79,108,-2.20133060701315),(79,114,2.60938596758934),(79,118,0.565027314065981),(80,87,0.826502273628956),(80,88,0.021210364085818),(80,91,-0.491027558214057),(80,99,-0.274712363048189),(80,101,-0.451979125339518),(80,107,2.49580370494705),(80,113,2.38616595965453),(81,85,-1.3898892178106),(81,86,3.18300424207282),(81,90,0.798890652180547),(81,93,2.65860469374676),(81,96,1.08297219763787),(81,97,-3.89101077303385),(81,106,3.70785393841365),(81,107,0.790116580706198),(81,110,1.37327951902829),(81,115,-0.968329416791284),(82,86,-2.32337412640767),(82,92,2.76474806970428),(82,110,-1.8908505508591),(82,112,0.617618335520493),(83,87,0.270088808862575),(83,91,-1.51740318002869),(83,93,3.19987334818567),(83,101,-2.11229285561693),(83,103,0.21614734336375),(83,105,-1.42800683614612),(83,108,-4.63163396099734),(84,85,-0.648510696737571),(84,86,-0.097659230323191),(84,89,-0.444196905423139),(84,95,-3.44332712790307),(84,99,1.30417035431989),(84,104,3.02236243781854),(84,111,1.05425428022095),(84,113,1.3487655262917),(84,114,-1.31725516525773),(10,119,-2.61177404095584),(119,109,-1.8694875942259),(58,120,-0.926976836451308),(120,118,4.89520706808679),(95,104,3.43308816797388)]
orgname='BHNEAT_13_10'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()