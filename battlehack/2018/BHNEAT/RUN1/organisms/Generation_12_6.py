edge = [(0,85,-0.202841273232215),(0,89,1.39671010467849),(0,90,-1.60763878292184),(0,93,-0.24031800286874),(0,98,-0.93259987182226),(0,101,0.217566454054384),(0,105,2.23249000518815),(0,108,-2.41149632251961),(0,113,2.81963560899686),(0,114,2.38473158970916),(0,117,0.555207983642079),(0,118,2.44955290383618),(1,86,1.59170812097537),(1,92,0.483581041901914),(1,98,3.00584429456465),(1,102,0.709738456373791),(1,104,-1.15272988067263),(1,107,-1.09643848994415),(1,108,-0.120853297524949),(1,109,0.716483046967986),(1,113,0.587511825922422),(2,87,2.15501876888333),(2,88,-1.07486190374462),(2,100,1.91592150639363),(2,106,1.54008606219672),(2,108,-1.26448866237373),(2,110,-0.52554399243141),(2,113,2.84076967680898),(2,118,2.43488876003296),(3,89,1.83051545762505),(3,92,0.328089236121708),(3,97,-2.11935789056063),(3,99,1.92120120853298),(3,101,1.07739494003113),(3,103,-1.05043183690909),(3,105,1.58355967894528),(3,108,1.18611713003937),(3,109,-2.48838770714438),(3,111,-0.408612323374126),(3,112,2.75534836878567),(3,116,-1.74402600177007),(4,90,-0.211859492782373),(4,91,2.4377574999237),(4,97,-1.16988128299814),(4,99,-1.26265755180517),(4,101,1.88929410687582),(4,108,-1.5523239844966),(4,113,-2.25366985076449),(4,118,-2.02446058534501),(5,86,-0.520096438489944),(5,87,1.45234534745323),(5,89,-2.24582659382916),(5,92,-2.64986114078188),(5,93,-0.19289223914304),(5,99,-1.71715445417646),(5,104,-0.246498001037629),(5,114,1.004135258034),(5,118,-0.413800469985046),(6,89,-2.5108035523545),(6,92,-1.86803796502579),(6,94,2.12553788872951),(6,100,0.231238746299631),(6,101,0.56663716544084),(6,103,-0.520310068056276),(6,107,1.16881313516648),(6,110,-1.93697927793207),(6,113,0.593935972167119),(7,85,-0.444730979338969),(7,86,1.40963469344157),(7,90,0.56831568346202),(7,95,-1.27509384441664),(7,99,-1.97968993194372),(7,100,-1.05343791009247),(7,104,0.179006317331462),(7,106,-1.48884548478652),(7,108,1.98635822626423),(7,112,0.479384746848964),(7,116,0.371257667775506),(8,92,1.08490249336222),(8,93,1.96098208563494),(8,95,-1.3865169225135),(8,99,-2.01344340342418),(8,106,0.239967040009766),(8,107,-0.40957365642262),(8,115,1.3053987243263),(8,116,-1.86640522476882),(8,118,-0.893200476088748),(9,85,-1.67891476180303),(9,87,-0.917340617084262),(9,98,-0.0694601275673696),(9,101,-2.33187353129673),(9,103,-0.0549333170567949),(9,105,-2.38459425641652),(9,106,-0.214728232673116),(9,113,1.57061983092746),(10,89,-1.59340189825129),(10,96,-1.05932798242134),(10,106,0.91315958128605),(10,108,1.25731681264687),(10,109,0.528183843501083),(10,111,0.104098635822626),(10,112,-0.452665791802728),(10,114,-1.44834742271187),(10,115,-0.905758842738121),(10,116,0.564821314127018),(10,117,1.5140537736137),(11,89,-1.15671254615925),(11,97,-1.77066866054262),(11,105,-0.119357890560625),(11,112,-3.16699728385266),(11,115,0.581148716696677),(12,92,-2.49591051973022),(12,93,2.5052186651204),(12,94,1.13048188726463),(12,97,0.263405255287332),(12,98,-1.25643177587207),(12,99,0.0552995391705069),(12,108,1.98844874416333),(12,116,0.678365428632466),(13,86,1.30455946531571),(13,87,1.41917172765282),(13,90,-2.0846125675222),(13,99,0.652500991851558),(13,102,-0.821634571367534),(13,104,2.06855983153783),(13,113,0.402447584459975),(13,116,-1.10968352305673),(13,118,2.96700949125645),(14,90,-1.00195318460646),(14,93,-0.297067171239357),(14,95,-1.51249732963042),(14,102,-0.844813379314554),(14,104,1.49906918546098),(14,106,0.686681722464675),(14,109,0.731482894375439),(14,110,-1.38731040375988),(14,111,-0.348399304177984),(15,85,0.433851130710776),(15,92,1.89242225409711),(15,99,0.239906002990814),(15,101,-1.03526413769951),(15,104,0.0964079714346752),(15,108,2.37508774071474),(15,117,0.45890682699057),(16,86,-1.66508987701041),(16,87,-0.0487685781426436),(16,88,2.30545976134526),(16,90,0.750648518326365),(16,91,-0.10895107882931),(16,95,0.445295571764275),(16,97,-2.9614093447676),(16,98,1.22879726554155),(16,99,-1.37327188940092),(16,101,0.164693136387219),(16,108,-1.67509994811853),(16,110,0.0987426374095889),(17,89,-1.09443952757347),(17,96,1.52809228797266),(17,99,-2.04197820978423),(17,101,1.52595599230934),(17,106,-1.35110019226661),(17,107,-2.37963499862667),(17,109,-2.79113132114628),(18,90,0.656880397961364),(18,91,-1.75397503585925),(18,93,0.861018707846309),(18,99,2.64442884609516),(18,102,-1.90751365703299),(18,103,-0.200552385021516),(18,104,1.51203955198828),(18,110,3.23699148533586),(18,111,-2.02522354808191),(18,116,0.646916104617451),(18,117,-0.731681264687033),(18,118,-0.199468977935118),(19,87,-0.46005127109592),(19,89,1.97183141575365),(19,93,-0.818506424146245),(19,95,0.10399182103946),(19,101,2.55117954039125),(19,105,2.15184484389782),(19,115,-1.06407361064486),(20,88,2.32683797723319),(20,101,-1.75507370220038),(20,103,-1.71677297280801),(20,104,-0.0300302133243812),(20,105,0.968016602069155),(20,106,1.67479476302377),(20,111,-1.70163579210791),(20,116,-1.64740440076907),(21,86,3.08236945707572),(21,87,0.318597979674673),(21,94,-1.62181463057344),(21,96,0.121005890072329),(21,101,3.02479628894925),(21,102,0.653157139805292),(21,105,-2.67859431745354),(21,107,-0.3947874385815),(21,108,0.995101779229102),(22,86,-2.9385204626606),(22,88,1.62819299905393),(22,91,1.39997558519242),(22,92,0.327372051149022),(22,93,1.88903469954527),(22,98,-0.0252388073366497),(22,106,0.348261970885342),(22,115,-0.191686758018738),(22,117,-0.497299111911374),(23,85,-0.950788903469955),(23,86,0.144337290566729),(23,88,1.63066499832148),(23,90,-1.24039429914243),(23,97,2.61949522385327),(23,104,1.47532578508866),(23,112,-0.446485793633839),(23,114,-2.05937376018555),(23,115,-1.5044557023835),(23,116,0.275719473860897),(24,89,1.05101168858913),(24,90,0.0229194006164739),(24,91,0.806588946195868),(24,101,-1.56744590594195),(24,107,-0.357631153294473),(24,108,-1.23902096621601),(24,110,1.72763756218146),(24,112,1.6744438001648),(25,90,2.64514603106784),(25,92,-0.674352244636372),(25,94,1.31028168584246),(25,98,0.769936216315195),(25,105,0.925122837000641),(25,108,-0.097811822870571),(25,109,-0.501556443983276),(25,115,2.05510116885891),(26,85,1.63165684987945),(26,87,-1.17494735557115),(26,89,0.645084994048891),(26,95,-1.67082735679189),(26,98,0.382412182988983),(26,100,2.72423474837489),(26,101,0.627277443769646),(26,102,-2.34096804712058),(26,103,1.64590899380474),(26,104,2.99781792657247),(26,107,1.3102969450972),(26,109,0.252403332621235),(26,112,0.658833582567827),(26,113,-0.702826013977477),(26,117,-2.38676107058931),(27,85,-1.53950621051668),(27,87,2.56303598132267),(27,94,-2.32671590319529),(27,100,2.90836817529832),(27,102,-1.0727256080813),(27,103,0.667134617145299),(27,104,0.465819269386883),(27,105,1.23125400555437),(27,108,1.61717581713309),(27,110,-1.08380382702109),(27,114,1.32723471785638),(28,87,1.51976073488571),(28,88,-0.977401043733024),(28,97,-1.78113650929289),(28,99,1.73450422681356),(28,104,-0.722190008239998),(28,113,0.374248481704154),(28,114,0.0344706564531388),(29,88,1.08474990081484),(29,91,3.09018219550157),(29,102,1.42382580034791),(29,105,-1.70676290169988),(29,116,-1.37618640705588),(30,95,-0.451322977385785),(30,96,-0.320261238441115),(30,99,0.170964690084536),(30,101,0.110049745170446),(30,104,1.97264015625477),(30,109,-0.991058076723533),(30,110,1.67854853968932),(30,114,-3.32518997772149),(30,118,1.01400799584948),(31,85,-1.586138492996),(31,92,0.480773339030122),(31,94,-1.07426679280984),(31,96,1.79902035584582),(31,99,-2.04924161503952),(31,103,1.08972441785943),(31,107,0.0201422162541581),(31,108,-0.163182470168157),(31,109,1.51672414319285),(31,111,-0.772515030365917),(31,112,0.646076845606861),(31,117,-1.11214026306955),(32,86,-1.19724112674337),(32,87,0.0288247322000794),(32,89,-1.97061067537461),(32,92,0.592928861354411),(32,98,-0.105243079927976),(32,99,-2.22722556230354),(32,104,-1.44219794305246),(32,106,-0.13510544145024),(32,109,-1.33196508682516),(32,116,-0.00148014770958588),(32,118,1.36648152104251),(33,96,2.17494735557115),(33,98,-1.49461348307749),(33,108,-0.439115573595386),(33,110,-1.59309671315653),(33,111,0.392056031983398),(33,114,0.805093539231544),(34,85,1.36133915219581),(34,90,0.436124759666738),(34,99,-1.53668324839015),(34,104,0.0897396771141697),(34,109,-1.50527970213935),(35,86,0.824152348399304),(35,87,2.99841303750725),(35,97,0.418256172368541),(35,98,-0.709402752769555),(35,100,0.333124790185247),(35,104,-0.38814966277047),(35,107,-2.4577929013947),(35,109,1.3408154545732),(35,110,-2.49307229834895),(35,112,0.269020661030915),(36,85,-3.03302102725303),(36,87,-0.0772423474837489),(36,90,0.267799920651875),(36,91,-0.416425061799982),(36,104,0.346385082552568),(36,107,-0.478972746971038),(36,109,2.71752067629017),(36,112,-2.60458693197424),(36,115,-0.119785149693289),(36,117,-1.19911801507614),(36,118,0.978820154423658),(37,85,2.09674367503891),(37,86,-1.77587206640828),(37,87,0.337076937162389),(37,91,1.31466109195227),(37,99,1.45434430982391),(37,105,0.289437543870357),(37,111,0.590548417615284),(37,112,1.16530350657674),(37,118,1.69031342509232),(38,87,1.32601397747734),(38,90,-0.213415936765648),(38,103,2.68108157597583),(38,105,-1.09907834101383),(38,106,2.92291024506363),(38,111,-0.110049745170446),(38,115,1.593768120365),(39,87,1.88308359019745),(39,89,-0.401852473525193),(39,91,1.66196172978912),(39,94,2.30533768730735),(39,97,0.155598620563372),(39,98,-1.31798760948515),(39,107,0.0356913968321788),(39,108,3.28917813653981),(39,109,2.82462538529618),(39,111,0.691839350566118),(39,113,-0.367534409619434),(39,116,-0.700872829371014),(39,118,-2.16615802484207),(40,88,-1.01210058900723),(40,92,-2.05771050141911),(40,99,1.96505630664998),(40,104,1.10847804193243),(40,110,2.13409833063753),(40,116,-0.478972746971038),(40,118,0.147556993316446),(41,88,0.771279030732139),(41,93,3.41396832178716),(41,96,0.362605670339061),(41,97,-0.402691732535783),(41,100,1.36967070528275),(41,101,-1.91781365398114),(41,104,-1.69411297952208),(41,105,-0.214102603228858),(41,106,-2.17477950376904),(41,107,-3.27700125125889),(41,109,2.76763206884976),(41,110,-0.830240791039766),(41,111,0.508346812341685),(41,112,0.52264473403119),(42,85,0.28598895229957),(42,86,-2.18088320566424),(42,87,1.83115634632405),(42,99,1.96623126926481),(42,100,-0.506485183263649),(42,103,0.43679616687521),(42,109,0.132786034730064),(42,113,-1.36712240974151),(43,85,1.90508743552965),(43,88,2.53929258095035),(43,89,-2.097903378399),(43,93,0.766808069093905),(43,97,-0.236304818872646),(43,98,1.58966338084048),(43,101,2.86327707754753),(43,102,0.692022461622974),(43,103,1.37966551713614),(43,105,-1.84186834315012),(43,110,0.833170567949461),(43,112,1.96105838190863),(43,114,-0.953001495406964),(43,116,-1.69812616351817),(44,89,2.48084963530381),(44,98,2.28057191686758),(44,99,-2.61183507797479),(45,87,-1.00846888637959),(45,88,1.57759331034272),(45,90,-0.547105319376202),(45,91,1.4008911404767),(45,95,-0.610873744926298),(45,98,-2.35552537614063),(45,108,-2.61371196630757),(45,109,-0.768639179662465),(45,112,-0.19869075594348),(45,115,-3.01120029297769),(46,85,-1.77074495681631),(46,89,-0.581926938688314),(46,91,0.368083742790002),(46,94,-1.83445234534745),(46,97,1.40749839777825),(46,100,0.140934476760155),(46,101,-0.554963835566271),(46,108,0.940427869502854),(46,112,-1.29645680104984),(47,86,-0.604159672841578),(47,91,2.5980254524369),(47,92,0.758751182592242),(47,94,-0.116931669057283),(47,95,-0.301904354991302),(47,100,0.874370555742057),(47,101,0.816675313577685),(47,104,-1.76007873775445),(47,105,-2.35291604358043),(47,108,2.31116672261727),(47,112,1.08888515884884),(47,114,-1.3205359050264),(47,118,2.29276406140324),(48,86,1.38236640522477),(48,91,-2.64067506942961),(48,98,1.71210364085818),(48,99,0.595538193914609),(48,100,1.38402966399121),(48,103,-1.5293130283517),(48,105,1.02586443678091),(48,106,1.59723197119053),(48,111,-0.818140202032533),(48,115,-1.80776390881069),(49,87,1.36115604113895),(49,89,2.31785027619251),(49,93,1.9077578051088),(49,94,-0.793176061281167),(49,95,0.184774315622425),(49,102,2.21863460188604),(49,113,1.57023834955901),(49,114,-0.277520065919981),(50,89,-0.0608691671498766),(50,105,1.53036591692862),(50,107,-0.4820093386639),(51,87,0.529633472701193),(51,92,1.26914273506882),(51,97,1.56418042542802),(51,98,1.96092104861599),(51,103,-0.0910824915311136),(51,106,-1.42158268990143),(51,112,2.50358592486343),(51,118,0.501541184728538),(52,89,-1.44042786950285),(52,97,-1.77773369548631),(52,106,-0.264213995788446),(52,110,-0.299996948149052),(52,111,2.8269600512711),(52,113,2.25029755546739),(52,114,-0.297006134220405),(52,118,0.578066347239601),(53,88,1.52862636188849),(53,90,-0.267647328104495),(53,92,0.971236304818873),(53,94,-0.87336344492935),(53,104,0.0153050325022126),(53,105,1.0731681264687),(53,109,-0.718497268593402),(54,85,1.14090395825068),(54,91,3.3829004791406),(54,94,2.74794763023774),(54,96,1.91709646900845),(54,111,-1.04060487685781),(54,112,0.599475081637013),(54,113,-0.867458113345744),(54,118,-0.884029663991211),(55,87,-2.8435468611713),(55,95,-1.70125431073946),(55,107,-0.288247322000794),(55,110,2.26409192175054),(55,117,0.939069795831172),(56,107,0.901242103335673),(56,111,-0.248741111484115),(56,113,-1.23657948545793),(56,114,-0.403057954649495),(57,87,-0.303109836115604),(57,90,0.957319864497818),(57,91,1.07890560625019),(57,92,0.640995513779107),(57,93,2.59920041505173),(57,94,-1.65718558305612),(57,95,-1.76871547593616),(57,96,-0.951063570055238),(57,100,1.62887966551714),(57,102,-3.1297494430372),(57,103,-1.66219061861019),(57,115,0.0182348094119083),(58,86,2.50238044373913),(58,87,2.27816095461898),(58,89,2.03254799035615),(58,90,-1.36921292764061),(58,95,-1.92245246742149),(58,96,-1.29116183965575),(58,101,-1.88564714499344),(58,103,0.562700277718436),(58,109,0.396359141819514),(58,110,-0.399746696371349),(58,113,2.53437910092471),(58,114,2.05679494613483),(58,115,1.44003112887967),(58,118,1.28963591418195),(59,85,-1.72128971221046),(59,86,2.25638599810785),(59,90,2.00723288674581),(59,91,2.84173100985748),(59,93,2.62417981505783),(59,97,0.653920102542192),(59,98,-0.436536759544664),(59,100,1.40130314035463),(59,102,2.29746391186254),(59,112,-2.96754356517228),(59,114,-2.92049928281503),(60,85,-1.36039307840205),(60,87,-2.23844111453597),(60,90,2.24611651966918),(60,91,1.51387066255684),(60,96,0.133945738090152),(60,100,-1.4415723136082),(60,101,1.37601855525376),(60,105,-1.57612842188788),(60,107,2.32364879299295),(60,109,-0.193441572313608),(60,110,-0.0834528641621143),(60,114,2.28917813653981),(61,89,1.04110843226417),(61,94,-1.18077639088107),(61,96,-0.220358897671438),(61,98,0.658513138218329),(61,100,0.134815515610218),(61,102,1.74420911282693),(61,103,-0.779595324564348),(61,114,-2.34838404492325),(61,115,-1.88062685018464),(62,93,1.89066743980224),(62,95,-2.52327036347545),(62,107,-0.252998443556017),(62,109,-0.685796685689871),(62,110,0.530335398419141),(62,111,-1.63531907101657),(63,87,-2.49844355601672),(63,90,-1.03714102603229),(63,93,-0.503555406353954),(63,97,1.36283455916013),(63,100,-0.621158482619709),(63,103,-0.441541795098727),(63,104,1.83893856624042),(63,108,-2.22840052491836),(63,111,0.0291299172948393),(63,114,-1.94300668355358),(63,117,0.941373943296609),(64,87,1.7024750511185),(64,94,-0.605929746391186),(64,99,-0.750999481185339),(64,110,-0.603518784142583),(64,112,-1.80588702047792),(64,116,1.63347270119327),(65,87,-1.75972777489547),(65,88,0.721503341776788),(65,90,-1.07226783043916),(65,97,0.876155888546403),(65,99,-0.883953367717521),(65,107,-0.226554155095065),(65,110,-1.65610217596973),(65,111,1.3275246436964),(65,114,-1.6595049897763),(65,116,-2.30416272469253),(65,117,-0.781579027680288),(66,85,-0.330851161229285),(66,102,1.34653767509995),(66,105,-1.51719718008972),(66,108,-0.934690389721366),(66,111,-0.075884273812067),(66,115,-0.789300210577715),(66,118,2.41850032044435),(67,86,2.64546647541734),(67,90,-1.46910000915555),(67,92,2.70555742057558),(67,104,-2.48611407818842),(67,109,-3.07808160649434),(67,111,2.34047975096896),(68,87,-1.1738029114658),(68,88,1.21097445600757),(68,90,-0.208960234382153),(68,93,-0.675923947874386),(68,95,1.6136051515244),(68,96,1.93379009369182),(68,97,-0.611865596484268),(68,103,2.47199926755577),(68,107,-0.140690328684347),(68,112,-1.58474990081484),(68,114,-0.739982299264504),(69,87,0.696737571337016),(69,88,-0.435438093203528),(69,92,-1.77449873348186),(69,94,-0.795892208624531),(69,95,0.901058992278817),(69,97,-0.210974456007569),(69,108,-1.09456160161138),(69,113,1.90260017700736),(69,114,0.905514694662313),(69,118,-0.1977752006592),(70,85,-1.51780755027924),(70,86,-1.4867091891232),(70,87,-2.27855769524216),(70,90,1.53129673146764),(70,96,1.06555375835444),(70,97,-0.764198736533708),(70,99,-0.803643910031434),(70,105,-1.73665578173162),(70,107,2.20700704977569),(70,109,1.84508804589984),(70,110,0.726264229255043),(70,111,-0.274117252113407),(71,85,-1.59665211951048),(71,93,-0.46134830774865),(71,96,-1.73589281899472),(71,100,-2.14403210547197),(71,104,0.467696157719657),(71,106,-0.206213568529313),(71,111,0.847315897091586),(71,113,-0.299920651875362),(72,94,0.951902829065828),(72,96,-0.502243110446486),(72,99,-1.57065034943693),(72,110,-0.184636982329783),(72,112,0.448133793145543),(72,114,0.623676259651479),(72,115,-1.35090182195502),(72,116,1.64470351268044),(73,88,-0.0811792352061525),(73,94,0.381542405468917),(73,99,-0.311136204107791),(73,100,-0.612964262825404),(73,106,2.27988525040437),(73,110,0.639896847437971),(73,115,-0.0560930204168828),(74,90,1.14070558793909),(74,94,-0.730185857722709),(74,99,0.209433271279031),(74,102,-0.518723105563524),(74,106,-2.7360454115421),(74,107,-1.32374034852138),(74,110,0.748863185522019),(74,113,-1.90951261940367),(74,116,-0.316232795190283),(75,85,2.25592822046571),(75,86,-1.74474318674276),(75,93,0.38769188512833),(75,98,0.600970488601337),(75,103,-1.12033448286386),(75,105,1.42971587267678),(75,111,0.839686269722587),(75,117,-2.2502212591937),(76,86,-0.379589220862453),(76,89,-1.55285805841243),(76,92,-0.341776787621693),(76,94,0.793481246375927),(76,99,-1.63747062593463),(76,101,-0.343333231604968),(76,103,-0.936124759666738),(76,106,2.68286690878018),(76,110,-0.633472701193274),(76,113,0.151066621906186),(77,88,-0.644367809076205),(77,91,1.39782403027436),(77,93,2.16719565416425),(77,98,1.774315622425),(77,101,-0.831965086825159),(77,102,2.01338236640522),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,1.52813806573687),(77,109,0.143925290688803),(78,88,1.25005340739158),(78,93,-1.15771965697195),(78,94,-0.32624286629841),(78,101,0.764290292062136),(78,104,-0.761314737388226),(78,110,0.313989684743797),(78,114,-2.11409344767602),(78,116,-2.28339487899411),(78,117,-0.84408093508713),(78,118,-1.65747550889615),(79,87,0.894375438703574),(79,92,0.598391674550615),(79,94,0.238166447950682),(79,107,-0.170079653309732),(79,108,-1.40093691824091),(79,114,1.04663228247932),(79,118,-0.766228217413861),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,-0.114276558732871),(80,99,0.479476302377392),(80,101,-0.277840510269478),(80,107,0.435789056062502),(80,113,-0.224845118564409),(81,85,-0.408490249336222),(81,86,1.69040498062075),(81,90,-0.509903256324961),(81,93,1.03593554490799),(81,96,-0.311075167088839),(81,97,-0.780907620471816),(81,106,1.64964751121555),(81,107,-0.383480330820643),(81,110,0.926145207068087),(81,115,-1.73850215155492),(82,86,-2.13759269997253),(82,92,1.80480361339152),(82,110,-0.852443006683554),(82,112,-0.665349284340953),(83,87,-1.88329721976379),(83,91,-1.85795159764397),(83,93,0.0527665028839991),(83,101,-0.454908902249214),(83,103,-0.286645100253304),(83,105,-0.164494766075625),(83,108,-0.982726523636586),(84,85,1.09447004608295),(84,86,-0.415585802789392),(84,89,-1.83239234595782),(84,95,-0.882869960631123),(84,99,0.591143528550066),(84,104,0.21179845576342),(84,111,-0.956144901882992),(84,113,-1.70824304940947),(84,114,1.93893246253853),(35,105,0.702627643665883)]
orgname='BHNEAT_12_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()