edge = [(0,85,3.61845759453108),(0,89,0.487296670430616),(0,90,1.8717764824366),(0,93,-4.95939512314219),(0,98,-0.79803613391522),(0,101,0.899464400158696),(0,105,4.41885128330332),(0,108,-0.86863307596057),(0,113,3.0762199774163),(0,114,2.20542008728294),(0,117,2.95663319803461),(0,118,-2.90987884151738),(1,86,-1.04670094912564),(1,92,0.488990447706534),(1,98,-1.0171056245613),(1,102,-5.88458662678915),(1,104,-0.175565355388043),(1,107,-2.49327066866054),(1,108,-3.70334482863857),(1,109,0.267937253944517),(1,113,1.89221625415815),(2,87,-0.892559587389752),(2,88,2.61391033661916),(2,100,3.16812646870327),(2,106,1.52909939878536),(2,108,-3.20153660695212),(2,110,-2.90125736259041),(2,113,0.946485793633839),(2,118,3.52511673329875),(3,89,4.38345744193854),(3,92,-0.433462019714957),(3,97,2.24246192815943),(3,99,-0.440168462172307),(3,101,-1.92262031922361),(3,103,-0.103442487868893),(3,105,2.26568651387066),(3,108,-0.443189794610431),(3,109,-7.11606189153722),(3,111,-1.11885433515427),(3,112,-0.440321054719687),(3,116,-0.583178197576831),(4,90,0.69000061037019),(4,91,-1.6886196478164),(4,97,1.86396374401074),(4,99,1.66509750663778),(4,101,-2.37353129673147),(4,108,2.28782006286813),(4,113,-0.317163609729301),(4,118,-2.7122714926603),(5,86,1.53990295113987),(5,87,-1.40723899044771),(5,89,-0.768539994506668),(5,92,-1.69955290383618),(5,93,-1.1851252784814),(5,99,1.64258247627186),(5,104,5.93029572435682),(5,114,3.95683919797357),(5,118,-2.90266121402631),(6,89,-2.92354350413526),(6,92,-4.82490005188147),(6,94,-1.7836924344615),(6,100,-1.00766014587848),(6,101,-1.53978850672933),(6,103,-2.50733207190161),(6,107,-0.158513138218329),(6,110,0.310594500564592),(6,113,1.42007202368236),(7,85,5.85341196935942),(7,86,-3.3557542649617),(7,90,-1.70134586626789),(7,95,-0.441732535782952),(7,99,-0.696691793572802),(7,100,-0.0885570848719746),(7,104,-3.98490096743675),(7,106,-0.316629535813471),(7,108,3.39459669789728),(7,112,-0.208540604876858),(7,116,-1.56472212897122),(8,92,2.12985625782037),(8,93,0.350558488723411),(8,95,-0.711607715079196),(8,99,1.10896633808405),(8,106,-4.53047273171178),(8,107,1.78930021057772),(8,115,0.102244636371959),(8,116,1.92200994903409),(8,118,4.31791131321146),(9,85,-2.46804712057863),(9,87,-0.195242164372692),(9,98,-6.27509384441664),(9,101,-0.720007934812464),(9,103,5.85222937711722),(9,105,0.154583880123295),(9,106,1.39062166203803),(9,113,1.14450514236885),(10,89,-3.41161839655751),(10,96,-0.202177495651112),(10,106,2.11978514969329),(10,108,4.8512985625782),(10,111,-0.472357860042115),(10,112,-0.401394695883053),(10,114,0.0524765770439773),(10,115,-0.232634968108157),(10,116,-1.75790429395428),(10,117,-0.546250801110873),(11,89,-3.6082644123661),(11,97,1.49725333414716),(11,105,-3.41585283974731),(11,112,4.71803186132389),(11,115,-1.88386944181646),(12,92,1.4640186773278),(12,93,3.20939512314219),(12,94,0.761627552110355),(12,97,0.17574083681753),(12,98,-0.23413800469985),(12,99,1.55178991058077),(12,108,-0.152424695577868),(12,116,-4.68846705526902),(13,86,3.08592486342967),(13,87,-0.9556260872219),(13,90,2.43670461134678),(13,99,4.80450605792413),(13,102,3.10113834040345),(13,104,-4.1460921048616),(13,113,-1.55577257606739),(13,116,-5.11783196508682),(13,118,-3.4789574877163),(14,90,-2.54457228308969),(14,93,0.111728263191626),(14,95,-6.96295052949614),(14,102,-3.59294412060915),(14,104,-5.49645985290078),(14,106,1.17604602191229),(14,109,-1.97375408185064),(14,110,0.78377636036256),(14,111,-3.86172826319163),(15,85,-2.5257194738609),(15,92,2.14160588396863),(15,99,-0.555406353953673),(15,101,-3.15446943571276),(15,104,-2.99210333567309),(15,108,-1.55832087160863),(15,117,1.81461531418806),(16,86,0.308618427076021),(16,87,2.73345896786401),(16,88,2.7556840723899),(16,90,-0.0720542008728295),(16,91,-5.62814722128971),(16,95,-3.84408093508713),(16,97,-1.85877559739982),(16,98,2.073587755974),(16,99,-2.24388866847743),(16,101,3.88528092287973),(16,108,3.86595507675405),(16,110,2.0954924161504),(17,89,-1.44399090548418),(17,96,-1.3328653828547),(17,99,7.11691640980255),(17,101,-1.97312082277902),(17,106,-1.26033814508499),(17,107,1.40958128604999),(17,109,-1.58160649433882),(18,90,-0.815942869350261),(18,91,-4.9702444532609),(18,93,4.17925046540727),(18,99,-0.824648274178289),(18,102,5.68056276131474),(18,103,-1.84019745475631),(18,104,-3.04849391155736),(18,110,-1.93208105716117),(18,111,-2.3333079012421),(18,116,2.31852931302835),(18,117,-2.26947080904569),(18,118,2.019394512772),(19,87,-2.76200140385144),(19,89,-0.260254219183935),(19,93,1.5259636219367),(19,95,-2.97921689504685),(19,101,0.127437665944395),(19,105,-1.57312997833186),(19,115,-0.928952909939879),(20,88,-3.88068025757622),(20,101,1.82245857112339),(20,103,-0.13822595904416),(20,104,-1.39512314218574),(20,105,-0.338404492324595),(20,106,0.232871486556597),(20,111,-0.65607165746025),(20,116,1.69087038789026),(21,86,1.21265297402875),(21,87,0.929975280007325),(21,94,-0.682683797723319),(21,96,3.59721671193579),(21,101,3.03910184026612),(21,102,4.71475112155522),(21,105,0.491859187597278),(21,107,3.37302774132511),(21,108,3.36257515182958),(22,86,-2.77130954924162),(22,88,-1.13195440534684),(22,91,1.05504013183996),(22,92,-3.86464278084658),(22,93,-2.01902829065828),(22,98,-2.639545884579),(22,106,-2.74082155827509),(22,115,3.20423749504074),(22,117,-1.22821741386151),(23,85,0.322023682363353),(23,86,0.766197698904385),(23,88,-0.680959501937926),(23,90,1.29317606128117),(23,97,-3.50312814722129),(23,104,5.42709128086184),(23,112,-2.22987304300058),(23,114,1.40562150944548),(23,115,0.908413953062532),(23,116,-1.68486587115085),(24,89,-2.36168248542741),(24,90,-5.44893490401929),(24,91,1.88625751518296),(24,101,0.156392101809748),(24,107,2.524956511124),(24,108,0.0556505020294806),(24,110,0.44052705465865),(24,112,-3.34405804620502),(25,90,-4.05839716788232),(25,92,-0.63593707083346),(25,94,-5.17299417096469),(25,98,-1.09211249122593),(25,105,1.89851069673757),(25,108,5.80637531662954),(25,109,-2.03434858241523),(25,115,2.50639362773522),(26,85,-1.67010254219184),(26,87,2.67526779992065),(26,89,0.822016052735984),(26,95,-1.33587145603809),(26,98,-1.88431196020386),(26,100,0.239494003112888),(26,101,-0.635540330210273),(26,102,3.95934934537797),(26,103,0.356044190801721),(26,104,6.71181371501816),(26,107,-0.942030091250343),(26,109,2.83124790185247),(26,112,4.95885341959899),(26,113,1.09070863979003),(26,117,-1.10399182103946),(27,85,-2.09318826868496),(27,87,1.08040101321451),(27,94,2.47352519302957),(27,100,1.96435438093204),(27,102,-3.5411008026368),(27,103,1.11423078096866),(27,104,1.9688177129429),(27,105,-0.568727683339946),(27,108,-2.51853999450667),(27,110,2.00318155461287),(27,114,4.43639179662465),(28,87,-5.12923062837611),(28,88,0.39204077272866),(28,97,1.15539262062441),(28,99,-2.21329386272774),(28,104,-0.298989837336344),(28,113,0.612369151890622),(28,114,-5.85329752494888),(29,88,3.2080370494705),(29,91,-4.59086886196478),(29,102,-1.67754142887661),(29,105,-1.8849909970397),(29,116,1.40519425031281),(30,95,1.91492965483566),(30,96,1.63711966307566),(30,99,2.63419751579333),(30,101,-1.0216834009827),(30,104,-0.344973601489303),(30,109,-0.034607989745781),(30,110,2.46039460432752),(30,114,0.747352519302957),(30,118,0.44571520126957),(31,85,2.49735251930296),(31,92,1.33050782799768),(31,94,-0.715254676961577),(31,96,2.20216986602374),(31,99,0.252159184545427),(31,103,-2.79451887569811),(31,107,1.65433210242012),(31,108,3.8284859767449),(31,109,-0.405896176030762),(31,111,1.01792962431715),(31,112,-1.5320673238319),(31,117,2.26576281014435),(32,86,-4.79560228278451),(32,87,2.77652058473464),(32,89,2.2183980834376),(32,92,6.14851832636494),(32,98,1.78545487838374),(32,99,-1.33234656819361),(32,104,2.37139500106815),(32,106,3.76142155217139),(32,109,2.99044770653401),(32,116,2.357600634785),(32,118,1.08700827051607),(33,96,-1.61526078066347),(33,98,-0.410328989532151),(33,108,1.1476180303354),(33,110,0.564333017975402),(33,111,0.289551988280892),(33,114,-3.20046082949309),(34,85,2.66161839655751),(34,90,4.12672811059908),(34,99,-1.01664784691916),(34,104,-4.26555681020539),(34,109,-5.7912228766747),(35,86,0.255478072450941),(35,87,1.88616595965453),(35,97,-4.13418988616596),(35,98,-0.148129215369121),(35,100,-1.59381389812922),(35,104,-3.52854243598743),(35,107,-3.06411938840907),(35,109,-0.879940183721427),(35,110,-4.030518509476),(35,112,2.57080294198431),(36,85,0.853701895199439),(36,87,-2.55950346385083),(36,90,0.423863948484756),(36,91,0.476432081057161),(36,104,-1.72471541489914),(36,107,0.937582018494217),(36,109,-0.769905697805719),(36,112,1.62874233222449),(36,115,4.01779992065187),(36,117,-3.95768608661153),(36,118,5.47595141453291),(37,85,3.8020035401471),(37,86,-4.8921552171392),(37,87,-0.859439374980926),(37,91,1.58745841853084),(37,99,-3.69586779381695),(37,105,-1.00737022003845),(37,111,1.38589892269662),(37,112,-1.81883449812311),(37,118,-1.70326853236488),(38,87,2.13559373760186),(38,90,-0.871471297341837),(38,103,1.04597613452559),(38,105,2.45052949613941),(38,106,4.27369762260811),(38,111,-0.968192083498642),(38,115,-1.22610400708029),(39,87,3.37395092623676),(39,89,-4.49003570665609),(39,91,-4.56175420392468),(39,94,-0.913563951536607),(39,97,1.00859096041749),(39,98,-1.58856471449934),(39,107,-1.62489700003052),(39,108,2.8870586260567),(39,109,3.55962553788873),(39,111,-0.597643971068453),(39,113,-0.327326273384808),(39,116,1.56405835139012),(39,118,-5.63401440473647),(40,88,1.70381786553545),(40,92,0.347834711752678),(40,99,0.994491409039582),(40,104,-1.20535905026399),(40,110,-0.523606067079684),(40,116,-0.279839472640156),(40,118,0.919675283059175),(41,88,-3.44073305459761),(41,93,1.58278145695364),(41,96,-0.476615192114018),(41,97,-1.16546372875149),(41,100,0.752166814172796),(41,101,4.25386822107608),(41,104,1.04950102237007),(41,105,-1.14398632770775),(41,106,2.20107882930998),(41,107,-7.75521103549303),(41,109,4.05163731803339),(41,110,-1.52623065889462),(41,111,-3.39152958769494),(41,112,5.33166753135777),(42,85,-1.86312448500015),(42,86,1.86342967009491),(42,87,1.1796624652852),(42,99,-1.31511886959441),(42,100,-2.96169927060762),(42,103,-4.03710287789544),(42,109,-3.40739921262246),(42,113,-4.42690816980499),(43,85,-1.8883632923368),(43,88,-1.34498886074404),(43,89,2.75556962797937),(43,93,-0.0437253944517346),(43,97,-2.4777748954741),(43,98,3.04325998718223),(43,101,0.726943266090884),(43,102,-0.186834315012054),(43,103,0.00617999816888926),(43,105,0.790200506607257),(43,110,-2.74398022400586),(43,112,1.16380046998505),(43,114,-3.75784325693533),(43,116,3.07397686696982),(44,89,-1.10950041199988),(44,98,4.33282723471786),(44,99,-2.83027130954924),(45,87,-2.47228919339579),(45,88,-2.22486037781915),(45,90,2.35920285653249),(45,91,-0.933431501205481),(45,95,-3.16149632251961),(45,98,-2.04947050386059),(45,108,3.59371471297342),(45,109,1.37887203588977),(45,112,1.28695028534806),(45,115,-4.07187108981597),(46,85,0.187932981353191),(46,89,0.914128543961913),(46,91,2.31791131321146),(46,94,-2.17202520828883),(46,97,-0.0481887264625995),(46,100,3.46939756462294),(46,101,3.44830164494766),(46,108,-3.50680562761315),(46,112,-5.00666829432051),(47,86,-2.7502212591937),(47,91,-3.2360454115421),(47,92,3.21297341837825),(47,94,2.81036561174352),(47,95,1.83198797570727),(47,100,3.2867442854091),(47,101,0.661793877986999),(47,104,-2.05618457594531),(47,105,4.86448255867183),(47,108,1.24034852137822),(47,112,1.09781945249794),(47,114,-0.135349589526048),(47,118,-0.955969420453505),(48,86,-0.0390331736198006),(48,91,-2.91549424726096),(48,98,-1.25002288888211),(48,99,1.19988097781304),(48,100,-1.07374034852138),(48,103,-3.63620410779138),(48,105,0.711752677999206),(48,106,-4.43986327707755),(48,111,-4.12325663014618),(48,115,1.88463240455336),(49,87,0.397152623065889),(49,89,3.34823145237587),(49,93,1.37829218420972),(49,94,2.23704489272744),(49,95,0.34804834131901),(49,102,-4.20703756828517),(49,113,4.01934873500778),(49,114,-0.461546678060243),(50,89,-0.295022431104465),(50,105,-0.862758262886441),(50,107,-2.56787316507462),(51,87,2.28078554643391),(51,92,-1.557687612537),(51,97,4.58692434461501),(51,98,-2.04322183904538),(51,103,-0.729308450575274),(51,106,1.03153324991607),(51,112,0.328035828730125),(51,118,-3.63751640369884),(52,89,-0.901738029114658),(52,97,0.348681600390637),(52,106,-2.4012344737083),(52,110,-1.87532425916318),(52,111,0.57067323831904),(52,113,2.12021240882595),(52,114,-2.45886867885372),(52,118,-2.00593585009308),(53,88,-0.764648884548478),(53,90,-7.327723014008),(53,92,-1.94682912686544),(53,94,-0.948973052156133),(53,104,-2.6763130588702),(53,105,-0.740508743552965),(53,109,2.38859218115787),(54,85,0.0740531632435071),(54,91,-4.60852381969665),(54,94,-4.29544969023713),(54,96,1.96874904629658),(54,111,-2.7428128910184),(54,112,1.95953245643483),(54,113,3.06632435071871),(54,118,-0.683492538224434),(55,87,1.34220404675436),(55,95,-0.187841425824763),(55,107,-2.18821527756584),(55,110,-4.4708853419599),(55,117,-4.74031800286874),(56,107,-1.13968321787164),(56,111,-2.38251136814478),(56,113,-4.56582079531236),(56,114,0.315195165868099),(57,87,-2.38462477492599),(57,90,3.58223975341044),(57,91,1.74581133457442),(57,92,-3.41262550737022),(57,93,6.21652119510483),(57,94,2.06752220221564),(57,95,-1.32215338602863),(57,96,-0.00987273781548506),(57,100,-1.88118381298257),(57,102,-3.07397686696982),(57,103,0.419209875789666),(57,115,-4.26332132938627),(58,86,-2.90451521347697),(58,87,0.845164342173528),(58,89,0.431318094424268),(58,90,-4.0587710196234),(58,95,-2.30076754051332),(58,96,1.60855433820612),(58,101,-4.69441816461684),(58,103,-6.74533829767754),(58,109,-5.1219977416303),(58,110,6.37785729544969),(58,113,0.0475402081362346),(58,114,1.10538041322062),(58,115,-1.01358836634419),(59,85,2.93092135380108),(59,86,-3.01408429212317),(59,90,-1.00774407177953),(59,91,-2.75612659077731),(59,93,5.20087282937101),(59,97,-0.129779961546678),(59,98,2.83592486342967),(59,100,5.29657124546037),(59,102,-0.00920133060701311),(59,112,3.93810846278268),(59,114,-2.94627216406751),(60,85,3.43396557512131),(60,87,-1.32681508835108),(60,90,2.74147770622883),(60,91,-2.03505050813318),(60,96,4.1445661793878),(60,100,0.824808496353038),(60,101,-1.6850032044435),(60,105,-5.61075167088839),(60,107,1.69508194219794),(60,109,1.30661946470534),(60,110,5.3258766441847),(60,114,-1.24387340922269),(61,89,1.37601092562639),(61,94,-2.70838038270211),(61,96,-0.143223364970855),(61,98,1.72658467360454),(61,100,3.30572679830317),(61,102,-0.365230262153996),(61,103,3.74546037171545),(61,114,-0.145672475356304),(61,115,3.41319009979553),(62,93,-1.0749153111362),(62,95,-2.28835413678396),(62,107,-1.12720114749596),(62,109,-1.14731284524064),(62,110,-4.53779717398602),(62,111,1.6064180425428),(63,87,0.452490310373241),(63,90,4.09988708151494),(63,93,-1.74497207556383),(63,97,2.445806756798),(63,100,-2.70770897549364),(63,103,0.731818597979675),(63,104,-0.670369579149754),(63,108,-0.921742912076174),(63,111,0.103289895321513),(63,114,2.83771782586139),(63,117,-1.93006683553575),(64,87,5.19528031250954),(64,94,2.77468184453871),(64,99,2.67714468825343),(64,110,4.10168767357402),(64,112,-2.19270912808618),(64,116,-2.14876247444075),(65,87,2.95252082888272),(65,88,-4.5309610278634),(65,90,2.79908139286477),(65,97,6.19690542313913),(65,99,0.221884823145237),(65,107,-0.950872829371014),(65,110,-4.19013031403546),(65,111,-2.61890011291849),(65,114,-2.82721945860164),(65,116,1.96165349284341),(65,117,-0.877101962340159),(66,85,1.2154454176458),(66,102,-1.77874843592639),(66,105,0.321237830744346),(66,108,2.94016846217231),(66,111,3.71951200903348),(66,115,-0.447035126804407),(66,118,1.296563615833),(67,86,1.30578020569475),(67,90,-3.64201788384655),(67,92,1.76749473555712),(67,104,-0.354594561601611),(67,109,0.814401684621723),(67,111,-1.92785424359874),(68,87,1.12782677694021),(68,88,-0.194006164738914),(68,90,2.45391705069124),(68,93,-1.04088717307047),(68,95,-0.293572801904355),(68,96,-0.64844203009125),(68,97,2.48367259743034),(68,103,3.22069460127567),(68,107,-1.56918546098209),(68,112,1.64693136387219),(68,114,1.10528122806482),(69,87,3.29776909695731),(69,88,-2.96667378765221),(69,92,-1.91114535966063),(69,94,-0.501045258949553),(69,95,1.66920987578967),(69,97,0.86512344737083),(69,108,1.59489730521561),(69,113,1.08921323282571),(69,114,0.310594500564592),(69,118,0.285485396893216),(70,85,-1.7680898464919),(70,86,0.862727744376965),(70,87,-1.84917752616962),(70,90,2.17806024353771),(70,96,-2.37887966551714),(70,97,0.198667867061373),(70,99,2.47604297006134),(70,105,-1.56034272286142),(70,107,0.925702688680685),(70,109,2.2346415601062),(70,110,1.52592547379986),(70,111,0.665433210242012),(71,85,3.46461378826258),(71,93,0.439138462477493),(71,96,-1.53180028687399),(71,100,2.62963499862667),(71,104,0.92184972685934),(71,106,-0.0567644276253548),(71,111,1.58818323313089),(71,113,1.11667226172674),(72,94,-2.16734824671163),(72,96,2.20497756889554),(72,99,-1.05167546617023),(72,110,-0.173268837549974),(72,112,0.611270485549486),(72,114,-0.986968596453749),(72,115,2.01536606952116),(72,116,2.345194860683),(73,88,-0.881756035035249),(73,94,2.00650044251839),(73,99,-0.184102908413953),(73,100,-1.84301278725547),(73,106,-0.443815424054689),(73,110,1.10103152562029),(73,115,-3.24634540849025),(74,90,-0.279389324625385),(74,94,-2.40577410199286),(74,99,-2.02623828852199),(74,102,-0.22011474959563),(74,106,2.65045625171667),(74,107,1.93597216711936),(74,110,0.477767265846736),(74,113,0.879924924466689),(74,116,0.256965849787897),(75,85,-2.54390087588122),(75,86,-0.633640552995392),(75,93,-1.53783532212287),(75,98,-1.47625659962767),(75,103,-0.120929593798639),(75,105,-0.54330576494644),(75,111,-0.97308267464217),(75,117,-0.630359813226722),(76,86,-0.817217017120884),(76,89,-2.1058534501175),(76,92,-4.53963591418195),(76,94,2.07251197851497),(76,99,0.222220526749473),(76,101,-0.354701376384778),(76,103,0.444158757286294),(76,106,-4.40900906399731),(76,110,-1.92159794915616),(76,113,0.957632679219947),(77,88,-1.29212317270425),(77,91,-2.1439252906888),(77,93,-0.192686239204077),(77,98,0.0160985137485886),(77,101,-0.911542100283822),(77,102,3.19212927640614),(77,103,1.56163212988678),(77,104,0.98330637531663),(77,105,1.19023712881863),(77,109,-0.932569353312784),(78,88,-1.30259102145451),(78,93,-0.285332804345836),(78,94,1.8464995269631),(78,101,-1.5980254524369),(78,104,1.22125919370098),(78,110,-1.5600756859035),(78,114,0.38266396069216),(78,116,-0.0674459059419537),(78,117,-0.321451460310679),(78,118,2.85262611774041),(79,87,2.5864589373455),(79,92,-1.76244392223884),(79,94,1.84195226905118),(79,107,2.41149632251961),(79,108,-1.8380840479751),(79,114,5.07184820093387),(79,118,0.0618533890804773),(80,87,-2.21550645466475),(80,88,-0.593890194402905),(80,91,1.71660512100589),(80,99,-2.50126651814325),(80,101,-2.61265907773064),(80,107,2.8343913083285),(80,113,1.17481002227851),(81,85,-0.0141529587694938),(81,86,1.63686025574511),(81,90,-2.42729728080081),(81,93,0.130390331736198),(81,96,-0.712530899990845),(81,97,1.89817499313334),(81,106,0.657834101382488),(81,107,-0.0785927915280618),(81,110,-1.58993804742576),(81,115,-0.229781487472152),(82,86,-0.472655415509507),(82,92,2.49290444654683),(82,110,-3.73980681783502),(82,112,-1.20853297524949),(83,87,0.752204962309641),(83,91,-0.174565874202704),(83,93,-0.304422132023072),(83,101,-1.76651814325388),(83,103,-0.203787347025971),(83,105,0.167577135532701),(83,108,-4.83473464156011),(84,85,-0.566949980162969),(84,86,-4.10649433881649),(84,89,-1.72521134067812),(84,95,-1.45123142185736),(84,99,2.41092410046693),(84,104,2.06942197943052),(84,111,1.05425428022095),(84,113,-3.8914151432844),(84,114,2.31894894253365),(10,119,-2.3193304239021),(119,109,2.73371837519456),(58,120,-0.849612414929655),(120,118,-0.997459334086123),(95,104,1.00427259132664)]
orgname='BHNEAT_13_14'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()