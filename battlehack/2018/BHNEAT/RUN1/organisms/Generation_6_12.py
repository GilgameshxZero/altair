edge = [(0,85,1.64919736320078),(0,89,-0.532418286690878),(0,90,0.951681569872127),(0,93,-2.31628238776818),(0,98,1.45488219855342),(0,101,0.540547654652547),(0,105,2.44306772057253),(0,108,-0.378505813776055),(0,113,2.66332361827448),(0,114,0.731925412762841),(0,117,1.35746330149236),(0,118,-0.376377147740104),(1,86,1.88722266304514),(1,92,1.63003936887722),(1,98,-1.75973540452284),(1,102,-1.36922055726798),(1,104,-1.46104312265389),(1,107,-2.48819696646016),(1,108,-1.69190801721244),(1,109,-0.827620014038514),(1,113,-1.8303552354503),(2,87,0.421166875209815),(2,88,0.0189977721488083),(2,100,-0.873641926328318),(2,106,-1.20547349467452),(2,108,0.322836237678152),(2,110,-0.195295571764275),(2,113,-2.43006302072207),(2,118,-0.228614154484695),(3,89,1.45172353282266),(3,92,2.91016495254372),(3,97,2.37264244514298),(3,99,2.17877742851039),(3,101,0.283761101107822),(3,103,3.22462004455702),(3,105,3.24365215002899),(3,108,0.760917996765038),(3,109,-0.70040360728782),(3,111,-0.101825006866664),(3,112,3.33699301126133),(3,116,0.185392315439314),(4,90,1.85534989471114),(4,91,-1.30821787163915),(4,97,-4.01575518051698),(4,99,2.47427671132542),(4,101,-0.0675756096072269),(4,108,-0.065691091647084),(4,113,-2.70418027283547),(4,118,-2.54958876308481),(5,86,-1.20180364391003),(5,87,3.75477614673299),(5,89,-0.980243079927976),(5,92,1.93216879787591),(5,93,-0.906224250007629),(5,99,-0.206183050019837),(5,104,-1.27264473403119),(5,114,1.0182119205298),(5,118,-1.04509109775079),(6,89,1.18702887050996),(6,92,0.48329874568926),(6,94,2.22434156315806),(6,100,1.68724631488998),(6,101,0.23406170842616),(6,103,0.788438062685018),(6,107,0.102610858485672),(6,110,2.30492187261574),(6,113,0.715266121402631),(7,85,1.98576311532945),(7,86,-0.440389721366008),(7,90,0.0184293649098178),(7,95,-0.818746757408368),(7,99,1.9702444532609),(7,100,1.39464247566149),(7,104,-0.284207434308908),(7,106,-1.10381633960997),(7,108,-2.75078203680532),(7,112,-0.45783867915891),(7,116,1.31244850001526),(8,92,-0.135723441267128),(8,93,-2.07925656910916),(8,95,0.480929746391186),(8,99,1.11014511551256),(8,106,-0.735404522843104),(8,107,-1.78160954618976),(8,115,-3.66521195104831),(8,116,-0.794251838740196),(8,118,0.591181676686911),(9,85,2.20002594073305),(9,87,-1.45080416272469),(9,98,-1.20778145695364),(9,101,0.69281594286935),(9,103,-0.209681234168523),(9,105,-1.98253196813868),(9,106,2.6170270393994),(9,113,-0.981681264687033),(10,89,-2.54403820917386),(10,96,-0.241832483901486),(10,106,-2.23316904202399),(10,108,2.36784722434156),(10,111,-2.59780037842952),(10,112,-3.54674672688986),(10,114,2.63390377513962),(10,115,-1.50376903592029),(10,116,-1.57221823786126),(10,117,-0.0471396526993622),(11,89,-2.43992049928281),(11,97,2.7973036896878),(11,105,-2.32741019928587),(11,112,0.359626300851466),(11,115,1.6594058046205),(12,92,-2.89141132847072),(12,93,-1.50968199713126),(12,94,-3.26645329142125),(12,97,-1.87281411175878),(12,98,1.89405117954039),(12,99,3.21629230628376),(12,108,0.608394116031373),(12,116,1.41380428479873),(13,86,-0.797616504409925),(13,87,0.857745597705008),(13,90,-0.973567155980102),(13,99,-1.58680227057711),(13,102,-0.885532700582904),(13,104,-0.34476760155034),(13,113,-0.139408551286355),(13,116,-0.644638660847804),(13,118,-0.885551774651326),(14,90,-0.93328653828547),(14,93,-0.686807611316263),(14,95,-0.101283303323466),(14,102,-1.41120639667959),(14,104,1.18406094546342),(14,106,-0.591822565385906),(14,109,1.52013840144047),(14,110,0.614722891933958),(14,111,-1.67822428052614),(15,85,-2.17721716971343),(15,92,-1.4108096560564),(15,99,-0.972231971190527),(15,101,-1.86071352275155),(15,104,0.646561326944792),(15,108,-0.163930173650319),(15,117,2.07041764580218),(16,86,0.148930326242867),(16,87,0.0352908413953064),(16,88,3.60777993102817),(16,90,1.80950346385083),(16,91,0.0362979522080141),(16,95,-3.65907773064364),(16,97,-3.30594424268319),(16,98,-0.410199285866878),(16,99,-0.788689840388195),(16,101,0.504402294991913),(16,108,-0.540681173131504),(16,110,1.84420300912503),(17,89,3.67573702200385),(17,96,2.59175771355327),(17,99,-2.55138935514389),(17,101,1.12294000061037),(17,106,-0.446092867824336),(17,107,1.74167989135411),(17,109,2.62641911069063),(18,90,-2.2038293099765),(18,91,-0.924157689138462),(18,93,1.24372081667531),(18,99,-1.15667058320872),(18,102,-1.59660634174627),(18,103,2.7257339701529),(18,104,0.426095614490188),(18,110,2.74055070650349),(18,111,0.327074495681631),(18,116,-1.19048890652181),(18,117,1.83084353160192),(18,118,-2.70168156987213),(19,87,-2.2182035279397),(19,89,1.77449110385449),(19,93,0.228679006317332),(19,95,-0.351229895931882),(19,101,-1.8907513657033),(19,105,-2.01158558915983),(19,115,0.371917630542924),(20,88,0.74195455793939),(20,101,1.89282280953398),(20,103,-0.371612445448165),(20,104,0.797616504409925),(20,105,0.126750999481185),(20,106,1.24734488967559),(20,111,-0.182309945982238),(20,116,-0.536072878200629),(21,86,-0.661183507797479),(21,87,3.43552964873196),(21,94,-0.45280312509537),(21,96,1.09828485976745),(21,101,2.77662358470412),(21,102,-1.55361720633564),(21,105,-4.63467818231758),(21,107,0.948042237617115),(21,108,-0.919133579515977),(22,86,-3.59853663747063),(22,88,-3.17761391033662),(22,91,0.0786004211554308),(22,92,0.733516190069277),(22,93,0.586561937314982),(22,98,-0.54403439436018),(22,106,1.02581102938932),(22,115,1.66517380291147),(22,117,-0.849425489059114),(23,85,-1.71901608325449),(23,86,0.354495376445814),(23,88,2.50048829615162),(23,90,-2.11133152256844),(23,97,-0.547391430402539),(23,104,-2.18024994659261),(23,112,-0.891197698904386),(23,114,-0.631622516556291),(23,115,-1.78142643513291),(23,116,0.628284554582354),(24,89,-1.15865810113834),(24,90,-2.47091967528306),(24,91,1.42655339213233),(24,101,0.36958296456801),(24,107,-0.143467513046663),(24,108,-2.03212073122349),(24,110,-1.00107959227271),(24,112,1.13596377452925),(25,90,-3.71309930722984),(25,92,2.02176732688376),(25,94,-0.793778801843318),(25,98,3.5258911404767),(25,105,2.00538270210883),(25,108,1.37850199896237),(25,109,0.404644917142247),(25,115,2.11846522415845),(26,85,-0.28114795373394),(26,87,1.56153294473098),(26,89,-0.128463850825526),(26,95,1.86834696493423),(26,98,0.728434858241524),(26,100,-1.3935323648793),(26,101,2.5838000122074),(26,102,-1.05737479781487),(26,103,-0.829657124546037),(26,104,-2.0339136936552),(26,107,-1.97150334177679),(26,109,0.887474440748314),(26,112,0.387554551835688),(26,113,0.759651478621784),(26,117,0.348250526444288),(27,85,1.45756401257363),(27,87,1.42168187505722),(27,94,0.337149418622394),(27,100,-3.54837183751946),(27,102,-2.91737876522111),(27,103,-3.89685125278481),(27,104,-4.30134357737968),(27,105,2.17131946775719),(27,108,0.211283455916013),(27,110,1.69809183019501),(27,114,1.02529221472823),(28,87,1.51857814264351),(28,88,2.47887737662893),(28,97,0.00640888698995945),(28,99,-0.375080111087375),(28,104,1.13428907132176),(28,113,1.21585360271004),(28,114,-0.921121097445601),(29,88,2.15871150852992),(29,91,-1.83456678975799),(29,102,1.86093478194525),(29,105,-0.075319681386761),(29,116,1.19909894100772),(30,95,0.196337015900143),(30,96,0.334799493392742),(30,99,1.18887905514695),(30,101,-3.60864970854823),(30,104,-2.41466261787774),(30,109,-0.795949430829798),(30,110,-2.92322305978576),(30,114,-1.23032319101535),(30,118,0.052316354869228),(31,85,-3.05072176274911),(31,92,-1.23274559770501),(31,94,2.1379207739494),(31,96,2.92292168950469),(31,99,0.785069582201605),(31,103,1.85777993102817),(31,107,0.766376995147557),(31,108,4.27251121555223),(31,109,-2.91866435743278),(31,111,-1.53085421308023),(31,112,-1.53309732352672),(31,117,0.525887325663015),(32,86,-0.113166447950682),(32,87,-2.28020569475387),(32,89,1.88702429273354),(32,92,-2.71960737937559),(32,98,0.667199468977935),(32,99,-0.534916989654225),(32,104,3.13004699850459),(32,106,-1.17987609485153),(32,109,-0.442083498641926),(32,116,0.9409085360271),(32,118,2.05965224158452),(33,96,-0.852717673268838),(33,98,0.0843607898190253),(33,108,-2.1482093264565),(33,110,-1.47535630359813),(33,111,0.0161976989043855),(33,114,-2.17034669026765),(34,85,0.048184911648915),(34,90,-1.00968962675863),(34,99,-0.62179555650502),(34,104,-0.956434827723014),(34,109,-0.559186834315012),(35,86,1.19159520249031),(35,87,-1.15595721304971),(35,97,1.10984374523148),(35,98,0.415547654652547),(35,100,0.89874721518601),(35,104,-1.29212698751793),(35,107,-3.7432325205237),(35,109,-0.882229071932127),(35,110,-2.63933225501267),(35,112,0.0551812799462874),(36,85,-2.26581621753594),(36,87,-2.24697485274819),(36,90,0.92200231940672),(36,91,3.19046220282601),(36,104,1.3434247871334),(36,107,1.17820139164403),(36,109,3.03090762047182),(36,112,-3.36615726187933),(36,115,0.872333445234535),(36,117,-0.817827387310404),(36,118,-0.159375286111026),(37,85,-0.772072511978515),(37,86,4.35697500534074),(37,87,-1.08268227179785),(37,91,0.0132946256904811),(37,99,-3.65973769341105),(37,105,2.73530533768731),(37,111,-0.953917050691244),(37,112,0.129390850550859),(37,118,-0.521038697470015),(38,87,-0.0168767357402266),(38,90,-1.85965300454726),(38,103,-1.58782845545824),(38,105,0.29273735770745),(38,106,0.0814081240272225),(38,111,-1.28737754448073),(38,115,-2.37398144474624),(39,87,-2.16998428296762),(39,89,0.341025269325846),(39,91,0.57605594042787),(39,94,2.37497711111789),(39,97,-0.948828089236122),(39,98,0.828249458296457),(39,107,1.56833094271676),(39,108,0.638492996002075),(39,109,2.14888836329234),(39,111,-0.125179296243171),(39,113,-1.75101474044008),(39,116,-2.08671834467605),(39,118,-3.738948484756),(40,88,-2.94897686696982),(40,92,-2.01614810632649),(40,99,-1.39844584490494),(40,104,-1.00128559221168),(40,110,3.81929227576525),(40,116,-2.54612491225929),(40,118,0.18469420453505),(41,88,-3.14596240119633),(41,93,0.814249092074343),(41,96,-1.61512726218451),(41,97,0.545194097720267),(41,100,1.03434858241523),(41,101,-0.403256324961089),(41,104,2.22803048799097),(41,105,2.86691259498886),(41,106,0.543519394512772),(41,107,-1.17458113345744),(41,109,2.60586489455855),(41,110,-3.92590487380596),(41,111,-2.70172353282266),(41,112,0.580248420667135),(42,85,0.0307969908749656),(42,86,-1.6007835627308),(42,87,1.87542344431898),(42,99,1.28990295113987),(42,100,1.97102267525254),(42,103,1.75889614551225),(42,109,-3.75971633045442),(42,113,0.851420636616107),(43,85,-1.88834421826838),(43,88,2.69642475661489),(43,89,1.07880642109439),(43,93,0.52107684560686),(43,97,3.60998107852412),(43,98,0.0190473647267068),(43,101,0.935022278511918),(43,102,3.40931424909207),(43,103,1.43875698110904),(43,105,-1.28883480330821),(43,110,1.53076647236549),(43,112,4.54483169042024),(43,114,-3.66446424756615),(43,116,0.858466597491378),(44,89,3.46943952757347),(44,98,2.64036606952117),(44,99,-1.48093356120487),(45,87,-0.579798272652364),(45,88,-0.0168271431623279),(45,90,-2.07719656971953),(45,91,-0.592253639332255),(45,95,-0.428163243507187),(45,98,-0.00209051789910575),(45,108,-1.33672215948973),(45,109,-0.524090548417615),(45,112,-0.0470137638477735),(45,115,-1.24481948301645),(46,85,2.28557695242164),(46,89,-0.339247566148869),(46,91,-0.327372051149022),(46,94,-0.707174901577807),(46,97,1.25624103518784),(46,100,-2.14684743797113),(46,101,-1.17475661488693),(46,108,-0.829264198736534),(46,112,-4.29886776329844),(47,86,-0.771950437940611),(47,91,1.37950529496139),(47,92,4.22752311777093),(47,94,0.76699880977813),(47,95,-2.78277306436354),(47,100,1.97191152684103),(47,101,-2.60954237495041),(47,104,3.47539063692129),(47,105,-1.69905697805719),(47,108,2.4222540971099),(47,112,1.36676381725517),(47,114,-0.457892086550493),(47,118,-0.695188756981109),(48,86,0.585375530259102),(48,91,-0.0911587878048035),(48,98,-0.326036866359447),(48,99,0.189352092043824),(48,100,1.11897640919218),(48,103,-1.65625095370342),(48,105,-0.513946958830531),(48,106,-2.31964705343791),(48,111,2.47818308053835),(48,115,2.23879970702231),(49,87,-1.296563615833),(49,89,-2.2589342936491),(49,93,-2.07145527512436),(49,94,2.48138370921964),(49,95,-1.59559160130619),(49,102,-0.423982207708976),(49,113,2.54660176396985),(49,114,-0.491473891415144),(50,89,0.213141270180364),(50,105,1.32905819879757),(50,107,0.30466628009888),(51,87,-1.08066805017243),(51,92,3.31065935239723),(51,97,-1.2745368816187),(51,98,-0.213217566454055),(51,103,-1.4620502334666),(51,106,2.53104113895077),(51,112,-3.64078188421278),(51,118,-1.88040940580462),(52,89,3.91019165623951),(52,97,-2.03968169194617),(52,106,-2.96435819574572),(52,110,-1.44056901760918),(52,111,-2.09481719412824),(52,113,4.2605327005829),(52,114,-0.192823572496719),(52,118,-1.13631092257454),(53,88,0.236777855769524),(53,90,1.0338908047731),(53,92,-1.01669362468337),(53,94,-1.32633442182684),(53,104,0.794347209082308),(53,105,1.21341975157933),(53,109,-2.26034958952605),(54,85,-0.714201788384655),(54,91,2.18197805719169),(54,94,0.673966948454237),(54,96,1.3246940519425),(54,111,-0.882957701345866),(54,112,0.394142735068819),(54,113,0.703043458357494),(54,118,-0.198107089449752),(55,87,-1.92539750358592),(55,95,1.86838129825739),(55,107,1.29507202368236),(55,110,2.39066743980224),(55,117,-0.681501205481124),(56,107,-0.960329752494888),(56,111,1.22165974913785),(56,113,-3.956289864803),(56,114,-1.72183904538102),(57,87,1.10669270912809),(57,90,-0.299260689107944),(57,91,-1.43969161046174),(57,92,2.88859218115787),(57,93,2.93698309274575),(57,94,3.92297128208258),(57,95,-2.18176442762535),(57,96,-0.179918057802057),(57,100,-0.44918286690878),(57,102,0.822130497146519),(57,103,-0.43206579790643),(57,115,-0.682927945799127),(58,86,-0.598498489333781),(58,87,-0.437086092715232),(58,89,3.4998779259621),(58,90,-0.990726187932982),(58,95,-1.19468138676107),(58,96,-2.4557481612598),(58,101,1.09040345469527),(58,103,1.3726615192114),(58,109,-1.39122440260018),(58,110,3.24578463087863),(58,113,1.27774132511368),(58,114,0.308141575365459),(58,115,-1.86613437299722),(58,118,-2.58896145512253),(59,85,-0.86413922544023),(59,86,-2.41401409955138),(59,90,2.97991882076479),(59,91,0.152516251106296),(59,93,-0.793801690725425),(59,97,-1.6330225531785),(59,98,1.69670705282754),(59,100,-2.39758369701224),(59,102,-0.164540543839839),(59,112,-2.61345255897702),(59,114,-0.639988402966399),(60,85,-0.0204969939268165),(60,87,1.35399945066683),(60,90,0.592337565233314),(60,91,0.769981994079409),(60,96,-0.765533921323283),(60,100,2.44394894253365),(60,101,3.05695898312326),(60,105,-1.495864741966),(60,107,-2.15358821375164),(60,109,-0.677350688192389),(60,110,-0.199747459334086),(60,114,-2.05844294564653),(61,89,3.36963255714591),(61,94,-3.05148472548601),(61,96,-0.137684255500961),(61,98,-3.44225898007141),(61,100,-0.644894253364666),(61,102,1.54501861629078),(61,103,-1.91125980407117),(61,114,0.615173039948729),(61,115,2.16315195165868),(62,93,0.329645680104984),(62,95,-1.72292245246742),(62,107,-0.066530350657674),(62,109,0.733718375194555),(62,110,-1.10517059846797),(62,111,0.618312631611072),(63,87,1.38024918362987),(63,90,-0.798806726279488),(63,93,-0.444311349833674),(63,97,0.969317453535569),(63,100,3.89376888332774),(63,103,-0.557321390423292),(63,104,0.0331583605456711),(63,108,0.405270546586505),(63,111,-4.1408238471633),(63,114,-2.74085589159825),(63,117,1.37971510971404),(64,87,1.10600985747856),(64,94,1.54261146885586),(64,99,0.725009155552843),(64,110,-1.36819818720054),(64,112,-0.284825434125797),(64,116,3.67598117007965),(65,87,0.064645832697531),(65,88,-0.71790215765862),(65,90,-0.584276863917966),(65,97,2.11820200201422),(65,99,1.69009216589862),(65,107,1.05804620502335),(65,110,-0.648171178319651),(65,111,-0.344378490554521),(65,114,-1.0230605487228),(65,116,2.04241691335795),(65,117,-0.558297982726524),(66,85,2.92762916959136),(66,102,-1.01960051271096),(66,105,-2.74562059389019),(66,108,3.73364207892087),(66,111,1.57539597766045),(66,115,1.29606769005402),(66,118,3.01118884853664),(67,86,1.73937192907498),(67,90,2.48787270729698),(67,92,2.60000152592547),(67,104,0.534203619495224),(67,109,-3.75544373912778),(67,111,0.918336283455916),(68,87,-2.73742637409589),(68,88,1.7659230323191),(68,90,-1.790215765862),(68,93,0.0597628711813715),(68,95,0.766983550523392),(68,96,0.40355388042848),(68,97,0.153431806390576),(68,103,-0.244987334818567),(68,107,-0.796227912228767),(68,112,1.8372714926603),(68,114,0.410538804284799),(69,87,0.643307290871914),(69,88,-2.28725928525651),(69,92,2.3360393078402),(69,94,-0.022286141544847),(69,95,0.195642719809565),(69,97,-2.4413281655324),(69,108,-0.17047639393292),(69,113,-0.754905850398267),(69,114,-0.410969878231147),(69,118,-1.12331003753777),(70,85,-1.70810571611683),(70,86,-0.221022675252541),(70,87,-1.69904934842982),(70,90,4.02839747306742),(70,96,1.58068712424085),(70,97,2.98057496871853),(70,99,-1.16425061799982),(70,105,-1.42544328135014),(70,107,-2.24715414899136),(70,109,2.30228583635975),(70,110,1.24778740806299),(70,111,0.259460737937559),(71,85,1.22341074861904),(71,93,-0.635608996856594),(71,96,-2.2562257759331),(71,100,0.749290444654683),(71,104,0.91994232001709),(71,106,1.63373210852382),(71,111,2.32297738578448),(71,113,1.48373363444929),(72,94,0.763641773735771),(72,96,-0.317224646748253),(72,99,1.83080538346507),(72,110,-0.0061037018951994),(72,112,-0.153065584276864),(72,114,1.94293801690725),(72,115,-0.790429395428327),(72,116,0.938818018127995),(73,88,1.12415692617573),(73,94,-0.90439313943907),(73,99,-0.150589770195624),(73,100,-1.67658009582812),(73,106,-0.999691000091556),(73,110,2.62449644459365),(73,115,-1.82180242316965),(74,90,1.83264793847468),(74,94,-0.425672170171209),(74,99,0.138706625568407),(74,102,2.37319559312723),(74,106,3.03961302529984),(74,107,1.14001892147588),(74,110,3.44093523972289),(74,113,0.280400250251778),(74,116,-0.693357646412549),(75,85,0.201559495834223),(75,86,0.412991729483932),(75,93,-4.09194463942381),(75,98,1.15700628681295),(75,103,-0.345969267860958),(75,105,-0.508186590166936),(75,111,1.23547318948943),(75,117,0.5070879238258),(76,86,0.119663075655385),(76,89,0.3209784234138),(76,92,0.0643292031617174),(76,94,0.13185903500473),(76,99,0.42154454176458),(76,101,-0.0541512802514726),(76,103,1.06183050019837),(76,106,0.298089541306803),(76,110,0.34050263985107),(76,113,-0.496383556627094),(77,88,-1.30702002014222),(77,91,0.0223433637501145),(77,93,-0.752395702993865),(77,98,0.381412701803644),(77,101,-0.427396465956603),(77,102,1.163220618305),(77,103,-1.78304391613514),(77,104,2.47514648884548),(77,105,-1.40897473067415),(77,109,0.239108706930753),(78,88,-1.87108981597339),(78,93,-0.93053987243263),(78,94,0.416734061708426),(78,101,0.0473189489425337),(78,104,-0.334406567583239),(78,110,-0.797704245124668),(78,114,-1.10652485732597),(78,116,-1.32633442182684),(78,117,-0.337817011017182),(78,118,-0.741653187658315),(79,87,-0.372539445173498),(79,92,-1.35849330118717),(79,94,-1.88380458998383),(79,107,-0.656392101809748),(79,108,0.644856105227821),(79,114,-0.245033112582782),(79,118,-1.80351420636616),(80,87,1.07148960844752),(80,88,-0.0839259010589923),(80,91,0.0821291238135929),(80,99,-0.658764915921506),(80,101,1.20848719748527),(80,107,0.424710837122715),(80,113,0.0171666615802484),(81,85,1.36494033631397),(81,86,-0.661198767052217),(81,90,-0.822565385906552),(81,93,-2.36867122409742),(81,96,2.13475447859127),(81,97,-0.038365581225013),(81,106,0.942346720786157),(81,107,1.20683919797357),(81,110,1.7988029114658),(81,115,1.5259903256325),(82,86,1.62599948118534),(82,92,-2.53127384258553),(82,110,1.9086199530015),(82,112,2.66065324869533),(83,87,0.634479812005982),(83,91,1.84156315805536),(83,93,-0.177819910275582),(83,101,2.03746147038179),(83,103,-2.31318857387005),(83,105,0.928441724906155),(83,108,-0.92406231879635),(84,85,-0.513260292367321),(84,86,-1.68286690878018),(84,89,-1.35349971007416),(84,95,0.561265907773064),(84,99,0.0466933194982757),(84,104,-1.98185293130284),(84,111,-1.39273506881924),(84,113,-1.59434797204505),(84,114,1.28764839625233),(10,119,-2.33971678823206),(119,109,-0.162282174138615)]
orgname='BHNEAT_6_12'
cnodes = 120

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()