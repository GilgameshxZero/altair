edge = [(0,85,-0.69335001678518),(0,89,-1.41640980254524),(0,90,2.59125034333323),(0,93,-1.52331614123966),(0,98,-0.323526718955046),(0,101,-0.770699179052095),(0,105,-1.22884304330576),(0,108,1.46969512009033),(0,113,1.74446852015748),(0,114,-1.88457899716178),(0,117,2.50244148075808),(0,118,1.54979094821009),(1,86,0.0674611651966918),(1,92,0.612750633259072),(1,98,2.15865047151097),(1,102,-2.49447614978484),(1,104,-2.91074861903745),(1,107,0.710409863582263),(1,108,-0.735496078371532),(1,109,-0.768242439039277),(1,113,1.49925229651784),(2,87,-2.12932218390454),(2,88,0.401165807061983),(2,100,-1.58890041810358),(2,106,1.44776757103183),(2,108,2.45388653218177),(2,110,-0.0921048615985595),(2,113,-1.07322916348766),(2,118,-0.273934141056551),(3,89,1.76818140202033),(3,92,-1.61914426099429),(3,97,-0.672856837672048),(3,99,1.21317178868984),(3,101,0.558046205023347),(3,103,-1.41795098727378),(3,105,2.57861568041017),(3,108,-0.596469008453627),(3,109,-2.32786034730064),(3,111,0.556688131351665),(3,112,-0.576891384624775),(3,116,-2.57283242286447),(4,90,1.73743400372326),(4,91,-0.0380565813165684),(4,97,0.47796563615833),(4,99,1.22627948850978),(4,101,1.60303048799097),(4,108,-1.17366557817316),(4,113,-0.568285164952544),(4,118,-2.4606463820307),(5,86,-0.514526810510575),(5,87,-2.7544785912656),(5,89,-1.79270302438429),(5,92,1.38811914426099),(5,93,-0.358760338145085),(5,99,1.66063417462691),(5,104,1.0173497726371),(5,114,2.53624073000275),(5,118,0.0910519730216377),(6,89,-1.42571794793542),(6,92,-3.06886501663259),(6,94,-1.79555650502029),(6,100,2.31115146336253),(6,101,0.0856654560991241),(6,103,-1.20041505172887),(6,107,1.20322275460067),(6,110,-2.23972289193396),(6,113,0.416470839564196),(7,85,0.587481307412946),(7,86,-1.50144962920011),(7,90,0.793771172215949),(7,95,-0.121646778771325),(7,99,0.720206305124058),(7,100,2.23455000457778),(7,104,-2.15916928617206),(7,106,1.36127811517685),(7,108,-0.376766258735923),(7,112,0.52676473281045),(7,116,1.41521958067568),(8,92,0.0687887203588977),(8,93,-0.0454573198644978),(8,95,-1.81690420239875),(8,99,0.660054322946867),(8,106,-1.17021698660237),(8,107,0.0305795464949492),(8,115,2.76143681142613),(8,116,0.966246528519547),(8,118,1.15604113895077),(9,85,-2.01103244117557),(9,87,-0.0772423474837489),(9,98,-1.91483809930723),(9,101,-0.653736991485336),(9,103,2.34038819544053),(9,105,1.58365123447371),(9,106,-0.000183111056855978),(9,113,1.93050935392315),(10,89,-1.6924344615009),(10,96,-0.0271156956694235),(10,106,3.00238044373913),(10,108,1.14767906735435),(10,111,0.780388805810724),(10,112,-2.4130985442671),(10,114,-1.13278603473006),(10,115,1.78154850917081),(10,116,-1.88001647999512),(10,117,-2.26039918210395),(11,89,-1.63837092196417),(11,97,2.64040040284433),(11,105,0.109759819330424),(11,112,-0.41254921109653),(11,115,-2.13362529374065),(12,92,0.328348643452254),(12,93,-1.17920468764306),(12,94,-0.603808709982604),(12,97,-1.88731040375988),(12,98,3.01974547563097),(12,99,2.35998107852412),(12,108,1.72988067262795),(12,116,-1.63631092257454),(13,86,-0.734687337870418),(13,87,-1.36472670674764),(13,90,0.308801538132878),(13,99,0.556520279549547),(13,102,0.252311777092807),(13,104,2.12852870265816),(13,113,-0.283227027191992),(13,116,-1.82953886532182),(13,118,0.00648518326364933),(14,90,-3.34409619434187),(14,93,-1.38688314462722),(14,95,-3.33361308633686),(14,102,2.06360057374798),(14,104,1.17313150425733),(14,106,2.85837885677664),(14,109,0.201147495956297),(14,110,2.61015655995361),(14,111,-1.6596270638142),(15,85,-2.31533249916074),(15,92,0.825037385174108),(15,99,-0.754539628284555),(15,101,-3.01301614429151),(15,104,-2.93705557420576),(15,108,-1.98837244788964),(15,117,2.29947813348796),(16,86,-1.03152562028871),(16,87,-1.63389996032594),(16,88,-1.07614368114261),(16,90,0.240226447340312),(16,91,-2.38738670003357),(16,95,-3.08241523483993),(16,97,-1.71167638172552),(16,98,1.05194250312815),(16,99,0.768211920529801),(16,101,1.38535721915342),(16,108,2.69080172124393),(16,110,2.71189001129185),(17,89,-1.92042298654134),(17,96,-0.857310708944975),(17,99,-1.39071321756645),(17,101,2.34041871395001),(17,106,0.545625171666616),(17,107,0.849604785302286),(17,109,-2.15558336130863),(18,90,0.80886257515183),(18,91,-0.455336161381878),(18,93,-0.709921567430647),(18,99,0.170979949339274),(18,102,0.425931577501755),(18,103,-1.22376171147801),(18,104,-0.953550828577532),(18,110,0.920941801202429),(18,111,0.0300454725791192),(18,116,2.09547715689566),(18,117,-1.23966185491501),(18,118,-1.22328867458113),(19,87,1.97357097079379),(19,89,-0.118610187078463),(19,93,-1.20197149571215),(19,95,0.266884365367595),(19,101,-0.762825403607288),(19,105,-2.43150120548112),(19,115,-1.11351359599597),(20,88,-0.612323374126408),(20,101,0.2570879238258),(20,103,1.73250526444288),(20,104,-0.214133121738334),(20,105,-1.11304055909909),(20,106,0.620990630817591),(20,111,-0.390713217566454),(20,116,-2.10907315286721),(21,86,3.07916501358074),(21,87,2.76595355082858),(21,94,0.109881893368328),(21,96,0.855357524338511),(21,101,1.79551072725608),(21,102,2.60512100589007),(21,105,1.26042970061342),(21,107,0.321558275093844),(21,108,0.932233649708548),(22,86,0.460020752586444),(22,88,-2.72290719321268),(22,91,1.39432966093936),(22,92,0.812997833185827),(22,93,1.82395397808771),(22,98,-0.526200140385144),(22,106,-2.9977111117893),(22,115,-0.566454054383984),(22,117,-1.38172551652577),(23,85,1.05122531815546),(23,86,-0.404385509811701),(23,88,-0.995834223456526),(23,90,1.35505233924375),(23,97,-1.05294961394086),(23,104,1.95339823603015),(23,112,-0.799203466902677),(23,114,-1.79348124637593),(23,115,-1.20979949339274),(23,116,-2.19345683156835),(24,89,-2.38018433179723),(24,90,-2.66949980162969),(24,91,0.705954161198767),(24,101,2.52661214026307),(24,107,2.76387829218421),(24,108,1.42219306009095),(24,110,0.144489883114109),(24,112,0.552583391827143),(25,90,-0.338267159031953),(25,92,2.5913571581164),(25,94,-1.77979369487594),(25,98,-2.08941923276467),(25,105,1.02621539963988),(25,108,2.79801324503311),(25,109,0.807229834894864),(25,115,-2.38122196111942),(26,85,2.7192602313303),(26,87,-2.42368846705527),(26,89,1.70163579210791),(26,95,-1.79953917050691),(26,98,-1.80996124149297),(26,100,-0.937986388744774),(26,101,-1.02949613940855),(26,102,1.25083162938322),(26,103,1.53436384166997),(26,104,3.07289345988342),(26,107,-0.188467055269021),(26,109,2.40205084383679),(26,112,2.18506424146245),(26,113,-1.79989013336589),(26,117,-0.158757286294137),(27,85,-1.17198706015198),(27,87,0.548509170812097),(27,94,-1.08804589983825),(27,100,1.11517685476241),(27,102,-0.563676870021668),(27,103,-0.813928647724845),(27,104,0.796945097201453),(27,105,0.326837977233192),(27,108,0.853450117496261),(27,110,1.47723319193091),(27,114,-0.134449293496506),(28,87,-1.68536942655721),(28,88,0.225638599810785),(28,97,0.693685720389416),(28,99,0.818033387249367),(28,104,-0.4743797112949),(28,113,-0.100390636921293),(28,114,1.26573992126225),(29,88,1.72106082338939),(29,91,-0.562273018585772),(29,102,2.1062959685049),(29,105,-1.14117862483596),(29,116,1.82787560655538),(30,95,2.5565813165685),(30,96,-0.175374614703818),(30,99,1.15396588030641),(30,101,-1.58891567735832),(30,104,0.393688772240364),(30,109,-1.62576677755058),(30,110,2.95979186376537),(30,114,-0.866466261787774),(30,118,-0.0911435285500655),(31,85,-1.16727195043794),(31,92,2.17493209631642),(31,94,-2.79139072847682),(31,96,0.137745292519913),(31,99,0.352946562089907),(31,103,-0.598712118900113),(31,107,-2.23494674520096),(31,108,0.259498886074404),(31,109,2.07559434797205),(31,111,0.645374919888912),(31,112,1.30695516830958),(31,117,-1.29494613483077),(32,86,-1.75115207373272),(32,87,2.07188634907071),(32,89,0.528550065614795),(32,92,0.276375621814631),(32,98,2.03845332193976),(32,99,0.486098818933683),(32,104,2.61447492904447),(32,106,2.03682058168279),(32,109,2.41586046937468),(32,116,-1.84685811944945),(32,118,-0.768517105624561),(33,96,1.91012298959319),(33,98,-0.185598315378277),(33,108,1.62614825891903),(33,110,-3.10071108127079),(33,111,1.53283791619617),(33,114,-2.01542710654012),(34,85,-0.389736625263222),(34,90,0.824015015106662),(34,99,-2.18710898159734),(34,104,-2.2564470351268),(34,109,-1.58325449385052),(35,86,-1.84453871272927),(35,87,-0.242576372569964),(35,97,-0.0299844355601672),(35,98,2.48733481856746),(35,100,0.554460280159917),(35,104,-1.23519089327677),(35,107,0.41438032166509),(35,109,-2.66657002471999),(35,110,0.0564439832758568),(35,112,-0.86962492751854),(36,85,1.27214880825221),(36,87,-0.977614673299356),(36,90,-1.24385814996796),(36,91,3.07634205145421),(36,104,2.12958159123508),(36,107,1.68700216681417),(36,109,1.35006256294443),(36,112,0.320383312479019),(36,115,2.55661183507797),(36,117,-2.76944792016358),(36,118,1.4336985381634),(37,85,2.35340433973205),(37,86,-0.892284920804468),(37,87,2.22243415631581),(37,91,0.805307168797876),(37,99,1.47448652607807),(37,105,1.8132267220069),(37,111,2.12654499954222),(37,112,-0.119144260994293),(37,118,0.495818964201788),(38,87,2.13498336741234),(38,90,0.399395733512375),(38,103,2.65559862056337),(38,105,3.18152409436323),(38,106,-0.0122837000640889),(38,111,0.348719748527482),(38,115,-2.29932554094058),(39,87,2.19086275826289),(39,89,-1.49876400036622),(39,91,-3.12036500137333),(39,94,-1.38152714621418),(39,97,0.28469191564684),(39,98,-1.38154240546892),(39,107,0.358272041993469),(39,108,2.71764275032807),(39,109,1.00587481307413),(39,111,0.0276039918210395),(39,113,1.17494735557115),(39,116,-0.0604419080172125),(39,118,0.69830927457503),(40,88,2.82880642109439),(40,92,-1.78701132236702),(40,99,2.10620441297647),(40,104,-0.547456282235176),(40,110,-1.45739616077151),(40,116,-2.76618243964965),(40,118,2.40020447401349),(41,88,-0.419629505294961),(41,93,1.28186895352031),(41,96,-0.82578508865627),(41,97,-0.501342814416944),(41,100,0.583819086275826),(41,101,2.21912289803766),(41,104,1.36849574266793),(41,105,0.546800134281442),(41,106,2.05859553819391),(41,107,-1.59741508224738),(41,109,-0.160466322824793),(41,110,-0.111682485427412),(41,111,-0.282235175634022),(41,112,0.835154271065401),(42,85,0.981887264625996),(42,86,2.00312814722129),(42,87,0.235267189550462),(42,99,1.7467268898587),(42,100,-2.02577288125248),(42,103,-1.036866359447),(42,109,-0.619342631305887),(42,113,1.44470046082949),(43,85,-0.890865810113834),(43,88,-1.28261665700247),(43,89,1.84585100863674),(43,93,0.413174840540788),(43,97,-2.01866206854457),(43,98,-0.704794457838679),(43,101,3.11078218939787),(43,102,3.3740653706473),(43,103,1.61839655751213),(43,105,-0.582445753349406),(43,110,-1.71703238013855),(43,112,-0.812540055543687),(43,114,-2.14139225440229),(43,116,-0.203100680562761),(44,89,-1.29177220984527),(44,98,-1.42292550431837),(44,99,-0.8932615131077),(45,87,-1.53544724875637),(45,88,-0.974745933408612),(45,90,-1.80790124210334),(45,91,-1.15655995361187),(45,95,-0.986098818933683),(45,98,-1.15744499038667),(45,108,-0.60605182042909),(45,109,-0.0412305063020722),(45,112,-0.712012085329752),(45,115,-2.72508926664022),(46,85,-2.07638782921842),(46,89,-1.25440229499191),(46,91,0.759712515640736),(46,94,-2.52729880672628),(46,97,0.542909024323252),(46,100,1.14613788262581),(46,101,-0.187902462843715),(46,108,1.15321817682424),(46,112,-2.1819513534959),(47,86,-2.08362071596423),(47,91,-0.715445417645802),(47,92,0.475463118381298),(47,94,-0.188497573778497),(47,95,-1.58833582567827),(47,100,0.881847590563677),(47,101,1.93288979766228),(47,104,-0.365688039796136),(47,105,2.46053956724754),(47,108,2.54051332132939),(47,112,0.380474257637257),(47,114,-1.0475478377636),(47,118,2.65929136020997),(48,86,0.858668782616657),(48,91,-2.23271889400922),(48,98,0.563921018097476),(48,99,0.961836603900266),(48,100,-0.515518662068545),(48,103,-1.8647114474929),(48,105,-2.46659749137852),(48,106,0.178426465651418),(48,111,0.252372814111759),(48,115,1.70415356913968),(49,87,1.74996185186316),(49,89,1.35010834070864),(49,93,-0.131565294351024),(49,94,2.41988891262551),(49,95,-1.07823419904172),(49,102,-1.52789391766106),(49,113,-1.90902432325205),(49,114,2.05615405743584),(50,89,-0.723807489242225),(50,105,0.268578142643513),(50,107,1.22305978576006),(51,87,-0.582461012604144),(51,92,0.075258644367809),(51,97,-0.777657399212622),(51,98,-1.99862666707358),(51,103,-2.58253730887783),(51,106,2.15503402813807),(51,112,2.52754295480209),(51,118,-0.71393475142674),(52,89,-0.400814844203009),(52,97,1.9169133579516),(52,106,0.612735374004334),(52,110,-1.92388683736686),(52,111,2.90661336100345),(52,113,2.75331888790551),(52,114,0.138721884823145),(52,118,0.0182805871761223),(53,88,1.58844264046144),(53,90,-2.40028077028718),(53,92,1.97384563737907),(53,94,-1.63022247993408),(53,104,-2.5463423566393),(53,105,-1.21823786126286),(53,109,-1.1012756736961),(54,85,0.415707876827296),(54,91,-1.13979003265481),(54,94,1.79027680288095),(54,96,1.13055818353832),(54,111,-0.954084902493362),(54,112,1.47505111850337),(54,113,-1.8033082064272),(54,118,2.07756279183325),(55,87,-0.904629657887509),(55,95,-0.176396984771264),(55,107,-2.30971709341716),(55,110,-0.607699819940794),(55,117,-2.1268959624012),(56,107,-2.12779625843074),(56,111,-0.173055207983642),(56,113,-0.485595263527329),(56,114,1.30925931577502),(57,87,-1.28008362071596),(57,90,0.432020020142216),(57,91,-0.333872493667409),(57,92,-0.330103457747124),(57,93,2.76369518112735),(57,94,-0.962279122287667),(57,95,-1.79282509842219),(57,96,-0.862636188848537),(57,100,3.35409100619526),(57,102,-2.4481185338908),(57,103,0.551087984862819),(57,115,0.351268044068728),(58,86,-0.697943052461318),(58,87,1.50764488662374),(58,89,2.90400402844325),(58,90,-1.80555131687368),(58,95,-1.72072511978515),(58,96,-0.0148014770958586),(58,101,-3.15361491744743),(58,103,-0.828257087923826),(58,109,0.686513870662557),(58,110,2.4109317300943),(58,113,-1.12318796349986),(58,114,1.89168980986969),(58,115,-0.318979461043123),(59,85,-1.02050843836787),(59,86,2.63168736838893),(59,90,2.15654469435713),(59,91,0.065614795373394),(59,93,0.881344035157323),(59,97,-0.41689809869686),(59,98,2.2070528275399),(59,100,1.53817865535447),(59,102,-1.73525193029572),(59,112,-0.0820947904904323),(59,114,-1.51687673574023),(60,85,0.272194586016419),(60,87,-2.61999877925962),(60,90,2.42136906033509),(60,91,-1.68683431501205),(60,96,-0.72179326761681),(60,100,-1.62529374065371),(60,101,-2.80173650318918),(60,105,0.804925687429426),(60,107,-1.52046266060366),(60,109,1.65742973113193),(60,110,-1.40780358287301),(60,114,-0.429715872676778),(61,89,-1.81458479567858),(61,94,-2.3036286507767),(61,96,0.0876491592150639),(61,98,0.585497604297006),(61,100,0.603579821161535),(61,102,0.952253791924802),(61,103,0.189367351298563),(61,114,1.41927854243599),(61,115,0.954618976409192),(62,93,-0.325510422070986),(62,95,0.780587176122318),(62,107,-2.75673696096683),(62,109,-3.28070925016022),(62,110,-0.965910824915311),(62,111,-0.885784478286081),(63,87,-0.300653096102786),(63,90,2.83596301156651),(63,93,1.26812036500137),(63,97,1.123645741142),(63,100,-2.2467268898587),(63,103,1.07957701345866),(63,104,2.09704886013367),(63,108,0.0504928739280374),(63,111,0.907605212561419),(63,114,-1.55038605914487),(63,117,0.384792626728111),(64,87,1.346476638081),(64,94,-1.1387829218421),(64,99,2.11575670644246),(64,110,-0.0621967223120823),(64,112,-1.75522629474776),(64,116,-1.8784447767571),(65,87,-0.551423688467055),(65,88,-0.887203588976714),(65,90,2.08731345561083),(65,97,1.91210669270913),(65,99,-0.612414929654836),(65,107,-2.57670827356792),(65,110,-1.29087191381573),(65,111,-0.676320688497574),(65,114,-1.39506210516678),(65,116,-2.31041901913511),(65,117,-1.04159672841578),(66,85,2.5161442915128),(66,102,1.25063325907163),(66,105,0.166203802606281),(66,108,3.25153355510117),(66,111,-0.245872371593371),(66,115,-0.0836359752189703),(66,118,2.08981597338786),(67,86,1.09924619281594),(67,90,1.06317331461531),(67,92,-2.10896633808405),(67,104,2.56129642628254),(67,109,0.130329294717246),(67,111,0.752983184301279),(68,87,0.661122470778527),(68,88,-0.78659932248909),(68,90,-2.35357219153417),(68,93,-0.675923947874386),(68,95,0.651051362651448),(68,96,-0.95577867976928),(68,97,-0.797570726645711),(68,103,1.78533280434584),(68,107,-0.140690328684347),(68,112,2.39585558641316),(68,114,0.220053712576678),(69,87,0.762901699880978),(69,88,0.581072420422987),(69,92,0.64874721518601),(69,94,-0.442793053987243),(69,95,2.07052827539903),(69,97,-0.827524643696402),(69,108,-0.542252876369518),(69,113,1.56724753563036),(69,114,-0.444090090639973),(69,118,0.967650379955443),(70,85,-2.10284737693411),(70,86,-2.48892178106021),(70,87,-0.25693533127842),(70,90,0.739188818018128),(70,96,-0.00350962858973968),(70,97,-0.454115421002838),(70,99,1.94975127414777),(70,105,-2.44648579363384),(70,107,0.78392895290994),(70,109,-1.19714957121494),(70,110,-1.91816461684011),(70,111,-1.68437757499924),(71,85,0.136051515243995),(71,93,-0.46134830774865),(71,96,-0.831385235145116),(71,100,0.540070802941984),(71,104,-1.08584856715598),(71,106,-1.0183111056856),(71,111,0.767967772453993),(71,113,0.171361430707724),(72,94,-0.707388531144139),(72,96,1.10943937498093),(72,99,0.766533402508621),(72,110,-2.67853328043458),(72,112,-0.951185644093143),(72,114,-0.578753013702811),(72,115,2.42706076235237),(72,116,0.718008972441786),(73,88,0.847773674733726),(73,94,-0.73215430158391),(73,99,-0.495162816248054),(73,100,-0.0162358470412305),(73,106,1.96607867671743),(73,110,0.158848841822565),(73,115,-1.1858882412183),(74,90,1.62594988860744),(74,94,-0.730185857722709),(74,99,-0.734656819360943),(74,102,-0.518723105563524),(74,106,-0.539933469649342),(74,107,-0.315073091830195),(74,110,-0.99328592791528),(74,113,-0.740348521378216),(74,116,-2.5080721457564),(75,85,-0.140415662099063),(75,86,0.253303628650777),(75,93,-0.858760338145085),(75,98,1.5576647236549),(75,103,1.14505447553941),(75,105,-1.10034485915708),(75,111,-0.802743614001892),(75,117,1.03518784142582),(76,86,-0.328241828669088),(76,89,0.304422132023072),(76,92,-0.341776787621693),(76,94,-0.298013245033113),(76,99,-1.68114261299478),(76,101,-0.343333231604968),(76,103,-0.229956968901639),(76,106,0.748832667012543),(76,110,0.482955412457656),(76,113,0.912121951963866),(77,88,-1.19705801568651),(77,91,1.65735343485824),(77,93,-0.683309427167577),(77,98,-0.702688680684835),(77,101,-0.419202246162297),(77,102,0.207037568285165),(77,103,0.159230323191015),(77,104,0.423749504074221),(77,105,0.234015930661946),(77,109,0.143925290688803),(78,88,-0.534440137943663),(78,93,0.661275063325907),(78,94,2.76371044038209),(78,101,-1.32724997711112),(78,104,-1.08623004852443),(78,110,-0.555558946501053),(78,114,0.422833948789941),(78,116,-0.684835352641377),(78,117,-0.541947691274758),(78,118,0.594561601611377),(79,87,3.23430585650197),(79,92,0.572985015411847),(79,94,0.775826288644063),(79,107,-0.170079653309732),(79,108,-1.3888058107242),(79,114,2.60592974639119),(79,118,-0.766228217413861),(80,87,-0.339686269722587),(80,88,1.04350413525803),(80,91,1.81319620349742),(80,99,0.479476302377392),(80,101,-1.69153416547136),(80,107,0.715414899136326),(80,113,0.243079927976318),(81,85,-0.408490249336222),(81,86,2.23616748558),(81,90,1.66982024597919),(81,93,1.10788293099765),(81,96,-1.38250373851741),(81,97,-1.68570513016144),(81,106,0.500473036896878),(81,107,0.13556321909238),(81,110,2.83797723319193),(81,115,-0.515396588030641),(82,86,2.52088991973632),(82,92,0.0499893185216834),(82,110,0.021744438001648),(82,112,0.838831751457259),(83,87,-1.26918851283303),(83,91,1.17223120822779),(83,93,0.0527665028839991),(83,101,-1.7984099856563),(83,103,0.21614734336375),(83,105,0.661214026306955),(83,108,-3.0823236793115),(84,85,-0.985015411847285),(84,86,0.152500991851558),(84,89,-2.1477401043733),(84,95,-1.53408917508469),(84,99,0.988647114474929),(84,104,1.1497085482345),(84,111,1.66852320932646),(84,113,-0.552354503006073),(84,114,-1.63898129215369),(10,119,1.910367137669),(119,109,2.54515213476974),(58,120,-1.3520615253151),(120,118,-0.171208838160344),(95,104,1.72840052491836)]
orgname='BHNEAT_9_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()