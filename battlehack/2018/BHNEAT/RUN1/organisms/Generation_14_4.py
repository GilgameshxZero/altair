edge = [(0,85,0.194784386730552),(0,89,2.53367717520676),(0,90,0.0118259224219489),(0,93,-1.00625629444258),(0,98,-1.91743217261269),(0,101,-2.09959715567492),(0,105,-2.38822595904416),(0,108,3.09495834223457),(0,113,-0.0108798486281927),(0,114,3.27701651051363),(0,117,-2.55462813196204),(0,118,2.70102542191839),(1,86,3.89042329172643),(1,92,1.07739494003113),(1,98,-0.65691091647084),(1,102,-3.29108554338206),(1,104,-0.726691488387707),(1,107,-1.45678579058199),(1,108,0.344553971984008),(1,109,-2.86089663380841),(1,113,1.6781365398114),(2,87,-0.21355327005829),(2,88,0.579775383770257),(2,100,-0.408185064241463),(2,106,-1.3516190069277),(2,108,0.633640552995392),(2,110,2.1691030610065),(2,113,-1.28403576769311),(2,118,-0.00132755516220606),(3,89,-0.00311288796655168),(3,92,-0.8676412244026),(3,97,-0.136265144810327),(3,99,3.92458876308481),(3,101,2.69678334910123),(3,103,1.76375621814631),(3,105,0.470702230903043),(3,108,-3.89576403088473),(3,109,-5.22849208044679),(3,111,2.39588610492264),(3,112,3.09602649006623),(3,116,0.777413251136814),(4,90,0.997665334025086),(4,91,-1.48258919034394),(4,97,-0.948133793145543),(4,99,-0.271080660420545),(4,101,-2.0553758354442),(4,108,1.48152104251228),(4,113,-0.596896267586291),(4,118,-0.809732352671895),(5,86,-0.685354167302469),(5,87,1.35163426618244),(5,89,0.209204382457961),(5,92,-3.05711539048433),(5,93,-0.0274819177831354),(5,99,0.597170934171575),(5,104,3.65788750877407),(5,114,4.04789880062258),(5,118,1.60110782189398),(6,89,-0.509582811975463),(6,92,1.60115359965819),(6,94,-1.21799371318705),(6,100,-0.011215552232429),(6,101,1.31441694387646),(6,103,-3.64578691976684),(6,107,-0.0182348094119084),(6,110,2.38990447706534),(6,113,2.65141758476516),(7,85,1.58185064241462),(7,86,-0.552461317789239),(7,90,-1.53295999023408),(7,95,1.23554185613575),(7,99,2.05508590960418),(7,100,-3.00929288613544),(7,104,-2.37662892544328),(7,106,0.743125705740531),(7,108,0.188665425580615),(7,112,-2.1874141666921),(7,116,0.343867305520798),(8,92,-2.21330912198248),(8,93,3.11282692953276),(8,95,1.34456923123875),(8,99,-2.22692037720878),(8,106,-1.58877834406568),(8,107,0.796899319437239),(8,115,-0.365794854579302),(8,116,0.822168645283364),(8,118,-1.78853724784082),(9,85,0.412305063020722),(9,87,2.73145237586596),(9,98,-2.19176305429243),(9,101,2.34794152653584),(9,103,0.934781945249794),(9,105,1.12750633259072),(9,106,-0.381862849818415),(9,113,3.51045258949553),(10,89,-1.23221533860286),(10,96,-0.772423474837489),(10,106,-0.0739310892056032),(10,108,0.0506149479659413),(10,109,-0.437498092593158),(10,111,3.58218634601886),(10,112,-1.6682180242317),(10,114,-1.35578478347118),(10,115,-2.88084047975097),(10,116,1.81577501754814),(10,117,0.544709616382336),(11,89,-2.36762596514786),(11,97,0.62907803582873),(11,105,-2.63698232978301),(11,112,-1.31597338785974),(11,115,3.08313241981262),(12,92,0.477614673299356),(12,93,-0.54635761589404),(12,94,-0.0823236793115024),(12,97,-1.07414471877194),(12,98,-1.75411236915189),(12,99,-1.28278450880459),(12,108,-1.96087527085177),(12,116,2.07992797631764),(13,86,-0.378460036011841),(13,87,-0.712012085329752),(13,90,3.32135990478225),(13,99,-0.0354625080111086),(13,102,4.58212530899991),(13,104,-4.59141819513535),(13,113,-3.12411877803888),(13,116,-4.35898922696616),(13,118,0.578554643391217),(14,90,-1.30191961424604),(14,93,0.207708975493637),(14,95,-0.930433057649464),(14,102,1.04748680074465),(14,104,-1.98797570726646),(14,106,-1.44724875637074),(14,109,2.26824243903928),(14,110,-1.88650166325877),(14,111,-3.55665761284219),(15,85,-3.03694265572069),(15,92,0.150914029358806),(15,99,-1.48800622577593),(15,101,-2.24829859309671),(15,104,1.64670247505112),(15,108,0.67528305917539),(15,117,2.16679891354106),(16,86,-1.34731589709159),(16,87,-0.458311716055788),(16,88,-0.308603167821284),(16,90,-1.42208624530778),(16,91,-0.64378795739616),(16,95,0.661900692770165),(16,97,-0.279900509659108),(16,98,-0.663319803460799),(16,99,-0.265449995422224),(16,101,1.37742240668966),(16,108,1.05951109347819),(16,110,-2.32824182866909),(17,89,3.21558275093844),(17,96,-1.94308297982727),(17,99,0.852931302835169),(17,101,-1.92472609637745),(17,106,-1.57647938474685),(17,107,3.83530686361278),(17,109,1.74468214972381),(18,90,0.856547746208075),(18,91,-2.63443403424177),(18,93,1.76793725394452),(18,99,-2.00354014709922),(18,102,-0.504699850459304),(18,103,-1.93594164860988),(18,104,2.81022064882351),(18,110,-1.19833979308451),(18,111,0.828196050904874),(18,116,1.44901882992035),(18,117,-1.08706930753502),(18,118,-2.8581652272103),(19,87,-2.42599261452071),(19,89,-1.05484176152837),(19,93,1.08218634601886),(19,95,2.7493362224189),(19,101,0.931104464857936),(19,105,0.754936368907742),(19,115,-0.341425824762719),(20,88,-1.26049073763237),(20,101,0.47483748893704),(20,103,2.20633564256722),(20,104,-2.59671315652944),(20,105,0.501159703360088),(20,106,-3.68501846369823),(20,111,-3.7031159398175),(20,116,-2.09488204596088),(21,86,3.58478041932432),(21,87,0.909741508224738),(21,94,-1.1502273628956),(21,96,-0.631656849879452),(21,101,-1.12900173955504),(21,102,-0.202948088015381),(21,105,-0.771050141911069),(21,107,0.289132358775597),(21,108,-3.34623249000519),(22,86,0.93702505569628),(22,88,-2.97476119266335),(22,91,1.80541398358104),(22,92,-0.494415112765893),(22,93,-3.07770012512589),(22,98,-2.2282937101352),(22,106,1.78891872920927),(22,115,0.999755851924192),(22,117,-1.71628467665639),(23,85,-1.87107455671865),(23,86,-5.4196447645497),(23,88,-2.58760338145085),(23,90,1.23229163487655),(23,97,4.5966978972747),(23,104,0.821771904660177),(23,112,0.353328043458357),(23,114,0.505096591082491),(23,115,-2.21446882534257),(23,116,-1.76924954985199),(24,89,-2.71092867824335),(24,90,0.489974669637135),(24,91,0.693441572313608),(24,101,-1.52273628955962),(24,107,-1.99182103946043),(24,108,2.38593707083346),(24,110,-2.52565080721458),(24,112,-1.39927365947447),(25,90,0.0878933072908719),(25,92,2.45620593890194),(25,94,-2.06045716727195),(25,98,-2.47433393353069),(25,105,-1.57625049592578),(25,108,-1.62457655568102),(25,109,-1.84522537919248),(25,115,-1.76374095889157),(26,85,-2.16086306344798),(26,87,1.40957365642262),(26,89,-0.128482924893948),(26,95,-0.0351115451521347),(26,98,-0.156331064790796),(26,100,2.24486526078066),(26,101,2.2903378398999),(26,102,-1.40763573107089),(26,103,-3.47074800866726),(26,104,-0.892208624530778),(26,107,2.01818903164769),(26,109,0.858180486465041),(26,112,-3.43079927976318),(26,113,1.74811548203986),(26,117,0.231635486922819),(27,85,-0.607699819940794),(27,87,-0.146855067598499),(27,94,0.437498092593158),(27,100,1.67229224524674),(27,102,1.2130344553972),(27,103,-1.72338023010956),(27,104,0.434308908352916),(27,105,5.10550248725852),(27,108,0.812021240882595),(27,110,-0.753822443311869),(27,114,-1.79982909634693),(28,87,-0.0252388073366497),(28,88,1.45596179082614),(28,97,-1.42048402356029),(28,99,-2.42776268807031),(28,104,2.39802240058596),(28,113,-0.778832361827448),(28,114,1.57046723838008),(29,88,1.16504409924619),(29,91,3.15370647297586),(29,102,-0.52592547379986),(29,105,1.94149601733451),(29,116,-2.08693197424238),(30,95,2.23151341288491),(30,96,3.97178563798944),(30,99,-1.82441175572985),(30,101,0.128864406262398),(30,104,-0.798974578081607),(30,109,-0.143864253669851),(30,110,0.373882259590442),(30,114,-2.64648884548479),(30,118,-1.01748710592975),(31,85,0.087359233375042),(31,92,-0.624561296426283),(31,94,-1.42934965056307),(31,96,-0.722800378429518),(31,99,-1.1893826105533),(31,103,-2.56234931485946),(31,107,3.86028626361888),(31,108,2.77178258613849),(31,109,-1.21280556657613),(31,111,-0.176107058931242),(31,112,3.82946256904813),(31,117,0.522705771050142),(32,86,-2.4633777886288),(32,87,0.0197607348857081),(32,89,-0.574892422254097),(32,92,0.718054750206),(32,98,-0.958006530961028),(32,99,1.57094027527696),(32,104,0.730491042817468),(32,106,1.50572222052675),(32,109,1.46626178777429),(32,116,-0.405362102114933),(32,118,0.266975920896023),(33,96,0.174993133335368),(33,98,2.41198461867122),(33,108,1.39988402966399),(33,110,-2.30437635425886),(33,111,0.566621906186102),(33,114,1.13187047944578),(34,85,2.70415356913968),(34,90,3.29332865382855),(34,99,0.249870296334727),(34,104,-1.93266090884121),(34,109,0.144169438764611),(35,86,2.28644672994171),(35,87,-0.606250190740684),(35,97,-0.9774315622425),(35,98,1.43986327707755),(35,100,-0.43977172154912),(35,104,0.0907620471816156),(35,107,0.797769096957305),(35,109,-0.273079622791223),(35,110,-3.60043641468551),(35,112,-2.02566606646931),(36,85,-1.24723044526505),(36,87,-2.31768242439039),(36,90,0.985442670979949),(36,91,-0.43252357554857),(36,104,2.28888821069979),(36,107,0.871700186162908),(36,109,-2.41515854365673),(36,112,3.6188238166448),(36,115,2.30697042756432),(36,117,0.988677632984405),(36,118,0.245307779168066),(37,85,-1.99571214941862),(37,86,0.729087191381573),(37,87,1.74535355693228),(37,91,2.25257118442335),(37,99,0.0469832453382978),(37,105,2.98059022797327),(37,111,-1.04394665364544),(37,112,-2.47914059877316),(37,118,-3.01815851313822),(38,87,0.417416913357952),(38,90,-1.38525040437025),(38,103,1.38686788537248),(38,105,1.12811670278024),(38,106,-2.48077333903012),(38,111,-0.507904293954283),(38,115,0.949201940977203),(39,87,1.74658955656606),(39,89,1.65944395275735),(39,91,-0.553758354441969),(39,94,3.77137058626057),(39,97,2.23349711600085),(39,98,0.425992614520707),(39,107,-2.49841303750725),(39,108,-0.60612811670278),(39,109,1.94402905362102),(39,111,2.01077303384503),(39,113,4.93528550065615),(39,116,-1.64288766136662),(39,118,-0.726294747764519),(40,88,-1.09884945219275),(40,92,1.53195287942137),(40,99,0.587939085055086),(40,104,-1.63162633136998),(40,110,-2.55392620624409),(40,116,0.010467848750267),(40,118,1.47419660023804),(41,88,1.19502853480636),(41,93,-2.07045197912534),(41,96,3.21387371440779),(41,97,0.32212286751915),(41,100,-0.332193975646229),(41,101,-3.18860438856166),(41,104,-1.97180089724418),(41,105,0.225135044404431),(41,106,-2.70931119724113),(41,107,-2.56241035187841),(41,109,-0.223853267006439),(41,110,0.522247993408002),(41,111,1.57811212500381),(41,112,-2.50616473891415),(42,85,-1.21219519638661),(42,86,1.39565721610157),(42,87,-2.23085726493118),(42,99,-1.57193212683493),(42,100,-2.00547807245094),(42,103,-1.28437147129734),(42,109,-0.0512710959196753),(42,113,1.21578112125004),(43,85,-1.92930387279885),(43,88,-0.944700460829493),(43,89,1.63580736716819),(43,93,1.10357982116153),(43,97,2.20992156743065),(43,98,0.429578539384136),(43,101,-0.191274758140812),(43,102,0.837137974181341),(43,103,-0.76326792199469),(43,105,-4.54603717154454),(43,110,0.358287301248207),(43,112,2.60698263496811),(43,114,-2.76183355204932),(43,116,-2.99600207525864),(44,89,-0.769371623889889),(44,98,2.16803491317484),(44,99,0.712225714896084),(45,87,-2.44895779290139),(45,88,-0.0899380474257638),(45,90,1.08822901089511),(45,91,1.89512314218574),(45,95,2.87556077761162),(45,98,-0.258980071413312),(45,108,-3.45281838435011),(45,109,1.07364116336558),(45,112,0.740745262001404),(45,115,1.01756340220344),(46,85,-0.32219916379284),(46,89,4.89440595721305),(46,91,4.1748863185522),(46,94,-2.68698690755943),(46,97,-0.969267860957671),(46,100,-4.03949095126194),(46,101,-0.660115359965819),(46,108,-0.809579760124516),(46,112,0.144856105227821),(47,86,3.51332132938627),(47,91,1.75373088778344),(47,92,1.35584582049013),(47,94,-1.08719138157292),(47,95,-0.387279885250404),(47,100,-0.405499435407575),(47,101,0.32082583086642),(47,104,0.665684987945189),(47,105,-2.50138859218116),(47,108,0.360118411816767),(47,112,-0.915555284279916),(47,114,0.0957518234809412),(47,118,-1.70445875423444),(48,86,0.28713339640492),(48,91,2.24013489181188),(48,98,1.42277291177099),(48,99,0.364391003143407),(48,100,1.66418958098086),(48,103,-1.1282235175634),(48,105,-0.452986236152226),(48,106,-3.80370494705039),(48,111,0.937360759300516),(48,115,-1.85407574694052),(49,87,-2.09356975005341),(49,89,-0.448500015259255),(49,93,0.839793084505753),(49,94,0.822244941557054),(49,95,2.88338877529221),(49,102,-0.970870082705161),(49,113,2.64975432599872),(49,114,-1.64810632648701),(50,89,1.64862514114811),(50,105,2.62567522202216),(50,107,0.0856807153538621),(51,87,1.03448591570788),(51,92,-2.21472823267312),(51,97,-1.06006042664876),(51,98,-1.88090151676992),(51,103,-0.185476241340373),(51,106,0.938871425519578),(51,112,-1.38325144199957),(51,118,-1.99632251960814),(52,89,-0.468337046418653),(52,97,1.42376476332896),(52,106,-0.132831812494278),(52,110,3.58699301126133),(52,111,0.565996276741844),(52,113,-2.45216223639637),(52,114,1.0471053193762),(52,118,-0.10582293160802),(53,88,0.768608661152989),(53,90,-1.9441816461684),(53,92,0.00158696249275181),(53,94,3.17789239173559),(53,104,-2.49232459486679),(53,105,-1.4778740806299),(53,109,3.90459913937803),(54,85,-2.15895565660573),(54,91,-1.73718985564745),(54,94,-1.71408734397412),(54,96,1.71147801141392),(54,111,2.2712637714774),(54,112,2.10899685659352),(54,113,2.99661244544816),(54,118,-2.08149967955565),(55,87,-1.36431470686972),(55,95,0.54033021027253),(55,107,1.26148258919034),(55,110,2.47383037812433),(55,117,1.58743552964873),(56,107,-2.37304300057985),(56,111,0.201803643910031),(56,113,0.301141392254402),(56,114,-2.34701071199683),(57,87,2.0669423505356),(57,90,1.43134861293374),(57,91,1.16466261787774),(57,92,2.82566301461837),(57,93,-1.37783440656758),(57,94,-2.07132175664541),(57,95,-3.81923886837367),(57,96,1.89939573351238),(57,100,3.34745323038423),(57,102,-4.12259285256508),(57,103,1.52325510422071),(57,115,-1.53622547074801),(58,86,3.82779931028169),(58,87,0.251121555223243),(58,89,-0.641575365459151),(58,90,0.462660603656117),(58,95,0.800943021942808),(58,96,1.35814996795557),(58,101,-2.38830225531785),(58,103,2.81235694448683),(58,109,-3.06352427747429),(58,110,0.359248634296701),(58,113,1.17325357829524),(58,114,0.603198339793084),(58,115,-0.526825769829402),(58,118,-3.0115665150914),(59,85,0.39463484603412),(59,86,4.58868678853725),(59,90,0.844172490615558),(59,91,-2.17612231818598),(59,93,1.45776238288522),(59,97,2.23043000579852),(59,98,0.93694875942259),(59,100,-0.372203741569262),(59,102,2.03714102603229),(59,112,0.949659718619343),(59,114,3.20723593859676),(60,85,-1.41544846949675),(60,87,-0.768288216803491),(60,90,3.83780938138981),(60,91,-0.780739768669698),(60,96,3.41827143162328),(60,100,1.22048097170934),(60,101,-0.940183721427046),(60,105,-2.15720084231086),(60,107,2.29117709891049),(60,109,2.18482009338664),(60,110,3.57409894100772),(60,114,-2.54052858058412),(61,89,0.570436719870601),(61,94,-1.09662160100101),(61,96,0.533768730735191),(61,98,-1.48098696859645),(61,100,-1.55682546464431),(61,102,1.91076387829218),(61,103,-3.00675984984893),(61,114,0.396908474990082),(61,115,0.0684377574999238),(62,93,2.14168218024232),(62,95,-2.13232825708792),(62,107,-1.76625873592334),(62,109,-0.264870143742179),(62,110,1.50532547990356),(62,111,-1.52058473464156),(63,87,-2.61731315042573),(63,90,0.364650410473952),(63,93,-0.557802056947539),(63,97,-3.01344340342418),(63,100,1.24985503707999),(63,103,1.5886257515183),(63,104,-0.337565233314005),(63,108,0.644917142246773),(63,111,-2.12881862849818),(63,114,0.741294595171972),(63,117,-0.509781182287057),(64,87,0.529038361766411),(64,94,-2.55737479781487),(64,99,-2.24526200140385),(64,110,-0.0666219061861019),(64,112,-2.71129490035707),(64,116,2.11383404034547),(65,87,0.448622089297159),(65,88,-0.0688497573778497),(65,90,3.28691976683859),(65,97,-0.0658742027039401),(65,99,-1.69589831232643),(65,107,1.38497573778497),(65,110,3.6733603930784),(65,111,-3.71550645466475),(65,114,0.142216254158147),(65,116,0.447004608294931),(65,117,-0.488067262794885),(66,85,-0.566194647053438),(66,102,0.709768974883267),(66,105,0.751899777214881),(66,108,-0.363460188604389),(66,111,-1.99629200109867),(66,115,0.205984679708243),(66,118,-0.0688192388683735),(67,86,2.31589709158605),(67,90,0.432737205114902),(67,92,-2.90353099154637),(67,104,4.22551652577288),(67,109,0.224845118564409),(67,111,0.0860774559770499),(68,87,4.8600115970336),(68,88,0.0589770195623645),(68,90,0.835367900631733),(68,93,-2.78147221289712),(68,95,0.214407788323618),(68,96,-0.338465529343547),(68,97,-2.44827112643818),(68,103,1.7001861629078),(68,107,-1.32885219885861),(68,112,3.02446058534501),(68,114,-1.93615527817621),(69,87,-0.23474837488937),(69,88,-2.13951536606952),(69,92,3.59767448957793),(69,94,-2.17566454054384),(69,95,1.13643299661245),(69,97,2.47276223029267),(69,108,0.289620654927213),(69,113,-1.4874721518601),(69,114,0.98460341196936),(69,118,-2.41554002502518),(70,85,-2.6793420209357),(70,86,2.23609118930631),(70,87,0.819910275582141),(70,90,-0.0258644367809076),(70,96,-3.16209906308176),(70,97,-0.915341654713584),(70,99,-2.42622150334178),(70,105,0.216788232062746),(70,107,-0.21538438062685),(70,109,-1.05623035370953),(70,110,1.32747886593219),(70,111,-3.28972746971038),(71,85,1.75649281289102),(71,93,0.40758995330668),(71,96,-0.333170567949461),(71,100,3.97404400769066),(71,104,-1.5431684316538),(71,106,2.01667836542863),(71,111,0.203070162053285),(71,113,-2.28827784051027),(72,94,-0.21301919614246),(72,96,-0.0856807153538621),(72,99,-0.523621326334422),(72,110,0.392696920682394),(72,112,-0.739463484603412),(72,114,-1.24111148411512),(72,115,-2.12073122348705),(72,116,2.01185644093143),(73,88,2.4307687612537),(73,94,-0.364848780785547),(73,99,0.290917691579943),(73,100,1.75138096255379),(73,106,1.28643147068697),(73,110,0.850474562822352),(73,115,3.81113620410779),(74,90,-1.26818140202033),(74,94,2.86359752189703),(74,99,0.478301339762566),(74,102,-2.28637043366802),(74,106,-0.0511032441175573),(74,107,1.83530686361278),(74,110,1.49877925962096),(74,113,-1.353465376751),(74,116,2.32155827509384),(75,85,-3.19959105197302),(75,86,2.48222296823023),(75,93,-1.39866328928495),(75,98,-1.67365031891842),(75,103,0.621433149204993),(75,105,-0.0683156834620195),(75,111,2.46208075197607),(75,117,0.135868404187139),(76,86,2.20671712393567),(76,89,-2.17746513260292),(76,92,4.10919522690512),(76,94,-1.70644245735038),(76,99,0.0433057649464399),(76,101,-2.18916898098697),(76,103,-0.521073030793176),(76,106,1.44671468245491),(76,110,-2.18625446333201),(76,113,3.5064241462447),(77,88,-3.11323892941069),(77,91,-4.06056398205512),(77,93,-1.43475142674032),(77,98,-3.42150639362774),(77,101,0.917844172490616),(77,102,1.28894924771874),(77,103,2.32100894192328),(77,104,-0.942487868892483),(77,105,-2.40646076845607),(77,109,-2.55536057618946),(78,88,0.619998779259621),(78,93,4.13885921811579),(78,94,4.05220191045869),(78,101,1.40029602954192),(78,104,1.9344615009003),(78,110,-1.28289132358776),(78,114,-5.2722251045259),(78,116,2.69318216498306),(78,117,1.41392254402295),(78,118,-1.01704458754234),(79,87,1.85666982024598),(79,92,0.367137668996246),(79,94,4.11928159428694),(79,107,-3.92851039155248),(79,108,2.57074190496536),(79,114,1.14574114200262),(79,118,0.433378093813898),(80,87,-3.73723563341166),(80,88,1.64166692098758),(80,91,1.20609149449141),(80,99,2.88387707144383),(80,101,-0.347499008148442),(80,107,1.68836024048585),(80,113,-0.0836207159642324),(81,85,1.10370189519944),(81,86,-1.77245399334697),(81,90,-3.91698965422529),(81,93,1.97354045228431),(81,96,0.395580919827876),(81,97,-0.0380108035523545),(81,106,-0.116763817255165),(81,107,1.84665974913785),(81,110,1.68384350108341),(81,115,-1.33022553178503),(82,86,0.138767662587359),(82,92,-2.8351542710654),(82,110,-2.01588488418226),(82,112,0.491500595110935),(83,87,-2.69646290475173),(83,91,2.7823877681814),(83,93,0.423062837611011),(83,101,-2.19618823816645),(83,103,2.71530808435316),(83,105,0.71294289986877),(83,108,-0.60956144901883),(84,85,-2.05171361430708),(84,86,1.84643086031678),(84,89,2.42461928159429),(84,95,0.466704306161687),(84,99,3.4476760155034),(84,104,1.72223578600421),(84,111,-0.287347025971252),(84,113,-1.97370830408643),(84,114,-1.09073152867214),(35,105,-3.50473036896878)]
orgname='BHNEAT_14_4'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()