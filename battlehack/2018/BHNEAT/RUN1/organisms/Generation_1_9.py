edge = [(0,85,-0.131931516464736),(0,89,0.216498306222724),(0,90,-0.252510147404401),(0,93,-0.991882076479385),(0,98,-0.856624042481765),(0,101,-0.789666432691427),(0,105,-0.824304940946684),(0,108,0.437604907376324),(0,113,0.769920957060457),(0,114,0.950468459120457),(0,117,0.194158757286294),(0,118,-0.147740104373302),(1,86,-0.294228949858089),(1,92,-0.195440534684286),(1,98,0.0882900479140599),(1,102,-0.977690969573046),(1,104,-0.011169774468215),(1,107,-0.704763939329203),(1,108,-0.636249885555589),(1,109,-0.663808099612415),(1,113,0.681264687032685),(2,87,0.518112735374004),(2,88,0.953062532425916),(2,100,-0.0617999816888943),(2,106,-0.388317514572588),(2,108,0.835505233924375),(2,110,0.846247749259926),(2,113,-0.509903256324961),(2,118,-0.809137241737114),(3,89,-0.442915128025147),(3,92,-0.647877437665944),(3,97,-0.317087313455611),(3,99,0.607837153233436),(3,101,-0.263222144230476),(3,103,-0.171666615802484),(3,105,0.376598406933805),(3,108,0.955595568712424),(3,109,-0.0319528794213691),(3,111,0.794824060792871),(3,112,0.903897213660085),(3,116,0.174962614825892),(4,90,0.097994933927427),(4,91,0.665211951048311),(4,97,0.300210577715384),(4,99,0.509689626758629),(4,101,0.349436933500168),(4,108,-0.0333872493667409),(4,113,-0.140659810174871),(4,118,0.0188604388561663),(5,86,0.26425977355266),(5,87,-0.709585863826411),(5,89,-0.287697988830226),(5,92,0.596819971312601),(5,93,-0.0863368633075961),(5,99,0.645741142002625),(5,104,-0.129184850611896),(5,114,-0.117404705954161),(5,118,0.12594988860744),(6,89,0.642597735526597),(6,92,-0.941801202429273),(6,94,0.703726310007019),(6,100,-0.185735648670919),(6,101,0.181585131382183),(6,103,0.379314554277169),(6,107,-0.122409741508225),(6,110,0.111423078096866),(6,113,-0.382091738639485),(7,85,0.0858485671559801),(7,86,0.30344553971984),(7,90,-0.467604602191229),(7,95,-0.0832239753410443),(7,99,0.434217352824488),(7,100,-0.984466078676717),(7,104,-0.338511307107761),(7,106,0.0510269478438673),(7,108,-0.389019440290536),(7,112,-0.480391857661672),(7,116,-0.253852961821345),(8,92,-0.310495315408795),(8,93,0.495162816248054),(8,95,-0.577959532456435),(8,99,0.239509262367626),(8,106,-0.602496414075137),(8,107,0.991058076723533),(8,115,-0.555223242896817),(8,116,-0.993408001953185),(8,118,0.965910824915311),(9,85,0.0467238380077517),(9,87,-0.326151310769982),(9,98,-0.186132389294107),(9,101,0.444563127536851),(9,103,0.127445295571764),(9,105,-0.710013122959075),(9,106,-0.887020477919858),(9,113,-0.919431134983367),(10,89,-0.481643116550188),(10,96,0.826136051515244),(10,106,-0.114597003082369),(10,108,-0.065401165807062),(10,109,-0.754448072756127),(10,111,0.61314737388226),(10,112,-0.512558366649373),(10,114,-0.433637501144444),(10,115,0.725821710867641),(10,116,0.47376934110538),(10,117,0.150517288735618),(11,89,0.658345286416211),(11,97,0.173924985503708),(11,105,-0.0442213202307199),(11,112,0.449751274147771),(11,115,0.788811914426099),(12,92,0.863399151585437),(12,93,0.0888088625751518),(12,94,-0.23398541215247),(12,97,-0.746665852839747),(12,98,-0.658558915982543),(12,99,0.519394512771996),(12,108,-0.905270546586505),(12,116,0.907650990325632),(13,86,0.76174199652089),(13,87,0.53987243263039),(13,90,-0.744560075685904),(13,99,0.808801538132878),(13,102,0.076570940275277),(13,104,0.915921506393628),(13,113,0.337748344370861),(13,116,-0.980498672444838),(13,118,-0.696340830713828),(14,90,-0.369273964659566),(14,93,0.1262550737022),(14,95,0.903317361980041),(14,102,-0.51707510605182),(14,104,-0.097476119266335),(14,106,-0.0828272347178564),(14,109,-0.0902432325205237),(14,110,0.976012451551866),(14,111,-0.418286690878018),(15,85,0.512497329630421),(15,92,0.293679616687521),(15,99,0.91476180303354),(15,101,-0.539139988402966),(15,104,-0.978087710196234),(15,108,-0.837427900021363),(15,117,0.567644276253548),(16,86,0.45188756981109),(16,87,0.351207007049776),(16,88,-0.0736411633655812),(16,90,-0.675008392590106),(16,91,-0.952208014160588),(16,95,0.987975707266457),(16,97,0.965117343668935),(16,98,-0.721427045503098),(16,99,-0.784020508438368),(16,101,-0.0297250282296213),(16,108,-0.791955320902127),(16,110,0.298989837336344),(17,89,0.909298989837336),(17,96,-0.828974272896512),(17,99,0.983947264015625),(17,101,0.595690786461989),(17,106,0.902340769676809),(17,107,-0.49992370372631),(17,109,-0.0773339030121769),(18,90,-0.00851466414380322),(18,91,0.469435712759789),(18,93,0.594500564592425),(18,99,-0.797143467513047),(18,102,-0.882015442365795),(18,103,0.0933866389965514),(18,104,-0.903012176885281),(18,110,0.263771477401044),(18,111,0.371166112247078),(18,116,0.802972502822962),(18,117,-0.379894405957213),(18,118,-0.325510422070986),(19,87,-0.430127872554704),(19,89,0.0675069429609058),(19,93,0.194677571947386),(19,95,0.0151676992095706),(19,101,0.925168614764855),(19,105,0.816522721030305),(19,115,-0.907559434797204),(20,88,-0.132450331125828),(20,101,0.873073519089328),(20,103,0.58394116031373),(20,104,0.770195623645741),(20,105,0.950651570177312),(20,106,-0.80443739127781),(20,111,-0.778038880581072),(20,116,0.15164647358623),(21,86,-0.0489211706900235),(21,87,-0.251899777214881),(21,94,0.075624866481521),(21,96,0.0890835291604358),(21,101,0.269234290597247),(21,102,0.363597521897031),(21,105,-0.941862239448225),(21,107,-0.963530381176183),(21,108,-0.798455763420514),(22,86,-0.641102328562273),(22,88,-0.274483474227119),(22,91,-0.300515762810144),(22,92,-0.375225074007385),(22,93,0.803033539841914),(22,98,-0.173589281899472),(22,106,0.6962492751854),(22,115,0.622180852687155),(22,117,-0.773186437574389),(23,85,0.836146122623371),(23,86,-0.867976928006836),(23,88,0.502883999145482),(23,90,-0.793816949980163),(23,97,-0.575243385113071),(23,104,-0.830011902218696),(23,112,0.903805658131657),(23,114,0.663930173650319),(23,115,-0.965056306649983),(23,116,-0.194402905362102),(24,89,-0.341502121036409),(24,90,-0.102633747367779),(24,91,0.110049745170446),(24,101,-0.596881008331553),(24,107,0.794579912717063),(24,108,0.237311929685354),(24,110,-0.0396130252998444),(24,112,-0.247322000793481),(25,90,-0.660634174626911),(25,92,0.21698660237434),(25,94,0.227637562181463),(25,98,0.605883968626972),(25,105,0.838373973815119),(25,108,-0.950590533158361),(25,109,0.236945707571642),(25,115,-0.183568834498123),(26,85,-0.934720908230842),(26,87,0.970091860713523),(26,89,-0.488967558824427),(26,95,-0.468062379833369),(26,98,0.596606341746269),(26,100,0.419019135105441),(26,101,0.158055360576189),(26,102,0.974547563097018),(26,103,0.968352305673391),(26,104,0.165684987945189),(26,107,0.19129001739555),(26,109,-0.421338541825617),(26,112,0.273293252357555),(26,113,-0.0412915433210242),(26,117,-0.452742088076418),(27,85,-0.0309457686086612),(27,87,0.521225623340556),(27,94,-0.203405865657521),(27,100,0.993224890896329),(27,102,-0.955595568712424),(27,103,-0.340037232581561),(27,104,-0.624164555803095),(27,105,-0.444624164555803),(27,108,-0.828119754631184),(27,110,-0.933103427228614),(27,114,-0.703543198950163),(28,87,0.539658803064058),(28,88,-0.437696462904752),(28,97,0.160985137485885),(28,99,-0.0076296273689993),(28,104,-0.756218146305734),(28,113,-0.530716879787591),(28,114,0.748802148503067),(29,88,-0.132023071993164),(29,91,-0.08691671498764),(29,102,0.736442152165288),(29,105,0.617908261360515),(29,116,0.689931943723869),(30,95,-0.933774834437086),(30,96,-0.617908261360515),(30,99,0.34324167607654),(30,101,-0.425580614642781),(30,104,-0.127506332590716),(30,109,-0.84759056367687),(30,110,-0.73512985625782),(30,114,-0.452436902981658),(30,118,-0.0723899044770653),(31,85,-0.508285775322733),(31,92,0.546403393658254),(31,94,0.616534928434095),(31,96,-0.0154118472853786),(31,99,0.518845179601428),(31,103,0.304483169042024),(31,107,-0.984740745262001),(31,108,-0.441084017456587),(31,109,0.184942167424543),(31,111,-0.268318735312967),(31,112,0.45799127170629),(31,117,0.590838343455306),(32,86,0.874904629657888),(32,87,0.510513626514481),(32,89,-0.509628589739677),(32,92,-0.107608264412366),(32,98,0.820398571733757),(32,99,-0.124179815057833),(32,104,0.0487075411236915),(32,106,-0.805383465071566),(32,109,-0.0423291726432081),(32,116,-0.555253761406293),(32,118,0.408185064241462),(33,96,-0.56358531449324),(33,98,0.401593066194647),(33,108,0.0592059083834346),(33,110,0.458235419782098),(33,111,-0.346842860194708),(33,114,-0.774773400067141),(34,85,-0.283333841975158),(34,90,-0.844599749748222),(34,99,-0.349406414990692),(34,104,-0.354960783715323),(34,109,0.97369304483169),(35,86,0.351725821710868),(35,87,-0.26456495864742),(35,97,-0.0776390881069369),(35,98,-0.807000946073794),(35,100,-0.391247291482284),(35,104,0.679372539445174),(35,107,-0.1713919492172),(35,109,-0.347941526535844),(35,110,-0.615070039979247),(35,112,0.594073305459761),(36,85,-0.833552049317911),(36,87,-0.13098544267098),(36,90,-0.653798028504288),(36,91,0.0665608691671499),(36,104,-0.0311593981749931),(36,107,-0.867519150364696),(36,109,0.979888302255318),(36,112,0.982207708975494),(36,115,0.426801355021821),(36,117,-0.777764213995788),(36,118,-0.896053956724754),(37,85,-0.947935422833949),(37,86,0.429151280251473),(37,87,0.0478835413678396),(37,91,-0.648457289345988),(37,99,0.312173833429975),(37,105,0.368877224036378),(37,111,0.412152470473342),(37,112,0.665028839991455),(37,118,-0.309152500991852),(38,87,0.799493392742698),(38,90,0.859706411938841),(38,103,-0.918790246284371),(38,105,-0.328562273018586),(38,106,-0.923062837611011),(38,111,0.466750083925901),(38,115,0.415967284157842),(39,87,0.309884945219276),(39,89,-0.140903958250679),(39,91,-0.353587450788903),(39,94,-0.809595019379253),(39,97,0.262184514908292),(39,98,0.729636524552141),(39,107,-0.766655476546525),(39,108,-0.137333292641987),(39,109,-0.90850550859096),(39,111,-0.641590624713889),(39,113,0.285409100619526),(39,116,0.685262611774041),(39,118,0.455275124362926),(40,88,-0.430860316782128),(40,92,0.154515213476974),(40,99,0.975768303476058),(40,104,0.487197485274819),(40,110,0.304025391399884),(40,116,0.74092837305826),(40,118,0.880947294534135),(41,88,-0.986358226264229),(41,93,0.295937986388745),(41,96,-0.115665150914029),(41,97,0.861049226355785),(41,100,0.477065340128788),(41,101,0.570390942106388),(41,104,0.761101107821894),(41,105,0.327433088167974),(41,106,-0.295236060670797),(41,107,0.846034119693594),(41,109,0.402874843592639),(41,110,0.131229590746788),(41,111,0.983031708731346),(41,112,0.947080904568621),(42,85,0.966948454237495),(42,86,-0.17627491073336),(42,87,-0.808160649433882),(42,99,0.479171117282632),(42,100,0.661580248420667),(42,103,-0.157597582934049),(42,109,0.408703878902554),(42,113,-0.630085146641438),(43,85,-0.184484389782403),(43,88,-0.424665059358501),(43,89,-0.562547685171056),(43,93,0.0954924161503952),(43,97,-0.054780724509415),(43,98,-0.969603564561907),(43,101,0.0817285683767205),(43,102,0.129795220801416),(43,103,0.0699484237189856),(43,105,0.540513321329386),(43,110,0.832300790429395),(43,112,0.721976378673666),(43,114,-0.888058107242042),(43,116,-0.879879146702475),(44,89,-0.878505813776055),(44,98,-0.896145512253182),(44,99,-0.734550004577776),(45,87,-0.0874965666676839),(45,88,-0.752555925168615),(45,90,0.137546922208319),(45,91,-0.234504226813562),(45,95,-0.109225745414594),(45,98,0.84911648915067),(45,108,0.943357646412549),(45,109,-0.369579149754326),(45,112,0.349925229651784),(45,115,0.944822534867397),(46,85,-0.498214667195654),(46,89,-0.559953611865596),(46,91,0.411816766869106),(46,94,-0.842677083651235),(46,97,0.475234229560228),(46,100,-0.8714560380871),(46,101,0.957853938413648),(46,108,0.141850032044435),(46,112,0.961760307626575),(47,86,-0.347605822931608),(47,91,0.699850459303568),(47,92,-0.132023071993164),(47,94,0.509994811853389),(47,95,-0.466628009887997),(47,100,-0.511947996459853),(47,101,-0.812891018402661),(47,104,-0.312997833185827),(47,105,0.723410748619037),(47,108,0.668782616657002),(47,112,0.0388195440534684),(47,114,0.505294961394085),(47,118,-0.336649678029725),(48,86,0.208716086306345),(48,91,-0.788354136783959),(48,98,0.588763084810938),(48,99,0.0808130130924406),(48,100,-0.422284615619373),(48,103,0.558641315958129),(48,105,-0.98330637531663),(48,106,-0.243171483504746),(48,111,-0.465285195471053),(48,115,-0.885067293313395),(49,87,-0.702719199194311),(49,89,0.705862605670339),(49,93,0.0972319711905271),(49,94,0.985778374584185),(49,95,-0.155522324289682),(49,102,-0.15286721396527),(49,113,-0.544541764580218),(49,114,0.531113620410779),(50,89,-0.0705893124179815),(50,105,0.402172917874691),(50,107,0.488723410748619),(51,87,0.538377025666066),(51,92,-0.548051393169958),(51,97,-0.862575151829585),(51,98,-0.179937131870479),(51,103,-0.391033661915952),(51,106,-0.235023041474654),(51,112,0.115909298989837),(51,118,0.675038911099582),(52,89,-0.983489486373486),(52,97,0.626361888485366),(52,106,-0.624073000274667),(52,110,-0.200842310861538),(52,111,-0.990569780571917),(52,113,-0.490554521317179),(52,114,-0.560930204168828),(52,118,-0.642628254036073),(53,88,-0.261909848323008),(53,90,0.420392468031861),(53,92,-0.769371623889889),(53,94,-0.15713980529191),(53,104,0.341776787621693),(53,105,-0.508743552964873),(53,109,0.843501083407086),(54,85,0.911191137424848),(54,91,-0.113315225684378),(54,94,0.149479659413434),(54,96,0.335459456160161),(54,111,-0.944547868282113),(54,112,-0.568224127933592),(54,113,0.963133640552995),(54,118,0.0875576036866359),(55,87,-0.158574175237281),(55,95,0.701193273720512),(55,107,0.847560045167394),(55,110,-0.689413129062777),(55,117,-0.429334391308329),(56,107,-0.529587694936979),(56,111,0.154057435834834),(56,113,0.0596942045350505),(56,114,-0.845942564165166),(57,87,-0.237830744346446),(57,90,-0.987884151738029),(57,91,0.153447065645314),(57,92,0.0736411633655812),(57,93,-0.447004608294931),(57,94,-0.634022034363842),(57,95,0.793969542527543),(57,96,0.842524491103855),(57,100,0.609393597216712),(57,102,0.108127079073458),(57,103,0.629810480056154),(57,115,-0.560258796960356),(58,86,0.527909176915799),(58,87,0.832331308938871),(58,89,0.216956083864864),(58,90,0.0508133182775353),(58,95,0.000793481246375927),(58,96,-0.43565172276986),(58,101,-0.225775933103427),(58,103,0.41758476516007),(58,109,-0.591051973021638),(58,110,-0.680257576219977),(58,113,0.773033845027009),(58,114,0.0315866573076571),(58,115,-0.52088991973632),(58,118,-0.511978514969329),(59,85,0.878841517380291),(59,86,0.644856105227821),(59,90,0.691488387707144),(59,91,0.23612170781579),(59,93,-0.0488906521805475),(59,97,-0.628711813715018),(59,98,-0.827295754875332),(59,100,0.818292794579913),(59,102,0.981444746238594),(59,112,-0.336924344615009),(59,114,0.745658742027039),(60,85,0.310129093295083),(60,87,-0.399060029908139),(60,90,0.594225898007141),(60,91,0.751426740318003),(60,96,-0.400128177739799),(60,100,-0.00610370189519944),(60,101,-0.309366130558184),(60,105,0.156285287026582),(60,107,0.0893887142551958),(60,109,-0.570421460615864),(60,110,0.213507492294076),(60,114,0.923581652272103),(61,89,-0.492477187414167),(61,94,0.13052766502884),(61,96,0.723502304147465),(61,98,-0.43748283333842),(61,100,0.763084810937834),(61,102,-0.327585680715354),(61,103,0.93008209479049),(61,114,-0.397839289529099),(61,115,0.144871364482559),(62,93,0.862453077791681),(62,95,0.711294900357067),(62,107,0.839594714194159),(62,109,0.147251808221686),(62,110,-0.0776696066164129),(62,111,-0.970641193884091),(63,87,-0.277199621570483),(63,90,-0.846186712240974),(63,93,-0.664632099368267),(63,97,-0.000396740623187963),(63,100,0.974364452040162),(63,103,-0.309915463728752),(63,104,0.495376445814386),(63,108,-0.970061342204047),(63,111,-0.338389233069857),(63,114,0.149784844508194),(63,117,0.579943235572375),(64,87,-0.539292580950346),(64,94,0.439832758568072),(64,99,-0.196050904873806),(64,110,0.148014770958586),(64,112,0.596514786217841),(64,116,-0.657002471999268),(65,87,-0.298532059694205),(65,88,0.856349375896481),(65,90,0.121982482375561),(65,97,0.445417645802179),(65,99,0.252601702932829),(65,107,-0.120456556901761),(65,110,-0.17627491073336),(65,111,0.232428968169195),(65,114,0.84972685934019),(65,116,-0.571886349070711),(65,117,0.0133365886410108),(66,85,-0.436780907620472),(66,102,-0.0534379100924711),(66,105,-0.640125736259041),(66,108,0.318948942533647),(66,111,-0.61299478133488),(66,115,0.300027466658528),(66,118,0.25968199713126),(67,86,0.573870052186651),(67,90,0.72103030487991),(67,92,-0.924405652027955),(67,104,-0.702078310495315),(67,109,0.542222357860042),(67,111,-0.520706808679464),(68,87,0.710715048677023),(68,88,0.532914212469863),(68,90,0.884731589709159),(68,93,0.0914334543900876),(68,95,0.568285164952544),(68,96,0.693899349955748),(68,97,0.897030549027986),(68,103,0.476485488448744),(68,107,-0.332346568193609),(68,112,-0.709860530411695),(68,114,-0.372844630268258),(69,87,0.452742088076418),(69,88,0.689809869685965),(69,92,0.0207525864436781),(69,94,-0.59248634296701),(69,95,-0.425092318491165),(69,97,0.230048524430067),(69,108,-0.438825647755364),(69,113,-0.435865352336192),(69,114,-0.445997497482223),(69,118,0.620715964232307),(70,85,-0.730430005798517),(70,86,0.620990630817591),(70,87,0.360057374797815),(70,90,-0.908413953062532),(70,96,0.323252052369762),(70,97,-0.0670491653187658),(70,99,-0.0734885708182012),(70,105,0.944608905301065),(70,107,-0.138248847926267),(70,109,0.383007293923765),(70,110,0.948789941099277),(70,111,-0.936368907742546),(71,85,-0.546678060243538),(71,93,-0.4804834131901),(71,96,-0.32395397808771),(71,100,0.122074037903989),(71,104,0.452162236396374),(71,106,0.312356944486831),(71,111,-0.15744499038667),(71,113,-0.572374645222327),(72,94,0.497665334025086),(72,96,-0.735862300485244),(72,99,0.797387615588855),(72,110,-0.115726187932981),(72,112,-0.397625659962767),(72,114,-0.500961333048494),(72,115,-0.876186407055879),(72,116,0.389385662404248),(73,88,-0.394848475600452),(73,94,-0.363567003387555),(73,99,-0.330088198492386),(73,100,-0.0150456251716666),(73,106,-0.842738120670186),(73,110,-0.32395397808771),(73,115,-0.543778801843318),(74,90,0.899746696371349),(74,94,-0.9120151371807),(74,99,-0.989806817835017),(74,102,-0.619739371929075),(74,106,0.661519211401715),(74,107,0.423078096865749),(74,110,-0.0646992400891141),(74,113,-0.772972808008057),(74,116,-0.180242316965239),(75,85,-0.80291146580401),(75,86,0.961363567003388),(75,93,-0.85033722952971),(75,98,-0.273476363414411),(75,103,0.166966765343181),(75,105,-0.539780877101962),(75,111,0.975280007324442),(75,117,0.49717703787347),(76,86,-0.526474806970428),(76,89,0.970763267921995),(76,92,0.317178868984039),(76,94,-0.0713827936643574),(76,99,-0.120181890316477),(76,101,0.723929563280129),(76,103,-0.986083559678945),(76,106,0.931241798150578),(76,110,0.871669667653432),(76,113,0.681264687032685),(77,88,0.0519425031281472),(77,91,0.902554399243141),(77,93,0.971129490035707),(77,98,0.375133518478957),(77,101,0.689535203100681),(77,102,-0.00259407330545976),(77,103,-0.582537308877834),(77,104,0.35178685872982),(77,105,0.447584459974975),(77,109,0.866176335947752),(78,88,0.675710318308054),(78,93,0.659535508285775),(78,94,-0.643665883358257),(78,101,0.295907467879269),(78,104,-0.983214819788202),(78,110,-0.462019714957122),(78,114,-0.883419293801691),(78,116,0.938535721915342),(78,117,0.0824915311136204),(78,118,-0.776543473616749),(79,87,-0.705313272499771),(79,92,0.0852381969664602),(79,94,0.602893154698324),(79,107,-0.337290566728721),(79,108,0.350047303689688),(79,114,0.597796563615833),(79,118,0.557634205145421),(80,87,0.583697012237922),(80,88,-0.655171361430708),(80,91,-0.95913571581164),(80,99,-0.800866725669118),(80,101,0.773644215216529),(80,107,0.0744651631214332),(80,113,0.449110385448775),(81,85,-0.6097903378399),(81,86,0.221778008362072),(81,90,-0.822717978453932),(81,93,-0.445509201330607),(81,96,-0.391491439558092),(81,97,0.662831507309183),(81,106,-0.144962920010987),(81,107,-0.84957426679281),(81,110,0.515243995483261),(81,115,-0.739799188207648),(82,86,0.711264381847591),(82,92,-0.636890774254585),(82,110,0.269234290597247),(82,112,-0.617328409680471),(83,87,0.136112552262947),(83,91,-0.533188879055147),(83,93,-0.942869350260933),(83,101,-0.719931638538774),(83,103,0.623004852443007),(83,105,0.815118869594409),(83,108,0.0335398419141209),(84,85,-0.595263527329325),(84,86,-0.73390911587878),(84,89,0.23596911526841),(84,95,0.579058198797571),(84,99,-0.902523880733665),(84,104,-0.283883175145726),(84,111,0.076540421765801),(84,113,0.614123966185491),(84,114,0.525528733176672)]
orgname='BHNEAT_1_9'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()