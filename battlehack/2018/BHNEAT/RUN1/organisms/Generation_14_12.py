edge = [(0,85,0.300302133243812),(0,89,1.07569353312784),(0,90,1.24179815057833),(0,93,-5.01333658864101),(0,98,-0.925832392345958),(0,101,-1.12688833277383),(0,105,1.19830927457503),(0,108,-2.19412823877682),(0,113,2.07345805230872),(0,114,2.14812158574175),(0,117,5.22423474837489),(0,118,-2.00920133060701),(1,86,-1.09095278786584),(1,92,3.5683462019715),(1,98,0.876300851466414),(1,102,-4.05553605761895),(1,104,-0.257736442152165),(1,107,-0.268452253791925),(1,108,0.936765648365734),(1,109,2.49220252082888),(1,113,-0.337809381389813),(2,87,-1.24314096499527),(2,88,3.75766777550584),(2,100,2.59472182378613),(2,106,-0.7127140110477),(2,108,-1.48628192999054),(2,110,-1.92809839167455),(2,113,1.37040696432386),(2,118,3.31621753593554),(3,89,-2.35656300546281),(3,92,-0.595439008758812),(3,97,0.587557603686636),(3,99,0.98010193182165),(3,101,-2.33675649281289),(3,103,-0.878231147190771),(3,105,0.176473281044954),(3,108,-1.09213538010804),(3,109,-2.15312662129582),(3,111,-0.122959074678793),(3,112,0.618076113162633),(3,116,-0.586287270729698),(4,90,-1.44184698019349),(4,91,1.98896755882443),(4,97,-1.49189733573412),(4,99,0.634449293496506),(4,101,1.92698446607868),(4,108,2.25993377483444),(4,113,-1.12174596392712),(4,118,1.98347422711875),(5,86,0.822794274727622),(5,87,-2.46432386242256),(5,89,-0.738250373851741),(5,92,-0.172963652455214),(5,93,0.558168279061251),(5,99,4.12831507309183),(5,104,0.00625629444257942),(5,114,1.82824945829646),(5,118,0.84777748954741),(6,89,-0.770210882900479),(6,92,-6.13175984984893),(6,94,-1.29785683767205),(6,100,-2.19074831385235),(6,101,-0.906758323923459),(6,103,-3.09550004577776),(6,107,-1.26515243995483),(6,110,0.499198889126255),(6,113,-2.86018707846309),(7,85,3.62868892483291),(7,86,-2.80382702108829),(7,90,-0.0732024597918636),(7,95,1.91227454451125),(7,99,1.29822687459944),(7,100,2.02446821497238),(7,104,-4.67728965117344),(7,106,1.8725394451735),(7,108,1.06374553666799),(7,112,-0.722014526810511),(7,116,1.34510330515458),(8,92,0.955534531693472),(8,93,0.962607196264534),(8,95,-1.23202459791864),(8,99,0.737556077761162),(8,106,-2.36613818781091),(8,107,2.43545335245827),(8,115,0.880123294778283),(8,116,2.12530899990844),(8,118,0.203138828699606),(9,85,-0.616698965422529),(9,87,3.3097323526719),(9,98,0.630207220679342),(9,101,1.7592776268807),(9,103,4.29651020844142),(9,105,3.70175023651845),(9,106,1.22780541398358),(9,113,0.879909665211951),(10,89,-5.61368144779809),(10,96,1.84469893490402),(10,106,1.51574755088961),(10,108,-0.664159062471389),(10,111,-3.61706137272256),(10,112,-0.704443494979705),(10,114,1.50225836970122),(10,115,0.54788354136784),(10,116,-0.122264778588214),(10,117,-1.36971648304697),(11,89,-4.19238868373669),(11,97,2.54695654164251),(11,105,-2.96177556688131),(11,112,0.490073854792932),(11,115,2.2727896969512),(12,92,4.04824976348155),(12,93,1.36959440900906),(12,94,2.70292901394696),(12,97,-0.0251472518082216),(12,98,2.23982970671712),(12,99,2.13950010681478),(12,108,0.877555925168615),(12,116,-3.89880062257759),(13,86,0.512451551866207),(13,87,1.1651890621662),(13,90,0.666859950560015),(13,99,4.54746391186255),(13,102,3.78425702688681),(13,104,-1.29123813592944),(13,113,-0.572084719382306),(13,116,1.44123661000397),(13,118,1.13727225562304),(14,90,-5.33217108676412),(14,93,2.32726523636586),(14,95,-4.67772453993347),(14,102,-2.04977568895535),(14,104,-4.19652394177068),(14,106,1.14822840052492),(14,109,1.44317453535569),(14,110,-0.744209112826929),(14,111,-0.482718894009217),(15,85,1.68385113071078),(15,92,-0.797601245155187),(15,99,-0.200476088747826),(15,101,-2.42263557847835),(15,104,1.14753791924802),(15,108,-0.479529709768975),(15,117,1.79798272652364),(16,86,-1.69301431318094),(16,87,0.71385845515305),(16,88,3.03069399090548),(16,90,0.0873287148655657),(16,91,-2.15315713980529),(16,95,-2.43635746330149),(16,97,-2.89060640278329),(16,98,0.416280098879971),(16,99,0.145756401257362),(16,101,1.17310098574786),(16,108,6.06187627796258),(16,110,2.51132618182928),(17,89,1.6234244819483),(17,96,-2.04954680013428),(17,99,3.22950682088687),(17,101,0.170270393993957),(17,106,-2.80468916898099),(17,107,0.353488265633106),(17,109,2.00163274025697),(18,90,-0.952917569505905),(18,91,-0.348979155858028),(18,93,-0.0384838404492327),(18,99,0.0446333201086459),(18,102,4.02726065858944),(18,103,-0.828890346995453),(18,104,-0.548532059694204),(18,110,0.584971160008545),(18,111,-1.07663197729423),(18,116,5.49481948301645),(18,117,-2.41580706198309),(18,118,-1.38738670003357),(19,87,-2.10825678273873),(19,89,-0.970412305063021),(19,93,0.622997222815638),(19,95,0.398876918851284),(19,101,2.32339701528977),(19,105,-2.70925778984954),(19,115,0.456205938901944),(20,88,-1.74321726126896),(20,101,0.122653889584033),(20,103,2.85213019196142),(20,104,0.00457014679403045),(20,105,1.32790612506485),(20,106,0.463118381298257),(20,111,0.200888088625751),(20,116,2.70324564348277),(21,86,1.85842463454085),(21,87,0.919179357280191),(21,94,0.881805627613148),(21,96,2.4248863185522),(21,101,3.82693716238899),(21,102,2.81535538804285),(21,105,2.34727011932737),(21,107,3.77846613971374),(21,108,3.28906369212928),(22,86,1.10339671010468),(22,88,-4.24186681722465),(22,91,-1.74236274300363),(22,92,-2.35550248725852),(22,93,2.41409039582507),(22,98,1.46328623310038),(22,106,-5.77924436170537),(22,115,1.02853480636006),(22,117,1.60008545182653),(23,85,-0.641865291299173),(23,86,-2.97239600817896),(23,88,-3.25405133213294),(23,90,1.23706778160955),(23,97,-2.29108554338206),(23,104,3.5815607165746),(23,112,-1.92327646717734),(23,114,0.30329294717246),(23,115,-1.98798333689383),(23,116,2.17671742912076),(24,89,-3.86029389324625),(24,90,-1.2207861568041),(24,91,2.62404248176519),(24,101,3.21951582384716),(24,107,3.25564592425306),(24,108,1.60530411694693),(24,110,-0.597178563798944),(24,112,-4.69595171971801),(25,90,-0.515228736228523),(25,92,-0.726310007019257),(25,94,-5.87827692495499),(25,98,-1.084711752678),(25,105,3.14038514358959),(25,108,-0.368587298196356),(25,109,-2.27358317819758),(25,115,2.26770836512345),(26,85,-1.63500625629444),(26,87,-1.48498489333781),(26,89,-0.916699728385266),(26,95,-0.874546037171545),(26,98,-0.239440595721305),(26,100,-1.2686544389172),(26,101,-2.03069399090548),(26,102,3.39139988402966),(26,103,-0.486083559678945),(26,104,3.75304422132023),(26,107,-2.01498458815271),(26,109,0.884983367412336),(26,112,4.91765343180639),(26,113,1.82719656971953),(26,117,-0.920308542130802),(27,85,-1.5873439741203),(27,87,-2.31356242561113),(27,94,2.80426953947569),(27,100,-2.78624835963012),(27,102,1.1470763267922),(27,103,-1.88268684957427),(27,104,-0.793328653828547),(27,105,-1.69528031250954),(27,108,-2.71668141727958),(27,110,1.92562639240699),(27,114,3.66404461806085),(28,87,0.695493942075869),(28,88,0.0202185125278481),(28,97,0.808053834650716),(28,99,-0.338389233069857),(28,104,-3.15781121250038),(28,113,0.668744468520157),(28,114,-4.13907284768212),(29,88,2.43366801965392),(29,91,-1.95399334696493),(29,102,-1.25165562913907),(29,105,-4.45480208746605),(29,116,-0.610751670888394),(30,95,4.26348155156102),(30,96,3.25177770317698),(30,99,2.30544450209052),(30,101,-2.60917996765038),(30,104,-0.217482528153325),(30,109,1.09152500991852),(30,110,2.18053987243263),(30,114,1.75595110934782),(30,118,2.80113376262703),(31,85,4.36859492782373),(31,92,5.85861537522507),(31,94,0.989204077272866),(31,96,1.29699087496567),(31,99,-0.407116916409803),(31,103,-3.35407574694052),(31,107,-0.261200292977691),(31,108,0.635395367290261),(31,109,-2.04561754203925),(31,111,1.06364635151219),(31,112,0.54177983947264),(31,117,0.829340495010224),(32,86,-2.47047334208197),(32,87,-0.195600756859035),(32,89,-1.8122653889584),(32,92,-0.794557023834956),(32,98,0.879818109683523),(32,99,0.446958830530717),(32,104,6.50589007232887),(32,106,-1.48113956114383),(32,109,2.34009826960051),(32,116,-0.570696127201147),(32,118,-2.52447584459975),(33,96,-0.98787652211066),(33,98,1.18800927762688),(33,108,0.521149327066866),(33,110,2.07815790276803),(33,111,-3.48081911679434),(33,114,-2.50954084902493),(34,85,2.40714743491928),(34,90,4.6595049897763),(34,99,3.17812128055666),(34,104,-4.11292611468856),(34,109,-3.11406292916654),(35,86,-0.0390636921292764),(35,87,-1.3172856837672),(35,97,0.145916623432112),(35,98,-0.307245094149602),(35,100,-1.56620990630818),(35,104,-3.74243903927732),(35,107,-5.86205633716849),(35,109,-2.42562639240699),(35,110,-1.58758812219611),(35,112,3.52542191839351),(36,85,-2.34150975066378),(36,87,-0.894184698019349),(36,90,-1.17934965056307),(36,91,0.576914273506882),(36,104,-2.46787926877651),(36,107,3.50395977660451),(36,109,3.35398419141209),(36,112,0.194906460768456),(36,115,3.87535477767266),(36,117,-6.33061464278085),(36,118,1.05311365092929),(37,85,-0.751739555040131),(37,86,1.38363292336802),(37,87,2.02860347300638),(37,91,0.790467543565172),(37,99,0.905369731742302),(37,105,1.5204016235847),(37,111,-0.437353129673146),(37,112,1.31965086825159),(37,118,-0.000335703604235738),(38,87,-0.349490340891751),(38,90,0.321420941801203),(38,103,0.563066499832148),(38,105,1.66391491439558),(38,106,1.08470412305063),(38,111,-1.61763359477523),(38,115,-0.301011688589129),(39,87,0.478736228522599),(39,89,-2.62192144535661),(39,91,-4.88151188695944),(39,94,1.56141087069308),(39,97,-1.06614886928922),(39,98,2.44098483230079),(39,107,1.82790612506485),(39,108,4.37186040833766),(39,109,2.0761970885342),(39,111,-2.63406781212806),(39,113,1.15198217719047),(39,116,1.11503570665609),(39,118,-5.70588549455245),(40,88,-0.485396893215735),(40,92,-0.191885128330332),(40,99,-2.07449568163091),(40,104,1.75519577623829),(40,110,-1.47948393200476),(40,116,2.41685232093265),(40,118,1.44154179509873),(41,88,-6.49693288979766),(41,93,2.54583117160558),(41,96,1.0018463698233),(41,97,0.302095095675527),(41,100,3.44153416547136),(41,101,-1.3670003357036),(41,104,0.322321237830744),(41,105,0.261162144840846),(41,106,4.03241828669088),(41,107,-7.0310831019013),(41,109,0.357371745963927),(41,110,-0.224272896511734),(41,111,0.630466628009888),(41,112,7.0827433088168),(42,85,-0.143787957396161),(42,86,1.31806390575884),(42,87,0.442381054109317),(42,99,-1.9754631183813),(42,100,-6.9935758537553),(42,103,-3.70391705069124),(42,109,-0.838084047975097),(42,113,-0.495849482711264),(43,85,-0.289468062379833),(43,88,-0.307626575518052),(43,89,-3.56275368511002),(43,93,-0.498832667012543),(43,97,-2.5959578234199),(43,98,-0.788911099581896),(43,101,1.42033143101291),(43,102,3.61109881893368),(43,103,-0.232436597796564),(43,105,2.60780663472396),(43,110,-0.205507827997681),(43,112,0.0260704367198705),(43,114,-0.661664174321726),(43,116,0.64836573381756),(44,89,0.862109744560076),(44,98,3.88592181157872),(44,99,-4.2635349589526),(45,87,1.29436628315073),(45,88,-0.894787438581499),(45,90,2.54918057802057),(45,91,2.06717123935667),(45,95,-4.69192327646718),(45,98,-2.22182378612629),(45,108,3.97557756279183),(45,109,4.71980956450087),(45,112,0.78972746971038),(45,115,-1.49270607623524),(46,85,-0.118472853785821),(46,89,2.00628681295206),(46,91,2.27301858577227),(46,94,-0.932439649647511),(46,97,1.4057893612476),(46,100,2.72638630329295),(46,101,1.22598193304239),(46,108,-4.70442823572497),(46,112,-1.19643238624226),(47,86,-0.0472731711783203),(47,91,-3.7911008026368),(47,92,1.65852839747307),(47,94,2.33778649250771),(47,95,-2.21842860194708),(47,100,2.77250740073855),(47,101,-1.59787285988952),(47,104,-1.29680776390881),(47,105,5.19576097903378),(47,108,-0.485778374584185),(47,112,0.276261177404096),(47,114,4.18759727774895),(47,118,0.626621295815912),(48,86,-1.79349650563067),(48,91,-2.90591906491287),(48,98,1.46795175023652),(48,99,-1.72425000762963),(48,100,-0.828779717398602),(48,103,-3.99395733512375),(48,105,-1.53852961821345),(48,106,0.86619159520249),(48,111,-4.10769219031343),(48,115,1.17915890987884),(49,87,-0.803178502761925),(49,89,0.936765648365734),(49,93,1.22943815424055),(49,94,2.79118472853786),(49,95,1.91967528305918),(49,102,-1.84990234076968),(49,113,1.04634998626667),(49,114,0.0392811365092931),(50,89,-2.60382396923734),(50,105,1.1825159459212),(50,107,-2.03330332346568),(51,87,1.15907773064364),(51,92,2.13146610919523),(51,97,1.57520905178991),(51,98,-1.37051759392071),(51,103,0.438177129428999),(51,106,-1.01702169866024),(51,112,1.76847132786035),(51,118,-2.47079378643147),(52,89,-0.66689809869686),(52,97,-0.107417523728141),(52,106,-0.292825098422193),(52,110,-4.26339762565996),(52,111,-0.738418225653859),(52,113,0.317865535447249),(52,114,1.42842646565142),(52,118,-0.00617999816888943),(53,88,1.32571642200995),(53,90,-7.00716422009949),(53,92,2.25104525894955),(53,94,0.468955046235542),(53,104,2.38830225531785),(53,105,1.04228339487899),(53,109,3.18482009338664),(54,85,-0.108733634449293),(54,91,-3.43188268684957),(54,94,-1.96394238105411),(54,96,-1.52645954771569),(54,111,-1.84415723136082),(54,112,-0.824915311136204),(54,113,2.43886379589221),(54,118,-2.59097567674795),(55,87,-2.01590014343699),(55,95,0.788407544175542),(55,107,-0.361224707785272),(55,110,-4.71396526993622),(55,117,-1.85734885708182),(56,107,-2.61662648396252),(56,111,0.0515762810144353),(56,113,-2.55316324350719),(56,114,-1.37203970458083),(57,87,-1.21923734244819),(57,90,-0.00841547898800599),(57,91,-0.925798059022797),(57,92,-2.61883907589953),(57,93,4.31414990691855),(57,94,-0.563478499710074),(57,95,-1.20799508651997),(57,96,0.9165929136021),(57,100,2.45208594012268),(57,102,-1.53302102725303),(57,103,1.06505783257546),(57,115,-2.65278328806421),(58,86,2.1523178807947),(58,87,0.150105288857692),(58,89,1.45307779168065),(58,90,-1.91995757927183),(58,95,-0.760345774712363),(58,96,-1.38245033112583),(58,101,-3.49010055848872),(58,103,0.421689504684591),(58,109,2.15247047334208),(58,110,5.66929380169072),(58,113,-1.39808343760491),(58,114,-0.140614032410657),(58,115,-1.83606982634968),(59,85,-0.0725577562791835),(59,86,-2.24242378002258),(59,90,-1.05390331736198),(59,91,-1.2808618427076),(59,93,2.1504715109714),(59,97,-1.73245948667867),(59,98,1.85177922910245),(59,100,5.8559755241554),(59,102,2.36170537430952),(59,112,3.16423535874508),(59,114,-1.61032441175573),(60,85,0.351672414319285),(60,87,-2.09542374950407),(60,90,-1.12315744499039),(60,91,-2.96193578905606),(60,96,3.63559373760186),(60,100,0.339953306680502),(60,101,-1.28635517441328),(60,105,0.341387676625873),(60,107,-1.13207647938475),(60,109,-1.35799737540819),(60,110,3.15482039857173),(60,114,2.11347544785913),(61,89,3.67199468977935),(61,94,-1.73785363322855),(61,96,-0.500518814661092),(61,98,-0.113547929319132),(61,100,2.36816003906369),(61,102,2.35946226386303),(61,103,1.4790795617542),(61,114,0.187131870479446),(61,115,3.44443342387158),(62,93,1.3583635975219),(62,95,-0.683767204809717),(62,107,1.91381572923978),(62,109,-3.46488845484787),(62,110,-2.35660115359966),(62,111,1.12651448103275),(63,87,1.37819299905393),(63,90,0.86466566972869),(63,93,0.164571062349315),(63,97,1.565958128605),(63,100,2.38250373851741),(63,103,1.66852320932646),(63,104,1.19141209143345),(63,108,-2.20347834711753),(63,111,1.96102786339915),(63,114,3.34365749076815),(63,117,-0.665303506576739),(64,87,1.07192449720756),(64,94,1.27347636341441),(64,99,2.35124515518662),(64,110,1.25759147923215),(64,112,1.37379070406201),(64,116,-0.752204962309641),(65,87,-1.28215124973296),(65,88,-0.842913602099673),(65,90,1.65547654652547),(65,97,7.68445387127293),(65,99,2.03010650959807),(65,107,0.161221655934324),(65,110,-3.76104007080294),(65,111,1.67731254005554),(65,114,-2.09349345377972),(65,116,1.43585772270882),(65,117,-1.90164647358623),(66,85,2.12616351817377),(66,102,-1.87877285073397),(66,105,-3.35532700582904),(66,108,4.43881801812799),(66,111,2.566599017304),(66,115,1.26949369792779),(66,118,0.135372478408155),(67,86,0.184926908169805),(67,90,0.55855739005707),(67,92,-0.573671681875057),(67,104,-2.05409405804621),(67,109,1.76458021790216),(67,111,-2.89620654927213),(68,87,-2.02588732566301),(68,88,-2.06410412915433),(68,90,0.936613055818354),(68,93,-1.68883327738273),(68,95,-1.25406659138768),(68,96,0.214079714346751),(68,97,-0.379314554277169),(68,103,2.1225623340556),(68,107,-1.67001098666341),(68,112,0.395825067903684),(68,114,0.452490310373241),(69,87,5.38943144016846),(69,88,-3.57113101596118),(69,92,-1.28322702719199),(69,94,-2.55600909451582),(69,95,2.24719229712821),(69,97,0.518280587176122),(69,108,2.99203466902676),(69,113,1.12720877712333),(69,114,1.31575975829341),(69,118,0.775002288888211),(70,85,-1.90145573290201),(70,86,0.172704245124668),(70,87,-2.38096255378887),(70,90,0.427045503097629),(70,96,1.48617511520737),(70,97,-2.24338129825739),(70,99,2.8698805200354),(70,105,-2.41673024689474),(70,107,-3.15604113895077),(70,109,-1.89801858577227),(70,110,0.139469588305307),(70,111,0.436239204077273),(71,85,0.999710074159978),(71,93,-0.0802636799218726),(71,96,-3.47323526718955),(71,100,1.41183202612384),(71,104,3.00841929380169),(71,106,2.93572801904355),(71,111,4.51921140171514),(71,113,1.11667226172674),(72,94,4.49597918637654),(72,96,-0.464445936460463),(72,99,-1.55149235511338),(72,110,2.43558687093722),(72,112,1.71597949156163),(72,114,-3.12891018402661),(72,115,1.00650044251839),(72,116,0.818430127872555),(73,88,1.37327951902829),(73,94,-1.2415082247383),(73,99,0.624027222510453),(73,100,-1.14955595568712),(73,106,4.37826166570025),(73,110,-1.27140110477004),(73,115,-4.71749015778069),(74,90,0.0243461409344766),(74,94,1.22643208105716),(74,99,-2.06663716544084),(74,102,1.63205359050264),(74,106,2.84600360118412),(74,107,-0.164952543717765),(74,110,2.16620380260628),(74,113,-1.73547318948943),(74,116,-4.16089358195746),(75,85,-1.65311136204108),(75,86,-1.22184667500839),(75,93,-0.305688650166326),(75,98,0.158772545548875),(75,103,3.03241065706351),(75,105,-5.59045686208686),(75,111,-1.50390255439924),(75,117,-0.678273873104038),(76,86,-0.0715659047212134),(76,89,-1.49426252021851),(76,92,-3.8294701986755),(76,94,1.71216467787713),(76,99,-1.47228919339579),(76,101,2.91985839411603),(76,103,-0.0695059053315834),(76,106,-2.78649250770592),(76,110,1.0148167363506),(76,113,1.93292794579913),(77,88,0.121158482619709),(77,91,0.611743522446364),(77,93,-1.56407361064486),(77,98,-2.24738303781243),(77,101,0.187505722220527),(77,102,-0.997310556352427),(77,103,2.55142368846706),(77,104,-1.68126468703269),(77,105,2.06831186864834),(77,109,-0.084772789696951),(78,88,1.49567018646809),(78,93,-0.243537705618458),(78,94,0.491935483870968),(78,101,-0.459631641590625),(78,104,0.880367442854091),(78,110,-0.570131534775841),(78,114,-0.0743507187108978),(78,116,3.34574419385357),(78,117,2.63732566301462),(78,118,1.34083071382794),(79,87,3.97512741477706),(79,92,-3.63578447828608),(79,94,3.56838435010834),(79,107,-0.496078371532334),(79,108,-0.442548905911435),(79,114,-0.128559221167638),(79,118,0.670415356913968),(80,87,0.434873500778222),(80,88,-2.20236823633534),(80,91,2.20947904904324),(80,99,2.0149388103885),(80,101,0.0383007293923765),(80,107,1.96511734366894),(80,113,1.38721884823145),(81,85,0.143074587237159),(81,86,0.689489425336467),(81,90,-1.07700582903531),(81,93,-1.92420728171636),(81,96,0.0930928983428449),(81,97,-2.17144535660878),(81,106,0.666264839625233),(81,107,0.0827051606799524),(81,110,0.942335276345103),(81,115,-1.2384563737907),(82,86,-2.0852534562212),(82,92,0.490127262184515),(82,110,0.241790520950957),(82,112,0.375225074007385),(83,87,-0.261467329935606),(83,91,2.57660145878475),(83,93,1.47893459883419),(83,101,-3.48814355906857),(83,103,-1.1771752067629),(83,105,3.372859889523),(83,108,-2.00776696066164),(84,85,-1.6902676473281),(84,86,-1.379207739494),(84,89,-2.07445753349406),(84,95,-2.91611987670522),(84,99,0.494685964537492),(84,104,2.06942197943052),(84,111,-2.03756828516495),(84,113,-4.94605853450118),(84,114,0.142292550431837),(10,119,-0.0172887356181526),(119,109,2.97744682149724),(58,120,1.71790978728599),(120,118,3.67103335673086),(95,104,1.18250068666646)]
orgname='BHNEAT_14_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()