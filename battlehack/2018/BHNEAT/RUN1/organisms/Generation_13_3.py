edge = [(0,85,1.48422193060091),(0,89,1.47331156346324),(0,90,0.0118259224219489),(0,93,-1.18807031464583),(0,98,0.353373821222571),(0,101,-2.86083559678945),(0,105,-2.08166753135777),(0,108,0.677282021546068),(0,113,-1.69908749656667),(0,114,2.09793389690847),(0,117,-0.208746604815821),(0,118,0.426786095767083),(1,86,2.46543778801843),(1,92,1.08433790093692),(1,98,-0.0855281228064821),(1,102,-2.34569841608936),(1,104,-0.870967741935484),(1,107,-3.22373119296854),(1,108,-0.971861934263131),(1,109,-2.86089663380841),(1,113,2.50010681478317),(2,87,0.166859950560015),(2,88,0.586565752128666),(2,100,0.480819116794336),(2,106,-0.762077700125126),(2,108,2.50019837031159),(2,110,-1.14384899441511),(2,113,0.913449507126072),(2,118,1.54741050447096),(3,89,0.337092196417127),(3,92,-1.97950682088687),(3,97,0.721839045381024),(3,99,2.41796624652852),(3,101,0.73512985625782),(3,103,1.76375621814631),(3,105,2.0926847132786),(3,108,-1.49472029786065),(3,109,-2.87002166814173),(3,111,1.48818933683279),(3,112,0.634403515732292),(3,116,-0.101672414319285),(4,90,0.405301065095981),(4,91,0.662556840723899),(4,97,-3.20638142033143),(4,99,2.29709768974883),(4,101,-2.0553758354442),(4,108,1.87078463087863),(4,113,-0.112033448286386),(4,118,0.489440595721305),(5,86,-0.685354167302469),(5,87,0.538010803552355),(5,89,1.99438459425642),(5,92,-1.30115665150914),(5,93,1.16327402569659),(5,99,-1.46252327036348),(5,104,2.21474349192785),(5,114,2.41050447096164),(5,118,1.26456495864742),(6,89,1.4410077211829),(6,92,-0.823847163304544),(6,94,0.245979186376537),(6,100,1.79790643024995),(6,101,0.185689870906705),(6,103,-2.87153233436079),(6,107,0.256660664693136),(6,110,-0.189642017883847),(6,113,1.28647724845119),(7,85,-1.17824335459456),(7,86,-1.58169804986724),(7,90,-1.18077639088107),(7,95,0.678930021057772),(7,99,1.04148991363262),(7,100,-0.610385448774682),(7,104,-2.37662892544328),(7,106,2.02017273476363),(7,108,-2.2570879238258),(7,112,1.71369060335093),(7,116,-0.251472518082217),(8,92,-0.235480819116794),(8,93,2.10983611560411),(8,95,-0.0148014770958586),(8,99,-2.22692037720878),(8,106,0.127277443769646),(8,107,0.796899319437239),(8,115,1.0485091708121),(8,116,-0.381145664845729),(8,118,-1.28505813776055),(9,85,-2.47918637653737),(9,87,1.14174321726127),(9,98,-0.412610248115482),(9,101,2.34794152653584),(9,103,0.953856013672292),(9,105,-1.43139439069796),(9,106,3.00581377605518),(9,113,1.34516434217353),(10,89,0.840983306375317),(10,96,-0.183874019592883),(10,106,2.0783867915891),(10,108,0.0506149479659413),(10,109,-1.10371715445418),(10,111,1.13277077547533),(10,112,-0.895565660573138),(10,114,-1.59291360209967),(10,115,-0.755073702200385),(10,116,-0.64935758537553),(10,117,0.232734153263955),(11,89,-1.72063356425672),(11,97,-0.981231116672262),(11,105,-0.60307626575518),(11,112,-2.65039521469771),(11,115,0.888927884762108),(12,92,-0.585879085665456),(12,93,2.91714224677267),(12,94,-0.747703482161931),(12,97,0.71507919553209),(12,98,-0.691839350566118),(12,99,-1.73758659627064),(12,108,-2.21623889889218),(12,116,2.13348796044801),(13,86,1.19660023804437),(13,87,0.834971160008545),(13,90,1.20970793786431),(13,99,2.20093386638997),(13,102,2.91032135990478),(13,104,-2.4341410565508),(13,113,-2.2341990417188),(13,116,-2.07925656910916),(13,118,1.06601153599658),(14,90,-3.10788293099765),(14,93,1.77864925077059),(14,95,-0.930433057649464),(14,102,1.23067415387432),(14,104,-0.0170903653065584),(14,106,-0.557557908871731),(14,109,0.0178075502792444),(14,110,-1.88650166325877),(14,111,-1.49543748283334),(15,85,-3.03694265572069),(15,92,-0.957853938413648),(15,99,1.35840937528611),(15,101,-2.93481246375927),(15,104,-2.38863795892209),(15,108,-0.111026337473678),(15,117,0.827112643818476),(16,86,-0.471510971404157),(16,87,-2.20352793969543),(16,88,0.130558183538316),(16,90,-1.42208624530778),(16,91,-2.83860286263619),(16,95,1.21138645588549),(16,97,-0.523056733909116),(16,98,-0.206793420209357),(16,99,-0.265449995422224),(16,101,-0.959456160161138),(16,108,2.41705069124424),(16,110,-0.544434949797052),(17,89,1.02862636188849),(17,96,-0.891644032105472),(17,99,1.01834162419507),(17,101,2.16417432172613),(17,106,-0.541520432142094),(17,107,1.56938383129368),(17,109,1.74468214972381),(18,90,3.00047303689688),(18,91,-1.71567430646687),(18,93,1.21662038026063),(18,99,-1.58474990081484),(18,102,-1.38000122074038),(18,103,-1.89558091982788),(18,104,1.62434766685995),(18,110,0.789635914181951),(18,111,-1.2781304361095),(18,116,1.41224402600177),(18,117,2.70134586626789),(18,118,-2.46531571398053),(19,87,-1.95249794000061),(19,89,-2.06988738670003),(19,93,-0.307702871791742),(19,95,1.53653065584277),(19,101,0.737846003601184),(19,105,1.7219916379284),(19,115,-2.00755333109531),(20,88,-0.264519180883206),(20,101,0.836710715048677),(20,103,-1.51092562639241),(20,104,-1.1605883968627),(20,105,-0.275460066530351),(20,106,-2.06334116641743),(20,111,-1.33724478896451),(20,116,-2.09488204596088),(21,86,1.17839594714194),(21,87,-0.835840937528611),(21,94,-1.1502273628956),(21,96,0.740455336161382),(21,101,0.265312662129581),(21,102,1.55949583422346),(21,105,-2.40478225043489),(21,107,2.47288430433058),(21,108,-1.23053682058168),(22,86,0.93702505569628),(22,88,-2.87092196417127),(22,91,1.80541398358104),(22,92,2.00344859157079),(22,93,-1.49417096469008),(22,98,-2.2282937101352),(22,106,-2.86663411358989),(22,115,2.54269539475692),(22,117,-1.60069582201605),(23,85,-0.303033539841914),(23,86,-3.33225501266518),(23,88,-0.790292062135685),(23,90,0.49458296456801),(23,97,2.47657704397717),(23,104,0.821771904660177),(23,112,0.479445783867916),(23,114,0.19609668263802),(23,115,-0.776970732749413),(23,116,0.0370647297585986),(24,89,-1.30730613116855),(24,90,0.489974669637135),(24,91,0.693441572313608),(24,101,-0.233634449293496),(24,107,-1.01499984740745),(24,108,0.121845149082919),(24,110,-1.65755180516984),(24,112,0.531708731345561),(25,90,-0.426190984832301),(25,92,-1.80021057771538),(25,94,0.411770989104892),(25,98,-1.68321787163915),(25,105,-0.979766228217414),(25,108,-0.0466170232245857),(25,109,0.0531937620166631),(25,115,-0.939512314218574),(26,85,-0.942182683797723),(26,87,-2.25919370097964),(26,89,-1.10278633991516),(26,95,0.928281502731407),(26,98,-0.573503830072939),(26,100,1.38653218176824),(26,101,0.0529953917050691),(26,102,-1.40137943662831),(26,103,-1.94993438520463),(26,104,1.22896511734367),(26,107,2.89352092043825),(26,109,-1.6671346171453),(26,112,-2.59199804681539),(26,113,-0.34766685995056),(26,117,0.691930906094546),(27,85,1.56468398083438),(27,87,0.642277291177099),(27,94,0.0428174687948241),(27,100,2.01882992034669),(27,102,0.425122837000641),(27,103,-0.98139896847438),(27,104,0.681279946287423),(27,105,3.06900234992523),(27,108,-3.0504776146733),(27,110,-0.139103366191595),(27,114,-0.954161198767052),(28,87,-0.0252388073366497),(28,88,-2.20859401226844),(28,97,-0.574358348338267),(28,99,-2.42776268807031),(28,104,0.192373424481948),(28,113,-0.778832361827448),(28,114,2.16847743156224),(29,88,-1.00459303567614),(29,91,1.73116245002594),(29,102,0.374065370647298),(29,105,1.89808343760491),(29,116,-1.44360179448836),(30,95,2.92043824579607),(30,96,2.54168828394421),(30,99,-0.472518082216865),(30,101,1.27715384380627),(30,104,-0.798974578081607),(30,109,1.60385448774682),(30,110,-1.35560167241432),(30,114,-0.880077517014069),(30,118,1.90614032410657),(31,85,-2.12218085268715),(31,92,-1.83375041962951),(31,94,-1.42934965056307),(31,96,-1.24787133396405),(31,99,-2.47474593340861),(31,103,-0.604739524521622),(31,107,1.94578386791589),(31,108,0.911069063386944),(31,109,-1.31382183294168),(31,111,-1.16101565599536),(31,112,2.07487716299936),(31,117,-2.97186193426313),(32,86,-0.624561296426283),(32,87,-1.63586840418714),(32,89,-2.24044007690664),(32,92,-0.278603473006378),(32,98,0.887371440778832),(32,99,2.0199591051973),(32,104,3.14244514297922),(32,106,1.50572222052675),(32,109,0.926023133030183),(32,116,-1.18460646382031),(32,118,0.266975920896023),(33,96,0.381984923856319),(33,98,0.941450239570299),(33,108,0.686483352153081),(33,110,-1.18144779808954),(33,111,-0.517090365306558),(33,114,-1.33288064210944),(34,85,0.919736320078127),(34,90,0.97483748893704),(34,99,-0.739310892056032),(34,104,-0.506897183141575),(34,109,-1.59759819330424),(35,86,-0.0744651631214332),(35,87,-1.09915463728752),(35,97,-1.16550187688833),(35,98,1.70987578966643),(35,100,-0.366130558183538),(35,104,-0.198095645008698),(35,107,0.95692312387463),(35,109,-0.218756675923948),(35,110,-2.89095736564226),(35,112,0.552690206610309),(36,85,0.930951872310556),(36,87,-0.111270485549486),(36,90,0.985442670979949),(36,91,-0.137333292641987),(36,104,1.09080782494583),(36,107,1.35343485824152),(36,109,-0.0695059053315835),(36,112,1.57080294198431),(36,115,2.41470076601459),(36,117,1.82251960814234),(36,118,0.62709433271279),(37,85,0.302026429029206),(37,86,-0.838419751579333),(37,87,0.830790124210333),(37,91,1.68012024292734),(37,99,0.604556413464766),(37,105,0.943632312997833),(37,111,-0.663609729300821),(37,112,-1.27663502914518),(37,118,-0.911618396557512),(38,87,-0.586809900204474),(38,90,-1.38525040437025),(38,103,0.684865871150853),(38,105,-0.689413129062777),(38,106,0.288399914548173),(38,111,-2.22411267433699),(38,115,-2.06295968504898),(39,87,1.74658955656606),(39,89,0.65454573198645),(39,91,-0.946913052766503),(39,94,2.33097323526719),(39,97,-0.462172307504502),(39,98,0.135074922940764),(39,107,-0.427732169560839),(39,108,0.868984038819544),(39,109,0.179280983916745),(39,111,-0.469924008911405),(39,113,3.06190679647206),(39,116,-2.74858851893674),(39,118,1.45379497665334),(40,88,0.749656666768395),(40,92,0.22095400860622),(40,99,2.43984801782281),(40,104,0.218558305612354),(40,110,-0.56503494369335),(40,116,-0.775994140446181),(40,118,1.37508774071474),(41,88,-0.694296090578936),(41,93,-2.07045197912534),(41,96,0.929029206213569),(41,97,-0.156331064790796),(41,100,0.76288644062624),(41,101,-1.10922574541459),(41,104,-0.119708853419599),(41,105,0.225135044404431),(41,106,-1.3074434644612),(41,107,-1.83614612262337),(41,109,0.556337168492691),(41,110,-0.981765190588092),(41,111,0.979934080019532),(41,112,-1.57405316324351),(42,85,-0.199865718558306),(42,86,2.27581102938932),(42,87,-0.150028992584002),(42,99,-0.32807397686697),(42,100,-0.794351023895993),(42,103,-1.044495986816),(42,109,-1.96658223212378),(42,113,0.821329386272774),(43,85,1.61630603961303),(43,88,-0.944700460829493),(43,89,1.63580736716819),(43,93,-0.686788537247841),(43,97,-0.813089388714255),(43,98,-1.5127719962157),(43,101,1.78533280434584),(43,102,2.66779076509903),(43,103,-1.81005279702139),(43,105,-2.59865108188116),(43,110,1.87925351725822),(43,112,0.858500930814539),(43,114,-2.60596026490066),(43,116,-1.9617297891171),(44,89,1.17648854029969),(44,98,2.16803491317484),(44,99,1.69714957121494),(45,87,2.8891262550737),(45,88,-0.207892086550493),(45,90,1.0226905117954),(45,91,2.00621051667837),(45,95,2.18401135288552),(45,98,0.404492324594867),(45,108,-2.50193792535173),(45,109,1.9365520187994),(45,112,2.40575884273812),(45,115,1.64851832636494),(46,85,-1.81646168401135),(46,89,2.41317484054079),(46,91,2.16684469130528),(46,94,-1.69597460860012),(46,97,-0.0446485793633839),(46,100,-3.06595049897763),(46,101,0.490050965910825),(46,108,1.27750480666524),(46,112,0.25807977538377),(47,86,1.71929074983978),(47,91,-0.20044557023835),(47,92,0.801171910763878),(47,94,0.429960020752587),(47,95,-1.25446333201086),(47,100,-1.19035920285653),(47,101,-1.58970915860469),(47,104,0.331888790551469),(47,105,-0.459166234321116),(47,108,2.00888088625752),(47,112,1.90365306558428),(47,114,0.0957518234809412),(47,118,-1.11644337290567),(48,86,0.28713339640492),(48,91,2.09654530472732),(48,98,2.14064455092013),(48,99,1.45130771813105),(48,100,-0.77858821375164),(48,103,-1.1282235175634),(48,105,-0.452986236152226),(48,106,-1.96633808404798),(48,111,-1.19672231208228),(48,115,0.155491805780206),(49,87,-1.48457289345988),(49,89,1.17638172551653),(49,93,-1.47618030335398),(49,94,-0.0803399761955626),(49,95,1.32045960875271),(49,102,0.949980162968841),(49,113,0.248176519058809),(49,114,-1.64810632648701),(50,89,-0.426862392040773),(50,105,1.40806299020356),(50,107,0.118747520371105),(51,87,1.26253547776727),(51,92,-1.91412091433454),(51,97,3.16075624866482),(51,98,-1.88090151676992),(51,103,1.34601886043886),(51,106,0.938871425519578),(51,112,1.60367137668996),(51,118,0.432416760765404),(52,89,-1.99494918668172),(52,97,2.24425489059114),(52,106,0.381710257271035),(52,110,2.30384228034303),(52,111,0.565996276741844),(52,113,-1.97180089724418),(52,114,0.296426282540361),(52,118,-1.3205359050264),(53,88,0.778481398968474),(53,90,-1.54995880001221),(53,92,-0.766563921018097),(53,94,1.8481246375927),(53,104,-0.954268013550218),(53,105,0.56755272072512),(53,109,1.62768944364757),(54,85,-1.00573747978149),(54,91,-1.04594561601611),(54,94,-0.85285500656148),(54,96,2.23815118869594),(54,111,1.37531662953581),(54,112,0.403012176885281),(54,113,2.48336741233558),(54,118,-0.0560625019074068),(55,87,-1.61662648396252),(55,95,-0.365306558427686),(55,107,1.39584032715842),(55,110,0.895413068025758),(55,117,-0.806512649922178),(56,107,-0.0166020691549425),(56,111,-1.46298104800562),(56,113,0.301141392254402),(56,114,-2.34701071199683),(57,87,-0.35026093325602),(57,90,1.66237372966704),(57,91,2.33207190160833),(57,92,2.82566301461837),(57,93,0.114001892147587),(57,94,0.15713980529191),(57,95,-1.72658467360454),(57,96,-1.36748863185522),(57,100,3.34745323038423),(57,102,-2.54295480208747),(57,103,0.594500564592425),(57,115,-0.0386059144871364),(58,86,1.72774437696463),(58,87,-1.25984984893338),(58,89,-1.60397656178472),(58,90,0.281762138737144),(58,95,0.800943021942808),(58,96,1.35814996795557),(58,101,-0.00137333292641987),(58,103,1.05937376018555),(58,109,-1.52706991790521),(58,110,-0.481841486861782),(58,113,1.17325357829524),(58,114,-0.21942808313242),(58,115,-0.526825769829402),(58,118,-3.0115665150914),(59,85,1.91056550798059),(59,86,2.43224890896329),(59,90,-1.59570604571673),(59,91,-1.35090182195502),(59,93,2.09727774895474),(59,97,2.53317361980041),(59,98,1.52694784386731),(59,100,-0.372203741569262),(59,102,2.03714102603229),(59,112,0.573519089327677),(59,114,1.18706320383312),(60,85,0.135776848658712),(60,87,-1.7616657002472),(60,90,2.49591051973022),(60,91,0.842310861537523),(60,96,2.28984954374828),(60,100,-1.01255836664937),(60,101,-0.940183721427046),(60,105,0.0508133182775353),(60,107,-1.0771813104648),(60,109,0.087359233375042),(60,110,1.93395794549394),(60,114,-0.19190038758507),(61,89,-1.38572344126713),(61,94,-2.03468428601947),(61,96,-0.336161381878109),(61,98,0.921048615985595),(61,100,-0.505233924375133),(61,102,0.984832300790429),(61,103,-3.00675984984893),(61,114,-0.840998565630055),(61,115,-1.10957670827357),(62,93,0.534882656331065),(62,95,-1.74222540971099),(62,107,-1.01397747734001),(62,109,1.45744193853572),(62,110,-0.381328775902585),(62,111,-1.33190404980621),(63,87,-0.202002014221625),(63,90,0.364650410473952),(63,93,2.54684591204566),(63,97,-2.20310068056276),(63,100,0.427915280617695),(63,103,0.515442365794855),(63,104,-1.56189153721732),(63,108,0.644917142246773),(63,111,-0.737937559129612),(63,114,-1.51612903225806),(63,117,-0.509781182287057),(64,87,0.529038361766411),(64,94,-1.16710409863582),(64,99,-1.99569689016388),(64,110,0.421674245429853),(64,112,-2.17668691061129),(64,116,-0.241889706106754),(65,87,0.183416241950743),(65,88,-0.0688497573778497),(65,90,1.7833491012299),(65,97,-1.70021668141728),(65,99,-1.69589831232643),(65,107,-0.17650379955443),(65,110,2.25959044160283),(65,111,-1.67664113284707),(65,114,0.142216254158147),(65,116,-1.2788933988464),(65,117,0.610293893246254),(66,85,1.7802972502823),(66,102,2.21852778710288),(66,105,1.77727591784417),(66,108,-1.18700216681417),(66,111,-2.12363048188726),(66,115,-0.51760917996765),(66,118,1.28109073152867),(67,86,2.31589709158605),(67,90,-1.70287179174169),(67,92,-1.09218115787225),(67,104,2.27805413983581),(67,109,0.224845118564409),(67,111,-1.16289254432814),(68,87,2.96282845545824),(68,88,-1.07242042298654),(68,90,-0.741660817285684),(68,93,-2.97198400830103),(68,95,-1.11368144779809),(68,96,-1.67082735679189),(68,97,-1.38177129428999),(68,103,2.71691030610065),(68,107,-1.02504043702506),(68,112,1.66150395214698),(68,114,-1.18074587237159),(69,87,0.371807000946074),(69,88,-3.12060914944914),(69,92,2.43102816858425),(69,94,-1.73825800347911),(69,95,-1.38080996124149),(69,97,-0.387432477797784),(69,108,1.17839594714194),(69,113,-2.71884823145238),(69,114,0.210654011658071),(69,118,-0.0657826471755119),(70,85,-2.80721457564013),(70,86,-0.567491683706168),(70,87,-0.25693533127842),(70,90,0.213812677388836),(70,96,-1.18488113040559),(70,97,-1.45979186376537),(70,99,-1.09706411938841),(70,105,-1.60097048860134),(70,107,0.992828150273141),(70,109,-1.05623035370953),(70,110,0.0257881405072176),(70,111,-0.88670003357036),(71,85,-1.27626880703146),(71,93,-1.00137333292642),(71,96,-0.501480147709586),(71,100,2.42751853999451),(71,104,-1.7604602191229),(71,106,-0.119617297891171),(71,111,0.767967772453993),(71,113,0.11040070802942),(72,94,-1.41373943296609),(72,96,-2.94769127475814),(72,99,1.22675252540666),(72,110,-1.68317209387494),(72,112,1.97859126560259),(72,114,-1.61114841151158),(72,115,0.147251808221686),(72,116,-0.566667683950316),(73,88,0.179189428388318),(73,94,-2.33191930906095),(73,99,-0.311136204107791),(73,100,-0.383220923490097),(73,106,2.08403271584216),(73,110,2.25844599749748),(73,115,1.43137913144322),(74,90,-1.26818140202033),(74,94,1.54512161626026),(74,99,-1.03213599047823),(74,102,-1.68376720480972),(74,106,-0.0511032441175573),(74,107,0.863902706991791),(74,110,1.49877925962096),(74,113,0.0655690176091799),(74,116,0.927625354777673),(75,85,-1.1122013000885),(75,86,0.253303628650777),(75,93,1.07867671742912),(75,98,0.329279457991272),(75,103,-1.37261574144719),(75,105,-1.37542344431898),(75,111,1.96287423322245),(75,117,0.840083010345775),(76,86,-2.57470931119724),(76,89,-0.183690908536027),(76,92,2.08215582750938),(76,94,-0.901745658742027),(76,99,1.71175267799921),(76,101,-0.343333231604968),(76,103,0.915128025147252),(76,106,1.54841761528367),(76,110,-2.79723502304148),(76,113,2.35671559801019),(77,88,-0.69953001495407),(77,91,-2.15697195348979),(77,93,-1.4303262428663),(77,98,-1.14719077120273),(77,101,-0.831965086825159),(77,102,0.220084231086154),(77,103,2.32100894192328),(77,104,0.695516830957976),(77,105,0.234015930661946),(77,109,-2.27787102877895),(78,88,-1.42939542832728),(78,93,2.92002624591815),(78,94,2.81566820276498),(78,101,-0.432950834681234),(78,104,1.69359416486099),(78,110,-1.28289132358776),(78,114,-2.79984435560167),(78,116,1.3197729422895),(78,117,1.4940183721427),(78,118,0.105121005890072),(79,87,1.94082461012604),(79,92,1.07051301614429),(79,94,1.68550675984985),(79,107,-1.7462843714713),(79,108,2.57074190496536),(79,114,1.69652394177068),(79,118,-0.299295022431104),(80,87,-1.28514969328898),(80,88,-0.267952513199255),(80,91,-0.413525803399762),(80,99,0.479476302377392),(80,101,0.50373851741081),(80,107,1.99552903836177),(80,113,-0.420850245674001),(81,85,0.799432355723746),(81,86,-1.77245399334697),(81,90,-3.07856990264596),(81,93,0.258171330912198),(81,96,-1.9658650471511),(81,97,1.10681478316599),(81,106,-0.0124668111209448),(81,107,2.34380626850185),(81,110,0.010208441419721),(81,115,0.65546128727073),(82,86,0.294259468367565),(82,92,-2.3228247932371),(82,110,-1.04097109897153),(82,112,-0.676595355082858),(83,87,-2.20091860713523),(83,91,1.87011322367016),(83,93,2.27744376964629),(83,101,-1.7412640766625),(83,103,1.86536759544664),(83,105,-0.994109927671133),(83,108,-0.485122226630451),(84,85,0.00477614673299354),(84,86,-0.590319528794214),(84,89,2.42461928159429),(84,95,0.568712424085208),(84,99,1.7184972685934),(84,104,1.11690115054781),(84,111,-0.0164189580980865),(84,113,-1.26392406994842),(84,114,0.900769066438795),(35,105,-1.60777611621448)]
orgname='BHNEAT_13_3'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()