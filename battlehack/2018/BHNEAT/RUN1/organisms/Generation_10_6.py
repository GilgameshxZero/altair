edge = [(0,85,1.53289895321512),(0,89,1.43516342661824),(0,90,0.897129734183782),(0,93,0.448438978240303),(0,98,1.41335795159764),(0,101,-2.34864345225379),(0,105,-0.3116016113773),(0,108,-1.09286782433546),(0,113,0.112643818475906),(0,114,1.32126834925382),(0,117,0.87466048158208),(0,118,-1.00712607196265),(1,86,1.4047059541612),(1,92,2.72112186040834),(1,98,-0.486922818689535),(1,102,-1.90310373241371),(1,104,-2.24342326120792),(1,107,-2.72666096987823),(1,108,-0.822626422925504),(1,109,2.57323679311502),(1,113,-0.907475508896145),(2,87,1.81664479506821),(2,88,-0.447477645191809),(2,100,1.38039796136357),(2,106,0.706472975859859),(2,108,0.535111545152135),(2,110,-1.17390972624897),(2,113,0.903683584093753),(2,118,-2.06178472243416),(3,89,0.184110538041322),(3,92,-0.250694296090579),(3,97,-0.215804010132145),(3,99,-0.584368419446394),(3,101,-2.07097079378643),(3,103,-1.35172582171087),(3,105,2.70297860652486),(3,108,1.36461226233711),(3,109,0.111598559526353),(3,111,-0.791314432203131),(3,112,-0.114986114078188),(3,116,-1.52772606585894),(4,90,0.173055207983642),(4,91,0.971800897244179),(4,97,0.237174596392712),(4,99,0.233207190160833),(4,101,-0.621311075167089),(4,108,0.998222296823023),(4,113,-0.0965453047273171),(4,118,0.78553117465743),(5,86,-1.53358561967833),(5,87,-1.07321390423292),(5,89,-1.31081575975829),(5,92,0.975356303598132),(5,93,-1.48229926450392),(5,99,0.491470076601459),(5,104,2.51313821832942),(5,114,1.39439069795831),(5,118,1.52412488174078),(6,89,2.00479140598773),(6,92,-0.303048799096652),(6,94,-0.275734733115634),(6,100,2.66707358012635),(6,101,-0.675695059053316),(6,103,1.08267464217048),(6,107,0.621234778893399),(6,110,0.803201391644032),(6,113,-0.458647419660024),(7,85,-2.0498138370922),(7,86,2.90019684438612),(7,90,0.441480758079775),(7,95,0.816415906247139),(7,99,2.62967314676351),(7,100,3.65045625171667),(7,104,1.42904446546831),(7,106,0.336657307657094),(7,108,2.35773796807764),(7,112,-1.06042664876247),(7,116,0.411236915189062),(8,92,-1.4057893612476),(8,93,1.22163304544206),(8,95,-0.616992706076235),(8,99,2.66370128482925),(8,106,1.13888973662526),(8,107,-1.12164677877132),(8,115,0.756103701895199),(8,116,1.65039521469771),(8,118,-0.0716040528580584),(9,85,1.92921231727042),(9,87,2.50408948026978),(9,98,0.949781792657247),(9,101,-1.63956114383374),(9,103,2.18672750022889),(9,105,-0.595141453291421),(9,106,3.05388042847987),(9,113,2.14890743736076),(10,89,-3.57695242164373),(10,96,2.22438734092227),(10,106,2.59011352885525),(10,108,2.89280373546556),(10,109,2.36543626209296),(10,111,-0.743629261146886),(10,112,-0.816293832209235),(10,114,0.182638019959105),(10,115,2.21132541886654),(10,116,-1.76396984771264),(10,117,-0.0643787957396161),(11,89,-0.745246742149113),(11,97,2.53644672994171),(11,105,1.69935453352458),(11,112,0.432439649647511),(11,115,0.258415478988006),(12,92,-1.90545365764336),(12,93,1.32384716330454),(12,94,-0.736716818750572),(12,97,-1.06002990813929),(12,98,1.89689321573534),(12,99,-0.712393566698203),(12,108,1.1393475142674),(12,116,-1.27466658528397),(13,86,3.72109134189886),(13,87,-0.758705404828028),(13,90,0.127216406750694),(13,99,0.787469100009155),(13,102,2.72087771233253),(13,104,-1.93585009308145),(13,113,-0.568041016876736),(13,116,1.90958891567736),(13,118,0.824457533494064),(14,90,-0.366252632221442),(14,93,1.58066042054506),(14,95,-0.162739951780755),(14,102,-0.781449324015015),(14,104,0.470328379161961),(14,106,-0.534211249122593),(14,109,2.06788842432936),(14,110,-0.497772148808252),(14,111,0.317819757683035),(15,85,-2.82396160771508),(15,92,1.05720694601276),(15,99,-3.80667287209693),(15,101,-0.829721976378674),(15,104,1.11152989288003),(15,108,-2.44073305459761),(15,117,1.26528214362011),(16,86,-2.08090456862087),(16,87,-3.02455214087344),(16,88,-0.888729514450514),(16,90,3.43635364848781),(16,91,-0.155720694601276),(16,95,-0.732566301461837),(16,97,-2.61265907773064),(16,98,0.758888515884884),(16,99,2.87089907528916),(16,101,2.9012115848262),(16,108,-0.808297982726524),(16,110,-0.272896511734367),(17,89,1.1674779503769),(17,96,-0.0278939176610614),(17,99,-1.39963988158818),(17,101,0.535706656086917),(17,106,-1.8966338084048),(17,107,1.38749351481674),(17,109,-0.304254280220954),(18,90,1.62772759178442),(18,91,-0.32128360850856),(18,93,0.455885494552446),(18,99,1.70125431073946),(18,102,-0.315439313943907),(18,103,-0.4728537858211),(18,104,-0.223853267006439),(18,110,3.12697225867489),(18,111,1.30281991027558),(18,116,-2.48432111575671),(18,117,1.5919217505417),(18,118,-1.6814096499527),(19,87,-0.627681814020203),(19,89,0.889858699301126),(19,93,-1.97225867488632),(19,95,1.30802331614124),(19,101,-1.16582232123783),(19,105,0.426938688314463),(19,115,0.353205969420453),(20,88,0.532120731223487),(20,101,1.59419537949767),(20,103,-1.41578417310099),(20,104,-1.20134586626789),(20,105,1.48942533646657),(20,106,-0.0569093905453658),(20,111,-2.67975402081362),(20,116,-1.3254341257973),(21,86,0.0280007324442275),(21,87,-0.0168767357402265),(21,94,-1.17860957670827),(21,96,0.066606646931364),(21,101,1.63597521897031),(21,102,-1.69855342265084),(21,105,0.421246986297189),(21,107,-0.733542893765069),(21,108,1.74425489059114),(22,86,1.146534623249),(22,88,-1.68993194372387),(22,91,-2.4813684499649),(22,92,-1.98425244911039),(22,93,-0.0145573290200506),(22,98,0.00352488784447769),(22,106,1.48091830195013),(22,115,-0.760093997009186),(22,117,-1.91820276497696),(23,85,2.98239082003235),(23,86,0.570528275399029),(23,88,0.550347911008026),(23,90,-1.95368816187017),(23,97,2.19643238624226),(23,104,-0.780373546555986),(23,112,-0.787072359385968),(23,114,0.670506912442396),(23,115,-1.78125858333079),(23,116,-2.19780571916868),(24,89,-0.740630817590869),(24,90,0.994247260963775),(24,91,0.913792840357677),(24,101,0.086809900204474),(24,107,2.08056886501663),(24,108,0.274010437330241),(24,110,-1.00136570329905),(24,112,0.572115237891781),(25,90,-0.00225836970122384),(25,92,-1.24832911160619),(25,94,0.460798974578082),(25,98,2.21597949156163),(25,105,1.55716116824854),(25,108,2.53097628711814),(25,109,-1.86825159459212),(25,115,1.86977752006592),(26,85,-1.23593859675893),(26,87,-0.229522080141606),(26,89,0.60369426557207),(26,95,2.42826624347667),(26,98,-1.52640614032411),(26,100,2.37617114780114),(26,101,2.57596057008576),(26,102,-2.13714255195776),(26,103,1.70816675313578),(26,104,0.829706717123936),(26,107,0.232459486678671),(26,109,2.44042786950285),(26,112,0.934720908230842),(26,113,0.994384594256417),(26,117,-2.42559587389752),(27,85,-0.138515884884182),(27,87,-2.16275521103549),(27,94,1.09913937803278),(27,100,1.13053529465621),(27,102,0.336924344615009),(27,103,1.85872981963561),(27,104,1.55235450300607),(27,105,0.213042085024568),(27,108,-1.15138706625568),(27,110,1.60251167332987),(27,114,-3.01921140171514),(28,87,0.985229041413617),(28,88,1.59996337778863),(28,97,1.64639728995636),(28,99,-1.584070863979),(28,104,0.195806756797998),(28,113,0.467177343058565),(28,114,1.40887173070467),(29,88,-0.894909512619404),(29,91,3.01921140171514),(29,102,1.80450605792413),(29,105,1.08190404980621),(29,116,-2.0607165746025),(30,95,1.43304239020966),(30,96,1.45698416089358),(30,99,0.415189062166204),(30,101,-1.63538010803552),(30,104,-1.31759849848933),(30,109,-1.83693197424238),(30,110,0.41247291482284),(30,114,-0.353526413769952),(30,118,-1.3321024201178),(31,85,-0.639072847682119),(31,92,-0.519180883205665),(31,94,-2.30671864986114),(31,96,0.132251960814234),(31,99,1.74726096377453),(31,103,0.831736198004089),(31,107,-0.358211004974517),(31,108,1.31310464796899),(31,109,0.846026490066225),(31,111,-1.57904293954283),(31,112,-2.03573717459639),(31,117,-0.217719046601764),(32,86,-1.94452497940001),(32,87,2.11789300210578),(32,89,-1.18582720419935),(32,92,-0.493202002014222),(32,98,-1.21066164128544),(32,99,0.52691732535783),(32,104,-1.44421979430525),(32,106,0.501548814355907),(32,109,3.09390545365764),(32,116,-1.70883816034425),(32,118,1.83074434644612),(33,96,1.89673299356059),(33,98,1.92391735587634),(33,108,-1.00904873805963),(33,110,1.28891872920927),(33,111,1.41572313608203),(33,114,-1.3510773033845),(34,85,0.0568254646443067),(34,90,-1.03006836146123),(34,99,1.15573595385601),(34,104,1.18344676046022),(34,109,-1.3691671498764),(35,86,-1.75748466444899),(35,87,3.00306711020234),(35,97,-0.798554948576311),(35,98,0.990020447401349),(35,100,1.44602038636433),(35,104,1.91943113498337),(35,107,-1.97674489577929),(35,109,-2.52847376934111),(35,110,-2.47491378521073),(35,112,1.09897152623066),(36,85,-2.16919461653493),(36,87,-1.75728629413739),(36,90,0.00267036957914968),(36,91,1.82634205145421),(36,104,-0.0460829493087558),(36,107,-0.610736411633656),(36,109,0.751518295846431),(36,112,-0.951246681112095),(36,115,1.00573747978149),(36,117,0.850810266426588),(36,118,1.09906308175909),(37,85,0.533738212225715),(37,86,-0.309305093539232),(37,87,-1.42170476393933),(37,91,2.54913480025636),(37,99,-1.59166234321116),(37,105,-0.544442579424421),(37,111,-2.30283516953032),(37,112,2.2642750328074),(37,118,0.525551622058779),(38,87,-0.752067629016999),(38,90,-1.17932676168096),(38,103,-0.883632923368023),(38,105,-1.00988799707022),(38,106,-0.241248817407758),(38,111,-0.969222083193457),(38,115,-0.689016388439589),(39,87,-0.400616473891415),(39,89,1.0186315500351),(39,91,-3.79482406079287),(39,94,-0.876621295815912),(39,97,0.307351908932768),(39,98,-0.202764976958525),(39,107,1.48059022797327),(39,108,2.60831019013031),(39,109,2.67058320871609),(39,111,0.0178838465529344),(39,113,0.857631153294473),(39,116,0.0387813959166235),(39,118,-1.14020203253273),(40,88,-0.0659733878597371),(40,92,-1.93411053804132),(40,99,-1.8914151432844),(40,104,-2.03973509933775),(40,110,0.265297402874844),(40,116,-2.99873348185675),(40,118,-1.81829279457991),(41,88,0.964995269631031),(41,93,-0.279877620777001),(41,96,0.254341257972961),(41,97,1.70575579088717),(41,100,2.01120792260506),(41,101,3.56231879634999),(41,104,0.519165623950926),(41,105,-1.77649769585253),(41,106,-1.98884548478652),(41,107,-0.641193884090701),(41,109,-0.867275002288888),(41,110,-1.74205755790887),(41,111,-3.24237800225837),(41,112,-1.66370128482925),(42,85,0.658619953001495),(42,86,0.959929197058016),(42,87,0.357112338633381),(42,99,-1.91732535782952),(42,100,-2.05446028015992),(42,103,-0.774178289132359),(42,109,-3.32953886532182),(42,113,-2.0716422009949),(43,85,-2.78093813898129),(43,88,1.48251289407025),(43,89,-1.90140232551042),(43,93,-1.6088061159093),(43,97,1.30602435377056),(43,98,-0.276314584795679),(43,101,1.38606677449873),(43,102,0.683400982696005),(43,103,-0.902317880794702),(43,105,-2.21686452833644),(43,110,0.259193700979644),(43,112,2.80077517014069),(43,114,-3.13263344218268),(43,116,2.38830225531785),(44,89,-0.469527268288217),(44,98,0.177350688192389),(44,99,-1.64058351390118),(45,87,1.43694112979522),(45,88,1.26893673512986),(45,90,-0.545274208807642),(45,91,1.57217627491073),(45,95,2.8379848628193),(45,98,2.08201849421674),(45,108,2.69631794183172),(45,109,2.38773766289254),(45,112,-0.694692831202124),(45,115,1.04379406109806),(46,85,1.46215704824976),(46,89,-1.26432081057161),(46,91,-0.626361888485366),(46,94,-1.79554124576556),(46,97,0.810594500564592),(46,100,-2.34079256569109),(46,101,-1.51255836664937),(46,108,-2.72988067262795),(46,112,0.573694570757164),(47,86,-0.795892208624531),(47,91,-1.62817773979919),(47,92,-1.48241370891446),(47,94,0.419660023804437),(47,95,2.12881862849818),(47,100,1.55531479842525),(47,101,-0.421613208410901),(47,104,-1.52603991821039),(47,105,2.36799218726157),(47,108,2.46559038056581),(47,112,1.06805627613147),(47,114,0.172429578539384),(47,118,0.0306558427686392),(48,86,1.15309610278634),(48,91,-1.61994537186804),(48,98,0.594363231299783),(48,99,2.04505294961394),(48,100,0.974356822412793),(48,103,3.1923352763451),(48,105,-2.80237739188818),(48,106,-1.8457136753441),(48,111,1.20523697622608),(48,115,1.70117801446577),(49,87,-0.135586107974487),(49,89,-0.457655568102054),(49,93,2.46411023285623),(49,94,1.36341441084017),(49,95,2.16451002533036),(49,102,2.19086275826289),(49,113,0.557100131229591),(49,114,2.49756614886929),(50,89,0.209372234260079),(50,105,2.31019013031404),(50,107,-1.6607104709006),(51,87,1.06828516495254),(51,92,-0.982360301522874),(51,97,1.71883297219764),(51,98,0.600367748039186),(51,103,-2.31958983123264),(51,106,0.42116306039613),(51,112,2.60078737754448),(51,118,2.3766747032075),(52,89,2.83132419812616),(52,97,0.64364299447615),(52,106,-2.76776177251503),(52,110,-2.00781273842586),(52,111,1.47781304361095),(52,113,-0.448225348673971),(52,114,-2.43383587145604),(52,118,3.14238410596027),(53,88,-1.43517868587298),(53,90,0.892971587267678),(53,92,-0.0485396893215735),(53,94,2.25432599871822),(53,104,-0.756889553514206),(53,105,0.422894985808893),(53,109,-1.56012146366771),(54,85,1.52208014160588),(54,91,-0.0155644398327586),(54,94,-0.466185491500595),(54,96,0.76601458784753),(54,111,2.91970580156865),(54,112,0.336634418774987),(54,113,1.59576708273568),(54,118,2.18021179845576),(55,87,-1.78318124942778),(55,95,-2.0231101413007),(55,107,-2.08952604754784),(55,110,-2.45658742027039),(55,117,-0.203238013855403),(56,107,1.2468260750145),(56,111,-0.540490432447279),(56,113,-4.05927457502976),(56,114,0.561784722434156),(57,87,0.683782464064455),(57,90,-1.37543870357372),(57,91,-1.57620471816157),(57,92,-1.01867732779931),(57,93,1.37395855586413),(57,94,1.60982085634938),(57,95,-2.24503311258278),(57,96,1.39291055024873),(57,100,-1.33675649281289),(57,102,-1.59714804528947),(57,103,1.42132328257088),(57,115,0.728629413739433),(58,86,0.858043153172399),(58,87,1.13936277352214),(58,89,1.09597308267464),(58,90,0.976325266273995),(58,95,2.92316965239418),(58,96,-1.68618579668569),(58,101,-1.87130344553972),(58,103,1.41740928373058),(58,109,0.98147526474807),(58,110,-1.74717703787347),(58,113,1.4449446089053),(58,114,-1.22955259865108),(58,115,-1.20538956877346),(58,118,0.348826563310648),(59,85,0.448271126438185),(59,86,0.838381603442488),(59,90,1.85059663686026),(59,91,-0.0455488753929257),(59,93,-0.374797814874721),(59,97,0.586092715231788),(59,98,2.28556169316691),(59,100,-2.73756370738853),(59,102,-1.9873500778222),(59,112,1.08851893673513),(59,114,0.741889706106754),(60,85,0.550828577532273),(60,87,1.67113254188665),(60,90,-2.29024628437147),(60,91,0.609912411877804),(60,96,0.15134128849147),(60,100,-0.702490310373241),(60,101,-0.096461378826258),(60,105,-2.90894802697836),(60,107,-1.66786706137272),(60,109,-0.0378963591418194),(60,110,-1.26215399639882),(60,114,1.24349955748161),(61,89,-2.41555528427992),(61,94,-2.06207464827418),(61,96,2.3959929197058),(61,98,0.149159215063936),(61,100,1.61732840968047),(61,102,1.73394726401563),(61,103,1.28418073061312),(61,114,-0.874645222327342),(61,115,0.185094759971923),(62,93,-1.83114108706931),(62,95,-2.76947843867306),(62,107,-1.27384258552812),(62,109,0.54886776329844),(62,110,2.22205267494736),(62,111,1.31482894375439),(63,87,-2.05886257515183),(63,90,-0.798409985656301),(63,93,-2.21465193639943),(63,97,2.34171575060274),(63,100,1.74055452131718),(63,103,-1.19740897854549),(63,104,2.21637623218482),(63,108,-2.81954405346843),(63,111,-1.88426618243965),(63,114,-1.24695577867977),(63,117,1.27478865932188),(64,87,1.75275429548021),(64,94,0.530579546494949),(64,99,-2.42837305825983),(64,110,1.88801232947783),(64,112,0.320337534714805),(64,116,-2.13121433149205),(65,87,0.306299020355846),(65,88,1.73441267128513),(65,90,0.733970152897732),(65,97,-2.91630298776208),(65,99,-2.99915311136204),(65,107,1.5523468733787),(65,110,0.750289925840022),(65,111,-0.0923490096743675),(65,114,-2.29131443220313),(65,116,-1.72392956328013),(65,117,-1.59833063753166),(66,85,-0.28827784051027),(66,102,-0.9586779381695),(66,105,1.00298318430128),(66,108,1.07300027466659),(66,111,2.84488967558824),(66,115,-1.3848689230018),(66,118,0.474738303781243),(67,86,0.0268639179662464),(67,90,0.0956602679525133),(67,92,-0.22628711813715),(67,104,2.85946226386303),(67,109,-1.31939146092105),(67,111,0.95440534684286),(68,87,2.64295632801294),(68,88,0.0379955442976165),(68,90,0.515839106418043),(68,93,-1.64288766136662),(68,95,0.954824976348155),(68,96,1.36164433729057),(68,97,-1.77462080751976),(68,103,1.71208838160344),(68,107,-0.574968718527787),(68,112,1.1642048402356),(68,114,-0.0132984405041658),(69,87,-0.552064577166051),(69,88,0.508957182531205),(69,92,1.23371074556719),(69,94,1.10917233802301),(69,95,0.750488296151616),(69,97,-0.508667256691183),(69,108,-1.50961333048494),(69,113,-0.82448805200354),(69,114,-1.42582476271859),(69,118,0.990844447157201),(70,85,-0.744621112704856),(70,86,1.29064302499466),(70,87,1.59138767662587),(70,90,0.531250953703421),(70,96,-1.29985961485641),(70,97,-1.28156376842555),(70,99,0.501518295846431),(70,105,-2.36877040925321),(70,107,-1.39126255073702),(70,109,-0.24336985381634),(70,110,0.0257881405072176),(70,111,0.261101107821894),(71,85,-0.40042573320719),(71,93,0.728644672994171),(71,96,-0.595248268074587),(71,100,0.801881466109195),(71,104,-0.129512924588763),(71,106,-0.0711310159611803),(71,111,0.566728720969268),(71,113,0.171361430707724),(72,94,2.24085207678457),(72,96,-0.502243110446486),(72,99,-0.252708517715995),(72,110,0.997726371044038),(72,112,-0.97323526718955),(72,114,0.623676259651479),(72,115,-2.3254341257973),(72,116,0.718008972441786),(73,88,4.0310831019013),(73,94,-0.440046388134403),(73,99,-3.5800119022187),(73,100,-0.486678670613727),(73,106,1.0010834070864),(73,110,0.158848841822565),(73,115,-2.06103701895199),(74,90,0.568689535203101),(74,94,1.55858027893918),(74,99,-0.451826532792138),(74,102,-0.518723105563524),(74,106,-1.42863246559038),(74,107,-2.31968138676107),(74,110,-1.3370006408887),(74,113,0.519379253517258),(74,116,-1.24197363200781),(75,85,-2.02012695699942),(75,86,-1.03930784020508),(75,93,-0.572649311807611),(75,98,0.93267616809595),(75,103,0.977729117709891),(75,105,1.81173894466994),(75,111,0.924375133518479),(75,117,-0.776024658955657),(76,86,-0.379589220862453),(76,89,2.93854335154271),(76,92,-0.341776787621693),(76,94,-1.35006256294443),(76,99,0.521111178930021),(76,101,-0.343333231604968),(76,103,-0.936124759666738),(76,106,-1.09906308175909),(76,110,-1.0626850184637),(76,113,-0.232932523575549),(77,88,0.0120090334788049),(77,91,1.44734031189917),(77,93,1.02561265907773),(77,98,1.09123508407849),(77,101,1.02401806695761),(77,102,1.91999572740867),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,2.00605792413099),(77,109,1.6451307718131),(78,88,-2.67630542924284),(78,93,-1.43633838923307),(78,94,0.788933988464004),(78,101,1.08539078951384),(78,104,-1.71662038026063),(78,110,-2.70657979064303),(78,114,-3.41555528427992),(78,116,0.232322153386029),(78,117,-3.44792016357921),(78,118,-1.64052247688223),(79,87,0.894375438703574),(79,92,0.609912411877804),(79,94,0.571924497207556),(79,107,0.476836451307718),(79,108,-1.67294839320048),(79,114,0.807092501602222),(79,118,-1.63295388653218),(80,87,0.390560625019074),(80,88,-0.401318399609363),(80,91,-1.49134800256355),(80,99,2.01913510544145),(80,101,-0.187353129673147),(80,107,0.89150669881283),(80,113,1.01001007110813),(81,85,-0.0665303506576739),(81,86,0.195646534623249),(81,90,0.381237220374157),(81,93,-0.228713339640492),(81,96,-0.917783135471664),(81,97,-2.40958891567736),(81,106,0.500473036896878),(81,107,2.55407879879147),(81,110,0.156468398083437),(81,115,-1.87490462965789),(82,86,1.79120761741997),(82,92,-0.984527115695669),(82,110,-0.479400006103702),(82,112,0.838831751457259),(83,87,0.882747886593219),(83,91,-0.295175023651845),(83,93,-1.46649067659536),(83,101,-0.454908902249214),(83,103,0.509086886196478),(83,105,1.55066072573016),(83,108,0.31328012939848),(84,85,1.57403790398877),(84,86,0.152500991851558),(84,89,-0.605166783654286),(84,95,-0.281731620227668),(84,99,-1.78250984221931),(84,104,-0.0751518295846431),(84,111,-1.03218939786981),(84,113,-0.465834528641621),(84,114,1.63869136631367),(35,105,-1.447874385815)]
orgname='BHNEAT_10_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()