edge = [(0,85,-1.59295937986389),(0,89,-1.85614337595752),(0,90,-0.204092532120731),(0,93,-1.25884273812067),(0,98,1.38777581102939),(0,101,-0.982840968047121),(0,105,-0.762977996154668),(0,108,0.408223212378308),(0,113,1.4835352641377),(0,114,-0.443433942686239),(0,117,2.84360026856288),(0,118,-1.02684865871151),(1,86,-0.258026367992187),(1,92,2.83769493697928),(1,98,-0.374385814996796),(1,102,-1.94159520249031),(1,104,-1.6900463881344),(1,107,0.240234076967681),(1,108,-3.64131595812861),(1,109,-2.14973906674398),(1,113,1.63335062715537),(2,87,-1.5070879238258),(2,88,-1.11812189092685),(2,100,-2.18565172276986),(2,106,0.569750053407392),(2,108,-0.716948454237495),(2,110,-2.65367595446638),(2,113,-1.5886486404004),(2,118,0.542359691152684),(3,89,-0.584574419385357),(3,92,-0.534836878566851),(3,97,1.54618213446455),(3,99,-1.17587817011017),(3,101,-2.13907284768212),(3,103,-0.680700094607379),(3,105,4.21818445387127),(3,108,-0.432126834925382),(3,109,-3.47853022858364),(3,111,0.567140720847194),(3,112,0.874874111148412),(3,116,-2.58072908719138),(4,90,2.56673635059664),(4,91,-1.7176122318186),(4,97,0.339518417920469),(4,99,2.46978667561876),(4,101,0.267159031952879),(4,108,-1.14444410534989),(4,113,-0.778061769463179),(4,118,0.682226020081179),(5,86,-1.78028199102756),(5,87,-1.18590350047304),(5,89,-2.15507217627491),(5,92,0.852328562273019),(5,93,3.79755546739097),(5,99,0.91743217261269),(5,104,-0.713583788567766),(5,114,-2.15720084231086),(5,118,-0.769226660969878),(6,89,2.40340891750847),(6,92,-0.449385052034059),(6,94,-1.47011474959563),(6,100,1.80753501998962),(6,101,2.25083925901059),(6,103,1.60008545182653),(6,107,1.28936124759667),(6,110,-2.415929136021),(6,113,1.61114841151158),(7,85,0.758728293710135),(7,86,-0.532868434705649),(7,90,0.769371623889889),(7,95,1.9236808374279),(7,99,1.8231452375866),(7,100,0.795922727134007),(7,104,1.35769219031343),(7,106,0.858943449201941),(7,108,0.558412427137059),(7,112,0.530388805810724),(7,116,1.06734672078616),(8,92,-1.11835077974792),(8,93,1.95600756859035),(8,95,-0.244598223822749),(8,99,-2.0929059724723),(8,106,0.486922818689535),(8,107,-0.337199011200293),(8,115,0.211272011474959),(8,116,-1.70598467970824),(8,118,0.86756492812891),(9,85,-0.769043549913022),(9,87,1.4663075655385),(9,98,-0.569467757194739),(9,101,-3.39189580980865),(9,103,3.60065004425184),(9,105,0.588099307229835),(9,106,2.35981322672201),(9,113,-0.673390911587878),(10,89,-2.49285866878262),(10,96,-1.43550675984985),(10,106,2.34089175084689),(10,108,0.804231391338847),(10,111,0.862063966795862),(10,112,-2.63916440321055),(10,114,-0.275826288644063),(10,115,-1.55935087130345),(10,116,-2.62829218420972),(10,117,-0.295999023407697),(11,89,-0.883648182622761),(11,97,4.99814600054933),(11,105,0.429479354228339),(11,112,-0.236571855830561),(11,115,-1.179120761742),(12,92,2.22202215643788),(12,93,-2.69242683187353),(12,94,-2.22148045289468),(12,97,-1.10580767235328),(12,98,3.82917264320811),(12,99,3.30845820490127),(12,108,-1.43986327707755),(12,116,0.587252418591876),(13,86,0.0927762688070315),(13,87,-1.01464125492111),(13,90,-1.67882320627461),(13,99,0.21713919492172),(13,102,1.93632312997833),(13,104,1.40847499008148),(13,113,-3.78858302560503),(13,116,0.201086458937346),(13,118,0.158162175359355),(14,90,-3.81261635181738),(14,93,-0.391384624774926),(14,95,-0.64889980773339),(14,102,3.10683004242073),(14,104,-0.249107333597827),(14,106,0.0652867213965269),(14,109,2.03505050813318),(14,110,-1.61740470595416),(14,111,1.5619449446089),(15,85,-0.953024384289071),(15,92,-0.50389110995819),(15,99,1.68218024231697),(15,101,2.09814752647481),(15,104,-4.26747184667501),(15,108,1.97106845301675),(15,117,3.93275246436964),(16,86,-2.46841334269234),(16,87,0.266342661824396),(16,88,-0.472792748802148),(16,90,-2.07373271889401),(16,91,-1.47839289529099),(16,95,-2.9496215704825),(16,97,-2.5626850184637),(16,98,-0.338831751457259),(16,99,-2.04185613574633),(16,101,1.74784081545457),(16,108,2.94437238685263),(16,110,0.68435468611713),(17,89,0.348513748588519),(17,96,-2.18269142735069),(17,99,-1.66537980285043),(17,101,0.277542954802087),(17,106,-0.632503738517411),(17,107,-0.240936002685629),(17,109,-0.552232428968169),(18,90,-0.410542619098483),(18,91,1.15531632435072),(18,93,3.08920560319834),(18,99,-2.01292458876308),(18,102,0.718260750144963),(18,103,-0.502113406781213),(18,104,1.18869594409009),(18,110,1.12602618488113),(18,111,1.23325296792505),(18,116,2.12237159337138),(18,117,-0.331240272225104),(18,118,1.00427259132664),(19,87,0.387981810968352),(19,89,0.922338023010956),(19,93,-1.80814539017914),(19,95,0.319223609118931),(19,101,-1.34614856410413),(19,105,-3.14422284615619),(19,115,1.9844203009125),(20,88,-1.28505813776055),(20,101,1.41259498886074),(20,103,1.41638691366314),(20,104,-1.16798913541063),(20,105,0.247352519302957),(20,106,-0.5631275368511),(20,111,-1.81661427655873),(20,116,-1.03374584185308),(21,86,-1.63754692220832),(21,87,3.92710654011658),(21,94,-0.33836634418775),(21,96,-0.676900540177618),(21,101,2.59177678762169),(21,102,2.96092867824335),(21,105,3.46184423352763),(21,107,-0.0172429578539384),(21,108,-0.672200689718314),(22,86,0.866145817438277),(22,88,2.46467482528153),(22,91,-2.65131839960936),(22,92,-2.10089419232765),(22,93,0.252052369762261),(22,98,0.920484023560289),(22,106,-0.160603656117435),(22,115,1.05642109439375),(22,117,-0.704596087527085),(23,85,1.53154850917081),(23,86,0.130954924161504),(23,88,-1.27602465895566),(23,90,-0.297982726523637),(23,97,2.33597827082125),(23,104,3.26645710623493),(23,112,-3.25689718314158),(23,114,-0.630916776024659),(23,115,-1.70183416241951),(23,116,-2.04229865413373),(24,89,-2.3213980529191),(24,90,1.17397076326792),(24,91,-1.46069215979492),(24,101,3.66651661732841),(24,107,2.14698477126377),(24,108,1.9455854976043),(24,110,1.02381206701865),(24,112,1.21731467635121),(25,90,-0.47636341441084),(25,92,1.91327402569659),(25,94,-0.728949858088931),(25,98,-1.0549562059389),(25,105,0.769859920041505),(25,108,1.51936399426252),(25,109,0.708540604876858),(25,115,-1.61204107791375),(26,85,-1.07211523789178),(26,87,1.92190313425092),(26,89,-1.29608294930876),(26,95,-1.19183935056612),(26,98,2.26368755149998),(26,100,1.83172093874935),(26,101,-1.94547868282113),(26,102,1.92529068880276),(26,103,1.30112613299966),(26,104,-0.932950834681234),(26,107,-0.021141697439497),(26,109,2.65401165807062),(26,112,3.93045594653157),(26,113,-1.00003814813684),(26,117,-3.60277108066042),(27,85,-1.60817285683767),(27,87,1.31710257271035),(27,94,0.91727958006531),(27,100,4.07493820001831),(27,102,1.76606799523911),(27,103,3.10235908078249),(27,104,-0.971327860347301),(27,105,0.899670400097659),(27,108,-0.671254615924558),(27,110,1.95389416180914),(27,114,1.0341120639668),(28,87,0.840113528855251),(28,88,-1.20424512466811),(28,97,0.59293649098178),(28,99,2.14001892147588),(28,104,-0.586169011505478),(28,113,0.878414258247627),(28,114,-1.41611224707785),(29,88,-0.12015900143437),(29,91,-2.83469649342326),(29,102,1.66774498733482),(29,105,-1.13419751579333),(29,116,0.632007812738426),(30,95,-1.40157780693991),(30,96,0.822321237830744),(30,99,3.24372844630268),(30,101,-1.2093417157506),(30,104,-2.08307901242103),(30,109,2.47299111911374),(30,110,0.930578020569475),(30,114,0.427137058626057),(30,118,0.410008545182653),(31,85,0.816393017365032),(31,92,3.51036866359447),(31,94,0.464720603045747),(31,96,-0.0973998229926449),(31,99,1.87696462904752),(31,103,0.244605853450117),(31,107,0.892971587267678),(31,108,1.22037415692618),(31,109,2.03683584093753),(31,111,0.639698477126377),(31,112,-0.0604647968993195),(31,117,0.792710654011658),(32,86,0.526520584734642),(32,87,0.819139683217872),(32,89,0.757248146000549),(32,92,1.49581896420179),(32,98,-0.360042115543077),(32,99,0.270332956938383),(32,104,-0.1518753624073),(32,106,1.50289925840022),(32,109,1.42843409527879),(32,116,-2.90211188085574),(32,118,-1.47433393353069),(33,96,2.48329874568926),(33,98,-1.28918576616718),(33,108,-0.0249031037324138),(33,110,0.773949400311289),(33,111,-1.00687429425947),(33,114,1.75372325815607),(34,85,-0.885723441267128),(34,90,1.2548982207709),(34,99,-2.91390728476821),(34,104,-1.76113162633137),(34,109,-1.80743583483383),(35,86,1.14410077211829),(35,87,-0.191610461745048),(35,97,0.768837549974059),(35,98,1.41182439649648),(35,100,2.21488845484787),(35,104,-0.521485030671102),(35,107,0.0917996765037995),(35,109,2.09189123203223),(35,110,-0.19350260933256),(35,112,-2.3772392956328),(36,85,2.02172154911954),(36,87,-1.37660603656117),(36,90,1.10618152409436),(36,91,1.06467635120701),(36,104,2.54123813592944),(36,107,-1.40776543473617),(36,109,0.712759788811914),(36,112,0.836863307596057),(36,115,-0.238883632923368),(36,117,1.39172032837916),(36,118,3.38852351451155),(37,85,0.65385906552324),(37,86,-0.403111362041078),(37,87,-0.583399456770531),(37,91,2.63752403332621),(37,99,-1.47946867275002),(37,105,-0.248374889370403),(37,111,0.428151799066134),(37,112,1.16328165532395),(37,118,-2.13484603411969),(38,87,2.35143589587085),(38,90,1.80565050202948),(38,103,2.57995086519974),(38,105,2.23155919064913),(38,106,-0.489440595721305),(38,111,0.290925321207312),(38,115,-2.42410809656056),(39,87,-0.630535294656209),(39,89,-0.292977690969573),(39,91,-0.507827997680593),(39,94,0.341433454390088),(39,97,-1.46127201147496),(39,98,1.2793130283517),(39,107,0.483207190160832),(39,108,3.73409985656301),(39,109,-0.573824274422437),(39,111,0.557344279305399),(39,113,2.27574999237037),(39,116,0.926564836573382),(39,118,0.74679555650502),(40,88,3.97752311777093),(40,92,-0.211264381847591),(40,99,-0.183294167912839),(40,104,-0.0723288674581133),(40,110,-0.162877285073397),(40,116,1.31908627582629),(40,118,3.27501754814295),(41,88,0.665608691671499),(41,93,3.25977355265969),(41,96,0.0893505661183509),(41,97,-2.53215887936033),(41,100,1.66913357951598),(41,101,1.87735374004334),(41,104,1.11793877986999),(41,105,0.828196050904874),(41,106,-0.420308542130803),(41,107,-2.61135441145054),(41,109,-2.27904599139378),(41,110,1.26874599444563),(41,111,-0.622051149021882),(41,112,-0.190198980681784),(42,85,1.34788048951689),(42,86,2.36790063173315),(42,87,-0.874752037110507),(42,99,3.38850825525681),(42,100,-0.481574449903867),(42,103,0.27531510361034),(42,109,-2.4898602252266),(42,113,2.00209051789911),(43,85,-0.766884365367596),(43,88,-0.892666402172918),(43,89,1.32707449568163),(43,93,-1.8662144840846),(43,97,-1.79370250556963),(43,98,2.63309121982482),(43,101,2.8036515396588),(43,102,1.97635578478347),(43,103,-0.691167943357647),(43,105,1.17191076387829),(43,110,-2.79521317178869),(43,112,0.0421689504684591),(43,114,-3.29564043092135),(43,116,0.252616962187567),(44,89,0.70158238471633),(44,98,2.15422528763695),(44,99,0.299768059327982),(45,87,0.661122470778527),(45,88,-1.29858546708579),(45,90,-2.44621112704855),(45,91,0.864261299478133),(45,95,-1.42757957701346),(45,98,-2.5204016235847),(45,108,-1.09331797235023),(45,109,1.3168431653798),(45,112,-1.66254921109653),(45,115,-1.01834162419507),(46,85,-0.575884273812067),(46,89,1.28607287820063),(46,91,3.49858088930937),(46,94,-1.91793572801904),(46,97,-1.35567796868801),(46,100,0.175252540665914),(46,101,-0.815134128849147),(46,108,0.925778984954375),(46,112,1.20010986663411),(47,86,-1.21065401165807),(47,91,-1.76564836573382),(47,92,2.22433393353069),(47,94,-0.339831232642598),(47,95,-0.519768364513077),(47,100,-2.37563707388531),(47,101,1.32480849635304),(47,104,1.62823877681814),(47,105,0.415036469618824),(47,108,1.95097201452681),(47,112,-2.89690084536271),(47,114,-1.16756187627796),(47,118,-0.246436964018677),(48,86,2.71057008575701),(48,91,-1.61723685415204),(48,98,-0.202253791924802),(48,99,0.510696737571337),(48,100,1.22409741508225),(48,103,0.209631641590625),(48,105,0.622104556413465),(48,106,0.831858272041993),(48,111,-1.00617236854152),(48,115,-2.03810235908078),(49,87,0.813959166234321),(49,89,-0.188299203466903),(49,93,2.26510666219062),(49,94,-1.52363658558916),(49,95,0.934766685995056),(49,102,-1.4593188268685),(49,113,0.561601611377301),(49,114,-0.584040345469527),(50,89,2.19727164525285),(50,105,-0.0549943540757469),(50,107,2.13904232917264),(51,87,-0.169774468214972),(51,92,-0.176114688558611),(51,97,0.23338267159032),(51,98,0.913182470168157),(51,103,0.344630268257698),(51,106,1.38844721823786),(51,112,3.25453199865719),(51,118,-1.29277932065798),(52,89,-0.408108767967772),(52,97,2.398602252266),(52,106,0.840670491653188),(52,110,-1.18102816858425),(52,111,0.841372417371136),(52,113,1.74369029816584),(52,114,0.478148747215186),(52,118,0.340021973326823),(53,88,-0.43191320535905),(53,90,-2.77451399273659),(53,92,1.94359416486099),(53,94,0.929593798638874),(53,104,-1.29359569078646),(53,105,-1.49365215002899),(53,109,-1.57183294167913),(54,85,0.198301644947661),(54,91,1.17656483657338),(54,94,0.211523789178137),(54,96,-2.30796227912229),(54,111,-1.58326212347789),(54,112,-1.00587481307413),(54,113,-0.476569414349803),(54,118,2.48905911435285),(55,87,-2.03690450758385),(55,95,2.05557420575579),(55,107,-1.58585619678335),(55,110,0.416272469252602),(55,117,-3.14725180822169),(56,107,-0.125400555436872),(56,111,0.86680196539201),(56,113,0.89813684499649),(56,114,0.444273201696829),(57,87,1.90931424909207),(57,90,1.58663441877499),(57,91,-1.20708334604938),(57,92,-1.54374828333384),(57,93,0.0705511642811367),(57,94,-1.95226905117954),(57,95,-0.0842081972716453),(57,96,0.904110843226417),(57,100,3.99927518539995),(57,102,-0.480361339152196),(57,103,1.0464415417951),(57,115,-1.9933545945616),(58,86,-0.700468459120457),(58,87,0.390972624897),(58,89,0.0722525711844234),(58,90,-1.97473830378124),(58,95,-3.97669148838771),(58,96,-0.494857631153295),(58,101,-0.920003357036042),(58,103,1.28621784112064),(58,109,-1.68424024170659),(58,110,2.75355540635395),(58,113,-2.60566270943327),(58,114,2.8675191503647),(58,115,2.48566393017365),(58,118,2.47085482345042),(59,85,-0.477622302926725),(59,86,-1.815317239906),(59,90,0.884784997100742),(59,91,0.587328714865566),(59,93,0.924771874141667),(59,97,2.39275032807398),(59,98,1.92715994750816),(59,100,3.23359630115665),(59,102,2.49056978057192),(59,112,-1.52081362346263),(59,114,0.45188756981109),(60,85,0.862094485305338),(60,87,0.0205999938962981),(60,90,0.0372859889522996),(60,91,1.70556505020295),(60,96,-0.815126499221778),(60,100,-2.68366039002655),(60,101,0.490287484359264),(60,105,1.51291695913572),(60,107,-1.40819269386883),(60,109,-1.77029480880154),(60,110,-2.88333536790063),(60,114,-1.08234656819361),(61,89,-2.12972655415509),(61,94,-2.10136722922452),(61,96,2.29581591235084),(61,98,0.574243903927732),(61,100,1.91171758171331),(61,102,2.1443449201941),(61,103,-0.140385143589587),(61,114,-0.313676870021669),(61,115,0.662175359355449),(62,93,2.85190130314035),(62,95,0.624942777794733),(62,107,-1.45069734794153),(62,109,-2.98300119022187),(62,110,1.5210425122837),(62,111,-2.10999633777886),(63,87,0.764923551133763),(63,90,-0.250793481246376),(63,93,-0.773720511490219),(63,97,-1.05700857570116),(63,100,-3.52362132633442),(63,103,-1.22884304330576),(63,104,0.638645588549455),(63,108,1.0081713309122),(63,111,-1.65530106509598),(63,114,-2.15835291604358),(63,117,2.36014130069887),(64,87,1.09157078768273),(64,94,-1.04436628315073),(64,99,0.443342387157811),(64,110,-1.18104342783898),(64,112,0.587809381389813),(64,116,1.85900448622089),(65,87,0.97118289742729),(65,88,-1.60492263557848),(65,90,2.48077333903012),(65,97,1.57102420117801),(65,99,0.991256447035127),(65,107,-3.19032105471969),(65,110,0.352183599353008),(65,111,0.443876461073641),(65,114,-2.37966551713614),(65,116,0.774025696584979),(65,117,2.01742606891079),(66,85,-1.24692526017029),(66,102,-2.08988464003418),(66,105,2.95483260597552),(66,108,0.0402844325083163),(66,111,-0.0502868739890744),(66,115,3.15933713797418),(66,118,-0.101626636555071),(67,86,0.334910122989593),(67,90,0.231696523941771),(67,92,-2.17297891170995),(67,104,1.69220557267983),(67,109,-0.711142307809686),(67,111,1.65545365764336),(68,87,0.336283455916013),(68,88,-1.07751701406903),(68,90,0.0395290993987854),(68,93,-0.386951811273537),(68,95,0.917706839197974),(68,96,-2.0745719779046),(68,97,-0.232100894192328),(68,103,2.4504074221015),(68,107,-2.20389416180914),(68,112,-1.30207220679342),(68,114,0.165791802728355),(69,87,-1.04020813623463),(69,88,-2.02970976897488),(69,92,-0.0444044312875759),(69,94,-1.72605822931608),(69,95,-0.507293923764763),(69,97,1.24347666859951),(69,108,0.639851069673757),(69,113,0.110866115298929),(69,114,0.829180272835475),(69,118,3.14156010620441),(70,85,-0.383472701193274),(70,86,2.02784813989685),(70,87,-1.02113406781213),(70,90,-1.62877285073397),(70,96,-2.02967162083804),(70,97,-0.515541550950651),(70,99,2.57773827326273),(70,105,-3.07680745872372),(70,107,1.38933988464003),(70,109,-1.24308755760369),(70,110,0.16331217383343),(70,111,-1.37419507431257),(71,85,-0.0942106387524033),(71,93,0.961767937253944),(71,96,-1.29657124546037),(71,100,-1.67629779961547),(71,104,-0.132412182988983),(71,106,-1.23351237525559),(71,111,-0.294289986877041),(71,113,-1.0936689352092),(72,94,1.71028778954436),(72,96,2.82526627399518),(72,99,-0.42558824427015),(72,110,-3.09926908169805),(72,112,-0.032593768120365),(72,114,-1.79430524613178),(72,115,0.262764366588336),(72,116,-1.81373027741325),(73,88,2.36042359691153),(73,94,-0.728873561815241),(73,99,-2.08006530961028),(73,100,0.276436658833583),(73,106,-0.473342081972716),(73,110,2.57557145908994),(73,115,0.24604022339549),(74,90,-0.182340464491714),(74,94,-0.771309549241615),(74,99,-2.46013519699698),(74,102,-1.80633716849269),(74,106,2.44567705313272),(74,107,-0.392666402172918),(74,110,1.87620166631062),(74,113,-1.3366801965392),(74,116,-1.4761268959624),(75,85,0.444349497970519),(75,86,0.986510818811609),(75,93,0.443968016602069),(75,98,-1.40485091708121),(75,103,-0.390087588122196),(75,105,-0.557420575579089),(75,111,-0.820337534714805),(75,117,-2.43430890835292),(76,86,-2.9419919431135),(76,89,-0.205603198339793),(76,92,0.612651448103274),(76,94,-3.1572161015656),(76,99,1.2078157902768),(76,101,-1.11312448500015),(76,103,-2.35797448652608),(76,106,-0.411282692953276),(76,110,-0.214651936399426),(76,113,1.57906582842494),(77,88,1.71964171269875),(77,91,-1.29836420789209),(77,93,-2.6582003234962),(77,98,0.311616870632038),(77,101,-2.40809350871303),(77,102,-0.691679128391369),(77,103,-1.5210425122837),(77,104,1.3761558885464),(77,105,1.71488845484787),(77,109,-1.5192953276162),(78,88,-0.959372234260079),(78,93,-0.285332804345836),(78,94,0.281991027558214),(78,101,2.09076204718162),(78,104,-1.99056978057192),(78,110,-0.162129581591235),(78,114,-0.124973296304209),(78,116,-1.38153477584155),(78,117,1.51768547624134),(78,118,0.719855342265084),(79,87,2.24327829828791),(79,92,2.48310037537767),(79,94,0.251022370067446),(79,107,-0.157109286782434),(79,108,1.30837427900021),(79,114,-0.00154881435590681),(79,118,1.46776482436598),(80,87,1.48274178289132),(80,88,-0.0553147984252449),(80,91,1.39700003051851),(80,99,0.764824365977966),(80,101,0.0849177526169622),(80,107,-1.67989135410627),(80,113,0.185132908108768),(81,85,-0.588663899655141),(81,86,-1.74555192724387),(81,90,0.647366252632221),(81,93,2.30224005859554),(81,96,2.14562669759209),(81,97,0.529190954313791),(81,106,2.89415417950987),(81,107,-0.497230445265053),(81,110,0.29216132084109),(81,115,-1.29586931974242),(82,86,1.19517349772637),(82,92,-0.316537980285043),(82,110,-2.09242530594806),(82,112,2.76622821741386),(83,87,-1.41109958189642),(83,91,1.63416699728385),(83,93,0.493644520401624),(83,101,-0.733359782708213),(83,103,0.464033936582537),(83,105,-0.0380413220618305),(83,108,-1.9665288247322),(84,85,-0.113444929349651),(84,86,-2.21114230780969),(84,89,1.23699148533586),(84,95,-1.49845881527146),(84,99,0.241286965544603),(84,104,1.60546433912168),(84,111,-0.772125919370098),(84,113,1.55148472548601),(84,114,-2.16795861690115),(10,119,0.17390972624897),(119,109,-0.562356944486832),(58,120,-0.129627368999298),(120,118,-2.13415936765648),(95,104,-0.372493667409284)]
orgname='BHNEAT_11_8'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()