edge = [(0,85,2.65926084170049),(0,89,-1.01512955107273),(0,90,0.739539780877102),(0,93,1.20506912442396),(0,98,0.695234534745323),(0,101,-2.77572710348827),(0,105,0.946836756492813),(0,108,3.97438734092227),(0,113,1.23274941251869),(0,114,1.64059877315592),(0,117,-2.00525681325724),(0,118,-3.29765465254677),(1,86,-1.42796105838191),(1,92,4.56458479567858),(1,98,2.53219702749718),(1,102,-5.87291329691458),(1,104,1.03960539567248),(1,107,-1.07450331125828),(1,108,-1.30611590929899),(1,109,0.515289773247474),(1,113,-2.20794549394208),(2,87,0.641567735831782),(2,88,-0.772499771111179),(2,100,-0.260856959746086),(2,106,1.90961943418683),(2,108,-0.573206274605549),(2,110,1.70201727347636),(2,113,-0.96164586321604),(2,118,0.504928739280374),(3,89,1.99187444685202),(3,92,-2.07024597918638),(3,97,-0.627117221594897),(3,99,3.67200994903409),(3,101,-3.39201025421918),(3,103,-1.78241828669088),(3,105,1.3054979094821),(3,108,-1.20113223670156),(3,109,-1.57486190374462),(3,111,1.54617450483718),(3,112,-3.82985930967132),(3,116,-2.77002014221625),(4,90,3.63015381328776),(4,91,0.630176702169866),(4,97,0.273888363292337),(4,99,-1.65157780693991),(4,101,1.62691122165593),(4,108,-1.59321878719443),(4,113,-4.0698721274453),(4,118,0.858317819757683),(5,86,-2.26050599688711),(5,87,-1.43592638935514),(5,89,1.75450148014771),(5,92,-1.69283883175146),(5,93,-0.65210425122837),(5,99,0.850856044190802),(5,104,-0.279763176366467),(5,114,0.304612872707297),(5,118,0.194929349650563),(6,89,-1.98670155949583),(6,92,-2.84764397106845),(6,94,-0.76532792138432),(6,100,-0.672261726737266),(6,101,3.85664693136387),(6,103,-4.19927823725089),(6,107,-1.33019501327555),(6,110,-0.643795587023529),(6,113,-1.68884853663747),(7,85,0.467276528214362),(7,86,0.621112704855495),(7,90,-0.740813928647725),(7,95,1.39220099490341),(7,99,0.483993041779839),(7,100,4.51020081179235),(7,104,-1.0285729544969),(7,106,2.90772728659932),(7,108,1.77696310312204),(7,112,1.11970122379223),(7,116,2.45494705038606),(8,92,-0.086130863368633),(8,93,-2.39671773430586),(8,95,1.75390636921293),(8,99,2.77916806543168),(8,106,1.23798333689383),(8,107,-1.47518845179601),(8,115,0.283219397564623),(8,116,-0.549150059511094),(8,118,-1.94608905301065),(9,85,0.433309427167577),(9,87,1.1322367015595),(9,98,-3.3457365642262),(9,101,2.09227271340068),(9,103,4.02829065828425),(9,105,-0.959730826746422),(9,106,2.56024353770562),(9,113,1.06122775963622),(10,89,-0.638477736747337),(10,96,-0.371021149327067),(10,106,6.20293282876064),(10,108,3.35634937589648),(10,109,2.71411023285623),(10,111,1.5959578234199),(10,112,0.233924375133518),(10,114,-0.0636463515121921),(10,115,-2.2199240089114),(10,116,-0.983191930906095),(10,117,0.929395428327281),(11,89,-2.27986999114963),(11,97,3.16428876613666),(11,105,-1.11758018738365),(11,112,-0.408848841822566),(11,115,-2.81590472121342),(12,92,1.68718527787103),(12,93,0.353320413830989),(12,94,0.505615405743583),(12,97,-2.90319528794214),(12,98,4.18715475936155),(12,99,1.62335581530198),(12,108,3.56980346079897),(12,116,-3.27034821619312),(13,86,1.00082399975585),(13,87,1.78960539567248),(13,90,-1.79792931913205),(13,99,-1.15385143589587),(13,102,3.20162053285318),(13,104,-1.2762840662862),(13,113,-0.443601794488357),(13,116,-4.31435590685751),(13,118,3.76606036561174),(14,90,-6.15224158452101),(14,93,4.43823053682058),(14,95,1.13086336863308),(14,102,0.613040559099094),(14,104,-2.90063173314615),(14,106,0.621204260383923),(14,109,-2.58206427198096),(14,110,0.833140049439985),(14,111,-0.942098757896664),(15,85,2.44689779351177),(15,92,2.05732902005066),(15,99,0.219000823999756),(15,101,-1.28482924893948),(15,104,2.05710013122959),(15,108,-0.80184331797235),(15,117,-1.72881252479629),(16,86,0.561311685537278),(16,87,-2.01155888546403),(16,88,1.91055024872585),(16,90,-1.30607013153478),(16,91,-3.65062410351878),(16,95,-1.16741691335795),(16,97,-2.27469710379345),(16,98,0.63433484908597),(16,99,-3.42165898617512),(16,101,0.9127780999176),(16,108,6.75552385021516),(16,110,-0.689970091860713),(17,89,0.842684713278603),(17,96,3.47949156163213),(17,99,1.394466994232),(17,101,1.23628192999054),(17,106,-2.30773339030122),(17,107,-1.09537797173986),(17,109,-4.09060945463424),(18,90,-0.750602740562151),(18,91,0.287675099948119),(18,93,-2.29784539323099),(18,99,0.348559526352733),(18,102,3.64825891903439),(18,103,0.190664387951292),(18,104,1.89367351298563),(18,110,-1.50863673818171),(18,111,2.10751670888394),(18,116,3.20501571703238),(18,117,-2.09253975035859),(18,118,1.67468794824061),(19,87,-2.11111789300211),(19,89,-3.90668202764977),(19,93,-3.72817926572466),(19,95,-1.00360118411817),(19,101,1.90575121311075),(19,105,-5.1592837305826),(19,115,1.69273964659566),(20,88,-5.14857173375652),(20,101,3.2183751945555),(20,103,2.48277993102817),(20,104,2.04835657826472),(20,105,2.26627399517808),(20,106,-0.582964568010498),(20,111,1.40263069551683),(20,116,2.57247383037812),(21,86,1.55529953917051),(21,87,0.119098483230079),(21,94,3.29692220831935),(21,96,1.33800775170141),(21,101,2.98722037415693),(21,102,1.89725943784906),(21,105,-0.0553376873073518),(21,107,2.36805322428053),(21,108,2.77410199285867),(22,86,-1.36577959532456),(22,88,0.319353312784203),(22,91,0.609355449079867),(22,92,-2.40257728812525),(22,93,2.11249122592853),(22,98,-0.685903500473037),(22,106,2.40310373241371),(22,115,4.40781121250038),(22,117,-4.42945646534623),(23,85,-2.40640736106449),(23,86,1.05845820490127),(23,88,2.579149754326),(23,90,-1.7300637836848),(23,97,-1.2203436384167),(23,104,2.67081209753716),(23,112,-3.44740897854549),(23,114,-1.78596606341746),(23,115,-3.42910550248726),(23,116,-0.391796624652852),(24,89,-2.96633045442061),(24,90,-3.58143101290933),(24,91,0.716788232062746),(24,101,2.72685171056246),(24,107,0.53049562059389),(24,108,4.05372783593249),(24,110,-1.85560930204169),(24,112,-1.74061555833613),(25,90,-3.67740409558397),(25,92,-0.96485030671102),(25,94,-0.348826563310648),(25,98,-1.43742942594684),(25,105,-2.37812433240761),(25,108,0.816980498672445),(25,109,1.29024628437147),(25,115,-0.442823572496719),(26,85,1.67487868892483),(26,87,-3.23206274605548),(26,89,-1.27128666035951),(26,95,-1.93632312997833),(26,98,0.00569933164464237),(26,100,-0.712836085085604),(26,101,-1.61228522598956),(26,102,0.264091921750542),(26,103,-3.29007843256935),(26,104,2.66116824854274),(26,107,-2.92458876308481),(26,109,1.39431440168462),(26,112,-2.4679555650502),(26,113,-1.66351054414502),(26,117,-1.64584795678579),(27,85,0.950041199987793),(27,87,0.281456953642384),(27,94,0.0418103579821161),(27,100,-2.55890072328867),(27,102,0.457281716360973),(27,103,2.55981627857295),(27,104,1.11864833521531),(27,105,-1.48580889309366),(27,108,-2.39005706961272),(27,110,1.18459883419294),(27,114,-1.13285470137638),(28,87,1.15872676778466),(28,88,0.41331217383343),(28,97,1.24378185369427),(28,99,0.831843012787256),(28,104,-3.96082949308756),(28,113,0.298013245033113),(28,114,-0.408795434430982),(29,88,2.38510544145024),(29,91,1.72011474959563),(29,102,0.583803827021088),(29,105,-0.671636097293008),(29,116,-1.81099887081515),(30,95,3.50236518448439),(30,96,1.81183812982574),(30,99,-0.437108981597339),(30,101,-2.33817560350353),(30,104,-1.5290154728843),(30,109,-3.85872981963561),(30,110,-0.276123844111454),(30,114,-0.796807763908811),(30,118,-2.60781426435133),(31,85,-0.892796105838191),(31,92,3.48297830133976),(31,94,-0.277848139896847),(31,96,3.66476943266091),(31,99,2.41660817285684),(31,103,-1.50885036774804),(31,107,-0.916623432111576),(31,108,5.06334116641743),(31,109,0.940885647144994),(31,111,1.85044404431288),(31,112,0.432790612506485),(31,117,1.30069124423963),(32,86,-2.79175695059053),(32,87,2.37520218512528),(32,89,-1.03930021057772),(32,92,-3.3342692342906),(32,98,-0.192068239387188),(32,99,-2.96378978850673),(32,104,1.69762260811182),(32,106,1.24181340983306),(32,109,1.59460737937559),(32,116,-0.816476943266091),(32,118,-2.4318521683401),(33,96,-2.80571153904843),(33,98,-0.504631183812983),(33,108,2.0312814722129),(33,110,-3.09231849116489),(33,111,-2.47443311868648),(33,114,-0.317796868800928),(34,85,-2.96927549058504),(34,90,0.221236304818873),(34,99,0.76258125553148),(34,104,-0.608294930875577),(34,109,0.456122013000885),(35,86,1.1020615253151),(35,87,-2.70938749351482),(35,97,0.447325052644429),(35,98,2.43991668446913),(35,100,-0.545052949613941),(35,104,-4.33888515884884),(35,107,-1.17571031830805),(35,109,1.38903469954527),(35,110,0.956968901638844),(35,112,-2.57133701590014),(36,85,-0.771561326944792),(36,87,-0.735488448744163),(36,90,0.773453474532304),(36,91,2.82536545915097),(36,104,-3.7988296151616),(36,107,0.177823725089267),(36,109,-1.29249702444533),(36,112,1.00257881405072),(36,115,-1.13185522019105),(36,117,-5.97083956419569),(36,118,2.10544907986694),(37,85,1.7975478377636),(37,86,-1.70014801477096),(37,87,-2.06656086916715),(37,91,2.96323282570879),(37,99,1.12323374126408),(37,105,-0.183828241828669),(37,111,-0.602992339854121),(37,112,-1.10790581987976),(37,118,-0.2804193243202),(38,87,1.7235175634022),(38,90,2.72364726706748),(38,103,0.256729331339458),(38,105,2.13458662678915),(38,106,-2.581217383343),(38,111,-0.33279671620838),(38,115,1.17974639118625),(39,87,1.53490554521317),(39,89,-0.384304330576495),(39,91,-2.91589098788415),(39,94,-1.3748512222663),(39,97,-1.72658467360454),(39,98,2.66350291451765),(39,107,0.64798425244911),(39,108,2.86592455824458),(39,109,0.192289498580889),(39,111,-2.96336252937407),(39,113,-0.0596026490066227),(39,116,-2.01519058809168),(39,118,-0.634777367473373),(40,88,-2.29082613605152),(40,92,-0.883663441877499),(40,99,-2.87781914731285),(40,104,0.404950102237007),(40,110,1.30277413251137),(40,116,0.283684804834132),(40,118,-1.78731650746178),(41,88,-2.23685415204321),(41,93,3.21491134372997),(41,96,-0.0215079195532091),(41,97,-0.228164006469924),(41,100,2.19492934965056),(41,101,1.65716269417402),(41,104,3.00932340464492),(41,105,-0.21172215948973),(41,106,1.4537568285165),(41,107,-1.09218115787225),(41,109,1.6170995208594),(41,110,3.23397015289773),(41,111,0.453573717459639),(41,112,3.13013855403302),(42,85,1.23180333872494),(42,86,2.84948271126438),(42,87,1.0343333231605),(42,99,1.50986510818812),(42,100,-3.27119510483108),(42,103,-3.71078371532334),(42,109,-0.766785180211798),(42,113,-2.46533097323527),(43,85,1.45722830896939),(43,88,-3.5487304300058),(43,89,-3.23185674611652),(43,93,-1.86598559526353),(43,97,-3.25607318338572),(43,98,-0.832361827448347),(43,101,0.342867824335459),(43,102,3.82089449751274),(43,103,-0.884578997161779),(43,105,-0.233008819849238),(43,110,-1.23861659596545),(43,112,2.58138523514512),(43,114,-1.71798608355968),(43,116,-1.59169286172063),(44,89,2.20976897488327),(44,98,0.412953581347087),(44,99,-1.9530167546617),(45,87,-0.35445722830897),(45,88,-2.93506424146245),(45,90,3.97752311777093),(45,91,-1.98242896816919),(45,95,-0.821260719626453),(45,98,-2.13644825586718),(45,108,2.55318613238929),(45,109,1.32103946043275),(45,112,-0.0991622669148837),(45,115,1.51509140293588),(46,85,-0.861903744621113),(46,89,0.345110934781945),(46,91,3.08520767845698),(46,94,-0.337862788781396),(46,97,2.08093508713034),(46,100,4.30987731559191),(46,101,-0.682760093997009),(46,108,-3.03453169347209),(46,112,0.865932187871944),(47,86,2.75429548020875),(47,91,0.504303109836116),(47,92,0.617915890987884),(47,94,0.612422559282205),(47,95,-0.734504226813562),(47,100,2.91037476729637),(47,101,1.66646320993683),(47,104,-1.94730979338969),(47,105,1.76044495986816),(47,108,1.93449201940977),(47,112,0.896549882503739),(47,114,4.48858607745598),(47,118,-0.886768700216681),(48,86,4.15234076967681),(48,91,-2.48655659657582),(48,98,1.57560197759941),(48,99,-1.11288796655171),(48,100,-4.01020844141972),(48,103,-0.632953886532182),(48,105,-0.860942411572619),(48,106,-5.04092532120731),(48,111,-2.02121799371319),(48,115,-0.415852839747307),(49,87,0.331690420239875),(49,89,0.307382427442244),(49,93,-0.75579088717307),(49,94,1.20521408734397),(49,95,-0.543549913022248),(49,102,-0.961775566881314),(49,113,-2.6169774468215),(49,114,3.62881099887082),(50,89,1.03588976714377),(50,105,0.690481276894436),(50,107,1.70395519882809),(51,87,-1.6212347788934),(51,92,3.87666707358013),(51,97,0.993148594622639),(51,98,2.75192266609699),(51,103,-2.19236579485458),(51,106,0.620906704916532),(51,112,-1.77030243842891),(51,118,-2.10190130314035),(52,89,-1.40132602923673),(52,97,-0.752807702871792),(52,106,-2.60196996978668),(52,110,0.0774025696584979),(52,111,0.667111728263192),(52,113,-1.25353251747185),(52,114,0.482200079348125),(52,118,3.70804467909787),(53,88,3.13943144016846),(53,90,-4.61905270546587),(53,92,0.849505600146489),(53,94,-0.0315866573076575),(53,104,-1.93913846247749),(53,105,2.01676229132969),(53,109,-0.894703512680441),(54,85,0.672101504562517),(54,91,-1.79120761741997),(54,94,1.86028626361888),(54,96,-0.813470870082705),(54,111,1.26915036469619),(54,112,1.981887264626),(54,113,2.1812112796411),(54,118,-1.62292855616932),(55,87,0.100863673818171),(55,95,0.339976195562609),(55,107,-0.550744651631214),(55,110,1.2846766563921),(55,117,0.650242622150334),(56,107,-0.0375072481460004),(56,111,1.26261940366832),(56,113,-1.61857203894162),(56,114,-1.98509933774834),(57,87,-1.09819330423902),(57,90,-1.59789574877163),(57,91,-2.48531296731468),(57,92,1.39953306680502),(57,93,5.37634662923063),(57,94,-1.78597369304483),(57,95,-1.52719962157048),(57,96,0.815118869594409),(57,100,-1.50992614520707),(57,102,-2.59079256569109),(57,103,4.07898953215125),(57,115,0.0765633106479081),(58,86,1.74223303933836),(58,87,-2.55001983703116),(58,89,-1.11406292916654),(58,90,2.51728110599078),(58,95,-0.132808923612171),(58,96,2.73644215216529),(58,101,-2.40190588091678),(58,103,-0.975508896145512),(58,109,0.973693044831691),(58,110,3.14365825373089),(58,113,1.93762779625843),(58,114,-1.20891445661794),(58,115,1.23593096713157),(58,118,-0.480513931699576),(59,85,1.79639576403088),(59,86,-1.94517349772637),(59,90,1.69436475722526),(59,91,-2.6227607043672),(59,93,-0.472212897122105),(59,97,-0.120319223609119),(59,98,1.61716818750572),(59,100,3.76705984679708),(59,102,-2.34485915707877),(59,112,1.84904019287698),(59,114,2.691030610065),(60,85,4.04799798577837),(60,87,0.200941496017334),(60,90,-3.6383404034547),(60,91,-1.5446943571276),(60,96,2.39234595782342),(60,100,-2.45774712363048),(60,101,-1.92495498519852),(60,105,0.0775933103427229),(60,107,-0.219344157231361),(60,109,0.000312814722128962),(60,110,1.49998474074526),(60,114,2.52731406598102),(61,89,1.79998931852168),(61,94,-1.32016968291269),(61,96,1.44366283150731),(61,98,2.38261818292795),(61,100,-0.656567583239235),(61,102,-2.12267677846614),(61,103,-0.960493789483322),(61,114,-1.14561143833735),(61,115,1.83812982573931),(62,93,-2.42085787530137),(62,95,1.43826105533006),(62,107,1.84720908230842),(62,109,-4.24288155766472),(62,110,-1.77602465895566),(62,111,-1.74863429670095),(63,87,2.14031647694327),(63,90,2.58674886318552),(63,93,-1.89649647511216),(63,97,0.567163609729301),(63,100,2.19966734824671),(63,103,4.21643726920377),(63,104,0.47834711752678),(63,108,-3.2311471907712),(63,111,1.16712698751793),(63,114,1.42032380138554),(63,117,1.08294930875576),(64,87,0.748046815393536),(64,94,-3.05561235389264),(64,99,1.58320871608631),(64,110,0.567491683706168),(64,112,0.849429303872799),(64,116,-0.108142338328196),(65,87,3.02408673360393),(65,88,-0.362819299905392),(65,90,-0.9835352641377),(65,97,0.773728141117588),(65,99,-3.97593615527818),(65,107,-3.30835139011811),(65,110,-6.98928800317393),(65,111,2.34159367656484),(65,114,-5.17546617023225),(65,116,3.56456190679647),(65,117,-3.85364848780786),(66,85,-1.05603198339793),(66,102,-0.102595599230934),(66,105,-1.51651051362651),(66,108,1.59460737937559),(66,111,1.03479873043001),(66,115,1.66454054383984),(66,118,1.45091097750786),(67,86,3.99609363078707),(67,90,0.752052369762261),(67,92,-1.27993102816858),(67,104,-2.12836085085604),(67,109,1.70775475325785),(67,111,-0.490661336100345),(68,87,-2.21137119663076),(68,88,-1.53125095370342),(68,90,-1.47289193395795),(68,93,-2.1842631305887),(68,95,-2.50151066621906),(68,96,3.13538010803552),(68,97,2.07434308908353),(68,103,1.00901821955016),(68,107,-0.0864818262276071),(68,112,-2.20160527359844),(68,114,0.213301492355113),(69,87,3.6454512161626),(69,88,-1.0088351084933),(69,92,-2.05587939085055),(69,94,0.0714056825464644),(69,95,1.03587450788904),(69,97,-0.320574053163243),(69,108,-0.473952452162236),(69,113,-2.26873836481826),(69,114,-1.83745078890347),(69,118,1.72086245307779),(70,85,2.47244941557054),(70,86,2.97491378521073),(70,87,-2.91274758140812),(70,90,2.0142979216895),(70,96,-1.92838831751457),(70,97,0.997421185949278),(70,99,3.79000976592303),(70,105,1.02816095461898),(70,107,-3.45799127170629),(70,109,-0.609828485976745),(70,110,-2.39101077303385),(70,111,0.665433210242012),(71,85,1.59094515823847),(71,93,2.13573870052187),(71,96,4.75761436811426),(71,100,0.151455732902005),(71,104,1.68424024170659),(71,106,0.0723288674581134),(71,111,3.40424817651906),(71,113,-0.0928144169438766),(72,94,2.42732016968291),(72,96,-1.44947660756249),(72,99,-1.05556657612842),(72,110,0.0847270119327375),(72,112,0.250175481429487),(72,114,-2.39127780999176),(72,115,-0.579775383770257),(72,116,-1.35349589526048),(73,88,-2.04351939451277),(73,94,0.736777855769524),(73,99,0.320291756950591),(73,100,-1.99201940977203),(73,106,-0.217024750511185),(73,110,1.26209295937986),(73,115,-3.84527115695669),(74,90,0.770676290169988),(74,94,-1.28066347239601),(74,99,-2.10703604235969),(74,102,-0.718253120517594),(74,106,0.137104403820917),(74,107,-0.434553056428724),(74,110,-1.47276985992004),(74,113,1.18060853907895),(74,116,-0.681478316599017),(75,85,-1.40449232459487),(75,86,-1.39263588366344),(75,93,-1.05785546433912),(75,98,1.40270699179052),(75,103,1.23784600360118),(75,105,-3.44378490554521),(75,111,-1.53147221289712),(75,117,-2.32364879299295),(76,86,-1.2546998504593),(76,89,3.29837946714682),(76,92,-1.29848628192999),(76,94,-1.26949369792779),(76,99,2.14453566087832),(76,101,1.30901516769921),(76,103,2.07697531052583),(76,106,-3.78360850856044),(76,110,1.82416760765404),(76,113,1.26915036469619),(77,88,0.572908719138157),(77,91,-1.25380718405713),(77,93,-1.18148594622639),(77,98,2.18537705618458),(77,101,-1.5353404339732),(77,102,-4.15369884334849),(77,103,-0.848643452253792),(77,104,0.353633228553117),(77,105,1.13938566240425),(77,109,-2.6278801843318),(78,88,-1.86264381847591),(78,93,-0.285332804345836),(78,94,2.77296517838069),(78,101,1.98913541062655),(78,104,2.03404339732047),(78,110,-1.0393536179693),(78,114,3.83293404950102),(78,116,0.948248237556078),(78,117,0.86870937223426),(78,118,-0.258262886440626),(79,87,2.58012634662923),(79,92,2.18974120303964),(79,94,2.08975493636891),(79,107,2.02237006744591),(79,108,1.27900021362957),(79,114,2.60938596758934),(79,118,-1.19726401562548),(80,87,0.826502273628956),(80,88,-1.47129734183782),(80,91,0.706060975981933),(80,99,-0.623615222632527),(80,101,-0.716803491317484),(80,107,0.76197088534196),(80,113,-1.82893612475967),(81,85,-1.3898892178106),(81,86,-1.55972472304453),(81,90,-0.249107333597827),(81,93,-1.14056825464644),(81,96,0.579340495010224),(81,97,-3.89101077303385),(81,106,1.9164937284463),(81,107,0.790116580706198),(81,110,3.45983001190222),(81,115,-0.261139255958739),(82,86,-3.34841456343272),(82,92,0.0517288735618152),(82,110,-3.4121143223365),(82,112,-0.554826502273629),(83,87,-1.5980254524369),(83,91,-1.51740318002869),(83,93,2.33452101199377),(83,101,-1.69819483016449),(83,103,0.843684194463942),(83,105,0.400814844203009),(83,108,-2.29765465254677),(84,85,-0.566949980162969),(84,86,-2.31902523880734),(84,89,-1.9731742301706),(84,95,-1.67447431867428),(84,99,-2.24341563158055),(84,104,1.13448744163335),(84,111,2.02397991882077),(84,113,-1.07287820062868),(84,114,-1.31725516525773),(10,119,-2.47421185949278),(119,109,3.22117526779992),(58,120,0.640835291604358),(120,118,4.89520706808679),(95,104,1.36072878200629)]
orgname='BHNEAT_12_15'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()