edge = [(0,85,0.635456404309214),(0,89,0.768761253700369),(0,90,0.609851374858852),(0,93,0.537583544419691),(0,98,0.89425336466567),(0,101,0.151066621906186),(0,105,0.543046357615894),(0,108,0.941160313730277),(0,113,0.943845942564165),(0,114,-0.740104373302408),(0,117,0.983733634449294),(0,118,-0.0414136173589282),(1,86,-0.311441389202551),(1,92,0.777642139957884),(1,98,-0.0223395489364299),(1,102,-0.165837580492569),(1,104,-0.866451002533036),(1,107,0.134891811883908),(1,108,0.341502121036409),(1,109,-0.835352641376995),(1,113,0.400799584948271),(2,87,-0.76555681020539),(2,88,0.609729300820948),(2,100,0.253608813745537),(2,106,-0.0473647267067476),(2,108,-0.535538804284799),(2,110,-0.697714163640248),(2,113,0.594897305215613),(2,118,-0.129947813348796),(3,89,-0.398907437360759),(3,92,-0.560625019074068),(3,97,-0.30970183416242),(3,99,-0.538560136722922),(3,101,-0.38776818140202),(3,103,0.129886776329844),(3,105,-0.166600543229469),(3,108,0.223944822534867),(3,109,-0.385723441267128),(3,111,-0.0589007232886746),(3,112,-0.249122592852565),(3,116,-0.905178991058077),(4,90,-0.153111362041078),(4,91,-0.665547654652547),(4,97,0.626667073580126),(4,99,-0.583361308633686),(4,101,0.572862941373943),(4,108,0.916043580431532),(4,113,0.91766106143376),(4,118,-0.956297494430372),(5,86,-0.586138492996002),(5,87,0.793542283394879),(5,89,0.464400158696249),(5,92,-0.326944792016358),(5,93,0.785790581987976),(5,99,-0.895138401440474),(5,104,-0.337839899899289),(5,114,0.100070192571795),(5,118,0.136906033509323),(6,89,-0.601153599658193),(6,92,-0.89104892117069),(6,94,-0.460066530350658),(6,100,-0.793389690847499),(6,101,0.660451063570055),(6,103,-0.0803857539597766),(6,107,0.32456434827723),(6,110,-0.478286080507828),(6,113,-0.535569322794275),(7,85,0.273140659810175),(7,86,0.167149876400037),(7,90,-0.397991882076479),(7,95,0.351359599597156),(7,99,-0.759941404461806),(7,100,-0.802850428785058),(7,104,-0.158116397595141),(7,106,0.790765099032563),(7,108,0.691274758140812),(7,112,0.730155339213233),(7,116,-0.65004425183874),(8,92,-0.781762138737144),(8,93,0.656361583300272),(8,95,0.123722037415693),(8,99,0.376873073519089),(8,106,-0.319009979552599),(8,107,0.623554185613575),(8,115,-0.0710776085695975),(8,116,-0.187932981353191),(8,118,-0.26410718100528),(9,85,0.460707419049654),(9,87,-0.147099215674306),(9,98,0.889767143772698),(9,101,-0.467848750267037),(9,103,0.754356517227699),(9,105,0.920316171758171),(9,106,-0.703085421308023),(9,113,-0.0588396862697226),(10,89,-0.146458326975311),(10,96,-0.484481337931455),(10,106,0.0341196935941649),(10,108,-0.24161503952147),(10,109,-0.907712027344584),(10,111,0.609363078707236),(10,112,0.529374065370647),(10,114,0.448438978240303),(10,115,0.965514084292123),(10,116,0.604388561662648),(10,117,0.881862849818415),(11,89,0.188207647938475),(11,97,0.106112857448042),(11,105,0.488906521805475),(11,112,-0.358470412305063),(11,115,0.436658833582568),(12,92,0.569261757255776),(12,93,0.562913907284768),(12,94,0.516647846919156),(12,97,0.910916470839564),(12,98,-0.753990295113987),(12,99,0.971800897244179),(12,108,0.0792565691091647),(12,116,-0.0728476821192053),(13,86,0.254768517105625),(13,87,0.359080782494583),(13,90,0.436384166997284),(13,99,0.204870754112369),(13,102,0.946287423322245),(13,104,-0.20090334788049),(13,113,0.742942594683676),(13,116,-0.401104770043031),(13,118,0.335825678273873),(14,90,0.915494247260964),(14,93,0.0805078279976806),(14,95,-0.819116794335765),(14,102,-0.902096621601001),(14,104,0.342265083773308),(14,106,-0.652729880672628),(14,109,0.0344553971984008),(14,110,-0.639027069917905),(14,111,-0.683553575243385),(15,85,-0.482284005249184),(15,92,0.843073824274422),(15,99,-0.523300881984924),(15,101,0.502945036164434),(15,104,-0.578814050721763),(15,108,-0.354167302468947),(15,117,0.124820703756829),(16,86,0.874141666920988),(16,87,-0.0462050233466597),(16,88,-0.718344676046022),(16,90,-0.0780663472396008),(16,91,-0.273903622547075),(16,95,-0.098117007965331),(16,97,-0.333841975157933),(16,98,-0.633838923306986),(16,99,-0.312967314676351),(16,101,0.450392162846767),(16,108,-0.875392925809503),(16,110,-0.00955229346598712),(17,89,0.898281807916501),(17,96,0.0592059083834346),(17,99,0.988769188512833),(17,101,-0.757591479232154),(17,106,0.921109653004547),(17,107,-0.673787652211066),(17,109,0.995361186559648),(18,90,0.869350260933256),(18,91,-0.0639057588427381),(18,93,-0.172063356425672),(18,99,0.450056459242531),(18,102,-0.834894863734855),(18,103,0.820398571733757),(18,104,0.14859462263863),(18,110,0.896633808404798),(18,111,-0.376171147801141),(18,116,0.321787163914914),(18,117,0.722952970976897),(18,118,-0.663899655140843),(19,87,0.0728476821192053),(19,89,0.0640278328806421),(19,93,0.0375988036744285),(19,95,-0.0467238380077517),(19,101,0.599536118655965),(19,105,0.128635517441328),(19,115,0.414258247627186),(20,88,0.715750602740562),(20,101,0.792992950224311),(20,103,0.991882076479385),(20,104,0.636646626178777),(20,105,-0.698904385509812),(20,106,-0.268166142765587),(20,111,0.515091402935881),(20,116,0.32944730979339),(21,86,-0.779564806054872),(21,87,0.80214850306711),(21,94,-0.210974456007569),(21,96,-0.901638843958861),(21,101,0.65385906552324),(21,102,0.203711050752281),(21,105,-0.378551591540269),(21,107,0.0226752525406659),(21,108,0.692007202368236),(22,86,0.888882106997894),(22,88,0.201208532975249),(22,91,0.101229895931883),(22,92,-0.646534623249001),(22,93,0.879360332041383),(22,98,-0.401318399609363),(22,106,0.733939634388256),(22,115,-0.151707510605182),(22,117,-0.444349497970519),(23,85,-0.545426801355022),(23,86,0.594134342478713),(23,88,-0.357799005096591),(23,90,0.103244117557298),(23,97,0.593340861232337),(23,104,-0.728568376720481),(23,112,0.543504135258034),(23,114,-0.208502456740013),(23,115,-0.785210730307932),(23,116,-0.731162450025941),(24,89,-0.0511185033722953),(24,90,0.827356791894284),(24,91,-0.460310678426466),(24,101,-0.762321848200934),(24,107,0.38746299630726),(24,108,-0.141087069307535),(24,110,-0.901150547807245),(24,112,0.882930997650075),(25,90,-0.834437086092715),(25,92,0.0807824945829646),(25,94,0.796685689870907),(25,98,0.671193578905606),(25,105,-0.413373210852382),(25,108,0.417859431745354),(25,109,-0.418469801934873),(25,115,-0.591967528305918),(26,85,-0.546617023224586),(26,87,-0.0286263618884854),(26,89,0.103518784142582),(26,95,0.0861842707602161),(26,98,-0.259804071169164),(26,100,-0.551530503250221),(26,101,-0.137394329660939),(26,102,-0.850245674001282),(26,103,0.269386883144627),(26,104,-0.155369731742302),(26,107,0.631580553605762),(26,109,-0.273201696829127),(26,112,-0.798333689382611),(26,113,0.638019959105197),(26,117,-0.488631855220191),(27,85,0.50129703665273),(27,87,0.464094973601489),(27,94,0.573534348582415),(27,100,-0.0491042817468795),(27,102,-0.097842341380047),(27,103,-0.0827967162083804),(27,104,-0.727378154850917),(27,105,0.513779107028413),(27,108,0.767784661397137),(27,110,0.733146153141881),(27,114,-0.457319864497818),(28,87,0.735038300729392),(28,88,0.115329447309793),(28,97,-0.923551133762627),(28,99,-0.320078127384259),(28,104,0.471022675252541),(28,113,0.903714102603229),(28,114,-0.206976531266213),(29,88,0.601184118167669),(29,91,-0.696768089846492),(29,102,-0.78530228583636),(29,105,-0.086519974364452),(29,116,-0.987945188756981),(30,95,0.065309610278634),(30,96,-0.971739860225227),(30,99,-0.555772576067385),(30,101,-0.103335673085726),(30,104,0.113254188665426),(30,109,-0.811639759514145),(30,110,0.117679372539445),(30,114,0.120273445844905),(30,118,0.304025391399884),(31,85,-0.745658742027039),(31,92,-0.625965147862178),(31,94,-0.174474318674276),(31,96,0.502914517654958),(31,99,-0.607257301553392),(31,103,0.792077394940031),(31,107,0.795098727378155),(31,108,0.977385784478286),(31,109,0.737662892544328),(31,111,0.702230903042695),(31,112,-0.0713522751548814),(31,117,-0.516586809900204),(32,86,0.884212775048067),(32,87,-0.188024536881619),(32,89,0.774956511123997),(32,92,-0.76387829218421),(32,98,0.350657673879208),(32,99,-0.393993957335124),(32,104,-0.155278176213874),(32,106,0.355571153904843),(32,109,-0.368144779808954),(32,116,0.386516922513504),(32,118,-0.628284554582354),(33,96,0.960783715323344),(33,98,0.15561387981811),(33,108,-0.147251808221686),(33,110,0.075777459028901),(33,111,0.814539017914365),(33,114,0.638477736747337),(34,85,-0.795281838435011),(34,90,-0.975432599871822),(34,99,-0.839625232703635),(34,104,-0.294076357310709),(34,109,-0.381267738883633),(35,86,-0.0791650135807367),(35,87,0.949430829798273),(35,97,0.0930509353923154),(35,98,-0.097994933927427),(35,100,0.859614856410413),(35,104,-0.62663655507065),(35,107,-0.00515762810144353),(35,109,-0.250312814722129),(35,110,0.442213202307199),(35,112,-0.370647297585986),(36,85,0.0380565813165685),(36,87,0.828699606311228),(36,90,0.24314096499527),(36,91,-0.108249153111362),(36,104,-0.278298287911618),(36,107,0.0302743614001892),(36,109,-0.0305795464949492),(36,112,-0.160771507919553),(36,115,-0.902859584337901),(36,117,0.570696127201147),(36,118,-0.62862025818659),(37,85,-0.861568041016877),(37,86,0.630237739188818),(37,87,-0.130588702047792),(37,91,0.982634968108158),(37,99,0.417706839197974),(37,105,0.579729606006043),(37,111,-0.781060213019196),(37,112,0.804712057863094),(37,118,-0.10971404156621),(38,87,-0.0075991088595233),(38,90,-0.730765709402753),(38,103,-0.517807550279244),(38,105,-0.422589800714133),(38,106,0.889004181035798),(38,111,-0.239661854915006),(38,115,-0.717551194799646),(39,87,-0.202490310373241),(39,89,0.814233832819605),(39,91,0.0421155430768761),(39,94,-0.87038789025544),(39,97,0.432660908841212),(39,98,0.168492690816981),(39,107,-0.123599963377789),(39,108,0.466689046906949),(39,109,0.721762749107334),(39,111,0.0633259071626942),(39,113,-0.194677571947386),(39,116,0.347911008026368),(39,118,0.0993987853633229),(40,88,-0.988769188512833),(40,92,0.706167790765099),(40,99,0.426160466322825),(40,104,0.211798455763421),(40,110,-0.655018768883328),(40,116,0.748680074465163),(40,118,-0.515060884426405),(41,88,0.511490218817713),(41,93,-0.992584002197333),(41,96,0.681173131504257),(41,97,-0.490737632374035),(41,100,0.535050508133183),(41,101,-0.778649250770592),(41,104,-0.83135471663564),(41,105,0.501876888332774),(41,106,-0.862575151829585),(41,107,0.860042115543077),(41,109,-0.112277596362194),(41,110,0.446821497238075),(41,111,-0.852259895626698),(41,112,-0.439954832605976),(42,85,0.898770104068117),(42,86,0.4376354258858),(42,87,0.744407483138524),(42,99,-0.398297067171239),(42,100,-0.00704977568895535),(42,103,-0.468703268532365),(42,109,0.228125858333079),(42,113,0.113711966307566),(43,85,0.122287667470321),(43,88,0.00936918240913114),(43,89,0.064821314127018),(43,93,0.756462294381542),(43,97,-0.51631214331492),(43,98,0.739463484603412),(43,101,-0.861903744621113),(43,102,-0.520798364207892),(43,103,-0.400646992400891),(43,105,0.145451216162603),(43,110,-0.590685750907926),(43,112,0.765373699148534),(43,114,-0.758140812402722),(43,116,0.197332682271798),(44,89,0.942503128147221),(44,98,0.530686361278115),(44,99,0.996368297372356),(45,87,-0.824091311380352),(45,88,0.115756706442457),(45,90,-0.402417065950499),(45,91,0.267372661519211),(45,95,-0.406567583239235),(45,98,0.129276406140324),(45,108,0.188756981109043),(45,109,0.797479171117283),(45,112,-0.00704977568895535),(45,115,-0.253822443311869),(46,85,-0.381511886959441),(46,89,0.0697042756431776),(46,91,0.553636280404065),(46,94,-0.657429731131931),(46,97,0.868678853724784),(46,100,0.204504531998657),(46,101,0.698355052339244),(46,108,0.856563005462813),(46,112,-0.867885372478408),(47,86,0.380779442732017),(47,91,0.568254646443068),(47,92,-0.0683309427167577),(47,94,0.549577318643757),(47,95,0.641987365337077),(47,100,0.12747581408124),(47,101,0.0564287240211188),(47,104,0.317819757683035),(47,105,0.930661946470534),(47,108,0.36954863124485),(47,112,-0.565172276985992),(47,114,-0.218634601886044),(47,118,-0.69518112735374),(48,86,0.0584124271370586),(48,91,-0.93496505630665),(48,98,-0.443647572252571),(48,99,0.912747581408124),(48,100,0.237159337137974),(48,103,0.993346964934233),(48,105,0.398297067171239),(48,106,-0.871822260200812),(48,111,0.222937711722159),(48,115,0.815271462141789),(49,87,-0.30344553971984),(49,89,-0.558305612353893),(49,93,0.307199316385388),(49,94,-0.445875423444319),(49,95,0.79863887447737),(49,102,-0.988921781060213),(49,113,0.879390850550859),(49,114,0.180394909512619),(50,89,0.516098513748589),(50,105,0.335489974669637),(50,107,0.193517868587298),(51,87,0.494003112887967),(51,92,0.0945768608661153),(51,97,0.184301278725547),(51,98,-0.496078371532334),(51,103,-0.216132084109012),(51,106,0.600878933072909),(51,112,-0.773613696707053),(51,118,-0.733726004821925),(52,89,-0.0425428022095401),(52,97,0.828577532273324),(52,106,-0.553575243385113),(52,110,-0.560106204412976),(52,111,0.979003265480514),(52,113,0.442457350383007),(52,114,0.912350840784936),(52,118,0.860194708090457),(53,88,0.810419019135105),(53,90,0.43748283333842),(53,92,-0.411603137302774),(53,94,0.510788293099765),(53,104,-0.189123203222755),(53,105,0.880703146458327),(53,109,0.375957518234809),(54,85,0.596331675160985),(54,91,-0.436078981902524),(54,94,0.405316324350719),(54,96,0.17932676168096),(54,111,-0.798364207892087),(54,112,-0.648457289345988),(54,113,0.425489059114353),(54,118,-0.0725424970244453),(55,87,0.177556688131352),(55,95,-0.208014160588397),(55,107,-0.540421765800958),(55,110,0.895596179082614),(55,117,-0.0673848689230018),(56,107,-0.28339487899411),(56,111,0.0966826380199591),(56,113,0.518265327921384),(56,114,-0.297372356334117),(57,87,-0.420239875484481),(57,90,0.377758110293893),(57,91,-0.353556932279427),(57,92,-0.465620899075289),(57,93,0.813104647968993),(57,94,-0.38883632923368),(57,95,-0.786461989196448),(57,96,0.478591265602588),(57,100,0.3527024140141),(57,102,-0.706411938840907),(57,103,0.862880336924345),(57,115,0.0773949400311289),(58,86,-0.0422070986053041),(58,87,-0.360972930082095),(58,89,0.0819727164525285),(58,90,-0.5692312387463),(58,95,-0.876766258735923),(58,96,-0.221686452833644),(58,101,-0.63594470046083),(58,103,-0.482345042268136),(58,109,-0.778984954374828),(58,110,0.85171056245613),(58,113,0.940397350993378),(58,114,-0.363841669972839),(58,115,0.685689870906705),(58,118,-0.302804651020844),(59,85,-0.799920651875362),(59,86,-0.438825647755364),(59,90,0.378093813898129),(59,91,0.818750572222053),(59,93,-0.0520645771660512),(59,97,0.349375896481216),(59,98,-0.150151066621906),(59,100,0.914883877071444),(59,102,0.0333567308572649),(59,112,-0.692709128086184),(59,114,0.908719138157292),(60,85,-0.804040650654622),(60,87,0.711630603961303),(60,90,0.576464125492111),(60,91,0.798669392986846),(60,96,-0.636494033631397),(60,100,-0.827906125064852),(60,101,-0.910855433820612),(60,105,-0.947538682210761),(60,107,0.523422956022828),(60,109,-0.891994994964446),(60,110,-0.655354472487564),(60,114,0.422956022827845),(61,89,0.812005981627857),(61,94,-0.375041962950529),(61,96,0.739738151188696),(61,98,0.996612445448164),(61,100,0.581530198065127),(61,102,-0.943571275978881),(61,103,-0.877162999359111),(61,114,-0.808648945585498),(61,115,0.828791161839656),(62,93,0.0777611621448408),(62,95,-0.989043855098117),(62,107,0.526322214423048),(62,109,0.311624500259407),(62,110,-0.918698690755943),(62,111,-0.459791863765374),(63,87,-0.0904568620868557),(63,90,0.519699697866756),(63,93,-0.687429425946837),(63,97,0.94030579546495),(63,100,0.643513290810877),(63,103,-0.740531632435072),(63,104,0.52058473464156),(63,108,0.919186986907559),(63,111,-0.733024079103977),(63,114,0.690420239875485),(63,117,0.065248573259682),(64,87,0.780358287301248),(64,94,-0.384289071321757),(64,99,-0.678273873104038),(64,110,0.67772453993347),(64,112,0.565355388042848),(64,116,0.135959959715567),(65,87,-0.771629993591113),(65,88,-0.569261757255776),(65,90,-0.160069582201605),(65,97,0.632068849757378),(65,99,-0.93313394573809),(65,107,-0.74306466872158),(65,110,0.123447370830409),(65,111,-0.864680928983428),(65,114,-0.596606341746269),(65,116,0.0658284249397259),(65,117,-0.877986999114963),(66,85,-0.660481582079531),(66,102,0.651356547746208),(66,105,0.318094424268319),(66,108,-0.479903561510056),(66,111,0.505569627979369),(66,115,-0.303323465681936),(66,118,0.566515091402936),(67,86,-0.688619647816401),(67,90,0.301431318094424),(67,92,-0.255073702200385),(67,104,-0.790581987975707),(67,109,0.702352977080599),(67,111,0.417615283669546),(68,87,-0.519089327677236),(68,88,-0.146732993560594),(68,90,-0.871578112125004),(68,93,-0.877925962096011),(68,95,0.489730521561327),(68,96,0.849543748283334),(68,97,-0.539353617969298),(68,103,-0.73802911465804),(68,107,-0.769646290475173),(68,112,-0.236152226325266),(68,114,0.967345194860683),(69,87,-0.391064180425428),(69,88,-0.249061555833613),(69,92,0.483291116061892),(69,94,-0.222357860042116),(69,95,0.727988525040437),(69,97,0.547471541489914),(69,108,-0.579821161534471),(69,113,-0.930509353923154),(69,114,-0.922482985930967),(69,118,-0.0797448652607807),(70,85,0.924344615009003),(70,86,0.655934324167608),(70,87,-0.841212195196387),(70,90,-0.747856074709311),(70,96,0.547868282113102),(70,97,-0.904873805963317),(70,99,-0.0790429395428327),(70,105,0.256965849787896),(70,107,-0.961699270607624),(70,109,0.754387035737175),(70,110,0.619190038758507),(70,111,-0.0571001312295907),(71,85,-0.629627368999298),(71,93,-0.106479079561754),(71,96,0.118198187200537),(71,100,0.909451582384716),(71,104,0.0660725730155339),(71,106,-0.566850795007172),(71,111,-0.816370128482925),(71,113,0.0775780510879849),(72,94,-0.558488723410749),(72,96,0.948820459608753),(72,99,-0.0726340525528733),(72,110,0.144291512802515),(72,112,-0.514969328897977),(72,114,-0.402203436384167),(72,115,0.525040437025056),(72,116,0.452620014038514),(73,88,-0.437055574205756),(73,94,0.167363505966369),(73,99,0.875545518356883),(73,100,0.172338023010956),(73,106,0.517288735618152),(73,110,0.954069643238624),(73,115,0.300424207281716),(74,90,0.991546372875149),(74,94,-0.861995300149541),(74,99,0.945158238471633),(74,102,-0.485396893215735),(74,106,-0.432782982879116),(74,107,0.338755455183569),(74,110,-0.425794244209113),(74,113,-0.285622730185858),(74,116,-0.794732505264443),(75,85,0.0491958372753075),(75,86,0.0372020630512406),(75,93,-0.011108737449263),(75,98,0.718405713064974),(75,103,0.426618243964965),(75,105,-0.655629139072848),(75,111,-0.336649678029725),(75,117,-0.378582110049745),(76,86,-0.958647419660024),(76,89,-0.89608447523423),(76,92,-0.837061677907651),(76,94,0.30039368877224),(76,99,-0.534836878566851),(76,101,0.241431928464614),(76,103,-0.147312845240638),(76,106,-0.800531022064882),(76,110,-0.419446394238105),(76,113,0.796349986266671),(77,88,0.747856074709311),(77,91,0.0536210211493271),(77,93,0.848994415112766),(77,98,-0.665974913785211),(77,101,-0.37443159276101),(77,102,0.78392895290994),(77,103,-0.254890591143529),(77,104,0.960020752586444),(77,105,-0.0536210211493271),(77,109,-0.581377605517747),(78,88,0.11123996704001),(78,93,-0.421643726920377),(78,94,-0.762688070314646),(78,101,0.843256935331278),(78,104,-0.407391582995087),(78,110,0.681295205542161),(78,114,-0.714865565965758),(78,116,-0.340433973204749),(78,117,-0.745567186498611),(78,118,0.135685293130284),(79,87,0.269539475692007),(79,92,-0.408917508468886),(79,94,0.0635090182195502),(79,107,-0.451673940244758),(79,108,-0.467421491134373),(79,114,-0.766167180394909),(79,118,0.982360301522874),(80,87,0.695150608844264),(80,88,0.19052705465865),(80,91,-0.952482680745872),(80,99,-0.778954435865352),(80,101,0.0849330118717002),(80,107,-0.947599719229713),(80,113,-0.397412030396435),(81,85,-0.983794671468246),(81,86,-0.371745963927122),(81,90,-0.283944212164678),(81,93,-0.111301004058962),(81,96,0.603503524887844),(81,97,0.842066713461715),(81,106,0.816980498672445),(81,107,-0.00149540696432386),(81,110,0.968657490768151),(81,115,0.947019867549669),(82,86,-0.896023438215278),(82,92,0.813959166234321),(82,110,-0.206183050019837),(82,112,0.556321909237953),(83,87,-0.887630848109378),(83,91,0.699392681661428),(83,93,-0.337351603747673),(83,101,-0.837214270455031),(83,103,0.0857875301370281),(83,105,-0.404950102237007),(83,108,-9.15555284279916e-05),(84,85,0.758293404950102),(84,86,-0.247016815698721),(84,89,-0.0903958250679037),(84,95,-0.796960356456191),(84,99,-0.218420972319712),(84,104,-0.750389110995819),(84,111,0.769798883022553),(84,113,0.267525254066591),(84,114,-0.80077517014069)]
orgname='BHNEAT_1_13'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()