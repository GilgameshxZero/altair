edge = [(0,85,-1.06048768578143),(0,89,-1.14502395702994),(0,90,2.48298593096713),(0,93,1.40646076845607),(0,98,-1.02194280831324),(0,101,-1.58272041993469),(0,105,0.473784600360118),(0,108,0.0586718344676046),(0,113,0.946180608539079),(0,114,-1.39912106692709),(0,117,0.563676870021668),(0,118,-2.49047822504349),(1,86,-1.22591326639607),(1,92,0.780068361461226),(1,98,0.671407208471938),(1,102,-0.323389385662404),(1,104,1.34002197332682),(1,107,1.26699118015076),(1,108,-0.0154881435590686),(1,109,0.730521561326945),(1,113,-2.23453474532304),(2,87,0.883922849208045),(2,88,2.98303170873135),(2,100,-1.51626636555071),(2,106,-1.48834192938017),(2,108,1.17302468947417),(2,110,0.0901058992278817),(2,113,1.62422559282205),(2,118,1.09703360087893),(3,89,-0.504989776299326),(3,92,1.38166447950682),(3,97,1.35143589587085),(3,99,1.45138401440474),(3,101,-0.655751213110752),(3,103,1.55041657765435),(3,105,-0.684224982451857),(3,108,2.41416669209876),(3,109,1.47289956358531),(3,111,-1.85140537736137),(3,112,0.294869838557085),(3,116,-2.94019898068178),(4,90,0.418576616718039),(4,91,2.06535538804285),(4,97,-1.92750328073977),(4,99,1.94438001648),(4,101,-1.81511886959441),(4,108,3.02003540147099),(4,113,1.24474318674276),(4,118,1.8920560319834),(5,86,-0.685354167302469),(5,87,0.329798272652364),(5,89,-1.76004821924497),(5,92,0.203009125034333),(5,93,-1.37685781426435),(5,99,-2.09215063936277),(5,104,0.793343913083285),(5,114,0.716727195043794),(5,118,-2.3614154484695),(6,89,0.245170445875423),(6,92,1.63335062715537),(6,94,0.586489455854976),(6,100,-0.760917996765038),(6,101,-2.0542924283578),(6,103,1.70723593859676),(6,107,-0.236411633655812),(6,110,0.149540696432386),(6,113,-0.16917935728019),(7,85,-0.391018402661214),(7,86,-0.262016663106174),(7,90,-1.89376506851405),(7,95,3.30550553910947),(7,99,-1.69411297952208),(7,100,-1.04062013611255),(7,104,1.24272896511734),(7,106,2.80457472457045),(7,108,-0.236762596514786),(7,112,1.03970458082827),(7,116,-0.0294503616443373),(8,92,-2.69771416364025),(8,93,-0.144505142368847),(8,95,-0.997497482222968),(8,99,-2.79006317331462),(8,106,-0.587542344431898),(8,107,-0.291299172948393),(8,115,0.75853755302591),(8,116,-0.5879848628193),(8,118,-1.06494338816492),(9,85,-1.36526078066347),(9,87,0.845896786400952),(9,98,1.55674916837062),(9,101,-2.16798913541063),(9,103,0.505767998290964),(9,105,0.488418225653859),(9,106,0.718375194555498),(9,113,2.06167790765099),(10,89,0.0650502029480879),(10,96,-0.546388134403516),(10,106,2.40528580584124),(10,108,-0.0780205694753868),(10,111,-0.276467177343059),(10,112,-2.19389934995575),(10,114,1.78173162022767),(10,115,0.855616931669057),(10,116,0.0205236976226081),(10,117,0.527314065981017),(11,89,1.76833399456771),(11,97,1.24576555681021),(11,105,1.72739341410566),(11,112,0.721594897305216),(11,115,-1.30237739188818),(12,92,1.4754631183813),(12,93,-0.964735862300485),(12,94,-1.57345805230873),(12,97,1.61564989165929),(12,98,0.785332804345836),(12,99,0.723807489242225),(12,108,-1.42458876308481),(12,116,-1.78235724967193),(13,86,2.12024292733543),(13,87,-1.4961851863155),(13,90,-0.741111484115116),(13,99,1.45985290078433),(13,102,-1.7314676351207),(13,104,2.10167241431928),(13,113,2.4016541032136),(13,116,-1.48315378276925),(13,118,0.262077700125126),(14,90,1.08093508713034),(14,93,-1.37543870357372),(14,95,0.533921323282571),(14,102,-0.628055665761284),(14,104,0.971327860347301),(14,106,0.555833613086337),(14,109,-0.467513046662801),(14,110,-0.474196600238044),(14,111,-2.33561204870754),(15,85,-0.655354472487564),(15,92,0.754036072878201),(15,99,-1.35666982024598),(15,101,1.63502914517655),(15,104,-0.521439252906888),(15,108,1.07150486770226),(15,117,0.827112643818476),(16,86,-0.11383404034547),(16,87,-1.2720267342143),(16,88,-1.37537766655477),(16,90,-0.458342234565264),(16,91,0.731452375865963),(16,95,0.327417828913236),(16,97,-2.34585100863674),(16,98,-2.14922025208289),(16,99,-2.52870265816218),(16,101,0.80108035523545),(16,108,0.186605426190985),(16,110,0.0695974608600116),(17,89,2.08136234626301),(17,96,2.17897579882199),(17,99,-1.7509842219306),(17,101,-0.36397900326548),(17,106,-1.04210028382214),(17,107,-0.0424512466811121),(17,109,-1.29778435621204),(18,90,1.3855098117008),(18,91,0.505996887112034),(18,93,-2.23982970671712),(18,99,1.14566484572893),(18,102,0.248573259681997),(18,103,-0.847773674733726),(18,104,-0.428556169316691),(18,110,-1.20177312540056),(18,111,1.12039551988281),(18,116,0.389721366008484),(18,117,-1.48022400585955),(18,118,-1.14172795800653),(19,87,-0.260994293038728),(19,89,-0.597750785851619),(19,93,2.21625415814692),(19,95,1.63556321909238),(19,101,1.98269600512711),(19,105,-1.28833887752922),(19,115,-2.05821405682546),(20,88,-0.162587359233375),(20,101,2.13469344157231),(20,103,-2.07876827295755),(20,104,1.50219733268227),(20,105,-2.15967284157842),(20,106,-0.789117099520859),(20,111,-2.20824304940947),(20,116,-0.552018799401837),(21,86,-1.62450025940733),(21,87,-0.784340952787866),(21,94,1.14758751182592),(21,96,1.60679952391125),(21,101,0.794122135074923),(21,102,0.0877254554887539),(21,105,0.594134342478713),(21,107,-2.142399365215),(21,108,0.80550553910947),(22,86,0.097460860011597),(22,88,-1.7376934110538),(22,91,-0.206671346171453),(22,92,1.42649616992706),(22,93,-0.152729880672628),(22,98,-2.3510544145024),(22,106,-1.12204351939451),(22,115,1.24794763023774),(22,117,-1.39477217932676),(23,85,-2.87452314828944),(23,86,0.387798699911496),(23,88,-2.03247169408246),(23,90,1.39728995635853),(23,97,-0.697027497177038),(23,104,-2.20764793847469),(23,112,2.89849543748283),(23,114,0.41010773033845),(23,115,0.804422132023072),(23,116,1.56245612964263),(24,89,1.82145146031068),(24,90,-3.00985747856075),(24,91,-1.41668446913053),(24,101,1.59076204718162),(24,107,-0.234107486190375),(24,108,-0.801568651387066),(24,110,1.11314737388226),(24,112,0.885616626483963),(25,90,0.548295541245766),(25,92,-1.56625568407239),(25,94,-0.862102114932707),(25,98,-1.96314889980773),(25,105,2.58594012268441),(25,108,0.636616107669301),(25,109,2.37534714804529),(25,115,-2.05452131717887),(26,85,0.541917172765282),(26,87,0.224936674092837),(26,89,-0.712378307443464),(26,95,-0.470213934751427),(26,98,-0.928739280373547),(26,100,-2.08006530961028),(26,101,2.02021851252785),(26,102,1.55380413220618),(26,103,-0.683339945677053),(26,104,0.511551255836665),(26,107,-1.21167638172552),(26,109,3.02706991790521),(26,112,0.849559007538072),(26,113,2.14462721640675),(26,117,-0.195608386486404),(27,85,0.639820551164281),(27,87,-1.0061037018952),(27,94,-0.233695486312448),(27,100,2.53093050935392),(27,102,-0.676442762535478),(27,103,-0.148472548600726),(27,104,-1.08513138218329),(27,105,-0.143360698263497),(27,108,-0.314111758781701),(27,110,0.544816431165502),(27,114,-0.560716574602496),(28,87,-0.824900051881466),(28,88,0.336878566850795),(28,97,-2.30994598223823),(28,99,-0.249946592608417),(28,104,2.18294320505387),(28,113,-1.17572557756279),(28,114,1.49874874111148),(29,88,-1.98179570909757),(29,91,-0.865703299050874),(29,102,-2.58302560502945),(29,105,-1.49343852046266),(29,116,0.110065004425184),(30,95,0.80077517014069),(30,96,1.49871822260201),(30,99,1.70421460615864),(30,101,-1.25389873958556),(30,104,-1.38233588671529),(30,109,1.51298562578204),(30,110,1.85262611774041),(30,114,-2.93997009186071),(30,118,2.54931791131321),(31,85,-0.768852809228797),(31,92,0.415463728751488),(31,94,-0.104770043031098),(31,96,0.899105807672353),(31,99,-0.123828852198859),(31,103,1.2531510361034),(31,107,2.43530075991089),(31,108,2.48567155980102),(31,109,-1.51997436445204),(31,111,-1.96310312204352),(31,112,1.55438398388623),(31,117,0.8286080507828),(32,86,0.631885738700522),(32,87,2.30458998382519),(32,89,1.9824518570513),(32,92,1.56033509323405),(32,98,-0.595568712424085),(32,99,-0.115726187932981),(32,104,0.912381359294412),(32,106,-1.16754661702322),(32,109,-0.116199224829859),(32,116,-2.03123569444868),(32,118,-0.662923062837611),(33,96,-0.259666737876522),(33,98,0.272560808130131),(33,108,-3.00190740684225),(33,110,-0.883236182744835),(33,111,0.292565691091647),(33,114,1.64252143925291),(34,85,1.88679158909879),(34,90,-2.81691946165349),(34,99,1.8527024140141),(34,104,-0.442579424420911),(34,109,2.69521164586322),(35,86,1.40614032410657),(35,87,-0.686056093020417),(35,97,-0.271004364146855),(35,98,2.25936155278176),(35,100,1.84180730613117),(35,104,3.05792413098544),(35,107,0.332667012543107),(35,109,0.152516251106296),(35,110,1.88740195928831),(35,112,1.64639728995636),(36,85,-2.74851222266305),(36,87,0.849223303933836),(36,90,-2.97547837763604),(36,91,1.03755302591021),(36,104,0.0260170293282876),(36,107,1.99851985229041),(36,109,0.0292977690969572),(36,112,-0.334543900875881),(36,115,-1.18396557512131),(36,117,0.696996978667562),(36,118,-0.904171880245369),(37,85,0.419293801690725),(37,86,1.15550706503494),(37,87,1.42231513412885),(37,91,0.384838404492325),(37,99,-2.09883419293802),(37,105,-1.54126102481155),(37,111,0.30092776268807),(37,112,0.349665822321238),(37,118,-1.53030487990967),(38,87,1.96957304605243),(38,90,1.2241584521012),(38,103,-0.552385021515549),(38,105,-0.336878566850795),(38,106,-0.536896877956481),(38,111,1.86388744773705),(38,115,-0.112674336985382),(39,87,-0.228888821069979),(39,89,0.470900601214637),(39,91,0.361720633564257),(39,94,-2.62897122104556),(39,97,-0.681676686910611),(39,98,0.523041474654378),(39,107,-1.4509262367626),(39,108,0.841212195196387),(39,109,2.48869289223914),(39,111,-0.804940946684164),(39,113,0.78072450941496),(39,116,-1.40409558397168),(39,118,-2.02134769737846),(40,88,2.08464308603168),(40,92,-0.87183751945555),(40,99,2.4162724692526),(40,104,-1.73027741325114),(40,110,-0.829935605945006),(40,116,2.06816309091464),(40,118,-0.955610827967162),(41,88,-1.5164647358623),(41,93,-0.486373485518967),(41,96,-1.38927884762108),(41,97,-0.824915311136204),(41,100,0.163884395886105),(41,101,1.21796319467757),(41,104,-1.72707296975616),(41,105,-0.841624195074313),(41,106,1.14708395641957),(41,107,0.0598162785729546),(41,109,0.308603167821284),(41,110,1.3055970946379),(41,111,-0.861781670583209),(41,112,1.11905270546587),(42,85,1.99029511398663),(42,86,-1.90011291848506),(42,87,-0.93740653706473),(42,99,1.09820856349376),(42,100,0.396633808404798),(42,103,0.97331156346324),(42,109,1.02575762199774),(42,113,1.56578264717551),(43,85,-0.312509537034211),(43,88,0.0901821955015717),(43,89,-1.72283089693899),(43,93,1.41784417249062),(43,97,0.0447706534012879),(43,98,1.01336710715049),(43,101,0.768028809472945),(43,102,0.464964751121555),(43,103,0.122684408093509),(43,105,-0.334177678762169),(43,110,-1.98133793145543),(43,112,0.757866145817438),(43,114,-0.988708151493881),(43,116,1.33671071504868),(44,89,-0.164799951170385),(44,98,2.02230903042695),(44,99,2.39577929013947),(45,87,0.228507339701529),(45,88,1.73354289376507),(45,90,-2.21991637928404),(45,91,1.61749626148259),(45,95,-1.78293710135197),(45,98,-1.58668782616657),(45,108,-0.385174108096561),(45,109,1.74860377819147),(45,112,3.0837275307474),(45,115,1.37369914853359),(46,85,-1.44709616382336),(46,89,0.184942167424543),(46,91,-0.100833155308695),(46,94,1.36266670735801),(46,97,0.249092074343089),(46,100,-0.715659047212134),(46,101,-0.295251319925535),(46,108,-2.36037781914731),(46,112,-1.00698873867),(47,86,-2.74480422376171),(47,91,0.699392681661428),(47,92,-1.30758079775384),(47,94,-1.04606769005402),(47,95,-0.308999908444472),(47,100,-2.97416608172857),(47,101,-0.354548783837397),(47,104,2.78595843379009),(47,105,-1.70119327372051),(47,108,0.134434034241768),(47,112,-1.49900814844203),(47,114,1.23477889339885),(47,118,1.91572313608203),(48,86,-0.376949369792779),(48,91,-2.62831507309183),(48,98,-2.41271706289865),(48,99,2.43011261329997),(48,100,2.09541611987671),(48,103,-1.28249458296457),(48,105,1.53231910153508),(48,106,-2.94491409039582),(48,111,0.343256935331278),(48,115,-1.26979888302255),(49,87,0.126682332834864),(49,89,0.323770867030854),(49,93,2.35592211676382),(49,94,2.18985564745018),(49,95,-1.93321024201178),(49,102,0.949980162968841),(49,113,1.22354808191168),(49,114,0.951994384594256),(50,89,1.79763176366466),(50,105,0.636097293008209),(50,107,0.514847254860073),(51,87,0.224524674214911),(51,92,0.0942564165166173),(51,97,2.31592761009552),(51,98,1.39373455000458),(51,103,0.582995086519974),(51,106,1.95471053193762),(51,112,2.42507705923643),(51,118,0.0518509475997192),(52,89,2.82728049562059),(52,97,-1.52656636249886),(52,106,-0.805230872524186),(52,110,-0.75647755363628),(52,111,0.856532486953337),(52,113,0.192648091067232),(52,114,0.505233924375133),(52,118,0.653447065645314),(53,88,0.985015411847285),(53,90,-0.921811578722495),(53,92,-0.813180944242683),(53,94,-0.698263496810816),(53,104,0.746757408368175),(53,105,-0.863460188604389),(53,109,-0.902829065828425),(54,85,1.22711874752037),(54,91,1.06181524094363),(54,94,0.962614825891903),(54,96,-1.90244758445997),(54,111,-0.769676808984649),(54,112,1.43858149967956),(54,113,2.06254768517106),(54,118,2.16774498733482),(55,87,-0.739524521622364),(55,95,1.36043885616626),(55,107,1.09111301004059),(55,110,0.985900448622089),(55,117,-2.3418988616596),(56,107,1.3518173772393),(56,111,-1.68700216681417),(56,113,-0.392208624530778),(56,114,2.46972563859981),(57,87,0.370433668019654),(57,90,1.28585161900693),(57,91,1.23409222693564),(57,92,-1.07432782982879),(57,93,-0.559999389629811),(57,94,0.241523483993042),(57,95,0.145176549577319),(57,96,-2.51933347575304),(57,100,-2.05488753929258),(57,102,-0.690252388073367),(57,103,1.38416699728385),(57,115,-0.691167943357647),(58,86,2.11899166844691),(58,87,-1.05522324289682),(58,89,2.21840571306497),(58,90,2.45773186437574),(58,95,0.866939298684652),(58,96,-0.264137699514756),(58,101,-1.60167241431928),(58,103,2.67809076204718),(58,109,-2.14804528946806),(58,110,0.15050202948088),(58,113,-2.23162022766808),(58,114,0.574129459517197),(58,115,-1.40377513962218),(58,118,-3.02240058595538),(59,85,1.64467299417097),(59,86,3.17484054078799),(59,90,-1.46966460158086),(59,91,1.75290688802759),(59,93,0.767815179906613),(59,97,2.83851130710776),(59,98,0.750480666524247),(59,100,-2.21971800897244),(59,102,0.117831965086825),(59,112,-2.99981688894314),(59,114,0.703375347148045),(60,85,-2.24375133518479),(60,87,-0.269920957060457),(60,90,0.851954710531938),(60,91,-1.81203650013733),(60,96,0.186513870662557),(60,100,-0.819299905392621),(60,101,-0.543595690786462),(60,105,-0.304040650654622),(60,107,-0.878856776635029),(60,109,1.66193121127964),(60,110,-0.928662984099857),(60,114,-0.19190038758507),(61,89,0.391674550614948),(61,94,-1.51159703360088),(61,96,-0.247672963652455),(61,98,-2.31666005432295),(61,100,-0.161442915128025),(61,102,-1.96043275246437),(61,103,-0.196996978667562),(61,114,-1.85291604358043),(61,115,0.604571672719504),(62,93,0.512909329508347),(62,95,-1.21028778954436),(62,107,-0.936155278176214),(62,109,1.87505722220527),(62,110,1.97408978545488),(62,111,2.12456129642628),(63,87,0.640995513779107),(63,90,2.55298013245033),(63,93,0.914410840174566),(63,97,-1.15489669484542),(63,100,-1.46977141636402),(63,103,-0.610385448774682),(63,104,-1.14683980834376),(63,108,-0.900463881344035),(63,111,-1.32412182988983),(63,114,-0.162785729544969),(63,117,-2.29282509842219),(64,87,-2.09311197241127),(64,94,-0.398556474501785),(64,99,-1.75879696035646),(64,110,0.942243720816675),(64,112,-0.539750358592486),(64,116,-0.200537125766778),(65,87,2.20722067934202),(65,88,0.0776696066164129),(65,90,-2.16078676717429),(65,97,0.381481368449965),(65,99,0.0341196935941649),(65,107,-0.0251319925534838),(65,110,-0.806527909176916),(65,111,-0.0235297708059938),(65,114,0.21691030610065),(65,116,-1.80564287240211),(65,117,-1.69927060762352),(66,85,2.34325693533128),(66,102,0.863353373821223),(66,105,2.45814386425367),(66,108,-0.544282357249672),(66,111,-1.4075594347972),(66,115,0.46165349284341),(66,118,0.730597857600635),(67,86,0.493148594622639),(67,90,2.9197668385876),(67,92,-0.558168279061251),(67,104,0.82311471907712),(67,109,0.573519089327677),(67,111,1.07310708944975),(68,87,2.51382488479263),(68,88,0.1059755241554),(68,90,-1.93791009247108),(68,93,-0.675923947874386),(68,95,2.46917630542924),(68,96,0.277169103061007),(68,97,-0.345973082674642),(68,103,0.228049562059389),(68,107,-1.59184545426801),(68,112,-0.713446455275124),(68,114,2.49124118778039),(69,87,2.44759971922971),(69,88,-2.58851893673513),(69,92,1.34678182317576),(69,94,2.35862300485244),(69,95,-0.98025452436903),(69,97,-0.709570604571673),(69,108,-0.466414380321665),(69,113,-1.91834772789697),(69,114,1.25235755485702),(69,118,0.190191351054415),(70,85,-0.357799005096591),(70,86,-1.55146946623127),(70,87,-1.33999145481735),(70,90,2.20865504928739),(70,96,0.0966673787652211),(70,97,0.643162327951903),(70,99,-1.38256477553636),(70,105,-2.14079714346751),(70,107,0.750511185033723),(70,109,0.312143314920499),(70,110,0.399334696493423),(70,111,0.656468398083438),(71,85,0.780220954008606),(71,93,-2.81981872005371),(71,96,-1.02037110507523),(71,100,-0.191763054292428),(71,104,-0.744804223761711),(71,106,-2.63197729422895),(71,111,1.76905117954039),(71,113,0.54643391216773),(72,94,3.30976287118137),(72,96,1.22699667348247),(72,99,-1.80143131809442),(72,110,-1.07150486770226),(72,112,1.61923581652272),(72,114,-1.58696249275185),(72,115,-0.21568956572161),(72,116,1.61616870632038),(73,88,1.08836634418775),(73,94,0.275185399945067),(73,99,-1.93609424115726),(73,100,-0.937360759300516),(73,106,-0.406506546220283),(73,110,2.11821344645528),(73,115,-0.0560930204168828),(74,90,-0.355906857509079),(74,94,-1.34640034180731),(74,99,0.0710318308053834),(74,102,-0.288918729209265),(74,106,0.329004791405988),(74,107,1.63917966246529),(74,110,-1.47463911862545),(74,113,-0.639179662465285),(74,116,0.495788445692312),(75,85,1.19507431257057),(75,86,-1.13391521958068),(75,93,-3.06784264656514),(75,98,0.0681936094241158),(75,103,-2.78440198980682),(75,105,-1.71639149143956),(75,111,2.72382274849696),(75,117,1.63272499771111),(76,86,1.66446424756615),(76,89,1.70227668080691),(76,92,-1.93957335123753),(76,94,0.676137577440718),(76,99,1.82840968047121),(76,101,0.296182134464553),(76,103,-0.220465712454604),(76,106,0.748832667012543),(76,110,-0.23406170842616),(76,113,-0.403683584093753),(77,88,0.711874752037111),(77,91,2.47779778435621),(77,93,1.62488174077578),(77,98,0.0988494521927549),(77,101,1.05113376262703),(77,102,2.61517685476241),(77,103,1.58246101260414),(77,104,1.56567583239235),(77,105,2.14844203009125),(77,109,1.69647816400647),(78,88,1.07136753440962),(78,93,0.661275063325907),(78,94,2.66948454237495),(78,101,-1.65414899136326),(78,104,2.42107913449507),(78,110,0.699407940916166),(78,114,-0.494399853511155),(78,116,0.502639851069674),(78,117,-0.274147770622883),(78,118,-2.31879634998627),(79,87,-0.981826227607044),(79,92,0.242164372692038),(79,94,2.43397320474868),(79,107,1.85093234046449),(79,108,-1.7055269020661),(79,114,1.13409833063753),(79,118,-2.17969298379467),(80,87,2.73032319101535),(80,88,-2.53006073183386),(80,91,-0.56091494491409),(80,99,-2.09295937986389),(80,101,2.34633930478835),(80,107,0.465010528885769),(80,113,-0.272988067262795),(81,85,0.843684194463942),(81,86,1.79317606128117),(81,90,-1.01437421796319),(81,93,-2.0550553910947),(81,96,-0.945631275368511),(81,97,-2.88729514450514),(81,106,-1.45034638508255),(81,107,1.92051454206977),(81,110,-0.144962920010987),(81,115,-2.23908200323496),(82,86,1.9197668385876),(82,92,0.838511307107761),(82,110,-2.47488326670125),(82,112,2.47111423078097),(83,87,-2.89323099459822),(83,91,1.1614734336375),(83,93,-0.0595110934781945),(83,101,0.0256050294503616),(83,103,1.57979064302499),(83,105,1.25652333140049),(83,108,-1.60995818964202),(84,85,-0.075945310831019),(84,86,0.152500991851558),(84,89,-1.6831568346202),(84,95,1.4591204565569),(84,99,-0.32410657063509),(84,104,0.146946623126926),(84,111,0.714728232673116),(84,113,0.17757194738609),(84,114,1.45849482711264),(10,119,-0.986907559434797),(119,109,0.46134830774865),(58,120,-0.765648365733818),(120,118,-0.528046510208441),(95,104,0.33066805017243)]
orgname='BHNEAT_9_14'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()