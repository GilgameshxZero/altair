edge = [(0,85,0.101168858912931),(0,89,1.13234351634266),(0,90,-0.669743949705496),(0,93,-0.629337443159276),(0,98,0.890606402783288),(0,101,1.05491805780206),(0,105,-0.205816827906125),(0,108,0.47529526657918),(0,113,2.20221564378796),(0,114,-1.40881069368572),(0,117,1.76175725577563),(0,118,2.1928769798883),(1,86,-2.3040711691641),(1,92,-0.0390331736198004),(1,98,2.63359477523118),(1,102,-2.3954283272805),(1,104,-0.000122074037903985),(1,107,-0.577486495559557),(1,108,0.846507156590472),(1,109,0.458265938291574),(1,113,2.49505600146489),(2,87,2.01490829187902),(2,88,-1.46214178899503),(2,100,0.389049958800012),(2,106,1.54461806085391),(2,108,2.46955778679769),(2,110,1.91399884029664),(2,113,-0.684530167546617),(2,118,-2.3117007965331),(3,89,2.01043733024079),(3,92,0.0821253089999084),(3,97,1.54066591387677),(3,99,1.70613727225562),(3,101,0.442976165044099),(3,103,-1.25316629535813),(3,105,2.91056550798059),(3,108,-2.0113223670156),(3,109,-0.920072023682363),(3,111,0.222724082155828),(3,112,2.16650898770104),(3,116,2.78844569231239),(4,90,-1.35903500473037),(4,91,-1.4373149815363),(4,97,0.624744407483139),(4,99,1.07919553209021),(4,101,-0.525711844233528),(4,108,0.65370647297586),(4,113,-1.56402783288064),(4,118,-1.14734336375011),(5,86,-1.29348124637593),(5,87,-0.288720358897671),(5,89,-0.449552903836177),(5,92,2.2598193304239),(5,93,-0.0531327249977112),(5,99,1.92419202246162),(5,104,-2.22067934202094),(5,114,0.98055970946379),(5,118,-0.667821283608509),(6,89,1.00354014709922),(6,92,0.121616260261849),(6,94,1.93876461073641),(6,100,-0.200506607257302),(6,101,2.39295632801294),(6,103,-0.0971251564073611),(6,107,0.772179326761681),(6,110,-1.17297891170995),(6,113,2.46958830530717),(7,85,-0.431440168462172),(7,86,0.623554185613575),(7,90,-1.86059144871364),(7,95,0.2119510483108),(7,99,-1.00181585131382),(7,100,-0.11123996704001),(7,104,1.81006805627613),(7,106,0.0808893093661305),(7,108,-2.63180944242683),(7,112,2.9484389782403),(7,116,-1.78008362071596),(8,92,-1.57983642078921),(8,93,0.460936307870724),(8,95,1.42370372631001),(8,99,-1.72101504562517),(8,106,-2.0853755302591),(8,107,-0.12594988860744),(8,115,-0.572313608203375),(8,116,-2.23316141239662),(8,118,1.76030762657552),(9,85,-2.32291634876553),(9,87,1.52699362163152),(9,98,-1.14047669911802),(9,101,1.18266853846858),(9,103,0.244575334940641),(9,105,-1.55552842799158),(9,106,-2.03563035981323),(9,113,0.431516464735862),(10,89,-1.12491225928526),(10,96,1.48832667012543),(10,106,-1.87134922330393),(10,108,-1.33207190160833),(10,109,-0.746864223151341),(10,111,-1.19106112857448),(10,112,-0.724753563035981),(10,114,0.128208258308664),(10,115,-1.20703756828516),(10,116,-0.924619281594287),(10,117,-1.61188085573901),(11,89,2.21503341776788),(11,97,-0.613788262581256),(11,105,-2.46513260292367),(11,112,1.26886806848354),(11,115,0.913876766258736),(12,92,0.805017242957854),(12,93,-1.37047944578387),(12,94,1.67903683584094),(12,97,2.05642872402112),(12,98,-0.810815759758293),(12,99,-2.21425519577624),(12,108,0.903271584215827),(12,116,2.07905819879757),(13,86,-1.97778252510147),(13,87,-0.638477736747337),(13,90,-1.97303689687796),(13,99,-0.911954100161748),(13,102,1.52130191961425),(13,104,0.414746543778802),(13,113,0.268715475936155),(13,116,1.63113803521836),(13,118,-0.693914609210486),(14,90,1.17969298379467),(14,93,-2.78847621082186),(14,95,0.670735801263466),(14,102,1.39513840144047),(14,104,0.932096316415906),(14,106,2.18321787163915),(14,109,-0.776879177220985),(14,110,0.328424939725944),(14,111,0.360576189458907),(15,85,0.0301828058717613),(15,92,1.11606189153722),(15,99,-0.218146305734428),(15,101,-0.733558153019807),(15,104,1.54559465315714),(15,108,-0.849559007538072),(15,117,-1.54225287636952),(16,86,-0.0797601245155186),(16,87,-2.28131962034974),(16,88,1.66478469191565),(16,90,1.44718771935179),(16,91,0.955885494552446),(16,95,-1.83664967802973),(16,97,0.793374431592761),(16,98,-0.584810937833796),(16,99,-2.06804101687674),(16,101,2.28560747093112),(16,108,-2.19397564622944),(16,110,1.45034638508255),(17,89,-1.21153904843287),(17,96,-1.47030549027985),(17,99,2.36709189123203),(17,101,2.28579058198798),(17,106,-0.658406323435163),(17,107,2.41656239509262),(17,109,0.611072115237892),(18,90,-0.867366557817316),(18,91,-1.58046205023347),(18,93,0.986434522537919),(18,99,-2.20770897549364),(18,102,-1.92226935636464),(18,103,-2.34217352824488),(18,104,2.01704458754234),(18,110,0.250022888882107),(18,111,1.89727469710379),(18,116,-3.07710501419111),(18,117,3.25376140629292),(18,118,1.7551194799646),(19,87,1.95973082674642),(19,89,0.860911893063143),(19,93,-1.48751792962432),(19,95,-0.695516830957976),(19,101,2.77326273384808),(19,105,2.06707968382824),(19,115,-0.76677755058443),(20,88,-2.36590166936247),(20,101,2.17497787408063),(20,103,-2.34481337931455),(20,104,-1.09149449140904),(20,105,-2.4710074159978),(20,106,0.574892422254097),(20,111,1.83895382549516),(20,116,-0.389538254951628),(21,86,-1.66081728568377),(21,87,-0.154667806024354),(21,94,-0.22103030487991),(21,96,0.701254310739463),(21,101,1.06431775872066),(21,102,-1.6820734275338),(21,105,2.47094637897885),(21,107,1.62761314737388),(21,108,-0.481795709097568),(22,86,0.967528305917539),(22,88,-0.667546617023225),(22,91,0.06534012878811),(22,92,1.21860408337657),(22,93,-1.8478041932432),(22,98,-0.487594225898007),(22,106,0.829996642963958),(22,115,-1.37202063051241),(22,117,-0.303353984191412),(23,85,-2.55586413159581),(23,86,-2.02916043580432),(23,88,1.52383495590075),(23,90,-2.27851191747795),(23,97,0.365794854579302),(23,104,1.44828638569292),(23,112,0.0240791039765618),(23,114,2.16518143253883),(23,115,0.0697042756431776),(23,116,0.734122745445112),(24,89,-1.12146366771447),(24,90,-1.9365520187994),(24,91,0.916089358195746),(24,101,1.11258278145695),(24,107,-1.95567186498611),(24,108,-0.199407940916166),(24,110,0.0476088747825557),(24,112,-0.246925260170293),(25,90,-1.55349894711142),(25,92,0.851985229041414),(25,94,1.33324686422315),(25,98,-0.745506149479659),(25,105,0.723822748496963),(25,108,-0.245277260658589),(25,109,-1.89027069917905),(25,115,1.37112033448286),(26,85,1.4230170598468),(26,87,0.328501235999634),(26,89,1.58040101321451),(26,95,-0.538773766289254),(26,98,-0.538773766289254),(26,100,0.0966216010010071),(26,101,-0.82189397869808),(26,102,-0.524369029816584),(26,103,-0.827677236243782),(26,104,-2.8668782616657),(26,107,0.482268745994446),(26,109,-1.05662709433271),(26,112,-1.58136234626301),(26,113,0.319147312845241),(26,117,-3.10576189458907),(27,85,-1.44813379314554),(27,87,2.10829493087558),(27,94,-1.88972136600848),(27,100,-1.82912686544389),(27,102,-0.219000823999756),(27,103,-0.579607531968139),(27,104,0.190801721243934),(27,105,0.515488143559069),(27,108,0.241279335917234),(27,110,0.792779320657979),(27,114,-0.463408307138279),(28,87,-1.74956511123997),(28,88,-1.06578264717551),(28,97,-1.82592242194891),(28,99,0.121585741752373),(28,104,-0.3443098239082),(28,113,-0.622684408093509),(28,114,-1.14215521713919),(29,88,1.05891598254341),(29,91,0.0852992339854122),(29,102,2.35361796929838),(29,105,-2.3870357371746),(29,116,1.6216772972808),(30,95,2.20625934629353),(30,96,-0.601214636677145),(30,99,-0.159932248908963),(30,101,0.248496963408307),(30,104,-2.93679616687521),(30,109,-1.28603473006378),(30,110,1.08130130924406),(30,114,2.50285348063601),(30,118,-0.257362590411084),(31,85,-0.235724967192602),(31,92,0.748863185522019),(31,94,1.06523331400494),(31,96,-0.39036225470748),(31,99,-1.16640217291787),(31,103,-2.07188634907071),(31,107,-0.599993896298105),(31,108,0.331156346324045),(31,109,2.26874599444563),(31,111,1.76076540421766),(31,112,1.37551499984741),(31,117,-0.34568315683462),(32,86,-0.0592059083834345),(32,87,-2.45904416028321),(32,89,1.56372264778588),(32,92,-0.736869411297952),(32,98,-0.94030579546495),(32,99,1.01612903225806),(32,104,2.89925840021973),(32,106,1.78601947080905),(32,109,0.159886471144749),(32,116,0.475859859004486),(32,118,2.31055635242775),(33,96,-1.2280953398236),(33,98,2.26529740287484),(33,108,1.13040559099094),(33,110,0.17352824488052),(33,111,-0.339365825373089),(33,114,1.46386608478042),(34,85,-1.58290353099155),(34,90,1.31084627826777),(34,99,1.03190710165716),(34,104,-2.24166081728568),(34,109,-2.10701315347758),(35,86,-1.00758384960479),(35,87,-0.914944914090396),(35,97,1.71489608447523),(35,98,-2.24196600238044),(35,100,0.691656239509262),(35,104,0.494644001586962),(35,107,-1.48617511520737),(35,109,0.955153050325022),(35,110,-0.833124790185247),(35,112,2.14781640064699),(36,85,1.2636341441084),(36,87,0.149311807611316),(36,90,-0.6767326883755),(36,91,0.574831385235145),(36,104,-0.959181493575854),(36,107,-2.02467421491134),(36,109,1.53973509933775),(36,112,2.1718344676046),(36,115,-0.643940549943541),(36,117,1.6122013000885),(36,118,1.42986846522416),(37,85,0.118640705587939),(37,86,-2.75841547898801),(37,87,-2.338847010712),(37,91,-0.0693227942747276),(37,99,-0.222190008239997),(37,105,-1.89957884456923),(37,111,-1.27712332529679),(37,112,-1.74546037171545),(37,118,0.0405590990936002),(38,87,-2.79798272652364),(38,90,-1.50030518509476),(38,103,-0.793633838923307),(38,105,-1.57759331034272),(38,106,-2.28537858211005),(38,111,1.06413464766381),(38,115,-0.150608844264046),(39,87,-0.784752952665792),(39,89,-2.74340037232582),(39,91,-0.986754966887417),(39,94,1.05879390850551),(39,97,1.28208258308664),(39,98,0.736564226203192),(39,107,-1.50021362956633),(39,108,0.127506332590716),(39,109,0.643024994659261),(39,111,0.746024964140751),(39,113,0.855159154026917),(39,116,2.09927671132542),(39,118,0.287911618396557),(40,88,1.40636921292764),(40,92,0.541108432264168),(40,99,0.678670613727226),(40,104,1.13760795922727),(40,110,1.95619067964721),(40,116,-2.00315866573077),(40,118,-2.64885402996918),(41,88,-1.70899075289163),(41,93,-0.842875453962828),(41,96,-0.0223242896816919),(41,97,0.454435865352336),(41,100,-0.964140751365703),(41,101,0.499664296395764),(41,104,-1.75160985137486),(41,105,1.14505447553941),(41,106,-1.16339609973449),(41,107,-0.75731681264687),(41,109,-2.39683217871639),(41,110,-1.72257148960845),(41,111,0.865718558305612),(41,112,0.95158238471633),(42,85,-1.35398419141209),(42,86,2.27806939909055),(42,87,-1.1633198034608),(42,99,0.0603350932340464),(42,100,-0.561891537217322),(42,103,-0.65225684377575),(42,109,1.60911893063143),(42,113,-1.09848323007904),(43,85,0.223654896694845),(43,88,-0.752449110385449),(43,89,1.09537034211249),(43,93,1.95863216040529),(43,97,2.49624622333445),(43,98,2.23842585528123),(43,101,2.67864009521775),(43,102,2.50929288613544),(43,103,0.988189336832789),(43,105,-0.662251655629139),(43,110,-0.774925992614521),(43,112,0.867320780053102),(43,114,-2.12149418622394),(43,116,1.87235633411664),(44,89,-0.281991027558214),(44,98,-1.85126804406873),(44,99,0.385876033814509),(45,87,-1.90206610309153),(45,88,-1.10481582079531),(45,90,1.30506302072207),(45,91,0.802407910397656),(45,95,-0.224158452101199),(45,98,0.843913083285012),(45,108,1.03205969420454),(45,109,-0.876613666188543),(45,112,0.718100527970214),(45,115,-0.880794701986755),(46,85,0.459303567613758),(46,89,-1.45962401196326),(46,91,-0.536896877956481),(46,94,-3.06790368358409),(46,97,-1.67294839320048),(46,100,1.29161961729789),(46,101,0.296639912106693),(46,108,1.6026032288583),(46,112,0.386135441145054),(47,86,0.598391674550615),(47,91,2.25508896145512),(47,92,0.56900234992523),(47,94,0.616306039613025),(47,95,-0.842127750480667),(47,100,1.77449873348186),(47,101,-0.253135776848659),(47,104,0.963621936704611),(47,105,-0.0355388042847987),(47,108,-0.895657216101566),(47,112,-0.84194463942381),(47,114,1.891613513596),(47,118,2.89190343943602),(48,86,-0.223776970732749),(48,91,1.62640766624958),(48,98,-1.65250099185156),(48,99,0.387218848231452),(48,100,-1.70970793786431),(48,103,-2.41312906277657),(48,105,-0.43900875881222),(48,106,1.56239509262368),(48,111,1.20361949522385),(48,115,2.95294045838801),(49,87,2.78852198858608),(49,89,1.48918118839076),(49,93,0.91224402600177),(49,94,-1.33075960570086),(49,95,-2.63257240516373),(49,102,-1.94235053559984),(49,113,1.52833643604846),(49,114,-1.90032654805139),(50,89,-1.51077303384503),(50,105,-1.72363963744011),(50,107,-2.05233924375134),(51,87,-1.32439649647511),(51,92,-0.0925016022217475),(51,97,0.408490249336222),(51,98,1.81638538773766),(51,103,-1.46519363994263),(51,106,1.79517502365184),(51,112,1.83614612262337),(51,118,-1.08441419721061),(52,89,2.04776146732994),(52,97,0.0684377574999237),(52,106,0.417096469008454),(52,110,-1.84209723197119),(52,111,-0.330759605700858),(52,113,-2.08394116031373),(52,114,-2.56097598193304),(52,118,1.23123874629963),(53,88,1.58383434553056),(53,90,-0.969054231391339),(53,92,1.83399456770531),(53,94,2.36823633533738),(53,104,1.5225684377575),(53,105,1.37104403820917),(53,109,2.18077639088107),(54,85,0.736716818750572),(54,91,0.654408398693808),(54,94,0.342265083773308),(54,96,0.54773094882046),(54,111,-1.24298837244789),(54,112,-0.129734183782464),(54,113,-0.17146824549089),(54,118,-0.139774773400067),(55,87,-0.223029267250587),(55,95,-0.00572222052674947),(55,107,-0.164143803216651),(55,110,1.08804589983825),(55,117,0.471266823328349),(56,107,-0.834818567461165),(56,111,-0.898220770897549),(56,113,0.478713339640492),(56,114,1.32128360850856),(57,87,-1.31333353679006),(57,90,2.45669423505356),(57,91,0.724066896572771),(57,92,-2.78991058076724),(57,93,-0.33051545762505),(57,94,3.13023773918882),(57,95,1.06053346354564),(57,96,1.10383922849208),(57,100,0.0801416058839686),(57,102,-0.30970183416242),(57,103,-0.158024842066713),(57,115,0.418958098086489),(58,86,-0.982634968108158),(58,87,-0.225196081423383),(58,89,2.27834406567583),(58,90,1.74013489181188),(58,95,-0.372325815607166),(58,96,-1.28363902706992),(58,101,-0.177388836329234),(58,103,1.64079714346751),(58,109,-0.671422467726676),(58,110,0.341624195074313),(58,113,-1.4675130466628),(58,114,-3.26657918027284),(58,115,-2.54870754112369),(58,118,1.09533982360302),(59,85,-1.45832697531053),(59,86,-0.422605059968871),(59,90,2.2177343058565),(59,91,-1.65077669606616),(59,93,2.90299691763054),(59,97,1.60628070925016),(59,98,-0.928571428571429),(59,100,0.525833918271432),(59,102,-1.9184392834254),(59,112,-0.771233252967925),(59,114,3.20264290292062),(60,85,1.0608386486404),(60,87,-0.385769219031343),(60,90,-0.924466689046907),(60,91,-0.0581530198065126),(60,96,1.92770165105136),(60,100,0.525147251808222),(60,101,-1.09775078585162),(60,105,2.58970915860469),(60,107,-1.86536759544664),(60,109,1.88825647755364),(60,110,1.74234748374889),(60,114,-0.937757499923704),(61,89,-0.332193975646229),(61,94,-1.13263344218268),(61,96,2.49746696371349),(61,98,-0.228415784173101),(61,100,-1.68720053712577),(61,102,1.13542588579974),(61,103,-0.0616168706320383),(61,114,0.638599810785241),(61,115,-1.37986388744774),(62,93,1.32148197882015),(62,95,0.0227973265785699),(62,107,-1.61508529923399),(62,109,-0.399334696493423),(62,110,0.901257362590411),(62,111,-1.97119052705466),(63,87,1.76511429181799),(63,90,0.604892117069002),(63,93,1.50138859218116),(63,97,0.118366039002655),(63,100,-1.18639179662465),(63,103,0.585146641438032),(63,104,-2.85679189428388),(63,108,-0.558961760307626),(63,111,-1.68625446333201),(63,114,0.359874263740959),(63,117,0.427350688192389),(64,87,1.01992858668783),(64,94,-1.1097903378399),(64,99,0.389416180913724),(64,110,-2.26790673543504),(64,112,1.52821436201056),(64,116,-0.433729056672872),(65,87,2.92983794671468),(65,88,-0.493499557481613),(65,90,-0.523010956144902),(65,97,1.68218024231697),(65,99,-0.995330668050172),(65,107,0.296472060304575),(65,110,0.300408948026978),(65,111,-0.11139255958739),(65,114,-1.97309793389691),(65,116,2.86413159581286),(65,117,0.874019592883084),(66,85,-0.606021301919614),(66,102,0.209021271401105),(66,105,-0.824472792748802),(66,108,-0.237357707449568),(66,111,-0.482253486739708),(66,115,3.44389172032838),(66,118,-1.99566637165441),(67,86,1.25692007202368),(67,90,2.4106112857448),(67,92,-0.927777947325053),(67,104,-0.690328684347056),(67,109,-1.80738242744224),(67,111,-0.36664937284463),(68,87,0.707190160832545),(68,88,0.894741660817286),(68,90,0.137546922208319),(68,93,1.62781151768548),(68,95,0.883083590197455),(68,96,-1.09447004608295),(68,97,-0.735694448683126),(68,103,-1.44756920072024),(68,107,2.35048982207709),(68,112,1.65039521469771),(68,114,-0.925107577745903),(69,87,-0.638004699850459),(69,88,-1.8397320474868),(69,92,-2.74269844660787),(69,94,-1.99194311349834),(69,95,-2.47207556382946),(69,97,-1.10873744926298),(69,108,1.00772118289743),(69,113,1.98728904080325),(69,114,0.411465804010132),(69,118,-1.60760826441237),(70,85,1.11433759575182),(70,86,-1.58685567796869),(70,87,-0.178151799066134),(70,90,-0.0137028107547227),(70,96,0.000823999755851956),(70,97,-0.886120181890317),(70,99,-2.46848963896603),(70,105,2.36964018677328),(70,107,1.75847651600696),(70,109,2.18176824243904),(70,110,-1.83141575365459),(70,111,1.75592822046571),(71,85,-0.15355388042848),(71,93,0.579470198675497),(71,96,-2.3403729361858),(71,100,-3.25963621936705),(71,104,-0.963408307138279),(71,106,-1.03648487807855),(71,111,0.358592486342967),(71,113,-2.0549333170568),(72,94,1.27420880764183),(72,96,-0.888851588488418),(72,99,-0.773110141300699),(72,110,1.072161015656),(72,112,2.24843592638936),(72,114,0.75792718283639),(72,115,-0.979674672688986),(72,116,-1.28753013702811),(73,88,-2.29389324625385),(73,94,-0.16895046845912),(73,99,1.10655537583544),(73,100,1.12355418561357),(73,106,0.150547807245094),(73,110,2.42309335612049),(73,115,-0.99916074098941),(74,90,-2.77484969634083),(74,94,1.22104556413465),(74,99,0.354548783837397),(74,102,1.14764854884487),(74,106,-0.408612323374126),(74,107,-0.785699026459548),(74,110,-1.51730399487289),(74,113,1.3994872890408),(74,116,0.848002563554796),(75,85,-1.68054750206),(75,86,-0.119083223975341),(75,93,1.78383739738151),(75,98,1.42567217017121),(75,103,-0.142887661366619),(75,105,-3.17900631733146),(75,111,-0.973326822717978),(75,117,-1.93003631702628),(76,86,-1.69435712759789),(76,89,-1.11339152195807),(76,92,2.4331797235023),(76,94,-0.477538377025666),(76,99,-1.01716666158025),(76,101,-1.79287087618641),(76,103,0.0502029480880154),(76,106,-1.34853663747063),(76,110,0.491988891262551),(76,113,2.39875484481338),(77,88,-1.14394054994354),(77,91,-1.57017731254006),(77,93,-1.46113467818232),(77,98,1.67926572466201),(77,101,-0.373302407910398),(77,102,0.283028656880398),(77,103,0.880977813043611),(77,104,-2.84153263954588),(77,105,1.21356852931303),(77,109,1.69469283120212),(78,88,-0.580980864894559),(78,93,1.07281716360973),(78,94,-0.918485061189611),(78,101,-0.246818445387127),(78,104,2.16406750694296),(78,110,-1.31319620349742),(78,114,-0.407757805108798),(78,116,-1.31574449903867),(78,117,-1.84200567644276),(78,118,0.581499679555651),(79,87,0.15233314004944),(79,92,0.583666493728446),(79,94,-2.5064241462447),(79,107,2.37907040620136),(79,108,-0.975585192419202),(79,114,3.32477797784356),(79,118,-0.135624256111332),(80,87,-0.786492507705923),(80,88,1.60458693197424),(80,91,2.16956083864864),(80,99,-1.28635517441328),(80,101,-0.52516251106296),(80,107,-2.2345194860683),(80,113,2.91268654438917),(81,85,1.87849055452132),(81,86,-1.30176702169866),(81,90,-2.26590777306436),(81,93,-2.27741325113681),(81,96,1.51933347575304),(81,97,-1.76564836573382),(81,106,2.07896664326914),(81,107,-0.687902462843715),(81,110,2.35290078432569),(81,115,-1.05380413220618),(82,86,0.559862056337168),(82,92,-0.43549913022248),(82,110,-0.174718466750084),(82,112,0.835230567339091),(83,87,-1.44125186925871),(83,91,-0.873683889278848),(83,93,-2.41859187597278),(83,101,-1.57541123691519),(83,103,-2.47970519119846),(83,105,-0.0625476851710562),(83,108,1.80597857600635),(84,85,0.0381939146092104),(84,86,-2.07582323679311),(84,89,0.806756797997986),(84,95,-0.65790276802881),(84,99,-1.66705832087161),(84,104,0.492172002319407),(84,111,-0.748573259681997),(84,113,-1.1230811487167),(84,114,0.355555894650105)]
orgname='BHNEAT_2_3'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()