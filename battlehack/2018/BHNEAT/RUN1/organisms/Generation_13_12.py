edge = [(0,85,2.64186529129917),(0,89,0.624935148167363),(0,90,1.23798333689383),(0,93,1.69873653370769),(0,98,-0.230315561387982),(0,101,-0.535592211676382),(0,105,0.861156041138951),(0,108,-2.00277718436232),(0,113,2.32958464308603),(0,114,5.5115665150914),(0,117,2.49671926023133),(0,118,-0.694311349833674),(1,86,-0.234298226874599),(1,92,3.27143925290689),(1,98,3.177053132725),(1,102,-4.05553605761895),(1,104,-0.0603579821161536),(1,107,-4.81374553666799),(1,108,1.76999725333415),(1,109,0.699926755577257),(1,113,3.65771202734458),(2,87,-3.34983367412336),(2,88,3.75766777550584),(2,100,-1.53721732230598),(2,106,-0.314371166112247),(2,108,-1.56368449964904),(2,110,-1.92809839167455),(2,113,0.0013275551622059),(2,118,3.53221228675192),(3,89,4.9936750389111),(3,92,-0.791673024689474),(3,97,3.76647999511704),(3,99,3.76337473677786),(3,101,-1.58378856776635),(3,103,-1.46412549211097),(3,105,4.60325174718467),(3,108,-1.87534714804529),(3,109,-7.30687887203589),(3,111,0.82746360667745),(3,112,-2.28569902645955),(3,116,-2.41348002563555),(4,90,1.6170995208594),(4,91,-1.2959990234077),(4,97,-0.566148869289224),(4,99,0.473807489242225),(4,101,0.444166386913663),(4,108,-0.093310342722861),(4,113,-0.927915280617695),(4,118,-4.50782799768059),(5,86,1.39242225409711),(5,87,-3.10116885891293),(5,89,0.205153050325022),(5,92,-0.424871059297464),(5,93,-3.37017426068911),(5,99,1.93479720450453),(5,104,2.1225623340556),(5,114,3.52019562364574),(5,118,-1.59100619525742),(6,89,1.21478926969207),(6,92,1.39202551347392),(6,94,-1.83038575395978),(6,100,-0.0560777611621448),(6,101,-2.12276833399457),(6,103,-2.61155278176214),(6,107,-1.191030610065),(6,110,0.973380230109562),(6,113,-1.89233069856868),(7,85,4.68562120426038),(7,86,-2.13522751548814),(7,90,2.73863948484756),(7,95,0.307344279305399),(7,99,2.47944578386792),(7,100,3.87533951841792),(7,104,0.295419171727653),(7,106,1.15321817682424),(7,108,3.33302560502945),(7,112,-1.89857936338389),(7,116,-0.078699606311228),(8,92,-2.23772392956328),(8,93,-2.04476302377392),(8,95,-0.0835367900631733),(8,99,1.01062044129765),(8,106,-0.87199011200293),(8,107,-2.21327860347301),(8,115,3.35330515457625),(8,116,1.49620044557024),(8,118,1.6056550798059),(9,85,1.96896267586291),(9,87,-1.91656239509262),(9,98,0.777153843806269),(9,101,-0.319452497940001),(9,103,2.48970000305185),(9,105,-1.02526932584613),(9,106,0.211493270668661),(9,113,-1.10135196996979),(10,89,-5.70271919919431),(10,96,1.81364635151219),(10,106,0.612704855494858),(10,108,4.58899197363201),(10,111,-1.40790276802881),(10,112,-0.852153080843531),(10,114,-0.151387066255684),(10,115,-0.514702291940061),(10,116,0.422185430463576),(10,117,1.16248054445021),(11,89,-1.45854060487686),(11,97,3.70381786553545),(11,105,-3.68411053804132),(11,112,3.71343882564776),(11,115,-1.99213385418256),(12,92,3.47328104495376),(12,93,-1.26468703268532),(12,94,0.81495864741966),(12,97,-2.8279671620838),(12,98,1.34725486007263),(12,99,1.88650166325877),(12,108,2.27494125186926),(12,116,-3.52220221564379),(13,86,3.82256538590655),(13,87,-0.718878749961852),(13,90,-2.44819483016449),(13,99,5.00547044282357),(13,102,0.193563646351512),(13,104,-2.28186895352031),(13,113,0.985274819177831),(13,116,-3.45037690359203),(13,118,-0.43450727866451),(14,90,0.337305825983459),(14,93,-0.00286873989074385),(14,95,-3.12417981505783),(14,102,0.54300057985168),(14,104,-4.51864680928983),(14,106,0.550798059022799),(14,109,-2.89312417981506),(14,110,-1.70949430829798),(14,111,-3.21252327036348),(15,85,1.98202459791864),(15,92,0.517212439344462),(15,99,-1.76546525467696),(15,101,-1.55446028015992),(15,104,-3.84173863948485),(15,108,0.629520554216132),(15,117,1.4803613391522),(16,86,-1.21242408520768),(16,87,-0.181974242378002),(16,88,-0.678258613849299),(16,90,-2.20155949583422),(16,91,-3.04727317117832),(16,95,-4.96227912228767),(16,97,-4.35198522904141),(16,98,-1.08446760460219),(16,99,-0.953550828577532),(16,101,3.82630390331736),(16,108,4.08332316049684),(16,110,4.14809106723228),(17,89,0.204771568956572),(17,96,-3.32885219885861),(17,99,4.93560594500565),(17,101,-2.48049104281747),(17,106,-3.82793664357433),(17,107,3.47225104525895),(17,109,-1.8470412305063),(18,90,2.23934141056551),(18,91,-3.58470412305063),(18,93,0.289513840144047),(18,99,-0.711958677938169),(18,102,6.13917966246529),(18,103,-0.828890346995453),(18,104,-0.406353953672903),(18,110,-1.22310556352428),(18,111,0.709387493514817),(18,116,2.74243140964995),(18,117,-1.23889889217811),(18,118,-2.49818414868618),(19,87,-0.402996917630543),(19,89,1.08469649342326),(19,93,1.20674001281777),(19,95,1.14391003143406),(19,101,1.33536027100436),(19,105,-3.97219000824),(19,115,-2.84238715781121),(20,88,-0.227843562120426),(20,101,1.18686483352153),(20,103,2.79277169103061),(20,104,-0.988921781060213),(20,105,-0.965330973235267),(20,106,-1.31945249794),(20,111,2.40371410260323),(20,116,-2.2430341502121),(21,86,-0.414365062410352),(21,87,0.178914761803034),(21,94,-0.895855586413159),(21,96,4.1773735770745),(21,101,5.08628345591601),(21,102,2.45666371654408),(21,105,0.513679921872616),(21,107,0.708838160344249),(21,108,3.09653004547258),(22,86,0.666829432050539),(22,88,-1.60987426374096),(22,91,-0.0537736136967072),(22,92,-2.67075869014557),(22,93,-1.90351573229163),(22,98,-2.40119632557146),(22,106,-4.51387066255684),(22,115,2.88341166417432),(22,117,0.313806573686941),(23,85,-0.102488784447768),(23,86,0.192037720877712),(23,88,0.816049684133427),(23,90,0.654576250495926),(23,97,-3.60689107943968),(23,104,1.89907528916288),(23,112,-2.2777871028779),(23,114,3.45226905117954),(23,115,0.267189550462355),(23,116,0.918836024048585),(24,89,-2.13096255378887),(24,90,-4.31784264656514),(24,91,0.179433576464126),(24,101,0.096499526963103),(24,107,1.75978118228706),(24,108,1.93353068636128),(24,110,0.359424115726188),(24,112,-2.55484939115574),(25,90,-4.58819849238563),(25,92,0.457998901333659),(25,94,-5.23708304086428),(25,98,-3.88692129276406),(25,105,2.94911038544877),(25,108,6.60985137485885),(25,109,-0.67154454176458),(25,115,2.04205450605792),(26,85,0.697218237861263),(26,87,-1.67232276375622),(26,89,-0.462431714835048),(26,95,-0.905331583605457),(26,98,1.43610187078463),(26,100,-0.375759147923216),(26,101,-1.07561723685415),(26,102,2.96116519669179),(26,103,1.24950407422102),(26,104,4.02511673329875),(26,107,-0.769295327616199),(26,109,0.452101199377422),(26,112,5.49101992858669),(26,113,-1.3556321909238),(26,117,-3.81754509109775),(27,85,-1.5873439741203),(27,87,1.12651448103275),(27,94,1.19235816522721),(27,100,4.01138340403455),(27,102,-2.65987884151738),(27,103,-1.91610461745048),(27,104,0.807435834833827),(27,105,-3.24466689046907),(27,108,1.55636768700217),(27,110,0.496024964140751),(27,114,4.21017334513382),(28,87,0.1136051515244),(28,88,1.25815607165746),(28,97,1.68328653828547),(28,99,-1.5129703665273),(28,104,-1.36103396710105),(28,113,-1.96201971495712),(28,114,-4.18576616718039),(29,88,3.33941923276467),(29,91,-1.59334086123234),(29,102,-0.0665456099124122),(29,105,-1.93258461256752),(29,116,0.181127353740043),(30,95,3.70712912381359),(30,96,2.4199652088992),(30,99,3.23869289223914),(30,101,-0.610599078341014),(30,104,-1.82077242347484),(30,109,0.317957090975677),(30,110,2.7876293221839),(30,114,0.00102237006744566),(30,118,1.6689809869686),(31,85,0.952734458449049),(31,92,-0.53987243263039),(31,94,2.92445905941954),(31,96,1.35093234046449),(31,99,-0.246284371471298),(31,103,-1.70659504989776),(31,107,-1.55278176213874),(31,108,4.04181035798212),(31,109,-1.06044190801721),(31,111,1.53613391521958),(31,112,-2.04012421033357),(31,117,1.10522019104587),(32,86,-0.993758964812158),(32,87,4.14802240058596),(32,89,1.42376476332896),(32,92,6.27860347300638),(32,98,3.53469954527421),(32,99,-0.754707480086672),(32,104,6.65184484389783),(32,106,1.73522141178625),(32,109,3.63232825708792),(32,116,3.04197820978423),(32,118,0.723746452223273),(33,96,-4.33735923337504),(33,98,-4.11344492934965),(33,108,1.84240241706595),(33,110,0.0670339060640279),(33,111,0.651882992034669),(33,114,-3.90452284310434),(34,85,-1.03028199102756),(34,90,-0.0353862117374186),(34,99,2.9185613574633),(34,104,-4.77338480788598),(34,109,-4.53370769371624),(35,86,3.71971037934507),(35,87,2.30384228034303),(35,97,1.86216315195166),(35,98,1.14642780846583),(35,100,-1.34409619434187),(35,104,-3.06771294289987),(35,107,1.03579821161534),(35,109,-2.91781365398114),(35,110,0.427091280861843),(35,112,0.335169530320139),(36,85,-3.29597613452559),(36,87,-2.06594286935026),(36,90,1.91911832026124),(36,91,-0.433553575243385),(36,104,0.699255348368786),(36,107,2.98239844965972),(36,109,2.07861568041017),(36,112,-0.401577806939909),(36,115,-1.68088320566424),(36,117,-4.73949400311289),(36,118,5.57879879146703),(37,85,1.58246864223151),(37,86,1.39934995574816),(37,87,3.00466170232246),(37,91,2.3318811609241),(37,99,-1.22547074800867),(37,105,1.09550767540513),(37,111,-0.0926465651417583),(37,112,0.832003234962005),(37,118,-1.66214484084597),(38,87,-0.340449232459487),(38,90,0.227439191869869),(38,103,-0.535752433851131),(38,105,1.90038758507035),(38,106,2.25478377636036),(38,111,-1.5929059724723),(38,115,-3.25436414685507),(39,87,3.55683309427168),(39,89,-1.01626636555071),(39,91,-2.48443556016724),(39,94,1.57757805108798),(39,97,-0.714636677144688),(39,98,0.707876827295755),(39,107,0.230948820459609),(39,108,1.35014648884549),(39,109,0.39783165990173),(39,111,-3.39077425458541),(39,113,-2.34925382244331),(39,116,1.79103976561785),(39,118,-4.68191320535905),(40,88,-1.59749137852107),(40,92,-0.10383922849208),(40,99,2.53697317423017),(40,104,-1.44019898068178),(40,110,-2.24256111331523),(40,116,1.73216956083865),(40,118,-2.06991790520951),(41,88,-2.70393993957335),(41,93,0.444212164677877),(41,96,1.0824228644673),(41,97,1.60409100619526),(41,100,0.723708304086428),(41,101,6.22940763573107),(41,104,-0.874462111270486),(41,105,3.21306497390667),(41,106,4.25939970091861),(41,107,-7.72614215521714),(41,109,3.89790032654805),(41,110,-0.730536820581683),(41,111,-3.82763908810694),(41,112,0.97415082247383),(42,85,0.345728934598834),(42,86,2.02174443800165),(42,87,0.269219031342509),(42,99,-1.18869594409009),(42,100,-4.58871730704672),(42,103,-0.927762688070315),(42,109,-4.90791802728355),(42,113,-4.5404370250557),(43,85,-0.737434003723258),(43,88,1.96771904660176),(43,89,3.14223914304025),(43,93,-0.111934263130588),(43,97,-3.63038270210883),(43,98,2.14242988372448),(43,101,2.10447248756371),(43,102,3.83741264076663),(43,103,-1.23104037598804),(43,105,1.26804406872768),(43,110,1.51762443922239),(43,112,0.68427838984344),(43,114,-1.94344157231361),(43,116,3.12631611072115),(44,89,-4.95399334696493),(44,98,4.27003540147099),(44,99,-1.75334940641499),(45,87,2.32497634815516),(45,88,0.365306558427686),(45,90,2.49264503921628),(45,91,-0.463980529190954),(45,95,-1.59719382305368),(45,98,-2.88712729270302),(45,108,2.27599414044618),(45,109,-0.669118320261238),(45,112,0.884121219519639),(45,115,1.37585070345164),(46,85,1.99797051911985),(46,89,2.32171849726859),(46,91,3.84177678762169),(46,94,-3.11596270638142),(46,97,4.29184850611896),(46,100,3.04480880153813),(46,101,-0.468367564928129),(46,108,-1.57025360881375),(46,112,-1.8321024201178),(47,86,-2.60792870876186),(47,91,-3.62385937070833),(47,92,3.0829645680105),(47,94,-0.22202215643788),(47,95,1.24320963164159),(47,100,4.46277504806665),(47,101,-1.31115146336253),(47,104,-4.60066530350658),(47,105,5.33156834620197),(47,108,-0.131076998199408),(47,112,-1.84370708334605),(47,114,0.0925473799859615),(47,118,0.795335245826593),(48,86,2.39222388378552),(48,91,-1.92753379924924),(48,98,-0.762947477645192),(48,99,-2.28759117404706),(48,100,-3.47394482253487),(48,103,2.34191412091433),(48,105,-1.84501174962615),(48,106,-2.60058900723289),(48,111,-3.6596041749321),(48,115,-1.14509262367626),(49,87,2.37917722098453),(49,89,2.73351237525559),(49,93,2.25478377636036),(49,94,1.46698660237434),(49,95,0.762337107455672),(49,102,1.86758018738365),(49,113,2.64632099368267),(49,114,0.827173680837428),(50,89,-2.60382396923734),(50,105,1.51898251289407),(50,107,-3.41232032227546),(51,87,-0.553086947233497),(51,92,2.09334086123234),(51,97,0.0898693807794428),(51,98,-1.56949827570421),(51,103,-1.35219122898038),(51,106,0.395069734794153),(51,112,1.04636524552141),(51,118,-2.34459974974822),(52,89,0.335558641315958),(52,97,1.97508926664022),(52,106,-2.70741142002625),(52,110,0.177007354960784),(52,111,-0.127666554765465),(52,113,-0.00746177556688143),(52,114,-1.13200018311106),(52,118,0.755638294625691),(53,88,-2.78283791619617),(53,90,-6.5713980529191),(53,92,-2.38164159062471),(53,94,0.720923490096744),(53,104,-1.78220465712455),(53,105,1.49464400158696),(53,109,1.69666127506333),(54,85,1.17012543107395),(54,91,-2.21701712088382),(54,94,-1.32679219946898),(54,96,1.05044709616382),(54,111,-1.76431318094424),(54,112,3.34232612079226),(54,113,3.09867397076327),(54,118,-1.25426496169927),(55,87,0.191351054414503),(55,95,0.774636066774499),(55,107,2.00762199774163),(55,110,-2.39036225470748),(55,117,0.6503494369335),(56,107,-1.88326670125431),(56,111,-1.02817621387371),(56,113,-2.18888668477432),(56,114,-0.666219061861019),(57,87,-4.3302560502945),(57,90,0.088557084871975),(57,91,-2.4496444593646),(57,92,-1.00410473952452),(57,93,4.63619647816401),(57,94,2.0891903439436),(57,95,-2.36411633655812),(57,96,-0.355800042725913),(57,100,0.857799005096591),(57,102,-2.64122440260018),(57,103,-1.23889889217811),(57,115,-3.72215186010315),(58,86,-2.48305459761345),(58,87,2.25386822107608),(58,89,1.48527481917783),(58,90,0.316286202581866),(58,95,-0.452185125278481),(58,96,0.97544785912656),(58,101,-0.492172002319406),(58,103,-1.9228186895352),(58,109,-3.44042786950285),(58,110,4.54384746848964),(58,113,-1.52042451246681),(58,114,3.52313303018281),(58,115,-1.70185705130161),(58,118,-1.92320017090365),(59,85,0.367976928006836),(59,86,-1.12132633442183),(59,90,-1.30133213293863),(59,91,-4.46409497360149),(59,93,1.66812646870327),(59,97,-1.45840327158422),(59,98,0.801332132938627),(59,100,4.50324259163182),(59,102,1.44805749687185),(59,112,-0.376293221839045),(59,114,-1.73285622730186),(60,85,2.76713614307077),(60,87,-1.29332102420118),(60,90,0.990249336222419),(60,91,-1.57300027466658),(60,96,-0.363704336680197),(60,100,-0.906811731315042),(60,101,0.457396160771508),(60,105,0.136265144810327),(60,107,1.95685445722831),(60,109,-0.368846705526902),(60,110,1.79219946897794),(60,114,-0.97422711874752),(61,89,2.25470748008667),(61,94,-3.19820245979186),(61,96,-2.36802270577105),(61,98,0.141453291421247),(61,100,1.99777977843562),(61,102,3.96351512192145),(61,103,3.72592852565081),(61,114,-0.475730155339213),(61,115,3.54159672841578),(62,93,3.05317087313456),(62,95,-0.97804193243202),(62,107,0.480742820520646),(62,109,-3.76969206823939),(62,110,-3.80207220679342),(62,111,2.97372356334117),(63,87,1.3868144779809),(63,90,-0.785470137638478),(63,93,1.32732627338481),(63,97,3.5711004974517),(63,100,-1.18575090792566),(63,103,-0.0417493209631639),(63,104,1.16035950804163),(63,108,1.27833643604846),(63,111,2.03022858363598),(63,114,0.221671193578906),(63,117,1.92670979949339),(64,87,0.69860683004242),(64,94,0.674321726126896),(64,99,1.90594195379498),(64,110,1.92861720633564),(64,112,0.207647938474685),(64,116,-0.930539872432631),(65,87,-1.80890072328867),(65,88,1.80318613238929),(65,90,1.93296609393597),(65,97,-0.54620502334666),(65,99,-1.41155735953856),(65,107,-1.24690237128819),(65,110,-5.41155735953856),(65,111,-0.909375286111026),(65,114,-0.22727134006775),(65,116,4.18248542741173),(65,117,-3.88805810724204),(66,85,1.09298989837336),(66,102,-1.98955504013184),(66,105,-2.81995605334635),(66,108,3.55137791070284),(66,111,2.16451765495773),(66,115,-2.39877010406812),(66,118,-0.716818750572222),(67,86,0.395718253120518),(67,90,0.284875026703696),(67,92,0.442838831751457),(67,104,-1.98817407757805),(67,109,0.110492263557848),(67,111,-3.09503463850826),(68,87,2.81351664784692),(68,88,-2.47350993377483),(68,90,-0.487151707510605),(68,93,-0.0601748710592973),(68,95,0.498001037629322),(68,96,-0.21691030610065),(68,97,-1.58937345500046),(68,103,-0.236518448438978),(68,107,-0.752014221625416),(68,112,1.81806390575884),(68,114,-0.111033967101047),(69,87,3.29158909878842),(69,88,-1.87250892666402),(69,92,-0.452436902981658),(69,94,-3.1081652272103),(69,95,2.34851374858852),(69,97,-1.96852015747551),(69,108,1.04663228247932),(69,113,-0.263595995971557),(69,114,-1.6336634418775),(69,118,0.967650379955443),(70,85,-2.16338084047975),(70,86,-0.230521561326945),(70,87,-1.84917752616962),(70,90,0.376827295754875),(70,96,-2.57084109012116),(70,97,-1.55034791100803),(70,99,3.39548936429945),(70,105,-1.56034272286142),(70,107,-0.993072298348949),(70,109,-2.48664815210425),(70,110,0.0912884914700767),(70,111,1.46824549089022),(71,85,-0.308542130802332),(71,93,-0.160908841212195),(71,96,-0.531708731345561),(71,100,0.236068300424207),(71,104,1.88890499588),(71,106,2.46658223212378),(71,111,-0.094607379375591),(71,113,2.6189458906827),(72,94,0.429578539384136),(72,96,0.227286599322489),(72,99,0.545587023529771),(72,110,-0.795846430860317),(72,112,0.89463484603412),(72,114,-3.62559892574847),(72,115,1.7795342875454),(72,116,2.13362529374065),(73,88,2.4544206060976),(73,94,2.72856837672048),(73,99,-1.60817285683767),(73,100,-3.46484267708365),(73,106,1.42155217139195),(73,110,1.10103152562029),(73,115,-2.87134922330393),(74,90,-4.38664662617878),(74,94,0.0175176244392223),(74,99,-1.70285653248695),(74,102,-0.718253120517594),(74,106,0.779747917111728),(74,107,3.86870937223426),(74,110,1.24790185247353),(74,113,-1.8450727866451),(74,116,2.09356975005341),(75,85,-4.73100985747856),(75,86,-0.966063417462691),(75,93,-0.166333506271554),(75,98,0.419164098025453),(75,103,2.50459303567614),(75,105,-4.11381878109073),(75,111,-2.36602374340037),(75,117,-1.23180333872494),(76,86,-0.466635639515366),(76,89,-1.68469801934874),(76,92,-4.97582171086764),(76,94,0.0998718222602008),(76,99,2.5443739127781),(76,101,1.17748039185766),(76,103,1.56720175786615),(76,106,-2.47199926755577),(76,110,2.22286141544847),(76,113,-2.36873226111637),(77,88,1.26201666310617),(77,91,0.00149540696432385),(77,93,-0.609035004730369),(77,98,1.81691946165349),(77,101,0.839030121768853),(77,102,3.52706991790521),(77,103,-0.54307687612537),(77,104,1.08424634540849),(77,105,2.60545670949431),(77,109,-1.08837397381512),(78,88,0.0938596758934294),(78,93,-1.51087984862819),(78,94,0.403431806390576),(78,101,0.502563554795984),(78,104,1.4623706778161),(78,110,-0.879055146946623),(78,114,-1.5808969389935),(78,116,-0.505539109469893),(78,117,1.84682760093997),(78,118,-0.162297433393353),(79,87,0.562242500076297),(79,92,-3.41292306283761),(79,94,2.88843195898312),(79,107,1.59436323129978),(79,108,-0.848445081942198),(79,114,1.78721732230598),(79,118,0.0618533890804773),(80,87,0.0797906430249947),(80,88,-0.881527146214179),(80,91,2.40151676992096),(80,99,-0.862498855555895),(80,101,-2.61265907773064),(80,107,-0.748329111606189),(80,113,-1.02839747306742),(81,85,1.3376644184698),(81,86,2.297204504532),(81,90,-0.551705984679708),(81,93,-0.231498153630176),(81,96,-1.85186315500351),(81,97,-2.14634388256478),(81,106,-0.400173955504013),(81,107,-0.440389721366008),(81,110,4.26023133030183),(81,115,1.07259590441603),(82,86,-2.92168950468459),(82,92,0.928525650807215),(82,110,-1.2795571764275),(82,112,-1.63609729300821),(83,87,0.844447157200842),(83,91,1.92808313241981),(83,93,0.296952726828822),(83,101,-4.84759056367687),(83,103,-1.32923368022706),(83,105,1.82328257087924),(83,108,1.59298989837336),(84,85,-1.78975035859249),(84,86,-4.05674916837062),(84,89,-1.07051301614429),(84,95,-1.45123142185736),(84,99,2.92142246772668),(84,104,3.45946378978851),(84,111,0.0153279213843196),(84,113,-3.72058778649251),(84,114,1.41834772789697),(10,119,2.35415204321421),(119,109,5.20037690359203),(58,120,-0.525811029389325),(120,118,-4.31184575945311),(95,104,-0.498992889187292)]
orgname='BHNEAT_13_12'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()