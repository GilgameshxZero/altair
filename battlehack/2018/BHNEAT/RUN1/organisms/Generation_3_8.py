edge = [(0,85,0.387981810968352),(0,89,-0.349330118717002),(0,90,0.284783471175268),(0,93,-0.523163548692282),(0,98,0.357325968199713),(0,101,-0.506942960905789),(0,105,0.653523361919004),(0,108,0.301644947660756),(0,113,-0.0263679921872615),(0,114,-0.417752616962188),(0,117,-0.157719656971954),(0,118,-0.43725394451735),(1,86,-0.0730460524307993),(1,92,0.0593585009308146),(1,98,0.95272682882168),(1,102,-0.118686483352153),(1,104,-0.178579058198798),(1,107,-0.403363139744255),(1,108,-0.144871364482559),(1,109,-0.623722037415693),(1,113,0.168294320505387),(2,87,0.3240302743614),(2,88,-0.118243964964751),(2,100,-0.00866725669118318),(2,106,-0.436597796563616),(2,108,0.27858821375164),(2,110,-0.262977996154668),(2,113,0.0691396832178716),(2,118,-0.0730002746665853),(3,89,0.308755760368664),(3,92,0.128650776696066),(3,97,-0.317682424390393),(3,99,0.896206549272134),(3,101,0.0770592364268929),(3,103,-0.0997497482222968),(3,105,0.681539353617969),(3,108,-0.467833491012299),(3,109,-0.172795800653096),(3,111,-0.233939634388256),(3,112,-0.25693533127842),(3,116,-0.69479964598529),(4,90,0.132175664540544),(4,91,0.910748619037446),(4,97,-0.713904232917264),(4,99,-0.232795190282907),(4,101,0.336115604113895),(4,108,0.511612292855617),(4,113,-0.523880733664968),(4,118,0.0151829584643086),(5,86,-0.806833094271676),(5,87,-0.597216711935789),(5,89,-0.440153202917569),(5,92,0.193594164860988),(5,93,0.577013458662679),(5,99,0.59233375041963),(5,104,0.245078890346995),(5,114,0.718848231452376),(5,118,-0.0592516861476485),(6,89,0.2773674733726),(6,92,-0.63274025696585),(6,94,0.438840907010102),(6,100,0.469100009155553),(6,101,-0.180837427900021),(6,103,0.0880153813287759),(6,107,0.523346659749138),(6,110,0.0784936063722648),(6,113,0.37015900143437),(7,85,-0.230628376110111),(7,86,-0.151905880916776),(7,90,-0.422849208044679),(7,95,0.272820215460677),(7,99,0.0626697592089602),(7,100,0.754173406170843),(7,104,0.279076509903256),(7,106,0.143101290932951),(7,108,0.128345591601306),(7,112,-0.208395641956847),(7,116,-0.0691702017273476),(8,92,-0.0119022186956389),(8,93,0.336420789208655),(8,95,-0.141468550675985),(8,99,-0.472106082338939),(8,106,0.043473616748558),(8,107,0.0817896053956725),(8,115,0.819940794091617),(8,116,-0.580050050355541),(8,118,-0.249519333475753),(9,85,-0.520142216254158),(9,87,0.0144047364726707),(9,98,0.224463637195959),(9,101,-0.221228675191504),(9,103,0.861079744865261),(9,105,-0.0463881344035157),(9,106,0.466246528519547),(9,113,0.283257545701468),(10,89,-0.329386272774438),(10,96,-0.144337290566729),(10,106,0.429136020996734),(10,108,0.638340403454695),(10,109,0.19754631183813),(10,111,-0.117999816888943),(10,112,-0.204779198583941),(10,114,-0.0505996887112033),(10,115,-0.117236854152043),(10,116,-0.00476088747825557),(10,117,0.391293069246498),(11,89,-0.482909634693442),(11,97,0.315103610339671),(11,105,-0.558046205023347),(11,112,0.0459761345255898),(11,115,0.316476943266091),(12,92,-0.0612506485183263),(12,93,0.739646595660268),(12,94,-0.0275124362926115),(12,97,-0.254814294869839),(12,98,0.148182622760704),(12,99,0.333796197393719),(12,108,-0.292199468977935),(12,116,0.194555497909482),(13,86,0.504058961760308),(13,87,-0.483428449354534),(13,90,0.0796685689870907),(13,99,0.223395489364299),(13,102,0.707998901333659),(13,104,0.304574724570452),(13,113,-0.219031342509232),(13,116,0.276955473494675),(13,118,0.301507614368114),(14,90,-0.718070009460738),(14,93,-0.416867580187384),(14,95,-0.627643665883358),(14,102,-0.166814172795801),(14,104,-0.337382122257149),(14,106,-0.0804467909787286),(14,109,-0.0617542039246803),(14,110,0.575807977538377),(14,111,-0.514923551133763),(15,85,-0.821878719443342),(15,92,-0.127948850978118),(15,99,-0.462736899929807),(15,101,0.0170751060518204),(15,104,-0.788735618152409),(15,108,-0.449598681600391),(15,117,0.0732444227423933),(16,86,0.236060670796838),(16,87,-0.0574663533433027),(16,88,-0.272713400677511),(16,90,0.165898617511521),(16,91,-0.169011505478072),(16,95,-0.489562669759209),(16,97,0.102740562150945),(16,98,-0.80138554033021),(16,99,0.204260383922849),(16,101,0.326914273506882),(16,108,0.0116122928556169),(16,110,0.23467207861568),(17,89,-0.219031342509232),(17,96,-0.195516830957976),(17,99,-0.0722830896938993),(17,101,0.163380840479751),(17,106,-0.254051332132939),(17,107,0.0671407208471938),(17,109,0.032288583025605),(18,90,0.230155339213233),(18,91,-0.271065401165807),(18,93,-0.57022309030427),(18,99,-0.127124851222266),(18,102,-0.173253578295236),(18,103,-0.838038270210883),(18,104,0.58203375347148),(18,110,0.033051545762505),(18,111,0.000228888821069972),(18,116,0.225119785149693),(18,117,0.760780663472396),(18,118,-0.258583330790124),(19,87,0.324686422315134),(19,89,-0.296899319437239),(19,93,0.244544816431166),(19,95,-0.768990142521439),(19,101,-0.0477919858394116),(19,105,0.106463820307016),(19,115,-0.603274636066775),(20,88,-0.151066621906186),(20,101,-0.0522324289681692),(20,103,-0.287484359263894),(20,104,-0.702902310251167),(20,105,-0.336451307718131),(20,106,-0.465498825037385),(20,111,0.00631733146153142),(20,116,-0.149601733451338),(21,86,0.720633564256722),(21,87,-0.179570909756768),(21,94,-0.390041810357982),(21,96,-0.228278450880459),(21,101,0.0442213202307199),(21,102,-0.170354319895016),(21,105,-0.758049256874294),(21,107,-0.311334574419385),(21,108,-0.607364116336558),(22,86,-0.619495223853267),(22,88,0.0485396893215735),(22,91,0.174245429853206),(22,92,0.114490188299203),(22,93,0.086825159459212),(22,98,0.258964812158574),(22,106,-0.10910367137669),(22,115,0.299798577837458),(22,117,0.639042329172643),(23,85,-0.458159123508408),(23,86,-0.54071169164098),(23,88,-0.00357066560869165),(23,90,-0.142918179876095),(23,97,0.314706869716483),(23,104,-0.560045167394024),(23,112,-0.131046479689932),(23,114,0.511520737327189),(23,115,-0.5436109500412),(23,116,-0.341624195074313),(24,89,-0.103335673085726),(24,90,-0.197408978545488),(24,91,0.294946134830775),(24,101,0.0608233893856624),(24,107,0.352061525315104),(24,108,0.157506027405622),(24,110,0.0787377544480728),(24,112,-0.531052583391827),(25,90,0.721366008484146),(25,92,0.547395245216224),(25,94,-0.0787682729575487),(25,98,-0.301248207037568),(25,105,0.332819605090487),(25,108,0.397015289773247),(25,109,0.404446546830653),(25,115,0.15424054689169),(26,85,0.397579882198553),(26,87,-0.399929807428205),(26,89,-0.179769280068361),(26,95,0.0594805749687185),(26,98,-0.0341959898678549),(26,100,0.217780083620716),(26,101,0.381786553544725),(26,102,0.364009521774957),(26,103,-0.149098178044984),(26,104,0.867732779931028),(26,107,0.208334604937895),(26,109,0.356196783349101),(26,112,-0.26570940275277),(26,113,-0.274010437330241),(26,117,0.191686758018738),(27,85,0.523926511429182),(27,87,-0.423688467055269),(27,94,0.320368053224281),(27,100,0.754234443189795),(27,102,-0.218787194433424),(27,103,0.0574663533433027),(27,104,-0.231849116489151),(27,105,0.709372234260079),(27,108,-0.0514694662312692),(27,110,0.326837977233192),(27,114,-0.371715445417646),(28,87,0.1721549119541),(28,88,-0.49908444471572),(28,97,0.146534623249001),(28,99,-0.367442854091006),(28,104,0.392696920682394),(28,113,-0.254768517105625),(28,114,-0.0833613086336863),(29,88,-0.307687612537004),(29,91,-0.000915555284279945),(29,102,-0.330042420728172),(29,105,-0.042893765068514),(29,116,0.260704367198706),(30,95,0.0206915494247261),(30,96,0.363948484756004),(30,99,-0.463591418195135),(30,101,-0.0132145146031068),(30,104,-0.137424848170415),(30,109,-0.142841883602405),(30,110,0.65462202826014),(30,114,-0.597415082247383),(30,118,0.404477065340129),(31,85,-0.0599230933561205),(31,92,0.160359508041627),(31,94,0.0942869350260933),(31,96,0.714423047578356),(31,99,-0.322077089754936),(31,103,-0.236365855891598),(31,107,0.207159642323069),(31,108,0.451063570055239),(31,109,0.1931974242378),(31,111,-0.346583452864162),(31,112,0.313440351573229),(31,117,0.125431073946348),(32,86,-0.662266914883877),(32,87,0.17467268898587),(32,89,0.132831812494278),(32,92,-0.239951780755028),(32,98,-0.677282021546068),(32,99,0.253395184179205),(32,104,0.260322885830256),(32,106,0.43816949980163),(32,109,0.0594042786950285),(32,116,-0.213339640491958),(32,118,0.353587450788903),(33,96,0.56076235236671),(33,98,0.176900540177618),(33,108,-0.767372661519211),(33,110,-0.170522171697134),(33,111,0.301370281075472),(33,114,-0.160298471022675),(34,85,0.689947202978606),(34,90,-0.679998168889431),(34,99,-0.303842280343028),(34,104,-0.110950041199988),(34,109,0.444532609027375),(35,86,0.213888973662526),(35,87,-0.115222632526627),(35,97,-0.490081484420301),(35,98,0.588793603320414),(35,100,-0.40972624897),(35,104,0.89082003234962),(35,107,-0.424710837122715),(35,109,-0.488479262672811),(35,110,-0.309747611926634),(35,112,0.69937742240669),(36,85,-0.0710623493148594),(36,87,-0.545121616260262),(36,90,0.00370799890133361),(36,91,0.146534623249),(36,104,-0.164784691915647),(36,107,0.439283425397504),(36,109,0.180669576097903),(36,112,0.183019501327555),(36,115,-0.319681386761071),(36,117,-0.375743888668477),(36,118,0.417676320688498),(37,85,0.378948332163457),(37,86,0.343974120303964),(37,87,0.086428418836024),(37,91,0.216391491439558),(37,99,-0.149327066866054),(37,105,-0.320551164281137),(37,111,0.290063173314615),(37,112,0.187734611041597),(37,118,-0.381511886959441),(38,87,-0.317667165135655),(38,90,0.34881130405591),(38,103,-0.227362895596179),(38,105,0.197439497054964),(38,106,0.545548875392926),(38,111,0.307824945829646),(38,115,-0.0493179113132115),(39,87,0.0748313852351452),(39,89,0.0063631092257454),(39,91,-0.47582934049501),(39,94,-0.131946775719474),(39,97,0.182210760826441),(39,98,-0.342036194952239),(39,107,-0.226187932981353),(39,108,0.123783074434645),(39,109,0.488189336832789),(39,111,0.192144535660878),(39,113,-0.0156865138706626),(39,116,0.297769096957305),(39,118,-0.832804345835749),(40,88,-0.0591753898739585),(40,92,-0.227622302926725),(40,99,0.290993987853633),(40,104,0.159001434369945),(40,110,-0.2811822870571),(40,116,-0.410611285744804),(40,118,0.0554673909726249),(41,88,-0.543168431653798),(41,93,0.36794640949736),(41,96,-0.567369609668264),(41,97,0.223822748496963),(41,100,0.0575426496169927),(41,101,-0.29978331858272),(41,104,0.054612872707297),(41,105,-0.476042970061342),(41,106,0.144367809076205),(41,107,-0.929074983977783),(41,109,0.49710074159978),(41,110,-0.00668355357524339),(41,111,-0.805398724326304),(41,112,-0.917157506027406),(42,85,0.921277504806665),(42,86,-0.111957152012696),(42,87,-0.543031098361156),(42,99,-0.109164708395642),(42,100,0.10429700613422),(42,103,0.122531815546129),(42,109,-0.680608539078951),(42,113,-0.359508041627247),(43,85,0.318613238929411),(43,88,-0.191076387829218),(43,89,-0.208258308664205),(43,93,0.614627521591846),(43,97,0.274147770622883),(43,98,-0.477111117893002),(43,101,-0.0121463667714469),(43,102,0.880489516891995),(43,103,0.426938688314463),(43,105,-0.412381359294412),(43,110,-0.256111331522568),(43,112,0.703985717337565),(43,114,-0.131855220191046),(43,116,0.00875881221961117),(44,89,0.297112949003571),(44,98,0.370067445905942),(44,99,0.00888088625751521),(45,87,0.112323374126408),(45,88,0.562700277718436),(45,90,-0.00866725669118323),(45,91,0.643604846339305),(45,95,-0.291024506363109),(45,98,-0.642307809686575),(45,108,-0.486571855830561),(45,109,0.165501876888333),(45,112,-0.0739158299508652),(45,115,-0.56808679464095),(46,85,-0.443723868526261),(46,89,0.461210974456008),(46,91,-0.305932798242134),(46,94,-0.563325907162694),(46,97,0.0273445844904935),(46,100,-0.878368480483413),(46,101,-0.491256447035127),(46,108,-0.103396710104678),(46,112,-0.0509811700796533),(47,86,0.131870479445784),(47,91,0.67589342936491),(47,92,-0.152821436201056),(47,94,-0.752388073366497),(47,95,-0.653538621173742),(47,100,-0.103976561784722),(47,101,0.275658436841945),(47,104,0.612445448164312),(47,105,-0.449400311288797),(47,108,0.32609027375103),(47,112,0.523911252174444),(47,114,-0.318933683278909),(47,118,0.303811761833552),(48,86,0.245429853205969),(48,91,-0.169835505233924),(48,98,-0.0553605761894589),(48,99,-0.180181279946287),(48,100,-0.207281716360973),(48,103,-0.286843470564898),(48,105,0.13365581225013),(48,106,-0.142048402356029),(48,111,0.0810266426587725),(48,115,-0.282876064333018),(49,87,0.112170781579028),(49,89,0.391781365398114),(49,93,-0.0726798303170873),(49,94,-0.259117404705954),(49,95,0.469969786675619),(49,102,0.630252998443556),(49,113,0.143452253791925),(49,114,0.293908505508591),(50,89,0.17238380077517),(50,105,0.26601458784753),(50,107,-0.652073732718894),(51,87,0.0184789574877163),(51,92,-0.224036378063295),(51,97,0.0908078249458296),(51,98,-0.453306680501724),(51,103,0.296090578936125),(51,106,0.460158085879086),(51,112,0.599703970458083),(51,118,0.517120883816034),(52,89,0.343592638935514),(52,97,-0.611499374370556),(52,106,-0.194067201757866),(52,110,-0.620426038392285),(52,111,0.750205999938963),(52,113,0.410916470839564),(52,114,-0.261101107821894),(52,118,-0.185689870906705),(53,88,-0.0675069429609058),(53,90,-0.304223761711478),(53,92,-0.582888271736808),(53,94,0.564302499465926),(53,104,-0.641392254402295),(53,105,0.414777062288278),(53,109,-0.662984099856563),(54,85,-0.132786034730064),(54,91,0.890911587878048),(54,94,0.45417645802179),(54,96,0.349894711142308),(54,111,0.715048677022614),(54,112,-0.433942686239204),(54,113,0.349375896481216),(54,118,-0.0450453199865719),(55,87,-0.616092410046693),(55,95,-0.254142887661367),(55,107,0.0390636921292764),(55,110,-0.216040528580584),(55,117,-0.774376659443953),(56,107,-0.599780266731773),(56,111,-0.7639545884579),(56,113,-0.33158360545671),(56,114,0.429868465224158),(57,87,-0.236381115146336),(57,90,0.71492660298471),(57,91,0.655278176213874),(57,92,0.173924985503708),(57,93,0.201818903164769),(57,94,0.309747611926634),(57,95,0.151783806878872),(57,96,-0.675527207251198),(57,100,-0.00395214697714164),(57,102,0.0343791009247108),(57,103,-0.0148319956053347),(57,115,-0.0316934720908231),(58,86,0.0895870845667898),(58,87,0.535981322672201),(58,89,0.639698477126377),(58,90,0.538178655354473),(58,95,-0.58691671498764),(58,96,-0.021408734397412),(58,101,-0.203833124790185),(58,103,0.558687093722343),(58,109,0.134159367656484),(58,110,0.439130832850124),(58,113,0.38914151432844),(58,114,-0.0770897549363689),(58,115,-0.47499008148442),(58,118,-0.0186010315256203),(59,85,-0.0840632343516343),(59,86,0.076509903256325),(59,90,0.45768608661153),(59,91,0.160817285683767),(59,93,0.643208105716117),(59,97,0.484130375072481),(59,98,-0.0899533066805017),(59,100,-0.154057435834834),(59,102,-0.106021301919614),(59,112,-0.59088412121952),(59,114,0.227896969512009),(60,85,0.405652027954955),(60,87,-0.142902920621357),(60,90,0.598300119022187),(60,91,0.011474959562975),(60,96,0.690359202856533),(60,100,-0.209067049165319),(60,101,-0.647190771202734),(60,105,-0.435087130344554),(60,107,0.380321665089877),(60,109,-0.532654805139317),(60,110,-0.423947874385815),(60,114,0.312860499893185),(61,89,-0.162968840601825),(61,94,-0.555146946623127),(61,96,0.440595721304971),(61,98,-0.41079439680166),(61,100,-0.0590990936002685),(61,102,0.358775597399823),(61,103,-0.372386852626118),(61,114,-0.636417737357707),(61,115,-0.454435865352336),(62,93,-0.486938077944273),(62,95,-0.387752922147282),(62,107,-0.6782586138493),(62,109,-0.240058595538194),(62,110,0.0692312387462996),(62,111,-0.365337076937162),(63,87,-0.101138340403455),(63,90,0.708777123325297),(63,93,0.434598834192938),(63,97,0.138157292397839),(63,100,-0.0417340617084262),(63,103,-0.104586931974242),(63,104,-0.213965269936216),(63,108,0.194463942381054),(63,111,-0.206839197973571),(63,114,-0.365764336069826),(63,117,0.368572038941618),(64,87,0.359080782494583),(64,94,0.346812341685232),(64,99,-0.34995574816126),(64,110,-0.450117496261483),(64,112,-0.393551438947722),(64,116,-0.317133091219825),(65,87,0.589709158604694),(65,88,0.220435193945128),(65,90,-0.0908688619647817),(65,97,0.0317087313455611),(65,99,-0.326883754997406),(65,107,-0.468443861201819),(65,110,-0.433545945616016),(65,111,0.300592059083834),(65,114,-0.0709707937864315),(65,116,0.0891293069246498),(65,117,-0.0665761284218879),(66,85,0.10849330118717),(66,102,0.0229651783806879),(66,105,0.948362681966613),(66,108,0.524536881618702),(66,111,0.78759117404706),(66,115,0.597430341502121),(66,118,0.185155796990875),(67,86,-0.0131687368388928),(67,90,0.447218237861263),(67,92,0.623203222754601),(67,104,0.506500442518387),(67,109,-0.654744102298044),(67,111,0.144566179387799),(68,87,-0.0133213293862728),(68,88,0.827066866054262),(68,90,0.202963347270119),(68,93,0.00192266609698782),(68,95,0.715338602862636),(68,96,0.0188146610919523),(68,97,-0.376903592028565),(68,103,0.614276558732871),(68,107,0.362743003631703),(68,112,-0.0744041261024811),(68,114,0.703604235969115),(69,87,0.672566911832026),(69,88,-0.815149388103885),(69,92,0.596926786095767),(69,94,-0.40842921231727),(69,95,0.802941984313486),(69,97,-0.0192266609698782),(69,108,-0.113422040467544),(69,113,-0.482680745872372),(69,114,0.518967253639332),(69,118,0.48139896847438),(70,85,0.191274758140812),(70,86,-0.117969298379467),(70,87,-0.613574633014924),(70,90,0.236396374401074),(70,96,-0.380443739127781),(70,97,-0.0180822168645283),(70,99,0.561052278206732),(70,105,-0.797067171239357),(70,107,0.764519180883206),(70,109,0.0376750999481185),(70,110,0.442793053987243),(70,111,-0.362117374187445),(71,85,-0.0773186437574389),(71,93,-0.651020844141972),(71,96,-0.572328867458113),(71,100,-0.463560899685659),(71,104,-0.247856074709311),(71,106,0.0429548020874661),(71,111,0.454680013428144),(71,113,0.296563615833003),(72,94,0.0902584917752617),(72,96,-0.157734916226692),(72,99,0.820627460554826),(72,110,0.340037232581561),(72,112,0.424649800103763),(72,114,0.690801721243934),(72,115,0.547471541489914),(72,116,0.594821008941923),(73,88,0.140156254768517),(73,94,0.465422528763695),(73,99,-0.181768242439039),(73,100,0.0574510940885647),(73,106,0.0447401348918119),(73,110,-0.141590624713889),(73,115,0.258125553147984),(74,90,0.534104434339427),(74,94,-0.0126956999420149),(74,99,0.212652974028748),(74,102,-0.203192236091189),(74,106,0.239677114169744),(74,107,-0.0765556810205389),(74,110,0.636158330027161),(74,113,-0.814035462508011),(74,116,0.251304666280099),(75,85,0.373577074495682),(75,86,-0.0294351023895993),(75,93,-0.758033997619556),(75,98,0.11101107821894),(75,103,-0.213644825586718),(75,105,0.0970488601336711),(75,111,0.73795281838435),(75,117,-0.257820368053224),(76,86,-0.553682058168279),(76,89,0.644474623859371),(76,92,-0.289590136417737),(76,94,0.442228461561937),(76,99,-0.0857417523728141),(76,101,-0.341013824884793),(76,103,0.00576799829096347),(76,106,0.706503494369335),(76,110,-0.725714896084475),(76,113,0.232688375499741),(77,88,-0.559678945280312),(77,91,0.0337534714804529),(77,93,0.610049745170446),(77,98,0.513946958830531),(77,101,-0.358684041871395),(77,102,0.491958372753075),(77,103,-0.321848200933866),(77,104,0.642780846583453),(77,105,0.211828974272897),(77,109,0.224402600177007),(78,88,-0.564714499343852),(78,93,0.595721304971465),(78,94,-0.209921567430647),(78,101,-0.244804223761711),(78,104,-0.0699331644642476),(78,110,-0.25624866481521),(78,114,-0.451078829309977),(78,116,-0.688894314401685),(78,117,-0.201727347636341),(78,118,0.685445722830897),(79,87,0.469954527420881),(79,92,-0.0413068025757622),(79,94,-0.300973540452284),(79,107,0.197286904507584),(79,108,0.656010620441298),(79,114,0.268089846491897),(79,118,0.107638782921842),(80,87,0.184575945310831),(80,88,-0.685918759727775),(80,91,-0.338633381145665),(80,99,0.63342692342906),(80,101,0.493469038972137),(80,107,-0.0195928830835902),(80,113,0.170186468092898),(81,85,-0.658742027039399),(81,86,-0.402172917874691),(81,90,-0.775582140568255),(81,93,-0.136844996490371),(81,96,-0.270302438428907),(81,97,-0.655659657582324),(81,106,0.609042634357738),(81,107,0.45837275307474),(81,110,0.0209509567552721),(81,115,-0.396664326914274),(82,86,0.183675649281289),(82,92,-0.440565202795495),(82,110,-0.841044343394269),(82,112,0.230948820459609),(83,87,-0.405270546586505),(83,91,0.0713980529190955),(83,93,-0.237296670430616),(83,101,-0.702322458571123),(83,103,0.41689809869686),(83,105,0.657567064424573),(83,108,-0.447676015503403),(84,85,-0.666814172795801),(84,86,0.451216162602618),(84,89,0.289208655049287),(84,95,-0.212775048066652),(84,99,-0.186880092776269),(84,104,0.517975402081362),(84,111,-0.418958098086489),(84,113,0.107852412488174),(84,114,0.168248542741173)]
orgname='BHNEAT_3_8'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()