edge = [(0,85,0.60811181981872),(0,89,2.29438154240547),(0,90,0.354167302468947),(0,93,-0.400616473891415),(0,98,1.71396526993622),(0,101,-0.854625080111087),(0,105,0.397106845301675),(0,108,1.5630054628132),(0,113,2.96665852839747),(0,114,-1.94601275673696),(0,117,0.563676870021668),(0,118,-1.19550157170324),(1,86,-0.0292977690969573),(1,92,-0.752494888149663),(1,98,-1.40644550920133),(1,102,-0.115787224951933),(1,104,0.833109530930509),(1,107,-0.885250404370251),(1,108,0.636539811395611),(1,109,-1.2556840723899),(1,113,0.124088259529405),(2,87,-1.57541123691519),(2,88,0.586565752128666),(2,100,-0.455977050080874),(2,106,-0.696768089846492),(2,108,0.222602008117924),(2,110,-0.704000976592303),(2,113,-1.29120761741996),(2,118,2.32303842280343),(3,89,0.219977416302988),(3,92,-0.556031983397931),(3,97,0.121921445356609),(3,99,0.986724448377941),(3,101,0.0292367320780053),(3,103,0.52012695699942),(3,105,0.834406567583239),(3,108,-1.63495284890286),(3,109,-0.706717123935667),(3,111,-1.6927549058504),(3,112,0.392376476332896),(3,116,-0.100146488845485),(4,90,-0.606006042664876),(4,91,1.79822687459944),(4,97,-0.706839197973571),(4,99,2.2896969512009),(4,101,0.0285042878505814),(4,108,0.707113864558855),(4,113,-1.81008331553087),(4,118,0.338526566362499),(5,86,-2.38935514389477),(5,87,-0.368388927884762),(5,89,0.0227668080690939),(5,92,-0.30787072359386),(5,93,0.142277291177099),(5,99,2.46220282601398),(5,104,0.0133671071504868),(5,114,0.716727195043794),(5,118,1.32361827448347),(6,89,-2.51332132938627),(6,92,-0.823847163304544),(6,94,-2.40028077028718),(6,100,0.370555742057558),(6,101,-1.28293710135197),(6,103,-0.423261207922605),(6,107,0.955717642750328),(6,110,-0.189642017883847),(6,113,0.0422376171147801),(7,85,-1.94318979461043),(7,86,3.57660145878475),(7,90,1.8122653889584),(7,95,1.21117282631916),(7,99,0.691091647083957),(7,100,0.909970397045808),(7,104,-0.362773522141179),(7,106,0.645771660512101),(7,108,1.62875759147923),(7,112,0.534012878810999),(7,116,-0.251472518082217),(8,92,-0.235480819116794),(8,93,-0.13296914578692),(8,95,1.48519852290414),(8,99,-0.78469191564684),(8,106,1.64648884548479),(8,107,-0.496169927060762),(8,115,1.85717337565233),(8,116,-0.381145664845729),(8,118,-0.605639820551164),(9,85,-0.324503311258278),(9,87,1.65796380504776),(9,98,-0.220984527115696),(9,101,-0.479171117282632),(9,103,-0.804086428418836),(9,105,0.507599108859523),(9,106,0.718375194555498),(9,113,-0.297952208014161),(10,89,-0.838297677541429),(10,96,0.438978240302744),(10,106,0.619037446211127),(10,108,0.985671559801019),(10,109,0.46134830774865),(10,111,1.34681234168523),(10,112,-0.996963408307138),(10,114,0.399548326059755),(10,115,0.550431836909085),(10,116,-0.271614734336375),(10,117,0.232734153263955),(11,89,-0.135868404187139),(11,97,1.4349040192877),(11,105,-0.60307626575518),(11,112,-0.724600970488601),(11,115,-0.280922879726554),(12,92,-0.753837702566607),(12,93,0.908261360515152),(12,94,-0.747703482161931),(12,97,-0.942228461561937),(12,98,1.93099765007477),(12,99,0.723807489242225),(12,108,-0.0459913937803278),(12,116,-0.0682699056978057),(13,86,0.922544022949919),(13,87,-0.452223273415326),(13,90,-0.470107119968261),(13,99,0.188390758995331),(13,102,0.683156834620197),(13,104,-0.303262428662984),(13,113,-0.0966826380199591),(13,116,-0.421033356730857),(13,118,4.18790246284371),(14,90,-0.860347300637837),(14,93,-0.131809442426832),(14,95,1.68080690939055),(14,102,1.36114078188421),(14,104,-0.271919919431135),(14,106,-0.380184331797235),(14,109,0.330698568681906),(14,110,0.773094882045961),(14,111,-1.06894131290628),(15,85,-0.655354472487564),(15,92,0.395260475478378),(15,99,-0.743095187231056),(15,101,-0.601214636677145),(15,104,-0.699819940794092),(15,108,2.37968077639088),(15,117,-1.87842951750236),(16,86,-0.11383404034547),(16,87,0.210715048677023),(16,88,0.130558183538316),(16,90,0.883022553178503),(16,91,-0.428632465590381),(16,95,-0.791619617297891),(16,97,-0.817636646626179),(16,98,0.847651600695822),(16,99,-0.265449995422224),(16,101,0.80108035523545),(16,108,0.552140873439741),(16,110,1.84493545335246),(17,89,0.182683797723319),(17,96,-0.106784264656514),(17,99,-1.45266579180273),(17,101,-2.13397625659963),(17,106,0.143620105594043),(17,107,-0.296670430616169),(17,109,-0.546494949186682),(18,90,0.738822595904416),(18,91,-0.707876827295755),(18,93,-0.706869716483047),(18,99,0.272530289620655),(18,102,-0.269966734824671),(18,103,-0.847773674733726),(18,104,0.570085757011628),(18,110,-1.3905301065096),(18,111,0.692983794671468),(18,116,-2.64244514297922),(18,117,0.929136020996735),(18,118,-0.493362224188971),(19,87,-0.260994293038728),(19,89,0.0807519760734886),(19,93,-0.447477645191809),(19,95,-2.2445600756859),(19,101,0.737846003601184),(19,105,-0.279793694875942),(19,115,-0.994872890408033),(20,88,1.04411450544755),(20,101,-0.6120792260506),(20,103,-1.74065370647298),(20,104,-0.595385601367229),(20,105,-0.275460066530351),(20,106,-0.167607654042177),(20,111,-0.22064882351146),(20,116,0.623477889339885),(21,86,0.752586443678091),(21,87,-0.567430646687216),(21,94,-0.712668233283486),(21,96,2.25203711050752),(21,101,0.794122135074923),(21,102,1.30205694753868),(21,105,-0.970854823450423),(21,107,0.0382702108829005),(21,108,-0.732932523575549),(22,86,-3.12315744499039),(22,88,-0.636661885433515),(22,91,-0.325617236854152),(22,92,-0.363414410840175),(22,93,0.315958128604999),(22,98,-0.329966124454482),(22,106,-1.00276192510758),(22,115,-0.836085085604419),(22,117,-1.22074037903989),(23,85,-0.482863856929228),(23,86,-3.02394177068392),(23,88,1.60229804376354),(23,90,0.49458296456801),(23,97,1.60908841212195),(23,104,-1.20290231025117),(23,112,1.60626544999542),(23,114,0.270027771843623),(23,115,-0.776970732749413),(23,116,-1.73285622730186),(24,89,-0.563493758964812),(24,90,0.53880428479873),(24,91,-2.0394756920072),(24,101,0.265419476912748),(24,107,2.36629840998566),(24,108,-0.00709555345316935),(24,110,0.491256447035127),(24,112,-0.815179906613361),(25,90,0.548295541245766),(25,92,-1.46714682454909),(25,94,-0.184408093508713),(25,98,0.228614154484695),(25,105,2.35877559739982),(25,108,0.896176030762658),(25,109,0.0531937620166631),(25,115,-0.133610034485916),(26,85,0.541917172765282),(26,87,0.532105471968749),(26,89,-0.283211767937254),(26,95,0.686956389049959),(26,98,-0.485000152592547),(26,100,0.343485824152348),(26,101,-2.15880306405835),(26,102,-3.53927732169561),(26,103,-0.683339945677053),(26,104,0.873958555864132),(26,107,0.866481521042512),(26,109,0.782280953398236),(26,112,-0.266182439649647),(26,113,-0.380169072542497),(26,117,-0.572893459883419),(27,85,-1.20647297585986),(27,87,0.121250038148137),(27,94,0.673787652211066),(27,100,0.71752067629017),(27,102,-0.610141300698874),(27,103,-0.148472548600726),(27,104,-1.05682546464431),(27,105,0.903256324961089),(27,108,-0.806146427808466),(27,110,-0.139103366191595),(27,114,-0.213950010681478),(28,87,0.423078096865749),(28,88,-0.756523331400494),(28,97,-0.279549546800134),(28,99,-0.73787652211066),(28,104,-0.289361247596667),(28,113,-0.161351359599597),(28,114,1.38981292153691),(29,88,0.761558885464034),(29,91,0.883205664235359),(29,102,-0.160924100466933),(29,105,-1.29522080141606),(29,116,-0.631611072115238),(30,95,1.76908169804987),(30,96,0.273934141056551),(30,99,-0.472518082216865),(30,101,0.461622974333934),(30,104,-0.0746177556688131),(30,109,0.956678975798822),(30,110,0.615436262092959),(30,114,-1.04995880001221),(30,118,-1.18561357463302),(31,85,-0.768852809228797),(31,92,0.153843806268502),(31,94,-0.3037507248146),(31,96,1.3401745658742),(31,99,2.72507400738548),(31,103,-0.226996673482467),(31,107,-1.04052858058412),(31,108,0.872463148899808),(31,109,0.452772606585894),(31,111,-0.396679586169011),(31,112,-0.307931760612812),(31,117,-2.75869014557329),(32,86,1.28826258125553),(32,87,0.150975066377758),(32,89,-0.163609729300821),(32,92,-1.88670003357036),(32,98,-1.3623004852443),(32,99,1.78304391613514),(32,104,2.41534165471358),(32,106,-1.25377666554765),(32,109,0.926023133030183),(32,116,-1.19330423902097),(32,118,2.28049562059389),(33,96,0.395565660573137),(33,98,-2.0442518387402),(33,108,-0.780999176000244),(33,110,-0.883236182744835),(33,111,0.0603503524887845),(33,114,1.56637775811029),(34,85,-1.09112826929533),(34,90,-0.394970549638356),(34,99,-0.739310892056032),(34,104,2.26113162633137),(34,109,1.64842677083651),(35,86,-0.0744651631214332),(35,87,0.684499649037141),(35,97,-0.0440992461928159),(35,98,0.749382000183111),(35,100,-1.48257393108921),(35,104,0.168431653798028),(35,107,-0.56953642384106),(35,109,-1.78998687704093),(35,110,1.87611011078219),(35,112,0.0627155369731742),(36,85,-0.832789086581011),(36,87,0.403424176763207),(36,90,-0.779595324564348),(36,91,0.708334604937895),(36,104,0.406048768578143),(36,107,0.756492812891018),(36,109,0.738776818140202),(36,112,1.35885189367351),(36,115,1.33434553056429),(36,117,0.309183019501328),(36,118,1.52584917752617),(37,85,0.419293801690725),(37,86,0.0860621967223121),(37,87,-1.15848261970885),(37,91,2.35351115451521),(37,99,-0.752220221564379),(37,105,-0.0697653126621296),(37,111,-0.0716269417401654),(37,112,1.78269295327616),(37,118,-0.207403790398877),(38,87,0.187749870296335),(38,90,2.33465071565905),(38,103,1.84075441755425),(38,105,0.685110019226661),(38,106,-1.22463148899808),(38,111,1.97035126804407),(38,115,-0.112674336985382),(39,87,-1.74770348216193),(39,89,0.470900601214637),(39,91,-0.900677510910367),(39,94,-0.130802331614124),(39,97,-0.462172307504502),(39,98,0.135074922940764),(39,107,-1.56393627735221),(39,108,-1.34192938016907),(39,109,0.914548173467208),(39,111,0.00189214758751183),(39,113,3.38593707083346),(39,116,0.250083925901059),(39,118,-0.953276161992248),(40,88,-0.697988830225532),(40,92,-0.368358409375286),(40,99,0.297067171239357),(40,104,-0.60460219122898),(40,110,2.19557786797693),(40,116,0.84614093447676),(40,118,0.531327249977111),(41,88,0.10643330179754),(41,93,2.24266792809839),(41,96,-0.463759269997253),(41,97,-0.0195318460646382),(41,100,-1.40163884395886),(41,101,2.43259987182226),(41,104,2.07675405133213),(41,105,0.0281380657368694),(41,106,-0.0122379222998749),(41,107,-0.946531571398053),(41,109,0.165089877010407),(41,110,-0.212622455519273),(41,111,-0.0811944944608906),(41,112,1.41904965361492),(42,85,0.970519119846187),(42,86,-0.0117801446577349),(42,87,1.24321726126896),(42,99,-0.43328653828547),(42,100,-0.368694112979522),(42,103,-2.68570513016144),(42,109,1.31186864833522),(42,113,-0.198904385509812),(43,85,-1.80054628131962),(43,88,-1.90641499069185),(43,89,0.391644032105472),(43,93,-0.117847224341563),(43,97,0.603640858180487),(43,98,1.99133274330882),(43,101,3.14687032685324),(43,102,-0.614398632770776),(43,103,0.122684408093509),(43,105,-0.334177678762169),(43,110,1.60231330301828),(43,112,0.0506759849848935),(43,114,-2.73253578295236),(43,116,-1.90748313852351),(44,89,0.907620471816156),(44,98,2.24486526078066),(44,99,-0.634083071382794),(45,87,0.402478102969451),(45,88,-1.61435285500656),(45,90,-3.1523178807947),(45,91,0.655171361430708),(45,95,0.365794854579302),(45,98,-0.443388164922025),(45,108,-0.385174108096561),(45,109,0.195745719779046),(45,112,-0.577425458540605),(45,115,-0.819208349864193),(46,85,-0.402752769554735),(46,89,0.303811761833552),(46,91,-0.100833155308695),(46,94,-0.12717062898648),(46,97,0.337900936918241),(46,100,-0.295403912472915),(46,101,-0.336375011444441),(46,108,-0.511032441175573),(46,112,-0.144230475783563),(47,86,-0.541367839594714),(47,91,2.61076693014313),(47,92,-0.748619037446211),(47,94,-2.20488601336711),(47,95,-0.308999908444472),(47,100,-0.583880123294778),(47,101,0.716727195043794),(47,104,-1.40964995269631),(47,105,1.83826715903195),(47,108,0.487075411236915),(47,112,0.23734244819483),(47,114,0.0601214636677145),(47,118,1.00352488784448),(48,86,0.669454023865474),(48,91,-1.07522812585833),(48,98,1.73926511429182),(48,99,0.128604998931852),(48,100,-1.15930661946471),(48,103,-1.9966277047029),(48,105,-0.52699362163152),(48,106,-2.44796594134342),(48,111,-2.54335154271065),(48,115,2.23479415265358),(49,87,-0.122043519394513),(49,89,0.642155217139195),(49,93,3.88261055330058),(49,94,1.98568681905576),(49,95,1.19028290658284),(49,102,0.949980162968841),(49,113,0.859920041505173),(49,114,0.672750022888882),(50,89,0.998046815393536),(50,105,3.27320169682913),(50,107,-2.42794579912717),(51,87,1.7177343058565),(51,92,0.27774895474105),(51,97,-0.678395947141942),(51,98,-0.501083407086398),(51,103,-0.269692068239387),(51,106,0.520645771660512),(51,112,-0.265587328714866),(51,118,-1.04185613574633),(52,89,0.451948606830042),(52,97,-0.473830378124332),(52,106,-0.805230872524186),(52,110,-0.674764244514298),(52,111,0.565996276741844),(52,113,0.21454512161626),(52,114,-0.633777886288034),(52,118,-0.190313425092318),(53,88,0.123935666982025),(53,90,0.97231971190527),(53,92,-0.427655873287149),(53,94,0.681325724051637),(53,104,-0.546769615771966),(53,105,-1.37594225898007),(53,109,-0.73558763389996),(54,85,-0.124851222266305),(54,91,0.98055970946379),(54,94,0.811487166966765),(54,96,0.348979155858028),(54,111,0.933408612323374),(54,112,-0.738151188695944),(54,113,1.0551774651326),(54,118,-0.0560625019074068),(55,87,-0.739524521622364),(55,95,-1.66783654286325),(55,107,-0.632343516342662),(55,110,-0.0205999938962981),(55,117,-2.91068758201849),(56,107,-0.332316049684133),(56,111,-0.62968840601825),(56,113,-0.785973693044832),(56,114,0.0631122775963622),(57,87,-0.35026093325602),(57,90,0.855159154026917),(57,91,-0.746635334330271),(57,92,0.764061403241066),(57,93,2.07992797631764),(57,94,0.241523483993042),(57,95,0.980773339030122),(57,96,-1.06031983397931),(57,100,0.860957670827357),(57,102,-0.892513809625538),(57,103,0.594500564592425),(57,115,-0.129169591357158),(58,86,0.577806939909055),(58,87,0.366252632221442),(58,89,-0.383373516037477),(58,90,0.32944730979339),(58,95,-0.801507614368114),(58,96,0.294351023895993),(58,101,-1.38888210699789),(58,103,0.975615710928678),(58,109,-0.0685140537736137),(58,110,-1.08847315897092),(58,113,0.173009430219428),(58,114,-0.592593157750176),(58,115,-2.38241218298898),(58,118,-0.530640583513901),(59,85,1.01377910702841),(59,86,0.720847193823054),(59,90,0.890865810113834),(59,91,0.746330149235511),(59,93,-2.06343272194586),(59,97,0.412366100039674),(59,98,0.231055635242775),(59,100,-1.92567217017121),(59,102,0.71721549119541),(59,112,-2.61474959562975),(59,114,-0.442091128269295),(60,85,-0.157963805047761),(60,87,-0.309518723105563),(60,90,-2.60406811731315),(60,91,-0.54582354197821),(60,96,2.32723471785638),(60,100,0.0686361278115177),(60,101,-0.940183721427046),(60,105,-0.535447248756371),(60,107,0.645130771813105),(60,109,1.7628711813715),(60,110,-0.206671346171453),(60,114,-2.90346995452742),(61,89,-1.16901150547807),(61,94,-0.203344828638569),(61,96,-1.45580919827876),(61,98,-0.525223548081912),(61,100,-0.708792382580035),(61,102,-1.9373149815363),(61,103,-0.683156834620197),(61,114,-0.840998565630055),(61,115,-0.0953703421124912),(62,93,-0.551499984740745),(62,95,-0.964842677083651),(62,107,-0.43168431653798),(62,109,-0.844111453596606),(62,110,0.845362712485122),(62,111,-2.31154820398572),(63,87,2.01498458815271),(63,90,0.735831781975768),(63,93,0.2165288247322),(63,97,0.0775475325785089),(63,100,0.0661946470534379),(63,103,-1.29728080080569),(63,104,-0.0152897732474746),(63,108,-0.579638050477615),(63,111,-0.602374340037233),(63,114,-0.162785729544969),(63,117,0.180242316965239),(64,87,-0.75762199774163),(64,94,-0.396038697470016),(64,99,-1.26163518173772),(64,110,-0.101260414441359),(64,112,0.860209967345195),(64,116,-0.200537125766778),(65,87,0.6939603869747),(65,88,-0.0688497573778497),(65,90,-0.0259407330545976),(65,97,-0.469557786797693),(65,99,-0.168675801873836),(65,107,-0.963957640308847),(65,110,-0.9518112735374),(65,111,-0.0235297708059938),(65,114,-1.25254066591388),(65,116,-0.636860255745109),(65,117,0.75914792321543),(66,85,2.25597399822993),(66,102,3.03291421246986),(66,105,0.911160618915372),(66,108,-0.0261696218756676),(66,111,2.56106753746147),(66,115,0.46165349284341),(66,118,-1.03955198828089),(67,86,0.493148594622639),(67,90,0.796136356700339),(67,92,0.265755180516984),(67,104,0.82311471907712),(67,109,-0.616229743339335),(67,111,-1.13458662678915),(68,87,1.78069399090548),(68,88,0.759392071291238),(68,90,-0.208960234382153),(68,93,-1.79319132053591),(68,95,-1.82592242194891),(68,96,1.0960570085757),(68,97,-0.611865596484268),(68,103,0.376293221839045),(68,107,-0.140690328684347),(68,112,-0),(68,114,-3.32711264381848),(69,87,2.44035157322916),(69,88,-0.284752952665792),(69,92,0.673085726493118),(69,94,-0.795892208624531),(69,95,0.901058992278817),(69,97,-1.0917996765038),(69,108,-0.542252876369518),(69,113,-3.22865993224891),(69,114,4.74204229865413),(69,118,0.990844447157201),(70,85,-2.52369762260811),(70,86,-0.603411969359416),(70,87,0.60879848628193),(70,90,0.739188818018128),(70,96,-0.00350962858973968),(70,97,-0.151066621906186),(70,99,-1.97509689626759),(70,105,-0.960997344889676),(70,107,-0.695532090212714),(70,109,0.119876705221717),(70,110,0.0257881405072176),(70,111,-0.274117252113407),(71,85,0.136051515243995),(71,93,-0.407025360881375),(71,96,-0.831385235145116),(71,100,-0.132023071993164),(71,104,0.160451063570055),(71,106,-0.206213568529313),(71,111,0.767967772453993),(71,113,0.171361430707724),(72,94,0.951902829065828),(72,96,-0.502243110446486),(72,99,1.93189794610431),(72,110,-0.184636982329783),(72,112,-1.40868861964782),(72,114,0.623676259651479),(72,115,2.13064973906674),(72,116,0.718008972441786),(73,88,2.36057618945891),(73,94,0.381542405468917),(73,99,-0.294961394085513),(73,100,-1.58572649311808),(73,106,1.09706411938841),(73,110,2.61772515030366),(73,115,0.545136875515),(74,90,0.257820368053224),(74,94,-0.730185857722709),(74,99,0.570543534653768),(74,102,-0.518723105563524),(74,106,-0.253059480574969),(74,107,2.23853267006439),(74,110,0.748863185522019),(74,113,1.39103366191595),(74,116,1.57475508896145),(75,85,0.191015350810266),(75,86,1.61435285500656),(75,93,0.49900814844203),(75,98,-0.0191503646961882),(75,103,-0.815424054689169),(75,105,0.606067079683828),(75,111,0.924375133518479),(75,117,-0.725363933225501),(76,86,-0.379589220862453),(76,89,0.451857051301614),(76,92,-0.341776787621693),(76,94,-1.74893948179571),(76,99,-0.0566423535874508),(76,101,-0.343333231604968),(76,103,0.847911008026368),(76,106,0.748832667012543),(76,110,0.337549974059267),(76,113,0.151066621906186),(77,88,0.0561082796716208),(77,91,0.0854213080233161),(77,93,0.463881344035157),(77,98,-0.337717825861385),(77,101,1.45608386486404),(77,102,0.207037568285165),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,0.234015930661946),(77,109,0.143925290688803),(78,88,-0.534440137943663),(78,93,1.52548295541246),(78,94,0.521897030549028),(78,101,-0.601947080904569),(78,104,0.102511673329875),(78,110,-0.555558946501053),(78,114,1.15764336069826),(78,116,0.102694784386731),(78,117,0.852687154759362),(78,118,0.594561601611377),(79,87,0.894375438703574),(79,92,0.242164372692038),(79,94,1.66760765404218),(79,107,-0.170079653309732),(79,108,-0.844584490493484),(79,114,2.32630390331736),(79,118,0.942335276345103),(80,87,1.75855281228065),(80,88,-0.941343424787133),(80,91,-0.367961668752098),(80,99,0.479476302377392),(80,101,0.353740043336283),(80,107,1.9698019348735),(80,113,-1.75099948118534),(81,85,0.275429548020875),(81,86,-1.87475203711051),(81,90,-1.73117770928068),(81,93,-1.45109408856471),(81,96,0.211554307687613),(81,97,-0.189687795648061),(81,106,-1.44805749687185),(81,107,0.13556321909238),(81,110,0.926145207068087),(81,115,-0.515396588030641),(82,86,0.294259468367565),(82,92,2.09807123020112),(82,110,-0.852443006683554),(82,112,2.24703207495346),(83,87,-0.97460860011597),(83,91,0.991027558214057),(83,93,0.0527665028839991),(83,101,-0.454908902249214),(83,103,0.226752525406659),(83,105,0.661214026306955),(83,108,-0.982726523636586),(84,85,-0.752616962187567),(84,86,0.152500991851558),(84,89,-0.228339487899411),(84,95,-1.81666005432295),(84,99,0.591143528550066),(84,104,0.336771752067629),(84,111,-1.85018463698233),(84,113,-0.465834528641621),(84,114,0.710257271034883),(35,105,-0.213538010803552)]
orgname='BHNEAT_11_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()