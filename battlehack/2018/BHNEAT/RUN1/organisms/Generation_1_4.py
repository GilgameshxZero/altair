edge = [(0,85,0.246650593585009),(0,89,0.131717886898404),(0,90,-0.593310342722861),(0,93,-0.247932370983001),(0,98,0.58287301248207),(0,101,-0.856166264839625),(0,105,0.695089571825312),(0,108,0.842036194952239),(0,113,0.0792870876186407),(0,114,0.91521958067568),(0,117,-0.735618152409436),(0,118,0.689687795648061),(1,86,0.0822473830378124),(1,92,0.435438093203528),(1,98,-0.866451002533036),(1,102,-0.89196447645497),(1,104,-0.12884914700766),(1,107,-0.230811487166967),(1,108,-0.105319376201666),(1,109,-0.562120426038392),(1,113,-0.669423505355998),(2,87,-0.919553209021271),(2,88,-0.313577684865871),(2,100,0.0603350932340464),(2,106,0.854365672780541),(2,108,0.300180059205908),(2,110,0.159825434125797),(2,113,-0.597674489577929),(2,118,-0.354625080111087),(3,89,-0.831690420239875),(3,92,-0.288857692190313),(3,97,0.302591021454512),(3,99,0.683584093752861),(3,101,-0.56038087099826),(3,103,0.414258247627186),(3,105,-0.344737083040864),(3,108,0.990081484420301),(3,109,-0.338236640522477),(3,111,0.553605761894589),(3,112,-0.208441419721061),(3,116,-0.790581987975707),(4,90,-0.675679799798578),(4,91,0.125095370342112),(4,97,0.710837122714927),(4,99,-0.609759819330424),(4,101,0.0730002746665853),(4,108,-0.124118778038881),(4,113,-0.857570116275521),(4,118,-0.997955259865108),(5,86,0.174169133579516),(5,87,0.0987273781548509),(5,89,0.130344553971984),(5,92,0.89425336466567),(5,93,0.586443678090762),(5,99,0.142735068819239),(5,104,0.299844355601672),(5,114,0.804162724692526),(5,118,-0.709707937864315),(6,89,0.625080111087374),(6,92,0.357646412549211),(6,94,-0.76052125614185),(6,100,-0.419751579332865),(6,101,0.874111148411512),(6,103,-0.661152989288003),(6,107,0.535996581926939),(6,110,-0.948332163457137),(6,113,0.536149174474319),(7,85,-0.885067293313395),(7,86,0.0768761253700369),(7,90,-0.804345835749382),(7,95,0.826075014496292),(7,99,0.873470259712516),(7,100,-0.625812555314798),(7,104,-0.0801416058839686),(7,106,-0.389660328989532),(7,108,0.985747856074709),(7,112,-0.502853480636006),(7,116,-0.985808893093661),(8,92,-0.99588000122074),(8,93,0.0306100650044252),(8,95,0.0138248847926267),(8,99,-0.956114383373516),(8,106,-0.777733695486312),(8,107,-0.381694998016297),(8,115,0.453840754417554),(8,116,-0.17322305978576),(8,118,-0.241218298898282),(9,85,0.368572038941618),(9,87,0.675618762779626),(9,98,-0.84957426679281),(9,101,-0.760185552537614),(9,103,0.536820581682791),(9,105,-0.191045869319742),(9,106,0.113498336741234),(9,113,-0.776421399578845),(10,89,-0.871089815973388),(10,96,0.274361400189215),(10,106,0.843134861293374),(10,108,-0.423535874507889),(10,109,-0.574694051942503),(10,111,0.0364391003143406),(10,112,-0.290353099154637),(10,114,0.793450727866451),(10,115,-0.499893185216834),(10,116,-0.938230536820582),(10,117,0.840327158421583),(11,89,-0.564226203192236),(11,97,-0.821771904660176),(11,105,0.712515640736106),(11,112,0.748771629993591),(11,115,0.207953123569445),(12,92,0.0505081331827754),(12,93,-0.162602618488113),(12,94,-0.202246162297433),(12,97,-0.49748222296823),(12,98,0.975157933286538),(12,99,0.806970427564318),(12,108,-0.54399243140965),(12,116,-0.530564287240211),(13,86,0.632496108890042),(13,87,0.837672048097171),(13,90,-0.00949125644703513),(13,99,-0.990752891628773),(13,102,0.89562669759209),(13,104,0.362804040650655),(13,113,0.816003906369213),(13,116,-0.862758262886441),(13,118,-0.774895474105045),(14,90,0.400433362834559),(14,93,-0.948667867061373),(14,95,-0.32227546006653),(14,102,0.0256965849787896),(14,104,-0.593127231666005),(14,106,-0.488418225653859),(14,109,0.0180059205908383),(14,110,0.15683462019715),(14,111,-0.112369151890622),(15,85,-0.824091311380352),(15,92,-0.464949491866817),(15,99,-0.432538834803308),(15,101,-0.720847193823054),(15,104,0.593096713156529),(15,108,-0.768059327982421),(15,117,0.962950529496139),(16,86,-0.46165349284341),(16,87,-0.694692831202124),(16,88,0.394512771996216),(16,90,-0.475814081240272),(16,91,0.943601794488357),(16,95,0.21897030549028),(16,97,-0.213721121860408),(16,98,0.863795892208625),(16,99,0.690389721366009),(16,101,-0.63563951536607),(16,108,0.52348399304178),(16,110,0.100802636799219),(17,89,-0.523606067079684),(17,96,0.086519974364452),(17,99,-0.28125858333079),(17,101,0.621387371440779),(17,106,-0.447096163823359),(17,107,0.12503433332316),(17,109,0.25952940458388),(18,90,0.756431775872066),(18,91,0.00250251777703177),(18,93,0.746940519425031),(18,99,-0.343272194586016),(18,102,-0.319620349742119),(18,103,0.56404309213538),(18,104,-0.0556352427747429),(18,110,-0.689230018005921),(18,111,0.937955870235298),(18,116,-0.541306802575762),(18,117,0.406231879634999),(18,118,0.964903714102603),(19,87,0.219763786736656),(19,89,-0.959532456434828),(19,93,-0.371623889889218),(19,95,0.386516922513504),(19,101,0.355174413281655),(19,105,-0.384960478530229),(19,115,-0.374645222327342),(20,88,-0.774803918576617),(20,101,0.240974150822474),(20,103,-0.665211951048311),(20,104,0.330240791039766),(20,105,0.34644611957152),(20,106,0.725424970244453),(20,111,0.452436902981658),(20,116,-0.140690328684347),(21,86,-0.461439863277078),(21,87,0.065584276863918),(21,94,0.978606524857326),(21,96,0.388622699667348),(21,101,0.043549913022248),(21,102,-0.191351054414502),(21,105,-0.0515152439954833),(21,107,0.0704977568895535),(21,108,-0.894009216589862),(22,86,0.869869075594348),(22,88,-0.740226447340312),(22,91,-0.715414899136326),(22,92,-0.615741447187719),(22,93,0.36405529953917),(22,98,-0.718619342631306),(22,106,0.731925412762841),(22,115,-0.368541520432142),(22,117,-0.679189428388318),(23,85,-0.7360454115421),(23,86,-0.327494125186926),(23,88,0.172490615558336),(23,90,-0.990936002685629),(23,97,0.183568834498123),(23,104,-0.843836787011322),(23,112,-0.979155858027894),(23,114,0.34873500778222),(23,115,0.224799340800195),(23,116,0.851832636494034),(24,89,0.228949858088931),(24,90,0.248664815210425),(24,91,-0.459639271217994),(24,101,0.850367748039186),(24,107,-0.113925595873898),(24,108,0.16879787591174),(24,110,-0.590411084322642),(24,112,0.9120151371807),(25,90,-0.264046143986328),(25,92,-0.661366618854335),(25,94,-0.0581987975707266),(25,98,0.120029297769097),(25,105,0.076143681142613),(25,108,-0.0953703421124912),(25,109,0.119174779503769),(25,115,0.140018921475875),(26,85,-0.404370250556963),(26,87,-0.643299661244545),(26,89,-0.328623310037538),(26,95,0.770073549607837),(26,98,0.830378124332408),(26,100,-0.605578783532212),(26,101,0.902310251167333),(26,102,0.813104647968993),(26,103,0.232673116245003),(26,104,0.666951506088443),(26,107,-0.923184911648915),(26,109,0.115482039857173),(26,112,0.873470259712516),(26,113,0.178044984282968),(26,117,-0.863032929471725),(27,85,-0.115207373271889),(27,87,-0.721518601031526),(27,94,0.0560625019074068),(27,100,0.386791589098788),(27,102,0.743552964873196),(27,103,-0.230719931638539),(27,104,0.398541215247047),(27,105,-0.909207434308908),(27,108,-0.0240180669576098),(27,110,0.291787469100009),(27,114,0.403515732291635),(28,87,0.871974852748192),(28,88,0.212652974028748),(28,97,-0.577043977172155),(28,99,0.690298165837581),(28,104,-0.210455641346477),(28,113,0.822473830378124),(28,114,-0.99633777886288),(29,88,-0.614276558732871),(29,91,-0.978606524857326),(29,102,-0.376873073519089),(29,105,0.48292489394818),(29,116,-0.669606616412854),(30,95,0.600634784997101),(30,96,0.23535874507889),(30,99,0.828516495254372),(30,101,-0.573503830072939),(30,104,-0.718771935178686),(30,109,-0.334940641499069),(30,110,0.785546433912168),(30,114,0.12610248115482),(30,118,-0.105044709616382),(31,85,0.191473128452406),(31,92,-0.155949583422346),(31,94,0.439344462416456),(31,96,-0.606677449873348),(31,99,0.00457777642139958),(31,103,-0.0849635303811762),(31,107,0.628559221167638),(31,108,-0.592974639118625),(31,109,0.209845271156957),(31,111,0.278878139591662),(31,112,-0.561052278206732),(31,117,-0.87343974120304),(32,86,0.321787163914914),(32,87,0.365153965880306),(32,89,0.754936368907743),(32,92,-0.554826502273629),(32,98,-0.411847285378582),(32,99,0.113956114383374),(32,104,0.021851252784814),(32,106,-0.80687887203589),(32,109,-0.064790795617542),(32,116,0.74001281777398),(32,118,-0.948149052400281),(33,96,0.00460829493087558),(33,98,0.157567064424573),(33,108,0.00271614734336375),(33,110,-0.806970427564318),(33,111,0.2165288247322),(33,114,0.303659169286172),(34,85,-0.324594866786706),(34,90,-0.996459852900784),(34,99,-0.507248146000549),(34,104,0.307840205084384),(34,109,0.645252845851009),(35,86,0.596514786217841),(35,87,0.0232856227301859),(35,97,-0.474105044709616),(35,98,0.231147190771203),(35,100,0.138889736625263),(35,104,-0.330881679738762),(35,107,0.11078218939787),(35,109,-0.158696249275185),(35,110,0.183599353007599),(35,112,-0.974425489059114),(36,85,-0.0770287179174169),(36,87,-0.690237128818629),(36,90,-0.795861690115055),(36,91,-0.724295785393841),(36,104,0.713614307077242),(36,107,-0.260994293038728),(36,109,-0.517197180089724),(36,112,-0.483199560533464),(36,115,-0.00256355479598376),(36,117,-0.296670430616169),(36,118,0.924375133518479),(37,85,-0.319101535081027),(37,86,-0.2991729483932),(37,87,-0.579302346873379),(37,91,-0.370036927396466),(37,99,-0.594012268440809),(37,105,0.47941526535844),(37,111,0.380932035279397),(37,112,-0.998718222602008),(37,118,-0.657307657094027),(38,87,0.847926267281106),(38,90,-0.0837122714926603),(38,103,-0.63182470168157),(38,105,0.0720236823633534),(38,106,-0.648884548478652),(38,111,-0.504928739280374),(38,115,0.615863521225623),(39,87,0.84347056489761),(39,89,0.524491103854488),(39,91,-0.645863216040529),(39,94,0.226966154972991),(39,97,0.618060853907895),(39,98,0.764305551316874),(39,107,-0.0832544938505203),(39,108,0.725943784905545),(39,109,0.32212286751915),(39,111,-0.689413129062777),(39,113,0.722312082277902),(39,116,0.657612842188787),(39,118,-0.208471938230537),(40,88,0.0151066621906186),(40,92,0.1293069246498),(40,99,0.487685781426435),(40,104,-0.780175176244392),(40,110,0.535905026398511),(40,116,0.163457136753441),(40,118,-0.171666615802484),(41,88,-0.559953611865596),(41,93,-0.976226081118198),(41,96,-0.1262550737022),(41,97,0.748924222540971),(41,100,0.174077578051088),(41,101,-0.351451155125584),(41,104,0.14691610461745),(41,105,-0.555772576067385),(41,106,0.719412823877682),(41,107,-0.681997131260109),(41,109,-0.0232551042207099),(41,110,-0.15195165868099),(41,111,-0.882381664479507),(41,112,0.404766991180151),(42,85,-0.236152226325266),(42,86,0.553178502761925),(42,87,-0.778771324808496),(42,99,-0.325724051637318),(42,100,-0.356547746208075),(42,103,0.864314706869716),(42,109,0.982879116183966),(42,113,-0.457197790459914),(43,85,-0.564073610644856),(43,88,-0.906765953550829),(43,89,0.714896084475234),(43,93,-0.583666493728446),(43,97,-0.495406964323862),(43,98,0.933774834437086),(43,101,-0.655140842921232),(43,102,0.899746696371349),(43,103,-0.141697439497055),(43,105,0.0270393993957335),(43,110,0.354319895016327),(43,112,0.56434827723014),(43,114,0.0133976256599628),(43,116,0.269234290597247),(44,89,-0.707724234748375),(44,98,-0.514542069765313),(44,99,-0.291604358043153),(45,87,0.285103915524766),(45,88,-0.463209936826685),(45,90,-0.382793664357433),(45,91,-0.184362315744499),(45,95,-0.245979186376537),(45,98,0.230567339091159),(45,108,-0.861751152073733),(45,109,-0.206732383190405),(45,112,0.930570390942106),(45,115,-0.962126529740287),(46,85,0.359691152684103),(46,89,-0.603595080416273),(46,91,-0.936216315195166),(46,94,-0.37229529709769),(46,97,-0.291116061891537),(46,100,0.633716849269082),(46,101,0.634510330515458),(46,108,-0.265816217535936),(46,112,-0.845637379070406),(47,86,0.933866389965514),(47,91,0.964476454969939),(47,92,-0.242622150334178),(47,94,0.578936124759667),(47,95,0.681722464674825),(47,100,0.657582323679311),(47,101,-0.748344370860927),(47,104,0.670308542130802),(47,105,0.776512955107273),(47,108,-0.988158818323313),(47,112,0.939664906765954),(47,114,0.189428388317515),(47,118,-0.755851924192022),(48,86,0.642811365092929),(48,91,-0.332468642231513),(48,98,0.21683400982696),(48,99,-0.667653431806391),(48,100,-0.802941984313486),(48,103,0.702261421552171),(48,105,0.161748100222785),(48,106,-0.615924558244575),(48,111,0.0336619159520249),(48,115,0.204931791131321),(49,87,0.120822779015473),(49,89,-0.199102755821406),(49,93,-0.0733054597613453),(49,94,-0.187383648182623),(49,95,0.621631519516587),(49,102,0.559862056337168),(49,113,-0.116977446821497),(49,114,-0.656025879696036),(50,89,0.594714194158757),(50,105,-0.264656514175848),(50,107,-0.688009277626881),(51,87,0.872432630390332),(51,92,0.91796624652852),(51,97,-0.732474745933409),(51,98,-0.691000091555528),(51,103,-0.0445265053254799),(51,106,0.376873073519089),(51,112,-0.430951872310556),(51,118,-0.740409558397168),(52,89,-0.582506790368358),(52,97,0.384685811944945),(52,106,0.558915982543413),(52,110,-0.358165227210303),(52,111,-0.887569811090426),(52,113,0.305948057496872),(52,114,-0.4338206122013),(52,118,0.134128849147008),(53,88,-0.142918179876095),(53,90,0.727469710379345),(53,92,0.303323465681936),(53,94,0.443342387157811),(53,104,-0.0754112369151891),(53,105,-0.520065919980468),(53,109,-0.799157689138463),(54,85,-0.813470870082705),(54,91,-0.156468398083438),(54,94,-0.0353404339732048),(54,96,0.752464369640187),(54,111,0.536576433606983),(54,112,0.211371196630757),(54,113,-0.280861842707602),(54,118,0.589159825434126),(55,87,-0.618732261116367),(55,95,-0.905636768700217),(55,107,-0.417523728141118),(55,110,-0.0242011780144658),(55,117,-0.661183507797479),(56,107,0.076631977294229),(56,111,-0.423017059846797),(56,113,0.273384807885983),(56,114,0.766930143131809),(57,87,-0.380169072542497),(57,90,0.265083773308512),(57,91,0.501327555162206),(57,92,-0.0666219061861019),(57,93,-0.219977416302988),(57,94,-0.428235724967193),(57,95,-0.724814600054933),(57,96,0.957090975676748),(57,100,0.429273354289377),(57,102,0.137668996246223),(57,103,0.889797662282174),(57,115,0.646595660267953),(58,86,-0.672902615436262),(58,87,0.124454481643117),(58,89,-0.340952787865841),(58,90,0.100680562761315),(58,95,-0.0390026551103244),(58,96,0.275215918454543),(58,101,-0.402630695516831),(58,103,-0.981872005371258),(58,109,0.789117099520859),(58,110,0.0103152562028871),(58,113,0.289925840021973),(58,114,0.677327799310282),(58,115,0.734611041596728),(58,118,-0.73467207861568),(59,85,-0.0684224982451857),(59,86,-0.00833155308694723),(59,90,0.209601123081149),(59,91,-0.204077272865993),(59,93,-0.881679738761559),(59,97,-0.714987640003662),(59,98,-0.107791375469222),(59,100,0.151707510605182),(59,102,0.164860988189337),(59,112,0.309976500747703),(59,114,0.952604754783776),(60,85,-0.0179754020813623),(60,87,0.0638142033143101),(60,90,-0.3955504013184),(60,91,0.469252601702933),(60,96,-0.127506332590716),(60,100,-0.777428510391552),(60,101,-0.0367442854091006),(60,105,0.627979369487594),(60,107,0.157506027405622),(60,109,0.04300057985168),(60,110,0.28537858211005),(60,114,-0.625843073824274),(61,89,0.24039429914243),(61,94,0.482833338419752),(61,96,-0.447767571031831),(61,98,0.777581102938932),(61,100,-0.54551835688345),(61,102,0.0307931760612812),(61,103,0.19067964720603),(61,114,0.782921842097232),(61,115,-0.682576982940153),(62,93,0.157811212500381),(62,95,-0.0788903469954527),(62,107,0.339732047486801),(62,109,-0.771507919553209),(62,110,0.114932706686605),(62,111,-0.637989440595721),(63,87,0.571794793542283),(63,90,0.521835993530076),(63,93,0.912656025879696),(63,97,-0.536179692983795),(63,100,-0.239356669820246),(63,103,-0.165776543473617),(63,104,-0.255287331766717),(63,108,-0.979613635670034),(63,111,-0.202093569750053),(63,114,0.58836634418775),(63,117,0.149571214941862),(64,87,0.913449507126072),(64,94,0.102511673329875),(64,99,0.498764000366222),(64,110,-0.405072176274911),(64,112,0.124118778038881),(64,116,0.738914151432844),(65,87,-0.986358226264229),(65,88,0.746726889858699),(65,90,-0.835383159886471),(65,97,-0.0964690084536271),(65,99,-0.30512405774102),(65,107,-0.756828516495254),(65,110,-0.891994994964446),(65,111,0.505355998413037),(65,114,-0.230719931638539),(65,116,-0.366374706259346),(65,117,0.125583666493728),(66,85,-0.894497512741478),(66,102,-0.833094271675771),(66,105,0.113559373760186),(66,108,0.995696890163884),(66,111,-0.6097903378399),(66,115,0.00900296029541917),(66,118,-0.888851588488418),(67,86,0.0995208594012268),(67,90,0.765648365733818),(67,92,0.941618091372417),(67,104,0.275734733115635),(67,109,0.384929960020753),(67,111,-0.414716025269326),(68,87,-0.26487014374218),(68,88,0.598223822748497),(68,90,-0.706015198217719),(68,93,0.401287881099887),(68,95,-0.970854823450423),(68,96,0.969267860957671),(68,97,-0.406842249824519),(68,103,0.789666432691427),(68,107,-0.645283364360485),(68,112,-0.731986449781793),(68,114,0.208166753135777),(69,87,-0.76128421887875),(69,88,0.179906613361003),(69,92,0.231543931394391),(69,94,0.0993377483443709),(69,95,-0.165807061983093),(69,97,0.729178746910001),(69,108,-0.428479873043001),(69,113,0.857966856898709),(69,114,0.196752830591754),(69,118,0.792382580034791),(70,85,-0.636982329783013),(70,86,-0.694326609088412),(70,87,0.192266609698782),(70,90,0.420697653126621),(70,96,0.38807336649678),(70,97,0.0209662160100101),(70,99,-0.560960722678304),(70,105,-0.549302652058474),(70,107,0.418103579821162),(70,109,0.347392193365276),(70,110,0.832605975524155),(70,111,-0.454237495040742),(71,85,-0.78179265724662),(71,93,-0.299203466902676),(71,96,0.834009826960051),(71,100,-0.334452345347453),(71,104,0.0907010101626637),(71,106,0.763084810937834),(71,111,0.989776299325541),(71,113,-0.0190435499130222),(72,94,-0.876400036622211),(72,96,0.15591906491287),(72,99,0.747978148747215),(72,110,0.799096652119511),(72,112,0.0787682729575487),(72,114,-0.819696646015809),(72,115,0.13113803521836),(72,116,-0.384685811944945),(73,88,-0.659352397228919),(73,94,-0.540726950895718),(73,99,-0.411908322397534),(73,100,-0.987060151982177),(73,106,0.339487899410993),(73,110,0.194372386852626),(73,115,-0.913754692220832),(74,90,0.525589770195624),(74,94,0.463789788506729),(74,99,-0.514572588274789),(74,102,-0.936826685384686),(74,106,-0.959776604510636),(74,107,0.988280892361217),(74,110,0.988189336832789),(74,113,0.808801538132878),(74,116,-0.746360667744987),(75,85,0.593615527817621),(75,86,0.874752037110508),(75,93,-0.0605792413098544),(75,98,-0.421246986297189),(75,103,-0.923642689291055),(75,105,0.350840784936064),(75,111,-0.727164525284585),(75,117,-0.306680501724296),(76,86,-0.948393200476089),(76,89,0.77980895413068),(76,92,0.773216956083865),(76,94,-0.34308908352916),(76,99,-0.452436902981658),(76,101,0.106021301919614),(76,103,0.644062623981445),(76,106,-0.0462965788750877),(76,110,-0.648335215308084),(76,113,-0.37473677785577),(77,88,0.941465498825037),(77,91,0.589465010528886),(77,93,-0.914670247505112),(77,98,-0.376232184820093),(77,101,0.224219489120151),(77,102,0.0100711081270791),(77,103,-0.659474471266823),(77,104,-0.41575365459151),(77,105,-0.93420209356975),(77,109,-0.542130802331614),(78,88,0.30848109378338),(78,93,-0.207708975493637),(78,94,0.446790978728599),(78,101,0.0729087191381573),(78,104,-0.418439283425397),(78,110,-0.895443586535234),(78,114,0.247108371227149),(78,116,0.725363933225501),(78,117,-0.915341654713584),(78,118,-0.195593127231666),(79,87,0.230384228034303),(79,92,-0.564775536362804),(79,94,0.457655568102054),(79,107,-0.667744987334819),(79,108,-0.127964110232856),(79,114,-0.43107394634846),(79,118,-0.924802392651143),(80,87,-0.108829004791406),(80,88,-0.0580462050233467),(80,91,0.895718253120518),(80,99,-0.0301828058717612),(80,101,0.0728476821192053),(80,107,0.201422162541581),(80,113,-0.343760490737632),(81,85,-0.0596942045350505),(81,86,-0.515243995483261),(81,90,0.602313303018281),(81,93,-0.180883205664235),(81,96,0.73482467116306),(81,97,-0.562425611133152),(81,106,0.0940885647144993),(81,107,0.165471358378857),(81,110,0.201025421918394),(81,115,0.406384472182379),(82,86,-0.350138859218116),(82,92,0.865565965758232),(82,110,-0.141056550798059),(82,112,-0.32425916318247),(83,87,0.0595110934781945),(83,91,0.24085207678457),(83,93,-0.0130314035462508),(83,101,0.822717978453932),(83,103,0.227942747276223),(83,105,-0.34995574816126),(83,108,0.414044618060854),(84,85,-0.907620471816156),(84,86,0.603289895321512),(84,89,0.182103946043275),(84,95,-0.568132572405164),(84,99,0.47849971007416),(84,104,0.226599932859279),(84,111,-0.614490188299203),(84,113,-0.939756462294382),(84,114,-0.848078859828486)]
orgname='BHNEAT_1_4'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()