edge = [(0,85,1.70574053163243),(0,89,-0.642658772545549),(0,90,-0.301446577349162),(0,93,-1.69780571916868),(0,98,-0.277504806665242),(0,101,0.66864528336436),(0,105,-0.0427259132663961),(0,108,-2.4998779259621),(0,113,-1.02679525131993),(0,114,1.29975280007324),(0,117,-0.692800683614612),(0,118,-0.716437269203772),(1,86,-2.53386028626362),(1,92,0.79894405957213),(1,98,-1.46661275063326),(1,102,0.7888119144261),(1,104,-1.72916348765526),(1,107,0.0182500686666463),(1,108,0.103183080538347),(1,109,0.478606524857326),(1,113,2.49754325998718),(2,87,-0.293694875942259),(2,88,-0.0937376018555254),(2,100,0.00350962858973966),(2,106,-0.893963438825648),(2,108,-1.93861201818903),(2,110,-1.0254982146672),(2,113,1.21092867824335),(2,118,1.88190862758263),(3,89,-1.00831629383221),(3,92,-0.444318979461043),(3,97,-1.96121097445601),(3,99,-1.25728629413739),(3,101,-2.82135990478225),(3,103,0.194967497787408),(3,105,2.11204870754112),(3,108,-2.3863948484756),(3,109,1.23903622547075),(3,111,-2.02330088198492),(3,112,-1.5396740623188),(3,116,-0.86413159581286),(4,90,-2.6540421765801),(4,91,-2.14888454847865),(4,97,0.211371196630757),(4,99,1.28699606311228),(4,101,-0.629947813348796),(4,108,-0.144993438520463),(4,113,-0.857539597766045),(4,118,1.97833185827204),(5,86,-2.24919888912626),(5,87,-2.18253120517594),(5,89,-2.11285744804224),(5,92,-1.94062623981445),(5,93,0.755149998474075),(5,99,1.30610065004425),(5,104,-1.65085299233985),(5,114,0.297921689504685),(5,118,-2.72603534043397),(6,89,-1.65182958464309),(6,92,-2.35934018982513),(6,94,2.07373271889401),(6,100,2.54875331888791),(6,101,-1.87421796319468),(6,103,2.38892788476211),(6,107,-0.475768303476058),(6,110,-0.261543626209296),(6,113,-2.12570574053163),(7,85,2.28611102633747),(7,86,2.97737052522355),(7,90,-0.228080080568865),(7,95,-2.25241859187597),(7,99,-1.03338724936674),(7,100,-1.38177129428999),(7,104,1.47318948942534),(7,106,0.385464033936583),(7,108,-0.260261848811304),(7,112,1.45538193914609),(7,116,1.34224982451857),(8,92,-0.998870815149388),(8,93,-1.52287362285226),(8,95,-2.12456129642628),(8,99,-1.30217902157659),(8,106,-0.943494979705191),(8,107,-0.497878963591418),(8,115,2.06237983336894),(8,116,-1.25634022034364),(8,118,-1.58114871669668),(9,85,1.30564287240211),(9,87,-0.651615955076754),(9,98,2.71543015839106),(9,101,1.41283913693655),(9,103,2.57948545793023),(9,105,-0.0694601275673696),(9,106,2.19191564683981),(9,113,-2.52050843836787),(10,89,-1.42593157750175),(10,96,1.17516098513749),(10,106,2.01574755088961),(10,108,0.833231604968413),(10,109,-0.266762291329691),(10,111,-0.0667439802240057),(10,112,-0.823541978209784),(10,114,1.04728843043306),(10,115,0.190511795403912),(10,116,-0.577929013946959),(10,117,1.25298318430128),(11,89,0.140491958372753),(11,97,1.02183599353008),(11,105,-2.45542771691031),(11,112,2.27191991943113),(11,115,-1.30335398419141),(12,92,2.21486556596576),(12,93,0.310419019135105),(12,94,2.08629108554338),(12,97,2.36126285592212),(12,98,-1.17505417035432),(12,99,1.98960844752342),(12,108,-1.72952970976897),(12,116,2.49456770531327),(13,86,2.30489516891995),(13,87,0.946852015747551),(13,90,-0.797479171117283),(13,99,0.717230750450148),(13,102,-0.505905331583606),(13,104,2.14543595690786),(13,113,1.33718375194555),(13,116,0.666356395153661),(13,118,0.407742545854061),(14,90,2.08072145756401),(14,93,-2.72368541520432),(14,95,-1.26219977416303),(14,102,1.29790643024995),(14,104,3.04510635700552),(14,106,0.931363872188482),(14,109,1.24779503769036),(14,110,-1.79531235694449),(14,111,0.1128421887875),(15,85,-0.0559251686147648),(15,92,1.21253089999084),(15,99,-0.891979735709708),(15,101,-1.36844996490371),(15,104,-0.108050782799768),(15,108,1.69263283181249),(15,117,-2.38155766472365),(16,86,-2.62343211157567),(16,87,1.62819299905393),(16,88,-0.506073183385723),(16,90,-0.686315500350963),(16,91,-2.30144657734916),(16,95,-2.09259315775018),(16,97,-1.34994048890652),(16,98,-1.25353251747185),(16,99,2.06883449812311),(16,101,1.39327677236244),(16,108,-2.09611804559465),(16,110,0.514343699453719),(17,89,-0.224738303781243),(17,96,0.641850032044435),(17,99,1.22043519394513),(17,101,2.31295205542161),(17,106,-1.37707144383068),(17,107,1.93031098361156),(17,109,-0.913022247993408),(18,90,-2.24938200018311),(18,91,2.61716055787835),(18,93,-0.567217017120884),(18,99,0.108172856837672),(18,102,2.01889095736564),(18,103,-2.26206244087039),(18,104,-1.9150669881283),(18,110,1.3455153050325),(18,111,-1.52111880855739),(18,116,-0.729209265419477),(18,117,2.03027436140019),(18,118,-1.63292336802271),(19,87,1.42332224494156),(19,89,0.295693838312937),(19,93,-1.48928800317392),(19,95,-2.62359996337779),(19,101,0.0710165715506455),(19,105,2.23258156071657),(19,115,-2.84954374828333),(20,88,-1.66006958220161),(20,101,-2.19699697866756),(20,103,-0.0359050263985107),(20,104,2.13498336741234),(20,105,2.27291177098911),(20,106,-1.35665456099124),(20,111,1.16963713492233),(20,116,0.297906430249947),(21,86,0.5179906613361),(21,87,-1.80893887142552),(21,94,-0.183828241828669),(21,96,-0.8963133640553),(21,101,-0.585589159825434),(21,102,-1.81585131382183),(21,105,-1.08450575273904),(21,107,-1.7558824427015),(21,108,-1.37839899899289),(22,86,-0.503570665608692),(22,88,1.33797723319193),(22,91,-0.616489150669881),(22,92,-0.581667531357768),(22,93,2.2049623096408),(22,98,1.24349192785424),(22,106,0.982482375560778),(22,115,2.74709311197241),(22,117,1.67035431989502),(23,85,2.00514236884671),(23,86,-1.68787194433424),(23,88,-0.975020599993896),(23,90,-0.0715048677022614),(23,97,-0.26273384807886),(23,104,-0.205893124179815),(23,112,-0.479247413556322),(23,114,2.45101779229102),(23,115,0.319238868373669),(23,116,0.853709524826808),(24,89,-2.35290078432569),(24,90,-0.45165868099002),(24,91,-0.557008575701163),(24,101,-0.889233069856868),(24,107,-0.502426221503342),(24,108,1.9568315683462),(24,110,0.196340830713828),(24,112,0.968932157353435),(25,90,-2.08125553147984),(25,92,2.31965086825159),(25,94,-0.357860042115543),(25,98,1.38854640339366),(25,105,2.01564073610645),(25,108,2.1041291543321),(25,109,-0.0638752403332621),(25,115,-1.68840601825007),(26,85,2.07638782921842),(26,87,1.83419293801691),(26,89,-2.2874080629902),(26,95,1.36387218848231),(26,98,2.3740653706473),(26,100,-2.01631214331492),(26,101,-2.27555162205878),(26,102,0.280938138981292),(26,103,-1.01069673757134),(26,104,-0.0945158238471633),(26,107,-1.84269234290597),(26,109,-2.45696890163884),(26,112,-1.41956846827601),(26,113,-0.239265114291818),(26,117,0.149082918790246),(27,85,2.88782921842097),(27,87,-2.96279793694876),(27,94,-1.80181279946287),(27,100,2.1381420331431),(27,102,1.654805139317),(27,103,-0.703085421308023),(27,104,-1.97436445204016),(27,105,-1.55948057496872),(27,108,-0.772453993346965),(27,110,-1.83252967925047),(27,114,1.41752372814112),(28,87,-1.18051698355052),(28,88,1.19252601702933),(28,97,-0.342967009491256),(28,99,-0.731116672261727),(28,104,1.12524796288949),(28,113,0.297647022919401),(28,114,0.402798547318949),(29,88,-1.37231055635243),(29,91,-2.40771202734458),(29,102,1.58407849360637),(29,105,2.12068544572283),(29,116,0.552430799279763),(30,95,0.411420026245918),(30,96,1.63647877437666),(30,99,-1.55388042847987),(30,101,-2.58433790093692),(30,104,-1.10168767357402),(30,109,1.90598773155919),(30,110,0.252159184545427),(30,114,-2.45869319742424),(30,118,0.36741233558153),(31,85,-0.773674733726005),(31,92,2.72539445173498),(31,94,-1.44621112704855),(31,96,-1.63370159001434),(31,99,0.791436506241035),(31,103,-0.528168584246345),(31,107,-1.65553758354442),(31,108,-0.312982573931089),(31,109,2.08641315958129),(31,111,0.0425885799737541),(31,112,-1.24835963011567),(31,117,-0.733970152897733),(32,86,-1.07632679219947),(32,87,-0.384716330454421),(32,89,2.48026978362377),(32,92,-3.01625110629597),(32,98,0.941496017334513),(32,99,-0.34545426801355),(32,104,1.06845301675466),(32,106,1.39861751152074),(32,109,1.37693411053804),(32,116,-0.0517899105807672),(32,118,-2.15196691793573),(33,96,-1.44770653401288),(33,98,-2.11430707724235),(33,108,0.34560686056093),(33,110,1.93263039033174),(33,111,-1.14799951170385),(33,114,-0.0399487289040803),(34,85,-1.20165105136265),(34,90,-1.02577288125248),(34,99,-2.55175939207129),(34,104,0.913602099673452),(34,109,1.29978331858272),(35,86,-0.859904782250435),(35,87,0.542527542954802),(35,97,-2.11145359660634),(35,98,0.699819940794091),(35,100,1.58415478988006),(35,104,1.76084170049135),(35,107,-1.06108279671621),(35,109,-2.09370708334605),(35,110,1.55737479781487),(35,112,2.32589190343944),(36,85,1.22972808008057),(36,87,1.0272682882168),(36,90,0.042970061342204),(36,91,0.970000305185095),(36,104,-2.64619891964476),(36,107,-1.96398815881832),(36,109,-1.29041413617359),(36,112,1.85755485702078),(36,115,-0.803048799096652),(36,117,-0.0454420606097598),(36,118,-1.00325022125919),(37,85,2.32804345835749),(37,86,-2.83751945554979),(37,87,2.69397564622944),(37,91,0.712378307443464),(37,99,2.88209173863948),(37,105,-1.94764549699393),(37,111,-1.50460829493088),(37,112,2.32155827509384),(37,118,-0.897350993377483),(38,87,-2.26499221778008),(38,90,2.14140751365703),(38,103,-1.37899410992767),(38,105,-1.44178594317454),(38,106,-1.52735984374523),(38,111,2.18367564928129),(38,115,-0.559785760063478),(39,87,-0.9330576494644),(39,89,1.28592791528062),(39,91,-1.99314859462264),(39,94,-1.95539719840083),(39,97,1.94248786889248),(39,98,-0.575212866603595),(39,107,-1.84252449110385),(39,108,0.0847651600695823),(39,109,2.37673574022645),(39,111,2.20154423657949),(39,113,-1.99229407635731),(39,116,-0.951078829309976),(39,118,-2.01181066316721),(40,88,2.16432691427351),(40,92,1.06813257240516),(40,99,2.31305887020478),(40,104,2.09208960234382),(40,110,1.27823725089267),(40,116,-0.661900692770165),(40,118,1.68791772209845),(41,88,0.0946684163945433),(41,93,0.304193243202002),(41,96,-2.39118625446333),(41,97,2.07313760795923),(41,100,-1.65688039796136),(41,101,-0.97468489638966),(41,104,1.58349864192633),(41,105,-0.522751548814356),(41,106,0.354869228186895),(41,107,0.0926694540238654),(41,109,-0.340617084261605),(41,110,1.60472426526688),(41,111,-0.71309549241615),(41,112,-1.27340006714072),(42,85,-2.07483138523515),(42,86,-1.51544236579485),(42,87,0.278832361827448),(42,99,-2.54124576555681),(42,100,0.622211371196631),(42,103,-0.523804437391278),(42,109,0.770470290231025),(42,113,-1.57245094149602),(43,85,1.8269600512711),(43,88,1.58464308603168),(43,89,-1.88714255195776),(43,93,-1.94438001647999),(43,97,-0.266106143375958),(43,98,-0.50419629505295),(43,101,1.63063447981201),(43,102,2.54797509689627),(43,103,-1.44216742454299),(43,105,1.27379680776391),(43,110,0.839686269722587),(43,112,-2.35171056245613),(43,114,1.70883816034425),(43,116,-0.0594500564592426),(44,89,-1.09859004486221),(44,98,-0.0190893276772363),(44,99,-2.52868739890744),(45,87,-2.11986144596698),(45,88,-1.37243263039033),(45,90,-0.0506912442396313),(45,91,-1.37028107547227),(45,95,-0.638492996002075),(45,98,-2.01730399487289),(45,108,1.18617816705832),(45,109,-2.47035126804407),(45,112,2.13074129459517),(45,115,1.91698965422529),(46,85,2.13301492355113),(46,89,1.89225440229499),(46,91,0.552949613940855),(46,94,0.480040894802698),(46,97,-0.964293343913083),(46,100,-2.07441938535722),(46,101,1.83252967925047),(46,108,1.59663686025575),(46,112,0.47544785912656),(47,86,-2.10115359965819),(47,91,0.172338023010956),(47,92,0.863307596057008),(47,94,-1.89487899410993),(47,95,0.69586779381695),(47,100,-0.753288369396039),(47,101,2.00503555406354),(47,104,-1.53849909970397),(47,105,-0.646153141880551),(47,108,-2.22249519333476),(47,112,0.341303750724815),(47,114,-0.225623340556047),(47,118,-2.17372661519211),(48,86,1.66234321115757),(48,91,2.86432996612445),(48,98,-1.62373729667043),(48,99,-1.69586779381695),(48,100,-0.554841761528367),(48,103,-0.662755211035493),(48,105,1.62843714712973),(48,106,-1.99871822260201),(48,111,0.262489700003052),(48,115,-2.30512405774102),(49,87,2.77480391857662),(49,89,0.971831415753655),(49,93,-1.33445234534745),(49,94,1.02636799218726),(49,95,0.848979155858028),(49,102,1.37220374156926),(49,113,-2.07873775444807),(49,114,1.45327616199225),(50,89,-0.545640430921354),(50,105,-3.14740440076907),(50,107,0.277047029023103),(51,87,-2.79984435560167),(51,92,-0.198568681905576),(51,97,1.67873165074618),(51,98,1.81098361156041),(51,103,-1.67778557695242),(51,106,-1.12868129520554),(51,112,0.774468214972381),(51,118,1.60516678365429),(52,89,2.4663075655385),(52,97,1.12636188848537),(52,106,1.81488998077334),(52,110,1.22225104525895),(52,111,-2.34171575060274),(52,113,-0.269753105258339),(52,114,-2.24935148167364),(52,118,-1.97727896969512),(53,88,0.644428846095157),(53,90,0.287713248084964),(53,92,-1.87748344370861),(53,94,-1.11874752037111),(53,104,-2.00555436872463),(53,105,-0.116672261726737),(53,109,-0.497238074892422),(54,85,2.52894680623798),(54,91,1.08696249275185),(54,94,2.33419293801691),(54,96,0.855311746574297),(54,111,-1.48683126316111),(54,112,-1.50071718497269),(54,113,-0.521530808435316),(54,118,-0.98101748710593),(55,87,0.550004577776421),(55,95,-0.032731101413007),(55,107,2.96523941770684),(55,110,-2.27079073458052),(55,117,-2.35914181951353),(56,107,-2.4798425244911),(56,111,-2.09689626758629),(56,113,-1.0079500717185),(56,114,1.16629535813471),(57,87,-1.49984740745262),(57,90,2.03532517471847),(57,91,-2.17436750389111),(57,92,1.83993041779839),(57,93,0.522370067445906),(57,94,1.87256996368297),(57,95,0.827661976989044),(57,96,-0.831476790673544),(57,100,2.10419019135105),(57,102,3.21092867824335),(57,103,0.0514999847407452),(57,115,-0.311349833674123),(58,86,-2.2209845271157),(58,87,2.49099703970458),(58,89,-0.449980162968841),(58,90,-1.63382366405225),(58,95,-2.1851252784814),(58,96,0.493652150028993),(58,101,-1.97837763603626),(58,103,0.310678426465651),(58,109,-0.939863277077547),(58,110,-1.73355815301981),(58,113,1.57039094210639),(58,114,1.19360942411573),(58,115,-2.93517868587298),(58,118,1.54280220954009),(59,85,-1.10078737754448),(59,86,-1.61038544877468),(59,90,-1.8408154545732),(59,91,0.473754081850642),(59,93,2.51571703238014),(59,97,-1.11673329874569),(59,98,-1.93900875881222),(59,100,2.3313394573809),(59,102,1.6860103152562),(59,112,-0.0825678273873104),(59,114,0.564104129154332),(60,85,-1.90250862147893),(60,87,0.347849971007416),(60,90,-0.520935697500534),(60,91,-2.63144322031312),(60,96,-0.56488235114597),(60,100,-1.77636036255989),(60,101,-2.12372203741569),(60,105,-0.891827143162328),(60,107,-1.76699118015076),(60,109,1.98471022675253),(60,110,0.198583941160314),(60,114,1.7253639332255),(61,89,1.55447553941465),(61,94,1.04438917203284),(61,96,1.36480300302133),(61,98,1.01097140415662),(61,100,-1.64110232856227),(61,102,-1.9559465315714),(61,103,-0.272164067506943),(61,114,-1.79029206213569),(61,115,-2.02247688222907),(62,93,0.51631214331492),(62,95,-1.66888943144017),(62,107,-2.76906643879513),(62,109,-1.81023590807825),(62,110,-1.83147679067354),(62,111,-0.861461226233711),(63,87,0.0630664998321482),(63,90,1.37365337076937),(63,93,2.73654896694845),(63,97,-0.403836176641133),(63,100,0.0705740531632435),(63,103,1.46015808587909),(63,104,-1.24329355754265),(63,108,1.93914609210486),(63,111,-1.71475875118259),(63,114,2.50010681478317),(63,117,1.60596026490066),(64,87,0.157841731009857),(64,94,1.84487441633351),(64,99,-1.23624378185369),(64,110,0.497924741355632),(64,112,-0.233222449415571),(64,116,-0.0508285775322733),(65,87,-1.26195562608722),(65,88,-0.887646107364116),(65,90,1.88344981231117),(65,97,-0.221274452955718),(65,99,-3.06579790643025),(65,107,1.44067201757866),(65,110,-0.989989928891873),(65,111,-2.01164281136509),(65,114,0.0731070894497513),(65,116,2.05127109591968),(65,117,-0.150059511093478),(66,85,-0.15408795434431),(66,102,0.17772453993347),(66,105,2.38961455122532),(66,108,1.4946592608417),(66,111,2.89408551286355),(66,115,-0.675710318308054),(66,118,-0.637379070406201),(67,86,1.50390636921293),(67,90,-1.0436109500412),(67,92,0.76487014374218),(67,104,-1.8037507248146),(67,109,-0.13190099795526),(67,111,-0.275826288644063),(68,87,-2.33713797418134),(68,88,-0.0794244209112827),(68,90,0.403683584093753),(68,93,0.356913968321787),(68,95,1.46804712057863),(68,96,-0.686437574388867),(68,97,0.86474196600238),(68,103,1.31292153691214),(68,107,1.19388409070101),(68,112,0.553300576799829),(68,114,-0.164464247566149),(69,87,0.646000549333171),(69,88,-0.21744438001648),(69,92,2.14786217841121),(69,94,-0.528717917416913),(69,95,-0.479598376415296),(69,97,-0.573824274422437),(69,108,-2.274315622425),(69,113,-0.969878231147191),(69,114,2.90783410138249),(69,118,-1.33265175328837),(70,85,0.552995391705069),(70,86,1.59428693502609),(70,87,0.697653126621296),(70,90,-0.817682424390393),(70,96,-1.3518173772393),(70,97,0.664235358745079),(70,99,2.18333994567705),(70,105,0.54597613452559),(70,107,-1.48651081881161),(70,109,0.803933835871456),(70,110,1.79224524674215),(70,111,0.573961607715079),(71,85,-0.262718588824122),(71,93,2.02270577105014),(71,96,-2.41225928525651),(71,100,-0.524811548203986),(71,104,1.87162388988922),(71,106,0.241203039643544),(71,111,-1.70354319895016),(71,113,0.0362559892574847),(72,94,-0.515335551011689),(72,96,-0.135288552507096),(72,99,-0.491714224677267),(72,110,0.138172551652577),(72,112,0.513199255348369),(72,114,0.701391644032106),(72,115,2.46234015930662),(72,116,2.29596850489822),(73,88,2.03382976775414),(73,94,-1.90577410199286),(73,99,-0.242194891201514),(73,100,0.697119052705466),(73,106,-1.66127506332591),(73,110,-0.62953581347087),(73,115,0.550630207220679),(74,90,1.78095339823603),(74,94,1.57498397778252),(74,99,0.00708029419843134),(74,102,0.269463179418317),(74,106,-2.50764488662374),(74,107,0.0510422070986053),(74,110,1.17639698477126),(74,113,-0.248496963408307),(74,116,-0.15576647236549),(75,85,-1.71147801141392),(75,86,-1.28843043305765),(75,93,-1.54277169103061),(75,98,0.197424237800226),(75,103,-1.71948912015137),(75,105,-0.617770928067873),(75,111,1.43993957335124),(75,117,-0.0195471053193762),(76,86,0.0185247352519303),(76,89,-2.15590380565813),(76,92,-2.50306711020234),(76,94,0.446897793511765),(76,99,-0.269325846125675),(76,101,-0.614932706686605),(76,103,2.50448622089297),(76,106,1.01673940244758),(76,110,0.708578753013703),(76,113,1.3554338206122),(77,88,-1.14276558732871),(77,91,-0.162785729544969),(77,93,0.898632770775475),(77,98,1.51728873561815),(77,101,1.29792168950468),(77,102,-0.760628070925016),(77,103,0.0698110904263436),(77,104,0.884090701010163),(77,105,1.16565446943571),(77,109,0.398785363322855),(78,88,-0.5879848628193),(78,93,0.65088351084933),(78,94,1.26970732749413),(78,101,-0.582598345896786),(78,104,-0.0174260689107944),(78,110,0.0904416028321177),(78,114,-1.00758384960479),(78,116,1.5888698995941),(78,117,-0.72240363780633),(78,118,0.674153874324778),(79,87,-0.936826685384686),(79,92,-2.05656605731376),(79,94,-1.07844782860805),(79,107,0.602969450972014),(79,108,0.328852198858608),(79,114,-0.985198522904141),(79,118,-0.00216681417279581),(80,87,1.99873348185675),(80,88,1.33478804895169),(80,91,1.37321085238197),(80,99,0.256675923947874),(80,101,-0.848628192999054),(80,107,0.529236732078005),(80,113,0.489486373485519),(81,85,2.28568376720481),(81,86,-0.021469771416364),(81,90,-2.87073885311441),(81,93,-0.72232734153264),(81,96,-1.87818536942656),(81,97,-0.757530442213202),(81,106,2.03825495162816),(81,107,0.248191778313547),(81,110,-2.52272103030488),(81,115,0.47567674794763),(82,86,-0.609424115726188),(82,92,-0.630878627887814),(82,110,-0.272286141544847),(82,112,2.06231879634999),(83,87,0.745338297677541),(83,91,-0.106234931485946),(83,93,-0.779259620960112),(83,101,0.0939817499313334),(83,103,-0.301324503311258),(83,105,-1.88589129306925),(83,108,-1.32508316293832),(84,85,-0.670567949461348),(84,86,-0.9827723014008),(84,89,0.171330912198248),(84,95,-1.48432874538408),(84,99,-1.50283822138127),(84,104,0.375240333262123),(84,111,-0.271904660176397),(84,113,0.285637989440596),(84,114,0.261299478133488)]
orgname='BHNEAT_2_10'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()