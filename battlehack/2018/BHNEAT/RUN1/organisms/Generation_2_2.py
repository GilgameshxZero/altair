edge = [(0,85,0.41666920987579),(0,89,-0.0425428022095401),(0,90,-0.230994598223823),(0,93,0.165990173039949),(0,98,0.326593829157384),(0,101,0.313409833063753),(0,105,0.121387371440779),(0,108,0.00834681234168527),(0,113,-0.377651295510727),(0,114,-0.198126163518174),(0,117,-0.0626850184636982),(0,118,-0.0912198248237556),(1,86,-0.364238410596026),(1,92,-0.205496383556627),(1,98,0.894589068269906),(1,102,-0.401455732902005),(1,104,0.430860316782128),(1,107,-0.308587908566546),(1,108,0.0471663563951537),(1,109,-0.110339671010468),(1,113,-0.551774651326029),(2,87,-0.637104403820917),(2,88,-0.288918729209265),(2,100,0.579561754203925),(2,106,0.148045289468062),(2,108,0.211523789178137),(2,110,0.514007995849483),(2,113,0.370876186407056),(2,118,-0.281594286935026),(3,89,0.288018433179723),(3,92,-0.104922635578478),(3,97,-0.148396252327036),(3,99,0.00923184911648911),(3,101,-0.280098879970702),(3,103,0.1706289864803),(3,105,-0.0363170262764367),(3,108,-0.0987578966643269),(3,109,0.312128055665761),(3,111,-0.429197058015687),(3,112,-0.457777642139958),(3,116,0.60536515396588),(4,90,-0.0076296273689993),(4,91,0.833017975402081),(4,97,-0.0631427961058382),(4,99,-0.385143589587085),(4,101,-0.354411450544755),(4,108,0.161931211279641),(4,113,-0.122867519150365),(4,118,0.730109561449019),(5,86,0.273552659688101),(5,87,-0.0272377697073275),(5,89,0.185628833887753),(5,92,0.233527634510331),(5,93,0.30481887264626),(5,99,0.277108066042055),(5,104,-0.404538102359081),(5,114,0.297219763786737),(5,118,-0.274056215094455),(6,89,0.188192388683737),(6,92,-0.0967741935483871),(6,94,-0.0386974700155644),(6,100,0.427213354899747),(6,101,-0.176183355204932),(6,103,-0.274178289132359),(6,107,0.313806573686941),(6,110,0.195272682882168),(6,113,0.43786431470687),(7,85,-0.73894466994232),(7,86,-0.271004364146855),(7,90,-0.363231299783319),(7,95,-0.264137699514756),(7,99,-0.256355479598376),(7,100,0.515411847285379),(7,104,0.0287942136906033),(7,106,-0.19502853480636),(7,108,-0.187536240730003),(7,112,-0.126361888485366),(7,116,0.463423566393017),(8,92,0.320413830988495),(8,93,-0.258491775261696),(8,95,0.0466017639698477),(8,99,0.291421246986297),(8,106,-0.15042573320719),(8,107,0.344523453474532),(8,115,0.945036164433729),(8,116,0.280373546555986),(8,118,0.282433545945616),(9,85,-0.449522385326701),(9,87,0.0569933164464248),(9,98,-0.198553422650838),(9,101,-0.103259376812037),(9,103,-0.0783715323343608),(9,105,0.402371288186285),(9,106,0.219000823999756),(9,113,0.418988616595965),(10,89,-0.651371807000946),(10,96,0.10757774590289),(10,106,-0.174947355571154),(10,108,-0.0278328806421094),(10,109,-0.453520310068056),(10,111,0.730964079714347),(10,112,-0.205587939085055),(10,114,-0.322382274849696),(10,115,-0.21584215826899),(10,116,0.652958769493698),(10,117,0.0881527146214179),(11,89,0.0780510879848628),(11,97,-0.628284554582354),(11,105,-0.114825891903439),(11,112,0.395107882930998),(11,115,0.0659810174871059),(12,92,0.718176824243904),(12,93,0.88799707022309),(12,94,0.383434553056429),(12,97,0.378215887936033),(12,98,-0.428479873043001),(12,99,0.141209143345439),(12,108,-0.337412640766625),(12,116,0.341746269112217),(13,86,0.319116794335765),(13,87,-0.054261909848323),(13,90,-0.316293832209235),(13,99,0.308389538254952),(13,102,0.310281685842463),(13,104,0.663579210791345),(13,113,-0.24176763206885),(13,116,-0.0401928769798883),(13,118,0.784875026703696),(14,90,-0.00491348002563552),(14,93,-0.637440107425153),(14,95,-0.368877224036378),(14,102,-0.0139622180852687),(14,104,0.0661641285439619),(14,106,-0.0358439893795587),(14,109,-0.0887173070467238),(14,110,0.043977172154912),(14,111,-0.147770622882778),(15,85,-0.0136722922452467),(15,92,0.148487807855464),(15,99,-0.275337992492447),(15,101,0.231101413006989),(15,104,-0.443617053743095),(15,108,-0.356349375896481),(15,117,0.104464857936338),(16,86,-0.0810724204229866),(16,87,-0.237739188818018),(16,88,-0.611331522568438),(16,90,-0.510589922788171),(16,91,0.170079653309732),(16,95,0.468398083437605),(16,97,0.0539567247535631),(16,98,-0.538285470137638),(16,99,0.322107608264412),(16,101,0.281426435132908),(16,108,-0.0138096255378887),(16,110,0.388103885006256),(17,89,-0.0158085879085665),(17,96,0.00839259010589921),(17,99,0.45440534684286),(17,101,0.120838038270211),(17,106,-0.574755088961455),(17,107,-0.292809839167455),(17,109,0.187246314889981),(18,90,0.301889095736564),(18,91,0.123386333811457),(18,93,-0.39638966032899),(18,99,0.0138248847926267),(18,102,-0.0795007171849727),(18,103,0.638859218115787),(18,104,0.211157567064425),(18,110,0.468688009277627),(18,111,0.366557817316202),(18,116,-0.443769646290475),(18,117,0.279137546922208),(18,118,0.356669820245979),(19,87,0.777184362315745),(19,89,-0.241889706106754),(19,93,-0.135929441206092),(19,95,0.309183019501328),(19,101,-0.255973998229926),(19,105,0.16994232001709),(19,115,-0.384472182378613),(20,88,-0.744041261024811),(20,101,0.605502487258522),(20,103,-0.0076601458784753),(20,104,-0.617938779869991),(20,105,0.530167546617023),(20,106,-0.845774712363048),(20,111,0.549958800012207),(20,116,0.387447737052522),(21,86,0.743385113071078),(21,87,-0.689001129184851),(21,94,-0.244544816431165),(21,96,-0.107837153233436),(21,101,0.445570238349559),(21,102,-0.356852931302835),(21,105,-0.0667287209692679),(21,107,-0.54010132145146),(21,108,-0.187108981597339),(22,86,0.886516922513504),(22,88,0.146244697408979),(22,91,0.148838770714438),(22,92,0.0335856196783349),(22,93,-0.0272530289620655),(22,98,0.065172276985992),(22,106,0.0668050172429578),(22,115,0.0589922788171026),(22,117,0.442609942930387),(23,85,-0.504470961638234),(23,86,-0.0264442884609516),(23,88,-0.445677053132725),(23,90,-0.196050904873806),(23,97,0.108935819574572),(23,104,0.0331278420361949),(23,112,-0.720297860652486),(23,114,0.440900906399731),(23,115,-0.120273445844905),(23,116,0.101641895809809),(24,89,0.122455519272439),(24,90,0.138111514633625),(24,91,0.665868099002045),(24,101,-0.076631977294229),(24,107,0.181966612750633),(24,108,0.56556901760918),(24,110,-0.0120853297524949),(24,112,-0.0934934537797174),(25,90,0.664647358623005),(25,92,-0.734244819483016),(25,94,-0.662556840723899),(25,98,-0.197805719168676),(25,105,0.175756096072268),(25,108,-0.0852076784569842),(25,109,0.557222205267495),(25,115,-0.142506179998169),(26,85,0.0410931730094302),(26,87,-0.043015839106418),(26,89,0.225012970366527),(26,95,-0.735938596758934),(26,98,-0.207861568041017),(26,100,0.0943479720450453),(26,101,-0.276116214484085),(26,102,0.690282906582843),(26,103,0.58844264046144),(26,104,0.406109805597095),(26,107,0.746330149235511),(26,109,0.346263008514664),(26,112,-0.338938566240425),(26,113,-0.433469649342326),(26,117,-0.791436506241035),(27,85,0.649952696310312),(27,87,-0.75769829401532),(27,94,0.178899502548296),(27,100,0.327295754875332),(27,102,0.147190771202734),(27,103,-0.203299050874355),(27,104,0.0834070863979003),(27,105,-0.39143040253914),(27,108,0.305856501968444),(27,110,-0.386577959532456),(27,114,0.936628315073092),(28,87,0.0686361278115177),(28,88,-0.0575273903622547),(28,97,0.0880916776024659),(28,99,-0.151936399426252),(28,104,0.649403363139744),(28,113,0.0696279793694876),(28,114,0.183629871517075),(29,88,0.280205694753868),(29,91,-0.0203558458204901),(29,102,0.196462904751732),(29,105,-0.500411999877926),(29,116,0.362727744376965),(30,95,-0.56366161076693),(30,96,-0.0364543595690787),(30,99,0.398831141087069),(30,101,-0.583422345652638),(30,104,-0.509750663777581),(30,109,0.736442152165288),(30,110,-0.429349650563067),(30,114,0.124271370586261),(30,118,0.226142155217139),(31,85,-0.751029999694815),(31,92,0.409863582262642),(31,94,0.314340647602771),(31,96,-0.179052095095676),(31,99,-0.0587328714865566),(31,103,0.512878810998871),(31,107,-0.698278756065554),(31,108,-0.353022858363597),(31,109,0.428983428449355),(31,111,0.305780205694754),(31,112,0.0487990966521195),(31,117,0.748786889248329),(32,86,0.419354838709677),(32,87,-0.0152287362285226),(32,89,0.568895535142064),(32,92,-0.402188177129429),(32,98,0.0232551042207099),(32,99,-0.333292641987365),(32,104,0.0751365703299051),(32,106,0.0718558305612353),(32,109,-0.789986877040925),(32,116,-0.484740745262001),(32,118,-0.278328806421094),(33,96,0.174245429853206),(33,98,-0.585406048768578),(33,108,-0.121738334299753),(33,110,0.329935605945006),(33,111,-0.67642750328074),(33,114,-0.176549577318644),(34,85,0.414593951231422),(34,90,-0.789391766106143),(34,99,-0.324152348399304),(34,104,0.373424481948302),(34,109,-0.594485305337687),(35,86,0.579149754325999),(35,87,0.108371227149266),(35,97,-0.679967650379955),(35,98,0.246192815942869),(35,100,-0.37282937101352),(35,104,0.390682699056978),(35,107,-0.250236518448439),(35,109,-0.12594988860744),(35,110,-0.449766533402509),(35,112,0.210501419110691),(36,85,0.284524063844722),(36,87,-0.207220679342021),(36,90,0.332636494033631),(36,91,-0.67421491134373),(36,104,-0.788445692312387),(36,107,0.686666463209937),(36,109,0.0460066530350658),(36,112,0.732413708914457),(36,115,-0.769219031342509),(36,117,-0.0957976012451552),(36,118,0.0589922788171026),(37,85,0.120532853175451),(37,86,-0.14668721579638),(37,87,0.021988586077456),(37,91,0.00270088808862575),(37,99,0.577654347361675),(37,105,-0.341593676564837),(37,111,0.811548203985717),(37,112,0.774346140934477),(37,118,-0.463911862544633),(38,87,-0.40964995269631),(38,90,0.0426496169927061),(38,103,-0.208563493758965),(38,105,-0.214362010559404),(38,106,-0.253440961943419),(38,111,0.244560075685904),(38,115,0.115573595385601),(39,87,-0.564378795739616),(39,89,-0.707876827295755),(39,91,-0.34446241645558),(39,94,0.421185949278237),(39,97,0.782494582964568),(39,98,-0.443968016602069),(39,107,0.472640156254769),(39,108,-0.917294839320048),(39,109,-0.106036561174352),(39,111,0.677892391735588),(39,113,-0.850459303567614),(39,116,0.489059114352855),(39,118,-0.809915463728751),(40,88,-0.602359080782495),(40,92,-0.425748466444899),(40,99,0.698522904141362),(40,104,0.703909421063875),(40,110,-0.0719321268349253),(40,116,0.310632648701437),(40,118,0.0482345042268136),(41,88,-0.388439588610492),(41,93,-0.256904812768944),(41,96,-0.730780968657491),(41,97,-0.659596545304727),(41,100,-0.260536515396588),(41,101,0.538010803552355),(41,104,-0.00706503494369336),(41,105,-0.799447614978484),(41,106,-0.224509414960173),(41,107,0.33066805017243),(41,109,-0.230826746421705),(41,110,-0.500213629566332),(41,111,-0.831492049928282),(41,112,-0.712683492538224),(42,85,-0.459700308236946),(42,86,0.0156712546159246),(42,87,0.097155674916837),(42,99,-0.220374156926176),(42,100,0.723761711478011),(42,103,0.498138370921964),(42,109,0.0141453291421247),(42,113,-0.136036255989257),(43,85,0.590777306436354),(43,88,-0.065233314004944),(43,89,-0.310525833918271),(43,93,0.477141636402478),(43,97,0.178456984160894),(43,98,-0.0373699148533586),(43,101,-0.218375194555498),(43,102,0.581469161046175),(43,103,0.0590990936002686),(43,105,-0.427686391796625),(43,110,-0.627674184392834),(43,112,-0.45684682760094),(43,114,0.222205267494736),(43,116,0.67780083620716),(44,89,0.342204046754357),(44,98,0.444181646168401),(44,99,-0.133091219824824),(45,87,0.304422132023072),(45,88,0.627719962157048),(45,90,-0.0513168736838893),(45,91,0.316888943144017),(45,95,-0.683980834376049),(45,98,-0.673406170842616),(45,108,-0.280129398480178),(45,109,-0.628940702536088),(45,112,-0.353648487807856),(45,115,-0.664052247688223),(46,85,-0.0880764183477279),(46,89,0.526352732932524),(46,91,-0.194479201635792),(46,94,-0.848475600451674),(46,97,-0.385799737540819),(46,100,-0.639301736503189),(46,101,0.599383526108585),(46,108,0.697195348979156),(46,112,0.0117343668935209),(47,86,0.592989898373363),(47,91,-0.58317819757683),(47,92,-0.612201300088504),(47,94,-0.225959044160283),(47,95,0.676091799676504),(47,100,0.097994933927427),(47,101,-0.157811212500381),(47,104,0.506332590716269),(47,105,0.389645069734794),(47,108,-0.36527603991821),(47,112,0.269341105380413),(47,114,-0.237540818506424),(47,118,-0.0299386577959532),(48,86,0.331965086825159),(48,91,0.497466963713492),(48,98,0.0125278481398968),(48,99,-0.262794885097812),(48,100,-0.716330454420606),(48,103,-0.107791375469222),(48,105,0.0389416180913724),(48,106,-0.529160435804315),(48,111,-0.274025696584979),(48,115,0.614307077242348),(49,87,0.612201300088504),(49,89,-0.475386822107608),(49,93,0.103259376812036),(49,94,0.158879360332041),(49,95,0.114185003204443),(49,102,0.32143620105594),(49,113,0.311502426221503),(49,114,-0.153920102542192),(50,89,0.04307687612537),(50,105,-0.551713614307077),(50,107,0.555803094576861),(51,87,-0.101367229224525),(51,92,-0.409161656544694),(51,97,-0.367122409741508),(51,98,-0.308053834650716),(51,103,0.176641132847072),(51,106,0.58531449324015),(51,112,-0.134311960203864),(51,118,0.387524033326212),(52,89,-0.132068849757378),(52,97,-0.111331522568438),(52,106,0.254829554124577),(52,110,0.0709097567674795),(52,111,0.183416241950743),(52,113,0.0263069551683096),(52,114,-0.0494705038605915),(52,118,0.210150456251717),(53,88,-0.51638843958861),(53,90,-0.43313394573809),(53,92,-0.431134983367412),(53,94,0.654957731864376),(53,104,-0.793877986999115),(53,105,0.466750083925901),(53,109,-0.759559923093356),(54,85,0.237327188940092),(54,91,0.363216040528581),(54,94,0.745521408734397),(54,96,-0.556443983275857),(54,111,-0.13121433149205),(54,112,0.456984160893582),(54,113,0.510010071108127),(54,118,-0.516785180211798),(55,87,0.198294015320292),(55,95,-0.315500350962859),(55,107,0.0424970244453261),(55,110,0.508636738181707),(55,117,0.159733878597369),(56,107,-0.076143681142613),(56,111,-0.160145878475295),(56,113,-0.144932401501511),(56,114,0.888134403515732),(57,87,-0.820795312356944),(57,90,-0.246086001159703),(57,91,0.0883510849330119),(57,92,0.0564897610400708),(57,93,-0.649296548356578),(57,94,0.650822473830378),(57,95,-0.279061250648518),(57,96,-0.131168553727836),(57,100,-0.2639545884579),(57,102,-0.0666066469313639),(57,103,0.199346903897214),(57,115,-0.327036347544786),(58,86,-0.924649800103763),(58,87,-0.218344676046022),(58,89,-0.0579546494949187),(58,90,-0.398968474379711),(58,95,0.607058931241798),(58,96,-0.395001068147832),(58,101,-0.357203894161809),(58,103,-0.154896694845424),(58,109,0.539216284676656),(58,110,0.184423352763451),(58,113,0.0611590929898984),(58,114,-0.920255134739219),(58,115,-0.650944547868282),(58,118,0.577379680776391),(59,85,0.219718008972442),(59,86,-0.684041871395001),(59,90,0.275704214606159),(59,91,0.645237586596271),(59,93,0.594470046082949),(59,97,-0.0839564195684683),(59,98,0.289117099520859),(59,100,-0.273781548509171),(59,102,0.0523697622608112),(59,112,-0.504379406109806),(59,114,-0.167592394787439),(60,85,0.839075899533067),(60,87,-0.315637684255501),(60,90,0.376537369914853),(60,91,0.168782616657003),(60,96,-0.196752830591754),(60,100,0.792077394940031),(60,101,0.0416577654347362),(60,105,0.237586596270638),(60,107,-0.843836787011322),(60,109,-0.556962797936949),(60,110,0.713110751670888),(60,114,-0.113986632892849),(61,89,-0.415204321420942),(61,94,-0.330423902096622),(61,96,-0.290734580523087),(61,98,-0.177205725272378),(61,100,0.231406598101749),(61,102,-0.0130619220557268),(61,103,-0.261757255775628),(61,114,0.495437482833338),(61,115,-0.387707144383068),(62,93,-0.152806176946318),(62,95,0.145390179143651),(62,107,0.0963164159062471),(62,109,0.579790643024995),(62,110,-0.249046296578875),(62,111,-0.71912289803766),(63,87,0.00802636799218726),(63,90,0.253547776726585),(63,93,0.104739524521622),(63,97,-0.137043366801965),(63,100,-0.00680562761314737),(63,103,0.12762840662862),(63,104,-0.871288186284982),(63,108,-0.610065004425184),(63,111,-0.0180516983550523),(63,114,-0.104434339426862),(63,117,0.76128421887875),(64,87,-0.189840388195441),(64,94,-0.108737449262978),(64,99,-0.538697470015564),(64,110,0.416409802545244),(64,112,-0.381282998138371),(64,116,0.0996276741843928),(65,87,0.103015228736229),(65,88,0.0721152378917814),(65,90,0.181554612872707),(65,97,0.0416425061799982),(65,99,-0.67642750328074),(65,107,0.449690237128819),(65,110,-0.0391857661671804),(65,111,0.0802179021576586),(65,114,-0.431791131321146),(65,116,0.2570879238258),(65,117,0.300836207159642),(66,85,0.424497207556383),(66,102,-0.451048310800501),(66,105,0.766792809839167),(66,108,0.17108676412244),(66,111,-0.21851252784814),(66,115,0.635273293252358),(66,118,-0.170278023621326),(67,86,0.0394604327524644),(67,90,0.0456556901760918),(67,92,-0.120471816156499),(67,104,-0.214987640003662),(67,109,0.601611377300333),(67,111,-0.433469649342326),(68,87,0.0805993835261086),(68,88,0.630848109378338),(68,90,-0.00875881221961117),(68,93,0.616550187688833),(68,95,0.752769554734947),(68,96,-0.223929563280129),(68,97,-0.168614764854884),(68,103,0.267509994811853),(68,107,0.492156743064669),(68,112,0.0488753929258095),(68,114,-0.121707815790277),(69,87,-0.45432905056917),(69,88,-0.186498611407819),(69,92,0.320856349375896),(69,94,-0.132709738456374),(69,95,-0.144657734916227),(69,97,-0.0172429578539384),(69,108,0.267159031952879),(69,113,-0.126132999664296),(69,114,0.445722830896939),(69,118,0.214270455030976),(70,85,0.843302713095492),(70,86,0.465010528885769),(70,87,-0.237510299996948),(70,90,-0.140049439985351),(70,96,0.076311532944731),(70,97,0.709936826685385),(70,99,0.0382244331186865),(70,105,0.00436414685506759),(70,107,0.185735648670919),(70,109,0.283577990050966),(70,110,-0.0366527298806726),(70,111,0.209738456373791),(71,85,-0.584871974852748),(71,93,-0.595721304971465),(71,96,0.203146458326975),(71,100,-0.78743858149968),(71,104,-0.425321207312235),(71,106,-0.0831324198126163),(71,111,-0.292565691091647),(71,113,0.191412091433454),(72,94,-0.615390484328745),(72,96,0.267845698416089),(72,99,0.433622241889706),(72,110,-0.373470259712516),(72,112,0.0500350962858974),(72,114,0.0042115543076876),(72,115,-0.766167180394909),(72,116,0.423581652272103),(73,88,-0.00456251716666159),(73,94,0.0202490310373242),(73,99,-0.227820673238319),(73,100,0.479705191198462),(73,106,0.0811029389324625),(73,110,-0.414242988372448),(73,115,0.429731131931516),(74,90,-0.674260689107944),(74,94,0.339960936307871),(74,99,0.375362407300027),(74,102,0.00459303567613758),(74,106,-0.0297250282296213),(74,107,0.135685293130284),(74,110,-0.0934934537797174),(74,113,0.376064333017975),(74,116,0.0608081301309245),(75,85,-0.0501724295785394),(75,86,0.0261085848567156),(75,93,-0.309106723227638),(75,98,0.394817957090976),(75,103,0.122623371074557),(75,105,-0.675496688741722),(75,111,-0.633228553117466),(75,117,0.0949583422345653),(76,86,0.0200506607257302),(76,89,0.52439954832606),(76,92,-0.0306863612781152),(76,94,0.40934476760155),(76,99,-0.706137272255623),(76,101,-0.397427289651173),(76,103,0.657002471999268),(76,106,-0.0340281380657369),(76,110,-0.229667043061617),(76,113,0.0517136143070772),(77,88,-0.168919949949644),(77,91,-0.098193304239021),(77,93,0.777108066042055),(77,98,-0.0844294564653462),(77,101,-0.205877864925077),(77,102,0.529953917050691),(77,103,0.10711996826075),(77,104,0.0611590929898984),(77,105,0.509262367625965),(77,109,0.415936765648366),(78,88,0.1759697256386),(78,93,-0.0947447126682333),(78,94,-0.225592822046571),(78,101,-0.103900265511032),(78,104,-0.308069093905454),(78,110,0.0119785149693289),(78,114,-0.294518875698111),(78,116,-0.354213080233161),(78,117,-0.198706015198218),(78,118,0.707480086672567),(79,87,0.0805383465071566),(79,92,0.181249427777947),(79,94,0.291863765373699),(79,107,-0.125934629352702),(79,108,0.065385906552324),(79,114,0.122791222876675),(79,118,0.379146702475051),(80,87,0.901135288552507),(80,88,-0.504394665364544),(80,91,0.293542283394879),(80,99,-0.0293130283516953),(80,101,0.707678456984161),(80,107,0.125751518295846),(80,113,0.494598223822749),(81,85,-0.202948088015381),(81,86,0.28629413739433),(81,90,-0.219931638538774),(81,93,0.423932615131077),(81,96,-0.367671742912076),(81,97,-0.546342356639302),(81,106,-0.528717917416913),(81,107,-0.740607928708762),(81,110,0.400311288796655),(81,115,0.0959196752830592),(82,86,0.316476943266091),(82,92,-0.626346629230628),(82,110,-0.644611957152013),(82,112,0.324365977965636),(83,87,0.354380932035279),(83,91,-0.289681691946165),(83,93,-0.417035431989502),(83,101,-0.594302194280831),(83,103,-0.0409558397167882),(83,105,-0.0530411694692832),(83,108,0.461607715079196),(84,85,-0.655903805658132),(84,86,0.24306466872158),(84,89,-0.054338206122013),(84,95,0.652531510361034),(84,99,-0.11177404095584),(84,104,0.790795617542039),(84,111,-0.166264839625233),(84,113,0.253639332255013),(84,114,0.854487746818445)]
orgname='BHNEAT_2_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()