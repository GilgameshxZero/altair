edge = [(0,85,-0.791543321024201),(0,89,-1.45879238258003),(0,90,2.00476088747826),(0,93,-2.79555650502029),(0,98,-0.0260475478377636),(0,101,0.294930875576037),(0,105,-0.473891415143284),(0,108,1.29970702230903),(0,113,1.14378795739616),(0,114,-1.24132511368145),(0,117,4.3015839106418),(0,118,-0.370662556840724),(1,86,-1.0988876003296),(1,92,0.838427381206702),(1,98,0.400936918240913),(1,102,-1.94159520249031),(1,104,-2.6530579546495),(1,107,-1.6976531266213),(1,108,-1.86750389110996),(1,109,0.703817865535447),(1,113,-0.0447172460097048),(2,87,-3.39431440168462),(2,88,0.493865779595325),(2,100,-1.85040589617603),(2,106,1.34896389660329),(2,108,0.119029816583758),(2,110,-0.663411358989227),(2,113,0.490310373241371),(2,118,0.782921842097232),(3,89,-0.576479384746849),(3,92,-1.65839869380779),(3,97,-0.387241737113559),(3,99,0.308832056642354),(3,101,0.0310220648823512),(3,103,-0.448912015137181),(3,105,2.10695211645863),(3,108,-1.26619769890439),(3,109,-3.69119846186712),(3,111,0.941679128391369),(3,112,0.338740195928831),(3,116,-1.94819483016449),(4,90,1.0154805139317),(4,91,-2.13101596118046),(4,97,-0.136143070772423),(4,99,-0.607539597766045),(4,101,1.02455214087344),(4,108,-0.161290322580645),(4,113,1.19820245979186),(4,118,-0.448332163457137),(5,86,-0.755394146549882),(5,87,-1.09503463850826),(5,89,-0.743476668599506),(5,92,0.777558214056826),(5,93,1.31212805566576),(5,99,0.91743217261269),(5,104,3.44662312692648),(5,114,1.96848200933866),(5,118,-1.42136906033509),(6,89,-0.467970824304941),(6,92,-5.54460280159917),(6,94,-1.47011474959563),(6,100,2.97180089724418),(6,101,0.497016815698721),(6,103,-0.371112704855495),(6,107,0.764595477156896),(6,110,-0.587870418408765),(6,113,0.598666341135899),(7,85,0.758728293710135),(7,86,-2.88004699850459),(7,90,2.53889584032716),(7,95,-1.53717154454176),(7,99,1.52185125278481),(7,100,1.31140324106571),(7,104,-1.26097140415662),(7,106,3.09595019379254),(7,108,-2.17827387310404),(7,112,0.530388805810724),(7,116,0.943136387218848),(8,92,-0.348246711630604),(8,93,1.63832514419996),(8,95,-0.244598223822749),(8,99,1.21350749229408),(8,106,0.609546189764092),(8,107,1.83223975341044),(8,115,3.94936979277932),(8,116,1.36390270699179),(8,118,0.679342020935698),(9,85,-1.31887264625996),(9,87,0.606143375957518),(9,98,-2.87304300057985),(9,101,1.15776543473617),(9,103,0.345469527268288),(9,105,-0.386432996612446),(9,106,-0.00460829493087556),(9,113,-0.118808557390057),(10,89,-3.95698416089358),(10,96,0.925405133213294),(10,106,2.34089175084689),(10,108,2.37765129551073),(10,111,0.722518082216865),(10,112,-1.72566911832026),(10,114,-2.11288796655171),(10,115,4.15474410229804),(10,116,-0.242278817102573),(10,117,-0.291039765617847),(11,89,0.687520981475265),(11,97,2.43134861293374),(11,105,-1.34624011963256),(11,112,-0.6800057985168),(11,115,-1.2072740867336),(12,92,-0.802591021454512),(12,93,0.484282967619861),(12,94,-0.236938077944273),(12,97,-1.98695333719901),(12,98,2.06375316629536),(12,99,1.17818994720298),(12,108,0.555909909360027),(12,116,-0.385357219153417),(13,86,0.904156620990631),(13,87,-0.218527787102878),(13,90,2.22750022888882),(13,99,-0.229750968962676),(13,102,1.13994262520219),(13,104,1.51876888332774),(13,113,-1.31536301767022),(13,116,-1.29111606189154),(13,118,-0.742515335551012),(14,90,-1.64816736350597),(14,93,0.136677144688253),(14,95,-5.27733695486312),(14,102,4.41199987792596),(14,104,-0.381786553544725),(14,106,4.52522354808191),(14,109,1.4629352702414),(14,110,2.57200842310862),(14,111,-0.822008423108615),(15,85,-0.754196295052949),(15,92,0.229773857844783),(15,99,-0.322702719199194),(15,101,-2.21480452894681),(15,104,-3.0682470168157),(15,108,-2.42661824396496),(15,117,-0.0350352488784442),(16,86,-0.572679830317087),(16,87,-0.569864497817927),(16,88,-0.593646046327097),(16,90,-0.331003753776666),(16,91,-2.4069948423719),(16,95,-3.80806909390545),(16,97,-1.15837580492569),(16,98,0.0980101931821649),(16,99,1.29305398724326),(16,101,1.14708395641957),(16,108,1.06942960905789),(16,110,3.47218237861263),(17,89,0.261879329813532),(17,96,1.05635242774743),(17,99,-1.32486953337199),(17,101,0.277542954802087),(17,106,0.294610431226539),(17,107,0.724021118808557),(17,109,-3.56515701773125),(18,90,0.964125492110965),(18,91,-1.99636829737236),(18,93,-0.0499588000122074),(18,99,0.0012970366527299),(18,102,1.55542161320841),(18,103,-0.612590411084323),(18,104,-0.587710196234016),(18,110,1.18385876033815),(18,111,0.796517838068789),(18,116,2.04390087588122),(18,117,-1.34773552659688),(18,118,-0.905438398388623),(19,87,1.95266579180273),(19,89,-0.0189291055024873),(19,93,-0.946417126987518),(19,95,-0.287789544358654),(19,101,1.14744254890591),(19,105,-2.2509842219306),(19,115,-0.431501205481124),(20,88,-1.3487884151738),(20,101,-0.326883754997406),(20,103,1.41638691366314),(20,104,-0.713568529313028),(20,105,0.167516098513748),(20,106,0.797158726767785),(20,111,0.10635700552385),(20,116,-3.96391186254463),(21,86,1.60916470839564),(21,87,5.06949064607685),(21,94,0.0129856257820368),(21,96,-0.677434614093448),(21,101,3.02479628894925),(21,102,1.33078249458296),(21,105,3.37269203772088),(21,107,1.46493423261208),(21,108,-0.233344523453474),(22,86,-0.988082522049623),(22,88,-1.38457136753441),(22,91,1.40569780571917),(22,92,-0.0663090914639728),(22,93,0.805017242957853),(22,98,0.26464125492111),(22,106,-3.09552293465987),(22,115,0.134380626850185),(22,117,-0.458998382518998),(23,85,2.50169377727592),(23,86,-1.41160313730277),(23,88,1.40147099215674),(23,90,1.52664265877255),(23,97,0.347697378460036),(23,104,1.77272865993225),(23,112,-1.58272804956206),(23,114,0.0805078279976805),(23,115,-3.64555803094577),(23,116,-0.147114474929045),(24,89,-2.45148319956053),(24,90,-1.99725333414716),(24,91,-0.563081759086886),(24,101,1.00801110873745),(24,107,1.77008117923521),(24,108,1.07329020050661),(24,110,-0.493415631580554),(24,112,-0.485312967314676),(25,90,-0.842585528122807),(25,92,4.99194311349834),(25,94,-4.05784783471175),(25,98,-1.0549562059389),(25,105,1.97640919217505),(25,108,5.29534287545396),(25,109,0.209601123081149),(25,115,-0.292611468855861),(26,85,1.7529297769097),(26,87,-1.48890652180547),(26,89,1.09385967589343),(26,95,-0.247825556199835),(26,98,-0.199308755760369),(26,100,0.310831019013031),(26,101,0.31198309274575),(26,102,3.05439924314097),(26,103,-0.384563737907041),(26,104,1.29790643024995),(26,107,-2.03842280343028),(26,109,0.897747734000671),(26,112,1.71092104861599),(26,113,-0.50830866420484),(26,117,-1.12756736960967),(27,85,-0.733664967802973),(27,87,-0.423474837488937),(27,94,-2.71269875179296),(27,100,-0.871196630756554),(27,102,0.138286996063112),(27,103,-0.364238410596026),(27,104,1.44607379375591),(27,105,2.08752708517716),(27,108,1.71308023316141),(27,110,0.669064912869656),(27,114,1.15747550889615),(28,87,-4.07519760734886),(28,88,0.7127140110477),(28,97,0.0693914609210486),(28,99,0.683751945554979),(28,104,-0.986938077944273),(28,113,-0.0254676961577196),(28,114,0.18015839106418),(29,88,0.179151280251473),(29,91,-2.88587603381451),(29,102,0.972685934018983),(29,105,-2.2929471724601),(29,116,3.57132175664541),(30,95,3.94204535050508),(30,96,0.904599139378033),(30,99,1.52370525223548),(30,101,-2.27413251136814),(30,104,-0.860660115359966),(30,109,-2.84360789819025),(30,110,0.930578020569475),(30,114,-1.19934690389721),(30,118,0.410008545182653),(31,85,0.231963560899686),(31,92,1.84131138035218),(31,94,-4.83468123416852),(31,96,0.839823603015229),(31,99,-1.06753746147038),(31,103,0.78087710196234),(31,107,-0.237434003723258),(31,108,1.40226447340312),(31,109,2.24436170537431),(31,111,1.97201452681051),(31,112,1.15783410138249),(31,117,-0.387897885067293),(32,86,-2.11546678060244),(32,87,3.20587786492508),(32,89,0.757248146000549),(32,92,2.45173497726371),(32,98,0.799707022309031),(32,99,0.259727774895474),(32,104,4.58154545731986),(32,106,0.736960966826381),(32,109,2.24777977843562),(32,116,-1.12166203802606),(32,118,-0.895626697592089),(33,96,3.34083071382794),(33,98,0.480468153935362),(33,108,0.25907162694174),(33,110,-1.09205908383435),(33,111,-0.162579729606006),(33,114,-0.220404675435652),(34,85,-0.664441358684042),(34,90,1.46452223273415),(34,99,-2.28362376781518),(34,104,-3.93321024201178),(34,109,-3.06584368419446),(35,86,-0.334673604541154),(35,87,0.438978240302744),(35,97,0.154118472853786),(35,98,0.0242622150334175),(35,100,-0.543824579607532),(35,104,-1.29927976317637),(35,107,-0.431745353556932),(35,109,-3.74364452040162),(35,110,-0.19350260933256),(35,112,0.0621051667836542),(36,85,0.30009613330485),(36,87,-1.28001495406964),(36,90,-2.15407269508957),(36,91,2.43076113162633),(36,104,2.31116672261727),(36,107,0.697935422833949),(36,109,2.11004974517045),(36,112,0.836863307596057),(36,115,2.53673665578173),(36,117,-5.23854792931913),(36,118,2.56036561174352),(37,85,3.51669362468337),(37,86,1.18892483291116),(37,87,0.885532700582903),(37,91,0.570581682790612),(37,99,1.01389355143895),(37,105,0.301034577471236),(37,111,2.2460631122776),(37,112,1.81962034974212),(37,118,-0.834788048951689),(38,87,1.89083529160436),(38,90,-0.782738731040376),(38,103,2.84145634327219),(38,105,2.62852870265816),(38,106,-0.259369182409131),(38,111,0.290925321207312),(38,115,-2.12125003814814),(39,87,1.81926175725578),(39,89,-2.24196600238044),(39,91,-4.80948820459609),(39,94,-0.476157414471877),(39,97,-0.632541886654256),(39,98,-1.2879268776513),(39,107,-0.675466170232246),(39,108,2.9465697195349),(39,109,1.89484084597308),(39,111,-1.72736289559618),(39,113,1.65095980712302),(39,116,-2.14615314188055),(39,118,3.13849299600207),(40,88,1.32096316415906),(40,92,-0.626163518173772),(40,99,0.200781273842585),(40,104,-1.01850947599719),(40,110,-1.64676351207007),(40,116,-4.3348338267159),(40,118,3.74546037171545),(41,88,-2.38296151615955),(41,93,0.95165868099002),(41,96,1.48370311593982),(41,97,-2.8872798852504),(41,100,0.284928434095279),(41,101,3.53675954466384),(41,104,1.11793877986999),(41,105,-1.81609546189764),(41,106,1.35495315408795),(41,107,-3.95481734672079),(41,109,0.209456160161138),(41,110,-1.57527390362255),(41,111,0.0375225074007385),(41,112,0.823625904110843),(42,85,-0.0998413037507249),(42,86,1.40015869624928),(42,87,2.06416516617328),(42,99,1.72040467543565),(42,100,-3.15671254615925),(42,103,-1.50795770134587),(42,109,0.546845912045656),(42,113,-0.624683370464187),(43,85,1.24016541032136),(43,88,-0.873249000518815),(43,89,1.53852961821345),(43,93,0.612651448103275),(43,97,-2.17335276345103),(43,98,0.476882229071932),(43,101,2.8036515396588),(43,102,2.11197241126743),(43,103,-0.359355449079867),(43,105,0.729316080202643),(43,110,-1.15907773064364),(43,112,0.0421689504684591),(43,114,-1.31807916501358),(43,116,-0.489745780816065),(44,89,-2.5015259254738),(44,98,0.458273567918943),(44,99,0.136738181707205),(45,87,-1.13313699758904),(45,88,-2.34998626667074),(45,90,-0.942930387279885),(45,91,0.720366527298807),(45,95,0.156094546342357),(45,98,-1.65344706564531),(45,108,-2.70892971587268),(45,109,1.86289559617908),(45,112,1.78791161839656),(45,115,-4.66957609790338),(46,85,-1.23957029938658),(46,89,-2.21619312112796),(46,91,1.15370647297586),(46,94,-1.14843440046388),(46,97,-0.186132389294107),(46,100,-0.136516922513504),(46,101,0.40919217505417),(46,108,2.99455244605853),(46,112,-2.82421338541826),(47,86,-2.20195623645741),(47,91,-1.15292825098422),(47,92,2.47564622943815),(47,94,-0.374393444624165),(47,95,-0.519768364513077),(47,100,-0.928853724784081),(47,101,2.96517838068789),(47,104,-0.513092440565203),(47,105,4.83220923490097),(47,108,4.67383342997528),(47,112,-1.27034821619312),(47,114,-0.149388103885006),(47,118,4.22305978576006),(48,86,2.41984313486129),(48,91,-1.61723685415204),(48,98,-0.367351298562578),(48,99,0.597979674672689),(48,100,-0.800370799890133),(48,103,-2.2047639393292),(48,105,-0.862926114688559),(48,106,-2.03187658314768),(48,111,-0.925183874019593),(48,115,0.0887325663014622),(49,87,0.813959166234321),(49,89,3.47808771019623),(49,93,-0.148808252204962),(49,94,3.93101290932951),(49,95,0.695730460524308),(49,102,-0.762031922360912),(49,113,0.13762321848201),(49,114,-0.337488937040315),(50,89,-0.154026917325358),(50,105,-0.818643757438887),(50,107,-0.0963316751609853),(51,87,-2.07985168004395),(51,92,0.697248756370739),(51,97,0.33401745658742),(51,98,-1.0747932370983),(51,103,-1.81195257423627),(51,106,1.38844721823786),(51,112,2.26992858668783),(51,118,-1.29277932065798),(52,89,0.0255668813135166),(52,97,1.00811029389325),(52,106,2.23647267067476),(52,110,-1.18102816858425),(52,111,0.841372417371136),(52,113,1.72064882351146),(52,114,-0.0622501297036653),(52,118,-0.800607318338572),(53,88,0.151745658742027),(53,90,-4.46050904873806),(53,92,0.683103427228614),(53,94,-2.99272133548997),(53,104,-1.66912594988861),(53,105,0.0258110293893246),(53,109,0.12953581347087),(54,85,0.748054445020905),(54,91,-0.185094759971923),(54,94,0.821848200933866),(54,96,-0.317697683645131),(54,111,0.0206381420331432),(54,112,3.79079561754204),(54,113,0.112285225989563),(54,118,1.05923642689291),(55,87,0.181791131321146),(55,95,0.0537125766777551),(55,107,-1.92087313455611),(55,110,-1.20090334788049),(55,117,-0.778481398968474),(56,107,-2.11383404034547),(56,111,1.59511093478195),(56,113,-1.07831812494278),(56,114,1.11409344767602),(57,87,-1.39696951200903),(57,90,1.42122409741508),(57,91,-1.73665578173162),(57,92,1.73226111636708),(57,93,2.18441572313608),(57,94,0.458433790093692),(57,95,0.0836054567094942),(57,96,-0.841349528489029),(57,100,2.22538682210761),(57,102,-0.403683584093753),(57,103,0.572794274727622),(57,115,-0.287064729758599),(58,86,0.331980346079897),(58,87,-0.116397595141453),(58,89,0.531952879421369),(58,90,-0.821749015778069),(58,95,-2.36462752159185),(58,96,-1.39942625202185),(58,101,-3.0287942136906),(58,103,-2.96310312204352),(58,109,-0.706427198095645),(58,110,1.71073793755913),(58,113,-0.674298837244789),(58,114,3.63345744193854),(58,115,0.713148899807733),(59,85,-0.477622302926725),(59,86,2.74979400006104),(59,90,-0.0922879726554156),(59,91,0.362178411206397),(59,93,2.12009033478805),(59,97,-2.70242927335429),(59,98,0.172421948912015),(59,100,1.55645161290323),(59,102,0.251274147770623),(59,112,0.785699026459548),(59,114,0.45188756981109),(60,85,-0.276245918149358),(60,87,-1.09098330637532),(60,90,0.740737632374035),(60,91,-3.08114871669668),(60,96,0.205969420453505),(60,100,-2.26725058748131),(60,101,-0.266953032013917),(60,105,-0.671712393566698),(60,107,-0.77775658436842),(60,109,3.81066316721091),(60,110,0.536835840937529),(60,114,-1.01605273598437),(61,89,-1.5578859828486),(61,94,-2.10136722922452),(61,96,-0.327021088290048),(61,98,2.26149784844508),(61,100,-0.113795892208624),(61,102,-0.720999786370434),(61,103,-0.705740531632435),(61,114,1.50812555314798),(61,115,0.449919125949889),(62,93,0.887577440717795),(62,95,0.0929288613544116),(62,107,-1.49937437055574),(62,109,-3.57643360698264),(62,110,-1.90633869441816),(62,111,0.998352000488296),(63,87,1.00640125736259),(63,90,4.11560411389508),(63,93,0.299768059327982),(63,97,-0.555101168858913),(63,100,-1.67862483596301),(63,103,-0.291772209845271),(63,104,0.638645588549455),(63,108,0.562601092562639),(63,111,-0.0173345133823661),(63,114,-0.718604083376568),(63,117,2.51361125522629),(64,87,2.07365642262032),(64,94,-0.753868221076083),(64,99,0.963682973723563),(64,110,-2.2380138554033),(64,112,-1.95008697775201),(64,116,-0.101886043885617),(65,87,0.0712683492538225),(65,88,-0.857219153416547),(65,90,0.349894711142308),(65,97,3.72933133945738),(65,99,0.00138859218115789),(65,107,-1.51760155034028),(65,110,-2.19895016327403),(65,111,-3.12924588763085),(65,114,-3.81746879482406),(65,116,-0.972945341349529),(65,117,-1.59916989654225),(66,85,1.11275063325907),(66,102,-0.156308175908689),(66,105,-1.51818903164769),(66,108,1.42873928037355),(66,111,-2.60426648762474),(66,115,2.06387524033326),(66,118,1.15121921445357),(67,86,-0.622302926725059),(67,90,0.231696523941771),(67,92,-0.0511032441175574),(67,104,1.69220557267983),(67,109,-0.838557084871975),(67,111,2.63414410840175),(68,87,1.88148136844996),(68,88,0.285287026581622),(68,90,-2.90710165715506),(68,93,-1.25306711020234),(68,95,0.651051362651448),(68,96,-0.339304788354137),(68,97,-0.797570726645711),(68,103,2.14049195837275),(68,107,-0.791764580217902),(68,112,2.39585558641316),(68,114,-0.497375408185064),(69,87,0.762901699880978),(69,88,0.581072420422987),(69,92,-0.0444044312875759),(69,94,-1.72605822931608),(69,95,0.732329783013398),(69,97,-0.87290566728721),(69,108,-1.27617725150304),(69,113,0.806382946256905),(69,114,0.23071230201117),(69,118,0.967650379955443),(70,85,-1.92541276284066),(70,86,-1.56811731315043),(70,87,1.74855800042726),(70,90,0.739188818018128),(70,96,-0.860736411633656),(70,97,-0.783799249244667),(70,99,1.94975127414777),(70,105,-0.97026734214301),(70,107,-0.992934965056307),(70,109,-1.19714957121494),(70,110,0.161214026306955),(70,111,-1.68437757499924),(71,85,-0.256736960966826),(71,93,-0.46134830774865),(71,96,-0.108478041932432),(71,100,0.236068300424207),(71,104,-1.08584856715598),(71,106,-0.61337626270333),(71,111,1.58818323313089),(71,113,1.44932401501511),(72,94,0.847300637836848),(72,96,0.598941007721183),(72,99,-0.727416302987762),(72,110,-2.22018341624195),(72,112,-0.95883053071688),(72,114,-0.578753013702811),(72,115,0.97750785851619),(72,116,0.548707541123691),(73,88,0.847773674733726),(73,94,0.853205969420454),(73,99,0.135845515305032),(73,100,0.698812829981384),(73,106,1.0250785851619),(73,110,-1.37936033204138),(73,115,-3.24634540849025),(74,90,-0.182340464491714),(74,94,-0.771309549241615),(74,99,-1.13616595965453),(74,102,-0.284417249061556),(74,106,0.777306436353648),(74,107,-2.58069093905454),(74,110,-0.99328592791528),(74,113,-1.8726615192114),(74,116,-2.5080721457564),(75,85,-0.659306619464705),(75,86,0.65607165746025),(75,93,-2.96324045533616),(75,98,0.0276879177220987),(75,103,0.114154484694968),(75,105,-2.66823328348643),(75,111,-1.63889736625263),(75,117,-1.08467360454115),(76,86,-1.23669392986847),(76,89,0.304422132023072),(76,92,-1.44025238807337),(76,94,-0.744117557298501),(76,99,-0.977156895657216),(76,101,-0.235526596881008),(76,103,-1.72101504562517),(76,106,0.844477675710318),(76,110,-0.075258644367809),(76,113,-0.682660908841212),(77,88,-0.920712912381359),(77,91,2.39819025238807),(77,93,-0.180631427961058),(77,98,0.311616870632038),(77,101,-0.625583666493728),(77,102,2.46418652912992),(77,103,0.0456251716666158),(77,104,-0.688497573778497),(77,105,0.234015930661946),(77,109,1.89812921536912),(78,88,0.603595080416273),(78,93,-1.2511062959685),(78,94,1.42694631794183),(78,101,-0.13068025757622),(78,104,0.683370464186529),(78,110,-0.947874385814997),(78,114,1.23367259743034),(78,116,2.0425275429548),(78,117,1.30831324198126),(78,118,0.616229743339335),(79,87,2.24327829828791),(79,92,0.298280281991028),(79,94,0.807756279183325),(79,107,2.33649708548234),(79,108,-1.3888058107242),(79,114,1.56704916531877),(79,118,0.0618533890804773),(80,87,0.109241004669332),(80,88,-1.17763298440504),(80,91,0.580935087130344),(80,99,0.479476302377392),(80,101,-0.853114413892026),(80,107,1.05073702200385),(80,113,-0.561120944853053),(81,85,0.641766106143376),(81,86,3.18300424207282),(81,90,0.306329538865322),(81,93,3.53677480391858),(81,96,0.29261909848323),(81,97,-2.8761558885464),(81,106,0.699034089175085),(81,107,0.13556321909238),(81,110,0.703398236030152),(81,115,-0.0581148716696677),(82,86,0.0562990203558458),(82,92,-0.197820978423414),(82,110,-1.30038605914487),(82,112,1.17636646626179),(83,87,0.625095370342112),(83,91,1.17223120822779),(83,93,0.119449446089053),(83,101,-4.26621295815912),(83,103,0.21614734336375),(83,105,-0.0380413220618305),(83,108,1.50257881405072),(84,85,1.18164616840114),(84,86,-1.57248146000549),(84,89,-1.18155461287271),(84,95,-3.56364635151219),(84,99,0.750030518509476),(84,104,1.1497085482345),(84,111,1.05425428022095),(84,113,-2.0249794000061),(84,114,0.595927304910428),(10,119,-0.277382732627339),(119,109,0.666623432111575),(58,120,-0.0320978423413801),(120,118,0.0645847956785791),(95,104,2.57498397778253)]
orgname='BHNEAT_11_11'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()