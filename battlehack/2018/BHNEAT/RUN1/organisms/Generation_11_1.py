edge = [(0,85,-1.35010834070864),(0,89,2.29438154240547),(0,90,2.08639790032655),(0,93,1.67828913235878),(0,98,0.571581163975951),(0,101,-0.875759147923215),(0,105,0.397106845301675),(0,108,-0.195623645741142),(0,113,2.96665852839747),(0,114,-1.94601275673696),(0,117,1.43513290810877),(0,118,-0.0313730277413251),(1,86,0.237678151799066),(1,92,0.3037507248146),(1,98,0.928220465712455),(1,102,0.0332956938383129),(1,104,0.833109530930509),(1,107,-1.37531662953581),(1,108,-0.971861934263131),(1,109,-1.2556840723899),(1,113,0.124088259529405),(2,87,-1.57541123691519),(2,88,0.586565752128666),(2,100,-0.455977050080874),(2,106,-0.696768089846492),(2,108,0.222602008117924),(2,110,-0.704000976592303),(2,113,0.451857051301614),(2,118,2.32303842280343),(3,89,0.219977416302988),(3,92,0.549272133548998),(3,97,0.121921445356609),(3,99,0.986724448377941),(3,101,0.0292367320780053),(3,103,0.52012695699942),(3,105,-0.126850184636982),(3,108,-0.0627765739921262),(3,109,-0.823526718955046),(3,111,-0.69060335093234),(3,112,0.294869838557085),(3,116,-0.934141056550798),(4,90,-0.606006042664876),(4,91,1.79822687459944),(4,97,-0.706839197973571),(4,99,0.032624286629841),(4,101,0.0285042878505814),(4,108,-0.304879909665212),(4,113,-1.81008331553087),(4,118,-0.585741752372814),(5,86,-2.38935514389477),(5,87,-0.368388927884762),(5,89,0.0227668080690939),(5,92,-0.30787072359386),(5,93,0.142277291177099),(5,99,2.46220282601398),(5,104,0.0133671071504868),(5,114,-0.683385723441267),(5,118,1.32361827448347),(6,89,-0.219397564622944),(6,92,-0.823847163304544),(6,94,-2.40028077028718),(6,100,0.370555742057558),(6,101,-1.28293710135197),(6,103,-0.423261207922605),(6,107,-0.376262703329569),(6,110,-1.23279519028291),(6,113,1.23329874568926),(7,85,-1.94318979461043),(7,86,0.435712759788812),(7,90,1.8122653889584),(7,95,1.21117282631916),(7,99,0.691091647083957),(7,100,3.33504745628223),(7,104,-0.362773522141179),(7,106,3.07649464400159),(7,108,1.62875759147923),(7,112,0.534012878810999),(7,116,-2.64679403057955),(8,92,-0.235480819116794),(8,93,1.71369060335093),(8,95,1.48519852290414),(8,99,3.73447370830409),(8,106,1.64648884548479),(8,107,-0.496169927060762),(8,115,1.85717337565233),(8,116,0.978682821131016),(8,118,0.693533127842036),(9,85,-0.324503311258278),(9,87,-0.0355845820490127),(9,98,-0.220984527115696),(9,101,-0.479171117282632),(9,103,0.785699026459548),(9,105,-0.471083712271493),(9,106,3.09202856532487),(9,113,-0.173268837549974),(10,89,-0.838297677541429),(10,96,0.819772942289499),(10,106,1.13975951414533),(10,108,0.750633259071627),(10,109,0.46134830774865),(10,111,1.34681234168523),(10,112,-0.723136082033753),(10,114,0.264809106723228),(10,115,0.550431836909085),(10,116,-0.333033234656819),(10,117,-1.52810754722739),(11,89,-1.58519241920225),(11,97,1.4349040192877),(11,105,-0.7226325266274),(11,112,-2.4641407513657),(11,115,-2.71103549302652),(12,92,-0.753837702566607),(12,93,0.908261360515152),(12,94,-1.13467818231758),(12,97,-0.617664113284707),(12,98,1.93099765007477),(12,99,0.723807489242225),(12,108,-0.6691030610065),(12,116,-0.0682699056978057),(13,86,0.0652027954954679),(13,87,-2.84594256416517),(13,90,0.406079287087619),(13,99,0.188390758995331),(13,102,0.683156834620197),(13,104,0.178930021057772),(13,113,0.12976470229194),(13,116,-0.421033356730857),(13,118,0.516983550523392),(14,90,-0.860347300637837),(14,93,-0.131809442426832),(14,95,1.68080690939055),(14,102,1.36114078188421),(14,104,-0.271919919431135),(14,106,0.662495803704947),(14,109,2.4710074159978),(14,110,0.773094882045961),(14,111,-1.06894131290628),(15,85,-0.655354472487564),(15,92,-0.365489669484542),(15,99,-0.743095187231056),(15,101,0.782036805322428),(15,104,-0.699819940794092),(15,108,2.37968077639088),(15,117,-1.87842951750236),(16,86,-0.11383404034547),(16,87,0.210715048677023),(16,88,0.130558183538316),(16,90,0.883022553178503),(16,91,-0.428632465590381),(16,95,-1.39970091860714),(16,97,-0.523056733909116),(16,98,-0.840662862025819),(16,99,-0.265449995422224),(16,101,0.772087771233253),(16,108,2.79822687459944),(16,110,1.84493545335246),(17,89,0.897656178472244),(17,96,-2.53559984130375),(17,99,-0.900051881466109),(17,101,0.125766777550584),(17,106,0.143620105594043),(17,107,-0.296670430616169),(17,109,-0.546494949186682),(18,90,0.455107272560808),(18,91,1.62884914700766),(18,93,-0.558549760429701),(18,99,0.272530289620655),(18,102,-0.269966734824671),(18,103,-2.48974578081606),(18,104,0.570085757011628),(18,110,0.789635914181951),(18,111,0.410840174565874),(18,116,0.389721366008484),(18,117,0.929136020996735),(18,118,-0.493362224188971),(19,87,-0.260994293038728),(19,89,0.0807519760734886),(19,93,0.0225836970122379),(19,95,-2.2445600756859),(19,101,2.01763969847713),(19,105,0.159901730399487),(19,115,-0.994872890408033),(20,88,1.04411450544755),(20,101,-0.6120792260506),(20,103,-1.74065370647298),(20,104,-0.595385601367229),(20,105,1.84690389721366),(20,106,3.35505233924375),(20,111,-0.22064882351146),(20,116,0.623477889339885),(21,86,0.752586443678091),(21,87,-0.567430646687216),(21,94,-0.817209387493515),(21,96,-0.165410321359905),(21,101,1.72254097109897),(21,102,0.360789819025239),(21,105,-0.970854823450423),(21,107,-2.01005584887234),(21,108,-0.732932523575549),(22,86,-0.824274422437208),(22,88,-0.636661885433515),(22,91,-0.416333506271554),(22,92,2.0150608844264),(22,93,0.315958128604999),(22,98,-2.15634632404553),(22,106,-0.664418469801935),(22,115,-0.836085085604419),(22,117,0.463728751487777),(23,85,-0.482863856929228),(23,86,-0.963408307138279),(23,88,1.60229804376354),(23,90,0.49458296456801),(23,97,0.263618884853664),(23,104,-1.20290231025117),(23,112,1.60626544999542),(23,114,-3.0516830957976),(23,115,-1.69412823877682),(23,116,-1.73285622730186),(24,89,-0.563493758964812),(24,90,0.53880428479873),(24,91,-2.0394756920072),(24,101,0.265419476912748),(24,107,0.496200445570238),(24,108,-0.25830866420484),(24,110,0.491256447035127),(24,112,0.750419629505295),(25,90,2.7880489516892),(25,92,-1.46714682454909),(25,94,-0.184408093508713),(25,98,-0.274712363048189),(25,105,0.854396191290017),(25,108,0.896176030762658),(25,109,-0.771340067751091),(25,115,-0.133610034485916),(26,85,1.07057405316324),(26,87,-0.554124576555681),(26,89,-1.47839289529099),(26,95,0.686956389049959),(26,98,-0.485000152592547),(26,100,0.343485824152348),(26,101,0.493911557359539),(26,102,-3.53927732169561),(26,103,-0.683339945677053),(26,104,2.66028321176794),(26,107,-1.59308145390179),(26,109,0.782280953398236),(26,112,-0.639652699362163),(26,113,-0.380169072542497),(26,117,-0.572893459883419),(27,85,0.639820551164281),(27,87,0.121250038148137),(27,94,0.0428174687948241),(27,100,0.71752067629017),(27,102,-0.950956755272072),(27,103,-0.148472548600726),(27,104,-0.598437452314829),(27,105,0.903256324961089),(27,108,-1.30695516830958),(27,110,-0.139103366191595),(27,114,-0.924649800103763),(28,87,2.27240821558275),(28,88,-1.88985869930113),(28,97,-0.279549546800134),(28,99,-0.226691488387707),(28,104,-0.289361247596667),(28,113,-0.161351359599597),(28,114,0.280220954008606),(29,88,0.761558885464034),(29,91,0.883205664235359),(29,102,-2.64116336558122),(29,105,-1.29522080141606),(29,116,0.308511612292856),(30,95,1.76908169804987),(30,96,0.273934141056551),(30,99,-0.472518082216865),(30,101,0.461622974333934),(30,104,-1.52218695638905),(30,109,0.956678975798822),(30,110,-0.880764183477279),(30,114,-0.878292184209723),(30,118,-1.18561357463302),(31,85,-0.768852809228797),(31,92,0.153843806268502),(31,94,-2.20841090121158),(31,96,0.899105807672353),(31,99,-0.209814752647481),(31,103,-0.226996673482467),(31,107,-1.04052858058412),(31,108,1.20601519821772),(31,109,0.452772606585894),(31,111,-0.396679586169011),(31,112,1.18762779625843),(31,117,-0.58500930814539),(32,86,-0.748924222540971),(32,87,0.150975066377758),(32,89,1.56991790520951),(32,92,-0.278603473006378),(32,98,-1.3623004852443),(32,99,0.0333567308572649),(32,104,0.912381359294412),(32,106,-1.25377666554765),(32,109,0.926023133030183),(32,116,-0.39646595660268),(32,118,2.28049562059389),(33,96,0.538315988647114),(33,98,0.272560808130131),(33,108,1.66795861690115),(33,110,-0.883236182744835),(33,111,0.37443159276101),(33,114,1.56637775811029),(34,85,-1.09112826929533),(34,90,-0.394970549638356),(34,99,1.60710470900601),(34,104,-0.0549943540757469),(34,109,0.36634418774987),(35,86,-0.0744651631214332),(35,87,0.684499649037141),(35,97,-0.0440992461928159),(35,98,-1.03747672963652),(35,100,-0.117404705954161),(35,104,0.168431653798028),(35,107,0.326868495742668),(35,109,-1.78998687704093),(35,110,1.87611011078219),(35,112,0.0627155369731742),(36,85,-0.832789086581011),(36,87,0.403424176763207),(36,90,-1.88352610858486),(36,91,0.708334604937895),(36,104,0.931806390575884),(36,107,1.81617175817133),(36,109,0.723899044770653),(36,112,1.35885189367351),(36,115,1.33434553056429),(36,117,0.309183019501328),(36,118,1.52584917752617),(37,85,0.388317514572588),(37,86,0.0860621967223121),(37,87,-0.188756981109043),(37,91,2.35351115451521),(37,99,-0.21980956450087),(37,105,-0.0697653126621296),(37,111,-0.391399884029664),(37,112,1.78269295327616),(37,118,1.45229956968902),(38,87,-2.39806817835017),(38,90,2.33465071565905),(38,103,0.200689718314158),(38,105,0.685110019226661),(38,106,0.955687124240852),(38,111,0.233130893887143),(38,115,-1.49264503921628),(39,87,0.677907650990326),(39,89,0.470900601214637),(39,91,-0.732291634876553),(39,94,-0.130802331614124),(39,97,0.117755668813135),(39,98,0.135074922940764),(39,107,-0.3029877620777),(39,108,-1.34192938016907),(39,109,0.914548173467208),(39,111,0.00189214758751183),(39,113,0.904629657887509),(39,116,0.250083925901059),(39,118,0.742866298409986),(40,88,-0.697988830225532),(40,92,-0.368358409375286),(40,99,0.297067171239357),(40,104,-1.57623523667104),(40,110,0.278878139591662),(40,116,-0.775994140446181),(40,118,0.531327249977111),(41,88,0.10643330179754),(41,93,0.935178685872982),(41,96,1.95239112521744),(41,97,3.4225745414594),(41,100,0.163884395886105),(41,101,2.43259987182226),(41,104,0.651387066255684),(41,105,-0.594195379497665),(41,106,-1.82656331064791),(41,107,-0.946531571398053),(41,109,0.695883053071688),(41,110,0.30939664906766),(41,111,-0.861781670583209),(41,112,-0.971312601092563),(42,85,0.970519119846187),(42,86,-0.0117801446577349),(42,87,1.24321726126896),(42,99,-0.43328653828547),(42,100,-3.60052797021393),(42,103,-0.2150028992584),(42,109,1.31186864833522),(42,113,-0.666035950804163),(43,85,-1.80054628131962),(43,88,-1.90641499069185),(43,89,-1.14650410473952),(43,93,-0.117847224341563),(43,97,-0.108432264168218),(43,98,1.99133274330882),(43,101,0.768028809472945),(43,102,-0.614398632770776),(43,103,0.122684408093509),(43,105,-0.334177678762169),(43,110,1.60231330301828),(43,112,0.0506759849848935),(43,114,-2.73253578295236),(43,116,-0.693838312936796),(44,89,0.907620471816156),(44,98,2.24486526078066),(44,99,-0.634083071382794),(45,87,2.63216040528581),(45,88,0.277199621570483),(45,90,-3.1523178807947),(45,91,1.91199987792596),(45,95,-1.525742362743),(45,98,-0.298196356089969),(45,108,-0.385174108096561),(45,109,0.195745719779046),(45,112,-0.577425458540605),(45,115,1.31739249855037),(46,85,-0.402752769554735),(46,89,0.450972014526811),(46,91,-0.100833155308695),(46,94,-0.35163426618244),(46,97,-1.9048280281991),(46,100,-0.796288949247719),(46,101,-0.336375011444441),(46,108,0.319910275582141),(46,112,-0.144230475783563),(47,86,-0.0951872310556353),(47,91,0.699392681661428),(47,92,-0.748619037446211),(47,94,-2.20488601336711),(47,95,-2.32741782891324),(47,100,-0.583880123294778),(47,101,0.716727195043794),(47,104,-1.40964995269631),(47,105,0.0389721366008484),(47,108,0.487075411236915),(47,112,1.03175450910978),(47,114,0.0601214636677145),(47,118,1.00352488784448),(48,86,0.669454023865474),(48,91,-1.07522812585833),(48,98,0.673787652211066),(48,99,0.128604998931852),(48,100,0.440015869624928),(48,103,-0.410962248603778),(48,105,-0.52699362163152),(48,106,-0.738120670186468),(48,111,-0.0663167210913419),(48,115,2.23479415265358),(49,87,-2.55909909360027),(49,89,0.192388683736686),(49,93,3.88261055330058),(49,94,0.180211798455763),(49,95,1.19028290658284),(49,102,0.949980162968841),(49,113,0.585558641315958),(49,114,0.672750022888882),(50,89,-2.11134678182318),(50,105,0.934720908230842),(50,107,-0.748130741294595),(51,87,1.7177343058565),(51,92,0.27774895474105),(51,97,0.914975432599872),(51,98,-0.501083407086398),(51,103,-0.269692068239387),(51,106,0.117160557878353),(51,112,0.507217627491073),(51,118,-1.04185613574633),(52,89,-0.290917691579943),(52,97,-0.473830378124332),(52,106,-0.805230872524186),(52,110,-0.841624195074313),(52,111,0.565996276741844),(52,113,0.21454512161626),(52,114,-2.44161809137242),(52,118,-0.190313425092318),(53,88,0.308771019623402),(53,90,0.97231971190527),(53,92,-1.25402081362346),(53,94,0.681325724051637),(53,104,-0.546769615771966),(53,105,-1.37594225898007),(53,109,-0.73558763389996),(54,85,-0.124851222266305),(54,91,-1.32480849635304),(54,94,0.811487166966765),(54,96,2.11188085573901),(54,111,1.90786461989196),(54,112,-0.738151188695944),(54,113,-0.125400555436872),(54,118,-0.0560625019074068),(55,87,-2.32625812555315),(55,95,-1.66783654286325),(55,107,1.39492477187414),(55,110,-0.0205999938962981),(55,117,-0.806512649922178),(56,107,-0.064439832758568),(56,111,1.16351817377239),(56,113,-0.785973693044832),(56,114,0.0631122775963622),(57,87,0.174108096560564),(57,90,0.855159154026917),(57,91,0.903805658131657),(57,92,1.17648854029969),(57,93,2.07992797631764),(57,94,-1.13089388714255),(57,95,0.188207647938475),(57,96,-1.06031983397931),(57,100,0.860957670827357),(57,102,-0.752281258583331),(57,103,0.594500564592425),(57,115,-0.482345042268136),(58,86,0.577806939909055),(58,87,-0.338267159031953),(58,89,0.723075045014801),(58,90,0.32944730979339),(58,95,1.16931669057283),(58,96,1.42185735648671),(58,101,-0.948423718985565),(58,103,0.975615710928678),(58,109,-0.0685140537736137),(58,110,-1.08847315897092),(58,113,0.173009430219428),(58,114,-0.592593157750176),(58,115,-0.179509872737815),(58,118,-0.688497573778497),(59,85,1.01377910702841),(59,86,0.720847193823054),(59,90,-0.162175359355449),(59,91,1.18396557512131),(59,93,-2.06343272194586),(59,97,0.412366100039674),(59,98,0.231055635242775),(59,100,-0.372203741569262),(59,102,0.117831965086825),(59,112,-0.783104953154088),(59,114,-0.442091128269295),(60,85,-0.975630970183416),(60,87,-0.309518723105563),(60,90,0.851954710531938),(60,91,-0.54582354197821),(60,96,0.964659566026795),(60,100,-2.28350169377728),(60,101,-0.940183721427046),(60,105,-0.535447248756371),(60,107,0.645130771813105),(60,109,1.7628711813715),(60,110,1.10415967284158),(60,114,-2.90346995452742),(61,89,0.391674550614948),(61,94,-0.573686941129795),(61,96,0.807885982848598),(61,98,0.395748771629994),(61,100,-1.6186254463332),(61,102,-1.9373149815363),(61,103,-0.683156834620197),(61,114,-0.840998565630055),(61,115,-0.010681478316599),(62,93,-0.551499984740745),(62,95,-0.964842677083651),(62,107,-0.43168431653798),(62,109,-0.844111453596606),(62,110,0.845362712485122),(62,111,-0.0133365886410108),(63,87,2.01498458815271),(63,90,2.67543565172277),(63,93,0.152439954832606),(63,97,0.0775475325785089),(63,100,0.0661946470534379),(63,103,-1.29728080080569),(63,104,-0.0152897732474746),(63,108,-1.69615771965697),(63,111,-0.602374340037233),(63,114,-0.162785729544969),(63,117,0.180242316965239),(64,87,-0.75762199774163),(64,94,0.156041138950774),(64,99,0.0310373241370891),(64,110,-0.103778191473128),(64,112,0.860209967345195),(64,116,2.27314065981017),(65,87,0.350474562822352),(65,88,-0.0688497573778497),(65,90,-0.0259407330545976),(65,97,-1.97991882076479),(65,99,-1.05149998474075),(65,107,-1.38843958861049),(65,110,-0.9518112735374),(65,111,-0.0235297708059938),(65,114,-1.25254066591388),(65,116,0.824747459334086),(65,117,0.75914792321543),(66,85,0.941160313730277),(66,102,3.03291421246986),(66,105,0.911160618915372),(66,108,0.899319437238685),(66,111,2.56106753746147),(66,115,0.46165349284341),(66,118,-1.03955198828089),(67,86,0.493148594622639),(67,90,0.796136356700339),(67,92,0.265755180516984),(67,104,1.50848414563433),(67,109,-0.291817987609485),(67,111,-1.13458662678915),(68,87,0.661122470778527),(68,88,0.268181402020325),(68,90,-0.208960234382153),(68,93,-1.79319132053591),(68,95,0.651051362651448),(68,96,0.277169103061007),(68,97,-0.611865596484268),(68,103,0.376293221839045),(68,107,-0.140690328684347),(68,112,1.72521134067812),(68,114,-3.32711264381848),(69,87,2.44035157322916),(69,88,-0.284752952665792),(69,92,-1.42849513229774),(69,94,-1.53149510177923),(69,95,0.901058992278817),(69,97,-0.210974456007569),(69,108,2.48916592913602),(69,113,-0.82448805200354),(69,114,0.905514694662313),(69,118,-0.0251167332987456),(70,85,-2.52369762260811),(70,86,0.0271767326883756),(70,87,0.60879848628193),(70,90,0.739188818018128),(70,96,-0.00350962858973968),(70,97,0.375591296121097),(70,99,-1.97509689626759),(70,105,-2.29641102328562),(70,107,0.750511185033723),(70,109,0.119876705221717),(70,110,0.0257881405072176),(70,111,-2.30581072420423),(71,85,-2.00505081331828),(71,93,-0.407025360881375),(71,96,-0.831385235145116),(71,100,3.417355876339),(71,104,0.467696157719657),(71,106,-0.206213568529313),(71,111,0.767967772453993),(71,113,0.171361430707724),(72,94,0.951902829065828),(72,96,0.101092562639241),(72,99,0.766533402508621),(72,110,-0.184636982329783),(72,112,0.448133793145543),(72,114,0.623676259651479),(72,115,2.13064973906674),(72,116,0.718008972441786),(73,88,2.36057618945891),(73,94,0.953016754661703),(73,99,-0.294961394085513),(73,100,-0.293649098178045),(73,106,1.09706411938841),(73,110,2.61772515030366),(73,115,0.545136875515),(74,90,0.879558702352977),(74,94,-0.730185857722709),(74,99,0.570543534653768),(74,102,-0.518723105563524),(74,106,-0.253059480574969),(74,107,-0.315073091830195),(74,110,0.748863185522019),(74,113,1.39103366191595),(74,116,-0.316232795190283),(75,85,0.191015350810266),(75,86,0.253303628650777),(75,93,0.49900814844203),(75,98,-0.0191503646961882),(75,103,0.128818628498184),(75,105,0.606067079683828),(75,111,0.924375133518479),(75,117,-0.725363933225501),(76,86,-0.379589220862453),(76,89,0.451857051301614),(76,92,-0.341776787621693),(76,94,0.744651631214332),(76,99,1.79880672627949),(76,101,-1.74375133518479),(76,103,0.847911008026368),(76,106,-0.200369273964659),(76,110,-0.633472701193274),(76,113,0.281991027558214),(77,88,-0.644367809076205),(77,91,0.890270699179052),(77,93,3.64772484511856),(77,98,0.0988494521927549),(77,101,1.45608386486404),(77,102,0.207037568285165),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,-0.823084200567644),(77,109,1.32763145847957),(78,88,-0.534440137943663),(78,93,0.661275063325907),(78,94,2.72128971221046),(78,101,-0.601947080904569),(78,104,-0.0575579088717307),(78,110,0.454527420880764),(78,114,-0.494399853511155),(78,116,0.102694784386731),(78,117,0.852687154759362),(78,118,-0.00381481368449954),(79,87,0.244788964506974),(79,92,1.42750328073977),(79,94,0.238166447950682),(79,107,-0.170079653309732),(79,108,0.85003204443495),(79,114,2.32630390331736),(79,118,-0.766228217413861),(80,87,0.363078707235939),(80,88,-0.102160710470901),(80,91,-0.367961668752098),(80,99,1.81791131321146),(80,101,1.37435529648732),(80,107,0.89150669881283),(80,113,0.243079927976318),(81,85,-0.408490249336222),(81,86,-0.456648457289346),(81,90,-1.73117770928068),(81,93,-0.276284066286203),(81,96,0.211554307687613),(81,97,-0.189687795648061),(81,106,-1.44805749687185),(81,107,0.13556321909238),(81,110,0.285637989440595),(81,115,-0.515396588030641),(82,86,-0.713919492172002),(82,92,2.09807123020112),(82,110,-0.852443006683554),(82,112,2.24703207495346),(83,87,-0.97460860011597),(83,91,0.510513626514481),(83,93,0.0527665028839991),(83,101,-2.90859706411939),(83,103,0.226752525406659),(83,105,2.54524369029817),(83,108,-1.12582781456954),(84,85,-0.752616962187567),(84,86,0.152500991851558),(84,89,1.95319986571856),(84,95,0.344431897946104),(84,99,-0.0595873897518845),(84,104,0.336771752067629),(84,111,-0.139866328928495),(84,113,1.02282784508805),(84,114,0.710257271034883),(35,105,0.612750633259072)]
orgname='BHNEAT_11_1'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()