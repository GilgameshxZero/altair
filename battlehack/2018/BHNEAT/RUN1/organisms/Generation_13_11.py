edge = [(0,85,4.13238929410688),(0,89,-1.91145817438276),(0,90,0.844981231116672),(0,93,-0.534104434339427),(0,98,0.280030213324381),(0,101,-3.46079134495071),(0,105,2.45910519730216),(0,108,-2.09547715689566),(0,113,-0.211874752037111),(0,114,6.43879512924589),(0,117,3.63979003265481),(0,118,-3.74372081667531),(1,86,-3.77315591906491),(1,92,1.78564561906796),(1,98,4.09512619403668),(1,102,-2.92581713309122),(1,104,1.55316324350719),(1,107,-2.60229804376354),(1,108,1.4158299508652),(1,109,2.7284157841731),(1,113,-1.22723319193091),(2,87,-1.07860042115543),(2,88,-1.29757072664571),(2,100,3.24152348399304),(2,106,-1.88538773766289),(2,108,2.45033112582781),(2,110,-4.14175847651601),(2,113,-2.48150578325755),(2,118,4.19690542313913),(3,89,7.24342326120792),(3,92,-0.642361217078158),(3,97,2.15472121341594),(3,99,-0.508056886501663),(3,101,0.80077517014069),(3,103,-0.929349650563067),(3,105,-1.87368388927885),(3,108,-0.65248573259682),(3,109,-8),(3,111,0.0830408642841883),(3,112,-0.915173802911466),(3,116,1.44436475722526),(4,90,3.56682790612506),(4,91,1.1514328440199),(4,97,-1.2476119266335),(4,99,1.32259590441603),(4,101,-1.8656727805414),(4,108,-0.172963652455214),(4,113,0.452894680623798),(4,118,3.24829859309671),(5,86,-2.10165715506455),(5,87,-0.755638294625691),(5,89,0.0671330912198247),(5,92,-3.04290139469588),(5,93,-2.98844874416333),(5,99,-2.08243049409467),(5,104,2.47949156163213),(5,114,3.57100894192328),(5,118,2.29812005981628),(6,89,-0.177182836390271),(6,92,-5.12100589007233),(6,94,-1.12678151799066),(6,100,1.74703207495346),(6,101,0.346102786339915),(6,103,1.34219641712699),(6,107,-0.15248573259682),(6,110,1.23217719046602),(6,113,-1.82912686544389),(7,85,-1.74657429731132),(7,86,2.47412030396435),(7,90,1.05897701956236),(7,95,-0.536721396526993),(7,99,2.93195898312326),(7,100,1.0468840601825),(7,104,-0.759247108371227),(7,106,2.99806207464827),(7,108,3.55840479750969),(7,112,-3.35560930204169),(7,116,0.0311670278023626),(8,92,-0.250663777581103),(8,93,-3.67826624347667),(8,95,-0.262909329508347),(8,99,-3.07527390362255),(8,106,-2.17780083620716),(8,107,-3.68236335337382),(8,115,0.868106631672109),(8,116,0.178640095217749),(8,118,2.79030732139042),(9,85,-0.588297677541429),(9,87,-0.776009399700919),(9,98,-4.57448805200354),(9,101,2.06076235236671),(9,103,5.61426129947813),(9,105,1.49380474257637),(9,106,1.39115573595386),(9,113,-0.791497543259987),(10,89,0.0572985015411847),(10,96,-0.644398327585681),(10,106,1.51574755088961),(10,108,4.82428968169195),(10,111,-3.61248359630116),(10,112,0.043717764824366),(10,114,-2.28217413861507),(10,115,-3.49452955717643),(10,116,0.635433515427107),(10,117,2.29937131870479),(11,89,-1.59901730399487),(11,97,4.85974456007569),(11,105,-0.56168553727836),(11,112,0.0279473250526443),(11,115,-2.40859706411939),(12,92,0.849024933622242),(12,93,-0.246749778740806),(12,94,0.71279793694876),(12,97,-0.00675984984893363),(12,98,5.08554338206122),(12,99,0.282067323831904),(12,108,-2.32755516220588),(12,116,-4.19803460798975),(13,86,-1.10319833979308),(13,87,0.704214606158635),(13,90,0.600444044312876),(13,99,1.13549455244606),(13,102,1.21356852931303),(13,104,-4.1529587694937),(13,113,1.94897305215613),(13,116,-2.56984160893582),(13,118,3.76606036561174),(14,90,-3.75325785088656),(14,93,5.19722586748863),(14,95,-5.34485915707877),(14,102,-0.470366527298806),(14,104,-2.47322000793481),(14,106,-1.83599353007599),(14,109,-1.50025940733055),(14,110,2.08966338084048),(14,111,-0.944616534928434),(15,85,-1.23326059755242),(15,92,2.6021607104709),(15,99,-3.15321817682424),(15,101,-1.12475966673788),(15,104,1.88314462721641),(15,108,-0.160267952513199),(15,117,0.643848994415113),(16,86,-0.959196752830592),(16,87,2.12453840754418),(16,88,1.0692312387463),(16,90,-3.10391552476577),(16,91,-5.31365398113956),(16,95,0.794396801660207),(16,97,-3.99594103823969),(16,98,0.63433484908597),(16,99,-2.48062074648274),(16,101,1.51635792107913),(16,108,7.56380657368694),(16,110,-1.99112674336985),(17,89,2.86919003875851),(17,96,-1.88624225592822),(17,99,-0.0328073976866969),(17,101,-0.653729361857967),(17,106,-1.04777672658467),(17,107,-1.37851344340342),(17,109,-3.06266975920896),(18,90,0.303964354380932),(18,91,1.29066591387677),(18,93,-3.15442365794855),(18,99,-1.11838892788476),(18,102,4.21254615924558),(18,103,-1.5926847132786),(18,104,-0.10696737571337),(18,110,-0.848139896847438),(18,111,-1.8015839106418),(18,116,0.350505081331828),(18,117,-2.72434919278542),(18,118,-1.5622425000763),(19,87,-3.56685079500717),(19,89,-0.517365031891842),(19,93,-0.969267860957671),(19,95,0.592287972655416),(19,101,1.90575121311075),(19,105,-6.4470122379223),(19,115,2.32988982818079),(20,88,-4.7782296212653),(20,101,4.67044587542344),(20,103,-1.36364329966124),(20,104,4.33037812433241),(20,105,-1.19170201727348),(20,106,-2.26682332834864),(20,111,0.200888088625751),(20,116,1.56650746177557),(21,86,-0.155186620685446),(21,87,-2.00666829432051),(21,94,-0.659031952879421),(21,96,1.02191228980377),(21,101,1.9040421765801),(21,102,1.21799371318705),(21,105,-1.13904995880001),(21,107,1.38657795953246),(21,108,2.47769096957305),(22,86,0.269554734946745),(22,88,0.999687185277871),(22,91,-0.809579760124516),(22,92,0.0717947935422834),(22,93,2.30323191015351),(22,98,-2.25836970122379),(22,106,-3.57130649739067),(22,115,0.200582903530992),(22,117,-3.62834559160131),(23,85,1.58787804803613),(23,86,1.32255012665181),(23,88,-0.816003906369213),(23,90,-4.22319711905271),(23,97,-3.57065034943693),(23,104,4.11990722373119),(23,112,2.26073488570818),(23,114,3.19438764610736),(23,115,-0.248237556077761),(23,116,0.174703207495346),(24,89,-3.22650074770348),(24,90,-3.84762871181372),(24,91,-0.215704824976348),(24,101,-2.02903836176641),(24,107,0.657605212561418),(24,108,3.62929166539506),(24,110,-0.6386837366863),(24,112,-0.560998870815149),(25,90,0.153202917569506),(25,92,0.616321298867763),(25,94,-1.96211127048555),(25,98,-0.180906094546342),(25,105,-0.247932370983001),(25,108,2.43179113132115),(25,109,0.385143589587085),(25,115,-2.2083346049379),(26,85,-1.75357066560869),(26,87,2.75865962706381),(26,89,-1.25377666554765),(26,95,-4.40183721427046),(26,98,0.211165196691793),(26,100,-0.712836085085604),(26,101,-1.85994293038728),(26,102,2.47073274941252),(26,103,-2.29956968901639),(26,104,5.28568376720481),(26,107,1.25774407177953),(26,109,-0.338557084871975),(26,112,3.95120853297525),(26,113,0.0810800500503557),(26,117,-0.645298623615223),(27,85,0.960570085757012),(27,87,-1.9785149693289),(27,94,1.84820093386639),(27,100,1.55990783410138),(27,102,-1.33857997375408),(27,103,1.13734855189673),(27,104,-0.590838343455306),(27,105,-2.57684560686056),(27,108,-2.39005706961272),(27,110,2.07726523636586),(27,114,5.36911374248482),(28,87,0.772652363658559),(28,88,-1.16855372783593),(28,97,1.24378185369427),(28,99,2.10287789544359),(28,104,-3.80625324259163),(28,113,0.999496444593646),(28,114,-5.01953184606464),(29,88,4.13610492263558),(29,91,0.827585680715354),(29,102,0.34224982451857),(29,105,-3.43166905728324),(29,116,-3.33722952970977),(30,95,5.92681661427656),(30,96,3.661793877987),(30,99,2.4262901699881),(30,101,-4.76172673726615),(30,104,1.71140171514023),(30,109,1.61290322580645),(30,110,3.21885586107974),(30,114,-1.39550462355419),(30,118,-1.63953825495163),(31,85,-0.892796105838191),(31,92,3.41995757927183),(31,94,1.60567796868801),(31,96,3.70215460676901),(31,99,2.30300302133244),(31,103,2.43324076052126),(31,107,-1.02710043641469),(31,108,2.43111972411267),(31,109,-2.47497482222968),(31,111,1.17090365306558),(31,112,0.48841059602649),(31,117,-0.0227439191869876),(32,86,2.16292306283761),(32,87,0.787705618457594),(32,89,2.65267647328105),(32,92,-4.09883419293802),(32,98,0.358943449201941),(32,99,2.46194341868343),(32,104,3.41047395245216),(32,106,1.76007873775445),(32,109,1.42996002075259),(32,116,0.717535935544908),(32,118,-2.16092410046693),(33,96,-0.427556688131352),(33,98,-0.193639942625202),(33,108,3.07303079317606),(33,110,1.66089358195746),(33,111,1.76184118167669),(33,114,-0.45997497482223),(34,85,-0.889744254890591),(34,90,4.46578875087741),(34,99,2.20595416119877),(34,104,-3.00392162846767),(34,109,-1.65949736014893),(35,86,0.134662923062838),(35,87,-1.58452101199377),(35,97,0.0131992553483688),(35,98,2.43991668446913),(35,100,-2.98813592944121),(35,104,-5.62524033326212),(35,107,0.0884426404614391),(35,109,-0.505691702017273),(35,110,-0.327097384563738),(35,112,1.62076174199652),(36,85,0.900395214697714),(36,87,-3.33948026978362),(36,90,2.41042817468795),(36,91,1.00653859065523),(36,104,-5.93314157536546),(36,107,-0.783967101046785),(36,109,-0.610179448835719),(36,112,-1.28943754387036),(36,115,1.66997283852657),(36,117,-1.19792779320658),(36,118,0.883129367961669),(37,85,0.602061525315104),(37,86,-3.21958830530717),(37,87,-0.681363872188483),(37,91,2.96323282570879),(37,99,-2.03466902676473),(37,105,1.1560106204413),(37,111,0.450430310983612),(37,112,0.0908612323374129),(37,118,1.49766533402509),(38,87,1.17319254127628),(38,90,3.37712485122227),(38,103,1.5818811609241),(38,105,4.35488448744163),(38,106,4.17222357860042),(38,111,-0.195463423566393),(38,115,0.865710928678243),(39,87,0.68046357615894),(39,89,-2.09006012146367),(39,91,-3.74607074190497),(39,94,-2.2164067506943),(39,97,-1.44543290505692),(39,98,-1.01664784691916),(39,107,0.786767174291208),(39,108,5.0485320596942),(39,109,-1.55718405713065),(39,111,-1.1713919492172),(39,113,1.75754570146794),(39,116,0.146397289956358),(39,118,-1.56842249824519),(40,88,-1.70258186590167),(40,92,-0.572603534043397),(40,99,1.84481337931455),(40,104,0.711355937376019),(40,110,-1.0563829462569),(40,116,1.61192663350322),(40,118,-4.14342173528245),(41,88,-4.26679280983917),(41,93,1.27759636219367),(41,96,-0.98406170842616),(41,97,-0.150875881221961),(41,100,1.41899624622333),(41,101,-0.841540269173254),(41,104,4.82540360728782),(41,105,3.14226203192236),(41,106,-1.34929960020753),(41,107,-0.397579882198553),(41,109,4.20033875545518),(41,110,0.852534562211982),(41,111,0.453573717459639),(41,112,7.65977202673422),(42,85,1.23180333872494),(42,86,-1.47827082125309),(42,87,2.87147129734184),(42,99,-0.825258644367809),(42,100,-2.21830652790918),(42,103,-1.95276497695853),(42,109,-2.46750541703543),(42,113,-0.9158299508652),(43,85,-1.3776818140202),(43,88,0.975104525894955),(43,89,2.04807428205206),(43,93,-1.86598559526353),(43,97,-1.38917966246529),(43,98,2.61462752159185),(43,101,3.20298623615223),(43,102,1.78678243354595),(43,103,-1.43307290871914),(43,105,0.33112582781457),(43,110,-2.5335932493057),(43,112,-2.40127262184515),(43,114,-0.0280999176000245),(43,116,-0.530487990966521),(44,89,-2.59414960173345),(44,98,6.44844660786767),(44,99,2.34099856563005),(45,87,0.811731315042573),(45,88,-2.93506424146245),(45,90,-1.88650166325877),(45,91,-1.2816248054445),(45,95,1.15161595507675),(45,98,-2.00964384899442),(45,108,3.17248298593097),(45,109,1.32103946043275),(45,112,-2.01841792046876),(45,115,2.73468733787042),(46,85,0.620609149449141),(46,89,-1.31860560930204),(46,91,0.222281563768425),(46,94,0.770493179113132),(46,97,0.927304910428175),(46,100,2.23042237617115),(46,101,0.377071443830683),(46,108,0.824686422315134),(46,112,2.56031983397931),(47,86,3.42577898495437),(47,91,0.898464918973357),(47,92,0.617915890987884),(47,94,1.11620685445723),(47,95,-1.27468184453871),(47,100,3.95975371562853),(47,101,3.00454725791192),(47,104,-1.9000061037019),(47,105,1.46487319559313),(47,108,-0.54643391216773),(47,112,2.49496444593646),(47,114,6.61984618671224),(47,118,3.30555894650105),(48,86,3.80851161229286),(48,91,0.575746940519425),(48,98,0.587954344309824),(48,99,0.571733756523332),(48,100,-2.61307107760857),(48,103,-2.28492080446791),(48,105,-0.860942411572619),(48,106,-3.79638050477615),(48,111,0.428708761864071),(48,115,-0.415852839747307),(49,87,-1.43464461195715),(49,89,1.22743919186987),(49,93,1.04701376384777),(49,94,5.45491653187658),(49,95,-0.494949186681723),(49,102,0.725806451612903),(49,113,2.19251075777459),(49,114,1.64373455000458),(50,89,-4.82702108829005),(50,105,2.35099337748344),(50,107,-0.253425702688681),(51,87,1.34455397198401),(51,92,4.78215124973296),(51,97,-1.28917813653981),(51,98,-0.287644581438642),(51,103,-0.946981719412824),(51,106,2.11760307626576),(51,112,1.99114200262459),(51,118,-1.29209265419477),(52,89,0.0675298318430127),(52,97,0.452436902981658),(52,106,-0.988914151432844),(52,110,-4.48526718955046),(52,111,0.884708700827052),(52,113,2.6108737449263),(52,114,-0.157933286538285),(52,118,-0.303003021332438),(53,88,3.59484389782403),(53,90,-4.61905270546587),(53,92,-1.06408124027223),(53,94,-0.0315866573076575),(53,104,-1.40186010315256),(53,105,3.84215063936277),(53,109,2.89519943845943),(54,85,2.17464217047639),(54,91,-1.85712759788812),(54,94,-0.936841944639424),(54,96,-2.10745567186499),(54,111,1.12090670491653),(54,112,3.73258156071657),(54,113,3.11240730002747),(54,118,0.596987823114719),(55,87,-0.698187200537125),(55,95,0.339976195562609),(55,107,-1.74150059511093),(55,110,0.0738547929319131),(55,117,-0.198828089236122),(56,107,-0.218863490707114),(56,111,2.50891903439436),(56,113,-1.09945219275491),(56,114,0.246299630726035),(57,87,-3.05183568834498),(57,90,4.29042176580096),(57,91,-2.9982528153325),(57,92,0.425916318247017),(57,93,-2.4466689046907),(57,94,-0.475585192419202),(57,95,-0.696829126865444),(57,96,-1.9547410504471),(57,100,-0.655407879879147),(57,102,-1.3342692342906),(57,103,-1.19346446119572),(57,115,-2.04588457899716),(58,86,-2.19000823999756),(58,87,1.64902188177129),(58,89,0.901074251533555),(58,90,-1.00630970183416),(58,95,-2.27841273232215),(58,96,4.99229407635731),(58,101,-0.744140446180609),(58,103,-3.05984679708243),(58,109,2.15704824976348),(58,110,3.30777153843806),(58,113,0.142063661610767),(58,114,3.37511825922422),(58,115,0.256286812952056),(59,85,0.554445020905179),(59,86,-0.0461592455824458),(59,90,-0.694395275734733),(59,91,-4.64941862239448),(59,93,-2.77338480788598),(59,97,-1.32442701498459),(59,98,-0.145344401379437),(59,100,5.01755577257607),(59,102,-2.42629779961547),(59,112,0.11467329935606),(59,114,-1.2267677846614),(60,85,2.06177709280679),(60,87,-2.30849635303812),(60,90,1.36280404065065),(60,91,-1.5446943571276),(60,96,1.34456923123875),(60,100,0.0565050202948092),(60,101,-1.92495498519852),(60,105,-1.70468764305551),(60,107,0.885273293252358),(60,109,-1.18754387035737),(60,110,2.36466566972869),(60,114,4.79995117038484),(61,89,1.81012909329508),(61,94,-3.0591906491287),(61,96,-2.41784417249062),(61,98,1.04564043092135),(61,100,-0.453390606402783),(61,102,2.39104892117069),(61,103,-0.774178289132359),(61,114,0.549485763115329),(61,115,3.72333445234535),(62,93,0.553399761955626),(62,95,0.735114597003082),(62,107,4.03515732291635),(62,109,-3.31771294289987),(62,110,-3.54190191351054),(62,111,-0.32593768120365),(63,87,3.80700857570116),(63,90,1.60573137607959),(63,93,0.250785851619007),(63,97,1.0215842158269),(63,100,-0.545472579119236),(63,103,4.21643726920377),(63,104,-1.59744560075686),(63,108,1.8755912961211),(63,111,1.51747947630238),(63,114,-0.196584978789636),(63,117,-3.38267159031953),(64,87,5.43881801812799),(64,94,-0.636181218909269),(64,99,1.69986571855831),(64,110,-0.573900570696127),(64,112,0.332827234717856),(64,116,-4.27880184331797),(65,87,2.07732627338481),(65,88,-3.81034272286142),(65,90,1.14772484511856),(65,97,6.22093874935148),(65,99,-3.97593615527818),(65,107,-4.08603930784021),(65,110,-8),(65,111,-0.139347514267403),(65,114,-2.46237067781609),(65,116,2.16849269081698),(65,117,-3.62926114688559),(66,85,1.47793511764885),(66,102,2.29926450392163),(66,105,-2.99459822382275),(66,108,2.78757591479232),(66,111,1.12353129673147),(66,115,-1.11905270546587),(66,118,0.949034089175085),(67,86,2.78814050721763),(67,90,-1.50083925901059),(67,92,-1.25475325785089),(67,104,1.98091067232276),(67,109,1.32833338419752),(67,111,-1.79868465224158),(68,87,-3.74988555558947),(68,88,-1.02838221381268),(68,90,0.744956816309091),(68,93,0.131252479628895),(68,95,-1.37629322183905),(68,96,-1.22196111941893),(68,97,2.02757347331156),(68,103,0.144047364726707),(68,107,-0.791764580217902),(68,112,-0.347300637836848),(68,114,0.213301492355113),(69,87,1.2481307412946),(69,88,0.189092684713278),(69,92,0.537736136967071),(69,94,0.633404034546953),(69,95,-1.77671132541887),(69,97,-2.81958220160527),(69,108,1.90839869380779),(69,113,-2.29246650593585),(69,114,-1.51944792016358),(69,118,1.86436048463393),(70,85,0.12015900143437),(70,86,5.42471083712272),(70,87,-3.38067262794885),(70,90,1.94303720206305),(70,96,-3.70860927152318),(70,97,-3.05292672505875),(70,99,-2.11218604083377),(70,105,0.833758049256874),(70,107,0.387966551713614),(70,109,-1.57078768272958),(70,110,-0.906971953489791),(70,111,-1.18856624042482),(71,85,0.415433210242012),(71,93,0.444326609088412),(71,96,3.90294351023896),(71,100,0.238662373729667),(71,104,1.2923062837611),(71,106,0.75769829401532),(71,111,1.64058351390118),(71,113,1.15680410168767),(72,94,2.5554979094821),(72,96,2.36207159642323),(72,99,-1.86293374431593),(72,110,-0.173268837549974),(72,112,-1.83095797601245),(72,114,-0.116046632282479),(72,115,2.4306466872158),(72,116,-3.02636799218726),(73,88,-0.514725180822169),(73,94,-1.28789635914182),(73,99,-1.19563890499588),(73,100,0.0132755516220588),(73,106,-0.217024750511185),(73,110,1.27674184392834),(73,115,-2.60110782189398),(74,90,2.72683645130772),(74,94,0.863338114566484),(74,99,-2.02623828852199),(74,102,-3.17033906064028),(74,106,0.137104403820917),(74,107,2.34969634083071),(74,110,-2.55404065065462),(74,113,3.09060945463424),(74,116,-2.20145268105106),(75,85,-1.40449232459487),(75,86,-1.54179509872738),(75,93,-0.944555497909482),(75,98,-1.88711966307566),(75,103,-0.690160832544938),(75,105,1.56826990569781),(75,111,-1.40560625019074),(75,117,-1.4296853541673),(76,86,0.610827967162084),(76,89,2.58453627124851),(76,92,0.513092440565203),(76,94,2.81090731528672),(76,99,1.50964384899442),(76,101,0.715659047212134),(76,103,-0.0279625843073825),(76,106,2.42980742820521),(76,110,-0.0248268074587237),(76,113,-2.77981658375805),(77,88,2.02505569627979),(77,91,-1.96076845606861),(77,93,1.09271523178808),(77,98,0.906247138889737),(77,101,1.10698263496811),(77,102,2.25498214667196),(77,103,0.630970183416242),(77,104,1.1962492751854),(77,105,3.46493423261208),(77,109,-2.6278801843318),(78,88,0.0458693197424238),(78,93,-2.09355449079867),(78,94,3.57224494155705),(78,101,0.219977416302988),(78,104,0.32799768059328),(78,110,0.881633960997345),(78,114,-1.43627735221412),(78,116,1.53847621082186),(78,117,2.08357493820002),(78,118,0.876644184698019),(79,87,-0.332193975646229),(79,92,-2.07163457136753),(79,94,4.50759147923215),(79,107,2.60925626392407),(79,108,1.44273201696829),(79,114,3.38524277474288),(79,118,-1.19726401562548),(80,87,-1.25798821985534),(80,88,-0.593890194402905),(80,91,0.866054261909848),(80,99,-2.91212195196387),(80,101,-0.991851557969909),(80,107,3.31666005432295),(80,113,-0.960303048799097),(81,85,0.684949797051912),(81,86,-1.90847499008148),(81,90,-0.551705984679708),(81,93,-1.34228034302805),(81,96,-1.11018707846309),(81,97,-5.9415494247261),(81,106,2.28973509933775),(81,107,1.17327646717734),(81,110,3.38551744132817),(81,115,-0.261139255958739),(82,86,0.168843653675954),(82,92,3.25800347911008),(82,110,-1.49158452101199),(82,112,-2.53028962065493),(83,87,2.6989806817835),(83,91,0.253532517471847),(83,93,1.9248863185522),(83,101,-2.98764000366222),(83,103,-0.196920682393872),(83,105,2.13899655140843),(83,108,0.0746940519425031),(84,85,-2.23982970671712),(84,86,0.334330271309549),(84,89,-1.59176915799432),(84,95,-2.80686361278115),(84,99,3.60549485763115),(84,104,0.425542466505936),(84,111,4.27853480636006),(84,113,-1.95455793939024),(84,114,-0.385601367229225),(10,119,-1.00006103701895),(119,109,3.88548692281869),(58,120,0.303910946989349),(120,118,-4.19885097811823),(95,104,-0.863612781151768)]
orgname='BHNEAT_13_11'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()