edge = [(0,85,0.19052705465865),(0,89,-3.29024628437147),(0,90,0.904034546952727),(0,93,-1.8623004852443),(0,98,1.26364940336314),(0,101,-3.11848811304056),(0,105,-1.0135349589526),(0,108,2.07823419904172),(0,113,0.215796380504776),(0,114,-0.967650379955443),(0,117,0.172658467360454),(0,118,1.88831751457259),(1,86,0.671956541642506),(1,92,1.41918698690756),(1,98,2.05107272560808),(1,102,-1.24260689107944),(1,104,0.348704489272744),(1,107,-0.043855098117008),(1,108,-1.39797662282174),(1,109,-2.01315347758415),(1,113,-2.1563310647908),(2,87,1.88630329294717),(2,88,-0.535523545030061),(2,100,-0.736899929807428),(2,106,-2.563890499588),(2,108,-0.742164372692038),(2,110,-3.04934842982269),(2,113,-1.31432538834803),(2,118,-2.44814905240028),(3,89,1.11890011291849),(3,92,-1.80706198309275),(3,97,-1.39233069856868),(3,99,-1.29888302255318),(3,101,0.492507705923643),(3,103,-0.834055604724265),(3,105,3.04509109775079),(3,108,-0.531235694448683),(3,109,-2.41621143223365),(3,111,1.09831537827692),(3,112,-1.07525864436781),(3,116,1.56036561174352),(4,90,0.671498764000366),(4,91,-0.23398541215247),(4,97,0.942304757835627),(4,99,1.63753166295358),(4,101,1.68366039002655),(4,108,3.10617389446699),(4,113,0.634144108401746),(4,118,-0.907025360881375),(5,86,-0.0898617511520737),(5,87,1.17355876339),(5,89,-1.25099948118534),(5,92,0.402066103091525),(5,93,-0.916562395092624),(5,99,0.924069948423719),(5,104,-1.70749534592731),(5,114,-0.32853175450911),(5,118,-0.927426984466079),(6,89,0.490844447157201),(6,92,-2.8659932248909),(6,94,2.4951017792291),(6,100,-1.42675557725761),(6,101,-1.82746360667745),(6,103,-2.51759392071291),(6,107,0.519531846064638),(6,110,2.13403729361858),(6,113,0.489562669759209),(7,85,-2.4082003234962),(7,86,2.42963957640309),(7,90,1.15877254554888),(7,95,2.25269325846126),(7,99,-1.87058626056703),(7,100,2.19937742240669),(7,104,-0.158940397350993),(7,106,1.68279061250648),(7,108,-2.04045228431043),(7,112,0.41094698934904),(7,116,1.05601672414319),(8,92,1.5090334788049),(8,93,-0.0237128818628498),(8,95,-0.151463362529374),(8,99,-1.74968718527787),(8,106,1.05504013183996),(8,107,1.77440717795343),(8,115,-1.38076418347728),(8,116,0.477111117893002),(8,118,-1.58177434614093),(9,85,-1.31597338785974),(9,87,-2.32485427411725),(9,98,2.64511551255837),(9,101,-1.46644489883114),(9,103,0.782952360606708),(9,105,-2.40633869441816),(9,106,-1.66473891415143),(9,113,0.290215765861995),(10,89,-2.56837672048097),(10,96,0.705404828028199),(10,106,0.032090212714011),(10,108,1.74423963133641),(10,109,0.0461745048371837),(10,111,1.47003082369457),(10,112,-1.01962340159307),(10,114,0.934003723258156),(10,115,-0.469878231147191),(10,116,-2.36823633533738),(10,117,1.24404126102481),(11,89,-1.12692648091067),(11,97,-1.55078279976806),(11,105,-2.70992156743065),(11,112,1.32485427411725),(11,115,2.04237495040742),(12,92,-2.5234534745323),(12,93,2.85839411603137),(12,94,0.75922421948912),(12,97,-0.317285683767205),(12,98,1.37807855464339),(12,99,-0.0200811792352061),(12,108,-1.82209234900967),(12,116,-0.2383342997528),(13,86,1.69084749900815),(13,87,-0.439100314340648),(13,90,2.5585497604297),(13,99,1.52868739890744),(13,102,-1.22923978392895),(13,104,-1.80538346507157),(13,113,0.629505294961394),(13,116,1.92408520767846),(13,118,-0.2203436384167),(14,90,-3.34791100802637),(14,93,-0.709082308420057),(14,95,-2.13232825708792),(14,102,-2.58815271462142),(14,104,0.818887905514694),(14,106,1.58949552903836),(14,109,0.82998138370922),(14,110,-0.879100924710837),(14,111,1.5226905117954),(15,85,-0.118991668446913),(15,92,0.293633838923307),(15,99,-1.47798089541307),(15,101,1.63418988616596),(15,104,0.600802636799219),(15,108,2.18831446272164),(15,117,-2.35496078371532),(16,86,0.441679128391369),(16,87,-2.89927365947447),(16,88,1.90185247352519),(16,90,0.625446333201086),(16,91,1.00755333109531),(16,95,-2.92074343089084),(16,97,-1.9504074221015),(16,98,-2.16829432050539),(16,99,-1.39638966032899),(16,101,-1.30446790978729),(16,108,2.98568681905576),(16,110,1.8691671498764),(17,89,0.0118564409314249),(17,96,0.990890224921415),(17,99,-0.981383709219642),(17,101,-1.25260170293283),(17,106,1.22458571123386),(17,107,1.43624683370464),(17,109,-2.14787743766594),(18,90,0.462553788872951),(18,91,1.782586138493),(18,93,0.453672902615436),(18,99,-1.20227668080691),(18,102,0.2008270516068),(18,103,-2.53346354564043),(18,104,2.12240974150822),(18,110,-0.956785790581988),(18,111,-0.948606830042421),(18,116,2.81266212958159),(18,117,2.34107486190374),(18,118,1.84351634266182),(19,87,0.612979522080142),(19,89,-0.537385174108097),(19,93,0.787072359385968),(19,95,-2.12431714835047),(19,101,-1.58819849238563),(19,105,-0.00817896053956724),(19,115,0.961516159550767),(20,88,-0.0494857631153294),(20,101,-0.409207434308908),(20,103,-0.217398602252266),(20,104,-2.91448713644826),(20,105,-2.767326883755),(20,106,-0.551149021881771),(20,111,-2.34940641499069),(20,116,-2.63345744193854),(21,86,-1.24048585467086),(21,87,0.0356151005584887),(21,94,-1.17357402264473),(21,96,-1.85071871089816),(21,101,1.28516495254372),(21,102,0.366206854457228),(21,105,-1.98040711691641),(21,107,-0.553025910214545),(21,108,-2.49270607623524),(22,86,0.150791955320902),(22,88,-1.74724570451979),(22,91,1.18184453871273),(22,92,1.70642719809564),(22,93,0.746421704763939),(22,98,-2.41346476638081),(22,106,-2.31623279519028),(22,115,0.899563585314493),(22,117,1.35982848597674),(23,85,-0.901882992034669),(23,86,-3.0218054750206),(23,88,2.54995880001221),(23,90,1.15775017548143),(23,97,-2.12868129520554),(23,104,-1.82975249488815),(23,112,0.767769402142399),(23,114,2.1132847071749),(23,115,0.660954618976409),(23,116,-0.810434278389843),(24,89,-2.09978026673177),(24,90,1.02766502883999),(24,91,-2.49909970397046),(24,101,-0.160390026551103),(24,107,1.50039674062319),(24,108,1.4865871150853),(24,110,0.120242927335429),(24,112,0.135929441206092),(25,90,1.53831598864711),(25,92,0.1495864741966),(25,94,0.765144810327464),(25,98,-1.97459334086123),(25,105,-1.16394543290506),(25,108,-1.52493362224189),(25,109,1.73932615131077),(25,115,-0.8465987121189),(26,85,2.83553575243385),(26,87,1.1828363902707),(26,89,-0.914334543900876),(26,95,2.11871700186163),(26,98,-0.232688375499741),(26,100,-0.940122684408093),(26,101,0.886944181646168),(26,102,-1.1552476577044),(26,103,-0.702490310373241),(26,104,-0.684087649159215),(26,107,2.97210608233894),(26,109,0.546098208563494),(26,112,1.45399334696493),(26,113,-2.16092410046693),(26,117,0.915646839808344),(27,85,-0.659581286049989),(27,87,1.37072359385968),(27,94,0.126575518051698),(27,100,-1.67534409619434),(27,102,0.605792413098544),(27,103,0.864604632709738),(27,104,-2.14687032685324),(27,105,-1.02735984374523),(27,108,1.76369518112735),(27,110,-1.40134891811884),(27,114,-0.129245887630848),(28,87,-1.63959166234321),(28,88,-1.64346751304666),(28,97,-0.693914609210486),(28,99,-0.267586291085543),(28,104,2.29372539445174),(28,113,1.18112735374004),(28,114,0.49832148197882),(29,88,-2.28899502548296),(29,91,3.09094515823847),(29,102,-0.334269234290597),(29,105,1.91555528427992),(29,116,-0.517014069032868),(30,95,3.2008270516068),(30,96,-0.307306131168554),(30,99,-0.0453352458265938),(30,101,1.20322275460067),(30,104,-1.24721518601032),(30,109,1.79467146824549),(30,110,0.986999114963225),(30,114,1.52903836176641),(30,118,1.28341013824885),(31,85,2.35264137699515),(31,92,2.64255195776238),(31,94,1.02929776909696),(31,96,-0.747672963652455),(31,99,0.204092532120731),(31,103,-1.8286080507828),(31,107,1.3581652272103),(31,108,3.33309427167577),(31,109,-1.36384166997284),(31,111,1.57527390362255),(31,112,0.520569475386822),(31,117,-0.799279763176366),(32,86,-2.43072298348949),(32,87,0.28675191503647),(32,89,-2.1064180425428),(32,92,1.07809686574908),(32,98,-1.74492629779962),(32,99,0.131550035096286),(32,104,-0.300195318460646),(32,106,2.21832941679128),(32,109,1.95922727134007),(32,116,1.16891994994964),(32,118,1.07792901394696),(33,96,1.09482100894192),(33,98,-0.295922727134007),(33,108,-2.38558610797449),(33,110,0.294091616565447),(33,111,-1.18384350108341),(33,114,1.36541337321085),(34,85,2.82638019959105),(34,90,-1.72542497024445),(34,99,-2.86042359691153),(34,104,1.50328073976867),(34,109,-1.79888302255318),(35,86,1.60596026490066),(35,87,-2.15149388103885),(35,97,1.9922482985931),(35,98,-0.946378978850673),(35,100,-2.25128940702536),(35,104,-0.804574724570452),(35,107,-1.56398205511643),(35,109,-1.77155369731742),(35,110,0.391842402417066),(35,112,-1.54332102420118),(36,85,1.29381694998016),(36,87,1.23052156132694),(36,90,-1.23004852443007),(36,91,1.37585070345164),(36,104,0.044022949919126),(36,107,-1.06794946134831),(36,109,2.14064455092013),(36,112,-1.05442976165044),(36,115,-1.97302163762322),(36,117,1.13417462691122),(36,118,0.656010620441298),(37,85,2.26909695730461),(37,86,-0.825601977599414),(37,87,-1.90420239875484),(37,91,-2.02536088137455),(37,99,-0.575441755424665),(37,105,2.00396740623188),(37,111,-2.06112857448042),(37,112,-0.526474806970427),(37,118,-1.50520340586566),(38,87,-0.971877193517868),(38,90,2.07150486770226),(38,103,0.225562303537095),(38,105,1.1971343119602),(38,106,2.41874446852016),(38,111,1.98680074465163),(38,115,2.29660939359722),(39,87,1.82868434705649),(39,89,2.35862300485244),(39,91,-2.83552049317911),(39,94,1.74890896328623),(39,97,-2.85245826593829),(39,98,2.39565721610157),(39,107,0.842646565141759),(39,108,3.15161595507675),(39,109,-1.14911343729972),(39,111,-1.14156010620441),(39,113,1.37736136967071),(39,116,-0.152302621539964),(39,118,1.02088991973632),(40,88,1.89616077150792),(40,92,0.670720542008728),(40,99,-1.97152623065889),(40,104,-0.54795983764153),(40,110,-1.46105838190863),(40,116,-2.19983520004883),(40,118,-0.965071565904721),(41,88,0.747856074709311),(41,93,-1.13168736838893),(41,96,-1.74790185247353),(41,97,1.79071932126835),(41,100,-2.10303048799097),(41,101,-0.899258400219733),(41,104,-0.93908505508591),(41,105,0.183858760338145),(41,106,-1.50039674062319),(41,107,-2.17970824304941),(41,109,3.13530381176183),(41,110,-1.64972380748924),(41,111,-0.360286263618885),(41,112,1.11842707602161),(42,85,1.7871639149144),(42,86,-2.43708609271523),(42,87,1.17180394909513),(42,99,2.40539262062441),(42,100,0.787194433423872),(42,103,-1.44314401684622),(42,109,-3.40530106509598),(42,113,-1.85518967253639),(43,85,0.159764397106845),(43,88,-1.82866908780175),(43,89,-1.37650685140538),(43,93,0.334208197271645),(43,97,0.374324777977844),(43,98,-2.00396740623188),(43,101,-1.55424665059359),(43,102,0.323358867152928),(43,103,-1.27117221594897),(43,105,1.60367137668996),(43,110,2.45553453169347),(43,112,-0.910809656056398),(43,114,-1.44335764641255),(43,116,-0.87130344553972),(44,89,-1.64531388286996),(44,98,2.2558824427015),(44,99,-0.644993438520463),(45,87,1.2643971068453),(45,88,2.15599536118656),(45,90,-1.90433973204749),(45,91,-1.26184881130406),(45,95,0.541062654499954),(45,98,1.12633136997589),(45,108,-1.86219367046113),(45,109,2.66156498916593),(45,112,2.03404339732047),(45,115,-0.0478530228583636),(46,85,1.34916226691488),(46,89,0.250160222174749),(46,91,0.975249488814966),(46,94,0.916638691366314),(46,97,0.876094851527451),(46,100,-2.10803552354503),(46,101,-1.54498428296762),(46,108,-1.24492629779962),(46,112,0.0671864986114078),(47,86,1.49398785363323),(47,91,1.66827906125065),(47,92,1.35256508072146),(47,94,-0.567766350291452),(47,95,-2.59857478560747),(47,100,-0.256111331522568),(47,101,2.34542374950407),(47,104,-1.0033722952971),(47,105,-0.614429151280251),(47,108,0.822168645283364),(47,112,2.47579882198553),(47,114,-0.528580584124271),(47,118,0.765007477034822),(48,86,1.17792291024506),(48,91,-1.6892605365154),(48,98,2.63368633075961),(48,99,-0.72194586016419),(48,100,-0.825357829523606),(48,103,0.71599475081637),(48,105,-0.778084658345287),(48,106,-1.06138798181097),(48,111,-2.56234931485946),(48,115,-0.0531022064882351),(49,87,-1.30959501937925),(49,89,-0.97605822931608),(49,93,0.925366985076449),(49,94,-0.224539933469649),(49,95,-1.2727896969512),(49,102,-0.899212622455519),(49,113,-1.61380352183599),(49,114,0.757744071779534),(50,89,0.612063966795862),(50,105,0.943037202063051),(50,107,-0.740424817651906),(51,87,2.02687154759362),(51,92,0.302774132511368),(51,97,-2.18419446394238),(51,98,-0.280434583574938),(51,103,0.0360728782006287),(51,106,-0.571489608447523),(51,112,1.58673360393078),(51,118,1.34592730491043),(52,89,0.382976775414289),(52,97,1.92973113193152),(52,106,-0.0281991027558214),(52,110,-2.33130893887143),(52,111,1.62552262947478),(52,113,1.40867336039308),(52,114,1.77039399395734),(52,118,1.54168828394421),(53,88,1.02673421430097),(53,90,0.185628833887753),(53,92,-0.530274361400189),(53,94,-1.41911069063387),(53,104,0.833811456648457),(53,105,0.0990936002685628),(53,109,-1.05633716849269),(54,85,-1.26860866115299),(54,91,2.67387920773949),(54,94,3.26531266212958),(54,96,0.168462172307505),(54,111,-1.63884395886105),(54,112,0.397595141453292),(54,113,0.915204321420942),(54,118,2.1274605548265),(55,87,-2.9640186773278),(55,95,-0.420773949400311),(55,107,-1.31626331369976),(55,110,1.79825739310892),(55,117,-0.322641682180242),(56,107,-1.58586382641072),(56,111,1.77730643635365),(56,113,0.576067384868923),(56,114,0.877574999237037),(57,87,1.99798577837458),(57,90,3.05081331827754),(57,91,0.175176244392224),(57,92,2.58708456678976),(57,93,-0.865413373210852),(57,94,-1.71919919431135),(57,95,2.43002105777154),(57,96,-1.79596850489822),(57,100,1.1089053010651),(57,102,0.201193273720511),(57,103,3.06230353709525),(57,115,-1.95196386608478),(58,86,-0.790566728720969),(58,87,2.66983550523392),(58,89,0.499298074282052),(58,90,-1.09622486037782),(58,95,1.51522873622852),(58,96,2.59056367687002),(58,101,-2.8389690847499),(58,103,2.76323740348521),(58,109,-0.86863307596057),(58,110,-1.77536851100192),(58,113,1.89768669698172),(58,114,-1.48513748588519),(58,115,-0.622409741508225),(58,118,1.33457441938536),(59,85,-2.37751396221809),(59,86,-2.32987456892605),(59,90,2.42185735648671),(59,91,-0.782799768059328),(59,93,2.4445020905179),(59,97,0.964873195593127),(59,98,0.900219733268227),(59,100,-0.897503585924863),(59,102,-0.106173894466994),(59,112,-1.00421155430769),(59,114,1.09477523117771),(60,85,-1.75995666371654),(60,87,-1.33707693716239),(60,90,1.27349162266915),(60,91,-0.0732444227423933),(60,96,0.504745628223518),(60,100,-0.791894283883175),(60,101,-2.8328653828547),(60,105,1.49487289040803),(60,107,-0.577593310342723),(60,109,1.44357127597888),(60,110,-0.69808038575396),(60,114,-1.10739463484603),(61,89,2.14099551377911),(61,94,-0.695684682760094),(61,96,2.15527817621387),(61,98,-1.51753288369396),(61,100,0.737708670308542),(61,102,1.74298837244789),(61,103,0.975310525833918),(61,114,1.53761406292917),(61,115,-1.59222693563646),(62,93,0.358867152928251),(62,95,-2.66504409924619),(62,107,1.37440107425153),(62,109,-0.249763481551561),(62,110,1.03274636066774),(62,111,-2.23043000579852),(63,87,0.307657094027528),(63,90,-1.20168156987213),(63,93,1.29718924527726),(63,97,0.71744438001648),(63,100,1.99888607440413),(63,103,1.64831995605335),(63,104,-1.94085512863552),(63,108,-1.80228583635975),(63,111,0.485229041413617),(63,114,1.79253517258217),(63,117,0.292092654194769),(64,87,2.13316751609851),(64,94,0.0662709433271279),(64,99,0.305093539231544),(64,110,0.0863216040528581),(64,112,-2.01028473769341),(64,116,-1.32470168156987),(65,87,1.39504684591205),(65,88,0.526718955046235),(65,90,-2.41325113681448),(65,97,1.15791802728355),(65,99,-1.44457838679159),(65,107,-0.402340769676809),(65,110,-0.119418927579577),(65,111,0.252967925046541),(65,114,1.23509933774834),(65,116,0.758522293771172),(65,117,2.1446882534257),(66,85,1.13434247871334),(66,102,2.94166386913663),(66,105,0.852717673268838),(66,108,-1.04638813440352),(66,111,0.653813287759026),(66,115,2.02534562211982),(66,118,-2.14111758781701),(67,86,-1.3752708517716),(67,90,2.40934476760155),(67,92,0.265755180516984),(67,104,0.82311471907712),(67,109,0.915402691732536),(67,111,3.16768395031587),(68,87,0.928098391674551),(68,88,-0.838862269966735),(68,90,-0.208960234382153),(68,93,0.00192266609698782),(68,95,-1.74352244636372),(68,96,2.52706991790521),(68,97,-2.23209326456496),(68,103,2.20336008789331),(68,107,2.27477340006714),(68,112,-1.13263344218268),(68,114,-1.02105777153844),(69,87,0.179921872615741),(69,88,0.0603350932340465),(69,92,3.06907864619892),(69,94,-0.686330759605701),(69,95,-0.198599200415052),(69,97,-0.0192266609698782),(69,108,0.919278542435988),(69,113,-2.63126010925626),(69,114,1.70453505050813),(69,118,-0.817896053956725),(70,85,-0.357799005096591),(70,86,0.949827570421461),(70,87,0.256004516739402),(70,90,2.29754020813623),(70,96,-0.00350962858973968),(70,97,-2.22212897122105),(70,99,2.10086367381817),(70,105,-1.08310190130314),(70,107,-1.10386974700156),(70,109,0.97727896969512),(70,110,0.0257881405072176),(70,111,0.624195074312571),(71,85,0.136051515243995),(71,93,-0.651020844141972),(71,96,-0.831385235145116),(71,100,-0.132023071993164),(71,104,2.34298226874599),(71,106,0.235541856135746),(71,111,-1.44413586840419),(71,113,0.171361430707724),(72,94,0.951902829065828),(72,96,0.722113711966307),(72,99,2.00627155369732),(72,110,-1.45420697653127),(72,112,1.02571184423353),(72,114,-1.53111362041078),(72,115,2.92303231910154),(72,116,2.88177129428999),(73,88,-0.889156773583178),(73,94,0.381542405468917),(73,99,-0.193029572435682),(73,100,0.291070284127323),(73,106,0.0778221991637928),(73,110,-0.65652943510239),(73,115,2.20090334788049),(74,90,2.47604297006134),(74,94,-0.730185857722709),(74,99,2.55249183629872),(74,102,-1.57881405072176),(74,106,-0.253059480574969),(74,107,0.28354747154149),(74,110,2.92033143101291),(74,113,1.09324930570391),(74,116,-0.258552812280648),(75,85,0.373577074495682),(75,86,0.476393932920316),(75,93,-0.599200415051729),(75,98,1.95835749382),(75,103,-0.815424054689169),(75,105,0.606067079683828),(75,111,1.26313058870205),(75,117,0.78743858149968),(76,86,-0.379589220862453),(76,89,0.644474623859371),(76,92,2.46589556566057),(76,94,-2.35854670857875),(76,99,1.71858882412183),(76,101,-0.343333231604968),(76,103,0.00576799829096347),(76,106,0.633030182805872),(76,110,1.29964598529008),(76,113,0.151066621906186),(77,88,-2.07766960661641),(77,91,0.280968657490768),(77,93,3.04321420941801),(77,98,0.391170995208594),(77,101,0.433408612323374),(77,102,0.548234504226814),(77,103,1.2892544328135),(77,104,0.423749504074221),(77,105,-1.96766563921018),(77,109,0.143925290688803),(78,88,-1.21897030549028),(78,93,0.21950437940611),(78,94,2.03695791497543),(78,101,-3.04930265205847),(78,104,-2.20422986541337),(78,110,-0.479140598773156),(78,114,-0.494399853511155),(78,116,-0.603427228614154),(78,117,-0.568941312906278),(78,118,-1.37401959288308),(79,87,0.469954527420881),(79,92,0.242164372692038),(79,94,-0.300973540452284),(79,107,-0.641361735892819),(79,108,0.85003204443495),(79,114,0.268089846491897),(79,118,-1.15192114017151),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,-1.25064851832636),(80,99,2.29889828180792),(80,101,-0.849681081575976),(80,107,-1.0822016052736),(80,113,1.64792321543016),(81,85,-0.658742027039399),(81,86,-1.22539445173498),(81,90,-0.359904782250435),(81,93,-0.136844996490371),(81,96,-2.37371440778832),(81,97,-2.51451155125584),(81,106,2.36449781792657),(81,107,2.03671376689962),(81,110,-0.502792443617054),(81,115,-2.68854335154271),(82,86,-1.41904965361492),(82,92,-2.6186254463332),(82,110,-0.835581530198065),(82,112,1.18475905636769),(83,87,-0.97460860011597),(83,91,-0.847025971251564),(83,93,-1.2229529709769),(83,101,0.0894802697836237),(83,103,-1.46945097201453),(83,105,-1.08703878902554),(83,108,1.8877986999115),(84,85,-0.752616962187567),(84,86,2.47581408124027),(84,89,-0.400769066438795),(84,95,0.699209570604572),(84,99,-1.13173314615314),(84,104,-0.818506424146245),(84,111,1.77173680837428),(84,113,-0.416776024658956),(84,114,0.571092867824335)]
orgname='BHNEAT_5_2'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()