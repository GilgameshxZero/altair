edge = [(0,85,1.17153691213721),(0,89,0.513702810754723),(0,90,-1.1781594286935),(0,93,-1.93696401867733),(0,98,0.375812555314798),(0,101,-0.67528305917539),(0,105,-2.17403180028687),(0,108,-0.609523300881985),(0,113,1.38364818262276),(0,114,-1.78366191595202),(0,117,1.41325876644185),(0,118,2.23322244941557),(1,86,-2.23050630207221),(1,92,2.85984374523148),(1,98,1.94975890377514),(1,102,-3.73488570818201),(1,104,0.552179021576586),(1,107,2.41963713492233),(1,108,-1.07439649647511),(1,109,1.01458021790216),(1,113,-0.832651753288369),(2,87,-1.81744590594195),(2,88,0.608661152989288),(2,100,1.17648091067232),(2,106,-1.14964751121555),(2,108,-0.433530686361278),(2,110,0.909550767540513),(2,113,-2.32934812463759),(2,118,1.28854487746818),(3,89,-1.83822901089511),(3,92,1.15903958250679),(3,97,-1.52072969756157),(3,99,-2.56680501724296),(3,101,-2.98878444776757),(3,103,-0.228904080324717),(3,105,-1.9137623218482),(3,108,-1.87489700003052),(3,109,3.06337168492691),(3,111,-1.03295999023408),(3,112,1.45091097750786),(3,116,-2.06231116672262),(4,90,-0.98589281899472),(4,91,0.456259346293527),(4,97,0.931691946165349),(4,99,0.656010620441298),(4,101,-0.581568346201971),(4,108,-1.34313486129337),(4,113,1.85806604205451),(4,118,-3.79431287575915),(5,86,-1.00709555345317),(5,87,-2.19109164708396),(5,89,-1.41732535782952),(5,92,0.00627918332468647),(5,93,0.152676473281045),(5,99,2.19650868251595),(5,104,2.14307840205084),(5,114,-0.193952757347331),(5,118,0.163487655262917),(6,89,-0.592242194891202),(6,92,0.263611255226295),(6,94,2.22411267433699),(6,100,0.494239631336405),(6,101,-0.495551927243874),(6,103,2.74914548173467),(6,107,0.224120303964354),(6,110,0.898319956053346),(6,113,1.98755607776116),(7,85,1.82026123844111),(7,86,-0.130901516769921),(7,90,-0.298768578142643),(7,95,-1.0253990295114),(7,99,-2.44369335001679),(7,100,-0.896244697408978),(7,104,0.53179265724662),(7,106,-3.35045930356761),(7,108,-0.745773186437574),(7,112,0.724417859431745),(7,116,0.417088839381085),(8,92,2.37447737052522),(8,93,0.3412579729606),(8,95,-0.065225684377575),(8,99,-2.02372814111759),(8,106,-0.326891384624775),(8,107,1.41848506118961),(8,115,-0.947111423078097),(8,116,0.422368541520432),(8,118,-0.432592242194891),(9,85,-1.26767784661397),(9,87,0.37122714926603),(9,98,3.18082979827265),(9,101,-0.596659749137852),(9,103,1.52828302865688),(9,105,-1.58674886318552),(9,106,2.4935758537553),(9,113,-0.281121250038148),(10,89,1.01251258888516),(10,96,-0.568819238868374),(10,106,1.2721488082522),(10,108,1.69575334940641),(10,109,-0.777100436414685),(10,111,0.611384929960021),(10,112,0.769638660847804),(10,114,-1.87195196386608),(10,115,-0.471076082644124),(10,116,-0.0856349375896481),(10,117,-1.01182592242195),(11,89,1.18009735404523),(11,97,2.51213873714408),(11,105,0.622203741569262),(11,112,-0.0245902890102847),(11,115,3.77327799310282),(12,92,0.830721457564012),(12,93,0.416806543168432),(12,94,-2.83992278817103),(12,97,-0.814668721579638),(12,98,-1.9033021027253),(12,99,-1.39438306833094),(12,108,-0.335489974669637),(12,116,2.00560014648885),(13,86,-0.464590899380474),(13,87,-1.26744132816553),(13,90,-1.44772179326762),(13,99,0.414281136509293),(13,102,-1.25563829462569),(13,104,-2.83748130741295),(13,113,-1.57708975493637),(13,116,2.12948240607929),(13,118,1.32592242194891),(14,90,0.574327829828791),(14,93,-0.809900204474014),(14,95,-1.60059663686026),(14,102,-0.233954893642994),(14,104,0.62533951841792),(14,106,-1.51171910763878),(14,109,-0.311433759575182),(14,110,-0.551049836725974),(14,111,-2.35444196905423),(15,85,-0.502616962187567),(15,92,-0.00449385052034063),(15,99,1.98302407910398),(15,101,-0.853488265633106),(15,104,-1.11558885464034),(15,108,0.792329172643208),(15,117,-2.44946897793512),(16,86,-1.32445753349406),(16,87,-3.21279793694876),(16,88,-1.19589831232643),(16,90,-0.265366069521165),(16,91,-0.0686895352031005),(16,95,-0.61375774407178),(16,97,0.217482528153325),(16,98,-1.46855830561235),(16,99,2.43917661061434),(16,101,-2.97925504318369),(16,108,-1.40620136112552),(16,110,-0.795434430982391),(17,89,0.557756279183325),(17,96,-1.26948606830042),(17,99,0.91918698690756),(17,101,0.974257637256996),(17,106,-2.27739036225471),(17,107,0.331606494338817),(17,109,0.212424085207678),(18,90,0.359027375103),(18,91,-1.40142521439253),(18,93,0.604640339365825),(18,99,0.60956144901883),(18,102,-3.07360301522874),(18,103,2.42130039368877),(18,104,-0.0238578447828609),(18,110,-1.13422040467544),(18,111,2.81761375774407),(18,116,-2.10583819086276),(18,117,-1.59614093447676),(18,118,-0.575304422132023),(19,87,3.25225836970122),(19,89,-1.51604510635701),(19,93,1.32006286812952),(19,95,-1.46710104678488),(19,101,-0.369441816461684),(19,105,-1.83520004882961),(19,115,-0.581461531418805),(20,88,0.593028046510209),(20,101,0.0506988738670003),(20,103,0.63266396069216),(20,104,2.69237342448195),(20,105,0.47286141544847),(20,106,0.0530945768608662),(20,111,-1.3615375225074),(20,116,3.68999298074282),(21,86,-1.08442945646535),(21,87,-0.89455854976043),(21,94,-1.43491164891507),(21,96,-0.881931516464736),(21,101,1.33580278939177),(21,102,-1.97143467513047),(21,105,-2.23206274605548),(21,107,-1.66823328348643),(21,108,-0.936239204077273),(22,86,-0.504387035737174),(22,88,1.26431318094424),(22,91,-0.459570604571673),(22,92,2.19071779534288),(22,93,1.33236945707572),(22,98,0.191633350627155),(22,106,1.60290078432569),(22,115,-1.00183874019593),(22,117,1.75065614795373),(23,85,-0.734496597186194),(23,86,0.578844569231239),(23,88,0.162869655446028),(23,90,0.0443586535233618),(23,97,1.66676076540422),(23,104,-3.34304330576495),(23,112,-0.556993316446425),(23,114,1.94252601702933),(23,115,-0.102595599230933),(23,116,0.804704428235725),(24,89,-2.67728202154607),(24,90,0.83455153050325),(24,91,1.4907223731193),(24,101,-0.939489425336467),(24,107,0.844904934842982),(24,108,-0.654347361674856),(24,110,2.0586718344676),(24,112,-2.26793725394452),(25,90,1.73229163487655),(25,92,1.96378978850673),(25,94,2.60811944944609),(25,98,-0.634640034180731),(25,105,-2.14278084658345),(25,108,-0.940542313913389),(25,109,0.380237739188818),(25,115,-0.183179723502304),(26,85,-1.00838496047853),(26,87,1.25769066438795),(26,89,-1.05378887295145),(26,95,-1.84054078798791),(26,98,1.54834894863735),(26,100,1.39288003173925),(26,101,0.340845973082675),(26,102,3.25875118259224),(26,103,-1.38863795892209),(26,104,1.88104647968993),(26,107,-2.00046540726951),(26,109,2.18844416638691),(26,112,1.57853938413648),(26,113,0.0190435499130223),(26,117,0.611827448347423),(27,85,-1.54895931882687),(27,87,0.325006866664632),(27,94,-1.79106265449995),(27,100,0.645031586657308),(27,102,0.556703390606403),(27,103,-0.0402157658619953),(27,104,0.44808038575396),(27,105,2.69663838618122),(27,108,1.02576525162511),(27,110,-0.170285653248695),(27,114,-1.09092226935636),(28,87,0.925565355388043),(28,88,0.0134815515610216),(28,97,0.235732596819971),(28,99,-1.61285744804224),(28,104,-0.951338236640523),(28,113,2.31279946287423),(28,114,2.15842921231727),(29,88,-0.10963774529252),(29,91,-1.89626758629109),(29,102,-2.1385845515305),(29,105,-0.660985137485885),(29,116,0.803094576860866),(30,95,-0.219618823816645),(30,96,2.01105533005768),(30,99,-3.05679494613483),(30,101,2.10886715292825),(30,104,0.00932340464491712),(30,109,1.05249183629872),(30,110,2.24877925962096),(30,114,-0.844073305459761),(30,118,-2.28156376842555),(31,85,-1.02069154942473),(31,92,1.14217047639393),(31,94,-1.55588702047792),(31,96,-1.05617694631794),(31,99,2.59168523209326),(31,103,0.564828943754387),(31,107,3.10940122684408),(31,108,-0.643436994537187),(31,109,0.271713919492172),(31,111,-2.10581530198065),(31,112,-1.43584246345408),(31,117,2.58854945524461),(32,86,-2.2119510483108),(32,87,2.03588976714377),(32,89,-1.18004394665365),(32,92,-1.42337565233314),(32,98,-0.759849848933378),(32,99,0.52729880672628),(32,104,0.924878688924833),(32,106,1.12297433393353),(32,109,-1.35348063600574),(32,116,-1.5219046601764),(32,118,0.367091891232032),(33,96,0.292443617053743),(33,98,0.482291634876553),(33,108,-3.31151005584887),(33,110,-1.95008697775201),(33,111,0.195234534745323),(33,114,2.59848323007904),(34,85,-1.77303384502701),(34,90,0.249397259437849),(34,99,2.28422650837733),(34,104,-1.40417188024537),(34,109,-0.135746330149235),(35,86,0.550416577654347),(35,87,-1.98950926236763),(35,97,-0.908322397534104),(35,98,1.74182103946043),(35,100,-2.03774376659444),(35,104,0.478972746971038),(35,107,-1.76260414441359),(35,109,0.92223120822779),(35,110,2.15987884151738),(35,112,3.76499984740745),(36,85,0.875087740714744),(36,87,-1.79182561723685),(36,90,2.49162266914884),(36,91,-3.71514786217841),(36,104,1.12486648152104),(36,107,-1.01696829126865),(36,109,0.563936277352214),(36,112,-1.59272286141545),(36,115,-1.42960905789361),(36,117,-1.11133915219581),(36,118,2.57702108829005),(37,85,0.436254463332011),(37,86,-0.331637012848293),(37,87,-0.109012115848262),(37,91,-0.438116092410047),(37,99,0.741897335734123),(37,105,2.32959990234077),(37,111,2.6059755241554),(37,112,-0.704268013550218),(37,118,-3.30777916806543),(38,87,-2.41225928525651),(38,90,2.79915005951109),(38,103,1.76200140385144),(38,105,-0.600657673879208),(38,106,-1.6230811487167),(38,111,1.86085085604419),(38,115,0.11314737388226),(39,87,-1.99301889095737),(39,89,0.488349559007538),(39,91,-0.497604297006134),(39,94,-1.19668416394543),(39,97,-1.46134830774865),(39,98,-1.53653065584277),(39,107,-1.19910275582141),(39,108,-1.65617847224342),(39,109,2.26985992004151),(39,111,-1.19916379284036),(39,113,1.40786461989196),(39,116,1.15543839838862),(39,118,0.0945768608661155),(40,88,-1.40574358348338),(40,92,-2.01391644032105),(40,99,-2.32458723715934),(40,104,-0.06587420270394),(40,110,-1.01139103366192),(40,116,1.20522171697134),(40,118,-1.51985229041414),(41,88,2.27711569566942),(41,93,-1.6775948362682),(41,96,0.104518265327922),(41,97,0.244003112887967),(41,100,-2.0701162755211),(41,101,-0.158024842066713),(41,104,-3.47145756401257),(41,105,-2.90990936002686),(41,106,-0.860744041261025),(41,107,-0.291276284066286),(41,109,-2.65986358226264),(41,110,-1.97740867336039),(41,111,-2.09643086031678),(41,112,-2.43026520584735),(42,85,-0.934553056428724),(42,86,0.912312692648091),(42,87,-3.33036286507767),(42,99,-0.72430341502121),(42,100,-0.972441785943174),(42,103,-0.516998809778131),(42,109,1.42722861415448),(42,113,1.0343333231605),(43,85,-1.01652577288125),(43,88,1.36454359569079),(43,89,1.235381633961),(43,93,-0.411626026184881),(43,97,0.839335306863613),(43,98,-2.99760429700613),(43,101,1.04116946928312),(43,102,-1.57480849635304),(43,103,-0.201048310800501),(43,105,-3.17967009491256),(43,110,1.1131855220191),(43,112,-0.184301278725547),(43,114,1.48483230079043),(43,116,1.93684957426679),(44,89,0.16132847071749),(44,98,0.0352336191900386),(44,99,-3.19058046205023),(45,87,-2.13505966368603),(45,88,2.06057161168249),(45,90,3.54398480178228),(45,91,-0.966208380382702),(45,95,-2.23100985747856),(45,98,1.7762611774041),(45,108,-0.384159367656484),(45,109,-2.96584978789636),(45,112,0.231009857478561),(45,115,1.07036805322428),(46,85,3.51767784661397),(46,89,-1.43834498123112),(46,91,-0.445501571703238),(46,94,-1.47251808221686),(46,97,-0.290231025116733),(46,100,-2.2075945310831),(46,101,2.12545396282846),(46,108,0.375904110843226),(46,112,-1.44256416516617),(47,86,0.0286492507705921),(47,91,0.89654225287637),(47,92,1.26976073488571),(47,94,-2.03814050721763),(47,95,0.0502258369701223),(47,100,0.506263924069948),(47,101,0.230704672383801),(47,104,1.74112674336985),(47,105,-1.70435193945128),(47,108,0.163266396069216),(47,112,0.875774407177953),(47,114,-0.672254097109897),(47,118,0.229850154118473),(48,86,1.13262581255531),(48,91,0.433301797540208),(48,98,-2.01638843958861),(48,99,-0.742065187536241),(48,100,0.607440412610248),(48,103,0.120036927396466),(48,105,2.50449385052034),(48,106,0.97773674733726),(48,111,-0.251312295907468),(48,115,-0.145725882747887),(49,87,1.32441938535722),(49,89,1.56208990752892),(49,93,1.04934842982269),(49,94,-1.25328073976867),(49,95,3.10354930265206),(49,102,-0.427236243781854),(49,113,0.167821283608509),(49,114,0.691984313486129),(50,89,-0.452375865962706),(50,105,-0.354274117252113),(50,107,-2.02999206518754),(51,87,-2.10093997009186),(51,92,0.433004242072817),(51,97,-1.84468367564928),(51,98,-1.9978331858272),(51,103,0.695394756920072),(51,106,2.22904904324473),(51,112,-1.62750633259072),(51,118,0.0679876094851528),(52,89,1.39625995666372),(52,97,1.04606769005402),(52,106,-2.35635700552385),(52,110,0.922566911832026),(52,111,1.02221747489853),(52,113,-0.585398419141209),(52,114,-0.316385387737663),(52,118,0.625476851710562),(53,88,-1.60501419110691),(53,90,-0.385448774681845),(53,92,-0.466971343119602),(53,94,2.21445356608783),(53,104,-2.61090426343577),(53,105,0.00784325693533122),(53,109,0.446989349040193),(54,85,-0.0703985717337565),(54,91,-2.72627185888241),(54,94,-0.590395825067904),(54,96,1.91055024872585),(54,111,2.04296243171484),(54,112,-2.98541215247047),(54,113,1.21760460219123),(54,118,-1.20406201361126),(55,87,-3.65592669454024),(55,95,0.37640766624958),(55,107,1.28859828485977),(55,110,-3.26944792016358),(55,117,0.704321420941801),(56,107,-0.721243934446242),(56,111,0.637936033204138),(56,113,-1.67769402142399),(56,114,1.54204687643056),(57,87,-1.26152073732719),(57,90,0.561845759453108),(57,91,1.02287362285226),(57,92,-3.4192251350444),(57,93,1.14893795587024),(57,94,-0.694486831263161),(57,95,1.32789086581011),(57,96,-3.34816278572954),(57,100,-3.2882702108829),(57,102,1.3174840540788),(57,103,-3.28649250770592),(57,115,-1.76071962645344),(58,86,-0.602084414197211),(58,87,-0.30695516830958),(58,89,-1.94206823938719),(58,90,1.42648854029969),(58,95,-1.24069948423719),(58,96,1.23139133884701),(58,101,-0.756782738731041),(58,103,3.30955687124241),(58,109,-0.371776482436598),(58,110,-0.841425824762719),(58,113,0.904965361491745),(58,114,-1.69116794335765),(58,115,0.12244788964507),(58,118,2.64874721518601),(59,85,-0.711607715079196),(59,86,1.55552079836421),(59,90,2.90990173039949),(59,91,1.806901760918),(59,93,-2.29190191351054),(59,97,1.66094698934904),(59,98,1.44502090517899),(59,100,1.52262184514908),(59,102,1.61378826258126),(59,112,-0.42238380077517),(59,114,0.238204596087527),(60,85,0.952917569505905),(60,87,1.98471022675253),(60,90,-0.607600634784997),(60,91,1.09791100802637),(60,96,-0.00996429334391302),(60,100,0.534669026764733),(60,101,-1.31958220160527),(60,105,0.988876003295999),(60,107,0.556505020294809),(60,109,0.523766289254433),(60,110,-0.886890774254585),(60,114,2.01839503158666),(61,89,2.12583544419691),(61,94,1.56130405590991),(61,96,2.3635059663686),(61,98,-2.39766380809961),(61,100,1.10610522782067),(61,102,1.45316171758171),(61,103,-0.271988586077456),(61,114,1.61454359569079),(61,115,3.28036591692862),(62,93,0.148846400341807),(62,95,-2.50529496139409),(62,107,1.94827875606555),(62,109,-0.879184850611896),(62,110,-1.95539719840083),(62,111,-2.463919492172),(63,87,0.968420972319712),(63,90,0.651478621784112),(63,93,1.15485091708121),(63,97,1.13053529465621),(63,100,-2.18834498123112),(63,103,-2.00553147984252),(63,104,-3.04109317300943),(63,108,1.01374095889157),(63,111,-0.926602984710227),(63,114,-1.23364207892087),(63,117,2.5094759971923),(64,87,-2.02133243812372),(64,94,1.30438398388623),(64,99,-1.89614551225318),(64,110,1.40504165776543),(64,112,0.417065950498978),(64,116,2.58993041779839),(65,87,2.81008331553087),(65,88,-0.495864741966002),(65,90,2.83799249244667),(65,97,-0.793504135258034),(65,99,-3.32341990417188),(65,107,1.15571306497391),(65,110,-1.49892422254097),(65,111,0.996536149174474),(65,114,1.20309305093539),(65,116,-2.87265388958403),(65,117,-1.08031708731346),(66,85,1.4093829157384),(66,102,-3.87056337168493),(66,105,-3.25247962889492),(66,108,3.01146732993561),(66,111,1.96922971282083),(66,115,-1.2298425244911),(66,118,1.27459791863765),(67,86,1.87978759117405),(67,90,0.506683553575243),(67,92,1.07746360667745),(67,104,-1.06508835108493),(67,109,-0.366931669057283),(67,111,-0.81793420209357),(68,87,-0.943853572191534),(68,88,-0.468688009277627),(68,90,0.098155156102176),(68,93,2.34900204474013),(68,95,-1.50401318399609),(68,96,-0.157032990508743),(68,97,-2.34202856532487),(68,103,-1.48884548478652),(68,107,2.51588488418226),(68,112,0.0609759819330424),(68,114,1.77909176915799),(69,87,-0.490157780693991),(69,88,1.97691274758141),(69,92,-0.36070589312418),(69,94,-0.221808526871548),(69,95,-0.810266426587726),(69,97,-0.997688222907193),(69,108,-1.46538438062685),(69,113,-0.476531266212958),(69,114,2.5215842158269),(69,118,0.346919156468398),(70,85,0.183507797479171),(70,86,-0.856189153721732),(70,87,-3.24550614947966),(70,90,-0.37015900143437),(70,96,-0.242927335428938),(70,97,-0.779129917294839),(70,99,1.5285729544969),(70,105,0.870334482863857),(70,107,0.174810022278512),(70,109,1.48685415204321),(70,110,-0.619953001495407),(70,111,2.29799798577837),(71,85,0.558030945768609),(71,93,-0.764687032685324),(71,96,0.097231971190527),(71,100,-0.54399243140965),(71,104,-0.145847956785791),(71,106,0.251953184606464),(71,111,-0.0623645741142003),(71,113,1.22856837672048),(72,94,0.627956480605487),(72,96,0.0137333292641987),(72,99,-2.29850154118473),(72,110,0.421887874996185),(72,112,2.51653340250862),(72,114,-1.75859096041749),(72,115,1.16769157994324),(72,116,1.01837977233192),(73,88,-1.49029511398663),(73,94,-1.94616534928434),(73,99,-2.11268196661275),(73,100,2.01512955107273),(73,106,2.42989135410627),(73,110,-0.0752281258583331),(73,115,3.09552293465987),(74,90,-0.0848109378337962),(74,94,-1.36169011505478),(74,99,-2.67318491164892),(74,102,-0.707823419904172),(74,106,-0.492339854121525),(74,107,-1.27848139896847),(74,110,-0.255592516861476),(74,113,1.95713675344096),(74,116,-0.316187017426069),(75,85,0.590021973326822),(75,86,-1.4646595660268),(75,93,-1.44903408917508),(75,98,-1.89689321573534),(75,103,0.389851069673757),(75,105,-1.52550584429456),(75,111,-0.845973082674642),(75,117,-1.5488525040437),(76,86,0.00198370311593982),(76,89,0.371402630695517),(76,92,-1.40487380596332),(76,94,0.0664311655018769),(76,99,-1.64651936399426),(76,101,-2.09153263954588),(76,103,-0.138332773827326),(76,106,2.21949674977874),(76,110,-1.25075533310953),(76,113,0.907101657155065),(77,88,0.458800012207404),(77,91,-0.0386822107608264),(77,93,-1.51511429181799),(77,98,1.12501907406842),(77,101,-0.445905941953795),(77,102,1.24680318613239),(77,103,0.219206823938719),(77,104,0.597788933988464),(77,105,1.53323465681936),(77,109,0.660618915372173),(78,88,-0.591486861781671),(78,93,0.670445875423444),(78,94,3.54934842982269),(78,101,-2.43923001800592),(78,104,-1.65771965697195),(78,110,-0.839953306680502),(78,114,-0.40675832392346),(78,116,0.690519425031282),(78,117,-1.69626453444014),(78,118,2.09006012146367),(79,87,1.34174626911222),(79,92,-0.553193762016663),(79,94,0.0417569505905332),(79,107,-0.865131076998199),(79,108,0.102404858546709),(79,114,-0.573740348521378),(79,118,1.17583239234596),(80,87,-1.17233802301096),(80,88,1.94700460829493),(80,91,-1.23666341135899),(80,99,0.814317758720664),(80,101,0.220748008667257),(80,107,-0.677602465895566),(80,113,0.242919705801569),(81,85,0.198370311593982),(81,86,-0.40584276863918),(81,90,-1.00917081209754),(81,93,2.02026429029206),(81,96,-1.06516464735862),(81,97,-2.46996978667562),(81,106,0.796609393597217),(81,107,1.24954222235786),(81,110,-1.35631885738701),(81,115,-0.468169194616535),(82,86,-0.730842005676443),(82,92,-3.77916806543168),(82,110,0.0307931760612813),(82,112,2.74196600238044),(83,87,-0.963011566515091),(83,91,-1.41064180425428),(83,93,-2.35541856135746),(83,101,-0.18046357615894),(83,103,1.54517502365184),(83,105,-1.67858668782617),(83,108,0.0340281380657369),(84,85,-3.29597613452559),(84,86,-0.21713919492172),(84,89,-0.176946317941832),(84,95,-2.55301828058718),(84,99,0.614856410412915),(84,104,1.91648609881893),(84,111,-1.30623035370953),(84,113,0.177747428815577),(84,114,0.485778374584185)]
orgname='BHNEAT_3_11'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()