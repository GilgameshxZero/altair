edge = [(0,85,-1.61159092989898),(0,89,2.47248756370739),(0,90,1.07646412549211),(0,93,-2.27597888119144),(0,98,2.59608752708518),(0,101,-5.05290383617664),(0,105,0.651936399426252),(0,108,-0.175710318308054),(0,113,-0.957945493942076),(0,114,-1.4864650410474),(0,117,-1.77541428876614),(0,118,3.15010528885769),(1,86,-0.0998565630054629),(1,92,-1.1169774468215),(1,98,0.172353282265694),(1,102,-0.887752922147282),(1,104,-2.06218146305734),(1,107,-4.00187688833277),(1,108,0.485778374584185),(1,109,1.87543870357372),(1,113,1.53183080538347),(2,87,-0.931623279519028),(2,88,2.3307748649556),(2,100,-2.09329508346812),(2,106,1.52124088259529),(2,108,-1.10937833796197),(2,110,-2.33933530686361),(2,113,-1.48181096835231),(2,118,1.10786767174291),(3,89,-0.260185552537614),(3,92,2.90255439924314),(3,97,1.5355388042848),(3,99,3.21607104709006),(3,101,-0.439527573473312),(3,103,-0.56877346110416),(3,105,3.7906582842494),(3,108,1.95625171666616),(3,109,-4.52282784508805),(3,111,-1.47187719351787),(3,112,0.513992736594745),(3,116,1.1556901760918),(4,90,-1.10116885891293),(4,91,-1.57855464339122),(4,97,2.95515305032502),(4,99,2.62929166539506),(4,101,-2.579149754326),(4,108,2.30053102206488),(4,113,-0.913373210852382),(4,118,1.11329996642964),(5,86,-1.93531601916562),(5,87,0.0169072542497022),(5,89,-2.29343546861171),(5,92,-1.59636219367046),(5,93,-1.22197637867367),(5,99,-3.54200872829371),(5,104,1.4504074221015),(5,114,-2.80709250160222),(5,118,-0.58462782677694),(6,89,2.04889065218055),(6,92,-0.294503616443373),(6,94,2.33541367839595),(6,100,2.43925290688803),(6,101,-2.31095309305094),(6,103,2.01295510727256),(6,107,3.22164067506943),(6,110,0.527649769585253),(6,113,-0.469634083071383),(7,85,1.87446211127049),(7,86,-0.680501724295785),(7,90,-0.687978759117405),(7,95,0.362147892696921),(7,99,0.701818903164769),(7,100,0.631336405529954),(7,104,1.48532059694205),(7,106,1.18198187200537),(7,108,-2.06817835016938),(7,112,2.56540116580706),(7,116,-2.10547196874905),(8,92,1.96040223395489),(8,93,0.52317880794702),(8,95,0.402325510422071),(8,99,1.22975859859004),(8,106,-0.170201727347637),(8,107,0.465163121433149),(8,115,0.995025482955412),(8,116,-0.296990874965667),(8,118,0.708792382580035),(9,85,-0.442915128025147),(9,87,-0.1752067629017),(9,98,1.20181890316477),(9,101,-3.5054628131962),(9,103,3.24983977782525),(9,105,0.240913113803522),(9,106,0.277687917722098),(9,113,-1.70569475386822),(10,89,-0.573778496658223),(10,96,1.56915494247261),(10,106,-1.28279976805933),(10,108,0.00148014770958593),(10,109,-3.46897793511765),(10,111,-4.59468367564928),(10,112,-0.401852473525193),(10,114,2.21280556657613),(10,115,-1.32241279335917),(10,116,2.07339701528977),(10,117,-0.672978911709952),(11,89,-0.249443037202063),(11,97,0.407193212683493),(11,105,-1.0664998321482),(11,112,0.203085421308023),(11,115,0.475173192541276),(12,92,-2.26468703268532),(12,93,-1.80224005859554),(12,94,0.656605731376079),(12,97,-0.977095858638264),(12,98,-2.58017212439344),(12,99,-1.16443372905667),(12,108,0.383632923368023),(12,116,0.756035035248878),(13,86,-0.315668202764977),(13,87,1.40795617542039),(13,90,0.138416699728385),(13,99,-1.4177983947264),(13,102,0.604266487624744),(13,104,0.255760368663594),(13,113,2.27074495681631),(13,116,1.52299569689016),(13,118,2.2366863002411),(14,90,1.6329996642964),(14,93,-1.49362163151952),(14,95,-2.37922299874874),(14,102,-2.58006530961028),(14,104,0.640888698995941),(14,106,-0.860805078279977),(14,109,-1.06903286843471),(14,110,3.7584917752617),(14,111,-1.23912778099918),(15,85,0.247001556443983),(15,92,0.314004943998535),(15,99,-2.69467757194739),(15,101,2.71889400921659),(15,104,-0.967619861445967),(15,108,-2.59805597094638),(15,117,-2.12958159123508),(16,86,1.5233314004944),(16,87,-1.05175939207129),(16,88,1.8880428479873),(16,90,2.40299691763054),(16,91,0.65660573137608),(16,95,-2.95576342051454),(16,97,-1.85633411664174),(16,98,1.29197058015686),(16,99,3.46505630664998),(16,101,3.0643330179754),(16,108,-0.303643910031434),(16,110,1.21434675130467),(17,89,0.364726706747643),(17,96,0.595751823480941),(17,99,-0.810403759880367),(17,101,1.24251533555101),(17,106,1.57905819879757),(17,107,-1.57089449751274),(17,109,-1.82766197698904),(18,90,3.04258857997375),(18,91,1.90116580706198),(18,93,-0.283425397503586),(18,99,0.274208807641835),(18,102,-0.599490340891751),(18,103,0.72103030487991),(18,104,2.73519089327677),(18,110,1.16997283852657),(18,111,-1.90612506485183),(18,116,-0.484939115573595),(18,117,2.15150914029359),(18,118,3.12186040833766),(19,87,2.71845149082919),(19,89,-0.403881954405347),(19,93,-0.594042786950285),(19,95,-0.734733115634632),(19,101,-1.74483474227119),(19,105,2.46417126987518),(19,115,-0.551210058900723),(20,88,0.945570238349559),(20,101,2.32409131138035),(20,103,-0.592089602343821),(20,104,2.12381359294412),(20,105,-2.03579821161534),(20,106,0.919385357219153),(20,111,0.385357219153417),(20,116,-2.12944425794244),(21,86,-0.972167119357891),(21,87,-0.587954344309824),(21,94,-1.13779107028413),(21,96,0.853297524948881),(21,101,0.197256385998108),(21,102,2.22310556352428),(21,105,-1.40809350871303),(21,107,2.12717062898648),(21,108,1.45515305032502),(22,86,1.4522537919248),(22,88,-2.28984954374828),(22,91,-1.02105777153844),(22,92,-0.334894863734855),(22,93,1.38708151493881),(22,98,-2.85186315500351),(22,106,-2.17195654164251),(22,115,0.28545487838374),(22,117,1.52233954893643),(23,85,1.30979338969085),(23,86,-1.99203466902676),(23,88,2.29772331919309),(23,90,1.97503585924863),(23,97,1.66197698904386),(23,104,-0.747352519302957),(23,112,-1.36791589098788),(23,114,-1.03402813806574),(23,115,-2.25330362865078),(23,116,0.833979308450575),(24,89,-1.34926908169805),(24,90,-2.28923917355876),(24,91,-1.07274086733604),(24,101,1.58778649250771),(24,107,-0.830683309427168),(24,108,1.87813959166234),(24,110,0.480361339152196),(24,112,0.123416852320933),(25,90,3.045777764214),(25,92,-0.516190069277016),(25,94,1.73120822779015),(25,98,1.13173314615314),(25,105,-0.240379039887692),(25,108,2.6059755241554),(25,109,2.28942228461562),(25,115,-0.469939268166143),(26,85,0.377727591784417),(26,87,-1.12939848017823),(26,89,2.07068086794641),(26,95,4.09907834101382),(26,98,1.12607196264534),(26,100,-1.52475051118503),(26,101,0.472548600726341),(26,102,3.96278267769402),(26,103,1.02836695455794),(26,104,-0.580248420667135),(26,107,1.29572435682241),(26,109,2.02507095553453),(26,112,-2.4783165990173),(26,113,-2.03473006378368),(26,117,-0.34759056367687),(27,85,1.53340250862148),(27,87,-2.17954039124729),(27,94,-0.917004913480026),(27,100,0.49656666768395),(27,102,1.82030701620533),(27,103,1.88911099581896),(27,104,-3.08096560563982),(27,105,-0.138889736625263),(27,108,-3.64459669789728),(27,110,1.30686361278115),(27,114,-2.38654744102298),(28,87,1.49031037324137),(28,88,1.04544206060976),(28,97,-1.63602099673452),(28,99,2.0536515396588),(28,104,3.9141819513535),(28,113,1.96159245582446),(28,114,-0.470000305185095),(29,88,0.0558183538315988),(29,91,-0.271965697195349),(29,102,-1.03955198828089),(29,105,-0.256141850032044),(29,116,-0.867137668996246),(30,95,-0.292046876430555),(30,96,0.787850581377606),(30,99,-1.72812585833308),(30,101,0.613376262703329),(30,104,-0.0729392376476333),(30,109,-0.748588518936735),(30,110,-2.27863399151585),(30,114,-0.0776085695974609),(30,118,0.990813928647725),(31,85,-0.405148472548601),(31,92,2.11259804071169),(31,94,-0.970656453138829),(31,96,0.357860042115543),(31,99,1.46900845362712),(31,103,0.312723166600543),(31,107,-1.05952635273293),(31,108,2.72377697073275),(31,109,0.758262886440626),(31,111,2.1200292977691),(31,112,1.10545670949431),(31,117,-1.58131656849879),(32,86,-2.8278450880459),(32,87,-2.68243964964751),(32,89,-0.133167516098514),(32,92,-0.283715323343608),(32,98,0.774758140812402),(32,99,-1.37987914670247),(32,104,2.40649128696554),(32,106,-0.55900753807184),(32,109,0.955961790826136),(32,116,-2.09398174993133),(32,118,-2.02815332499161),(33,96,3.37188329721976),(33,98,1.58821375164037),(33,108,1.57358012634663),(33,110,-2.20697653126621),(33,111,0.925519577623829),(33,114,0.344477675710318),(34,85,0.00631733146153124),(34,90,-0.0804010132145146),(34,99,-3.29958494827113),(34,104,2.31415753654592),(34,109,-0.201452681051058),(35,86,1.94311349833674),(35,87,-2.35703604235969),(35,97,-0.779213843195898),(35,98,-0.10650959807123),(35,100,-1.73728141117588),(35,104,-1.18018127994629),(35,107,-0.0891750846888639),(35,109,-0.854930265205847),(35,110,1.6235236671041),(35,112,1.97866756187628),(36,85,-1.26615192114017),(36,87,-0.157506027405622),(36,90,1.87551499984741),(36,91,2.25203711050752),(36,104,0.159535508285775),(36,107,0.786126285592212),(36,109,0.0492873928037355),(36,112,0.185415204321421),(36,115,-1.44360179448836),(36,117,-2.76052125614185),(36,118,-0.00646992400891133),(37,85,-0.840586565752129),(37,86,1.30649739066744),(37,87,1.81844538712729),(37,91,-0.469756157109287),(37,99,-0.4082003234962),(37,105,1.81208227790155),(37,111,-1.33532212286752),(37,112,1.14181951353496),(37,118,-2.25557725760674),(38,87,-1.61493270668661),(38,90,2.09088412121952),(38,103,0.725913266396069),(38,105,1.86251411481063),(38,106,2.86965544602802),(38,111,-0.787789544358653),(38,115,0.806772057252724),(39,87,1.61787774285104),(39,89,2.93206579790643),(39,91,1.78167058320872),(39,94,0.268913846247749),(39,97,0.462996307260353),(39,98,-1.70763267921995),(39,107,1.8692892239143),(39,108,0.896588030640584),(39,109,2.15833002716147),(39,111,-1.69844660786767),(39,113,-0.388439588610492),(39,116,-1.82273323770867),(39,118,-1.61819818720054),(40,88,3.01588488418226),(40,92,2.44407483138524),(40,99,3.69286172063356),(40,104,-2.19168675801874),(40,110,-2.2206640827662),(40,116,-1.82003234962004),(40,118,-1.17007965330973),(41,88,0.573061311685537),(41,93,0.341593676564837),(41,96,-2.59616382335887),(41,97,-0.0659199804681534),(41,100,-0.0110629596850491),(41,101,2.59144871364483),(41,104,0.831141087069308),(41,105,1.26740318002869),(41,106,-1.09884945219275),(41,107,2.05610827967162),(41,109,4.96969512009033),(41,110,0.559053315836055),(41,111,1.68582720419935),(41,112,1.75437177648244),(42,85,-1.97291482284005),(42,86,-0.691885128330332),(42,87,-2.35010834070864),(42,99,-1.97981200598163),(42,100,2.45681630909146),(42,103,-2.70752586443678),(42,109,0.751014740440077),(42,113,0.488860744041261),(43,85,-1.02568132572405),(43,88,-1.72559282204657),(43,89,-0.464094973601489),(43,93,-0.570360423596912),(43,97,-0.758445997497482),(43,98,1.23480941190832),(43,101,1.18440809350871),(43,102,-0.311044648579363),(43,103,-0.354487746818445),(43,105,0.454496902371288),(43,110,-1.34867397076327),(43,112,0.222418897061067),(43,114,-0.199804681539354),(43,116,-2.49275185399945),(44,89,5.29442732016968),(44,98,-0.944517349772637),(44,99,-2.82958464308603),(45,87,1.34282967619861),(45,88,2.16934720908231),(45,90,2.46964934232612),(45,91,3.18691061128574),(45,95,-0.468642231513413),(45,98,0.839609973448897),(45,108,-1.21573534348582),(45,109,2.29210791344951),(45,112,1.17616809595019),(45,115,-1.59579760124516),(46,85,2.01324503311258),(46,89,-0.62511062959685),(46,91,0.847834711752678),(46,94,1.14987640003662),(46,97,0.382808923612171),(46,100,-2.3789635914182),(46,101,-2.72772911770989),(46,108,1.49494918668172),(46,112,-1.32476271858882),(47,86,1.64108706930754),(47,91,-1.89735099337748),(47,92,3.07281716360973),(47,94,-0.107013153477584),(47,95,0.043122653889584),(47,100,-0.788201544236579),(47,101,1.31817072054201),(47,104,-2.10928678243355),(47,105,0.99748222296823),(47,108,-1.28261665700247),(47,112,0.385280922879726),(47,114,1.37432477797784),(47,118,2.66394543290506),(48,86,1.07290871913816),(48,91,-3.07594531083102),(48,98,-1.33774834437086),(48,99,-0.929944761497848),(48,100,3.90462965788751),(48,103,-4.60672322763756),(48,105,1.00625629444258),(48,106,0.130359813226722),(48,111,2.25164036988433),(48,115,0.966139713736381),(49,87,-1.63760795922727),(49,89,3.16016113773003),(49,93,-0.569902645954772),(49,94,2.07487716299936),(49,95,-2.83686330759606),(49,102,0.934369945371868),(49,113,1.68013550218207),(49,114,2.4658650471511),(50,89,-3.38013855403302),(50,105,-0.185430463576159),(50,107,-2.03624073000275),(51,87,1.90990936002686),(51,92,4.50387585070345),(51,97,0.71851252784814),(51,98,-2.15236365855892),(51,103,-1.64503921628468),(51,106,1.92199468977935),(51,112,-1.63364055299539),(51,118,2.69940794091617),(52,89,-1.67481002227851),(52,97,0.854411450544755),(52,106,-1.68604083376568),(52,110,-4.06270027771844),(52,111,0.360606707968383),(52,113,-0.906537064729759),(52,114,-1.91990417188025),(52,118,-1.86524552140873),(53,88,-2.35929441206091),(53,90,-3.44218268379772),(53,92,1.37182226020081),(53,94,1.54072695089572),(53,104,2.15106662190619),(53,105,4.30050050355541),(53,109,-3.18370616779077),(54,85,0.230384228034303),(54,91,-0.525910214545122),(54,94,-0.449476607562487),(54,96,2.43003631702628),(54,111,1.81577501754814),(54,112,-2.78983428449355),(54,113,3.21355327005829),(54,118,-2.16219061861019),(55,87,0.788155766472365),(55,95,1.47846919156468),(55,107,-1.9800408948027),(55,110,-0.58836634418775),(55,117,0.0283211767937254),(56,107,-1.42037720877712),(56,111,-0.792428357799005),(56,113,0.851084933011872),(56,114,0.652195806756798),(57,87,4.08774071474349),(57,90,-0.519928586687826),(57,91,-1.38462477492599),(57,92,0.909939878536332),(57,93,0.497161778618732),(57,94,1.56840723899045),(57,95,1.58381908627583),(57,96,-0.597323526718955),(57,100,-2.2839136936552),(57,102,-0.10856959746086),(57,103,2.45109408856471),(57,115,-0.940839869380779),(58,86,2.30370494705039),(58,87,-0.292641987365337),(58,89,1.7828302865688),(58,90,-1.75916318247017),(58,95,0.608294930875576),(58,96,-1.24256111331523),(58,101,1.69936216315195),(58,103,2.27108066042054),(58,109,-2.33143101290933),(58,110,1.67993713187048),(58,113,-0.648472548600726),(58,114,0.740379039887692),(58,115,-2.26367992187262),(58,118,-3.39442121646779),(59,85,-1.35453352458266),(59,86,-0.0231177709280678),(59,90,-1.03352458265938),(59,91,2.92306283761101),(59,93,-0.0660267952513199),(59,97,-0.485595263527329),(59,98,1.42788476210822),(59,100,-2.08360545670949),(59,102,-1.86648152104251),(59,112,0.908536027100436),(59,114,1.2260048219245),(60,85,0.855418561357463),(60,87,-1.06439405499435),(60,90,0.770088808862575),(60,91,1.76267281105991),(60,96,0.90797143467513),(60,100,1.23720511490219),(60,101,-0.446089053010651),(60,105,-0.300119022186956),(60,107,1.22101504562517),(60,109,1.68977935117649),(60,110,-1.00265511032441),(60,114,-0.686681722464675),(61,89,0.604693746757408),(61,94,1.02571184423353),(61,96,0.448988311410871),(61,98,-0.528656880397961),(61,100,0.33036286507767),(61,102,-0.291421246986297),(61,103,0.154972991119114),(61,114,-2.86887722403638),(61,115,-3.38961455122532),(62,93,0.24001281777398),(62,95,0.726645710623493),(62,107,-0.571687978759117),(62,109,-1.57098605304117),(62,110,-0.532135990478225),(62,111,-2.96348460341197),(63,87,-3.47618030335398),(63,90,-0.285287026581622),(63,93,-2.03213599047823),(63,97,0.297204504531999),(63,100,3.21021149327067),(63,103,-0.0791344950712608),(63,104,-0.487182226020081),(63,108,0.397869808038575),(63,111,-0.217154454176458),(63,114,0.255088961455122),(63,117,2.90417188024537),(64,87,0.490813928647725),(64,94,-1.4652241584521),(64,99,0.00257881405072191),(64,110,-0.694692831202124),(64,112,-1.08746604815821),(64,116,3.41270180364391),(65,87,2.33890804773095),(65,88,-0.39005706961272),(65,90,-0.377742851039155),(65,97,-2.1544846949675),(65,99,0.320001831110569),(65,107,-1.99708548234504),(65,110,1.11976989043855),(65,111,1.20728171636097),(65,114,-1.94531083101901),(65,116,0.850840784936064),(65,117,1.7696157719657),(66,85,-0.488677632984405),(66,102,-0.65210425122837),(66,105,-1.17523728141118),(66,108,2.34208197271645),(66,111,-0.880932035279397),(66,115,-2.21062349314859),(66,118,0.549317911313211),(67,86,1.00112918485061),(67,90,-1.56942960905789),(67,92,0.265755180516984),(67,104,0.247611926633503),(67,109,0.604953154087954),(67,111,2.3973967711417),(68,87,-0.453016754661702),(68,88,-0.947141941587573),(68,90,-1.54277169103061),(68,93,2.16368602557451),(68,95,0.651051362651448),(68,96,2.03854487746818),(68,97,0.492065187536241),(68,103,-1.32793664357433),(68,107,-0.140690328684347),(68,112,-0.0350352488784448),(68,114,2.17125461592456),(69,87,0.672566911832026),(69,88,1.23827326273385),(69,92,0.596926786095767),(69,94,2.20549638355663),(69,95,-2.74010437330241),(69,97,1.63959166234321),(69,108,0.34759056367687),(69,113,-0.581072420422987),(69,114,-0.26532792138432),(69,118,-1.29194006164739),(70,85,-0.357799005096591),(70,86,-0.56610309152501),(70,87,-0.25693533127842),(70,90,-2.22792748802148),(70,96,0.54216132084109),(70,97,-1.78115176854762),(70,99,-0.315713980529191),(70,105,-1.2252418591876),(70,107,-2.06390575884274),(70,109,2.28164006469924),(70,110,0.0526139103366192),(70,111,-1.64136173589282),(71,85,1.77481917783135),(71,93,-2.37325663014618),(71,96,-2.47572252571184),(71,100,0.645970030823695),(71,104,3.13196203497421),(71,106,-0.206213568529313),(71,111,3.41254921109653),(71,113,-2.19870601519822),(72,94,2.52032532731101),(72,96,-0.719000823999756),(72,99,-0.774040955839717),(72,110,1.27826776940214),(72,112,2.78289132358776),(72,114,0.868739890743736),(72,115,0.345591601306192),(72,116,-1.18932157353435),(73,88,0.847773674733726),(73,94,-1.97013763847774),(73,99,-0.311136204107791),(73,100,-0.515457625049593),(73,106,0.739768669698172),(73,110,-0.141590624713889),(73,115,-1.25606555375835),(74,90,4.62050233466598),(74,94,-0.0573747978148747),(74,99,0.212652974028748),(74,102,0.0173955504013184),(74,106,0.884502700888089),(74,107,-0.315073091830195),(74,110,-0.159382915738395),(74,113,-1.88515884884182),(74,116,-0.621799371318705),(75,85,-1.02607806634724),(75,86,-1.84087649159215),(75,93,-0.858760338145085),(75,98,0.11101107821894),(75,103,-4.56363109225745),(75,105,-2.30079042939543),(75,111,-0.0951719718008973),(75,117,-2.43020416882839),(76,86,-0.379589220862453),(76,89,0.597476119266335),(76,92,-0.223059785760063),(76,94,-1.70651875362407),(76,99,-1.65291299172948),(76,101,-2.79114658040101),(76,103,0.137485885189367),(76,106,1.27375102999969),(76,110,0.711096530045473),(76,113,-1.52127140110477),(77,88,-0.961302529984436),(77,91,-2.5661793877987),(77,93,-1.76549577318644),(77,98,-1.13689077425459),(77,101,-0.831965086825159),(77,102,0.207037568285165),(77,103,0.097659230323191),(77,104,-1.0277871028779),(77,105,1.7111880855739),(77,109,0.201681569872127),(78,88,4.15045625171667),(78,93,0.022507400738548),(78,94,-2.37307351908933),(78,101,-1.16557817316202),(78,104,-1.66966765343181),(78,110,2.09894100772118),(78,114,1.09599597155675),(78,116,1.44099246192816),(78,117,-0.116351817377239),(78,118,2.57812738425855),(79,87,0.750801110873745),(79,92,-1.43223364970855),(79,94,-1.06776635029145),(79,107,0.197286904507584),(79,108,1.0834070863979),(79,114,0.268089846491897),(79,118,-0.766228217413861),(80,87,2.45962401196326),(80,88,1.33251441999573),(80,91,-1.5108035523545),(80,99,-1.71320230719932),(80,101,0.493469038972137),(80,107,1.363948484756),(80,113,1.88451796014283),(81,85,-2.09334086123234),(81,86,-0.456648457289346),(81,90,-1.34357737968078),(81,93,-0.581118198187201),(81,96,-0.270302438428907),(81,97,-0.188314462721641),(81,106,-0.703375347148045),(81,107,-2.14300973540452),(81,110,0.383846552934355),(81,115,-1.25926999725333),(82,86,-0.374538407544176),(82,92,1.22028260139775),(82,110,-0.534058656575213),(82,112,0.838831751457259),(83,87,-0.612048707541124),(83,91,-1.59971922971282),(83,93,0.0527665028839991),(83,101,0.86794640949736),(83,103,-1.84720908230842),(83,105,-1.1223181859798),(83,108,-3.29114658040101),(84,85,-2.73059785760063),(84,86,1.87757499923704),(84,89,-0.345835749382),(84,95,2.47462385937071),(84,99,-0.551881466109195),(84,104,1.65410321359905),(84,111,0.923490096743675),(84,113,1.40090639973144),(84,114,0.168248542741173)]
orgname='BHNEAT_5_12'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()