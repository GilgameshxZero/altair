edge = [(0,85,-0.877071443830683),(0,89,1.77335428937651),(0,90,1.7184972685934),(0,93,0.164204840235603),(0,98,0.294320505386517),(0,101,-1.77239295632801),(0,105,1.14023255104221),(0,108,-0.535294656208991),(0,113,4.40260017700736),(0,114,-2.31223487044893),(0,117,-0.673085726493118),(0,118,-2.85645619067965),(1,86,2.00178533280435),(1,92,0.907025360881375),(1,98,-1.5668202764977),(1,102,0.423474837488937),(1,104,-0.879818109683523),(1,107,-1.63211462752159),(1,108,3.0695516830958),(1,109,-0.205542161320841),(1,113,0.571260719626453),(2,87,0.323603015228736),(2,88,3.87859736930448),(2,100,0.505005035554063),(2,106,2.73514511551256),(2,108,2.97537156285287),(2,110,0.450071718497268),(2,113,1.0956144901883),(2,118,5.95100253303629),(3,89,-3.66594439527573),(3,92,-0.270912808618427),(3,97,2.13591418195135),(3,99,-1.12643818475906),(3,101,-1.05134739219337),(3,103,-0.813150425733207),(3,105,3.01922666096988),(3,108,-1.78579058198798),(3,109,-0.685506759849849),(3,111,-1.55053865169225),(3,112,1.02526932584613),(3,116,-0.310678426465651),(4,90,1.07045197912534),(4,91,5.05996887112033),(4,97,-2.25412762840663),(4,99,3.82439649647511),(4,101,0.0263679921872617),(4,108,-2.91070284127323),(4,113,0.436460463270974),(4,118,0.5405590990936),(5,86,-2.46526993621632),(5,87,-0.916425061799982),(5,89,-2.40597247230445),(5,92,-2.14310129093295),(5,93,1.30306405835139),(5,99,4.78420361949522),(5,104,-2.89757988219855),(5,114,-1.90267647328105),(5,118,2.36544389172033),(6,89,1.12048707541124),(6,92,-2.2903378398999),(6,94,-3.80207220679342),(6,100,1.229819635609),(6,101,-0.768242439039278),(6,103,-0.562685018463698),(6,107,0.698370311593982),(6,110,0.781533249916074),(6,113,-0.818765831476791),(7,85,-0.767387920773949),(7,86,-0.239112521744438),(7,90,2.81449324015015),(7,95,1.32058168279061),(7,99,-0.628376110110782),(7,100,1.80089724417859),(7,104,-3.61795403912473),(7,106,1.87971129490036),(7,108,0.464323862422559),(7,112,1.59697256385998),(7,116,0.166631061738945),(8,92,2.78099917600024),(8,93,-4.76660969878231),(8,95,-2.42423780022584),(8,99,0.381099887081515),(8,106,-0.127643665883358),(8,107,1.06714072084719),(8,115,3.45115512558367),(8,116,0.774742881557665),(8,118,-0.574663533433027),(9,85,1.9080782494583),(9,87,-0.220831934568316),(9,98,1.74745933408612),(9,101,0.304193243202002),(9,103,1.47961363567003),(9,105,-0.133823664052248),(9,106,1.17546617023225),(9,113,0.389324625385296),(10,89,-0.00132755516220584),(10,96,2.53231910153508),(10,106,0.374584185308389),(10,108,3.04071169164098),(10,109,-0.0649433881649221),(10,111,1.61041596728416),(10,112,-2.25730155339213),(10,114,-3.2486953337199),(10,115,-1.5454573198645),(10,116,0.674840540787988),(10,117,0.766624958037049),(11,89,2.26151310769982),(11,97,0.458311716055788),(11,105,-1.18358409375286),(11,112,-2.29775383770257),(11,115,-1.65433210242012),(12,92,-2.21109653004547),(12,93,-0.293710135196997),(12,94,0.202337717825862),(12,97,1.10182500686666),(12,98,3.40534684286019),(12,99,0.0395825067903686),(12,108,2.9689168980987),(12,116,-3.0075075533311),(13,86,-1.98205511642811),(13,87,-1.17841120639668),(13,90,0.471083712271493),(13,99,2.16469313638722),(13,102,1.363948484756),(13,104,1.05412457655568),(13,113,0.0831629383220926),(13,116,0.941618091372417),(13,118,2.91734061708426),(14,90,0.657490768150883),(14,93,-2.35660878322703),(14,95,4.0622425000763),(14,102,-0.857936338389233),(14,104,-1.39286477248451),(14,106,2.22808008056886),(14,109,1.59233375041963),(14,110,0.487517929624317),(14,111,-0.331919309060946),(15,85,-1.29715872676778),(15,92,-0.199697866756188),(15,99,0.268440809350871),(15,101,-1.42773216956084),(15,104,-0.28453932309946),(15,108,4.41434980315561),(15,117,-1.3566393017365),(16,86,0.240104373302408),(16,87,-2.67084261604663),(16,88,-2.59489730521561),(16,90,-1.57661671803949),(16,91,-1.6514328440199),(16,95,-0.931165501876889),(16,97,-0.518021179845576),(16,98,4.01738029114658),(16,99,3.53807184057131),(16,101,0.0489059114352855),(16,108,-1.27172154911954),(16,110,2.28386791589099),(17,89,1.37890255439924),(17,96,-2.54643391216773),(17,99,-2.75559251686148),(17,101,-1.65521713919492),(17,106,0.28225043488876),(17,107,-0.356105227820673),(17,109,1.04649494918668),(18,90,3.11514633625294),(18,91,-1.02954191717277),(18,93,-0.0881069368572038),(18,99,-4.63530381176183),(18,102,0.666493728446303),(18,103,1.57219153416547),(18,104,-1.71262245551927),(18,110,-0.28484450819422),(18,111,2.81676686910611),(18,116,-3.07084871974853),(18,117,2.02856532486953),(18,118,0.376903592028565),(19,87,2.29393902401807),(19,89,-0.936506241035188),(19,93,0.0830866420484024),(19,95,-1.43925290688803),(19,101,-3.88776818140202),(19,105,-0.283913693655202),(19,115,-3.96664326914274),(20,88,4.90386669515061),(20,101,-1.03025910214545),(20,103,-1.70731223487045),(20,104,-0.992812891018403),(20,105,-2.75585192419202),(20,106,-0.537873470259713),(20,111,0.533387249366741),(20,116,-1.51136814477981),(21,86,-0.160832544938505),(21,87,-0.190221869563891),(21,94,-3.51762443922239),(21,96,0.97560045167394),(21,101,3.47853022858364),(21,102,0.719992675557726),(21,105,-0.535966063417463),(21,107,-2.74616229743339),(21,108,2.8021027253029),(22,86,-3.46710104678488),(22,88,-0.446150090029603),(22,91,-0.521622363963744),(22,92,-1.80281991027558),(22,93,0.100802636799219),(22,98,-0.983062227240822),(22,106,-3.49055452131718),(22,115,0.880687887203589),(22,117,-2.41950743125706),(23,85,0.919003875850704),(23,86,-2.09839167455061),(23,88,1.4737388225959),(23,90,0.550279244361705),(23,97,2.20397045808283),(23,104,2.29789117099521),(23,112,-0.783639027069918),(23,114,-2.18221076082644),(23,115,-1.37421796319468),(23,116,-3.98426770836512),(24,89,-1.97215186010315),(24,90,-2.01017792291024),(24,91,1.06875820184942),(24,101,-0.545838801232948),(24,107,-0.722754600665303),(24,108,1.46809289834284),(24,110,1.12970366527299),(24,112,-0.27790154728843),(25,90,-3.82686849574267),(25,92,2.05049287392804),(25,94,0.0128177739799189),(25,98,1.47956785790582),(25,105,0.21446882534257),(25,108,1.90946684163945),(25,109,2.93650624103519),(25,115,2.73001800592059),(26,85,2.65196691793573),(26,87,-0.13212988677633),(26,89,-1.01283303323466),(26,95,-0.691167943357647),(26,98,-0.173497726371044),(26,100,-2.33642078920866),(26,101,-0.136875514999847),(26,102,0.592059083834346),(26,103,-0.620166631061739),(26,104,-0.834391308328501),(26,107,-1.46902371288186),(26,109,-2.42568742942595),(26,112,-0.258781701101718),(26,113,0.372188482314524),(26,117,1.87720877712333),(27,85,-5.17815179906613),(27,87,-0.955671864986114),(27,94,-1.14923551133763),(27,100,1.14416943876461),(27,102,-2.07090975676748),(27,103,0.689565721610157),(27,104,-3.90084536271249),(27,105,0.0317239906002992),(27,108,2.7516251106296),(27,110,1.29389324625385),(27,114,-3.11969359416486),(28,87,-1.76992095706046),(28,88,-3.92068239387188),(28,97,-0.320520645771661),(28,99,-2.13226722006897),(28,104,0.211722159489731),(28,113,-1.70995208594012),(28,114,0.238349559007538),(29,88,3.40003662221137),(29,91,1.27735221411786),(29,102,2.02076784569842),(29,105,-1.30651264992218),(29,116,1.25382244331187),(30,95,-0.261467329935606),(30,96,0.474135563219092),(30,99,-0.295968504898221),(30,101,2.57148960844752),(30,104,-2.13377788628803),(30,109,2.67883846552934),(30,110,0.164952543717765),(30,114,-0.494521927549059),(30,118,-1.44535660878323),(31,85,-2.54342783898434),(31,92,0.708899197363201),(31,94,-4.11909848323008),(31,96,-0.357188634907072),(31,99,-1.09027375103),(31,103,0.997650074770348),(31,107,2.40874965666677),(31,108,-0.21858882412183),(31,109,-2.01762443922239),(31,111,0.89547410504471),(31,112,-3.35551011688589),(31,117,-3.28093813898129),(32,86,0.496002075258645),(32,87,-0.880703146458327),(32,89,0.194021423993652),(32,92,2.46940519425031),(32,98,-1.240302743614),(32,99,1.01039155247658),(32,104,3.74594866786706),(32,106,0.784173100985748),(32,109,3.04499954222236),(32,116,0.0366985076448865),(32,118,4.40862758262886),(33,96,-0.752006591998047),(33,98,-3.34830774864956),(33,108,-1.20719016083254),(33,110,-0.869350260933256),(33,111,1.88283944212165),(33,114,3.57953123569445),(34,85,0.734260078737754),(34,90,-2.82876064333018),(34,99,-3.09801019318216),(34,104,-1.49867244483779),(34,109,1.3502914517655),(35,86,-0.995590075380719),(35,87,1.59425641651662),(35,97,-0.445112460707419),(35,98,1.7795342875454),(35,100,-3.58468886379589),(35,104,1.56785790581988),(35,107,2.40029602954192),(35,109,-3.83037812433241),(35,110,-1.44636371959593),(35,112,-1.16092410046693),(36,85,-2.9851832636494),(36,87,2.26909695730461),(36,90,-0.838877529221473),(36,91,1.31328775902585),(36,104,-0.32288583025605),(36,107,-1.40414136173589),(36,109,-1.53973509933775),(36,112,0.0380718405713065),(36,115,0.148472548600726),(36,117,-2.01319925534837),(36,118,-1.72330393383587),(37,85,2.65988647114475),(37,86,0.942030091250343),(37,87,-5.43221839045381),(37,91,1.74733726004822),(37,99,1.11001922666097),(37,105,-2.1468550675985),(37,111,-2.26416821802423),(37,112,0.908307138279366),(37,118,-4.90008239997559),(38,87,0.88608966338084),(38,90,3.3810541093173),(38,103,3.06363109225745),(38,105,1.7834711752678),(38,106,0.87267677846614),(38,111,-0.31891842402417),(38,115,1.0722830896939),(39,87,-1.00282296212653),(39,89,-2.76825769829402),(39,91,-2.73300881984924),(39,94,-3.3186895352031),(39,97,-2.1180608539079),(39,98,-1.35254982146672),(39,107,-1.99287392803735),(39,108,-3.20485549485763),(39,109,3.12294381542405),(39,111,2.44322031311991),(39,113,-0.484496597186193),(39,116,1.68041016876736),(39,118,-0.0229194006164739),(40,88,-0.476042970061342),(40,92,-1.84942167424543),(40,99,-0.387050996429334),(40,104,2.24575029755547),(40,110,5.16602069154942),(40,116,2.71585741752373),(40,118,-1.23271889400922),(41,88,-0.819803460798975),(41,93,2.09678945280313),(41,96,-2.56686605426191),(41,97,1.34121219519639),(41,100,1.77938169499802),(41,101,1.15936765648366),(41,104,0.712042603839228),(41,105,-0.354564043092135),(41,106,0.279976805932798),(41,107,-3.10510574663533),(41,109,-0.697347941526536),(41,110,-2.96365245521409),(41,111,0.390255439924314),(41,112,2.16429639576403),(42,85,1.67213965269936),(42,86,2.16747032074953),(42,87,1.57564012573626),(42,99,3.06222724082156),(42,100,2.23117770928068),(42,103,-0.877330851161229),(42,109,1.27288125247963),(42,113,1.89451277199622),(43,85,-5.68944364757225),(43,88,0.0379192480239265),(43,89,2.32270271919919),(43,93,3.63589892269662),(43,97,0.327066866054262),(43,98,5.1181829279458),(43,101,4.58304086428419),(43,102,-0.316782128360851),(43,103,2.89841914120914),(43,105,-1.11026337473678),(43,110,0.445661793877987),(43,112,-1.35401470992157),(43,114,-0.289910580767235),(43,116,2.76398510696738),(44,89,1.7032380138554),(44,98,3.76575518051698),(44,99,1.10600604266488),(45,87,3.98390148625141),(45,88,-1.0841700491348),(45,90,-4.54693746757408),(45,91,1.60307626575518),(45,95,0.054124576555681),(45,98,-0.625934629352703),(45,108,0.0601977599414045),(45,109,-0.430646687215796),(45,112,-2.98762474440748),(45,115,-5.23455000457778),(46,85,-1.35386211737419),(46,89,0.256813257240516),(46,91,-0.315179906613361),(46,94,-0.186986907559435),(46,97,2.97965941343425),(46,100,-1.5123294778283),(46,101,0.160771507919553),(46,108,-1.52188177129429),(46,112,0.304925687429426),(47,86,-1.28337961973937),(47,91,4.39083529160436),(47,92,-1.0620441297647),(47,94,2.5404370250557),(47,95,1.57177953428755),(47,100,1.199301126133),(47,101,-1.87719351786859),(47,104,-4.40092165898617),(47,105,0.677724539933469),(47,108,1.38119144260994),(47,112,-2.05496383556627),(47,114,3.02316354869228),(47,118,0.795922727134007),(48,86,2.28525650807215),(48,91,-0.987502670369579),(48,98,1.21083712271493),(48,99,-3.30640583513901),(48,100,-2.01138340403455),(48,103,2.90704062013611),(48,105,2.30948820459609),(48,106,-6.18190557573168),(48,111,1.02929776909696),(48,115,1.81104464857936),(49,87,1.66733298745689),(49,89,1.94926297799615),(49,93,1.477752006592),(49,94,-0.579775383770257),(49,95,-0.442762535477767),(49,102,0.232642597735527),(49,113,3.08778649250771),(49,114,2.05951109347819),(50,89,-2.41752372814112),(50,105,6.86736655781732),(50,107,-5.99220252082888),(51,87,-2.39669484542375),(51,92,-0.394650105288858),(51,97,0.890865810113834),(51,98,1.85670033875546),(51,103,0.837214270455031),(51,106,1.49685659352397),(51,112,0.644474623859371),(51,118,-2.96360667744987),(52,89,-2.31501205481124),(52,97,1.07856990264595),(52,106,-2.53486739707633),(52,110,1.78708761864071),(52,111,0.361598559526353),(52,113,0.634327219458602),(52,114,-0.376888332773827),(52,118,0.166600543229469),(53,88,4.14398632770775),(53,90,-0.344401379436628),(53,92,-0.157109286782434),(53,94,-2.25501266518143),(53,104,-3.67854853968932),(53,105,2.10133671071505),(53,109,-1.10989715262307),(54,85,2.64592425305948),(54,91,3.42509231849117),(54,94,-0.426419873653371),(54,96,-1.03465376750999),(54,111,4.02653584398938),(54,112,-2.44741660817286),(54,113,2.150028992584),(54,118,0.0773033845027009),(55,87,-1.29328287606433),(55,95,-4.50468459120457),(55,107,-2.98509170812098),(55,110,-1.65074617755669),(55,117,3.65100558488723),(56,107,-0.0109103671376691),(56,111,2.33625293740654),(56,113,-1.29871517075106),(56,114,2.52900784325694),(57,87,0.778145695364238),(57,90,0.265694143498032),(57,91,-4.87105929746391),(57,92,0.360423596911527),(57,93,0.0121311075167088),(57,94,0.543122653889584),(57,95,1.29999694814905),(57,96,-2.338206122013),(57,100,-0.459501937925352),(57,102,0.862910855433821),(57,103,-2.30162968840602),(57,115,-0.370571001312296),(58,86,2.87034211249123),(58,87,-0.148319956053346),(58,89,-2.33159886471145),(58,90,0.271538438062685),(58,95,-0.746345408490249),(58,96,-0.269325846125675),(58,101,-0.477446821497238),(58,103,-1.51257362590411),(58,109,-1.77938169499802),(58,110,0.00488296151615986),(58,113,-1.04750205999939),(58,114,-0.920972319711905),(58,115,-1.52134769737846),(58,118,0.605258339182714),(59,85,-3.72338023010956),(59,86,-0.350733970152898),(59,90,2.61210974456008),(59,91,-2.8956724753563),(59,93,-4.35460982085635),(59,97,-2.3592486342967),(59,98,1.68297372356334),(59,100,-4.13109225745415),(59,102,1.12387462996307),(59,112,-0.43671987060152),(59,114,1.56457716605121),(60,85,2.21736808374279),(60,87,-1.33478804895169),(60,90,-0.967360454115421),(60,91,-1.15878780480361),(60,96,1.08558915982543),(60,100,2.20706808679464),(60,101,3.23786126285592),(60,105,-2.71530808435316),(60,107,-0.930616168706321),(60,109,2.90563676870022),(60,110,-4.50062562944426),(60,114,-4.29969176305429),(61,89,-2.36106448561052),(61,94,-4.18973357341227),(61,96,0.934095278786584),(61,98,-1.94479201635792),(61,100,-3.01980651264992),(61,102,1.96005127109592),(61,103,2.12012085329752),(61,114,-0.752876369518113),(61,115,3.4012115848262),(62,93,-3.45091097750786),(62,95,-4.300057985168),(62,107,-2.56752220221564),(62,109,2.89288003173925),(62,110,0.206228827784051),(62,111,-3.17232276375622),(63,87,2.1904660176397),(63,90,-0.726035340433973),(63,93,-1.90862758262886),(63,97,0.495773186437574),(63,100,1.8383281960509),(63,103,-3.12007507553331),(63,104,-0.512894070253609),(63,108,-2.72783593249306),(63,111,0.716940824610126),(63,114,0.696539201025422),(63,117,-0.535111545152135),(64,87,-0.603503524887845),(64,94,0.41720328379162),(64,99,-4.20918912320322),(64,110,-3.07345805230872),(64,112,2.35515915402692),(64,116,1.88517410809656),(65,87,-1.85659352397229),(65,88,0.498336741233558),(65,90,-0.174336985381634),(65,97,0.36558122501297),(65,99,-1.4139835810419),(65,107,-0.733619190038759),(65,110,0.401074251533555),(65,111,-1.07165746024964),(65,114,-5.33050019837031),(65,116,0.0871303445539721),(65,117,4.99420148319956),(66,85,1.54199346903897),(66,102,0.639728995635853),(66,105,-3.67653431806391),(66,108,3.55731376079592),(66,111,-2.94259468367565),(66,115,-3.35604419080172),(66,118,1.39843440046388),(67,86,2.7883693960387),(67,90,3.53517258217109),(67,92,2.92895290993988),(67,104,-1.95127719962157),(67,109,-3.07625049592578),(67,111,-5.00570696127201),(68,87,4.02159184545427),(68,88,-1.04564043092135),(68,90,-1.68201239051485),(68,93,1.86140018921476),(68,95,1.30123294778283),(68,96,3.5),(68,97,-0.986251411481063),(68,103,2.48832667012543),(68,107,-0.140690328684347),(68,112,-0.897854548783837),(68,114,-3.34954374828333),(69,87,5.24927518539995),(69,88,0.254295480208747),(69,92,-2.0219275490585),(69,94,0.49519333475753),(69,95,2.35778374584185),(69,97,-3.23847163304544),(69,108,-4.6656086916715),(69,113,-1.28058717612232),(69,114,3.76880703146458),(69,118,1.75389873958556),(70,85,-3.03595080416272),(70,86,-2.81104464857936),(70,87,-0.76113162633137),(70,90,1.39274269844661),(70,96,1.31557664723655),(70,97,0.732215338602863),(70,99,-0.408719138157292),(70,105,-1.602038636433),(70,107,-1.9907223731193),(70,109,-0.203405865657521),(70,110,2.05038605914487),(70,111,2.410367137669),(71,85,0.492721335489975),(71,93,0.513092440565203),(71,96,-0.202932828760643),(71,100,1.48912015137181),(71,104,-2.2057252723777),(71,106,-2.00688192388684),(71,111,2.51255836664937),(71,113,-1.79639576403088),(72,94,3.91891232032228),(72,96,-2.36387218848231),(72,99,0.783486434522538),(72,110,2.67136143070772),(72,112,-4.75328836939604),(72,114,-0.351466414380322),(72,115,4.80887783440657),(72,116,1.31151768547624),(73,88,1.48820459608753),(73,94,-1.82296212652974),(73,99,-1.92442091128269),(73,100,0.450300607318339),(73,106,0.418256172368542),(73,110,1.54942472609638),(73,115,4.23673207800531),(74,90,-1.13672292245247),(74,94,0.243919186986908),(74,99,1.71452986236152),(74,102,-1.45527512436293),(74,106,1.54919583727531),(74,107,5.9652241584521),(74,110,1.44354075746941),(74,113,1.48777733695486),(74,116,0.386516922513504),(75,85,0.123416852320933),(75,86,-0.352793969542528),(75,93,1.54205450605792),(75,98,-0.355693227942747),(75,103,-3.77259132663961),(75,105,1.42159794915616),(75,111,-0.352748191778314),(75,117,0.744788964506974),(76,86,-0.5436109500412),(76,89,1.3554338206122),(76,92,1.07936338389233),(76,94,-2.18962675862911),(76,99,1.83256019775994),(76,101,-1.93700979644154),(76,103,1.80555131687368),(76,106,-1.97151097140416),(76,110,-2.32177190466018),(76,113,-1.40102847376934),(77,88,-1.76015503402814),(77,91,0.609759819330424),(77,93,-0.510422070986053),(77,98,-0.87137974181341),(77,101,1.977111117893),(77,102,-2.70030823694571),(77,103,1.5172276985992),(77,104,-2.67563402203436),(77,105,-0.4586779381695),(77,109,-1.67284157841731),(78,88,2.33344523453475),(78,93,2.14264351329081),(78,94,0.976546525467696),(78,101,-0.896557512131108),(78,104,-2.18031861323893),(78,110,-2.21248512222663),(78,114,1.83530686361278),(78,116,-1.80036317026276),(78,117,0.535981322672201),(78,118,2.03709524826807),(79,87,-1.19858394116031),(79,92,-0.0395214697714164),(79,94,2.06511123996704),(79,107,2.16458632160405),(79,108,-0.334315012054811),(79,114,4.25675222022156),(79,118,-0.700018311105686),(80,87,-0.0343333231604968),(80,88,0.390255439924314),(80,91,-0.167073580126347),(80,99,-1.70633564256722),(80,101,1.38714255195776),(80,107,-0.827448347422712),(80,113,0.886715292825099),(81,85,1.79357280190435),(81,86,-0.140156254768517),(81,90,1.65250099185156),(81,93,-2.87089144566179),(81,96,2.46610919522691),(81,97,-3.20369579149754),(81,106,-2.26564836573382),(81,107,-0.0413525803399761),(81,110,1.00009155552843),(81,115,-1.47282326731162),(82,86,-1.46557512131108),(82,92,5.28824732200079),(82,110,-1.05403302102725),(82,112,-1.4891964476455),(83,87,-0.374462111270485),(83,91,-0.720084231086154),(83,93,-0.586443678090762),(83,101,-2.17680898464919),(83,103,-1.41651661732841),(83,105,-1.12060914944914),(83,108,-1.341700491348),(84,85,-1.36214789269692),(84,86,1.08821375164037),(84,89,-3.05687124240852),(84,95,-2.03093050935392),(84,99,1.30809961241493),(84,104,0.320139164403211),(84,111,-1.67828913235878),(84,113,-2.85192419202246),(84,114,1.52815332499161),(35,105,1.51724295785394)]
orgname='BHNEAT_13_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()