edge = [(0,85,0.71874141666921),(0,89,-0.532303842280343),(0,90,0.245918149357585),(0,93,0.835077974791711),(0,98,0.43778801843318),(0,101,-0.773277993102817),(0,105,0.854243598742637),(0,108,-0.906521805475021),(0,113,0.215887936033204),(0,114,0.881679738761559),(0,117,-0.794885097811823),(0,118,-0.199621570482498),(1,86,0.565355388042848),(1,92,0.820032349620045),(1,98,-0.894955290383618),(1,102,-0.634815515610218),(1,104,0.0586565752128666),(1,107,-0.342509231849116),(1,108,-0.356151005584887),(1,109,0.754112369151891),(1,113,-0.113711966307566),(2,87,-0.0614032410657064),(2,88,0.352519302957244),(2,100,0.100192266609699),(2,106,0.403851435895871),(2,108,0.138309884945219),(2,110,-0.252998443556017),(2,113,0.220374156926176),(2,118,-0.89303262428663),(3,89,-0.600726340525529),(3,92,0.469191564683981),(3,97,0.295205542161321),(3,99,0.496047853022858),(3,101,0.283425397503586),(3,103,-0.927854243598743),(3,105,0.392712179937132),(3,108,0.363689077425459),(3,109,-0.394848475600452),(3,111,-0.168767357402264),(3,112,-0.34705648976104),(3,116,0.792870876186407),(4,90,0.708395641956847),(4,91,0.0672322763756218),(4,97,-0.26258125553148),(4,99,0.761650440992462),(4,101,0.379039887691885),(4,108,0.181798760948515),(4,113,0.642719809564501),(4,118,-0.0896633808404798),(5,86,0.384594256416517),(5,87,-0.726889858699301),(5,89,0.143742179631947),(5,92,0.223120822779015),(5,93,-0.59218115787225),(5,99,-0.170415356913968),(5,104,-0.95394756920072),(5,114,0.644886623737297),(5,118,0.449568163090915),(6,89,0.45661793877987),(6,92,0.797235023041475),(6,94,-0.909787285988952),(6,100,-0.301644947660756),(6,101,0.853419598986785),(6,103,-0.562273018585772),(6,107,0.30466628009888),(6,110,-0.331797235023041),(6,113,-0.425366985076449),(7,85,0.556291390728477),(7,86,0.133640552995392),(7,90,0.128299813837092),(7,95,-0.131168553727836),(7,99,0.384014404736473),(7,100,-0.62816248054445),(7,104,-0.875789666432691),(7,106,-0.546311838129826),(7,108,-0.451490829187902),(7,112,0.48216193121128),(7,116,0.17154454176458),(8,92,-0.210791344950713),(8,93,0.0951567125461592),(8,95,0.0123294778283029),(8,99,-0.467055269020661),(8,106,0.601702932828761),(8,107,0.335642567217017),(8,115,-0.943174535355693),(8,116,0.134281441694388),(8,118,0.730948820459609),(9,85,-0.25663014618366),(9,87,-0.817133091219825),(9,98,0.157170323801386),(9,101,0.367900631733146),(9,103,0.00881984923856319),(9,105,0.0298165837580493),(9,106,-0.447981200598163),(9,113,0.886989959410382),(10,89,0.438917203283792),(10,96,0.490279854731895),(10,106,0.788720358897671),(10,108,0.74047059541612),(10,109,0.34339426862392),(10,111,0.905819879757073),(10,112,-0.397534104434339),(10,114,0.555894650105289),(10,115,-0.347453230384228),(10,116,0.692495498519852),(10,117,0.120181890316477),(11,89,0.859065523239845),(11,97,0.408948026978362),(11,105,-0.510086367381817),(11,112,0.246406445509201),(11,115,-0.421308023316141),(12,92,0.947294534134953),(12,93,-0.422315134128849),(12,94,0.951261940366833),(12,97,0.232520523697623),(12,98,-0.597369304483169),(12,99,0.682027649769585),(12,108,0.361583300271615),(12,116,-0.0984832300790429),(13,86,-0.588335825678274),(13,87,-0.141239661854915),(13,90,0.247444074831385),(13,99,-0.863826410718101),(13,102,-0.747764519180883),(13,104,0.286416211432234),(13,113,0.338541825617237),(13,116,-0.259346293527024),(13,118,-0.130252998443556),(14,90,-0.898586993011261),(14,93,-0.2654805139317),(14,95,0.375011444441053),(14,102,-0.271584215826899),(14,104,0.338419751579333),(14,106,-0.126316110721152),(14,109,-0.757408368175298),(14,110,0.0674459059419538),(14,111,-0.456556901760918),(15,85,0.677938169499802),(15,92,-0.132389294106876),(15,99,0.277474288155766),(15,101,0.128604998931852),(15,104,0.152378917813654),(15,108,-0.752861110263375),(15,117,-0.654103213599048),(16,86,-0.415356913968322),(16,87,-0.698477126377148),(16,88,-0.371318704794458),(16,90,0.696432386242256),(16,91,-0.347941526535844),(16,95,-0.447828608050783),(16,97,0.837549974059267),(16,98,0.0291451765495773),(16,99,0.337961973937193),(16,101,-0.206732383190405),(16,108,-0.321298867763298),(16,110,0.406598101748711),(17,89,0.2127140110477),(17,96,0.772179326761681),(17,99,0.159916989654225),(17,101,-0.341349528489029),(17,106,0.875270851771599),(17,107,-0.873470259712516),(17,109,0.331034272286142),(18,90,0.358439893795587),(18,91,-0.589678640095218),(18,93,0.738517410809656),(18,99,-0.550126651814325),(18,102,0.874111148411512),(18,103,-0.891109958189642),(18,104,-0.285317545091098),(18,110,-0.993316446424757),(18,111,-0.699728385265664),(18,116,-0.120944853053377),(18,117,-0.938383129367962),(18,118,-0.644856105227821),(19,87,0.170720542008728),(19,89,-0.58714560380871),(19,93,-0.0700094607379376),(19,95,-0.270027771843623),(19,101,-0.900479140598773),(19,105,-0.349070711386456),(19,115,-0.0668965727713858),(20,88,-0.0125431073946348),(20,101,0.159154026917325),(20,103,0.627979369487594),(20,104,-0.021332438123722),(20,105,0.617358928189947),(20,106,-0.877895443586535),(20,111,0.841944639423811),(20,116,-0.0477004303109836),(21,86,-0.27820673238319),(21,87,0.277260658589434),(21,94,-0.266060365611744),(21,96,-0.223975341044343),(21,101,0.110446485793634),(21,102,-0.121524704733421),(21,105,0.317789239173559),(21,107,0.157902768028809),(21,108,0.248512222663045),(22,86,-0.597491378521073),(22,88,0.466780602435377),(22,91,-0.178685872981964),(22,92,-0.568712424085208),(22,93,-0.818262276070437),(22,98,0.770348216193121),(22,106,0.15317239906003),(22,115,-0.0367748039185766),(22,117,0.952208014160588),(23,85,-0.0333567308572649),(23,86,-0.927335428937651),(23,88,0.680654316843165),(23,90,0.97705008087405),(23,97,-0.593676564836573),(23,104,-0.392620624408704),(23,112,-0.187932981353191),(23,114,-0.0584429456465346),(23,115,-0.732016968291269),(23,116,0.177587206640828),(24,89,-0.12884914700766),(24,90,0.554246650593585),(24,91,-0.707266457106235),(24,101,0.963988158818323),(24,107,0.803643910031434),(24,108,0.643086031678213),(24,110,0.41666920987579),(24,112,-0.428327280495621),(25,90,-0.71523178807947),(25,92,-0.578478347117527),(25,94,-0.680928983428449),(25,98,0.80840479750969),(25,105,0.667043061616871),(25,108,-0.567674794763024),(25,109,0.154332102420118),(25,115,-0.0943937498092593),(26,85,-0.485580004272591),(26,87,0.275582140568255),(26,89,0.859950560014649),(26,95,-0.84560686056093),(26,98,-0.368053224280526),(26,100,0.95364238410596),(26,101,0.349772637104404),(26,102,-0.631611072115238),(26,103,0.855067598498489),(26,104,0.193700979644154),(26,107,-0.489944151127659),(26,109,-0.0988189336832789),(26,112,-0.428205206457717),(26,113,0.307077242347484),(26,117,0.870754112369152),(27,85,0.661824396496475),(27,87,0.732871486556597),(27,94,0.32822656941435),(27,100,0.841944639423811),(27,102,-0.819788201544237),(27,103,0.425641651661733),(27,104,0.643879512924589),(27,105,0.17276528214362),(27,108,-0.097872859889523),(27,110,0.6472975859859),(27,114,0.246803186132389),(28,87,0.337321085238197),(28,88,-0.61375774407178),(28,97,0.120151371807001),(28,99,0.614764854884487),(28,104,0.424420911282693),(28,113,0.268745994445631),(28,114,-0.870906704916532),(29,88,0.214362010559404),(29,91,0.672963652455214),(29,102,0.56450086977752),(29,105,0.578173162022767),(29,116,-0.630085146641438),(30,95,0.632038331247902),(30,96,0.0442518387401959),(30,99,0.545274208807642),(30,101,-0.318094424268319),(30,104,0.946043275246437),(30,109,-0.359294412060915),(30,110,0.297799615466781),(30,114,0.985106967375713),(30,118,-0.764885402996918),(31,85,-0.96035645619068),(31,92,0.806237983336894),(31,94,0.592425305948058),(31,96,-0.779107028412732),(31,99,-0.413983581041902),(31,103,0.333719901120029),(31,107,-0.984771263771477),(31,108,0.880123294778283),(31,109,0.343974120303964),(31,111,-0.90865810113834),(31,112,0.144108401745659),(31,117,0.445173497726371),(32,86,-0.997833185827204),(32,87,-0.422315134128849),(32,89,0.0687582018494217),(32,92,-0.247779778435621),(32,98,0.438062685018464),(32,99,0.351573229163488),(32,104,0.277138584551531),(32,106,0.992645039216285),(32,109,0.358684041871395),(32,116,-0.106540116580706),(32,118,-0.936674092837306),(33,96,-0.475844599749748),(33,98,0.526596881008332),(33,108,0.0032349620044557),(33,110,-0.617725150303659),(33,111,-0.370189519943846),(33,114,0.847926267281106),(34,85,0.861140781884213),(34,90,-0.672658467360454),(34,99,-0.635120700704978),(34,104,-0.0595110934781945),(34,109,0.225959044160283),(35,86,0.239417706839198),(35,87,0.552018799401837),(35,97,0.0453505050813318),(35,98,0.217261268959624),(35,100,-0.870784630878628),(35,104,0.384350108340709),(35,107,0.777886288033692),(35,109,0.00119022186956389),(35,110,-0.787987914670248),(35,112,0.662709433271279),(36,85,0.884456923123875),(36,87,-0.887966551713614),(36,90,-0.759849848933378),(36,91,-0.0950956755272073),(36,104,-0.838679158909879),(36,107,-0.054567094943083),(36,109,0.606494338816492),(36,112,-0.102084414197211),(36,115,0.777001251258889),(36,117,0.892696920682394),(36,118,0.32837916196173),(37,85,-0.976928006836146),(37,86,-0.939939573351238),(37,87,0.980895413068026),(37,91,0.860225226599933),(37,99,0.670613727225562),(37,105,-0.73848689230018),(37,111,-0.682699056978057),(37,112,-0.449751274147771),(37,118,-0.202185125278481),(38,87,-0.445661793877987),(38,90,0.368968779564806),(38,103,0.661793877986999),(38,105,0.693899349955748),(38,106,-0.512802514725181),(38,111,0.265816217535936),(38,115,0.00698873867000336),(39,87,0.0311899166844691),(39,89,-0.510971404156621),(39,91,0.926938688314463),(39,94,-0.195989867854854),(39,97,0.148045289468062),(39,98,-0.697408978545488),(39,107,-0.331522568437758),(39,108,0.0180059205908383),(39,109,0.93710135196997),(39,111,0.206915494247261),(39,113,0.60689107943968),(39,116,-0.84499649037141),(39,118,-0.784630878627888),(40,88,0.868282113101596),(40,92,-0.375957518234809),(40,99,-0.760399182103946),(40,104,0.730979338969085),(40,110,-0.645588549455245),(40,116,-0.730185857722709),(40,118,0.313150425733207),(41,88,-0.255470442823573),(41,93,0.704824976348155),(41,96,0.82692953276162),(41,97,-0.89654225287637),(41,100,-0.686788537247841),(41,101,-0.105075228125858),(41,104,0.112277596362194),(41,105,-0.752098147526475),(41,106,0.237861262855922),(41,107,-0.115085299233985),(41,109,-0.168736838892788),(41,110,0.598559526352733),(41,111,-0.666371654408399),(41,112,-0.15454573198645),(42,85,0.187749870296335),(42,86,0.885738700521867),(42,87,0.559495834223457),(42,99,-0.360576189458907),(42,100,-0.0675069429609058),(42,103,-0.673390911587878),(42,109,-0.244453260902738),(42,113,0.779137546922208),(43,85,0.135410626545),(43,88,-0.135227515488144),(43,89,0.323404644917142),(43,93,-0.181310464796899),(43,97,-0.495895260475478),(43,98,0.687734611041597),(43,101,0.833704641865291),(43,102,0.504928739280374),(43,103,0.00305185094759972),(43,105,-0.744071779534287),(43,110,0.033021027253029),(43,112,0.920804467909787),(43,114,-0.858272041993469),(43,116,0.0930204168828394),(44,89,-0.809595019379253),(44,98,0.524155400250252),(44,99,-0.832789086581011),(45,87,0.902920621356853),(45,88,0.71721549119541),(45,90,-0.6511123996704),(45,91,-0.115512558366649),(45,95,-0.350444044312876),(45,98,0.635547959837642),(45,108,0.819971312601093),(45,109,0.785699026459548),(45,112,-0.874752037110508),(45,115,-0.0551774651326029),(46,85,0.297769096957305),(46,89,-0.910367137668996),(46,91,-0.0560319833979308),(46,94,-0.987914670247505),(46,97,-0.291604358043153),(46,100,-0.267128513443403),(46,101,0.119785149693289),(46,108,0.50160222174749),(46,112,-0.764976958525346),(47,86,-0.691946165349284),(47,91,0.06549272133549),(47,92,0.880794701986755),(47,94,0.879268776512955),(47,95,-0.0514847254860073),(47,100,0.420575579088717),(47,101,0.411420026245918),(47,104,0.0601825006866665),(47,105,-0.841181676686911),(47,108,-0.619342631305887),(47,112,-0.791314432203131),(47,114,0.689168980986969),(47,118,-0.407452620014039),(48,86,-0.00683614612262337),(48,91,0.165074617755669),(48,98,0.419598986785485),(48,99,0.795648060548723),(48,100,-0.467818231757561),(48,103,-0.784478286080508),(48,105,0.118533890804773),(48,106,0.2226325266274),(48,111,0.680623798333689),(48,115,0.293374431592761),(49,87,0.432844019898068),(49,89,0.174474318674276),(49,93,0.996063112277596),(49,94,0.638111514633625),(49,95,-0.98071230201117),(49,102,-0.128971221045564),(49,113,0.941251869258705),(49,114,-0.602465895565661),(50,89,0.168034913174841),(50,105,-0.903500473036897),(50,107,0.34873500778222),(51,87,0.967955565050203),(51,92,0.629902035584582),(51,97,-0.627460554826502),(51,98,0.110232856227302),(51,103,0.298898281807916),(51,106,0.296853541673025),(51,112,0.340128788109989),(51,118,-0.555528427991577),(52,89,0.352671895504624),(52,97,-0.086428418836024),(52,106,0.213202307199316),(52,110,0.456434827723014),(52,111,-0.114719077120273),(52,113,-0.219458601641896),(52,114,0.398510696737571),(52,118,-0.655751213110752),(53,88,0.458815271462142),(53,90,0.161595507675405),(53,92,-0.500564592425306),(53,94,-0.320963164159062),(53,104,-0.432203131199072),(53,105,0.189580980864895),(53,109,-0.67436750389111),(54,85,0.823480941190832),(54,91,0.165776543473617),(54,94,-0.582750938444166),(54,96,-0.347911008026368),(54,111,-0.242164372692038),(54,112,-0.409161656544694),(54,113,-0.439374980925932),(54,118,0.570055238502152),(55,87,0.492568742942595),(55,95,0.6909085360271),(55,107,0.118167668691061),(55,110,-0.982879116183966),(55,117,-0.0806299020355846),(56,107,0.103671376689962),(56,111,0.304605243079928),(56,113,0.419568468276009),(56,114,-0.48170415356914),(57,87,-0.714377269814142),(57,90,-0.702322458571123),(57,91,0.127079073458052),(57,92,0.144291512802515),(57,93,-0.599291970580157),(57,94,0.34949797051912),(57,95,-0.6136051515244),(57,96,-0.119235816522721),(57,100,0.504287850581378),(57,102,0.560472426526688),(57,103,0.121433149204993),(57,115,-0.313333536790063),(58,86,0.12991729483932),(58,87,0.491836298715171),(58,89,0.724478896450697),(58,90,-0.368388927884762),(58,95,-0.0416272469252602),(58,96,0.334055604724265),(58,101,0.0509048738059633),(58,103,-0.165105136265145),(58,109,-0.204901272621845),(58,110,-0.127811517685476),(58,113,0.631031220435194),(58,114,0.952055421613208),(58,115,-0.145329142124699),(58,118,0.205450605792413),(59,85,-0.869685964537492),(59,86,-0.0993682668538469),(59,90,-0.73390911587878),(59,91,0.257301553392132),(59,93,-0.643940549943541),(59,97,0.477919858394116),(59,98,0.597094637897885),(59,100,0.0231025116733299),(59,102,-0.525955992309336),(59,112,0.463026825769829),(59,114,0.152012695699942),(60,85,0.60856959746086),(60,87,-0.630390331736198),(60,90,-0.563463240455336),(60,91,-0.266609698782311),(60,96,-0.426465651417585),(60,100,-0.087160863063448),(60,101,-0.675313577684866),(60,105,0.544724875637074),(60,107,-0.76342051454207),(60,109,-0.139194921720023),(60,110,-0.960905789361248),(60,114,-0.236396374401074),(61,89,0.970976897488327),(61,94,0.864925077059236),(61,96,-0.3527024140141),(61,98,-0.772911770989105),(61,100,0.28217413861507),(61,102,-0.525955992309336),(61,103,-0.682241279335917),(61,114,0.926969206823939),(61,115,-0.253028962065493),(62,93,-0.539841914120914),(62,95,-0.43397320474868),(62,107,0.597827082125309),(62,109,-0.82876064333018),(62,110,-0.0777001251258888),(62,111,0.124240852076785),(63,87,0.22156437879574),(63,90,0.0351878414258248),(63,93,-0.286812952055422),(63,97,0.30512405774102),(63,100,0.80611590929899),(63,103,0.295419171727653),(63,104,-0.138279366435743),(63,108,0.19342631305887),(63,111,-0.591448713644826),(63,114,0.370952482680746),(63,117,0.899777214880825),(64,87,-0.924466689046907),(64,94,0.334818567461165),(64,99,0.928159428693503),(64,110,-0.233069856868191),(64,112,0.43107394634846),(64,116,0.220740379039888),(65,87,-0.729789117099521),(65,88,-0.916867580187384),(65,90,-0.947508163701285),(65,97,-0.396374401074252),(65,99,0.45127719962157),(65,107,-0.19418927579577),(65,110,-0.138248847926267),(65,111,-0.13144322031312),(65,114,0.122226630451369),(65,116,-0.745353556932279),(65,117,-0.852076784569842),(66,85,-0.603625598925749),(66,102,0.192754905850398),(66,105,0.285287026581622),(66,108,-0.500778221991638),(66,111,0.308450575273904),(66,115,0.224860377819147),(66,118,-0.786584063234352),(67,86,-0.0632343516342662),(67,90,-0.0947294534134953),(67,92,0.208960234382153),(67,104,0.326761680959502),(67,109,-0.714255195776238),(67,111,0.824549089022492),(68,87,-0.505233924375133),(68,88,0.56114383373516),(68,90,0.0783715323343608),(68,93,0.658375804925687),(68,95,-0.409894100772118),(68,96,-0.820551164281137),(68,97,-0.108981597338786),(68,103,0.965422528763695),(68,107,0.346873378704184),(68,112,-0.833735160374767),(68,114,0.592089602343822),(69,87,0.858516190069277),(69,88,0.683980834376049),(69,92,0.0752586443678091),(69,94,0.275154881435591),(69,95,-0.354564043092135),(69,97,-0.174413281655324),(69,108,0.738120670186468),(69,113,0.621234778893399),(69,114,0.159489730521561),(69,118,-0.0231635486922819),(70,85,-0.331186864833522),(70,86,0.187597277748955),(70,87,0.0784936063722648),(70,90,0.578447828608051),(70,96,-0.902279732657857),(70,97,-0.629932554094058),(70,99,-0.0511490218817713),(70,105,0.647999511703848),(70,107,0.885280922879727),(70,109,0.33097323526719),(70,110,0.811609241004669),(70,111,0.440626239814447),(71,85,0.573290200506607),(71,93,0.654652546769616),(71,96,0.173619800408948),(71,100,0.132450331125828),(71,104,-0.215979491561632),(71,106,0.824732200079348),(71,111,0.941038239692373),(71,113,0.0585345011749626),(72,94,0.74245429853206),(72,96,-0.428998687704093),(72,99,-0.442487868892483),(72,110,-0.529068880275887),(72,112,0.108584856715598),(72,114,0.548020874660482),(72,115,-0.69197668385876),(72,116,0.270851771599475),(73,88,-0.270088808862575),(73,94,-0.508987701040681),(73,99,-0.1736808374279),(73,100,-0.493850520340587),(73,106,0.779869991149632),(73,110,0.264778588213752),(73,115,0.252388073366497),(74,90,-0.582293160802026),(74,94,0.010742515335551),(74,99,0.397778252510147),(74,102,-0.208532975249489),(74,106,-0.411358989226966),(74,107,-0.0032654805139317),(74,110,-0.748741111484115),(74,113,-0.898281807916501),(74,116,0.288460951567125),(75,85,0.938138981292154),(75,86,-0.670827356791894),(75,93,-0.0387585070345164),(75,98,0.51966917935728),(75,103,-0.233924375133518),(75,105,0.908383434553056),(75,111,-0.118350779747917),(75,117,-0.601123081148717),(76,86,0.269966734824671),(76,89,0.100863673818171),(76,92,0.931577501754814),(76,94,-0.0353709524826807),(76,99,0.733634449293497),(76,101,-0.911923581652272),(76,103,0.739371929074984),(76,106,0.772942289498581),(76,110,0.593249305703909),(76,113,0.782982879116184),(77,88,-0.054322946867275),(77,91,0.278542435987426),(77,93,0.695699942014832),(77,98,-0.312387462996307),(77,101,-0.0508438367870113),(77,102,0.222663045136876),(77,103,-0.989074373607593),(77,104,-0.259315775017548),(77,105,-0.600085451826533),(77,109,-0.797845393230995),(78,88,0.370189519943846),(78,93,-0.172551652577288),(78,94,0.930326242866298),(78,101,0.660084841456343),(78,104,0.157567064424573),(78,110,-0.644489883114109),(78,114,0.912045655690176),(78,116,0.495376445814386),(78,117,0.188787499618519),(78,118,-0.189977721488083),(79,87,-0.968108157597583),(79,92,-0.210913418988617),(79,94,0.543259987182226),(79,107,-0.750297555467391),(79,108,-0.60887478255562),(79,114,0.751762443922239),(79,118,0.88982818079165),(80,87,-0.821955015717032),(80,88,-0.592455824457534),(80,91,0.541947691274758),(80,99,0.45951719718009),(80,101,-0.210730307931761),(80,107,-0.709707937864315),(80,113,0.551194799645985),(81,85,-0.643208105716117),(81,86,-0.410504470961638),(81,90,-0.194524979400006),(81,93,-0.985992004150517),(81,96,0.214056825464644),(81,97,-0.60719626453444),(81,106,0.75899533066805),(81,107,0.606311227759636),(81,110,-0.17551194799646),(81,115,-0.307535019989624),(82,86,0.253395184179205),(82,92,0.666829432050539),(82,110,-0.23368022705771),(82,112,0.593249305703909),(83,87,-0.951567125461593),(83,91,0.483352153080844),(83,93,-0.895077364421522),(83,101,-0.999664296395764),(83,103,-0.460921048615986),(83,105,-0.624317148350475),(83,108,0.189245277260659),(84,85,0.0197454756309702),(84,86,-0.257667775505844),(84,89,0.727011932737205),(84,95,0.0166325876644185),(84,99,-0.233161412396619),(84,104,-0.84698019348735),(84,111,0.939268166142766),(84,113,-0.120883816034425),(84,114,-0.0598467970824305)]
orgname='BHNEAT_1_6'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()