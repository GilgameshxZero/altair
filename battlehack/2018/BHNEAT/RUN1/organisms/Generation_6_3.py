edge = [(0,85,0.880794701986755),(0,89,-0.0589465010528887),(0,90,-3.71692556535539),(0,93,1.71897030549028),(0,98,0.237403485213782),(0,101,-1.37427900021363),(0,105,2.1024811548204),(0,108,-1.64410840174566),(0,113,4.01344340342418),(0,114,-3.42614520706809),(0,117,-0.0041199987792595),(0,118,-0.242561113315226),(1,86,-2.79189428388317),(1,92,2.14760277108066),(1,98,2.3017822809534),(1,102,-3.79921872615741),(1,104,-2.2233954893643),(1,107,-2.62022766808069),(1,108,0.0605029450361644),(1,109,-2.92399365215003),(1,113,2.6988586077456),(2,87,-2.65385906552324),(2,88,-0.568483535264138),(2,100,2.38544877468184),(2,106,-1.34101382488479),(2,108,1.16501358073672),(2,110,0.138157292397839),(2,113,-0.104113895077364),(2,118,-1.23770867030854),(3,89,1.80755027924436),(3,92,-0.787820062868129),(3,97,-0.930967131565294),(3,99,2.80745872371593),(3,101,-0.370860927152318),(3,103,1.11340678121281),(3,105,-0.775902584917753),(3,108,-1.88198492385632),(3,109,0.637775811029389),(3,111,-2.52278206732383),(3,112,4.64078188421277),(3,116,-1.30425428022095),(4,90,2.55967894528031),(4,91,2.13295388653218),(4,97,0.455839716788232),(4,99,0.0663472396008179),(4,101,-4.50456251716666),(4,108,1.77587206640828),(4,113,-0.872325815607166),(4,118,-3.27930539872433),(5,86,-0.416486098818934),(5,87,-0.347178563798944),(5,89,-0.775673696096683),(5,92,-2.5322885830256),(5,93,0.657582323679312),(5,99,1.46462904751732),(5,104,-0.34461500900296),(5,114,-0.674001281777398),(5,118,0.740791039765618),(6,89,1.58943449201941),(6,92,-2.17917416913358),(6,94,-2.40363780632954),(6,100,-0.938840907010102),(6,101,-2.07115390484329),(6,103,1.5528885769219),(6,107,3.06546220282601),(6,110,-1.759056367687),(6,113,2.4101687673574),(7,85,-1.74787133396405),(7,86,1.07972960600604),(7,90,-1.95724356822413),(7,95,-0.201147495956297),(7,99,-0.694250312814722),(7,100,2.20403149510178),(7,104,1.07579271828364),(7,106,-0.284279915768914),(7,108,-3.16539506210517),(7,112,-3.3886837366863),(7,116,1.48716696676534),(8,92,-2.27915280617695),(8,93,-1.26169621875668),(8,95,-0.854503006073184),(8,99,-0.0719321268349254),(8,106,0.854457228308969),(8,107,2.27918332468642),(8,115,-2.67383342997528),(8,116,-1.835352641377),(8,118,-2.16139713736381),(9,85,0.810251167332987),(9,87,0.112201300088504),(9,98,0.520538956877346),(9,101,2.81560716574602),(9,103,0.663853877376629),(9,105,-2.83375041962951),(9,106,0.958479567857906),(9,113,-0.313364055299539),(10,89,-1.46896267586291),(10,96,-2.14464247566149),(10,106,0.979003265480514),(10,108,5.00552385021516),(10,111,-3.09912411877804),(10,112,0.948286385692923),(10,114,2.01336710715049),(10,115,-1.88235114597003),(10,116,-3.33445234534745),(10,117,0.252418591875973),(11,89,2.43005157628101),(11,97,0.806695760979034),(11,105,0.91590624713889),(11,112,-1.44300668355358),(11,115,-1.35532700582904),(12,92,-0.39379558702353),(12,93,0.83112582781457),(12,94,-2.67006439405499),(12,97,-3.7078157902768),(12,98,4.94935453352458),(12,99,3.04618976409192),(12,108,-1.27504806665242),(12,116,1.36823633533738),(13,86,2.41192358165227),(13,87,-0.372646259956664),(13,90,1.36832789086581),(13,99,-0.423429059724723),(13,102,2.52143925290689),(13,104,0.117740409558397),(13,113,-1.99806207464827),(13,116,2.57786797692801),(13,118,1.68980986968596),(14,90,0.216269417401654),(14,93,0.429044465468307),(14,95,-0.247428815576647),(14,102,-2.50105288857692),(14,104,-0.377819147312845),(14,106,4.78165532395398),(14,109,-1.42541276284066),(14,110,-3.70831934568316),(14,111,1.22956022827845),(15,85,-1.74524674214911),(15,92,-0.204886013367107),(15,99,-2.04890591143529),(15,101,0.0948362681966614),(15,104,-0.665715506454665),(15,108,-1.17574083681753),(15,117,3.56805627613147),(16,86,1.91511276589251),(16,87,-0.452146977141636),(16,88,3.59585863826411),(16,90,4.72911770989105),(16,91,1.91381572923978),(16,95,-0.47926267281106),(16,97,1.9303262428663),(16,98,-0.662587359233375),(16,99,-2.11563463240455),(16,101,-0.701574755088961),(16,108,2.0224463637196),(16,110,2.84578997161779),(17,89,0.332682271797845),(17,96,-3.42643513290811),(17,99,-3.27698599200415),(17,101,1.91476180303354),(17,106,-1.66475417340617),(17,107,0.918576616718039),(17,109,-1.68788720358898),(18,90,3.14581743827631),(18,91,-4.32287057100131),(18,93,0.808450575273904),(18,99,0.0905636768700217),(18,102,-1.59279152806177),(18,103,-1.35522019104587),(18,104,2.23853267006439),(18,110,0.410748619037446),(18,111,2.79265724662007),(18,116,0.86619159520249),(18,117,2.60528885769219),(18,118,2.40612506485183),(19,87,1.34099856563005),(19,89,0.926267281105991),(19,93,-1.77243873409223),(19,95,-3.43203527939695),(19,101,3.22487563707389),(19,105,1.64310129093295),(19,115,-2.67926572466201),(20,88,-0.443632312997833),(20,101,-1.9501632740257),(20,103,-2.46684163945433),(20,104,-0.508026367992187),(20,105,-0.817011017181921),(20,106,-0.100695822016053),(20,111,-3.33521530808435),(20,116,-0.926938688314463),(21,86,3.25884273812067),(21,87,0.888531144138921),(21,94,-1.03944517349773),(21,96,-0.666829432050539),(21,101,0.796945097201453),(21,102,-1.37861262855922),(21,105,-2.7200231940672),(21,107,-1.70120853297525),(21,108,0.707388531144139),(22,86,-1.17950987273782),(22,88,-1.51475569933164),(22,91,3.11519211401715),(22,92,-2.3135471663564),(22,93,-0.540849024933622),(22,98,1.0814386425367),(22,106,-3.05706961272011),(22,115,3.28933072908719),(22,117,1.35120700704978),(23,85,-2.8397320474868),(23,86,-2.21871089815973),(23,88,-1.79099398785363),(23,90,-1.67490157780694),(23,97,3.85480819116794),(23,104,1.91029084139531),(23,112,-0.491042817468795),(23,114,-0.504303109836116),(23,115,1.71463667714469),(23,116,1.27237769707327),(24,89,0.152699362163152),(24,90,-2.34958952604755),(24,91,-1.73300881984924),(24,101,-1.34847560045167),(24,107,0.925290688802759),(24,108,-0.781395916623432),(24,110,2.66943876461074),(24,112,-0.83097323526719),(25,90,-0.122348704489273),(25,92,1.16728720969268),(25,94,0.826105533005768),(25,98,0.147053437910092),(25,105,-1.59074678792688),(25,108,-0.945463423566393),(25,109,-2.37585070345164),(25,115,-1.04794457838679),(26,85,2.33022553178503),(26,87,-2.32412182988983),(26,89,-2.39448225348674),(26,95,2.54637287514878),(26,98,-1.57092501602222),(26,100,-1.57406842249825),(26,101,4.34633930478835),(26,102,1.30980864894559),(26,103,3.59016693624683),(26,104,0.143345439008759),(26,107,-1.32482375560778),(26,109,-1.15884884182257),(26,112,0.213950010681478),(26,113,-0.13106173894467),(26,117,0.0721915341654711),(27,85,0.281991027558214),(27,87,0.655400250251778),(27,94,-1.23529770805994),(27,100,1.2891323587756),(27,102,1.06288338877529),(27,103,0.197378460036012),(27,104,-1.51094088564715),(27,105,0.487289040803247),(27,108,-3.46781823175756),(27,110,1.54216132084109),(27,114,-0.469313638721885),(28,87,1.09929197058016),(28,88,3.80545976134526),(28,97,2.21312601092563),(28,99,-1.45536667989135),(28,104,-2.35081026642659),(28,113,-1.12749107333598),(28,114,2.08767967772454),(29,88,0.490096743675039),(29,91,1.29622791222877),(29,102,1.4788354136784),(29,105,-3.05201879940184),(29,116,-0.191076387829218),(30,95,-1.55677968688009),(30,96,-4.28003784295175),(30,99,-4.64935758537553),(30,101,0.0627460554826502),(30,104,-1.87604907376324),(30,109,2.08795434430982),(30,110,0.637028107547227),(30,114,3.49722281563768),(30,118,0.359538560136723),(31,85,-0.044343394268624),(31,92,2.01196325571459),(31,94,1.90037232581561),(31,96,1.63460188604389),(31,99,1.5248573259682),(31,103,1.69200720236824),(31,107,-0.510193182164983),(31,108,1.90833765678884),(31,109,-0.959471419415876),(31,111,-1.56813257240516),(31,112,1.12445448164312),(31,117,-0.0848109378337962),(32,86,2.60467848750267),(32,87,2.3700521866512),(32,89,-1.43424787133396),(32,92,-1.2810602130192),(32,98,0.385570848719748),(32,99,-1.47700430310984),(32,104,-0.15462202826014),(32,106,0.0692922757652516),(32,109,0.834467604602191),(32,116,-1.81488998077334),(32,118,-0.0120395519882808),(33,96,0.609729300820948),(33,98,2.72090823084201),(33,108,-2.25862910855434),(33,110,-1.71120334482864),(33,111,3.96790978728599),(33,114,3.04286324655904),(34,85,0.228797265541551),(34,90,-1.33257545701468),(34,99,-0.809274575029756),(34,104,0.180608539078951),(34,109,-0.914822840052492),(35,86,2.4016541032136),(35,87,0.324381237220374),(35,97,0.11085848567156),(35,98,-0.877864925077059),(35,100,4.2996154667806),(35,104,2.6930753501999),(35,107,-1.63921018097476),(35,109,1.15694143498032),(35,110,-1.23220007934812),(35,112,1.4394817957091),(36,85,-1.96334727011933),(36,87,-0.690282906582842),(36,90,-3.48269600512711),(36,91,-0.610522782067324),(36,104,1.47129734183782),(36,107,0.711249122592853),(36,109,-1.30504776146733),(36,112,1.03283791619617),(36,115,4.2413861507004),(36,117,-0.0356761375774408),(36,118,1.88064210943938),(37,85,1.32195501571703),(37,86,0.197988830225532),(37,87,2.05259865108188),(37,91,0.793786431470687),(37,99,-0.0126804406872769),(37,105,2.1959288308359),(37,111,-0.88769188512833),(37,112,-1.46813867610706),(37,118,-1.40899380474258),(38,87,2.67561876277963),(38,90,-0.815775017548143),(38,103,-1.09215063936277),(38,105,0.794824060792871),(38,106,-0.10643330179754),(38,111,3.16939298684652),(38,115,0.406521805475021),(39,87,-2.30932035279397),(39,89,0.380565813165685),(39,91,-2.20931119724113),(39,94,-2.44296090578936),(39,97,1.07878353221229),(39,98,-2.67217017120884),(39,107,-4.09178441724906),(39,108,-0.0828119754631184),(39,109,-0.625797296060061),(39,111,1.70925016022217),(39,113,1.9050263985107),(39,116,0.989623706778161),(39,118,-3.22347178563799),(40,88,2.57222205267495),(40,92,-2.09219641712699),(40,99,0.819620349742119),(40,104,-1.41372417371136),(40,110,2.32247383037812),(40,116,0.838816492202521),(40,118,1.09721671193579),(41,88,-1.60473952452162),(41,93,1.54364146855068),(41,96,-2.95773186437574),(41,97,2.46147038178655),(41,100,-0.256965849787896),(41,101,2.98147526474807),(41,104,1.27358317819758),(41,105,-1.44537186803797),(41,106,-0.0265816217535936),(41,107,-0.935087130344554),(41,109,1.6671346171453),(41,110,-0.368343150120548),(41,111,-3.0324869533372),(41,112,-0.845576342051454),(42,85,0.263939329203162),(42,86,0.189107943968017),(42,87,-0.382808923612171),(42,99,1.0956144901883),(42,100,2.60708944975127),(42,103,-1.24881740775781),(42,109,-5.2891323587756),(42,113,-2.35439619129002),(43,85,2.60632648701437),(43,88,3.80390331736198),(43,89,-1.95507675405133),(43,93,-3.61969359416486),(43,97,1.8561967833491),(43,98,-1.04965361491745),(43,101,0.817087313455611),(43,102,3.3786431470687),(43,103,0.676747947630238),(43,105,-2.24089785454878),(43,110,0.952040162358471),(43,112,1.53631702627644),(43,114,-3.22235786004212),(43,116,-0.474410229804376),(44,89,-2.81891842402417),(44,98,3.46118045594653),(44,99,-1.07507553331095),(45,87,0.95959349345378),(45,88,0.137424848170415),(45,90,-0.462950529496139),(45,91,-0.548326059755242),(45,95,0.578737754448073),(45,98,0.573412274544511),(45,108,1.00708029419843),(45,109,3.0734885708182),(45,112,-1.87125766777551),(45,115,1.74098941007721),(46,85,0.497543259987182),(46,89,0.788430433057649),(46,91,-4.1713919492172),(46,94,-3.02810754722739),(46,97,2.65509506515702),(46,100,-2.40774254585406),(46,101,-1.56009094515824),(46,108,-3.97183141575365),(46,112,-0.50236518448439),(47,86,-0.0759605700857566),(47,91,4.56524857325968),(47,92,0.771721549119541),(47,94,-3.38012329477828),(47,95,-1.07379375591296),(47,100,-2.07173375652333),(47,101,-2.80075991088595),(47,104,2.47611926633503),(47,105,2.36944181646168),(47,108,-3.4980315561388),(47,112,-2.03941465498825),(47,114,-1.79998168889431),(47,118,1.58954130680258),(48,86,1.75217444380016),(48,91,1.3368785668508),(48,98,2.49291970580157),(48,99,1.15128025147252),(48,100,-2.26827295754875),(48,103,-2.30890835291604),(48,105,0.702291940061648),(48,106,-2.13655507065035),(48,111,-1.59826960051271),(48,115,-0.567949461348308),(49,87,-1.65941343424787),(49,89,-1.32125308999908),(49,93,0.858989226966155),(49,94,-0.596331675160985),(49,95,2.62961210974456),(49,102,0.537827692495499),(49,113,2.79662465285195),(49,114,-0.0500808740501115),(50,89,3.01539658803064),(50,105,0.658375804925687),(50,107,0.0278786584063234),(51,87,1.11543626209296),(51,92,3.98635822626423),(51,97,3.20142216254158),(51,98,1.76018555253761),(51,103,-1.87870418408765),(51,106,-1.29462569048128),(51,112,0.0262459181493575),(51,118,-2.40054017761773),(52,89,2.23323770867031),(52,97,0.159352397228919),(52,106,-3.09053315836055),(52,110,-1.26422925504318),(52,111,1.70418408764916),(52,113,2.73531296731468),(52,114,-3.96678060243538),(52,118,-0.259590441602832),(53,88,1.78498184148686),(53,90,-0.97918637653737),(53,92,2.69675283059175),(53,94,-0.281914731284524),(53,104,-0.152241584521012),(53,105,1.4894405957213),(53,109,-1.7797784356212),(54,85,0.273567918942839),(54,91,-1.27887813959166),(54,94,0.703665272988067),(54,96,0.115970336008789),(54,111,-0.602053895687734),(54,112,1.24242378002258),(54,113,2.35811944944609),(54,118,-2.12285225989563),(55,87,-2.16313669240394),(55,95,0.955687124240852),(55,107,0.0902584917752617),(55,110,-1.42811365092929),(55,117,-1.21217993713187),(56,107,0.456968901638844),(56,111,1.6015198217719),(56,113,0.28865932187872),(56,114,2.34253975035859),(57,87,1.01216162602618),(57,90,2.45776238288522),(57,91,2.96571245460372),(57,92,3.34669026764733),(57,93,0.777245399334696),(57,94,-0.879116183965575),(57,95,0.615466780602435),(57,96,-0.248832667012543),(57,100,2.69130527665029),(57,102,-2.94511246070742),(57,103,4.83726004821925),(57,115,-2.21671193578906),(58,86,-0.485915707876827),(58,87,-1.69702749717704),(58,89,2.13859981078524),(58,90,2.68875698110904),(58,95,-1.76200140385144),(58,96,-0.462050233466598),(58,101,-0.282128360850856),(58,103,2.12524796288949),(58,109,-0.239875484481338),(58,110,-0.785195471053194),(58,113,0.648640400402845),(58,114,0.668507950071718),(58,115,-0.322031311990722),(58,118,-2.04313791314432),(59,85,-0.769341105380413),(59,86,2.8492080446791),(59,90,2.45341349528489),(59,91,1.21669667653432),(59,93,2.15266884365368),(59,97,-0.330301828058717),(59,98,-0.507797479171117),(59,100,-1.72241889706107),(59,102,-1.51864680928983),(59,112,-2.48565630054628),(59,114,-2.83825189977722),(60,85,-0.254707480086672),(60,87,-1.47296060060427),(60,90,-0.613467818231758),(60,91,-0.450682088686789),(60,96,1.49674977874081),(60,100,-0.801904354991302),(60,101,0.729331339457381),(60,105,-2.74529251991333),(60,107,0.139973143711661),(60,109,1.84565263832514),(60,110,-0.275414288766136),(60,114,-0.076311532944731),(61,89,1.10588396862697),(61,94,-1.15109714041566),(61,96,1.21393475142674),(61,98,1.39408551286355),(61,100,2.87041840876492),(61,102,-0.997421185949278),(61,103,-0.0921658986175116),(61,114,-1.18356883449812),(61,115,-0.177236243781853),(62,93,-1.63612781151769),(62,95,0.335322122867519),(62,107,-2.5328073976867),(62,109,2.71053193762017),(62,110,2.38448744163335),(62,111,-1.00801110873745),(63,87,-2.0053407391583),(63,90,2.75005340739158),(63,93,3.48712118900113),(63,97,-0.80932035279397),(63,100,2.67209387493515),(63,103,-1.16368602557451),(63,104,1.8307748649556),(63,108,0.938276314584796),(63,111,1.71024201178014),(63,114,-0.991439558091983),(63,117,-0.126010925626392),(64,87,-2.75299844355602),(64,94,-1.89350566118351),(64,99,2.37241737113559),(64,110,-1.4192022461623),(64,112,-2.34209723197119),(64,116,-0.82677694021424),(65,87,3.02046266060366),(65,88,-1.65337076937162),(65,90,1.37722403637806),(65,97,-1.74217963194678),(65,99,-1.50943021942808),(65,107,0.0896938993499558),(65,110,-1.65091402935881),(65,111,-0.639927365947447),(65,114,-1.68330942716758),(65,116,-2.89629810480056),(65,117,0.97949156163213),(66,85,-2.82306894131291),(66,102,-1.09166234321116),(66,105,0.945951719718009),(66,108,1.59498886074404),(66,111,2.21834467604602),(66,115,1.64279610583819),(66,118,-1.73354289376507),(67,86,2.20180364391003),(67,90,-1.4938962981048),(67,92,-0.388866847743156),(67,104,-1.99537644581439),(67,109,-0.616229743339335),(67,111,-0.478896450697348),(68,87,-0.418469801934873),(68,88,-0.105273598437452),(68,90,-2.53004547257912),(68,93,0.0514847254860072),(68,95,2.05406353953673),(68,96,0.418927579577014),(68,97,-0.512909329508347),(68,103,0.32280953398236),(68,107,-1.05990783410138),(68,112,2.04542680135502),(68,114,-2.83455916013062),(69,87,-0.965208899197363),(69,88,-5.07470931119724),(69,92,-0.131382183294168),(69,94,-0.6970122379223),(69,95,0.371105075228126),(69,97,1.18433179723502),(69,108,-2.00277718436232),(69,113,-0.185094759971923),(69,114,-2.37311929685354),(69,118,-1.04687643055513),(70,85,0.54567094943083),(70,86,-1.33181249427778),(70,87,1.39133884701071),(70,90,0.739188818018128),(70,96,0.0639362773522141),(70,97,0.375591296121097),(70,99,2.35189367351299),(70,105,-1.3174840540788),(70,107,1.72763756218146),(70,109,0.593127231666005),(70,110,1.23500778221992),(70,111,0.622196111941893),(71,85,0.0821100497451704),(71,93,1.68738364818262),(71,96,-2.28324228644673),(71,100,-0.132023071993164),(71,104,0.467696157719657),(71,106,-0.838572344126713),(71,111,0.767967772453993),(71,113,0.709707937864315),(72,94,0.951902829065828),(72,96,1.24471266823328),(72,99,-1.1515549180578),(72,110,-0.184636982329783),(72,112,0.14897610400708),(72,114,-1.25580614642781),(72,115,0.147251808221686),(72,116,2.38196966460158),(73,88,-0.844782860805078),(73,94,0.105197302163762),(73,99,-2.54715109714042),(73,100,0.872997222815638),(73,106,1.50181585131382),(73,110,0.158848841822565),(73,115,0.804452650532548),(74,90,0.775261696218757),(74,94,2.22273934141057),(74,99,0.587786492507706),(74,102,-0.522461622974334),(74,106,3.18132572405164),(74,107,2.01475569933164),(74,110,-1.59060945463424),(74,113,1.20482497634816),(74,116,-1.99888607440413),(75,85,0.706732383190405),(75,86,2.30079042939543),(75,93,0.942289498580889),(75,98,2.59628589739677),(75,103,-0.225455488753929),(75,105,-0.0885341959898678),(75,111,0.924375133518479),(75,117,-0.286049989318522),(76,86,0.416730246894742),(76,89,0.39509262367626),(76,92,-0.0579088717307047),(76,94,-0.841319009979552),(76,99,1.13711966307566),(76,101,1.75458540604877),(76,103,-0.936124759666738),(76,106,0.568330942716758),(76,110,-0.186773277993103),(76,113,-0.951185644093143),(77,88,-2.46906949064608),(77,91,-1.15408795434431),(77,93,-0.879696035645619),(77,98,1.05410931730094),(77,101,2.09883419293802),(77,102,2.29793694875942),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,1.40919217505417),(77,109,-1.45817438276315),(78,88,-0.970854823450423),(78,93,2.12143314920499),(78,94,-0.951033051545763),(78,101,-2.13354899746696),(78,104,1.86754966887417),(78,110,-1.52749717703787),(78,114,0.87488937040315),(78,116,-0.684835352641377),(78,117,0.685888241218299),(78,118,1.93472090823084),(79,87,-1.34510330515458),(79,92,-2.33848078859828),(79,94,-0.790231025116733),(79,107,1.78899502548296),(79,108,-1.64439832758568),(79,114,-0.576082644123661),(79,118,-2.32000183111057),(80,87,2.05723746452223),(80,88,-0.54185613574633),(80,91,-0.367961668752098),(80,99,0.518082216864528),(80,101,-2.07606738486892),(80,107,0.550920133060701),(80,113,1.45237586596271),(81,85,-0.54124576555681),(81,86,1.98545793023469),(81,90,-0.883297219763787),(81,93,-0.792886135441145),(81,96,0.194006164738914),(81,97,-0.234534745323038),(81,106,-2.12935270241401),(81,107,0.962324900051881),(81,110,0.869762260811182),(81,115,-3.2032380138554),(82,86,-1.20358897671438),(82,92,-2.86803796502579),(82,110,-0.56549272133549),(82,112,2.27381206701865),(83,87,-0.97460860011597),(83,91,0.550248725852229),(83,93,0.432645649586474),(83,101,0.0706961272011477),(83,103,-0.135654774620808),(83,105,1.15672780541398),(83,108,0.940198980681784),(84,85,-2.15639210180975),(84,86,0.0989410077211827),(84,89,0.872692037720878),(84,95,0.344431897946104),(84,99,0.712530899990844),(84,104,-1.84217352824488),(84,111,0.520493179113132),(84,113,-0.465834528641621),(84,114,-1.30487990966521),(35,105,0.612750633259072)]
orgname='BHNEAT_6_3'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()