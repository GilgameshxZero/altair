edge = [(0,85,2.24976348155156),(0,89,0.399288918729209),(0,90,-2.20000305185095),(0,93,-0.400616473891415),(0,98,2.75020599993896),(0,101,-0.506942960905789),(0,105,0.275276955473495),(0,108,0.150379955442976),(0,113,0.729117709891049),(0,114,-0.296243171483505),(0,117,0.563676870021668),(0,118,-1.11072115237892),(1,86,-0.0730460524307993),(1,92,-1.78426465651418),(1,98,-0.786828211310159),(1,102,0.0402386547441023),(1,104,0.346873378704184),(1,107,2.05703909421064),(1,108,-0.144871364482559),(1,109,-2.58851893673513),(1,113,-1.10676900540178),(2,87,1.13539536729026),(2,88,-1.83881649220252),(2,100,-1.52439954832606),(2,106,-1.34368419446394),(2,108,0.222602008117924),(2,110,-0.481643116550188),(2,113,0.451857051301614),(2,118,-2.06074709311197),(3,89,2.6155735953856),(3,92,0.553453169347209),(3,97,1.18228705710013),(3,99,-0.87244788964507),(3,101,0.633564256721702),(3,103,-0.0997497482222968),(3,105,1.7168492690817),(3,108,0.770760216071047),(3,109,0.239432966093936),(3,111,1.79505294961394),(3,112,-0.149861140781884),(3,116,-0.245826593829157),(4,90,-1.04341257972961),(4,91,-0.943006683553575),(4,97,1.40969573046052),(4,99,-1.82190923795282),(4,101,2.3842280343028),(4,108,1.23421430097354),(4,113,-0.523880733664968),(4,118,-0.40789513840144),(5,86,-2.62176885280923),(5,87,-0.368388927884762),(5,89,1.47247230445265),(5,92,-1.07922605059969),(5,93,1.83223975341044),(5,99,-0.372966704306162),(5,104,0.0133671071504868),(5,114,0.716727195043794),(5,118,2.36556596575823),(6,89,1.80886257515183),(6,92,-0.360423596911527),(6,94,0.478301339762566),(6,100,-1.14476454969939),(6,101,-0.918012024292734),(6,103,-2.8508560441908),(6,107,-1.0925626392407),(6,110,0.440519425031281),(6,113,-0.274239326151311),(7,85,-2.33495590075381),(7,86,0.283959471419416),(7,90,-1.67563402203436),(7,95,2.07007049775689),(7,99,1.49978637043367),(7,100,0.909970397045808),(7,104,0.332865382854701),(7,106,0.11177404095584),(7,108,-1.06686605426191),(7,112,-2.04260383922849),(7,116,-0.0173192541276284),(8,92,-0.987762077700125),(8,93,1.98593096713157),(8,95,-0.222571489608448),(8,99,-2.83271279030732),(8,106,2.05349894711142),(8,107,0.65126499221778),(8,115,-0.157048249763482),(8,116,-0.597018341624195),(8,118,-2.13911862544633),(9,85,-0.324503311258278),(9,87,-1.53141880550554),(9,98,0.657185583056124),(9,101,0.274407177953429),(9,103,1.35402996917631),(9,105,0.224662007507553),(9,106,2.73091830195013),(9,113,1.30906094546342),(10,89,-0.329386272774438),(10,96,-1.00320444349498),(10,106,0.429136020996734),(10,108,-0.222968230231635),(10,109,-0.63563951536607),(10,111,-0.920743430890835),(10,112,-0.359889522995697),(10,114,-0.583132419812616),(10,115,-1.22887356181524),(10,116,0.927915280617695),(10,117,0.200689718314158),(11,89,0.348078859828486),(11,97,-0.285500656147954),(11,105,-1.29926450392163),(11,112,0.635898922696616),(11,115,0.672017578661458),(12,92,-1.7961210974456),(12,93,0.409894100772118),(12,94,2.14059877315592),(12,97,1.23824274422437),(12,98,0.709341715750603),(12,99,0.723807489242225),(12,108,-0.086428418836024),(12,116,-0.821634571367534),(13,86,1.4188818018128),(13,87,-1.00415051728874),(13,90,0.293374431592761),(13,99,0.575289162877285),(13,102,0.861232337412641),(13,104,0.304574724570452),(13,113,0.12976470229194),(13,116,1.59601123081149),(13,118,0.516983550523392),(14,90,1.30568865016633),(14,93,2.1706289864803),(14,95,-0.659123508407849),(14,102,1.01605273598437),(14,104,0.641880550553911),(14,106,0.990951261940367),(14,109,1.15845210119938),(14,110,0.826059755241554),(14,111,-2.25977355265969),(15,85,1.31397442548906),(15,92,-2.05793939024018),(15,99,1.26735740226447),(15,101,-1.01924192022462),(15,104,-3.12115848261971),(15,108,-2.65005951109348),(15,117,0.0732444227423933),(16,86,2.27019562364574),(16,87,-2.52519302957244),(16,88,-0.6120792260506),(16,90,1.43177587206641),(16,91,-1.92939542832728),(16,95,0.135425885799738),(16,97,1.13106173894467),(16,98,0.791299172948393),(16,99,2.10516678365429),(16,101,0.904232917264321),(16,108,1.3759117404706),(16,110,-1.23514511551256),(17,89,2.01391644032105),(17,96,1.34276863917966),(17,99,-1.02117984557634),(17,101,-2.13595995971557),(17,106,2.45536667989135),(17,107,-0.513657032990509),(17,109,0.766335032197027),(18,90,-2.12350840784936),(18,91,-0.276421399578845),(18,93,-1.83498641926328),(18,99,1.31694998016297),(18,102,0.96226386303293),(18,103,-2.48290963469344),(18,104,-1.83739738151189),(18,110,-0.426709799493393),(18,111,1.47404400769066),(18,116,-0.581102938932462),(18,117,-0.125812555314798),(18,118,-0.493362224188971),(19,87,0.0859553819391461),(19,89,-2.61699270607624),(19,93,0.244544816431166),(19,95,0.958510086367382),(19,101,-1.13097018341624),(19,105,0.32853175450911),(19,115,-1.20632038331248),(20,88,-1.06646931363872),(20,101,-2.43649098178045),(20,103,0.577761162144841),(20,104,-1.05821405682546),(20,105,-0.347376934110538),(20,106,2.1820734275338),(20,111,-0.227057710501419),(20,116,-1.36942655720695),(21,86,2.42089602343822),(21,87,-0.662251655629139),(21,94,1.03717154454176),(21,96,1.199301126133),(21,101,-2.01364177373577),(21,102,1.97958311716056),(21,105,-2.61847285378582),(21,107,-2.26908169804987),(21,108,-2.34984893337809),(22,86,0.349162266914884),(22,88,-0.659932248908963),(22,91,-2.36272774437696),(22,92,-2.41532639545885),(22,93,1.85615100558489),(22,98,1.66373180333872),(22,106,-0.10910367137669),(22,115,-0.793816949980163),(22,117,2.94662312692648),(23,85,1.34611041596728),(23,86,0.999862666707358),(23,88,-0.105273598437452),(23,90,1.73714407788324),(23,97,2.69743949705496),(23,104,-3.02531510361034),(23,112,0.75907162694174),(23,114,0.270027771843623),(23,115,-3.120792260506),(23,116,0.378948332163457),(24,89,-0.432035279396954),(24,90,-2.49737540818506),(24,91,-1.33680227057711),(24,101,-0.730780968657491),(24,107,-1.79436628315073),(24,108,1.30118717001862),(24,110,0.659794915616321),(24,112,0.164082766197699),(25,90,-2.12157048249763),(25,92,2.03302102725303),(25,94,1.68443861201819),(25,98,-1.72051149021882),(25,105,3.29030732139042),(25,108,1.78983428449355),(25,109,1.43452253791925),(25,115,0.15424054689169),(26,85,-0.177617725150304),(26,87,0.590609454634236),(26,89,1.19495223853267),(26,95,-1.67569505905332),(26,98,-2.47215186010315),(26,100,0.402386547441023),(26,101,-2.2179326761681),(26,102,-0.300836207159642),(26,103,-2.7315897091586),(26,104,2.87124240852077),(26,107,1.39954832605976),(26,109,0.681020538956877),(26,112,-0.824442274239326),(26,113,0.97460860011597),(26,117,-0.487655262916959),(27,85,-0.934781945249794),(27,87,1.86149174474319),(27,94,0.913190099795526),(27,100,0.650532547990356),(27,102,-2.96517838068789),(27,103,2.37975707266457),(27,104,0.449262977996155),(27,105,1.66782128360851),(27,108,1.83335367900632),(27,110,-1.32268745994446),(27,114,-2.65205847346416),(28,87,-0.179372539445174),(28,88,-0.36451307718131),(28,97,-1.18636127811518),(28,99,0.0284432508316294),(28,104,2.86088137455367),(28,113,0.886349070711386),(28,114,0.280220954008606),(29,88,-2.46089053010651),(29,91,0.554322946867275),(29,102,0.62640766624958),(29,105,-0.316949980162969),(29,116,2.70711386455886),(30,95,1.18047120578631),(30,96,0.940214239936522),(30,99,-1.94030579546495),(30,101,-0.0965605639820551),(30,104,2.15077669606616),(30,109,-1.51709036530656),(30,110,2.94491409039582),(30,114,0.010666219061861),(30,118,-0.0121005890072329),(31,85,-0.0500503555406354),(31,92,0.153843806268502),(31,94,0.0942869350260933),(31,96,-0.195318460646382),(31,99,-2.07094027527696),(31,103,0.532090212714011),(31,107,-0.67436750389111),(31,108,3.12816248054445),(31,109,-0.934018982512894),(31,111,1.75702688680685),(31,112,-2.34389782403027),(31,117,-1.06318857387005),(32,86,-3.00746177556688),(32,87,-0.288109988708152),(32,89,-0.163609729300821),(32,92,-0.824991607409894),(32,98,0.0314340647602771),(32,99,-0.844828638569292),(32,104,0.204855494857631),(32,106,-0.761574144718772),(32,109,-0.700842310861538),(32,116,0.36970122379223),(32,118,-1.16838587603381),(33,96,-1.8045136875515),(33,98,0.272560808130131),(33,108,0.920896023438215),(33,110,-0.407269508957183),(33,111,-0.598727378154851),(33,114,-2.26584673604541),(34,85,0.607989745780816),(34,90,-2.70886867885373),(34,99,-2.15776543473617),(34,104,1.29457991271706),(34,109,-0.69800408948027),(35,86,0.936231574449904),(35,87,0.256721701712088),(35,97,1.45901364177374),(35,98,1.14749595629749),(35,100,1.44572283089694),(35,104,0.978713339640492),(35,107,-1.84611041596728),(35,109,-1.93826105533006),(35,110,-0.553086947233497),(35,112,-0.847041230506302),(36,85,0.89356669820246),(36,87,0.182241279335917),(36,90,0.00370799890133361),(36,91,-2.27632984405042),(36,104,1.29995117038484),(36,107,-2.28232673116245),(36,109,0.782418286690878),(36,112,0.177083651234474),(36,115,0.334406567583239),(36,117,0.906506546220283),(36,118,-2.48100222785119),(37,85,0.850001525925474),(37,86,-1.91022980437635),(37,87,-0.858561967833491),(37,91,-0.502792443617054),(37,99,-3.06392101809748),(37,105,-1.73673207800531),(37,111,-0.574297311319315),(37,112,1.66203802606281),(37,118,0.26052125614185),(38,87,-0.652653584398938),(38,90,2.48159733878597),(38,103,-1.65608691671499),(38,105,-1.54110843226417),(38,106,-0.862727744376965),(38,111,-0.850550859096042),(38,115,-0.882824182866909),(39,87,0.798043763542589),(39,89,2.00338755455184),(39,91,0.123981444746239),(39,94,-0.130802331614124),(39,97,0.911297952208014),(39,98,-1.67612231818598),(39,107,-0.80176702169866),(39,108,2.21721549119541),(39,109,0.914548173467208),(39,111,0.00189214758751183),(39,113,0.0332651753288369),(39,116,-0.425138096255379),(39,118,0.274864955595569),(40,88,1.33335367900632),(40,92,1.2802972502823),(40,99,0.290993987853633),(40,104,-1.86867885372478),(40,110,0.818124942777795),(40,116,-2.8984801782281),(40,118,1.60527359843745),(41,88,0.591280861842708),(41,93,-0.0895260475478378),(41,96,-2.4510483108005),(41,97,-0.0195318460646382),(41,100,2.53350932340465),(41,101,-0.775887325663015),(41,104,-0.729956968901639),(41,105,-2.10249641407514),(41,106,-0.0122379222998749),(41,107,-0.505401776177251),(41,109,1.34536271248512),(41,110,0.573702200384533),(41,111,0.77721488082522),(41,112,0.443525498214667),(42,85,0.970519119846187),(42,86,-0.236014893032624),(42,87,-2.21613208410901),(42,99,2.20374156926176),(42,100,-0.00137333292641986),(42,103,0.967055269020661),(42,109,-2.06996368297372),(42,113,-0.666035950804163),(43,85,0.432874538407544),(43,88,0.475783562730796),(43,89,-2.02838221381268),(43,93,-0.173436689352092),(43,97,-1.428479873043),(43,98,-0.839442121646779),(43,101,1.4570299386578),(43,102,0.93404950102237),(43,103,0.122684408093509),(43,105,1.56132694479202),(43,110,-2.29428998687704),(43,112,-1.38911099581896),(43,114,-0.95272682882168),(43,116,-2.27303384502701),(44,89,2.96227912228767),(44,98,0.388348033082064),(44,99,-2.38477736747337),(45,87,0.402478102969451),(45,88,-1.68460646382031),(45,90,0.818292794579913),(45,91,-0.0992461928159429),(45,95,2.13365581225013),(45,98,0.685934018982513),(45,108,-1.35367900631733),(45,109,1.45596179082614),(45,112,0.441389202551347),(45,115,1.9083223975341),(46,85,-1.77951902829066),(46,89,-1.39349040192877),(46,91,0.454145939512314),(46,94,-0.563325907162694),(46,97,-0.241111484115116),(46,100,-1.45152134769738),(46,101,-2.68866542558061),(46,108,-0.683690908536027),(46,112,2.32563249610889),(47,86,1.97752311777093),(47,91,-0.661503952146977),(47,92,-1.30092776268807),(47,94,0.494277779473251),(47,95,-2.10240485854671),(47,100,-0.591814935758537),(47,101,0.716727195043794),(47,104,-0.0679799798577837),(47,105,1.14642780846583),(47,108,0.487075411236915),(47,112,2.42010254219184),(47,114,-1.10844752342296),(47,118,2.15092928861354),(48,86,1.9547410504471),(48,91,-1.92991424298837),(48,98,-0.76342051454207),(48,99,0.0728629413739433),(48,100,-0.207281716360973),(48,103,-2.08644367809076),(48,105,-2.58256782738731),(48,106,-2.50143436994537),(48,111,0.0810266426587725),(48,115,1.64696188238166),(49,87,1.57988219855342),(49,89,0.393383587145604),(49,93,-0.925672170171209),(49,94,-0.539811395611438),(49,95,-0.925412762840663),(49,102,-0.392376476332896),(49,113,-0.721076082644124),(49,114,1.28933072908719),(50,89,1.15833002716147),(50,105,2.34154789880062),(50,107,-0.848307748649556),(51,87,-1.83761101107822),(51,92,0.0270546586504715),(51,97,1.56273079622791),(51,98,-1.43604846339305),(51,103,2.0329294717246),(51,106,-0.360835596789453),(51,112,0.885570848719748),(51,118,0.948423718985565),(52,89,0.343592638935514),(52,97,-0.611499374370556),(52,106,-0.164387951292459),(52,110,-0.674764244514298),(52,111,2.38962981048006),(52,113,2.05792413098544),(52,114,-2.70914334543901),(52,118,0.406582842493973),(53,88,-1.14496292001099),(53,90,1.14490188299203),(53,92,0.808420056764428),(53,94,1.77008880886258),(53,104,-0.546769615771966),(53,105,1.18762779625843),(53,109,1.33162938322092),(54,85,-1.79016998809778),(54,91,-0.833155308694723),(54,94,-0.542329172643208),(54,96,-1.12643818475906),(54,111,0.381633960997345),(54,112,-0.0594347972045045),(54,113,-0.461210974456008),(54,118,0.660237434003723),(55,87,-0.137791070284127),(55,95,0.657521286660359),(55,107,1.69057283242286),(55,110,-0.945844904934843),(55,117,1.19582201605274),(56,107,1.85235145115513),(56,111,-2.28217413861507),(56,113,-2.8867152928251),(56,114,-2.05029450361644),(57,87,-0.715124973296304),(57,90,1.66089358195746),(57,91,1.9273964659566),(57,92,2.40002136295663),(57,93,1.72774437696463),(57,94,1.00105288857692),(57,95,-0.664845728934599),(57,96,-0.675527207251198),(57,100,0.159337137974181),(57,102,1.5317239906003),(57,103,-1.34105960264901),(57,115,-0.561342204046754),(58,86,2.22946867275002),(58,87,0.778176213873714),(58,89,2.67040009765923),(58,90,1.11377300332652),(58,95,-1.26003295999023),(58,96,0.620593890194403),(58,101,-1.14281136509293),(58,103,2.83269753105258),(58,109,1.13841669972839),(58,110,0.753700369273965),(58,113,0.38914151432844),(58,114,-2.08410901211585),(58,115,1.00569170201727),(58,118,-2.53036591692862),(59,85,-0.222006897183142),(59,86,1.85222937711722),(59,90,0.647663808099612),(59,91,0.76532792138432),(59,93,-0.227011932737205),(59,97,0.484130375072481),(59,98,0.075869014557329),(59,100,0.266624958037049),(59,102,-2.30689413129063),(59,112,-1.3296914578692),(59,114,-0.442091128269295),(60,85,-1.35886715292825),(60,87,1.50616473891415),(60,90,2.41927854243599),(60,91,0.727713858455153),(60,96,-1.13341166417432),(60,100,-1.19792779320658),(60,101,-0.940183721427046),(60,105,-2.58160649433882),(60,107,0.380321665089877),(60,109,-0.272408215582751),(60,110,1.28165532395398),(60,114,0.312860499893185),(61,89,2.30368968779565),(61,94,0.00831629383220923),(61,96,-2.23555711539048),(61,98,-1.97202978606525),(61,100,-0.0590990936002685),(61,102,2.83024079103977),(61,103,-2.40600299081393),(61,114,-0.249031037324137),(61,115,2.48672444837794),(62,93,-1.8964354380932),(62,95,-1.43597216711936),(62,107,-2.92175054170354),(62,109,-1.63899655140843),(62,110,0.411618396557512),(62,111,1.04637287514878),(63,87,-0.893246253852962),(63,90,-1.28078554643391),(63,93,-1.20424512466811),(63,97,2.34191412091433),(63,100,-0.151600695822016),(63,103,2.29477828302866),(63,104,1.46687215796381),(63,108,0.460753196813868),(63,111,2.22693563646351),(63,114,2.29064302499466),(63,117,1.33414716025269),(64,87,0.0142979216895047),(64,94,-1.57559434797204),(64,99,-1.14880825220496),(64,110,2.04029969176305),(64,112,0.58783227027192),(64,116,-0.0767998290963469),(65,87,-1.38293099765007),(65,88,-1.84942167424543),(65,90,-0.454725791192358),(65,97,-0.298501541184728),(65,99,-0.883541367839595),(65,107,-3.03578295236061),(65,110,-0.126117740409558),(65,111,-0.156865138706626),(65,114,-0.991912594988861),(65,116,-0.636860255745109),(65,117,2.88743247779778),(66,85,2.47647022919401),(66,102,-0.064943388164922),(66,105,-1.42419202246162),(66,108,3.32454908902249),(66,111,1.00584429456465),(66,115,2.50880458998383),(66,118,0.99702444532609),(67,86,-1.99121066927091),(67,90,0.881740775780511),(67,92,0.11093478194525),(67,104,0.49794000061037),(67,109,-2.79219946897793),(67,111,-2.14134647663808),(68,87,2.12999359111301),(68,88,-1.06546220282601),(68,90,-0.208960234382153),(68,93,1.57443464461196),(68,95,-0.981566820276498),(68,96,-1.16606646931364),(68,97,-2.06393627735221),(68,103,2.44889675588244),(68,107,-1.44680623798334),(68,112,-0.0186925870540483),(68,114,-0.554521317178869),(69,87,0.672566911832026),(69,88,1.64281136509293),(69,92,0.596926786095767),(69,94,1.39452803125095),(69,95,0.949964903714103),(69,97,-2.39922788171026),(69,108,-2.92796105838191),(69,113,-0.82448805200354),(69,114,1.54042176580096),(69,118,2.00238044373913),(70,85,0.032990508743553),(70,86,-1.72168645283364),(70,87,-0.055284279915769),(70,90,-0.933332316049684),(70,96,-1.37588122196112),(70,97,-0.0180822168645283),(70,99,2.06607257301553),(70,105,-1.42017883846553),(70,107,0.67886898403882),(70,109,0.844050416577654),(70,110,0.442793053987243),(70,111,1.01580858790857),(71,85,1.25875118259224),(71,93,-1.28261665700247),(71,96,-0.0718558305612353),(71,100,-2.29715872676778),(71,104,2.06778160954619),(71,106,0.826975310525834),(71,111,-1.88482314523759),(71,113,-0.246589556566057),(72,94,-0.0114902188177128),(72,96,1.47030549027985),(72,99,0.766533402508621),(72,110,0.249794000061037),(72,112,0.424649800103763),(72,114,-1.65575121311075),(72,115,2.43255409405805),(72,116,-1.86954863124485),(73,88,0.433561204870754),(73,94,0.761116367076632),(73,99,0.612277596362194),(73,100,1.72185430463576),(73,106,2.34351634266182),(73,110,0.805703909421064),(73,115,0.337397381511887),(74,90,1.82744834742271),(74,94,0.684270760216071),(74,99,0.212652974028748),(74,102,-0.468230231635487),(74,106,-1.99969481490524),(74,107,-2.00946073793756),(74,110,0.339442121646779),(74,113,-2.24918362987152),(74,116,1.09735404522843),(75,85,2.20981475264748),(75,86,-1.23850215155492),(75,93,0.0986053041169469),(75,98,1.6415143284402),(75,103,-2.78852198858608),(75,105,0.43130283516953),(75,111,0.73795281838435),(75,117,1.15604113895077),(76,86,1.14160588396863),(76,89,-1.55389568773461),(76,92,-0.187612537003693),(76,94,-0.318155461287271),(76,99,0.404385509811701),(76,101,-2.44521927549058),(76,103,-0.69434186834315),(76,106,0.0725577562791834),(76,110,-0.633472701193274),(76,113,2.61549729911191),(77,88,1.22844630268258),(77,91,1.50070192571795),(77,93,0.709616382335887),(77,98,-0.973036896877957),(77,101,-1.17909787285989),(77,102,0.65271462141789),(77,103,1.25260170293283),(77,104,1.65904721213416),(77,105,-0.129825739310892),(77,109,-2.08485671559801),(78,88,-0.886761070589312),(78,93,0.294885097811823),(78,94,-2.63438825647755),(78,101,1.15001373332926),(78,104,1.80300302133244),(78,110,-2.42252876369518),(78,114,1.0129703665273),(78,116,-0.511261329996643),(78,117,-0.932737205114902),(78,118,3.09053315836055),(79,87,2.57649464400159),(79,92,1.00901821955016),(79,94,-1.42056031983398),(79,107,1.02006591998047),(79,108,-1.40200506607257),(79,114,2.5157017731254),(79,118,-2.46328623310038),(80,87,0.34339426862392),(80,88,0.810037537766656),(80,91,0.91346476638081),(80,99,0.341441084017457),(80,101,0.353740043336283),(80,107,-1.7090212714011),(80,113,0.197225867488632),(81,85,1.54721213415937),(81,86,0.89799188207648),(81,90,1.75794244209113),(81,93,-1.32253486739708),(81,96,-0.311075167088839),(81,97,1.67885372478408),(81,106,-1.14790795617542),(81,107,-0.198446607867672),(81,110,1.15037995544298),(81,115,0.636371959593494),(82,86,0.586977752006592),(82,92,-1.9623706778161),(82,110,-1.59851374858852),(82,112,0.230948820459609),(83,87,-0.665074617755669),(83,91,0.558931241798151),(83,93,0.191473128452406),(83,101,-1.91953794976653),(83,103,-0.526810510574663),(83,105,3.06431775872066),(83,108,-1.22811059907834),(84,85,-0.99969481490524),(84,86,0.301126132999664),(84,89,-0.950025940733055),(84,95,0.291177098910489),(84,99,-0.672276985992004),(84,104,2.41508224738304),(84,111,-1.59170812097537),(84,113,0.308923612170782),(84,114,-1.39666432691427)]
orgname='BHNEAT_4_12'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()