edge = [(0,85,2.87746818445387),(0,89,0.383152256843776),(0,90,2.07777642139958),(0,93,-0.751197851496933),(0,98,-2.19151127658925),(0,101,-0.65842921231727),(0,105,6.48472548600726),(0,108,-1.26926480910672),(0,113,3.82232123783074),(0,114,3.22489089632862),(0,117,5.57313760795923),(0,118,-4.15068514053774),(1,86,-3.30743583483383),(1,92,3.95352793969543),(1,98,0.571306497390667),(1,102,-4.87312692648091),(1,104,2.34900204474013),(1,107,-0.607875301370281),(1,108,-0.316553239539781),(1,109,1.48249763481552),(1,113,-0.75450148014771),(2,87,-1.18630024109622),(2,88,-0.0370799890133369),(2,100,2.05671864986114),(2,106,-3.60205389568773),(2,108,-2.0305413983581),(2,110,-1.66380809961241),(2,113,0.538911099581896),(2,118,4.24497207556383),(3,89,0.00099948118533888),(3,92,-0.886890774254586),(3,97,0.997383037812433),(3,99,4.8719977416303),(3,101,0.650471510971405),(3,103,-2.68843653675955),(3,105,8),(3,108,-1.02510147404401),(3,109,0.58996856593524),(3,111,0.743385113071078),(3,112,-3.2513046662801),(3,116,-0.194830164494766),(4,90,1.18638416699728),(4,91,1.31112094485305),(4,97,4.20999786370434),(4,99,1.2752998443556),(4,101,-3.51316873683889),(4,108,-2.39745780816065),(4,113,-4.97299111911374),(4,118,-0.460768456068606),(5,86,1.53082369457076),(5,87,-2.93964964751122),(5,89,1.85872219000824),(5,92,-3.17100283822138),(5,93,-1.62215033417768),(5,99,4.71602526932585),(5,104,3.9877925962096),(5,114,0.617580187383648),(5,118,2.06167027802362),(6,89,-3.82475508896146),(6,92,-2.65659810174871),(6,94,-1.20662556840724),(6,100,2.4036225470748),(6,101,-2.22195348979156),(6,103,-3.00737784966582),(6,107,2.66246528519547),(6,110,2.40385906552324),(6,113,-0.263023773918882),(7,85,1.12983336893826),(7,86,-2.68945890682699),(7,90,0.338091677602466),(7,95,-0.730208746604816),(7,99,2.11688589129307),(7,100,5.88063447981201),(7,104,1.3463774529252),(7,106,0.735343485824152),(7,108,1.10959959715568),(7,112,0.215132602923673),(7,116,0.311937314981536),(8,92,1.00067140720847),(8,93,1.86816766869106),(8,95,-3.07831812494278),(8,99,2.48802148503067),(8,106,-1.41567735831782),(8,107,1.12399670400098),(8,115,1.99088259529405),(8,116,2.1476180303354),(8,118,-4.22605059968871),(9,85,0.848132267220069),(9,87,-0.810495315408795),(9,98,-1.26204718161565),(9,101,-5.73358867152928),(9,103,5.70566423535874),(9,105,2.68998535111545),(9,106,2.33303323465682),(9,113,-0.363185522019105),(10,89,0.488570818201239),(10,96,-0.505073702200384),(10,106,-0.647251808221687),(10,108,4.50590533158361),(10,111,-2.51244392223884),(10,112,-0.0171666615802482),(10,114,-1.57553331095309),(10,115,0.134655293435469),(10,116,-2.3921552171392),(10,117,-0.47682119205298),(11,89,-4.40914639728996),(11,97,2.9489806817835),(11,105,-3.10753959776605),(11,112,1.06183812982574),(11,115,1.53298287911618),(12,92,1.72380748924223),(12,93,0.481650746177557),(12,94,-1.65288247322001),(12,97,2.30341502121036),(12,98,5.41575365459151),(12,99,3.39930417798395),(12,108,2.98148289437544),(12,116,-2.17915890987884),(13,86,2.66835535752434),(13,87,1.86970122379223),(13,90,-2.06790368358409),(13,99,2.4137623218482),(13,102,0.363628040406507),(13,104,-6.96531571398053),(13,113,1.15678884243294),(13,116,-6.80947294534135),(13,118,-2.49435407574694),(14,90,-1.64725180822169),(14,93,-0.440961943418684),(14,95,-4.12945951719718),(14,102,0.522782067323832),(14,104,-2.92031617175817),(14,106,-1.34548478652303),(14,109,2.76233710745567),(14,110,0.765999328592791),(14,111,-1.28627124851222),(15,85,-0.910603656117435),(15,92,2.66060365611744),(15,99,0.514725180822169),(15,101,-2.43995483260598),(15,104,3.73279519028291),(15,108,-2.81545457319864),(15,117,3.26165044099246),(16,86,0.0705740531632433),(16,87,-0.371189001129185),(16,88,-2.95669423505356),(16,90,0.192464980010376),(16,91,-3.69983520004883),(16,95,-2.3617587817011),(16,97,-4.50053407391583),(16,98,2.03101443525498),(16,99,-0.367458113345745),(16,101,4.37655262916959),(16,108,6.30835139011811),(16,110,7.09595019379254),(17,89,1.08492538224433),(17,96,-1.53512680440687),(17,99,3.16545609912412),(17,101,-3.25253303628651),(17,106,-4.12190618610187),(17,107,-0.477759636219367),(17,109,-2.86689352092044),(18,90,0.702002014221625),(18,91,-3.48216193121128),(18,93,2.88396862697226),(18,99,0.138592181157873),(18,102,2.65213476973785),(18,103,-2.84601123081149),(18,104,1.3396099734489),(18,110,-1.13928647724845),(18,111,-3.77286599322489),(18,116,3.54789117099521),(18,117,-1.4733954893643),(18,118,-1.76802880947295),(19,87,-2.13148899807733),(19,89,1.96202734458449),(19,93,-0.48772392956328),(19,95,-0.465407269508957),(19,101,2.39549699392682),(19,105,-3.95090334788049),(19,115,-3.62938322092349),(20,88,-1.47162541581469),(20,101,2.19966734824671),(20,103,2.31492812891018),(20,104,0.537842951750237),(20,105,-3.08964812158574),(20,106,-1.78279976805933),(20,111,-2.33085116122929),(20,116,1.53591265602588),(21,86,-0.450834681234169),(21,87,3.59111301004059),(21,94,-1.14709921567431),(21,96,2.54844813379315),(21,101,0.709852900784326),(21,102,3.2121723075045),(21,105,1.45204779198584),(21,107,5.01629688406018),(21,108,0.69449446089053),(22,86,-3.73371074556719),(22,88,-5.00589770195624),(22,91,-1.18944364757225),(22,92,-2.92757194738609),(22,93,3.72402111880856),(22,98,-1.7261268959624),(22,106,-1.82724997711112),(22,115,5.51670125431074),(22,117,-3.11700796533097),(23,85,-1.21359141819514),(23,86,0.242728965117343),(23,88,-3.20430616168706),(23,90,1.11265907773064),(23,97,2.40792565691092),(23,104,3.52861110263375),(23,112,-3.13879055146947),(23,114,4.37110507522813),(23,115,-4.76055177465133),(23,116,-2.00218207342753),(24,89,-4.26374858851894),(24,90,-4.46082186346019),(24,91,2.64784691915647),(24,101,1.09304330576495),(24,107,4.07499160740989),(24,108,4.69576097903378),(24,110,-2.91101565599536),(24,112,-0.919667653431807),(25,90,-3.78067873165075),(25,92,2.46810052797021),(25,94,-3.87183751945555),(25,98,-0.841555528427991),(25,105,2.07879879146703),(25,108,2.45139927365947),(25,109,2.0413220618305),(25,115,1.38338877529221),(26,85,-2.30664235358745),(26,87,2.3394116031373),(26,89,-1.08176671651357),(26,95,1.99217200231941),(26,98,-0.611842707602161),(26,100,0.225455488753929),(26,101,-1.35394604327525),(26,102,3.80881679738762),(26,103,0.58310190130314),(26,104,3.2073732718894),(26,107,-5.27344584490494),(26,109,-1.35001678518021),(26,112,4.27249214148381),(26,113,0.957571642200995),(26,117,-1.30686361278115),(27,85,-3.11517685476241),(27,87,-1.05932798242134),(27,94,6.31611072115238),(27,100,3.98780785546434),(27,102,0.60056611835078),(27,103,-3.0771813104648),(27,104,-1.24676503799554),(27,105,-3.12587359233375),(27,108,-0.534150212103641),(27,110,1.15491958372753),(27,114,3.68418683431501),(28,87,2.9226966154973),(28,88,0.736747337260048),(28,97,-2.23261970885342),(28,99,-1.80152287362285),(28,104,-3.52189703054903),(28,113,2.616657002472),(28,114,-1.88268684957427),(29,88,4.07743308816797),(29,91,-2.17387920773949),(29,102,-2.70189519943846),(29,105,-2.19017609179968),(29,116,2.57756279183325),(30,95,1.91836298715171),(30,96,2.73807489242225),(30,99,4.61973174230171),(30,101,-1.54042176580096),(30,104,0.59560686056093),(30,109,-2.54864650410474),(30,110,2.77694784386731),(30,114,-1.71747489852596),(30,118,2.21388134403516),(31,85,3.61539811395611),(31,92,3.29269539475692),(31,94,-3.31566057313761),(31,96,3.62479018524735),(31,99,-0.44282357249672),(31,103,-3.49156163212989),(31,107,-1.98713644825587),(31,108,5.06608783227027),(31,109,-3.24701681569872),(31,111,-2.80268257698294),(31,112,1.24526963103122),(31,117,6.11269722586749),(32,86,-5.44114505447554),(32,87,0.684629352702414),(32,89,2.28447065645314),(32,92,5.22899563585315),(32,98,3.58902249214148),(32,99,-0.928739280373547),(32,104,5.58507034516434),(32,106,2.03781243324076),(32,109,5.47114474929045),(32,116,5.7572099978637),(32,118,-1.89655751213111),(33,96,0.85231330301828),(33,98,0.625774407177954),(33,108,4.52792443617054),(33,110,-0.71942808313242),(33,111,-4.76835688344981),(33,114,-1.53483687856685),(34,85,-0.868762779625843),(34,90,-1.17830439161351),(34,99,5.76326792199469),(34,104,-4.9874721518601),(34,109,-6.58378856776635),(35,86,1.47354808191168),(35,87,-0.762001403851436),(35,97,0.777459028901028),(35,98,0.369464705343791),(35,100,0.776482436597796),(35,104,-5.83406323435163),(35,107,-3.8469191564684),(35,109,-0.448789941099276),(35,110,-2.55380413220618),(35,112,3.30072939237648),(36,85,-1.05370494705039),(36,87,-0.0807138279366435),(36,90,-0.528618732261117),(36,91,1.38718070009461),(36,104,-0.456137272255623),(36,107,1.64896847437971),(36,109,-1.21578112125004),(36,112,-0.152928250984222),(36,115,1.48094882045961),(36,117,-8),(36,118,2.88935514389477),(37,85,-0.468756675923947),(37,86,-1.52306436353649),(37,87,1.74745170445875),(37,91,2.15006714072085),(37,99,-3.21169164098025),(37,105,-3.20798364207892),(37,111,4.18635364848781),(37,112,-1.75405896176031),(37,118,0.217261268959624),(38,87,0.937284463026825),(38,90,-5.25514999847407),(38,103,1.12150944547868),(38,105,2.84696493423261),(38,106,0.282410657063509),(38,111,-1.21432386242256),(38,115,-2.22192297128208),(39,87,2.22264015625477),(39,89,-0.0885036774803922),(39,91,-1.8176061281167),(39,94,-0.267639698477126),(39,97,-1.81310464796899),(39,98,4.90256965849788),(39,107,-2.11471907712027),(39,108,3.26365703299051),(39,109,6.32071138645589),(39,111,-1.21709341715751),(39,113,-4.26970732749412),(39,116,-3.55484939115574),(39,118,-2.41530350657674),(40,88,-2.56701864680929),(40,92,-4.16852320932646),(40,99,4.00468459120457),(40,104,-1.22145756401257),(40,110,-3.13621936704611),(40,116,1.21701712088382),(40,118,-1.3098544267098),(41,88,-5.47837763603626),(41,93,3.6401104770043),(41,96,-0.455481124301889),(41,97,1.63209173863948),(41,100,2.19714194158757),(41,101,4.1420560319834),(41,104,0.125782036805323),(41,105,-0.272301400799585),(41,106,3.4390621662038),(41,107,-7.93084505752739),(41,109,1.14558854945524),(41,110,4.16737876522111),(41,111,0.728698080385753),(41,112,2.13859218115787),(42,85,1.08465834528642),(42,86,2.13519699697867),(42,87,2.41352580339976),(42,99,-3.54281746879482),(42,100,-6.232673116245),(42,103,-0.0619907223731193),(42,109,-0.610530411694693),(42,113,-2.83887752922147),(43,85,-0.0342875453962826),(43,88,-0.59301278725547),(43,89,-1.50519577623829),(43,93,-0.20173497726371),(43,97,0.910847804193243),(43,98,1.33414716025269),(43,101,2.66547898800623),(43,102,4.96579638050478),(43,103,-3.11792352061525),(43,105,4.93881038850063),(43,110,-2.25442518387402),(43,112,-0.61794640949736),(43,114,-4.29382457960753),(43,116,-1.77137058626057),(44,89,3.09572130497147),(44,98,1.09641560106204),(44,99,0.347849971007416),(45,87,1.38898892178106),(45,88,-1.34897915585803),(45,90,0.955732902005066),(45,91,-0.29834131900998),(45,95,-1.88475447859127),(45,98,-2.12126529740287),(45,108,2.5538727988525),(45,109,5.54480117191076),(45,112,-0.0924863429670092),(45,115,-6.56134220404675),(46,85,-0.703207495345928),(46,89,-0.509331034272286),(46,91,4.73726615192114),(46,94,-2.65391247291482),(46,97,0.599261452070681),(46,100,2.53385265663625),(46,101,-1.64050721762749),(46,108,-4.07963805047761),(46,112,0.857921079134495),(47,86,-0.70738853114414),(47,91,-0.264381847590564),(47,92,2.84644611957152),(47,94,3.44576097903378),(47,95,-2.49729148228401),(47,100,4.45812097537156),(47,101,3.40823084200568),(47,104,-1.59855952635273),(47,105,3.5670644245735),(47,108,1.24774925992615),(47,112,0.954687643055513),(47,114,3.54853968932157),(47,118,0.927251503036591),(48,86,1.0252998443556),(48,91,0.00489822077089741),(48,98,4.33188879055147),(48,99,-0.505264442884609),(48,100,-5.65454573198645),(48,103,-0.556886501663259),(48,105,2.81417279580065),(48,106,-4.28795739616077),(48,111,-3.85103152562029),(48,115,-2.62173070467238),(49,87,1.83594775231178),(49,89,-0.837748344370861),(49,93,3.93330179754021),(49,94,1.6320154423658),(49,95,4.14004943998535),(49,102,-1.58694723349712),(49,113,-1.59102145451216),(49,114,3.44127475814081),(50,89,-1.45525986510819),(50,105,-3.22916348765526),(50,107,-2.74350718710898),(51,87,-0.363795892208625),(51,92,5.81581316568499),(51,97,1.14214758751183),(51,98,1.91823328348643),(51,103,-1.76594592120121),(51,106,-0.277863399151585),(51,112,-0.641232032227546),(51,118,-0.00978118228705727),(52,89,0.373401593066195),(52,97,2.45537430951872),(52,106,-1.74439985351115),(52,110,-1.59974211859493),(52,111,1.49195074312571),(52,113,-1.27062288277841),(52,114,-2.5467619861446),(52,118,0.345057527390362),(53,88,-1.67722861415448),(53,90,-4.57060457167272),(53,92,2.03186895352031),(53,94,-0.128177739799188),(53,104,-2.80166783654286),(53,105,-2.10766167180395),(53,109,2.03785821100497),(54,85,2.69906460768456),(54,91,-2.04901272621845),(54,94,-0.208487197485275),(54,96,-0.492187261574144),(54,111,1.40488143559069),(54,112,2.65031891842402),(54,113,1.42099520859401),(54,118,-4.74184392834254),(55,87,-3.93902401806696),(55,95,2.47756889553514),(55,107,-1.9171346171453),(55,110,-5.54559465315714),(55,117,2.75464644306772),(56,107,1.99319437238685),(56,111,3.42706839197974),(56,113,-0.771149327066866),(56,114,-1.77391125217444),(57,87,-4.27227088229011),(57,90,0.720976897488327),(57,91,-3.10949278237251),(57,92,0.238303781243324),(57,93,7.21661275063326),(57,94,-0.728202154606769),(57,95,0.432622760704367),(57,96,2.01625110629597),(57,100,-0.650219733268227),(57,102,-4.27526169621876),(57,103,-1.29776146732994),(57,115,-3.14130832850124),(58,86,1.2288354136784),(58,87,2.26816614276559),(58,89,1.97471541489914),(58,90,-4.22647022919401),(58,95,-2.7568666646321),(58,96,-1.51654103213599),(58,101,-0.00574510940885675),(58,103,-2.48495437482833),(58,109,-0.878780480361339),(58,110,7.14997558519242),(58,113,2.22022919400616),(58,114,2.62298959318827),(58,115,0.568948942533647),(59,85,3.55998413037507),(59,86,2.99638355662709),(59,90,1.32295449690237),(59,91,-6.04411450544755),(59,93,3.19908749656667),(59,97,1.7917416913358),(59,98,3.14561143833735),(59,100,3.68542283394879),(59,102,3.04593035676138),(59,112,-1.53622547074801),(59,114,3.20931119724113),(60,85,-0.203611865596484),(60,87,-0.748794518875698),(60,90,2.32413708914457),(60,91,-5.11482589190344),(60,96,0.426496169927061),(60,100,-4.33211767937254),(60,101,0.615176854762413),(60,105,-3.62163151951659),(60,107,1.90611743522446),(60,109,3.56018250068667),(60,110,0.514770958586383),(60,114,3.66220587786493),(61,89,2.85348826563311),(61,94,-6.27629932554094),(61,96,0.809030426953947),(61,98,2.53677480391858),(61,100,3.45549638355663),(61,102,-0.393536179692983),(61,103,1.51898251289407),(61,114,3.1190450758385),(61,115,3.17674794763024),(62,93,3.62165440839869),(62,95,-0.441831720938749),(62,107,-0.43244727927488),(62,109,-1.8474837488937),(62,110,-4.3565172276986),(62,111,4.40244758445998),(63,87,-0.117671742912076),(63,90,4.92342905972472),(63,93,-1.60519730216376),(63,97,5.4932325205237),(63,100,0.69067964720603),(63,103,2.93939024018067),(63,104,0.596072267830439),(63,108,-1.12575914792322),(63,111,0.5707571642201),(63,114,3.63982055116428),(63,117,-1.33472701193274),(64,87,2.6681188390759),(64,94,0.769234290597248),(64,99,-0.941511276589252),(64,110,-2.51495406964324),(64,112,-0.288354136783959),(64,116,-0.619556260872219),(65,87,-0.696424756614887),(65,88,1.79995117038484),(65,90,-1.87215796380505),(65,97,3.87871944334239),(65,99,4.02540665913877),(65,107,2.53807947019868),(65,110,-6.26523636585589),(65,111,2.71819208349864),(65,114,-6.74236274300363),(65,116,2.28896450697348),(65,117,-1.89642017883847),(66,85,1.27451399273659),(66,102,0.387989440595721),(66,105,-2.06111331522568),(66,108,3.97016815698721),(66,111,3.51694540238655),(66,115,-1.50511185033723),(66,118,-0.449171422467727),(67,86,4.36384166997284),(67,90,0.891216772972808),(67,92,-1.60365611743522),(67,104,1.02117984557634),(67,109,-1.53262428662984),(67,111,-4.31241798150578),(68,87,2.39120151371807),(68,88,-0.194006164738914),(68,90,-1.47289193395795),(68,93,-2.1842631305887),(68,95,-6.46411023285623),(68,96,4.13516647846919),(68,97,-0.676717429120762),(68,103,0.793939024018067),(68,107,2.36297189245277),(68,112,-2.37685781426435),(68,114,-2.19796594134342),(69,87,3.29776909695731),(69,88,-1.6544846949675),(69,92,-0.156559953611866),(69,94,2.54997405926694),(69,95,0.564363536484878),(69,97,-2.47817926572466),(69,108,-1.20326853236488),(69,113,-2.16933194982757),(69,114,-3.64468062379833),(69,118,0.286172063356426),(70,85,2.24219489120151),(70,86,3.78548539689322),(70,87,-1.41154210028382),(70,90,2.0142979216895),(70,96,-2.57084109012116),(70,97,0.476088747825556),(70,99,0.950651570177313),(70,105,-1.23089541306803),(70,107,1.20914334543901),(70,109,-1.59810174871059),(70,110,-2.50904110843226),(70,111,3.73445081942198),(71,85,0.507141331217383),(71,93,1.1915723136082),(71,96,-1.15558336130863),(71,100,1.47992645039216),(71,104,2.91646320993683),(71,106,-1.96394238105411),(71,111,3.7980895413068),(71,113,1.11667226172674),(72,94,-0.625019074068422),(72,96,-3.3806115909299),(72,99,-1.08265175328837),(72,110,-0.695745719779046),(72,112,0.8699301126133),(72,114,-1.64136173589282),(72,115,-1.38340403454695),(72,116,4.79392376476333),(73,88,-2.05984679708243),(73,94,-1.647175511948),(73,99,-2.13110751670888),(73,100,-1.80127872554704),(73,106,1.8282876064333),(73,110,5.37804803613392),(73,115,-4.6701864680929),(74,90,3.08420819727165),(74,94,-0.771309549241615),(74,99,-2.49599444563128),(74,102,-0.718253120517594),(74,106,2.03321939756462),(74,107,1.96198919644765),(74,110,-1.47276985992004),(74,113,1.18060853907895),(74,116,-1.13574633014924),(75,85,-2.54390087588122),(75,86,-1.24874111148412),(75,93,-1.51937162388989),(75,98,0.432592242194892),(75,103,-0.356975005340739),(75,105,-6.12132633442183),(75,111,-1.456930753502),(75,117,0.935773796807764),(76,86,0.845812860499893),(76,89,0.304422132023072),(76,92,-5.39262825403607),(76,94,1.18083742790002),(76,99,2.14453566087832),(76,101,1.36806848353526),(76,103,1.46050141911069),(76,106,0.160069582201605),(76,110,-0.855357524338511),(76,113,1.35109256263924),(77,88,-4.01216162602618),(77,91,-0.110965300454726),(77,93,1.21787926877651),(77,98,2.12660603656117),(77,101,-0.834101382488479),(77,102,-3.5376064333018),(77,103,1.56163212988678),(77,104,3.67450483718375),(77,105,1.13938566240425),(77,109,-1.19473097933897),(78,88,-0.208388012329478),(78,93,-0.151890621662038),(78,94,0.635677663502915),(78,101,3.44441053498947),(78,104,3.18329416791284),(78,110,0.00437940610980581),(78,114,1.97931608020264),(78,116,-0.936460463270974),(78,117,0.634861293374432),(78,118,1.14711447492904),(79,87,2.24327829828791),(79,92,-1.72219763786737),(79,94,3.76713614307077),(79,107,1.07982116153447),(79,108,0.663899655140843),(79,114,-1.10156559953612),(79,118,0.938802758873257),(80,87,1.4826502273629),(80,88,-0.244529557176427),(80,91,2.8845484786523),(80,99,-1.726325266274),(80,101,-2.85950804162725),(80,107,-0.672780541398358),(80,113,2.48573259681997),(81,85,-2.64007995849483),(81,86,0.891064180425428),(81,90,-0.949743644520402),(81,93,1.26139103366192),(81,96,-0.43923764763329),(81,97,-5.68404950102237),(81,106,0.377521591845454),(81,107,0.790116580706198),(81,110,3.51031525620289),(81,115,-0.208670308542131),(82,86,-1.95822016052736),(82,92,0.530259102145451),(82,110,1.3251136814478),(82,112,-2.44903408917508),(83,87,-0.202566606646931),(83,91,3.40372936185797),(83,93,3.2995925778985),(83,101,-2.98764000366222),(83,103,-0.86954863124485),(83,105,3.49882503738517),(83,108,-2.29765465254677),(84,85,-0.566949980162969),(84,86,-1.71842097231971),(84,89,-0.296868800927763),(84,95,-3.77796258430738),(84,99,4.76825006866665),(84,104,-1.67828913235878),(84,111,0.375980407116916),(84,113,-4.4434186834315),(84,114,0.523545030060732),(10,119,2.12579729606006),(119,109,1.3814966277047),(58,120,-0.0320978423413801),(120,118,7.02372051149022),(95,104,0.935239722891934)]
orgname='BHNEAT_15_8'
cnodes = 121

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()