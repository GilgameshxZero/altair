edge = [(0,85,2.5265053254799),(0,89,1.64467299417096),(0,90,0.909298989837336),(0,93,-0.735633411664174),(0,98,0.530610065004425),(0,101,-3.22255623035371),(0,105,0.405041657765435),(0,108,1.35151219214454),(0,113,1.29378643147069),(0,114,-0.45463423566393),(0,117,-1.52882473220008),(0,118,1.42886135441145),(1,86,1.58438367870113),(1,92,2.49688711203345),(1,98,-0.618457594531083),(1,102,-1.77492599261452),(1,104,-1.89242225409711),(1,107,-2.23142185735649),(1,108,-1.7413861507004),(1,109,1.21202734458449),(1,113,1.27433088167974),(2,87,-2.15846736045412),(2,88,1.97042756431776),(2,100,0.619266335032197),(2,106,-1.31339457380902),(2,108,-1.6314737388226),(2,110,0.0943632312997834),(2,113,-2.01915036469619),(2,118,2.12390514847255),(3,89,-0.00471510971404156),(3,92,-0.721289712210455),(3,97,1.75641651661733),(3,99,3.47962889492477),(3,101,0.138950773644215),(3,103,1.98921170690023),(3,105,1.86883144627216),(3,108,1.94274727622303),(3,109,-2.54370250556963),(3,111,-0.15454573198645),(3,112,1.79866939298685),(3,116,0.00201422162541587),(4,90,-0.0560625019074068),(4,91,-1.20989104892117),(4,97,0.595385601367229),(4,99,1.16234321115757),(4,101,-0.966551713614307),(4,108,1.79479354228339),(4,113,-0.734992522965178),(4,118,-0.52493362224189),(5,86,-2.12475966673788),(5,87,1.91912594988861),(5,89,-0.91087069307535),(5,92,2.08897671437727),(5,93,0.687185277871029),(5,99,-2.16837061677908),(5,104,0.995605334635456),(5,114,-0.842768639179663),(5,118,-2.92738120670186),(6,89,1.18666646320994),(6,92,-2.23990600299081),(6,94,1.36310922574541),(6,100,1.42786950285348),(6,101,1.55619983520005),(6,103,0.642902920621357),(6,107,3.15839106418043),(6,110,1.57623523667104),(6,113,-1.56631672109134),(7,85,0.929441206091494),(7,86,-0.428342539750359),(7,90,-1.9170354319895),(7,95,0.227561265907773),(7,99,1.72869045075838),(7,100,2.24912259285257),(7,104,1.51022370067446),(7,106,0.570238349559008),(7,108,-0.212424085207678),(7,112,2.29584643086032),(7,116,-0.386059144871365),(8,92,1.80147709585864),(8,93,1.68837549974059),(8,95,1.18596453749199),(8,99,-2.05433820612201),(8,106,1.34244819483016),(8,107,-0.230506302072207),(8,115,2.87649159215064),(8,116,-0.923154393139439),(8,118,-0.241859187597278),(9,85,0.611804559465316),(9,87,-0.413251136814478),(9,98,-2.58243049409467),(9,101,-1.39625232703635),(9,103,0.196768089846492),(9,105,-0.936109500412),(9,106,2.56360057374798),(9,113,-0.859492782372509),(10,89,-1.72096926786096),(10,96,2.30693990905484),(10,106,2.00061037018952),(10,108,1.2944730979339),(10,109,-1.16101565599536),(10,111,-3.36364329966124),(10,112,-2.91482284005249),(10,114,0.180501724295785),(10,115,-0.91033661915952),(10,116,-0.243919186986908),(10,117,1.12471388897366),(11,89,-0.575411236915189),(11,97,1.03878902554399),(11,105,-2.16638691366314),(11,112,0.332483901486251),(11,115,-1.74550614947966),(12,92,1.02882473220008),(12,93,-1.18820764793847),(12,94,1.53454695272683),(12,97,-1.29334391308328),(12,98,-1.76258125553148),(12,99,-0.648762474440748),(12,108,-1.79149754325999),(12,116,2.24449903866695),(13,86,-0.210226752525407),(13,87,-0.84392834253975),(13,90,-0.364284188360241),(13,99,-1.21332438123722),(13,102,0.86802270577105),(13,104,-0.774620807519761),(13,113,1.51835688344981),(13,116,-0.103717154454177),(13,118,-1.77060762352367),(14,90,-3.16937772759178),(14,93,-0.534119693594165),(14,95,-1.32068849757378),(14,102,-1.99734488967559),(14,104,-0.227591784417249),(14,106,1.60917996765038),(14,109,-0.414487136448256),(14,110,2.6247291482284),(14,111,-0.39013336588641),(15,85,0.896893215735344),(15,92,-0.677846613971374),(15,99,-3.13322855311747),(15,101,0.753273110141301),(15,104,-0.492065187536241),(15,108,-1.55211035493027),(15,117,0.56930753501999),(16,86,-2.09692678609577),(16,87,-1.56134220404675),(16,88,1.81723990600299),(16,90,0.635364848780785),(16,91,0.313806573686941),(16,95,-0.503219702749718),(16,97,-0.195059053315836),(16,98,-2.60753196813868),(16,99,2.15634632404553),(16,101,2.34440137943663),(16,108,2.98240607928709),(16,110,0.761070589312418),(17,89,2.31020538956877),(17,96,1.02613910336619),(17,99,-1.30709250160222),(17,101,-1.8421430097354),(17,106,1.98991363261818),(17,107,-0.315820795312357),(17,109,-1.12977996154668),(18,90,-0.858897671437727),(18,91,1.29894405957213),(18,93,0.95532090212714),(18,99,-1.98500015259255),(18,102,-0.547837763603626),(18,103,-1.39062166203803),(18,104,0.270928067873165),(18,110,-0.974562822351756),(18,111,-1.01345866267891),(18,116,-1.56590472121342),(18,117,-0.602893154698324),(18,118,1.04324472792749),(19,87,2.18117313150426),(19,89,1.4568315683462),(19,93,1.15825373088778),(19,95,-2.51167332987457),(19,101,-0.550492873928037),(19,105,-1.40722373119297),(19,115,-0.878673665578173),(20,88,1.84250923184912),(20,101,-0.0780816064943388),(20,103,2.01411481063265),(20,104,0.530213324381237),(20,105,0.797494430372021),(20,106,1.25959044160283),(20,111,1.03320413830988),(20,116,-0.62800988799707),(21,86,0.351573229163488),(21,87,0.0318002868739891),(21,94,-2.01260414441359),(21,96,2.27462080751976),(21,101,1.62216559343242),(21,102,-0.545686208685568),(21,105,-2.61534470656453),(21,107,0.376873073519089),(21,108,0.958708456678976),(22,86,1.11052278206732),(22,88,-2.17006439405499),(22,91,0.661732840968047),(22,92,-2.22878200628681),(22,93,0.435819574571978),(22,98,-2.0171056245613),(22,106,-2.13953062532426),(22,115,-0.626117740409558),(22,117,-0.567262794885098),(23,85,0.612750633259072),(23,86,-2.83053071687979),(23,88,0.139606921597949),(23,90,-0.294549394207587),(23,97,1.11149937437056),(23,104,-0.358607745597705),(23,112,0.818277535325175),(23,114,0.399502548295541),(23,115,0.0343638416699729),(23,116,-1.44087038789026),(24,89,-2.46372875148778),(24,90,0.0181127353740043),(24,91,1.14213995788446),(24,101,2.27086703085421),(24,107,-1.87340922269356),(24,108,0.186040833765679),(24,110,1.98170415356914),(24,112,0.0323953978087711),(25,90,-0.101672414319285),(25,92,0.455519272438734),(25,94,-2.57487716299936),(25,98,1.5948515274514),(25,105,1.97236548966948),(25,108,-1.29848628192999),(25,109,-1.49104281746879),(25,115,-0.467787713248085),(26,85,0.355677968688009),(26,87,-1.72618793298135),(26,89,-1.65250099185156),(26,95,2.14009521774957),(26,98,-0.118701742606891),(26,100,-0.876110110782189),(26,101,-1.46819971312601),(26,102,2.08780175176244),(26,103,1.14723654896695),(26,104,-0.571398052919095),(26,107,0.142506179998169),(26,109,2.69006927701651),(26,112,1.20892971587268),(26,113,-1.09628589739677),(26,117,0.73856318857387),(27,85,-1.85934018982513),(27,87,-1.86107974486526),(27,94,-1.66263313699759),(27,100,0.915738395336772),(27,102,0.0732444227423933),(27,103,-1.03144932401502),(27,104,-2.7296212652974),(27,105,0.165242469557787),(27,108,-2.74750511185034),(27,110,1.98017822809534),(27,114,0.718161564989166),(28,87,2.64986114078188),(28,88,-1.79850154118473),(28,97,-0.386211737418744),(28,99,-0.0160374767296365),(28,104,1.54197820978423),(28,113,1.85157322916349),(28,114,-1.01689199499496),(29,88,1.55519272438734),(29,91,-1.21155430768761),(29,102,0.338129825739311),(29,105,0.870448927274392),(29,116,1.0118869594409),(30,95,-1.50802636799219),(30,96,0.939924314096499),(30,99,0.67734305856502),(30,101,-1.04896694845424),(30,104,-1.65074617755669),(30,109,-1.14174321726127),(30,110,-1.3435468611713),(30,114,-0.964964751121555),(30,118,-1.14815210425123),(31,85,1.41230506302072),(31,92,1.04338206122013),(31,94,1.04257332071902),(31,96,-0.757820368053224),(31,99,0.815378276924955),(31,103,0.284569841608936),(31,107,0.876110110782189),(31,108,3.23543504135258),(31,109,-1.71396526993622),(31,111,1.9096041749321),(31,112,-1.26895962401196),(31,117,1.72707296975616),(32,86,-1.56002990813929),(32,87,-0.577196569719535),(32,89,-0.906201361125523),(32,92,-2.372859889523),(32,98,-0.4984740745262),(32,99,-2.23500778221992),(32,104,2.04004028443251),(32,106,1.54097109897153),(32,109,-1.54460280159917),(32,116,-2.41259498886074),(32,118,2.44454786828211),(33,96,0.955351420636616),(33,98,1.89667958616901),(33,108,-0.558900723288675),(33,110,-2.88883632923368),(33,111,-1.35016937772759),(33,114,-1.60625019074068),(34,85,2.28048036133915),(34,90,0.443983275856807),(34,99,-2.26332895901364),(34,104,1.398602252266),(34,109,-0.325891903439436),(35,86,-0.156559953611866),(35,87,-0.682576982940153),(35,97,0.909451582384716),(35,98,-0.0762962736899929),(35,100,1.26096377452925),(35,104,-1.36291085543382),(35,107,-1.03845332193976),(35,109,0.13022247993408),(35,110,-1.22602008117924),(35,112,-0.334559160130619),(36,85,-2.95191808832057),(36,87,-0.0585497604297006),(36,90,1.49571214941862),(36,91,2.45910519730216),(36,104,-0.513168736838893),(36,107,0.586428418836024),(36,109,0.302285836359752),(36,112,-1.15724662007508),(36,115,-1.13727225562304),(36,117,-1.81536301767022),(36,118,1.46459852900784),(37,85,2.56550798059023),(37,86,1.46778771324808),(37,87,0.928830835901975),(37,91,-1.84553056428724),(37,99,-2.74195074312571),(37,105,-1.684041871395),(37,111,-1.82232123783074),(37,112,1.63185522019105),(37,118,0.169576097903378),(38,87,1.94973601489303),(38,90,1.92455824457533),(38,103,-0.407467879268777),(38,105,0.833964049195837),(38,106,3.21047090060121),(38,111,1.62874233222449),(38,115,1.71675771355327),(39,87,1.70416882839442),(39,89,-0.32235175634022),(39,91,1.38241218298898),(39,94,0.843119602038636),(39,97,-1.63454084902493),(39,98,-1.27610095522935),(39,107,-0.152226325266274),(39,108,0.353831598864711),(39,109,2.16985076448866),(39,111,-1.03558458204901),(39,113,-1.16818750572222),(39,116,-0.604815820795312),(39,118,0.0572679830317087),(40,88,1.80887783440657),(40,92,0.180135502182073),(40,99,2.17555772576067),(40,104,-1.4080782494583),(40,110,-1.10528885769219),(40,116,-1.68247016815699),(40,118,2.56271553697317),(41,88,-1.38615070039979),(41,93,-1.06775109103671),(41,96,-0.264549699392682),(41,97,-2.38723410748619),(41,100,-1.82439649647511),(41,101,2.40803247169408),(41,104,1.91660817285684),(41,105,-0.591616565446944),(41,106,1.31058687093722),(41,107,0.427411725211341),(41,109,2.48754844813379),(41,110,2.56860560930204),(41,111,-3.06712546159246),(41,112,1.11386455885495),(42,85,0.0937986388744773),(42,86,2.04753257850887),(42,87,-1.73813592944121),(42,99,0.415356913968322),(42,100,-0.961134678182318),(42,103,-0.87267677846614),(42,109,-2.3743858149968),(42,113,-2.52552873317667),(43,85,0.386104922635578),(43,88,-1.02847376934111),(43,89,0.642200994903409),(43,93,1.3790856654561),(43,97,1.83803827021088),(43,98,-1.18095950193793),(43,101,-1.44128238776818),(43,102,1.49229407635731),(43,103,-1.53660695211646),(43,105,-1.72887356181524),(43,110,-0.964217047639393),(43,112,2.19040498062075),(43,114,-2.26537369914853),(43,116,-1.72849208044679),(44,89,3.08580278939177),(44,98,-1.01649525437178),(44,99,-1.81026642658773),(45,87,0.0902737510299997),(45,88,0.986220892971587),(45,90,1.73804437391278),(45,91,2.23931089205603),(45,95,0.00285348063600571),(45,98,1.24481948301645),(45,108,0.404568620868557),(45,109,-1.44210638752403),(45,112,-0.95760979033784),(45,115,-1.24044007690664),(46,85,1.82601397747734),(46,89,-0.497161778618732),(46,91,-0.498794518875698),(46,94,0.238441114535966),(46,97,2.66859950560015),(46,100,-1.95858638264107),(46,101,-0.748680074465163),(46,108,1.35212256233406),(46,112,-1.45500045777764),(47,86,-0.515350810266427),(47,91,-1.18558305612354),(47,92,2.26728110599078),(47,94,-0.965117343668935),(47,95,-0.755104220709861),(47,100,0.00138859218115794),(47,101,2.40493484298227),(47,104,1.26338999603259),(47,105,-2.01431318094424),(47,108,2.38425855281228),(47,112,2.00421155430769),(47,114,-0.795007171849727),(47,118,0.35316019165624),(48,86,3.0503555406354),(48,91,1.03665272988067),(48,98,2.02163762321848),(48,99,0.471938230536821),(48,100,1.77611621448408),(48,103,-2.77057710501419),(48,105,-1.3795281838435),(48,106,-2.206289864803),(48,111,-2.43081453901791),(48,115,0.786156804101688),(49,87,1.52290414136174),(49,89,0.980529190954314),(49,93,-2.12175359355449),(49,94,-1.88070314645833),(49,95,-0.939374980925932),(49,102,3.43975646229438),(49,113,1.51530503250221),(49,114,2.34127323221534),(50,89,-1.2378917813654),(50,105,2.79222998748741),(50,107,0.492828150273141),(51,87,1.77211828974273),(51,92,2.59143345439009),(51,97,-0.922544022949919),(51,98,-2.79973754081851),(51,103,-0.89272743919187),(51,106,2.47936948759423),(51,112,-1.59207434308908),(51,118,0.58279671620838),(52,89,-1.12280648213141),(52,97,1.78614154484695),(52,106,-0.206686605426191),(52,110,-2.69577623828852),(52,111,-1.83390301217689),(52,113,1.00727866451003),(52,114,-0.773400067140721),(52,118,-0.564165166173284),(53,88,0.599414044618061),(53,90,-1.92999053926206),(53,92,-2.86577959532456),(53,94,2.65617847224342),(53,104,1.07429731131932),(53,105,2.89405499435408),(53,109,-2.91850032044435),(54,85,-2.07834101382488),(54,91,-0.680486465041047),(54,94,1.46426282540361),(54,96,-0.750297555467391),(54,111,1.29970702230903),(54,112,-1.22515030365917),(54,113,2.16234321115757),(54,118,-2.06730857264931),(55,87,-1.99887081514939),(55,95,-1.48602252265999),(55,107,-0.880840479750969),(55,110,0.383007293923765),(55,117,0.923429059724723),(56,107,0.943891720328379),(56,111,1.40124210333567),(56,113,-1.77111117893002),(56,114,-0.926755577257607),(57,87,2.07199316385388),(57,90,2.60852381969665),(57,91,2.65442365794855),(57,92,2.69191564683981),(57,93,-1.03257850886563),(57,94,2.6793420209357),(57,95,0.731513412884915),(57,96,-0.946485793633839),(57,100,-0.849986266670736),(57,102,0.0813318277535325),(57,103,2.21243934446242),(57,115,0.168462172307504),(58,86,-0.0505691702017274),(58,87,-0.352381969664602),(58,89,2.92559587389752),(58,90,-1.32976775414289),(58,95,-0.590701010162664),(58,96,-0.797753837702567),(58,101,0.612903225806452),(58,103,-0.441816461684011),(58,109,1.57048249763482),(58,110,1.18980986968596),(58,113,0.115634632404553),(58,114,2.05351420636616),(58,115,-1.90311899166845),(58,118,-1.34327219458602),(59,85,0.508621478926969),(59,86,-0.853602710043641),(59,90,-1.07696768089846),(59,91,-0.636539811395612),(59,93,-0.0133060701315347),(59,97,2.52317880794702),(59,98,0.101657155064547),(59,100,-1.67435224463637),(59,102,-0.672444837794122),(59,112,1.51379436628315),(59,114,1.34179204687643),(60,85,2.16914883877071),(60,87,-1.43420209356975),(60,90,-0.0726798303170872),(60,91,1.34052552873318),(60,96,2.10727256080813),(60,100,-1.00935392315439),(60,101,-2.02793969542528),(60,105,-1.86986907559435),(60,107,-0.121570482497635),(60,109,0.119907223731193),(60,110,-1.950727866451),(60,114,-1.22243415631581),(61,89,2.50462355418561),(61,94,-1.14957121494186),(61,96,2.58612323374126),(61,98,-1.4699240089114),(61,100,-1.26132999664296),(61,102,0.513397625659963),(61,103,0.881069368572039),(61,114,0.835612048707541),(61,115,-2.48847926267281),(62,93,-2.89288003173925),(62,95,1.0628070925016),(62,107,0.586565752128666),(62,109,-2.707571642201),(62,110,-0.212179937131871),(62,111,-1.22179326761681),(63,87,-1.41000091555528),(63,90,-1.09428693502609),(63,93,-2.1355327005829),(63,97,0.900860621967223),(63,100,2.10277108066042),(63,103,0.540849024933622),(63,104,-1.46934415723136),(63,108,-0.907864619891964),(63,111,-2.42425305948058),(63,114,0.92817468794824),(63,117,0.568819238868374),(64,87,-1.0064241462447),(64,94,2.21543015839106),(64,99,-1.38509781182287),(64,110,-1.49916074098941),(64,112,-2.94315927610096),(64,116,2.24010437330241),(65,87,0.703344828638569),(65,88,1.25534836878567),(65,90,-1.67012543107395),(65,97,-2.1940824610126),(65,99,-1.8249153111362),(65,107,-0.355265968810083),(65,110,-3.19316690572832),(65,111,1.77637562181463),(65,114,-2.82615131076998),(65,116,1.71680349131748),(65,117,-0.0255592516861477),(66,85,2.68903164769433),(66,102,-1.61803033539842),(66,105,2.29586169011505),(66,108,-0.0788750877407147),(66,111,2.5402386547441),(66,115,-1.9947813348796),(66,118,1.02647480697043),(67,86,0.69563890499588),(67,90,0.372615741447188),(67,92,0.265755180516984),(67,104,1.68572038941618),(67,109,-2.3086489455855),(67,111,2.03224280526139),(68,87,-0.519714957121494),(68,88,-0.947141941587573),(68,90,-0.208960234382153),(68,93,0.944151127658925),(68,95,0.651051362651448),(68,96,0.277169103061007),(68,97,-0.871959593493454),(68,103,-1.61214026306955),(68,107,-0.86596270638142),(68,112,-0.244224372081668),(68,114,2.17125461592456),(69,87,1.02414014099551),(69,88,1.24019592883084),(69,92,0.673085726493118),(69,94,-1.00433362834559),(69,95,-0.309381389812922),(69,97,1.48081911679434),(69,108,0.388195440534684),(69,113,1.20850245674001),(69,114,0.905514694662313),(69,118,-0.616260261848811),(70,85,-1.58917508468886),(70,86,-1.8851893673513),(70,87,-0.25693533127842),(70,90,0.739188818018128),(70,96,-2.10921048615986),(70,97,-1.41126743369854),(70,99,3.22014526810511),(70,105,-2.669423505356),(70,107,-0.642048402356029),(70,109,0.786156804101688),(70,110,1.64105655079806),(70,111,-0.274117252113407),(71,85,1.77481917783135),(71,93,-0.46134830774865),(71,96,-0.831385235145116),(71,100,-0.132023071993164),(71,104,1.57712027344584),(71,106,-0.206213568529313),(71,111,2.48371837519456),(71,113,1.75908688619648),(72,94,0.951902829065828),(72,96,-0.502243110446486),(72,99,-0.988433484908597),(72,110,-0.184636982329783),(72,112,0.448133793145543),(72,114,0.623676259651479),(72,115,2.41744743186743),(72,116,1.54368724631489),(73,88,0.847773674733726),(73,94,0.381542405468917),(73,99,2.12569048127689),(73,100,-0.515457625049593),(73,106,1.92625202185125),(73,110,-1.77488021485031),(73,115,-0.0560930204168828),(74,90,2.15529343546861),(74,94,-1.71478926969207),(74,99,-2.48649555955687),(74,102,-0.518723105563524),(74,106,-0.253059480574969),(74,107,-2.27489547410504),(74,110,-1.47305215613269),(74,113,-0.118762779625843),(74,116,1.4706869716483),(75,85,-0.140415662099063),(75,86,0.666219061861019),(75,93,-0.816446424756615),(75,98,2.91511276589251),(75,103,-2.1326792199469),(75,105,0.606067079683828),(75,111,2.95446638386181),(75,117,-0.725363933225501),(76,86,-0.379589220862453),(76,89,1.73111667226173),(76,92,0.621005890072329),(76,94,-1.70651875362407),(76,99,-1.65291299172948),(76,101,-0.567262794885098),(76,103,-0.936124759666738),(76,106,1.27375102999969),(76,110,1.25370036927396),(76,113,0.660191656239509),(77,88,0.988906521805475),(77,91,-1.16682943205054),(77,93,-1.76549577318644),(77,98,0.0988494521927549),(77,101,-0.725119785149693),(77,102,0.207037568285165),(77,103,0.097659230323191),(77,104,-1.81287575914792),(77,105,0.182515945921201),(77,109,0.201681569872127),(78,88,1.81464583269753),(78,93,0.811410870693075),(78,94,2.28087710196234),(78,101,1.17000335703604),(78,104,-0.568971831415754),(78,110,1.66977446821497),(78,114,-0.494399853511155),(78,116,-0.684835352641377),(78,117,-1.42851039155248),(78,118,0.594561601611377),(79,87,0.698446607867672),(79,92,-1.43223364970855),(79,94,2.04554887539293),(79,107,-2.5216834009827),(79,108,2.24510940885647),(79,114,0.841883602404859),(79,118,-0.766228217413861),(80,87,0.363078707235939),(80,88,1.33251441999573),(80,91,-1.5108035523545),(80,99,-1.71320230719932),(80,101,0.353740043336283),(80,107,-0.87359233375042),(80,113,1.88451796014283),(81,85,-0.408490249336222),(81,86,1.75197607348857),(81,90,-0.883297219763787),(81,93,-0.653187658314768),(81,96,1.22125919370098),(81,97,0.634159367656484),(81,106,-0.0928525650807215),(81,107,0.13556321909238),(81,110,1.47387615588855),(81,115,-1.25926999725333),(82,86,1.14915921506394),(82,92,-0.445631275368511),(82,110,1.17954039124729),(82,112,2.72205267494736),(83,87,-1.01733451338237),(83,91,3.0004425183874),(83,93,-1.97740104373302),(83,101,-0.454908902249214),(83,103,1.65944395275735),(83,105,-1.28022095400861),(83,108,-0.763145847956786),(84,85,-1.20581682790612),(84,86,-0.237449262977996),(84,89,-1.01396221808527),(84,95,0.667165135654775),(84,99,0.591143528550066),(84,104,0.271996215704825),(84,111,0.923490096743675),(84,113,1.40090639973144),(84,114,-0.77652821436201)]
orgname='BHNEAT_4_7'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()