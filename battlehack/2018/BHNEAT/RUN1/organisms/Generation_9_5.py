edge = [(0,85,0.60811181981872),(0,89,-0.823358867152928),(0,90,0.570925016022217),(0,93,0.253303628650777),(0,98,0.571581163975951),(0,101,0.708334604937895),(0,105,-0.753120517593921),(0,108,0.148014770958586),(0,113,0.795342875453963),(0,114,-1.29490035706656),(0,117,0.563676870021668),(0,118,-2.21024201178014),(1,86,0.237678151799066),(1,92,0.3037507248146),(1,98,0.928220465712455),(1,102,-0.115787224951933),(1,104,0.60971404156621),(1,107,-0.885250404370251),(1,108,-0.971861934263131),(1,109,1.98164311655019),(1,113,2.30867946409497),(2,87,-0.285775322733238),(2,88,0.586565752128666),(2,100,-0.455977050080874),(2,106,-0.696768089846492),(2,108,0.222602008117924),(2,110,-0.704000976592303),(2,113,0.451857051301614),(2,118,0.00302133243812372),(3,89,1.22402111880856),(3,92,0.549272133548998),(3,97,0.0490585039826655),(3,99,0.986724448377941),(3,101,0.0292367320780053),(3,103,0.52012695699942),(3,105,0.834406567583239),(3,108,-1.04951628162481),(3,109,0.608096560563982),(3,111,-0.69060335093234),(3,112,-0.334101382488479),(3,116,0.300943021942808),(4,90,-0.572130497146519),(4,91,0.940061647389142),(4,97,-0.706839197973571),(4,99,0.032624286629841),(4,101,0.0285042878505814),(4,108,-0.515381328775902),(4,113,-0.556382946256905),(4,118,-0.585741752372814),(5,86,-0.0134281441694388),(5,87,-0.368388927884762),(5,89,0.0227668080690939),(5,92,1.27588732566301),(5,93,0.920041505172887),(5,99,0.242591631824702),(5,104,1.08456678975799),(5,114,0.716727195043794),(5,118,-0.556321909237953),(6,89,-0.219397564622944),(6,92,-0.823847163304544),(6,94,2.29010895107883),(6,100,0.370555742057558),(6,101,-0.813257240516373),(6,103,-0.423261207922605),(6,107,0.955717642750328),(6,110,-0.189642017883847),(6,113,0.0422376171147801),(7,85,0.170674764244514),(7,86,1.67590868861965),(7,90,-0.580614642780847),(7,95,-0.586443678090762),(7,99,0.318735312967315),(7,100,3.14255195776238),(7,104,-0.362773522141179),(7,106,3.07649464400159),(7,108,1.22638630329295),(7,112,-1.71214941862239),(7,116,-0.251472518082217),(8,92,-0.235480819116794),(8,93,-0.289452803125095),(8,95,0.290169988097781),(8,99,1.76076540421766),(8,106,-0.223609118930631),(8,107,-0.496169927060762),(8,115,-1.64429151280251),(8,116,-0.381145664845729),(8,118,-2.93671987060152),(9,85,-0.324503311258278),(9,87,0.79970702230903),(9,98,-0.220984527115696),(9,101,-0.479171117282632),(9,103,0.785699026459548),(9,105,0.528702658162175),(9,106,0.718375194555498),(9,113,0.263817255165258),(10,89,-2.68428601947081),(10,96,0.438978240302744),(10,106,1.29738761558885),(10,108,0.750633259071627),(10,109,2.6422772911771),(10,111,-0.926664021729179),(10,112,-0.723136082033753),(10,114,0.264809106723228),(10,115,0.550431836909085),(10,116,-0.271614734336375),(10,117,0.121768852809229),(11,89,-0.135868404187139),(11,97,0.724524674214911),(11,105,0.902172917874691),(11,112,1.28658406323435),(11,115,-0.280922879726554),(12,92,-0.753837702566607),(12,93,0.908261360515152),(12,94,-0.747703482161931),(12,97,-0.617664113284707),(12,98,0.709341715750603),(12,99,0.723807489242225),(12,108,-0.0459913937803278),(12,116,-0.0682699056978057),(13,86,3.21875667592395),(13,87,-0.452223273415326),(13,90,0.406079287087619),(13,99,0.188390758995331),(13,102,0.683156834620197),(13,104,-0.303262428662984),(13,113,0.12976470229194),(13,116,-0.421033356730857),(13,118,2.49168370616779),(14,90,-0.860347300637837),(14,93,-0.131809442426832),(14,95,0.881374553666799),(14,102,1.13866084780419),(14,104,-1.80143131809442),(14,106,-1.69093905453658),(14,109,0.330698568681906),(14,110,2.41270180364391),(14,111,-0.0679342020935697),(15,85,-2.37865840632344),(15,92,1.26602984710227),(15,99,-2.37487411114841),(15,101,-0.0460829493087558),(15,104,-0.699819940794092),(15,108,-0.111026337473678),(15,117,-0.419568468276009),(16,86,-0.11383404034547),(16,87,-0.638843958861049),(16,88,0.621814630573443),(16,90,2.05935850093081),(16,91,1.42551957762383),(16,95,-0.791619617297891),(16,97,-0.523056733909116),(16,98,-0.840662862025819),(16,99,1.40414136173589),(16,101,0.80108035523545),(16,108,0.552140873439741),(16,110,1.84493545335246),(17,89,-0.956038087099826),(17,96,-0.106784264656514),(17,99,1.25409710989715),(17,101,-2.13397625659963),(17,106,-1.87520981475265),(17,107,-0.0424512466811121),(17,109,-0.546494949186682),(18,90,2.056260872219),(18,91,-0.707876827295755),(18,93,-0.558549760429701),(18,99,0.272530289620655),(18,102,-0.269966734824671),(18,103,-0.847773674733726),(18,104,-1.38355662709433),(18,110,0.789635914181951),(18,111,-2.01355021820734),(18,116,-1.53729361857967),(18,117,0.579699087496567),(18,118,1.85389263588366),(19,87,-0.778603473006378),(19,89,1.43559068575091),(19,93,0.0225836970122379),(19,95,-0.842463454084903),(19,101,0.737846003601184),(19,105,-0.792199468977935),(19,115,-0.994872890408033),(20,88,0.362590411084323),(20,101,1.70751060518204),(20,103,-2.20285653248695),(20,104,1.85216834009827),(20,105,-0.275460066530351),(20,106,1.77777947325053),(20,111,-0.22064882351146),(20,116,-0.651356547746208),(21,86,0.752586443678091),(21,87,1.49714651936399),(21,94,-0.712668233283486),(21,96,-1.66081728568377),(21,101,0.794122135074923),(21,102,-0.675679799798578),(21,105,-0.970854823450423),(21,107,0.0382702108829005),(21,108,-0.732932523575549),(22,86,-0.824274422437208),(22,88,-0.659932248908963),(22,91,-0.416333506271554),(22,92,-0.363414410840175),(22,93,0.315958128604999),(22,98,-0.329966124454482),(22,106,-1.22481460005493),(22,115,0.6954863124485),(22,117,0.171895504623554),(23,85,2.48771629993591),(23,86,-0.963408307138279),(23,88,-2.07100131229591),(23,90,0.49458296456801),(23,97,0.263618884853664),(23,104,-0.532792138431959),(23,112,0.479445783867916),(23,114,-1.80187383648183),(23,115,-0.776970732749413),(23,116,0.409009063997314),(24,89,-0.65256202887051),(24,90,-0.946043275246437),(24,91,-0.97926267281106),(24,101,0.265419476912748),(24,107,2.47563097018342),(24,108,-0.25830866420484),(24,110,-0.754280220954008),(24,112,0.845484786523026),(25,90,-1.02249214148381),(25,92,0.432477797784356),(25,94,-1.96893215735343),(25,98,0.228614154484695),(25,105,0.854396191290017),(25,108,0.719168675801874),(25,109,0.0531937620166631),(25,115,-0.423688467055269),(26,85,0.541917172765282),(26,87,-1.64889980773339),(26,89,2.18108157597583),(26,95,0.657734916226691),(26,98,-1.70413830988495),(26,100,1.62663655507065),(26,101,0.493911557359539),(26,102,-1.90348521378216),(26,103,-0.683339945677053),(26,104,0.873958555864132),(26,107,0.866481521042512),(26,109,0.19251075777459),(26,112,-0.266182439649647),(26,113,-1.09323404644917),(26,117,-0.572893459883419),(27,85,0.673924985503708),(27,87,0.121250038148137),(27,94,0.0428174687948241),(27,100,0.54315317239906),(27,102,-0.950956755272072),(27,103,-0.148472548600726),(27,104,0.592242194891201),(27,105,3.14827417828913),(27,108,-2.21076082644124),(27,110,-0.139103366191595),(27,114,-0.924649800103763),(28,87,0.423078096865749),(28,88,-0.756523331400494),(28,97,-0.279549546800134),(28,99,-0.402615436262093),(28,104,0.076479384746849),(28,113,-0.161351359599597),(28,114,0.280220954008606),(29,88,-0.72103030487991),(29,91,2.39509262367626),(29,102,0.634311960203864),(29,105,2.25560777611621),(29,116,-1.39274269844661),(30,95,2.06195257423627),(30,96,0.273934141056551),(30,99,-0.472518082216865),(30,101,-0.899807733390301),(30,104,0.713446455275124),(30,109,-0.97499008148442),(30,110,-1.37623218482009),(30,114,-1.48240607928709),(30,118,0.960753196813868),(31,85,0.334849085970641),(31,92,1.88650166325877),(31,94,0.00120548112430185),(31,96,2.91958372753075),(31,99,0.309915463728751),(31,103,0.32578508865627),(31,107,0.165410321359905),(31,108,1.02404858546709),(31,109,0.0884273812067019),(31,111,-0.396679586169011),(31,112,-0.307931760612812),(31,117,-0.58500930814539),(32,86,1.00856044190802),(32,87,0.150975066377758),(32,89,-0.163609729300821),(32,92,-0.319299905392621),(32,98,-1.5811181981872),(32,99,0.0333567308572649),(32,104,0.562410351878414),(32,106,-1.00434888760033),(32,109,1.23609118930631),(32,116,-0.39646595660268),(32,118,0.266975920896023),(33,96,2.59732352671895),(33,98,0.207861568041017),(33,108,-0.780999176000244),(33,110,-0.883236182744835),(33,111,-1.56700338755455),(33,114,1.84699545274209),(34,85,0.919736320078127),(34,90,-2.10097048860134),(34,99,-0.739310892056032),(34,104,-0.0549943540757469),(34,109,-0.666859950560015),(35,86,-0.0744651631214332),(35,87,0.684499649037141),(35,97,1.65051728873562),(35,98,0.749382000183111),(35,100,0.245078890346995),(35,104,0.822748496963408),(35,107,-0.56953642384106),(35,109,-0.651051362651448),(35,110,-0.345103305154576),(35,112,0.519272438734092),(36,85,-0.832789086581011),(36,87,-0.111270485549486),(36,90,-0.779595324564348),(36,91,-0.488372447889645),(36,104,1.62190618610187),(36,107,-0.592120120853297),(36,109,2.45979186376537),(36,112,-0.334543900875881),(36,115,0.204931791131321),(36,117,-2.45945616016114),(36,118,0.62709433271279),(37,85,0.419293801690725),(37,86,0.0860621967223121),(37,87,-0.188756981109043),(37,91,0.454573198644978),(37,99,0.227515488143559),(37,105,0.69586779381695),(37,111,-0.0716269417401654),(37,112,0.93099765007477),(37,118,1.71765800958281),(38,87,0.187749870296335),(38,90,0.963835566270943),(38,103,0.200689718314158),(38,105,0.685110019226661),(38,106,0.955687124240852),(38,111,0.233130893887143),(38,115,-0.112674336985382),(39,87,0.677907650990326),(39,89,0.470900601214637),(39,91,-2.56294442579424),(39,94,2.2453230384228),(39,97,-0.462172307504502),(39,98,0.135074922940764),(39,107,-0.3029877620777),(39,108,0.868984038819544),(39,109,0.914548173467208),(39,111,-1.77022614215522),(39,113,0.904629657887509),(39,116,0.519714957121494),(39,118,-0.953276161992248),(40,88,-2.13560899685659),(40,92,-0.368358409375286),(40,99,0.297067171239357),(40,104,-0.60460219122898),(40,110,0.278878139591662),(40,116,-0.775994140446181),(40,118,0.531327249977111),(41,88,-0.694296090578936),(41,93,-0.0160069582201606),(41,96,-0.463759269997253),(41,97,2.19443342387158),(41,100,0.124744407483139),(41,101,2.32517471846675),(41,104,0.651387066255684),(41,105,0.0281380657368694),(41,106,-0.0122379222998749),(41,107,-1.69194616534928),(41,109,1.54490798669393),(41,110,0.30939664906766),(41,111,-0.861781670583209),(41,112,-0.971312601092563),(42,85,0.970519119846187),(42,86,1.13708914456618),(42,87,-0.150028992584002),(42,99,-0.569170201727348),(42,100,-2.3404950102237),(42,103,-0.65614795373394),(42,109,-0.946043275246437),(42,113,1.36695455793939),(43,85,-2.24234748374889),(43,88,0.0901821955015717),(43,89,-0.799264503921628),(43,93,-0.65591906491287),(43,97,-1.7958006530961),(43,98,-1.18454542680136),(43,101,-0.718146305734428),(43,102,-1.01586962492752),(43,103,1.10774559770501),(43,105,-0.334177678762169),(43,110,0.187017426068911),(43,112,0.896877956480606),(43,114,-0.988708151493881),(43,116,1.43391216772973),(44,89,0.907620471816156),(44,98,-0.453276161992248),(44,99,-0.634083071382794),(45,87,1.89277321695608),(45,88,2.72806482131413),(45,90,-1.05279702139348),(45,91,0.655171361430708),(45,95,0.804422132023072),(45,98,0.315836054567095),(45,108,1.70465712454604),(45,109,0.195745719779046),(45,112,0.666737876522111),(45,115,-0.819208349864193),(46,85,1.64610736411634),(46,89,0.450972014526811),(46,91,-0.100833155308695),(46,94,-1.9012115848262),(46,97,-0.347315897091586),(46,100,0.116138187810907),(46,101,-0.336375011444441),(46,108,-0.511032441175573),(46,112,-2.05977050080874),(47,86,-0.541367839594714),(47,91,0.699392681661428),(47,92,0.877697073274941),(47,94,0.898342844935453),(47,95,-0.308999908444472),(47,100,-0.583880123294778),(47,101,0.716727195043794),(47,104,0.707953123569445),(47,105,0.0389721366008484),(47,108,0.487075411236915),(47,112,0.23734244819483),(47,114,0.898007141331217),(47,118,0.616992706076235),(48,86,0.669454023865474),(48,91,-0.575106051820429),(48,98,0.673787652211066),(48,99,1.34011352885525),(48,100,1.25707266457106),(48,103,2.34221930600909),(48,105,-0.52699362163152),(48,106,-0.738120670186468),(48,111,-0.0663167210913419),(48,115,-0.205999938962981),(49,87,-0.613467818231758),(49,89,0.192388683736686),(49,93,2.12771996215705),(49,94,0.180211798455763),(49,95,1.31800286873989),(49,102,0.949980162968841),(49,113,-1.25623340556047),(49,114,1.68008972441786),(50,89,0.998046815393536),(50,105,0.934720908230842),(50,107,-0.291573839533677),(51,87,1.29053621021149),(51,92,0.27774895474105),(51,97,0.914975432599872),(51,98,-2.42672505874813),(51,103,-0.513168736838893),(51,106,-1.99708548234504),(51,112,0.507217627491073),(51,118,0.432416760765404),(52,89,0.614764854884487),(52,97,1.75928525650807),(52,106,-0.346308786278878),(52,110,-0.674764244514298),(52,111,-0.522141178624836),(52,113,-1.03006073183386),(52,114,-1.25589770195624),(52,118,2.24353770561846),(53,88,1.82869960631123),(53,90,-0.711233863338115),(53,92,-0.427655873287149),(53,94,0.681325724051637),(53,104,-0.546769615771966),(53,105,0.56755272072512),(53,109,-0.73558763389996),(54,85,0.282113101596118),(54,91,0.98055970946379),(54,94,1.11047700430311),(54,96,0.348979155858028),(54,111,0.933408612323374),(54,112,-0.738151188695944),(54,113,-0.125400555436872),(54,118,1.53416547135838),(55,87,-0.739524521622364),(55,95,-1.73093356120487),(55,107,-0.632343516342662),(55,110,-0.0205999938962981),(55,117,-0.806512649922178),(56,107,-1.19774468214972),(56,111,-0.5405590990936),(56,113,-2.81659901730399),(56,114,-0.661397137363811),(57,87,1.01971495712149),(57,90,0.681356242561113),(57,91,-0.768608661152989),(57,92,0.764061403241066),(57,93,0.312448500015259),(57,94,0.241523483993042),(57,95,-0.133915219580676),(57,96,-0.774895474105045),(57,100,0.860957670827357),(57,102,-2.00514236884671),(57,103,0.594500564592425),(57,115,-0.482345042268136),(58,86,-1.54597613452559),(58,87,0.366252632221442),(58,89,0.350825525681326),(58,90,1.75321207312235),(58,95,2.29148228400525),(58,96,-0.291680654316843),(58,101,-2.09500411999878),(58,103,0.0531174657429732),(58,109,-0.0685140537736137),(58,110,0.0644398327585681),(58,113,0.173009430219428),(58,114,-0.414670247505112),(58,115,-0.179509872737815),(58,118,-0.688497573778497),(59,85,-0.206122013000885),(59,86,-2.44750816370128),(59,90,0.890865810113834),(59,91,0.746330149235511),(59,93,0.767815179906613),(59,97,0.412366100039674),(59,98,0.231055635242775),(59,100,-1.76404614398633),(59,102,0.4315317239906),(59,112,1.40430921353801),(59,114,-1.92220831934568),(60,85,-0.157963805047761),(60,87,-0.309518723105563),(60,90,-1.97759941404462),(60,91,-0.54582354197821),(60,96,0.964659566026795),(60,100,0.0686361278115177),(60,101,-2.51470992156743),(60,105,-0.535447248756371),(60,107,0.645130771813105),(60,109,1.56933805352947),(60,110,-0.206671346171453),(60,114,-0.920148319956053),(61,89,-1.16901150547807),(61,94,-0.203344828638569),(61,96,0.807885982848598),(61,98,-0.810876796777245),(61,100,-0.708792382580035),(61,102,0.144581438642537),(61,103,-1.54690694906461),(61,114,-0.840998565630055),(61,115,-0.010681478316599),(62,93,-0.551499984740745),(62,95,-0.964842677083651),(62,107,-0.43168431653798),(62,109,-0.654362620929594),(62,110,-0.536667989135411),(62,111,-0.0133365886410108),(63,87,0.744453260902738),(63,90,0.735831781975768),(63,93,0.152439954832606),(63,97,0.0775475325785089),(63,100,1.18782616657002),(63,103,0.484847560045168),(63,104,1.57869197668386),(63,108,-0.579638050477615),(63,111,-0.454130680257576),(63,114,-0.162785729544969),(63,117,0.304757835627308),(64,87,-0.0254829554124577),(64,94,0.156041138950774),(64,99,0.0310373241370891),(64,110,-0.101260414441359),(64,112,-0.539750358592486),(64,116,-0.200537125766778),(65,87,0.350474562822352),(65,88,2.00823999755852),(65,90,0.520493179113132),(65,97,-0.469557786797693),(65,99,-1.05149998474075),(65,107,2.04847865230262),(65,110,-1.03282265694143),(65,111,-0.0235297708059938),(65,114,-0.663380840479751),(65,116,-2.54747154148991),(65,117,0.75914792321543),(66,85,0.941160313730277),(66,102,0.799951170384838),(66,105,-0.612399670400098),(66,108,-0.291909543137913),(66,111,0.635578478347118),(66,115,0.46165349284341),(66,118,1.29519028290658),(67,86,-0.812356944486831),(67,90,0.796136356700339),(67,92,-0.201193273720511),(67,104,3.27970213934751),(67,109,-0.616229743339335),(67,111,0.95440534684286),(68,87,-0.112598040711692),(68,88,2.67816705832087),(68,90,-0.712286751915036),(68,93,-0.63068025757622),(68,95,0.0625782036805322),(68,96,0.277169103061007),(68,97,-2.93737601855525),(68,103,0.376293221839045),(68,107,-1.00924710837123),(68,112,-1.47053437910092),(68,114,-1.25841547898801),(69,87,0.762901699880978),(69,88,-0.972563859981079),(69,92,1.79433576464125),(69,94,1.19975890377514),(69,95,0.599917600024415),(69,97,-0.210974456007569),(69,108,-2.47697378460036),(69,113,-0.82448805200354),(69,114,2.41752372814112),(69,118,0.990844447157201),(70,85,-1.13144322031312),(70,86,-0.302499465926084),(70,87,-1.29181798760949),(70,90,-1.72350230414747),(70,96,-0.00350962858973968),(70,97,0.375591296121097),(70,99,0.259849848933378),(70,105,-1.33484908597064),(70,107,2.19016083254494),(70,109,-0.606616412854396),(70,110,0.0257881405072176),(70,111,0.796319467757195),(71,85,-0.936902981658376),(71,93,-0.46134830774865),(71,96,-0.831385235145116),(71,100,1.73578600421155),(71,104,-0.726722006897183),(71,106,1.52258369701224),(71,111,2.69032868434706),(71,113,0.171361430707724),(72,94,0.951902829065828),(72,96,-0.502243110446486),(72,99,0.766533402508621),(72,110,2.18008972441786),(72,112,0.448133793145543),(72,114,0.623676259651479),(72,115,0.524155400250252),(72,116,0.718008972441786),(73,88,2.56260872219001),(73,94,-1.26163518173772),(73,99,-2.35244300668355),(73,100,-0.293649098178045),(73,106,0.0778221991637928),(73,110,0.158848841822565),(73,115,-0.118564409314249),(74,90,0.879558702352977),(74,94,0.329187902462844),(74,99,-1.47419660023804),(74,102,-0.518723105563524),(74,106,-2.60420545060579),(74,107,-0.315073091830195),(74,110,-0.598529007843257),(74,113,-0.740348521378216),(74,116,-2.16771446882534),(75,85,-0.140415662099063),(75,86,0.253303628650777),(75,93,-0.286538285470138),(75,98,0.076143681142613),(75,103,-2.18028809472945),(75,105,2.64432203131199),(75,111,0.924375133518479),(75,117,-1.4047059541612),(76,86,-0.379589220862453),(76,89,1.15157017731254),(76,92,-0.341776787621693),(76,94,0.744651631214332),(76,99,1.09886471144749),(76,101,-0.343333231604968),(76,103,-0.936124759666738),(76,106,0.748832667012543),(76,110,-1.49189733573412),(76,113,0.151066621906186),(77,88,0.508316293832209),(77,91,0.0854213080233161),(77,93,1.5873439741203),(77,98,0.0988494521927549),(77,101,-0.831965086825159),(77,102,-0.546998504593036),(77,103,0.097659230323191),(77,104,0.423749504074221),(77,105,0.234015930661946),(77,109,0.162999359111301),(78,88,-0.534440137943663),(78,93,-0.465773491622669),(78,94,1.05597094637898),(78,101,-1.05217139194922),(78,104,-0.0575579088717307),(78,110,-0.555558946501053),(78,114,-2.20435193945128),(78,116,-0.684835352641377),(78,117,-0.962950529496139),(78,118,2.18390453810236),(79,87,0.894375438703574),(79,92,-0.248878444776757),(79,94,2.55764946440016),(79,107,-0.170079653309732),(79,108,2.84907071138646),(79,114,0.772301400799585),(79,118,0.250801110873745),(80,87,0.363078707235939),(80,88,-0.941343424787133),(80,91,-0.367961668752098),(80,99,0.479476302377392),(80,101,0.353740043336283),(80,107,0.89150669881283),(80,113,0.243079927976318),(81,85,0.275429548020875),(81,86,1.21080660420545),(81,90,-0.883297219763787),(81,93,-0.181142612994781),(81,96,-0.311075167088839),(81,97,-0.780907620471816),(81,106,0.500473036896878),(81,107,0.602649006622517),(81,110,-0.613208410901212),(81,115,1.35142063661611),(82,86,0.294259468367565),(82,92,-0.445631275368511),(82,110,-0.10635700552385),(82,112,0.838831751457259),(83,87,1.19525742362743),(83,91,0.991027558214057),(83,93,0.776970732749412),(83,101,-0.454908902249214),(83,103,-1.69476912747581),(83,105,2.44010742515336),(83,108,-0.398068178350169),(84,85,-0.752616962187567),(84,86,0.152500991851558),(84,89,-0.228339487899411),(84,95,0.344431897946104),(84,99,0.457167271950438),(84,104,0.336771752067629),(84,111,-1.92451246681112),(84,113,-0.465834528641621),(84,114,0.710257271034883),(35,105,-0.954832605975524)]
orgname='BHNEAT_9_5'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()