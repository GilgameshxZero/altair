edge = [(0,85,3.05233924375133),(0,89,-2.59190649128697),(0,90,-1.93069246498001),(0,93,2.28388317514573),(0,98,2.34862819299905),(0,101,2.19946897793512),(0,105,-1.55319376201666),(0,108,-1.25663014618366),(0,113,-1.63106173894467),(0,114,-0.320581682790612),(0,117,1.55546739097262),(0,118,0.396481215857418),(1,86,1.38404492324595),(1,92,1.39373455000458),(1,98,0.0843073824274423),(1,102,0.0920896023438216),(1,104,0.54574724570452),(1,107,-1.86603900265511),(1,108,-2.52006591998047),(1,109,-0.845561082796716),(1,113,0.349467452009644),(2,87,-2.53192236091189),(2,88,0.122913296914579),(2,100,1.39425336466567),(2,106,-0.621478926969207),(2,108,-1.60797448652608),(2,110,1.27112643818476),(2,113,0.874721518601032),(2,118,-0.914883877071444),(3,89,-0.699331644642476),(3,92,1.93612475966674),(3,97,-0.290673543504135),(3,99,-2.32284005249184),(3,101,1.73274941251869),(3,103,2.23714407788324),(3,105,1.48466444898831),(3,108,-1.07541123691519),(3,109,-2.08526871547594),(3,111,-3.04553361613819),(3,112,0.927884762108219),(3,116,2.89289529099399),(4,90,-1.58403271584216),(4,91,1.44883571886349),(4,97,-1.20606097598193),(4,99,1.83826715903195),(4,101,-0.676778466139714),(4,108,-1.58139286477248),(4,113,-1.45477156895657),(4,118,1.04606769005402),(5,86,-0.633594775231178),(5,87,0.472411267433698),(5,89,2.81012909329508),(5,92,-1.6472975859859),(5,93,2.77448347422712),(5,99,-1.822946867275),(5,104,-1.04403820917386),(5,114,-0.193594164860988),(5,118,-1.78536332285531),(6,89,-1.84810937833796),(6,92,1.15929136020997),(6,94,0.0827051606799524),(6,100,2.92168950468459),(6,101,0.868617816705832),(6,103,-0.976088747825556),(6,107,1.20186468092898),(6,110,-0.730552079836421),(6,113,-2.09552293465987),(7,85,0.63571581163976),(7,86,2.64426099429304),(7,90,-2.67909787285989),(7,95,1.45115512558367),(7,99,-0.142307809686575),(7,100,2.10730307931761),(7,104,0.822412793359172),(7,106,0.746421704763939),(7,108,-1.61210974456008),(7,112,1.82245857112339),(7,116,0.0669423505355998),(8,92,0.458433790093692),(8,93,-0.545869319742424),(8,95,-0.623477889339885),(8,99,0.747169408246101),(8,106,2.97083956419568),(8,107,-0.181157872249519),(8,115,0.231467635120701),(8,116,1.18071535386212),(8,118,1.98838770714438),(9,85,1.52906888027589),(9,87,1.26934110538041),(9,98,0.510711996826075),(9,101,-1.81371501815851),(9,103,1.44029053621021),(9,105,1.31070894497513),(9,106,-1.04713583788568),(9,113,1.52278206732383),(10,89,-0.740516373180334),(10,96,-0.747077852717673),(10,106,1.23938718832972),(10,108,1.41531113620411),(10,109,0.165791802728355),(10,111,3.28325754570147),(10,112,-1.70744956816309),(10,114,-2.84231086153752),(10,115,1.59608752708518),(10,116,2.41097750785852),(10,117,-0.857463301492355),(11,89,-0.515152439954833),(11,97,-1.49569689016388),(11,105,1.70143742179632),(11,112,-1.32703634754479),(11,115,1.96336252937407),(12,92,0.290398876918851),(12,93,1.08857997375408),(12,94,0.216330454420606),(12,97,-0.207586901455733),(12,98,1.69910275582141),(12,99,0.740653706472976),(12,108,-2.13418988616596),(12,116,-0.477019562364574),(13,86,1.94273201696829),(13,87,1.73397015289773),(13,90,0.655751213110752),(13,99,-1.13046662800989),(13,102,-0.0288094729453413),(13,104,0.258186590166936),(13,113,0.302117984557634),(13,116,1.87903988769189),(13,118,1.32891323587756),(14,90,-0.957441938535722),(14,93,-0.323694570757164),(14,95,-1.25528733176672),(14,102,-2.05267494735557),(14,104,-1.68153935361797),(14,106,-0.904156620990631),(14,109,2.37278359324931),(14,110,1.85137485885189),(14,111,1.78594317453536),(15,85,3.29717398602252),(15,92,-1.11644337290567),(15,99,0.636524552140874),(15,101,-2.19562364574114),(15,104,-2.63269447920164),(15,108,-0.0192114017151402),(15,117,-1.23862422559282),(16,86,-2.18353831598865),(16,87,-2.63792840357677),(16,88,-2.31492049928281),(16,90,-1.01657155064547),(16,91,-1.44946134830775),(16,95,-0.336298715170751),(16,97,0.941923276467177),(16,98,1.30248420667135),(16,99,2.27576525162511),(16,101,2.96893215735343),(16,108,-2.90943632312998),(16,110,1.66328928495132),(17,89,1.28296761986145),(17,96,0.597674489577929),(17,99,-0.300836207159642),(17,101,-0.395947141941588),(17,106,1.5822016052736),(17,107,-0.197607348857082),(17,109,0.376918851283303),(18,90,-0.86779381694998),(18,91,-1.17893002105777),(18,93,-0.64966277047029),(18,99,2.61084322641682),(18,102,-0.0902432325205237),(18,103,0.496276741843928),(18,104,0.0180822168645283),(18,110,-0.136188848536637),(18,111,-2.32506790368358),(18,116,-0.475554673909726),(18,117,1.4560686056093),(18,118,2.93409527878658),(19,87,0.107486190374462),(19,89,2.01203955198828),(19,93,-2.6570940275277),(19,95,1.78617206335643),(19,101,0.951155125583667),(19,105,-1.87385174108097),(19,115,1.88344981231117),(20,88,-0.211111789300211),(20,101,1.61658070619831),(20,103,1.3522598956267),(20,104,1.33347575304422),(20,105,1.74225592822047),(20,106,-2.87676625873592),(20,111,-1.18558305612354),(20,116,0.691152684102908),(21,86,0.966704306161687),(21,87,-2.47125156407361),(21,94,-0.08737449262978),(21,96,2.37343974120304),(21,101,-1.98013245033113),(21,102,1.27654347361675),(21,105,1.87263100070193),(21,107,-1.95571764275033),(21,108,-0.706427198095645),(22,86,-0.714041566209906),(22,88,-0.835016937772759),(22,91,0.878795739616077),(22,92,-0.0199133274330882),(22,93,1.44808801538133),(22,98,-2.26728110599078),(22,106,-0.238975188451796),(22,115,-0.171361430707724),(22,117,0.483367412335582),(23,85,-1.37675099948119),(23,86,0.653752250740074),(23,88,-0.800302133243812),(23,90,0.506576738792077),(23,97,0.101580858790857),(23,104,1.49177526169622),(23,112,-1.23099459822382),(23,114,1.63361003448592),(23,115,-1.95588549455245),(23,116,-2.66435743278298),(24,89,2.14516129032258),(24,90,0.0838190862758263),(24,91,-0.0918607135227515),(24,101,0.782448805200354),(24,107,-1.84756004516739),(24,108,0.919309060945463),(24,110,-0.208822901089511),(24,112,-0.115161595507675),(25,90,0.495056001464888),(25,92,0.0378887295144505),(25,94,1.766685995056),(25,98,2.00682088686789),(25,105,2.75545518356883),(25,108,0.706747642445143),(25,109,1.62968840601825),(25,115,0.116428113650929),(26,85,1.50161748100223),(26,87,1.83074434644612),(26,89,0.0811639759514146),(26,95,-0.812585833307901),(26,98,-1.064531388287),(26,100,2.1750846888638),(26,101,-0.532425916318247),(26,102,2.85059663686026),(26,103,2.46659749137852),(26,104,0.606631672109134),(26,107,-1.30199591051973),(26,109,-2.0593127231666),(26,112,-2.76769310586871),(26,113,-0.22141178624836),(26,117,1.28638569292276),(27,85,0.127994628742332),(27,87,0.201345866267892),(27,94,2.31751457258827),(27,100,1.4002502517777),(27,102,-1.54419080172124),(27,103,-1.21651356547746),(27,104,-3.17447431867428),(27,105,-2.25760673848689),(27,108,0.0817743461409345),(27,110,-2.70989104892117),(27,114,-0.00463881344035155),(28,87,-0.275536362804041),(28,88,-0.636371959593493),(28,97,0.845210119937742),(28,99,1.7300637836848),(28,104,3.23703726310007),(28,113,-0.73421430097354),(28,114,1.88402966399121),(29,88,-1.66780602435377),(29,91,-0.800912503433332),(29,102,3.05439924314096),(29,105,-0.731864375743889),(29,116,-0.769844660786767),(30,95,1.81910153508103),(30,96,-2.59666737876522),(30,99,1.67519150364696),(30,101,0.587633899960326),(30,104,-1.34525589770196),(30,109,-1.51420636616108),(30,110,1.09060945463424),(30,114,-0.106631672109134),(30,118,-1.15681936094241),(31,85,-1.06152531510361),(31,92,1.00277718436232),(31,94,-0.948683126316111),(31,96,1.39367351298563),(31,99,2.80520035401471),(31,103,-0.0710623493148595),(31,107,1.08607745597705),(31,108,1.58224738303781),(31,109,2.33797723319193),(31,111,1.64276558732871),(31,112,-1.81206701864681),(31,117,0.0120395519882809),(32,86,2.34702597125156),(32,87,0.222769859920042),(32,89,-1.73136082033753),(32,92,-0.410962248603778),(32,98,-0.959608752708518),(32,99,0.84865871150853),(32,104,2.04588457899716),(32,106,-1.49571214941862),(32,109,-1.51832636494034),(32,116,1.13042085024567),(32,118,-0.543885616626484),(33,96,0.711966307565538),(33,98,-1.08389538254952),(33,108,-1.07737968077639),(33,110,0.151860103152562),(33,111,-1.56900234992523),(33,114,0.0987426374095889),(34,85,0.962645344401379),(34,90,-0.102343821527757),(34,99,-2.75231177709281),(34,104,-0.941084017456587),(34,109,-1.96258430738243),(35,86,2.63342692342906),(35,87,2.32395397808771),(35,97,-2.05050813318278),(35,98,-0.930112613299967),(35,100,2.12289803765984),(35,104,0.0230567339091159),(35,107,1.46731467635121),(35,109,0.0421155430768761),(35,110,0.93427838984344),(35,112,2.95822016052736),(36,85,-1.26818140202033),(36,87,0.0553300576799829),(36,90,2.21085238196966),(36,91,1.10791344950713),(36,104,-3.20976897488327),(36,107,1.40314951017792),(36,109,-0.707296975615711),(36,112,2.56041138950774),(36,115,-1.76786095767083),(36,117,-0.717734305856502),(36,118,-2.39045381023591),(37,85,1.84067812128056),(37,86,0.448469496749779),(37,87,-1.36996063112278),(37,91,1.43052461317789),(37,99,-1.07583849604785),(37,105,1.08543656727805),(37,111,-0.56076235236671),(37,112,-0.469328897976623),(37,118,-1.10983611560411),(38,87,1.72844630268258),(38,90,-0.918515579699087),(38,103,0.751823480941191),(38,105,0.032334360789819),(38,106,-1.92155217139195),(38,111,-1.55442976165044),(38,115,-0.308465834528642),(39,87,-0.924192022461623),(39,89,0.459074678792688),(39,91,-0.246086001159703),(39,94,2.68398083437605),(39,97,2.62639240699484),(39,98,1.10113834040345),(39,107,2.79029206213569),(39,108,-3.2772453993347),(39,109,-2.47474593340861),(39,111,0.443739127780999),(39,113,-2.8363597521897),(39,116,-1.8115024262215),(39,118,-2.18141727958007),(40,88,0.3488876003296),(40,92,-2.54658650471511),(40,99,1.65129551072726),(40,104,2.01725821710868),(40,110,1.6443678090762),(40,116,2.17822809533982),(40,118,2.09405804620502),(41,88,1.23981444746239),(41,93,0.91872920926542),(41,96,-2.39661854915006),(41,97,-2.37806329538865),(41,100,-2.24898525955992),(41,101,3.14027832880642),(41,104,-1.90899380474258),(41,105,-1.43945127719962),(41,106,-0.726523636585589),(41,107,-1.25457014679403),(41,109,-2.58436841944639),(41,110,-1.8496505630665),(41,111,-2.91628772850734),(41,112,1.59193700979644),(42,85,-2.27869502853481),(42,86,-2.41293069246498),(42,87,-1.00126651814325),(42,99,-2.31942197943052),(42,100,-0.0626392406994842),(42,103,-0.926908169804987),(42,109,0.357860042115543),(42,113,2.10138248847926),(43,85,0.518799401837214),(43,88,1.45937986388745),(43,89,0.309259315775018),(43,93,2.65758232367931),(43,97,-0.428266243476669),(43,98,0.453779717398602),(43,101,2.7011474959563),(43,102,-1.90437025055696),(43,103,2.5853755302591),(43,105,1.33082064271981),(43,110,-0.916684469130528),(43,112,0.386928922391431),(43,114,-1.08894619586779),(43,116,0.306253242591632),(44,89,2.11455122531816),(44,98,-0.561403241065706),(44,99,-1.53564561906796),(45,87,1.71474349192785),(45,88,0.0417645802179021),(45,90,-2.88756981109043),(45,91,1.36295663319803),(45,95,0.189138462477493),(45,98,1.8891262550737),(45,108,2.43218787194433),(45,109,0.265770439771722),(45,112,-0.3293710135197),(45,115,-1.59599597155675),(46,85,0.750221259193701),(46,89,-1.82650227362896),(46,91,0.917920468764306),(46,94,-0.681814020203253),(46,97,-0.675313577684866),(46,100,-0.900219733268227),(46,101,-1.19479964598529),(46,108,0.8676412244026),(46,112,-0.705496383556627),(47,86,-0.278481398968474),(47,91,0.473708304086428),(47,92,-0.757179479354228),(47,94,-0.0954771568956572),(47,95,-0.813638721884823),(47,100,1.33429975280007),(47,101,1.04153569139683),(47,104,-1.62233344523453),(47,105,-2.5987884151738),(47,108,-2.24190496536149),(47,112,-1.25324259163182),(47,114,0.852580339976196),(47,118,1.49354533524583),(48,86,-0.85110019226661),(48,91,1.51948606830042),(48,98,1.54640339365825),(48,99,-0.886028626361889),(48,100,0.708502456740013),(48,103,-0.399517807550279),(48,105,1.16840113528855),(48,106,-0.851039155247658),(48,111,-0.312997833185827),(48,115,2.51034577471236),(49,87,1.19339579454939),(49,89,-3.32233649708548),(49,93,2.49943540757469),(49,94,-1.4887539292581),(49,95,1.41380046998505),(49,102,-1.35013885921812),(49,113,2.25769829401532),(49,114,-1.31131931516465),(50,89,1.35438093203528),(50,105,-0.692037720877712),(50,107,1.10118411816767),(51,87,1.22794274727622),(51,92,2.34974211859493),(51,97,-0.588503677480392),(51,98,1.86086611529893),(51,103,-1.20860927152318),(51,106,-0.100527970213935),(51,112,2.02095095675527),(51,118,1.04246650593585),(52,89,1.22544022949919),(52,97,-0.906720175786615),(52,106,2.05580309457686),(52,110,-1.02523880733665),(52,111,-2.30492568742943),(52,113,-0.669103061006501),(52,114,0.509643848994415),(52,118,-1.21680349131748),(53,88,-1.78040406506546),(53,90,-0.334803308206427),(53,92,1.24529251991333),(53,94,2.06979583117161),(53,104,0.190969573046052),(53,105,2.95008697775201),(53,109,-2.68103579821162),(54,85,-0.17375713370159),(54,91,1.65572069460128),(54,94,2.45138401440474),(54,96,1.1540421765801),(54,111,-0.753395184179205),(54,112,2.12639240699484),(54,113,-0.0569780571916867),(54,118,1.67714468825343),(55,87,1.97407452620014),(55,95,-2.16554765465255),(55,107,2.39460432752464),(55,110,0.677938169499802),(55,117,3.17551194799646),(56,107,0.463515121921445),(56,111,1.64133121738334),(56,113,1.59836115604114),(56,114,0.783562730796228),(57,87,-0.383297219763787),(57,90,-1.17780083620716),(57,91,0.862132633442183),(57,92,2.98348948637349),(57,93,-0.805307168797876),(57,94,2.0477462080752),(57,95,0.208349864192633),(57,96,-0.898907437360759),(57,100,-0.764534440137944),(57,102,1.97445600756859),(57,103,-1.19611194189276),(57,115,-2.00901821955016),(58,86,-1.71431623279519),(58,87,0.906277657399213),(58,89,-0.73703726310007),(58,90,0.999633777886288),(58,95,2.52174443800165),(58,96,-1.08510086367382),(58,101,0.308847315897092),(58,103,0.0381176183355205),(58,109,0.32723471785638),(58,110,-1.98922696615497),(58,113,-2.23097933896908),(58,114,0.935361796929838),(58,115,1.34089175084689),(58,118,-1.37249366740928),(59,85,0.529679250465407),(59,86,-0.407254249702445),(59,90,-0.535645619067965),(59,91,0.709494308297983),(59,93,0.297631763664663),(59,97,-0.107943968016602),(59,98,2.06764427625355),(59,100,1.53964354380932),(59,102,0.992339854121525),(59,112,1.16310617389447),(59,114,0.662083803827021),(60,85,2.89172032837916),(60,87,1.39756462294382),(60,90,0.533249916074099),(60,91,-2.10580767235328),(60,96,-1.90670491653188),(60,100,1.98997466963713),(60,101,0.435911130100406),(60,105,-1.68453016754662),(60,107,1.07934812463759),(60,109,-0.770638142033143),(60,110,0.419095431379131),(60,114,-2.92141483809931),(61,89,0.579973754081851),(61,94,0.166356395153661),(61,96,0.329798272652364),(61,98,-1.97125156407361),(61,100,0.377300332651753),(61,102,-0.762596514786218),(61,103,-1.28038880581072),(61,114,-0.863826410718101),(61,115,0.08699301126133),(62,93,-1.85999633777886),(62,95,2.42023987548448),(62,107,0.054582354197821),(62,109,-0.407162694174017),(62,110,0.0169835505233925),(62,111,0.19670705282754),(63,87,-0.635395367290262),(63,90,0.866359447004608),(63,93,-1.15730765709403),(63,97,0.506027405621509),(63,100,-1.05897701956236),(63,103,0.832728049562059),(63,104,1.28438673055208),(63,108,-2.60679952391125),(63,111,-1.23519089327677),(63,114,0.748374889370403),(63,117,-0.755729850154118),(64,87,1.14801477095859),(64,94,-1.63841669972839),(64,99,2.05528427991577),(64,110,1.60263374736778),(64,112,-0.540833765678884),(64,116,-1.18904690694906),(65,87,-1.29865413373211),(65,88,1.29442732016968),(65,90,0.498290963469344),(65,97,-2.62947477645192),(65,99,0.202215643787957),(65,107,2.0630054628132),(65,110,0.907345805230872),(65,111,0.408993804742576),(65,114,2.06060975981933),(65,116,-0.621005890072329),(65,117,2.84711752677999),(66,85,-1.13594470046083),(66,102,-0.532044434949797),(66,105,2.5752128666036),(66,108,2.58285775322733),(66,111,-1.58565019684439),(66,115,2.31015961180456),(66,118,-2.65608691671499),(67,86,1.40649128696554),(67,90,0.105273598437452),(67,92,2.27025666066469),(67,104,-0.93473616748558),(67,109,1.99253822443312),(67,111,0.676915799432356),(68,87,-0.249366740928373),(68,88,1.65126499221778),(68,90,0.760277108066042),(68,93,0.998031556138798),(68,95,-0.408383434553056),(68,96,-0.71240882595294),(68,97,-0.249839777825251),(68,103,-0.132297738578448),(68,107,1.43406476027711),(68,112,0.246559038056581),(68,114,-0.816919461653493),(69,87,2.36014893032624),(69,88,1.9823297830134),(69,92,1.81205175939207),(69,94,-0.968657490768151),(69,95,-0.994140446180608),(69,97,-0.207007049775689),(69,108,0.818201239051485),(69,113,-1.45596179082614),(69,114,2.62033448286386),(69,118,0.913418988616596),(70,85,-0.955076754051332),(70,86,-1.78380687887204),(70,87,1.72455519272439),(70,90,-0.0137028107547227),(70,96,0.696523941770684),(70,97,-0.935102389599292),(70,99,0.817499313333537),(70,105,0.879268776512955),(70,107,0.352259895626698),(70,109,0.120700704977569),(70,110,0.527207251197852),(70,111,0.869594409009064),(71,85,-2.83964049195837),(71,93,-1.05984679708243),(71,96,-0.392376476332896),(71,100,1.10626544999542),(71,104,-0.011200292977691),(71,106,-0.458388012329478),(71,111,-0.702627643665883),(71,113,-0.349253822443312),(72,94,-0.459395123142186),(72,96,-1.49409466841639),(72,99,-0.00747703482161931),(72,110,-1.58737449262978),(72,112,0.625232703634754),(72,114,2.13644825586718),(72,115,-1.77658925138096),(72,116,0.138706625568407),(73,88,2.08639790032655),(73,94,0.901455732902005),(73,99,0.89028595843379),(73,100,-1.13786736655782),(73,106,-2.20999786370434),(73,110,1.09341715750603),(73,115,-0.870143742179632),(74,90,-0.587481307412946),(74,94,-0.0248725852229377),(74,99,-1.66705832087161),(74,102,-0.103152562028871),(74,106,-1.7998138370922),(74,107,0.123020111697745),(74,110,-0.710440382091739),(74,113,1.50970488601337),(74,116,0.135273293252358),(75,85,-0.337992492446669),(75,86,0.324198126163518),(75,93,0.313730277413251),(75,98,-1.50585955381939),(75,103,1.06732383190405),(75,105,-1.38184759056368),(75,111,1.38805810724204),(75,117,0.575533310953093),(76,86,0.767876216925565),(76,89,-1.69569994201483),(76,92,-0.577486495559557),(76,94,2.5640125736259),(76,99,-0.0630817590868862),(76,101,2.28949858088931),(76,103,-0.807901242103336),(76,106,-0.00921658986175115),(76,110,1.68137150181585),(76,113,1.27324747459334),(77,88,0.137150181585131),(77,91,0.256111331522568),(77,93,-2.26073488570818),(77,98,1.51127658925138),(77,101,-0.373302407910398),(77,102,-1.75580614642781),(77,103,-0.780907620471816),(77,104,-0.739494003112888),(77,105,3.27822199163793),(77,109,2.66896572771386),(78,88,-0.580980864894559),(78,93,1.06671346171453),(78,94,0.490554521317179),(78,101,1.23531296731468),(78,104,0.207525864436781),(78,110,0.270317697683645),(78,114,-2.53769035920286),(78,116,-1.79866939298685),(78,117,-0.956907864619892),(78,118,1.4379558702353),(79,87,-1.00924710837123),(79,92,1.62579729606006),(79,94,-1.07301553392132),(79,107,2.59947508163701),(79,108,-0.663914914395581),(79,114,0.939603869747002),(79,118,-0.223212378307443),(80,87,0.636997589037751),(80,88,0.198675496688742),(80,91,-0.820566423535875),(80,99,2.38570818201239),(80,101,0.782158879360332),(80,107,1.61531418805506),(80,113,0.0600451673940245),(81,85,0.491958372753075),(81,86,0.177617725150304),(81,90,-2.10303048799097),(81,93,0.45226905117954),(81,96,0.144169438764611),(81,97,-0.562273018585772),(81,106,0.604190191351054),(81,107,-0.507126071962645),(81,110,0.314493240150151),(81,115,0.383709219641713),(82,86,-1.20525223548082),(82,92,-3.0956144901883),(82,110,-2.28550065614795),(82,112,0.835230567339091),(83,87,-0.0579699087496567),(83,91,-0.880474257637257),(83,93,-0.306711020233772),(83,101,-0.614413892025514),(83,103,-0.395519882808924),(83,105,-2.18071535386212),(83,108,0.636234626300851),(84,85,1.409085360271),(84,86,2.40173039948729),(84,89,-1.91923276467177),(84,95,2.25443281350139),(84,99,-2.21808526871548),(84,104,0.882412182988983),(84,111,-0.418439283425397),(84,113,-0.294961394085513),(84,114,-0.968779564806055)]
orgname='BHNEAT_2_9'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()