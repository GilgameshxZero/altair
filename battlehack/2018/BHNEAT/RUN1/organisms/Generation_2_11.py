edge = [(0,85,0.167851802117985),(0,89,0.124698629718925),(0,90,0.215399639881588),(0,93,-0.645710623493149),(0,98,0.143070772423475),(0,101,-0.138126773888363),(0,105,0.909939878536332),(0,108,0.798913541062655),(0,113,-0.848078859828486),(0,114,-0.858485671559801),(0,117,-0.879116183965575),(0,118,-0.843134861293374),(1,86,-0.383770256660665),(1,92,-0.185033722952971),(1,98,0.977233191930906),(1,102,-0.121585741752373),(1,104,0.264015625476852),(1,107,0.0785241248817408),(1,108,0.682119205298013),(1,109,-0.67894528031251),(1,113,0.212500381481368),(2,87,0.933835871456038),(2,88,-0.823053682058168),(2,100,0.438642536698508),(2,106,-0.17642750328074),(2,108,0.334574419385357),(2,110,0.178044984282968),(2,113,-0.313577684865871),(2,118,-0.149021881771294),(3,89,0.701956236457411),(3,92,-0.291970580156865),(3,97,-0.757286294137394),(3,99,0.805688650166326),(3,101,0.124881740775781),(3,103,-0.719626453444014),(3,105,0.528672139652699),(3,108,-0.872890408032472),(3,109,0.361125522629475),(3,111,0.222724082155828),(3,112,-0.808740501113926),(3,116,-0.455458235419782),(4,90,0.870357371745964),(4,91,0.881435590685751),(4,97,-0.720969267860958),(4,99,-0.498214667195654),(4,101,0.643726920377209),(4,108,0.316110721152379),(4,113,-0.491378521073031),(4,118,0.616107669301431),(5,86,-0.928312021240883),(5,87,-0.826044495986816),(5,89,-0.903073213904233),(5,92,0.695059053315836),(5,93,0.23398541215247),(5,99,0.942075869014557),(5,104,0.476790673543504),(5,114,0.720969267860958),(5,118,0.437818536942656),(6,89,0.774132511368145),(6,92,-0.441633350627155),(6,94,0.80291146580401),(6,100,0.567644276253548),(6,101,-0.348460341196936),(6,103,0.599291970580157),(6,107,0.0909756767479476),(6,110,0.346629230628376),(6,113,0.69808038575396),(7,85,-0.825647755363628),(7,86,-0.739524521622364),(7,90,-0.232184820093387),(7,95,-0.386669515060884),(7,99,-0.193395794549394),(7,100,0.598376415295877),(7,104,0.920926541947691),(7,106,-0.359569078646199),(7,108,0.493453779717399),(7,112,-0.950804162724692),(7,116,0.113132114627522),(8,92,0.211676381725517),(8,93,0.80581072420423),(8,95,-0.573107089449751),(8,99,-0.159520249031037),(8,106,0.310556352427747),(8,107,0.659749137852107),(8,115,0.960875270851772),(8,116,-0.778954435865352),(8,118,0.106601153599658),(9,85,-0.715781121250038),(9,87,0.0643940549943541),(9,98,0.669911801507614),(9,101,0.0367137668996246),(9,103,0.936460463270974),(9,105,0.378307443464461),(9,106,0.214117862483596),(9,113,0.864467299417096),(10,89,-0.156559953611866),(10,96,-0.727652821436201),(10,106,0.239234595782342),(10,108,0.526047547837764),(10,109,-0.0662556840723899),(10,111,0.690664387951292),(10,112,0.313577684865871),(10,114,-0.366008484145634),(10,115,-0.784905545213172),(10,116,0.262092959379864),(10,117,0.549851985229041),(11,89,-0.829950865199744),(11,97,-0.08676412244026),(11,105,-0.513016144291513),(11,112,0.816553239539781),(11,115,0.913876766258736),(12,92,0.631336405529954),(12,93,0.571031830805383),(12,94,0.692678609576708),(12,97,0.10803552354503),(12,98,-0.412976470229194),(12,99,-0.0562150944547868),(12,108,-0.538407544175542),(12,116,0.45738090151677),(13,86,0.0855739005706961),(13,87,-0.514633625293741),(13,90,-0.246742149113437),(13,99,0.258400219733268),(13,102,0.732840968047121),(13,104,0.912411877803888),(13,113,-0.567827387310404),(13,116,0.974944303720206),(13,118,0.0860316782128361),(14,90,-0.575792718283639),(14,93,-0.701925717947935),(14,95,-0.279915768913846),(14,102,-0.237739188818018),(14,104,-0.402844325083163),(14,106,-0.823389385662404),(14,109,-0.454206976531266),(14,110,0.378521073030793),(14,111,-0.961912900173955),(15,85,-0.988402966399121),(15,92,0.109591967528306),(15,99,-0.182378612628559),(15,101,0.635364848780786),(15,104,-0.877651295510727),(15,108,-0.788171025727104),(15,117,-0.680623798333689),(16,86,0.585955381939146),(16,87,0.523911252174444),(16,88,-0.675984984893338),(16,90,-0.551225318155461),(16,91,0.0906094546342357),(16,95,-0.187505722220527),(16,97,0.728537858211005),(16,98,-0.762108218634602),(16,99,0.673970763267922),(16,101,-0.147251808221686),(16,108,-0.528916287728507),(16,110,0.107455671864986),(17,89,-0.620746482741783),(17,96,-0.284249397259438),(17,99,0.75548570207831),(17,101,0.200994903408918),(17,106,-0.65172276985992),(17,107,0.1767326883755),(17,109,0.611072115237892),(18,90,-0.27851191747795),(18,91,0.165746024964141),(18,93,-0.581896420178838),(18,99,-0.526779992065188),(18,102,-0.076540421765801),(18,103,-0.82830286568804),(18,104,0.593981749931333),(18,110,-0.723532822656941),(18,111,-0.410382396923734),(18,116,0.0605182042909024),(18,117,0.592425305948058),(18,118,-0.0238044373912778),(19,87,0.910367137668996),(19,89,-0.674550614947966),(19,93,0.466505935850093),(19,95,-0.695516830957976),(19,101,-0.833429975280007),(19,105,0.492721335489975),(19,115,-0.211676381725517),(20,88,-0.664723654896695),(20,101,0.507614368114261),(20,103,-0.300881984923856),(20,104,-0.810419019135105),(20,105,-0.397442548905911),(20,106,-0.763389996032594),(20,111,0.233283486434523),(20,116,0.352153080843532),(21,86,0.688680684835353),(21,87,-0.845973082674642),(21,94,-0.0674153874324778),(21,96,-0.291146580401013),(21,101,-0.705679494613483),(21,102,-0.701498458815272),(21,105,-0.545243690298166),(21,107,-0.660939359721671),(21,108,-0.481795709097568),(22,86,-0.414716025269326),(22,88,0.75701162755211),(22,91,0.764824365977966),(22,92,0.592394787438582),(22,93,-0.142307809686575),(22,98,0.84789574877163),(22,106,0.446211127048555),(22,115,-0.0958891567735832),(22,117,0.814355906857509),(23,85,-0.433454390087588),(23,86,-0.118015076143681),(23,88,-0.340464491714225),(23,90,-0.7804193243202),(23,97,0.365794854579302),(23,104,-0.58729819635609),(23,112,-0.74153874324778),(23,114,0.753013702810755),(23,115,-0.310251167332987),(23,116,-0.204779198583941),(24,89,0.356822412793359),(24,90,0.551225318155461),(24,91,0.618366039002655),(24,101,-0.143772698141423),(24,107,0.207922605059969),(24,108,0.573320719016083),(24,110,-0.333780938138981),(24,112,-0.246925260170293),(25,90,0.894436475722526),(25,92,0.662312692648091),(25,94,0.139591662343211),(25,98,-0.831110568559832),(25,105,-0.188756981109043),(25,108,0.0748619037446211),(25,109,0.755699331644642),(25,115,0.442091128269295),(26,85,0.253242591631825),(26,87,-0.245735038300729),(26,89,-0.076326792199469),(26,95,-0.538773766289254),(26,98,0.416608172856838),(26,100,0.0920743430890835),(26,101,0.269661549729911),(26,102,0.702352977080599),(26,103,0.385143589587085),(26,104,0.861507003997925),(26,107,-0.449812311166723),(26,109,-0.0698873867000336),(26,112,-0.265236365855892),(26,113,-0.200354014709922),(26,117,0.956266975920896),(27,85,0.408032471694082),(27,87,-0.968626972258675),(27,94,0.597918637653737),(27,100,0.790948210089419),(27,102,0.513382366405225),(27,103,0.263405255287332),(27,104,0.134739219336528),(27,105,0.515488143559069),(27,108,0.703207495345927),(27,110,0.792779320657979),(27,114,0.181218909268471),(28,87,-0.0787682729575487),(28,88,-0.241645558030946),(28,97,0.572618793298135),(28,99,0.00299081392864772),(28,104,0.708914456617939),(28,113,-0.348185674611652),(28,114,-0.446943571275979),(29,88,0.105655079805902),(29,91,-0.61268959624012),(29,102,-0.49916074098941),(29,105,-0.215247047334208),(29,116,0.212897122104556),(30,95,-0.746421704763939),(30,96,0.453962828455458),(30,99,-0.454664754173406),(30,101,0.0701315347758416),(30,104,-0.200231940672018),(30,109,-0.906002990813929),(30,110,0.69380779442732),(30,114,-0.316537980285043),(30,118,-0.15179906613361),(31,85,0.649006622516556),(31,92,0.166875209814753),(31,94,0.492324594866787),(31,96,0.529740287484359),(31,99,-0.434339426862392),(31,103,-0.245735038300729),(31,107,0.248908963286233),(31,108,0.0296639912106693),(31,109,-0.0663777581102939),(31,111,-0.296487319559313),(31,112,0.93481246375927),(31,117,0.835871456038087),(32,86,-0.575609607226783),(32,87,0.198370311593982),(32,89,0.429273354289377),(32,92,-0.201300088503677),(32,98,-0.91552476577044),(32,99,0.473433637501144),(32,104,-0.3917355876339),(32,106,0.702139347514267),(32,109,-0.807214575640126),(32,116,-0.0302133243812372),(32,118,0.440198980681783),(33,96,0.583208716086306),(33,98,0.0812402722251045),(33,108,-0.753746147038179),(33,110,0.542191839350566),(33,111,0.228308969389935),(33,114,0.103213599047822),(34,85,0.460158085879086),(34,90,-0.965025788140507),(34,99,0.131626331369976),(34,104,-0.166905728324229),(34,109,0.52272103030488),(35,86,0.502243110446486),(35,87,-0.914944914090396),(35,97,-0.936063722647786),(35,98,0.428205206457717),(35,100,-0.702047791985839),(35,104,0.958891567735832),(35,107,-0.27988525040437),(35,109,-0.325907162694174),(35,110,-0.0664082766197699),(35,112,0.879482406079287),(36,85,0.690664387951292),(36,87,-0.978972746971038),(36,90,0.787011322367016),(36,91,-0.415265358439894),(36,104,-0.735618152409436),(36,107,0.122074037903989),(36,109,-0.362559892574847),(36,112,0.700582903530992),(36,115,-0.844294564653462),(36,117,-0.197912533951842),(36,118,0.208258308664205),(37,85,0.338602862636189),(37,86,0.601886043885617),(37,87,0.361613818781091),(37,91,-0.021790215765862),(37,99,0.45356608783227),(37,105,-0.571337015900143),(37,111,0.651753288369396),(37,112,-0.555528427991577),(37,118,-0.555619983520005),(38,87,-0.823084200567644),(38,90,-0.266212958159123),(38,103,-0.655415509506516),(38,105,-0.290231025116733),(38,106,0.135410626545),(38,111,0.382518997772149),(38,115,0.0140385143589587),(39,87,-0.528244880520035),(39,89,-0.458174382763146),(39,91,-0.219367046113468),(39,94,-0.133091219824824),(39,97,0.826593829157384),(39,98,-0.819147312845241),(39,107,-0.149388103885006),(39,108,-0.621417889950255),(39,109,0.0618305001983703),(39,111,0.382396923734245),(39,113,-0.936002685628834),(39,116,0.846797082430494),(39,118,-0.71233252967925),(40,88,-0.868007446516312),(40,92,-0.086886196478164),(40,99,0.28492080446791),(40,104,0.922605059968871),(40,110,-0.841242713705863),(40,116,-0.0452284310434278),(40,118,-0.420392468031861),(41,88,-0.39204077272866),(41,93,-0.199285866878262),(41,96,-0.670979949339274),(41,97,0.467177343058565),(41,100,-0.0487990966521195),(41,101,-0.956144901882992),(41,104,-0.54216132084109),(41,105,-0.980224005859554),(41,106,0.300973540452284),(41,107,-0.911618396557512),(41,109,0.298318430127873),(41,110,-0.322763756218146),(41,111,-0.749015778069399),(41,112,-0.863002410962249),(42,85,0.872035889767144),(42,86,-0.212134159367656),(42,87,-0.93603320413831),(42,99,-0.501083407086398),(42,100,0.577288125247963),(42,103,0.460066530350658),(42,109,-0.415173802911466),(42,113,-0.0529801324503311),(43,85,0.204351939451277),(43,88,-0.472334971160009),(43,89,-0.808160649433882),(43,93,0.41712698751793),(43,97,0.656727805413984),(43,98,-0.269112216559343),(43,101,-0.792321543015839),(43,102,0.845484786523026),(43,103,0.731192968535417),(43,105,-0.490585039826655),(43,110,-0.699240089114048),(43,112,0.511093478194525),(43,114,0.724997711111789),(43,116,0.711355937376019),(44,89,-0.313394573809015),(44,98,0.489272743919187),(44,99,0.651844843897824),(45,87,-0.177831354716636),(45,88,0.84820093386639),(45,90,0.501235999633778),(45,91,0.632038331247902),(45,95,-0.947843867305521),(45,98,-0.986419263283181),(45,108,-0.587969603564562),(45,109,0.13525803399762),(45,112,-0.814569536423841),(45,115,-0.316965239417707),(46,85,-0.484694967497787),(46,89,0.471449934385205),(46,91,-0.511032441175573),(46,94,-0.775017548142949),(46,97,-0.283211767937254),(46,100,-0.960448011719108),(46,101,-0.646137882625813),(46,108,0.304239020966216),(46,112,0.0422681356242561),(47,86,0.805108798486282),(47,91,0.652394177068392),(47,92,-0.389019440290536),(47,94,-0.944486831263161),(47,95,-0.998077333903012),(47,100,0.375926999725333),(47,101,-0.165410321359905),(47,104,0.893002105777154),(47,105,-0.937772759178442),(47,108,0.165105136265145),(47,112,0.810480056154057),(47,114,-0.697988830225532),(47,118,-0.00936918240913114),(48,86,-0.178594317453536),(48,91,0.251686147648549),(48,98,-0.784508804589984),(48,99,-0.488967558824427),(48,100,-0.854579302346873),(48,103,-0.162724692526017),(48,105,0.794305246131779),(48,106,0.45402386547441),(48,111,0.228370006408887),(48,115,-0.359752189703055),(49,87,0.346385082552568),(49,89,0.591174047059542),(49,93,-0.45509201330607),(49,94,-0.698446607867672),(49,95,0.483016449476608),(49,102,0.310525833918271),(49,113,-0.298654133732109),(49,114,-0.0849330118717002),(50,89,-0.653279213843196),(50,105,-0.402691732535783),(50,107,-0.556016724143193),(51,87,-0.187566759239479),(51,92,-0.725821710867641),(51,97,-0.733359782708213),(51,98,-0.405529953917051),(51,103,0.861873226111637),(51,106,0.803155613879818),(51,112,0.692190313425092),(51,118,0.601825006866665),(52,89,0.235236671040986),(52,97,-0.749168370616779),(52,106,0.417096469008454),(52,110,-0.566087832270272),(52,111,0.934415723136082),(52,113,-0.0922879726554155),(52,114,0.111575670644246),(52,118,-0.181066316721091),(53,88,-0.258949552903836),(53,90,0.102786339915159),(53,92,-0.738120670186468),(53,94,0.447279274880215),(53,104,-0.736014893032624),(53,105,0.262001403851436),(53,109,-0.590380565813166),(54,85,-0.140720847193823),(54,91,0.801263466292306),(54,94,-0.054261909848323),(54,96,0.350810266426588),(54,111,0.496688741721854),(54,112,-0.129734183782464),(54,113,0.824152348399304),(54,118,-0.0340281380657369),(55,87,-0.492660298471023),(55,95,-0.142979216895047),(55,107,0.710470900601215),(55,110,-0.41148106326487),(55,117,-0.742240668965728),(56,107,-0.867244483779412),(56,111,-0.898220770897549),(56,113,0.122806482131413),(56,114,0.796624652851955),(57,87,-0.122501297036653),(57,90,0.748496963408307),(57,91,0.406750694296091),(57,92,-0.41621143223365),(57,93,0.0911893063142796),(57,94,0.377971739860225),(57,95,0.115359965819269),(57,96,-0.576158940397351),(57,100,-0.86886196478164),(57,102,0.821039460432752),(57,103,-0.624164555803095),(57,115,0.418958098086489),(58,86,-0.398632770775475),(58,87,0.705710013122959),(58,89,0.556321909237953),(58,90,0.746910000915555),(58,95,-0.372325815607166),(58,96,-0.337168492690817),(58,101,0.540757469405194),(58,103,0.141758476516007),(58,109,0.336832789086581),(58,110,0.0999176000244148),(58,113,0.605273598437452),(58,114,-0.0723899044770653),(58,115,-0.770470290231025),(58,118,0.651295510727256),(59,85,0.0379955442976165),(59,86,-0.567827387310404),(59,90,0.0245063631092257),(59,91,-0.424695577867977),(59,93,0.51860103152562),(59,97,0.555894650105289),(59,98,-0.410962248603778),(59,100,0.0640888698995941),(59,102,-0.329874568926054),(59,112,-0.398663289284951),(59,114,0.897885067293313),(60,85,0.969267860957671),(60,87,0.0237128818628498),(60,90,0.344645527512436),(60,91,0.56877346110416),(60,96,0.41605883968627),(60,100,-0.486770226142155),(60,101,-0.354197820978423),(60,105,-0.334727011932737),(60,107,0.115512558366649),(60,109,-0.767876216925565),(60,110,-0.641224402600177),(60,114,0.817621387371441),(61,89,-0.717612231818598),(61,94,-0.906949064607685),(61,96,0.0733054597613453),(61,98,-0.296365245521409),(61,100,0.590594195379498),(61,102,0.770653401287881),(61,103,-0.0616168706320383),(61,114,-0.43183690908536),(61,115,-0.898190252388073),(62,93,-0.422376171147801),(62,95,0.189336832789087),(62,107,-0.924832911160619),(62,109,0.363994262520218),(62,110,-0.706900234992523),(62,111,-0.717337565233314),(63,87,0.690969573046052),(63,90,0.681722464674825),(63,93,0.71675771355327),(63,97,0.19876705221717),(63,100,-0.14966277047029),(63,103,0.456221198156682),(63,104,-0.412640766624958),(63,108,0.968565935239723),(63,111,0.188695944090091),(63,114,-0.568742942594684),(63,117,0.556901760917997),(64,87,0.743644520401624),(64,94,0.537583544419691),(64,99,-0.730948820459609),(64,110,-0.798974578081607),(64,112,-0.247352519302957),(64,116,-0.433729056672872),(65,87,0.485457930234687),(65,88,0.509720145268105),(65,90,-0.155796990874966),(65,97,0.532975249488815),(65,99,-0.485091708120975),(65,107,0.0270699179052095),(65,110,0.0847193823053682),(65,111,0.624713888973663),(65,114,0.521439252906888),(65,116,0.815118869594409),(65,117,-0.892300180059206),(66,85,-0.724173711355937),(66,102,-0.754020813623463),(66,105,0.985564745017853),(66,108,0.149754325998718),(66,111,0.939603869747002),(66,115,0.733207190160833),(66,118,0.157689138462477),(67,86,-0.519486068300424),(67,90,0.098300119022187),(67,92,0.980651264992218),(67,104,0.189886165959655),(67,109,-0.693258461256752),(67,111,-0.665272988067263),(68,87,-0.687765129551073),(68,88,0.894741660817286),(68,90,0.614886928922391),(68,93,0.679769280068361),(68,95,0.779625843073824),(68,96,-0.239539780877102),(68,97,-0.141941587572863),(68,103,0.852259895626698),(68,107,0.866176335947752),(68,112,-0.148808252204962),(68,114,0.681691946165349),(69,87,0.582232123783074),(69,88,-0.720297860652486),(69,92,0.520767845698416),(69,94,-0.0209662160100101),(69,95,0.704824976348155),(69,97,0.172521134067812),(69,108,0.315408795434431),(69,113,-0.140873439741203),(69,114,0.132419812616352),(69,118,-0.0280465102084414),(70,85,0.740348521378216),(70,86,0.367473372600482),(70,87,-0.970213934751427),(70,90,-0.266396069215979),(70,96,-0.757377849665822),(70,97,-0.411755729850154),(70,99,0.378917813653981),(70,105,-0.633136997589038),(70,107,0.778527176732688),(70,109,-0.0445265053254799),(70,110,0.859797967467269),(70,111,-0.450117496261483),(71,85,-0.290688802758873),(71,93,-0.840693380535295),(71,96,-0.313272499771111),(71,100,-0.795098727378155),(71,104,-0.963408307138279),(71,106,0.292123172704245),(71,111,0.141392254402295),(71,113,0.421765800958281),(72,94,-0.771385845515305),(72,96,0.186773277993103),(72,99,0.874721518601032),(72,110,0.864711447492904),(72,112,0.401165807061983),(72,114,0.75792718283639),(72,115,0.947691274758141),(72,116,0.471633045442061),(73,88,-0.567461165196692),(73,94,0.549302652058474),(73,99,-0.0524002807702872),(73,100,0.408551286355174),(73,106,0.0116580706198309),(73,110,-0.442030091250343),(73,115,0.572344126712851),(74,90,0.810388500625629),(74,94,0.704794457838679),(74,99,-0.145237586596271),(74,102,0.112338633381146),(74,106,0.732413708914457),(74,107,0.161961729789117),(74,110,0.523453474532304),(74,113,-0.887722403637806),(74,116,0.818842127750481),(75,85,0.887569811090426),(75,86,-0.312173833429975),(75,93,-0.657307657094027),(75,98,-0.378948332163457),(75,103,0.388134403515732),(75,105,-0.411969359416486),(75,111,0.551530503250221),(75,117,0.209723197119053),(76,86,-0.727774895474105),(76,89,0.837092196417127),(76,92,-0.237403485213782),(76,94,0.139805291909543),(76,99,-0.114841151158177),(76,101,-0.338694418164617),(76,103,0.947660756248665),(76,106,0.664174321726127),(76,110,-0.817957090975677),(76,113,0.314310129093295),(77,88,-0.47499008148442),(77,91,-0.0179143650624104),(77,93,0.756218146305734),(77,98,0.929044465468307),(77,101,0.114597003082369),(77,102,0.776879177220985),(77,103,-0.741355632190924),(77,104,0.861812189092685),(77,105,0.189642017883847),(77,109,0.304879909665212),(78,88,-0.594988860744041),(78,93,0.530167546617023),(78,94,-0.941740165410321),(78,101,0.112338633381146),(78,104,-0.24237800225837),(78,110,0.043061616870632),(78,114,-0.407757805108798),(78,116,-0.692953276161992),(78,117,0.559495834223457),(78,118,0.776329844050417),(79,87,0.0455336161381878),(79,92,-0.324777977843562),(79,94,-0.840113528855251),(79,107,0.5646534623249),(79,108,0.461989196447646),(79,114,-0.305703909421064),(79,118,0.981505783257546),(80,87,0.00607318338572344),(80,88,-0.430494094668416),(80,91,-0.309305093539232),(80,99,0.787377544480728),(80,101,0.63319803460799),(80,107,-0.93069246498001),(80,113,0.097293008209479),(81,85,-0.908993804742576),(81,86,-0.347697378460036),(81,90,-0.667867061372723),(81,93,0.00259407330545976),(81,96,-0.229529709768975),(81,97,-0.530411694692831),(81,106,0.717612231818598),(81,107,0.7811822870571),(81,110,-0.884243293557543),(81,115,-0.277932065797906),(82,86,0.0730918301950133),(82,92,-0.43549913022248),(82,110,-0.829645680104984),(82,112,-0.376934110538041),(83,87,0.164067506942961),(83,91,-0.36771752067629),(83,93,-0.527359843745231),(83,101,-0.949736014893033),(83,103,0.60704367198706),(83,105,0.653920102542192),(83,108,0.08737449262978),(84,85,-0.581011383404035),(84,86,0.749931333353679),(84,89,0.806756797997986),(84,95,-0.769981994079409),(84,99,-0.964903714102603),(84,104,0.699179052095096),(84,111,-0.698049867244484),(84,113,0.681539353617969),(84,114,-0.373760185552538)]
orgname='BHNEAT_2_11'
cnodes = 119

import battlecode
import time
import random
import queue

#Start a game
game = battlecode.Game(orgname)

start = time.clock()

# convert to edge list
edgel = [[]] * cnodes
indeg = [0] * cnodes
for a in range(len(edge)):
	edgel[edge[a][0]].append((edge[a][1], edge[a][2]))
	indeg[edge[a][1]] += 1

# establish update order
q = []
qtop = 0
curindeg = indeg.copy ()
for a in range(cnodes):
	if curindeg[a] == 0:
		q.append(a)
while qtop != len(q):
	node = q[qtop]
	qtop += 1
	for a in range(len(edgel[node])):
		curindeg[edgel[node][a][0]] -= 1
		if curindeg[edgel[node][a][0]] == 0:
			q.append(edgel[node][a][0])

# node values
val = [0.0] * cnodes

dirlist = battlecode.Direction.directions()

def EntityAtLoc(state, loc):
	entlist = state.get_entities()
	for entity in entlist:
		if entity.location.distance_to(loc) <= 0.05:
			return entity
	return None

for state in game.turns():
	# Your Code will run within this loop
	for entity in state.get_entities(team=state.my_team): 
		# This line gets all the bots on your team

		# input 1 bias node and 84 feature nodes
		val[0] = 1.0
		val[1] = float(entity.hp)
		if entity.holding == None:
			val[2] = 0.0
		elif entity.holding.team == state.my_team:
			val[2] = 1.0
		elif entity.holding.team == state.other_team:
			val[2] = -1.0
		else:
			val[2] = 0.0
		for a in range(len(dirlist)): # 3-34
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			pre = 3 + a * 4

			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
			elif state.map.tile_at(thisloc) == 'G':
				val[pre + 0] = 1.0
			elif state.map.tile_at(thisloc) == 'D':
				val[pre + 0] = -1.0
			else:
				val[pre + 0] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 1] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 1] = 0.0
			elif locent.team == state.my_team and locent.is_thrower:
				val[pre + 1] = 1.0
			elif locent.team == state.other_team and locent.is_thrower:
				val[pre + 1] = -1.0
			else:
				val[pre + 1] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 2] = 0.0
			locent = EntityAtLoc(state, thisloc)
			if locent == None:
				val[pre + 2] = 0.0
			elif locent.team == state.my_team and locent.is_statue:
				val[pre + 2] = 1.0
			elif locent.team == state.other_team and locent.is_statue:
				val[pre + 2] = -1.0
			else:
				val[pre + 2] = 0.0

			if not state.map.location_on_map(thisloc):
				val[pre + 3] = 1.0
			else:
				val[pre + 3] = 0.0
		for a in range(len(dirlist)): # 35-66
			pre = 35 + a * 4
			thisloc = entity.location
			val[pre+3] = 0.0
			for b in range(7):
				thisloc = thisloc.adjacent_location_in_direction(dirlist[a])
				if not state.map.location_on_map(thisloc):
					val[pre + 0] = 0.0
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					val[pre + 3] = 1.0
					break
				entloc = EntityAtLoc(state, thisloc)
				if entloc != None:
					break
			if not state.map.location_on_map(thisloc):
				pass
			else:
				entloc = EntityAtLoc(state, thisloc)
				if entloc == None:
					val[pre + 1] = 0.0
					val[pre + 2] = 0.0
					if state.map.tile_at(thisloc) == 'G':
						val[pre + 0] = 1.0
					elif state.map.tile_at(thisloc) == 'D':
						val[pre + 0] = -1.0
					else:
						val[pre + 0] = 0.0
				else:
					val[pre + 0] = 0.0
					if entloc.team == state.my_team and entloc.is_thrower:
						val[pre + 1] = 1.0
					elif entloc.team == state.other_team and entloc.is_thrower:
						val[pre + 1] = -1.0
					else:
						val[pre + 1] = 0.0
					if entloc.team == state.my_team and entloc.is_statue:
						val[pre + 2] = 1.0
					elif entloc.team == state.other_team and entloc.is_statue:
						val[pre + 2] = -1.0
					else:
						val[pre + 2] = 0.0
		for a in range(len(dirlist)): # 67-82
			pre = 66 + a * 2
			thisloc = entity.location.adjacent_location_in_direction(dirlist[a])
			if not state.map.location_on_map(thisloc):
				val[pre + 0] = 0.0
				val[pre + 1] = 1.0
			else:
				val[pre + 1] = 0.0
				sector = state.map.sector_at(thisloc)
				if sector.team == state.my_team:
					val[pre + 0] = 1.0
				elif sector.team == state.other_team:
					val[pre + 0] = -1.0
				else:
					val[pre + 0] = 0.0
		val[83] = 0.0
		val[84] = 0.0
		
		# bfs propagate on all nodes

		for a in range(len(q)):
			for b in range(len(edgel[q[a]])):
				val[edgel[q[a]][b][0]] += val[q[a]] * edgel[q[a]][b][1]
					
		# get corresponding max of 34 output nodes
		maxout = val[85]
		maxoutid = 85
		for a in range(85, 119):
			if val[a] > maxout:
				maxout = val[a]
				maxoutid = a

		outval = []
		for a in range(85, 119):
			outval.append((val[a],a))
		stout = sorted(outval, key=lambda curval: curval[0], reverse=True)

		for a in range(len(stout)):
			maxoutid = stout[a][1]
			maxoutid -= 85
			if maxoutid == 0:
				break # do nothing
			elif maxoutid == 1:
				entity.queue_disintegrate()
				break
			elif maxoutid >= 2 and maxoutid <= 9 and entity.can_move(dirlist[maxoutid - 2]):
				entity.queue_move(dirlist[maxoutid - 2])
				break
			elif maxoutid >= 10 and maxoutid <= 17:
				entloc = EntityAtLoc(state, entity.location.adjacent_location_in_direction(dirlist[maxoutid - 10]))
				if entloc != None and entity.can_pickup(entloc):
					entity.queue_pickup(entloc)
					break
			elif maxoutid >= 18 and maxoutid <= 25 and entity.can_throw(dirlist[maxoutid - 18]):
				entity.queue_throw(dirlist[maxoutid - 18])
				break
			elif maxoutid >= 26 and maxoutid <= 33 and entity.can_build(dirlist[maxoutid - 26]):
				entity.queue_build(dirlist[maxoutid - 26])
				break
			else:
				pass

end = time.clock()
# print('clock time: ' + str(end - start))
# print('per round: ' + str((end - start) / 1000))
count = 0
for entity in state.get_entities(team=state.my_team):
	count += 1

file = open('result\\' + orgname + '.txt', 'w')
file.write(str(count - 1))
file.close()